# Test E2E - Suivi d'avancement et persistance
# JoudEnglishApp - Test de sauvegarde et restauration des donnÃ©es

appId: com.hamdanek.JoudEnglishApp
---

# ðŸš€ CRÃ‰ATION D'ACTIVITÃ‰
- launchApp
- waitForAnimationToEnd
- tapOn: "Commencer >"
- waitForAnimationToEnd
- tapOn: "Niveau 1"
- waitForAnimationToEnd
- tapOn: "Vocabulaire"
- waitForAnimationToEnd

# Faire une session d'apprentissage
- assertVisible: "Vocabulaire"
- assertVisible: "1/"

# ComplÃ©ter plusieurs mots pour crÃ©er de la progression
- tapOn: "RÃ©vÃ©ler"
- waitForAnimationToEnd
- tapOn: "Mot suivant"
- waitForAnimationToEnd
- assertVisible: "2/"

- tapOn: "RÃ©vÃ©ler"
- waitForAnimationToEnd
- tapOn: "Mot suivant"
- waitForAnimationToEnd
- assertVisible: "3/"

- tapOn: "RÃ©vÃ©ler"
- waitForAnimationToEnd
- tapOn: "Mot suivant"
- waitForAnimationToEnd
- assertVisible: "4/"

- tapOn: "RÃ©vÃ©ler"
- waitForAnimationToEnd
- tapOn: "Mot suivant"
- waitForAnimationToEnd
- assertVisible: "5/"

# ðŸ’¾ SAUVEGARDE AUTOMATIQUE
# Retourner au dashboard pour dÃ©clencher la sauvegarde
- pressKey: "Back"
- waitForAnimationToEnd
- pressKey: "Back"
- waitForAnimationToEnd
- pressKey: "Back"
- waitForAnimationToEnd
- assertVisible: "Dashboard"

# VÃ©rifier que l'activitÃ© rÃ©cente est affichÃ©e
- assertVisible:
    text: "Reprendre"
    optional: true
- assertVisible:
    text: "Vocabulaire"
    optional: true
- assertVisible:
    text: "Niv 1"
    optional: true

# ðŸ“Š MÃ‰TRIQUES DE PROGRESSION
# VÃ©rifier les mÃ©triques sur le dashboard
- assertVisible:
    text: "mots"
    optional: true
- assertVisible:
    text: "%"
    optional: true

# ðŸ”„ TEST DE PERSISTANCE
# Simuler redÃ©marrage en relanÃ§ant l'app
- stopApp
- launchApp
- waitForAnimationToEnd

# VÃ©rifier que les donnÃ©es sont restaurÃ©es
- assertVisible:
    text: "Dashboard"
    optional: true
- assertVisible:
    text: "Reprendre"
    optional: true
- assertVisible:
    text: "Vocabulaire"
    optional: true

# ðŸ“ˆ CONTINUATION DE L'ACTIVITÃ‰
# Reprendre l'activitÃ© sauvegardÃ©e
- tapOn:
    text: "Continuer â–¶ï¸"
    optional: true
- tapOn:
    text: "Reprendre"
    optional: true
- waitForAnimationToEnd
- assertVisible: "Vocabulaire"

# VÃ©rifier qu'on reprend oÃ¹ on s'Ã©tait arrÃªtÃ©
- assertVisible:
    text: "5/"
    optional: true

# Continuer l'exercice
- tapOn: "RÃ©vÃ©ler"
- waitForAnimationToEnd
- tapOn: "Mot suivant"
- waitForAnimationToEnd
- assertVisible:
    text: "6/"
    optional: true

# ðŸ  RETOUR ET VÃ‰RIFICATION FINALE
- pressKey: "Back"
- waitForAnimationToEnd
- pressKey: "Back"
- waitForAnimationToEnd
- pressKey: "Back"
- waitForAnimationToEnd
- assertVisible:
    text: "Dashboard"
    optional: true

# VÃ©rifier que la progression a Ã©tÃ© mise Ã  jour
- assertVisible:
    text: "Reprendre"
    optional: true
- assertVisible:
    text: "6/"
    optional: true

# ðŸ“Š VÃ‰RIFICATION NIVEAUX
# Aller voir la progression dans les niveaux
- tapOn: "Commencer >"
- waitForAnimationToEnd
- assertVisible: "Niveaux"
- assertVisible: "Niveau 1"

# Le niveau 1 devrait montrer de la progression
- assertVisible:
    text: "%"
    optional: true

# ðŸŽ¯ TEST MULTI-EXERCICES
# Tester la progression sur plusieurs exercices
- tapOn: "Niveau 1"
- waitForAnimationToEnd
- tapOn: "Expressions"
- waitForAnimationToEnd
- assertVisible: "Expressions"

# Faire quelques expressions
- tapOn: "RÃ©vÃ©ler"
- waitForAnimationToEnd
- tapOn: "Suivant"
- waitForAnimationToEnd
- tapOn: "RÃ©vÃ©ler"
- waitForAnimationToEnd
- tapOn: "Suivant"
- waitForAnimationToEnd

# Retour pour vÃ©rifier progression globale
- pressKey: "Back"
- waitForAnimationToEnd
- pressKey: "Back"
- waitForAnimationToEnd
- assertVisible: "Niveaux"

# La progression du niveau 1 devrait avoir augmentÃ©
- assertVisible: "Niveau 1"
- assertVisible:
    text: "%"
    optional: true

# âœ… RETOUR FINAL
- pressKey: "Back"
- waitForAnimationToEnd
- assertVisible:
    text: "Dashboard"
    optional: true