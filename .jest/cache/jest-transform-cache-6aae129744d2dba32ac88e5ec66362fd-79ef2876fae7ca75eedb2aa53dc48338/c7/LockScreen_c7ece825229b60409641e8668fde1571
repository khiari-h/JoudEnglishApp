4821b8a356dbef248742e7c5e7703a26
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = require("react");
var _reactNative = require("react-native");
var _LockContext = require("../../contexts/LockContext");
var _ForgotPinScreen = _interopRequireDefault(require("./ForgotPinScreen"));
var _EmergencyResetScreen = _interopRequireDefault(require("./EmergencyResetScreen"));
var Lock = _interopRequireWildcard(require("../../services/lockService"));
var _propTypes = _interopRequireDefault(require("prop-types"));
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
var LockScreen = function LockScreen() {
  var _useLock = (0, _LockContext.useLock)(),
    unlockWithPin = _useLock.unlockWithPin;
  var _useState = (0, _react.useState)(''),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    pin = _useState2[0],
    setPin = _useState2[1];
  var _useState3 = (0, _react.useState)(''),
    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
    error = _useState4[0],
    setError = _useState4[1];
  var _useState5 = (0, _react.useState)('lock'),
    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),
    view = _useState6[0],
    setView = _useState6[1];
  var _useState7 = (0, _react.useState)(''),
    _useState8 = (0, _slicedToArray2.default)(_useState7, 2),
    newPin1 = _useState8[0],
    setNewPin1 = _useState8[1];
  var _useState9 = (0, _react.useState)(''),
    _useState0 = (0, _slicedToArray2.default)(_useState9, 2),
    newPin2 = _useState0[0],
    setNewPin2 = _useState0[1];
  var onSubmit = (0, _react.useCallback)((0, _asyncToGenerator2.default)(function* () {
    var res = yield unlockWithPin(pin);
    if (!res.ok) {
      setError(res.reason === 'lockout' ? 'Trop de tentatives. RÃ©essaie plus tard.' : 'PIN incorrect');
    }
  }), [pin, unlockWithPin]);
  if (view === 'forgot') {
    return (0, _jsxRuntime.jsx)(_ForgotPinScreen.default, {
      onReset: function onReset() {
        return setView('newpin');
      }
    });
  }
  if (view === 'reset') {
    return (0, _jsxRuntime.jsx)(_EmergencyResetScreen.default, {
      onDone: function onDone() {
        return setView('lock');
      }
    });
  }
  if (view === 'newpin') {
    var onSaveNewPin = function () {
      var _ref2 = (0, _asyncToGenerator2.default)(function* () {
        if (!newPin1 || newPin1 !== newPin2 || newPin1.length < 4) return;
        yield Lock.enableLock();
        yield Lock.setPin(newPin1);
        yield unlockWithPin(newPin1);
      });
      return function onSaveNewPin() {
        return _ref2.apply(this, arguments);
      };
    }();
    return (0, _jsxRuntime.jsxs)(_reactNative.View, {
      style: {
        flex: 1,
        alignItems: 'center',
        justifyContent: 'center',
        padding: 24
      },
      children: [(0, _jsxRuntime.jsx)(_reactNative.Text, {
        style: {
          fontSize: 20,
          fontWeight: '700',
          marginBottom: 12
        },
        children: "Nouveau PIN"
      }), (0, _jsxRuntime.jsx)(_reactNative.TextInput, {
        value: newPin1,
        onChangeText: setNewPin1,
        placeholder: "Nouveau PIN",
        secureTextEntry: true,
        keyboardType: "number-pad",
        style: {
          width: '80%',
          borderWidth: 1,
          borderColor: '#E5E7EB',
          borderRadius: 8,
          padding: 12,
          marginBottom: 8
        },
        testID: "newpin-input-1"
      }), (0, _jsxRuntime.jsx)(_reactNative.TextInput, {
        value: newPin2,
        onChangeText: setNewPin2,
        placeholder: "Confirmer le PIN",
        secureTextEntry: true,
        keyboardType: "number-pad",
        style: {
          width: '80%',
          borderWidth: 1,
          borderColor: '#E5E7EB',
          borderRadius: 8,
          padding: 12,
          marginBottom: 12
        },
        testID: "newpin-input-2"
      }), (0, _jsxRuntime.jsx)(_reactNative.TouchableOpacity, {
        onPress: onSaveNewPin,
        style: {
          backgroundColor: '#10B981',
          paddingVertical: 12,
          paddingHorizontal: 18,
          borderRadius: 10
        },
        testID: "newpin-save",
        children: (0, _jsxRuntime.jsx)(_reactNative.Text, {
          style: {
            color: 'white',
            fontWeight: '700'
          },
          children: "Enregistrer"
        })
      })]
    });
  }
  return (0, _jsxRuntime.jsxs)(_reactNative.View, {
    style: {
      flex: 1,
      alignItems: 'center',
      justifyContent: 'center',
      padding: 24
    },
    testID: "lock-screen",
    children: [(0, _jsxRuntime.jsx)(_reactNative.Text, {
      style: {
        fontSize: 22,
        fontWeight: '700',
        marginBottom: 12
      },
      children: "D\xE9verrouiller"
    }), (0, _jsxRuntime.jsx)(_reactNative.TextInput, {
      value: pin,
      onChangeText: setPin,
      placeholder: "Code PIN",
      secureTextEntry: true,
      keyboardType: "number-pad",
      style: {
        width: '80%',
        borderWidth: 1,
        borderColor: '#E5E7EB',
        borderRadius: 8,
        padding: 12,
        marginBottom: 8
      },
      testID: "pin-input"
    }), !!error && (0, _jsxRuntime.jsx)(_reactNative.Text, {
      style: {
        color: '#DC2626',
        marginBottom: 8
      },
      children: error
    }), (0, _jsxRuntime.jsx)(_reactNative.TouchableOpacity, {
      onPress: onSubmit,
      style: {
        backgroundColor: '#3B82F6',
        paddingVertical: 12,
        paddingHorizontal: 18,
        borderRadius: 10,
        marginBottom: 12
      },
      testID: "pin-submit",
      children: (0, _jsxRuntime.jsx)(_reactNative.Text, {
        style: {
          color: 'white',
          fontWeight: '700'
        },
        children: "D\xE9verrouiller"
      })
    }), (0, _jsxRuntime.jsx)(_reactNative.TouchableOpacity, {
      onPress: function onPress() {
        return setView('forgot');
      },
      testID: "forgot-pin-link",
      style: {
        marginBottom: 8
      },
      children: (0, _jsxRuntime.jsx)(_reactNative.Text, {
        style: {
          color: '#3B82F6',
          fontWeight: '600'
        },
        children: "PIN oubli\xE9 ?"
      })
    }), (0, _jsxRuntime.jsx)(_reactNative.TouchableOpacity, {
      onPress: function onPress() {
        return setView('reset');
      },
      testID: "emergency-reset-link",
      children: (0, _jsxRuntime.jsx)(_reactNative.Text, {
        style: {
          color: '#DC2626',
          fontWeight: '600'
        },
        children: "R\xE9initialisation d'urgence"
      })
    })]
  });
};
LockScreen.propTypes = {};
var _default = exports.default = LockScreen;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX3JlYWN0TmF0aXZlIiwiX0xvY2tDb250ZXh0IiwiX0ZvcmdvdFBpblNjcmVlbiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfRW1lcmdlbmN5UmVzZXRTY3JlZW4iLCJMb2NrIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfcHJvcFR5cGVzIiwiX2pzeFJ1bnRpbWUiLCJlIiwidCIsIldlYWtNYXAiLCJyIiwibiIsIl9fZXNNb2R1bGUiLCJvIiwiaSIsImYiLCJfX3Byb3RvX18iLCJkZWZhdWx0IiwiaGFzIiwiZ2V0Iiwic2V0IiwiX3QiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIkxvY2tTY3JlZW4iLCJfdXNlTG9jayIsInVzZUxvY2siLCJ1bmxvY2tXaXRoUGluIiwiX3VzZVN0YXRlIiwidXNlU3RhdGUiLCJfdXNlU3RhdGUyIiwiX3NsaWNlZFRvQXJyYXkyIiwicGluIiwic2V0UGluIiwiX3VzZVN0YXRlMyIsIl91c2VTdGF0ZTQiLCJlcnJvciIsInNldEVycm9yIiwiX3VzZVN0YXRlNSIsIl91c2VTdGF0ZTYiLCJ2aWV3Iiwic2V0VmlldyIsIl91c2VTdGF0ZTciLCJfdXNlU3RhdGU4IiwibmV3UGluMSIsInNldE5ld1BpbjEiLCJfdXNlU3RhdGU5IiwiX3VzZVN0YXRlMCIsIm5ld1BpbjIiLCJzZXROZXdQaW4yIiwib25TdWJtaXQiLCJ1c2VDYWxsYmFjayIsIl9hc3luY1RvR2VuZXJhdG9yMiIsInJlcyIsIm9rIiwicmVhc29uIiwianN4Iiwib25SZXNldCIsIm9uRG9uZSIsIm9uU2F2ZU5ld1BpbiIsIl9yZWYyIiwibGVuZ3RoIiwiZW5hYmxlTG9jayIsImFwcGx5IiwiYXJndW1lbnRzIiwianN4cyIsIlZpZXciLCJzdHlsZSIsImZsZXgiLCJhbGlnbkl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJwYWRkaW5nIiwiY2hpbGRyZW4iLCJUZXh0IiwiZm9udFNpemUiLCJmb250V2VpZ2h0IiwibWFyZ2luQm90dG9tIiwiVGV4dElucHV0IiwidmFsdWUiLCJvbkNoYW5nZVRleHQiLCJwbGFjZWhvbGRlciIsInNlY3VyZVRleHRFbnRyeSIsImtleWJvYXJkVHlwZSIsIndpZHRoIiwiYm9yZGVyV2lkdGgiLCJib3JkZXJDb2xvciIsImJvcmRlclJhZGl1cyIsInRlc3RJRCIsIlRvdWNoYWJsZU9wYWNpdHkiLCJvblByZXNzIiwiYmFja2dyb3VuZENvbG9yIiwicGFkZGluZ1ZlcnRpY2FsIiwicGFkZGluZ0hvcml6b250YWwiLCJjb2xvciIsInByb3BUeXBlcyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIkxvY2tTY3JlZW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3NjcmVlbnMvTG9jay9Mb2NrU2NyZWVuLmpzXHJcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgVmlldywgVGV4dCwgVGV4dElucHV0LCBUb3VjaGFibGVPcGFjaXR5IH0gZnJvbSAncmVhY3QtbmF0aXZlJztcclxuaW1wb3J0IHsgdXNlTG9jayB9IGZyb20gJy4uLy4uL2NvbnRleHRzL0xvY2tDb250ZXh0JztcclxuaW1wb3J0IEZvcmdvdFBpblNjcmVlbiBmcm9tICcuL0ZvcmdvdFBpblNjcmVlbic7XHJcbmltcG9ydCBFbWVyZ2VuY3lSZXNldFNjcmVlbiBmcm9tICcuL0VtZXJnZW5jeVJlc2V0U2NyZWVuJztcclxuaW1wb3J0ICogYXMgTG9jayBmcm9tICcuLi8uLi9zZXJ2aWNlcy9sb2NrU2VydmljZSc7aW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxyXG5cclxuY29uc3QgTG9ja1NjcmVlbiA9ICgpID0+IHtcclxuICBjb25zdCB7IHVubG9ja1dpdGhQaW4gfSA9IHVzZUxvY2soKTtcclxuICBjb25zdCBbcGluLCBzZXRQaW5dID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFt2aWV3LCBzZXRWaWV3XSA9IHVzZVN0YXRlKCdsb2NrJyk7IC8vIGxvY2sgfCBmb3Jnb3QgfCByZXNldCB8IG5ld3BpblxyXG4gIGNvbnN0IFtuZXdQaW4xLCBzZXROZXdQaW4xXSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbbmV3UGluMiwgc2V0TmV3UGluMl0gPSB1c2VTdGF0ZSgnJyk7XHJcblxyXG4gIGNvbnN0IG9uU3VibWl0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgdW5sb2NrV2l0aFBpbihwaW4pO1xyXG4gICAgaWYgKCFyZXMub2spIHtcclxuICAgICAgc2V0RXJyb3IocmVzLnJlYXNvbiA9PT0gJ2xvY2tvdXQnID8gJ1Ryb3AgZGUgdGVudGF0aXZlcy4gUsOpZXNzYWllIHBsdXMgdGFyZC4nIDogJ1BJTiBpbmNvcnJlY3QnKTtcclxuICAgIH1cclxuICB9LCBbcGluLCB1bmxvY2tXaXRoUGluXSk7XHJcblxyXG4gIGlmICh2aWV3ID09PSAnZm9yZ290Jykge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPEZvcmdvdFBpblNjcmVlbiBvblJlc2V0PXsoKSA9PiBzZXRWaWV3KCduZXdwaW4nKX0gLz5cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBpZiAodmlldyA9PT0gJ3Jlc2V0Jykge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPEVtZXJnZW5jeVJlc2V0U2NyZWVuIG9uRG9uZT17KCkgPT4gc2V0VmlldygnbG9jaycpfSAvPlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGlmICh2aWV3ID09PSAnbmV3cGluJykge1xyXG4gICAgY29uc3Qgb25TYXZlTmV3UGluID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICBpZiAoIW5ld1BpbjEgfHwgbmV3UGluMSAhPT0gbmV3UGluMiB8fCBuZXdQaW4xLmxlbmd0aCA8IDQpIHJldHVybjtcclxuICAgICAgYXdhaXQgTG9jay5lbmFibGVMb2NrKCk7XHJcbiAgICAgIGF3YWl0IExvY2suc2V0UGluKG5ld1BpbjEpO1xyXG4gICAgICBhd2FpdCB1bmxvY2tXaXRoUGluKG5ld1BpbjEpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxWaWV3IHN0eWxlPXt7IGZsZXg6IDEsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsIHBhZGRpbmc6IDI0IH19PlxyXG4gICAgICAgIDxUZXh0IHN0eWxlPXt7IGZvbnRTaXplOiAyMCwgZm9udFdlaWdodDogJzcwMCcsIG1hcmdpbkJvdHRvbTogMTIgfX0+Tm91dmVhdSBQSU48L1RleHQ+XHJcbiAgICAgICAgPFRleHRJbnB1dFxyXG4gICAgICAgICAgdmFsdWU9e25ld1BpbjF9XHJcbiAgICAgICAgICBvbkNoYW5nZVRleHQ9e3NldE5ld1BpbjF9XHJcbiAgICAgICAgICBwbGFjZWhvbGRlcj1cIk5vdXZlYXUgUElOXCJcclxuICAgICAgICAgIHNlY3VyZVRleHRFbnRyeVxyXG4gICAgICAgICAga2V5Ym9hcmRUeXBlPVwibnVtYmVyLXBhZFwiXHJcbiAgICAgICAgICBzdHlsZT17eyB3aWR0aDogJzgwJScsIGJvcmRlcldpZHRoOiAxLCBib3JkZXJDb2xvcjogJyNFNUU3RUInLCBib3JkZXJSYWRpdXM6IDgsIHBhZGRpbmc6IDEyLCBtYXJnaW5Cb3R0b206IDggfX1cclxuICAgICAgICAgIHRlc3RJRD1cIm5ld3Bpbi1pbnB1dC0xXCJcclxuICAgICAgICAvPlxyXG4gICAgICAgIDxUZXh0SW5wdXRcclxuICAgICAgICAgIHZhbHVlPXtuZXdQaW4yfVxyXG4gICAgICAgICAgb25DaGFuZ2VUZXh0PXtzZXROZXdQaW4yfVxyXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJDb25maXJtZXIgbGUgUElOXCJcclxuICAgICAgICAgIHNlY3VyZVRleHRFbnRyeVxyXG4gICAgICAgICAga2V5Ym9hcmRUeXBlPVwibnVtYmVyLXBhZFwiXHJcbiAgICAgICAgICBzdHlsZT17eyB3aWR0aDogJzgwJScsIGJvcmRlcldpZHRoOiAxLCBib3JkZXJDb2xvcjogJyNFNUU3RUInLCBib3JkZXJSYWRpdXM6IDgsIHBhZGRpbmc6IDEyLCBtYXJnaW5Cb3R0b206IDEyIH19XHJcbiAgICAgICAgICB0ZXN0SUQ9XCJuZXdwaW4taW5wdXQtMlwiXHJcbiAgICAgICAgLz5cclxuICAgICAgICA8VG91Y2hhYmxlT3BhY2l0eSBvblByZXNzPXtvblNhdmVOZXdQaW59IHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogJyMxMEI5ODEnLCBwYWRkaW5nVmVydGljYWw6IDEyLCBwYWRkaW5nSG9yaXpvbnRhbDogMTgsIGJvcmRlclJhZGl1czogMTAgfX0gdGVzdElEPVwibmV3cGluLXNhdmVcIj5cclxuICAgICAgICAgIDxUZXh0IHN0eWxlPXt7IGNvbG9yOiAnd2hpdGUnLCBmb250V2VpZ2h0OiAnNzAwJyB9fT5FbnJlZ2lzdHJlcjwvVGV4dD5cclxuICAgICAgICA8L1RvdWNoYWJsZU9wYWNpdHk+XHJcbiAgICAgIDwvVmlldz5cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPFZpZXcgc3R5bGU9e3sgZmxleDogMSwgYWxpZ25JdGVtczogJ2NlbnRlcicsIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJywgcGFkZGluZzogMjQgfX0gdGVzdElEPVwibG9jay1zY3JlZW5cIj5cclxuICAgICAgPFRleHQgc3R5bGU9e3sgZm9udFNpemU6IDIyLCBmb250V2VpZ2h0OiAnNzAwJywgbWFyZ2luQm90dG9tOiAxMiB9fT5Ew6l2ZXJyb3VpbGxlcjwvVGV4dD5cclxuICAgICAgPFRleHRJbnB1dFxyXG4gICAgICAgIHZhbHVlPXtwaW59XHJcbiAgICAgICAgb25DaGFuZ2VUZXh0PXtzZXRQaW59XHJcbiAgICAgICAgcGxhY2Vob2xkZXI9XCJDb2RlIFBJTlwiXHJcbiAgICAgICAgc2VjdXJlVGV4dEVudHJ5XHJcbiAgICAgICAga2V5Ym9hcmRUeXBlPVwibnVtYmVyLXBhZFwiXHJcbiAgICAgICAgc3R5bGU9e3sgd2lkdGg6ICc4MCUnLCBib3JkZXJXaWR0aDogMSwgYm9yZGVyQ29sb3I6ICcjRTVFN0VCJywgYm9yZGVyUmFkaXVzOiA4LCBwYWRkaW5nOiAxMiwgbWFyZ2luQm90dG9tOiA4IH19XHJcbiAgICAgICAgdGVzdElEPVwicGluLWlucHV0XCJcclxuICAgICAgLz5cclxuICAgICAgeyEhZXJyb3IgJiYgPFRleHQgc3R5bGU9e3sgY29sb3I6ICcjREMyNjI2JywgbWFyZ2luQm90dG9tOiA4IH19PntlcnJvcn08L1RleHQ+fVxyXG4gICAgICA8VG91Y2hhYmxlT3BhY2l0eSBvblByZXNzPXtvblN1Ym1pdH0gc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiAnIzNCODJGNicsIHBhZGRpbmdWZXJ0aWNhbDogMTIsIHBhZGRpbmdIb3Jpem9udGFsOiAxOCwgYm9yZGVyUmFkaXVzOiAxMCwgbWFyZ2luQm90dG9tOiAxMiB9fSB0ZXN0SUQ9XCJwaW4tc3VibWl0XCI+XHJcbiAgICAgICAgPFRleHQgc3R5bGU9e3sgY29sb3I6ICd3aGl0ZScsIGZvbnRXZWlnaHQ6ICc3MDAnIH19PkTDqXZlcnJvdWlsbGVyPC9UZXh0PlxyXG4gICAgICA8L1RvdWNoYWJsZU9wYWNpdHk+XHJcbiAgICAgIDxUb3VjaGFibGVPcGFjaXR5IG9uUHJlc3M9eygpID0+IHNldFZpZXcoJ2ZvcmdvdCcpfSB0ZXN0SUQ9XCJmb3Jnb3QtcGluLWxpbmtcIiBzdHlsZT17eyBtYXJnaW5Cb3R0b206IDggfX0+XHJcbiAgICAgICAgPFRleHQgc3R5bGU9e3sgY29sb3I6ICcjM0I4MkY2JywgZm9udFdlaWdodDogJzYwMCcgfX0+UElOIG91Ymxpw6kgPzwvVGV4dD5cclxuICAgICAgPC9Ub3VjaGFibGVPcGFjaXR5PlxyXG4gICAgICA8VG91Y2hhYmxlT3BhY2l0eSBvblByZXNzPXsoKSA9PiBzZXRWaWV3KCdyZXNldCcpfSB0ZXN0SUQ9XCJlbWVyZ2VuY3ktcmVzZXQtbGlua1wiPlxyXG4gICAgICAgIDxUZXh0IHN0eWxlPXt7IGNvbG9yOiAnI0RDMjYyNicsIGZvbnRXZWlnaHQ6ICc2MDAnIH19PlLDqWluaXRpYWxpc2F0aW9uIGQndXJnZW5jZTwvVGV4dD5cclxuICAgICAgPC9Ub3VjaGFibGVPcGFjaXR5PlxyXG4gICAgPC9WaWV3PlxyXG4gICk7XHJcbn07XHJcblxyXG5cbkxvY2tTY3JlZW4ucHJvcFR5cGVzID0ge1xuICAvLyBBdWN1bmUgcHJvcCBkw6l0ZWN0w6llIGF1dG9tYXRpcXVlbWVudFxufTtcblxuZXhwb3J0IGRlZmF1bHQgTG9ja1NjcmVlbjtcclxuXHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQSxJQUFBQSxNQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxZQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxZQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxnQkFBQSxHQUFBQyxzQkFBQSxDQUFBSixPQUFBO0FBQ0EsSUFBQUsscUJBQUEsR0FBQUQsc0JBQUEsQ0FBQUosT0FBQTtBQUNBLElBQUFNLElBQUEsR0FBQUMsdUJBQUEsQ0FBQVAsT0FBQTtBQUFtRCxJQUFBUSxVQUFBLEdBQUFKLHNCQUFBLENBQUFKLE9BQUE7QUFBbUMsSUFBQVMsV0FBQSxHQUFBVCxPQUFBO0FBQUEsU0FBQU8sd0JBQUFHLENBQUEsRUFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxNQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFMLHVCQUFBLFlBQUFBLHdCQUFBRyxDQUFBLEVBQUFDLENBQUEsU0FBQUEsQ0FBQSxJQUFBRCxDQUFBLElBQUFBLENBQUEsQ0FBQUssVUFBQSxTQUFBTCxDQUFBLE1BQUFNLENBQUEsRUFBQUMsQ0FBQSxFQUFBQyxDQUFBLEtBQUFDLFNBQUEsUUFBQUMsT0FBQSxFQUFBVixDQUFBLGlCQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFNBQUFR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