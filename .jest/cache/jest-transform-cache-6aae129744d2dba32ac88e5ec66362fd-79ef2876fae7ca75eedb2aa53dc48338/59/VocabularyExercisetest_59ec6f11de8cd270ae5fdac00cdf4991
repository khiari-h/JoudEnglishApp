cffe987b0eaf15baeb44d2728dd9ac0f
_getJestObj().mock('@react-navigation/native', function () {
  return {
    useNavigation: jest.fn()
  };
});
_getJestObj().mock('expo-router', function () {
  return {
    router: {
      push: jest.fn()
    }
  };
});
_getJestObj().mock('../../../../src/screens/exercises/vocabulary/hooks/useVocabulary', function () {
  return {
    __esModule: true,
    default: jest.fn()
  };
});
_getJestObj().mock('../../../../src/hooks/useLastActivity', function () {
  return {
    __esModule: true,
    default: jest.fn(function () {
      return {
        saveActivity: jest.fn()
      };
    })
  };
});
_getJestObj().mock('../../../../src/components/layout/Container', function () {
  var _require = require('react-native'),
    View = _require.View;
  return function (_ref) {
    var children = _ref.children,
      safeAreaEdges = _ref.safeAreaEdges,
      props = (0, _objectWithoutProperties2.default)(_ref, _excluded);
    return (0, _jsxRuntime.jsx)(View, Object.assign({
      testID: "Container"
    }, props, {
      children: children
    }));
  };
});
_getJestObj().mock('../../../../src/screens/exercises/vocabulary/VocabularyHeader', function () {
  var _require2 = require('react-native'),
    View = _require2.View;
  return function (props) {
    return (0, _jsxRuntime.jsx)(View, Object.assign({
      testID: "VocabularyHeader"
    }, props));
  };
});
_getJestObj().mock('../../../../src/screens/exercises/vocabulary/VocabularyCategorySelector', function () {
  var _require3 = require('react-native'),
    View = _require3.View;
  return function (props) {
    return (0, _jsxRuntime.jsx)(View, Object.assign({
      testID: "VocabularyCategorySelector"
    }, props));
  };
});
_getJestObj().mock('../../../../src/screens/exercises/vocabulary/VocabularyProgress', function () {
  var _require4 = require('react-native'),
    View = _require4.View;
  return function (props) {
    return (0, _jsxRuntime.jsx)(View, Object.assign({
      testID: "VocabularyProgress"
    }, props));
  };
});
_getJestObj().mock('../../../../src/screens/exercises/vocabulary/VocabularyWordSection', function () {
  var _require5 = require('react-native'),
    View = _require5.View;
  return function (props) {
    return (0, _jsxRuntime.jsx)(View, Object.assign({
      testID: "VocabularyWordSection"
    }, props));
  };
});
_getJestObj().mock('../../../../src/screens/exercises/vocabulary/VocabularyNavigation', function () {
  var _require6 = require('react-native'),
    View = _require6.View;
  return function (props) {
    return (0, _jsxRuntime.jsx)(View, Object.assign({
      testID: "VocabularyNavigation"
    }, props));
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _vocabulary = _interopRequireDefault(require("../../../../src/screens/exercises/vocabulary"));
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["children", "safeAreaEdges"];
function _getJestObj() {
  var _require7 = require("@jest/globals"),
    jest = _require7.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockUseVocabulary = require('../../../../src/screens/exercises/vocabulary/hooks/useVocabulary').default;
var mockUseLastActivity = require('../../../../src/hooks/useLastActivity').default;
describe('VocabularyExercise', function () {
  var mockRouteParams = {
    level: 'A1',
    mode: 'classic'
  };
  var mockNavigationGoBack = jest.fn();
  var mockRouterPush = jest.fn();
  var mockSaveActivity = jest.fn();
  beforeEach(function () {
    jest.clearAllMocks();
    require('@react-navigation/native').useNavigation.mockReturnValue({
      goBack: mockNavigationGoBack
    });
    require('expo-router').router.push.mockImplementation(mockRouterPush);
    mockUseLastActivity.mockReturnValue({
      saveActivity: mockSaveActivity
    });
    mockUseVocabulary.mockReturnValue({
      categoryIndex: 0,
      wordIndex: 0,
      showTranslation: false,
      completedWords: [],
      loaded: true,
      showDetailedProgress: false,
      currentWord: {
        word: 'hello',
        translation: 'bonjour'
      },
      currentCategory: {
        name: 'Greetings'
      },
      changeCategory: jest.fn(),
      toggleTranslation: jest.fn(),
      toggleDetailedProgress: jest.fn(),
      handleNext: jest.fn(function () {
        return {
          completed: false
        };
      }),
      handlePrevious: jest.fn(),
      canGoToPrevious: false,
      isLastWordInExercise: false,
      display: {
        categories: [{
          name: 'Greetings'
        }],
        wordCounter: '1/10'
      },
      saveData: jest.fn()
    });
  });
  it('should render loading state when not loaded', function () {
    mockUseVocabulary.mockReturnValueOnce({
      loaded: false
    });
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_vocabulary.default, {
      route: {
        params: mockRouteParams
      }
    }));
    expect(_reactNative.screen.getByTestId('Container')).toBeTruthy();
    expect(_reactNative.screen.getByTestId('activity-indicator')).toBeTruthy();
  });
  it('should render main components when loaded', function () {
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_vocabulary.default, {
      route: {
        params: mockRouteParams
      }
    }));
    expect(_reactNative.screen.getByTestId('VocabularyHeader')).toBeTruthy();
    expect(_reactNative.screen.getByTestId('VocabularyProgress')).toBeTruthy();
    expect(_reactNative.screen.getByTestId('VocabularyCategorySelector')).toBeTruthy();
    expect(_reactNative.screen.getByTestId('VocabularyWordSection')).toBeTruthy();
    expect(_reactNative.screen.getByTestId('VocabularyNavigation')).toBeTruthy();
  });
  it('should call useVocabulary with correct parameters', function () {
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_vocabulary.default, {
      route: {
        params: mockRouteParams
      }
    }));
    expect(mockUseVocabulary).toHaveBeenCalledWith(expect.any(Object), mockRouteParams.level, mockRouteParams.mode);
  });
  it('should save activity on wordIndex change', (0, _asyncToGenerator2.default)(function* () {
    var mockHandleNext = jest.fn(function () {
      return {
        completed: false
      };
    });
    mockUseVocabulary.mockReturnValue({
      categoryIndex: 0,
      wordIndex: 0,
      showTranslation: false,
      completedWords: [],
      loaded: true,
      showDetailedProgress: false,
      currentWord: {
        word: 'hello',
        translation: 'bonjour'
      },
      currentCategory: {
        name: 'Greetings'
      },
      changeCategory: jest.fn(),
      toggleTranslation: jest.fn(),
      toggleDetailedProgress: jest.fn(),
      handleNext: mockHandleNext,
      handlePrevious: jest.fn(),
      canGoToPrevious: false,
      isLastWordInExercise: false,
      display: {
        categories: [{
          name: 'Greetings',
          words: [{
            word: 'a'
          }, {
            word: 'b'
          }]
        }],
        wordCounter: '1/2'
      },
      saveData: jest.fn()
    });
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_vocabulary.default, {
        route: {
          params: mockRouteParams
        }
      })),
      rerender = _render.rerender;
    yield (0, _reactNative.waitFor)(function () {
      expect(mockSaveActivity).toHaveBeenCalledWith(expect.objectContaining({
        level: 'A1',
        type: 'vocabulary',
        mode: 'classic',
        metadata: expect.objectContaining({
          word: 0,
          totalWords: 2,
          category: 'Greetings',
          categoryIndex: 0,
          wordIndex: 0
        })
      }));
    });
    mockUseVocabulary.mockReturnValue({
      categoryIndex: 0,
      wordIndex: 1,
      showTranslation: false,
      completedWords: [],
      loaded: true,
      showDetailedProgress: false,
      currentWord: {
        word: 'world',
        translation: 'monde'
      },
      currentCategory: {
        name: 'Greetings'
      },
      changeCategory: jest.fn(),
      toggleTranslation: jest.fn(),
      toggleDetailedProgress: jest.fn(),
      handleNext: mockHandleNext,
      handlePrevious: jest.fn(),
      canGoToPrevious: false,
      isLastWordInExercise: false,
      display: {
        categories: [{
          name: 'Greetings',
          words: [{
            word: 'a'
          }, {
            word: 'b'
          }]
        }],
        wordCounter: '2/2'
      },
      saveData: jest.fn()
    });
    rerender((0, _jsxRuntime.jsx)(_vocabulary.default, {
      route: {
        params: mockRouteParams
      }
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockSaveActivity).toHaveBeenCalledWith(expect.objectContaining({
        metadata: expect.objectContaining({
          word: 1,
          wordIndex: 1
        })
      }));
    });
  }));
  it('should navigate back to exercise selection on back press', function () {
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_vocabulary.default, {
      route: {
        params: mockRouteParams
      }
    }));
    var header = _reactNative.screen.getByTestId('VocabularyHeader');
    (0, _reactNative.fireEvent)(header, 'onBackPress');
    expect(mockRouterPush).toHaveBeenCalledWith({
      pathname: '/tabs/exerciseSelection',
      params: {
        level: 'A1'
      }
    });
  });
  it('should call changeCategory when category is selected', function () {
    var mockChangeCategory = jest.fn();
    mockUseVocabulary.mockReturnValueOnce(Object.assign({}, mockUseVocabulary(), {
      changeCategory: mockChangeCategory,
      display: {
        categories: [{
          name: 'Cat1'
        }, {
          name: 'Cat2'
        }]
      }
    }));
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_vocabulary.default, {
      route: {
        params: mockRouteParams
      }
    }));
    var categorySelector = _reactNative.screen.getByTestId('VocabularyCategorySelector');
    (0, _reactNative.fireEvent)(categorySelector, 'onSelectCategory', 1);
    expect(mockChangeCategory).toHaveBeenCalledWith(1);
  });
  it('should call toggleDetailedProgress when progress is toggled', function () {
    var mockToggleDetailedProgress = jest.fn();
    mockUseVocabulary.mockReturnValueOnce(Object.assign({}, mockUseVocabulary(), {
      toggleDetailedProgress: mockToggleDetailedProgress
    }));
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_vocabulary.default, {
      route: {
        params: mockRouteParams
      }
    }));
    var progress = _reactNative.screen.getByTestId('VocabularyProgress');
    (0, _reactNative.fireEvent)(progress, 'onToggleExpand');
    expect(mockToggleDetailedProgress).toHaveBeenCalled();
  });
  it('should call toggleTranslation when translation is toggled', function () {
    var mockToggleTranslation = jest.fn();
    mockUseVocabulary.mockReturnValueOnce(Object.assign({}, mockUseVocabulary(), {
      toggleTranslation: mockToggleTranslation
    }));
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_vocabulary.default, {
      route: {
        params: mockRouteParams
      }
    }));
    var wordSection = _reactNative.screen.getByTestId('VocabularyWordSection');
    (0, _reactNative.fireEvent)(wordSection, 'onToggleTranslation');
    expect(mockToggleTranslation).toHaveBeenCalled();
  });
  it('should call handleNextWord and saveData on next button press', (0, _asyncToGenerator2.default)(function* () {
    var mockHandleNext = jest.fn(function () {
      return {
        completed: false
      };
    });
    var mockSaveData = jest.fn();
    mockUseVocabulary.mockReturnValueOnce(Object.assign({}, mockUseVocabulary(), {
      handleNext: mockHandleNext,
      saveData: mockSaveData
    }));
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_vocabulary.default, {
      route: {
        params: mockRouteParams
      }
    }));
    var navigation = _reactNative.screen.getByTestId('VocabularyNavigation');
    (0, _reactNative.fireEvent)(navigation, 'onNext');
    expect(mockHandleNext).toHaveBeenCalled();
    yield (0, _reactNative.waitFor)(function () {
      return expect(mockSaveData).toHaveBeenCalled();
    });
  }));
  it('should navigate back when handleNext indicates completion', (0, _asyncToGenerator2.default)(function* () {
    var mockHandleNext = jest.fn(function () {
      return {
        completed: true
      };
    });
    var mockSaveData = jest.fn();
    mockUseVocabulary.mockReturnValueOnce(Object.assign({}, mockUseVocabulary(), {
      handleNext: mockHandleNext,
      saveData: mockSaveData
    }));
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_vocabulary.default, {
      route: {
        params: mockRouteParams
      }
    }));
    var navigation = _reactNative.screen.getByTestId('VocabularyNavigation');
    (0, _reactNative.fireEvent)(navigation, 'onNext');
    expect(mockHandleNext).toHaveBeenCalled();
    yield (0, _reactNative.waitFor)(function () {
      return expect(mockSaveData).toHaveBeenCalled();
    });
    yield (0, _reactNative.waitFor)(function () {
      return expect(mockNavigationGoBack).toHaveBeenCalled();
    });
  }));
  it('should call handlePreviousWord on previous button press', function () {
    var mockHandlePrevious = jest.fn();
    mockUseVocabulary.mockReturnValueOnce(Object.assign({}, mockUseVocabulary(), {
      handlePrevious: mockHandlePrevious
    }));
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_vocabulary.default, {
      route: {
        params: mockRouteParams
      }
    }));
    var navigation = _reactNative.screen.getByTestId('VocabularyNavigation');
    (0, _reactNative.fireEvent)(navigation, 'onPrevious');
    expect(mockHandlePrevious).toHaveBeenCalled();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ1c2VOYXZpZ2F0aW9uIiwiamVzdCIsImZuIiwicm91dGVyIiwicHVzaCIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwic2F2ZUFjdGl2aXR5IiwiX3JlcXVpcmUiLCJyZXF1aXJlIiwiVmlldyIsIl9yZWYiLCJjaGlsZHJlbiIsInNhZmVBcmVhRWRnZXMiLCJwcm9wcyIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllczIiLCJfZXhjbHVkZWQiLCJfanN4UnVudGltZSIsImpzeCIsIk9iamVjdCIsImFzc2lnbiIsInRlc3RJRCIsIl9yZXF1aXJlMiIsIl9yZXF1aXJlMyIsIl9yZXF1aXJlNCIsIl9yZXF1aXJlNSIsIl9yZXF1aXJlNiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVhY3QiLCJfcmVhY3ROYXRpdmUiLCJfdm9jYWJ1bGFyeSIsIl9yZXF1aXJlNyIsIm1vY2tVc2VWb2NhYnVsYXJ5IiwibW9ja1VzZUxhc3RBY3Rpdml0eSIsImRlc2NyaWJlIiwibW9ja1JvdXRlUGFyYW1zIiwibGV2ZWwiLCJtb2RlIiwibW9ja05hdmlnYXRpb25Hb0JhY2siLCJtb2NrUm91dGVyUHVzaCIsIm1vY2tTYXZlQWN0aXZpdHkiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1vY2tSZXR1cm5WYWx1ZSIsImdvQmFjayIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsImNhdGVnb3J5SW5kZXgiLCJ3b3JkSW5kZXgiLCJzaG93VHJhbnNsYXRpb24iLCJjb21wbGV0ZWRXb3JkcyIsImxvYWRlZCIsInNob3dEZXRhaWxlZFByb2dyZXNzIiwiY3VycmVudFdvcmQiLCJ3b3JkIiwidHJhbnNsYXRpb24iLCJjdXJyZW50Q2F0ZWdvcnkiLCJuYW1lIiwiY2hhbmdlQ2F0ZWdvcnkiLCJ0b2dnbGVUcmFuc2xhdGlvbiIsInRvZ2dsZURldGFpbGVkUHJvZ3Jlc3MiLCJoYW5kbGVOZXh0IiwiY29tcGxldGVkIiwiaGFuZGxlUHJldmlvdXMiLCJjYW5Hb1RvUHJldmlvdXMiLCJpc0xhc3RXb3JkSW5FeGVyY2lzZSIsImRpc3BsYXkiLCJjYXRlZ29yaWVzIiwid29yZENvdW50ZXIiLCJzYXZlRGF0YSIsIml0IiwibW9ja1JldHVyblZhbHVlT25jZSIsInJlbmRlciIsInJvdXRlIiwicGFyYW1zIiwiZXhwZWN0Iiwic2NyZWVuIiwiZ2V0QnlUZXN0SWQiLCJ0b0JlVHJ1dGh5IiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJhbnkiLCJtb2NrSGFuZGxlTmV4dCIsIndvcmRzIiwiX3JlbmRlciIsInJlcmVuZGVyIiwid2FpdEZvciIsIm9iamVjdENvbnRhaW5pbmciLCJ0eXBlIiwibWV0YWRhdGEiLCJ0b3RhbFdvcmRzIiwiY2F0ZWdvcnkiLCJoZWFkZXIiLCJmaXJlRXZlbnQiLCJwYXRobmFtZSIsIm1vY2tDaGFuZ2VDYXRlZ29yeSIsImNhdGVnb3J5U2VsZWN0b3IiLCJtb2NrVG9nZ2xlRGV0YWlsZWRQcm9ncmVzcyIsInByb2dyZXNzIiwidG9IYXZlQmVlbkNhbGxlZCIsIm1vY2tUb2dnbGVUcmFuc2xhdGlvbiIsIndvcmRTZWN0aW9uIiwibW9ja1NhdmVEYXRhIiwibmF2aWdhdGlvbiIsIm1vY2tIYW5kbGVQcmV2aW91cyJdLCJzb3VyY2VzIjpbIlZvY2FidWxhcnlFeGVyY2lzZS50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgZmlyZUV2ZW50LCB3YWl0Rm9yIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdC1uYXRpdmUnO1xuaW1wb3J0IFZvY2FidWxhcnlFeGVyY2lzZSBmcm9tICcuLi8uLi8uLi8uLi9zcmMvc2NyZWVucy9leGVyY2lzZXMvdm9jYWJ1bGFyeSc7XG5cbi8vIE1vY2sgZGVwZW5kZW5jaWVzXG5qZXN0Lm1vY2soJ0ByZWFjdC1uYXZpZ2F0aW9uL25hdGl2ZScsICgpID0+ICh7XG4gIHVzZU5hdmlnYXRpb246IGplc3QuZm4oKSxcbn0pKTtcblxuamVzdC5tb2NrKCdleHBvLXJvdXRlcicsICgpID0+ICh7XG4gIHJvdXRlcjoge1xuICAgIHB1c2g6IGplc3QuZm4oKSxcbiAgfSxcbn0pKTtcblxuamVzdC5tb2NrKCcuLi8uLi8uLi8uLi9zcmMvc2NyZWVucy9leGVyY2lzZXMvdm9jYWJ1bGFyeS9ob29rcy91c2VWb2NhYnVsYXJ5JywgKCkgPT4gKHtcbiAgX19lc01vZHVsZTogdHJ1ZSxcbiAgZGVmYXVsdDogamVzdC5mbigpLFxufSkpO1xuXG5qZXN0Lm1vY2soJy4uLy4uLy4uLy4uL3NyYy9ob29rcy91c2VMYXN0QWN0aXZpdHknLCAoKSA9PiAoe1xuICBfX2VzTW9kdWxlOiB0cnVlLFxuICBkZWZhdWx0OiBqZXN0LmZuKCgpID0+ICh7XG4gICAgc2F2ZUFjdGl2aXR5OiBqZXN0LmZuKCksXG4gIH0pKSxcbn0pKTtcblxuLy8gTW9jayBjaGlsZCBjb21wb25lbnRzIHRvIHNpbXBsaWZ5IHRlc3RpbmcgYW5kIGF2b2lkIGRlZXAgcmVuZGVyaW5nIGlzc3Vlc1xuamVzdC5tb2NrKCcuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9sYXlvdXQvQ29udGFpbmVyJywgKCkgPT4ge1xuICBjb25zdCB7IFZpZXcgfSA9IHJlcXVpcmUoJ3JlYWN0LW5hdGl2ZScpO1xuICByZXR1cm4gKHsgY2hpbGRyZW4sIHNhZmVBcmVhRWRnZXMsIC4uLnByb3BzIH0pID0+IChcbiAgICA8VmlldyB0ZXN0SUQ9XCJDb250YWluZXJcIiB7Li4ucHJvcHN9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvVmlldz5cbiAgKTtcbn0pO1xuamVzdC5tb2NrKCcuLi8uLi8uLi8uLi9zcmMvc2NyZWVucy9leGVyY2lzZXMvdm9jYWJ1bGFyeS9Wb2NhYnVsYXJ5SGVhZGVyJywgKCkgPT4ge1xuICBjb25zdCB7IFZpZXcgfSA9IHJlcXVpcmUoJ3JlYWN0LW5hdGl2ZScpO1xuICByZXR1cm4gKHByb3BzKSA9PiA8VmlldyB0ZXN0SUQ9XCJWb2NhYnVsYXJ5SGVhZGVyXCIgey4uLnByb3BzfSAvPjtcbn0pO1xuamVzdC5tb2NrKCcuLi8uLi8uLi8uLi9zcmMvc2NyZWVucy9leGVyY2lzZXMvdm9jYWJ1bGFyeS9Wb2NhYnVsYXJ5Q2F0ZWdvcnlTZWxlY3RvcicsICgpID0+IHtcbiAgY29uc3QgeyBWaWV3IH0gPSByZXF1aXJlKCdyZWFjdC1uYXRpdmUnKTtcbiAgcmV0dXJuIChwcm9wcykgPT4gPFZpZXcgdGVzdElEPVwiVm9jYWJ1bGFyeUNhdGVnb3J5U2VsZWN0b3JcIiB7Li4ucHJvcHN9IC8+O1xufSk7XG5qZXN0Lm1vY2soJy4uLy4uLy4uLy4uL3NyYy9zY3JlZW5zL2V4ZXJjaXNlcy92b2NhYnVsYXJ5L1ZvY2FidWxhcnlQcm9ncmVzcycsICgpID0+IHtcbiAgY29uc3QgeyBWaWV3IH0gPSByZXF1aXJlKCdyZWFjdC1uYXRpdmUnKTtcbiAgcmV0dXJuIChwcm9wcykgPT4gPFZpZXcgdGVzdElEPVwiVm9jYWJ1bGFyeVByb2dyZXNzXCIgey4uLnByb3BzfSAvPjtcbn0pO1xuamVzdC5tb2NrKCcuLi8uLi8uLi8uLi9zcmMvc2NyZWVucy9leGVyY2lzZXMvdm9jYWJ1bGFyeS9Wb2NhYnVsYXJ5V29yZFNlY3Rpb24nLCAoKSA9PiB7XG4gIGNvbnN0IHsgVmlldyB9ID0gcmVxdWlyZSgncmVhY3QtbmF0aXZlJyk7XG4gIHJldHVybiAocHJvcHMpID0+IDxWaWV3IHRlc3RJRD1cIlZvY2FidWxhcnlXb3JkU2VjdGlvblwiIHsuLi5wcm9wc30gLz47XG59KTtcbmplc3QubW9jaygnLi4vLi4vLi4vLi4vc3JjL3NjcmVlbnMvZXhlcmNpc2VzL3ZvY2FidWxhcnkvVm9jYWJ1bGFyeU5hdmlnYXRpb24nLCAoKSA9PiB7XG4gIGNvbnN0IHsgVmlldyB9ID0gcmVxdWlyZSgncmVhY3QtbmF0aXZlJyk7XG4gIHJldHVybiAocHJvcHMpID0+IDxWaWV3IHRlc3RJRD1cIlZvY2FidWxhcnlOYXZpZ2F0aW9uXCIgey4uLnByb3BzfSAvPjtcbn0pO1xuXG5jb25zdCBtb2NrVXNlVm9jYWJ1bGFyeSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3NyYy9zY3JlZW5zL2V4ZXJjaXNlcy92b2NhYnVsYXJ5L2hvb2tzL3VzZVZvY2FidWxhcnknKS5kZWZhdWx0O1xuY29uc3QgbW9ja1VzZUxhc3RBY3Rpdml0eSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3NyYy9ob29rcy91c2VMYXN0QWN0aXZpdHknKS5kZWZhdWx0O1xuXG5kZXNjcmliZSgnVm9jYWJ1bGFyeUV4ZXJjaXNlJywgKCkgPT4ge1xuICBjb25zdCBtb2NrUm91dGVQYXJhbXMgPSB7IGxldmVsOiAnQTEnLCBtb2RlOiAnY2xhc3NpYycgfTtcbiAgY29uc3QgbW9ja05hdmlnYXRpb25Hb0JhY2sgPSBqZXN0LmZuKCk7XG4gIGNvbnN0IG1vY2tSb3V0ZXJQdXNoID0gamVzdC5mbigpO1xuICBjb25zdCBtb2NrU2F2ZUFjdGl2aXR5ID0gamVzdC5mbigpO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIHJlcXVpcmUoJ0ByZWFjdC1uYXZpZ2F0aW9uL25hdGl2ZScpLnVzZU5hdmlnYXRpb24ubW9ja1JldHVyblZhbHVlKHsgZ29CYWNrOiBtb2NrTmF2aWdhdGlvbkdvQmFjayB9KTtcbiAgICByZXF1aXJlKCdleHBvLXJvdXRlcicpLnJvdXRlci5wdXNoLm1vY2tJbXBsZW1lbnRhdGlvbihtb2NrUm91dGVyUHVzaCk7XG4gICAgbW9ja1VzZUxhc3RBY3Rpdml0eS5tb2NrUmV0dXJuVmFsdWUoeyBzYXZlQWN0aXZpdHk6IG1vY2tTYXZlQWN0aXZpdHkgfSk7XG5cbiAgICAvLyBEZWZhdWx0IG1vY2sgZm9yIHVzZVZvY2FidWxhcnlcbiAgICBtb2NrVXNlVm9jYWJ1bGFyeS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgY2F0ZWdvcnlJbmRleDogMCxcbiAgICAgIHdvcmRJbmRleDogMCxcbiAgICAgIHNob3dUcmFuc2xhdGlvbjogZmFsc2UsXG4gICAgICBjb21wbGV0ZWRXb3JkczogW10sXG4gICAgICBsb2FkZWQ6IHRydWUsXG4gICAgICBzaG93RGV0YWlsZWRQcm9ncmVzczogZmFsc2UsXG4gICAgICBjdXJyZW50V29yZDogeyB3b3JkOiAnaGVsbG8nLCB0cmFuc2xhdGlvbjogJ2JvbmpvdXInIH0sXG4gICAgICBjdXJyZW50Q2F0ZWdvcnk6IHsgbmFtZTogJ0dyZWV0aW5ncycgfSxcbiAgICAgIGNoYW5nZUNhdGVnb3J5OiBqZXN0LmZuKCksXG4gICAgICB0b2dnbGVUcmFuc2xhdGlvbjogamVzdC5mbigpLFxuICAgICAgdG9nZ2xlRGV0YWlsZWRQcm9ncmVzczogamVzdC5mbigpLFxuICAgICAgaGFuZGxlTmV4dDogamVzdC5mbigoKSA9PiAoeyBjb21wbGV0ZWQ6IGZhbHNlIH0pKSxcbiAgICAgIGhhbmRsZVByZXZpb3VzOiBqZXN0LmZuKCksXG4gICAgICBjYW5Hb1RvUHJldmlvdXM6IGZhbHNlLFxuICAgICAgaXNMYXN0V29yZEluRXhlcmNpc2U6IGZhbHNlLFxuICAgICAgZGlzcGxheToge1xuICAgICAgICBjYXRlZ29yaWVzOiBbeyBuYW1lOiAnR3JlZXRpbmdzJyB9XSxcbiAgICAgICAgd29yZENvdW50ZXI6ICcxLzEwJyxcbiAgICAgIH0sXG4gICAgICBzYXZlRGF0YTogamVzdC5mbigpLFxuICAgIH0pO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHJlbmRlciBsb2FkaW5nIHN0YXRlIHdoZW4gbm90IGxvYWRlZCcsICgpID0+IHtcbiAgICBtb2NrVXNlVm9jYWJ1bGFyeS5tb2NrUmV0dXJuVmFsdWVPbmNlKHsgbG9hZGVkOiBmYWxzZSB9KTtcbiAgICByZW5kZXIoPFZvY2FidWxhcnlFeGVyY2lzZSByb3V0ZT17eyBwYXJhbXM6IG1vY2tSb3V0ZVBhcmFtcyB9fSAvPik7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnQ29udGFpbmVyJykpLnRvQmVUcnV0aHkoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdhY3Rpdml0eS1pbmRpY2F0b3InKSkudG9CZVRydXRoeSgpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHJlbmRlciBtYWluIGNvbXBvbmVudHMgd2hlbiBsb2FkZWQnLCAoKSA9PiB7XG4gICAgcmVuZGVyKDxWb2NhYnVsYXJ5RXhlcmNpc2Ugcm91dGU9e3sgcGFyYW1zOiBtb2NrUm91dGVQYXJhbXMgfX0gLz4pO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ1ZvY2FidWxhcnlIZWFkZXInKSkudG9CZVRydXRoeSgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ1ZvY2FidWxhcnlQcm9ncmVzcycpKS50b0JlVHJ1dGh5KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnVm9jYWJ1bGFyeUNhdGVnb3J5U2VsZWN0b3InKSkudG9CZVRydXRoeSgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ1ZvY2FidWxhcnlXb3JkU2VjdGlvbicpKS50b0JlVHJ1dGh5KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnVm9jYWJ1bGFyeU5hdmlnYXRpb24nKSkudG9CZVRydXRoeSgpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGNhbGwgdXNlVm9jYWJ1bGFyeSB3aXRoIGNvcnJlY3QgcGFyYW1ldGVycycsICgpID0+IHtcbiAgICByZW5kZXIoPFZvY2FidWxhcnlFeGVyY2lzZSByb3V0ZT17eyBwYXJhbXM6IG1vY2tSb3V0ZVBhcmFtcyB9fSAvPik7XG4gICAgZXhwZWN0KG1vY2tVc2VWb2NhYnVsYXJ5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChleHBlY3QuYW55KE9iamVjdCksIG1vY2tSb3V0ZVBhcmFtcy5sZXZlbCwgbW9ja1JvdXRlUGFyYW1zLm1vZGUpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHNhdmUgYWN0aXZpdHkgb24gd29yZEluZGV4IGNoYW5nZScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBtb2NrSGFuZGxlTmV4dCA9IGplc3QuZm4oKCkgPT4gKHsgY29tcGxldGVkOiBmYWxzZSB9KSk7XG4gICAgbW9ja1VzZVZvY2FidWxhcnkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgIGNhdGVnb3J5SW5kZXg6IDAsXG4gICAgICB3b3JkSW5kZXg6IDAsXG4gICAgICBzaG93VHJhbnNsYXRpb246IGZhbHNlLFxuICAgICAgY29tcGxldGVkV29yZHM6IFtdLFxuICAgICAgbG9hZGVkOiB0cnVlLFxuICAgICAgc2hvd0RldGFpbGVkUHJvZ3Jlc3M6IGZhbHNlLFxuICAgICAgY3VycmVudFdvcmQ6IHsgd29yZDogJ2hlbGxvJywgdHJhbnNsYXRpb246ICdib25qb3VyJyB9LFxuICAgICAgY3VycmVudENhdGVnb3J5OiB7IG5hbWU6ICdHcmVldGluZ3MnIH0sXG4gICAgICBjaGFuZ2VDYXRlZ29yeTogamVzdC5mbigpLFxuICAgICAgdG9nZ2xlVHJhbnNsYXRpb246IGplc3QuZm4oKSxcbiAgICAgIHRvZ2dsZURldGFpbGVkUHJvZ3Jlc3M6IGplc3QuZm4oKSxcbiAgICAgIGhhbmRsZU5leHQ6IG1vY2tIYW5kbGVOZXh0LFxuICAgICAgaGFuZGxlUHJldmlvdXM6IGplc3QuZm4oKSxcbiAgICAgIGNhbkdvVG9QcmV2aW91czogZmFsc2UsXG4gICAgICBpc0xhc3RXb3JkSW5FeGVyY2lzZTogZmFsc2UsXG4gICAgICBkaXNwbGF5OiB7XG4gICAgICAgIGNhdGVnb3JpZXM6IFt7IG5hbWU6ICdHcmVldGluZ3MnLCB3b3JkczogW3sgd29yZDogJ2EnIH0sIHsgd29yZDogJ2InIH1dIH1dLFxuICAgICAgICB3b3JkQ291bnRlcjogJzEvMicsXG4gICAgICB9LFxuICAgICAgc2F2ZURhdGE6IGplc3QuZm4oKSxcbiAgICB9KTtcblxuICAgIGNvbnN0IHsgcmVyZW5kZXIgfSA9IHJlbmRlcig8Vm9jYWJ1bGFyeUV4ZXJjaXNlIHJvdXRlPXt7IHBhcmFtczogbW9ja1JvdXRlUGFyYW1zIH19IC8+KTtcblxuICAgIC8vIEluaXRpYWwgcmVuZGVyIHNob3VsZCBzYXZlIGFjdGl2aXR5XG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QobW9ja1NhdmVBY3Rpdml0eSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICBsZXZlbDogJ0ExJyxcbiAgICAgICAgdHlwZTogJ3ZvY2FidWxhcnknLFxuICAgICAgICBtb2RlOiAnY2xhc3NpYycsXG4gICAgICAgIG1ldGFkYXRhOiBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgd29yZDogMCxcbiAgICAgICAgICB0b3RhbFdvcmRzOiAyLFxuICAgICAgICAgIGNhdGVnb3J5OiAnR3JlZXRpbmdzJyxcbiAgICAgICAgICBjYXRlZ29yeUluZGV4OiAwLFxuICAgICAgICAgIHdvcmRJbmRleDogMCxcbiAgICAgICAgfSksXG4gICAgICB9KSk7XG4gICAgfSk7XG5cbiAgICAvLyBTaW11bGF0ZSB3b3JkSW5kZXggY2hhbmdlXG4gICAgbW9ja1VzZVZvY2FidWxhcnkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgIGNhdGVnb3J5SW5kZXg6IDAsXG4gICAgICB3b3JkSW5kZXg6IDEsIC8vIENoYW5nZWQgd29yZEluZGV4XG4gICAgICBzaG93VHJhbnNsYXRpb246IGZhbHNlLFxuICAgICAgY29tcGxldGVkV29yZHM6IFtdLFxuICAgICAgbG9hZGVkOiB0cnVlLFxuICAgICAgc2hvd0RldGFpbGVkUHJvZ3Jlc3M6IGZhbHNlLFxuICAgICAgY3VycmVudFdvcmQ6IHsgd29yZDogJ3dvcmxkJywgdHJhbnNsYXRpb246ICdtb25kZScgfSxcbiAgICAgIGN1cnJlbnRDYXRlZ29yeTogeyBuYW1lOiAnR3JlZXRpbmdzJyB9LFxuICAgICAgY2hhbmdlQ2F0ZWdvcnk6IGplc3QuZm4oKSxcbiAgICAgIHRvZ2dsZVRyYW5zbGF0aW9uOiBqZXN0LmZuKCksXG4gICAgICB0b2dnbGVEZXRhaWxlZFByb2dyZXNzOiBqZXN0LmZuKCksXG4gICAgICBoYW5kbGVOZXh0OiBtb2NrSGFuZGxlTmV4dCxcbiAgICAgIGhhbmRsZVByZXZpb3VzOiBqZXN0LmZuKCksXG4gICAgICBjYW5Hb1RvUHJldmlvdXM6IGZhbHNlLFxuICAgICAgaXNMYXN0V29yZEluRXhlcmNpc2U6IGZhbHNlLFxuICAgICAgZGlzcGxheToge1xuICAgICAgICBjYXRlZ29yaWVzOiBbeyBuYW1lOiAnR3JlZXRpbmdzJywgd29yZHM6IFt7IHdvcmQ6ICdhJyB9LCB7IHdvcmQ6ICdiJyB9XSB9XSxcbiAgICAgICAgd29yZENvdW50ZXI6ICcyLzInLFxuICAgICAgfSxcbiAgICAgIHNhdmVEYXRhOiBqZXN0LmZuKCksXG4gICAgfSk7XG4gICAgcmVyZW5kZXIoPFZvY2FidWxhcnlFeGVyY2lzZSByb3V0ZT17eyBwYXJhbXM6IG1vY2tSb3V0ZVBhcmFtcyB9fSAvPik7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChtb2NrU2F2ZUFjdGl2aXR5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgIG1ldGFkYXRhOiBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgd29yZDogMSxcbiAgICAgICAgICB3b3JkSW5kZXg6IDEsXG4gICAgICAgIH0pLFxuICAgICAgfSkpO1xuICAgIH0pO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIG5hdmlnYXRlIGJhY2sgdG8gZXhlcmNpc2Ugc2VsZWN0aW9uIG9uIGJhY2sgcHJlc3MnLCAoKSA9PiB7XG4gICAgcmVuZGVyKDxWb2NhYnVsYXJ5RXhlcmNpc2Ugcm91dGU9e3sgcGFyYW1zOiBtb2NrUm91dGVQYXJhbXMgfX0gLz4pO1xuICAgIGNvbnN0IGhlYWRlciA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnVm9jYWJ1bGFyeUhlYWRlcicpO1xuICAgIGZpcmVFdmVudChoZWFkZXIsICdvbkJhY2tQcmVzcycpO1xuICAgIGV4cGVjdChtb2NrUm91dGVyUHVzaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgcGF0aG5hbWU6ICcvdGFicy9leGVyY2lzZVNlbGVjdGlvbicsXG4gICAgICBwYXJhbXM6IHsgbGV2ZWw6ICdBMScgfSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBjYWxsIGNoYW5nZUNhdGVnb3J5IHdoZW4gY2F0ZWdvcnkgaXMgc2VsZWN0ZWQnLCAoKSA9PiB7XG4gICAgY29uc3QgbW9ja0NoYW5nZUNhdGVnb3J5ID0gamVzdC5mbigpO1xuICAgIG1vY2tVc2VWb2NhYnVsYXJ5Lm1vY2tSZXR1cm5WYWx1ZU9uY2Uoe1xuICAgICAgLi4ubW9ja1VzZVZvY2FidWxhcnkoKSxcbiAgICAgIGNoYW5nZUNhdGVnb3J5OiBtb2NrQ2hhbmdlQ2F0ZWdvcnksXG4gICAgICBkaXNwbGF5OiB7IGNhdGVnb3JpZXM6IFt7IG5hbWU6ICdDYXQxJyB9LCB7IG5hbWU6ICdDYXQyJyB9XSB9LFxuICAgIH0pO1xuICAgIHJlbmRlcig8Vm9jYWJ1bGFyeUV4ZXJjaXNlIHJvdXRlPXt7IHBhcmFtczogbW9ja1JvdXRlUGFyYW1zIH19IC8+KTtcbiAgICBjb25zdCBjYXRlZ29yeVNlbGVjdG9yID0gc2NyZWVuLmdldEJ5VGVzdElkKCdWb2NhYnVsYXJ5Q2F0ZWdvcnlTZWxlY3RvcicpO1xuICAgIGZpcmVFdmVudChjYXRlZ29yeVNlbGVjdG9yLCAnb25TZWxlY3RDYXRlZ29yeScsIDEpO1xuICAgIGV4cGVjdChtb2NrQ2hhbmdlQ2F0ZWdvcnkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKDEpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGNhbGwgdG9nZ2xlRGV0YWlsZWRQcm9ncmVzcyB3aGVuIHByb2dyZXNzIGlzIHRvZ2dsZWQnLCAoKSA9PiB7XG4gICAgY29uc3QgbW9ja1RvZ2dsZURldGFpbGVkUHJvZ3Jlc3MgPSBqZXN0LmZuKCk7XG4gICAgbW9ja1VzZVZvY2FidWxhcnkubW9ja1JldHVyblZhbHVlT25jZSh7XG4gICAgICAuLi5tb2NrVXNlVm9jYWJ1bGFyeSgpLFxuICAgICAgdG9nZ2xlRGV0YWlsZWRQcm9ncmVzczogbW9ja1RvZ2dsZURldGFpbGVkUHJvZ3Jlc3MsXG4gICAgfSk7XG4gICAgcmVuZGVyKDxWb2NhYnVsYXJ5RXhlcmNpc2Ugcm91dGU9e3sgcGFyYW1zOiBtb2NrUm91dGVQYXJhbXMgfX0gLz4pO1xuICAgIGNvbnN0IHByb2dyZXNzID0gc2NyZWVuLmdldEJ5VGVzdElkKCdWb2NhYnVsYXJ5UHJvZ3Jlc3MnKTtcbiAgICBmaXJlRXZlbnQocHJvZ3Jlc3MsICdvblRvZ2dsZUV4cGFuZCcpO1xuICAgIGV4cGVjdChtb2NrVG9nZ2xlRGV0YWlsZWRQcm9ncmVzcykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGNhbGwgdG9nZ2xlVHJhbnNsYXRpb24gd2hlbiB0cmFuc2xhdGlvbiBpcyB0b2dnbGVkJywgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tUb2dnbGVUcmFuc2xhdGlvbiA9IGplc3QuZm4oKTtcbiAgICBtb2NrVXNlVm9jYWJ1bGFyeS5tb2NrUmV0dXJuVmFsdWVPbmNlKHtcbiAgICAgIC4uLm1vY2tVc2VWb2NhYnVsYXJ5KCksXG4gICAgICB0b2dnbGVUcmFuc2xhdGlvbjogbW9ja1RvZ2dsZVRyYW5zbGF0aW9uLFxuICAgIH0pO1xuICAgIHJlbmRlcig8Vm9jYWJ1bGFyeUV4ZXJjaXNlIHJvdXRlPXt7IHBhcmFtczogbW9ja1JvdXRlUGFyYW1zIH19IC8+KTtcbiAgICBjb25zdCB3b3JkU2VjdGlvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnVm9jYWJ1bGFyeVdvcmRTZWN0aW9uJyk7XG4gICAgZmlyZUV2ZW50KHdvcmRTZWN0aW9uLCAnb25Ub2dnbGVUcmFuc2xhdGlvbicpO1xuICAgIGV4cGVjdChtb2NrVG9nZ2xlVHJhbnNsYXRpb24pLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBjYWxsIGhhbmRsZU5leHRXb3JkIGFuZCBzYXZlRGF0YSBvbiBuZXh0IGJ1dHRvbiBwcmVzcycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBtb2NrSGFuZGxlTmV4dCA9IGplc3QuZm4oKCkgPT4gKHsgY29tcGxldGVkOiBmYWxzZSB9KSk7XG4gICAgY29uc3QgbW9ja1NhdmVEYXRhID0gamVzdC5mbigpO1xuICAgIG1vY2tVc2VWb2NhYnVsYXJ5Lm1vY2tSZXR1cm5WYWx1ZU9uY2Uoe1xuICAgICAgLi4ubW9ja1VzZVZvY2FidWxhcnkoKSxcbiAgICAgIGhhbmRsZU5leHQ6IG1vY2tIYW5kbGVOZXh0LFxuICAgICAgc2F2ZURhdGE6IG1vY2tTYXZlRGF0YSxcbiAgICB9KTtcbiAgICByZW5kZXIoPFZvY2FidWxhcnlFeGVyY2lzZSByb3V0ZT17eyBwYXJhbXM6IG1vY2tSb3V0ZVBhcmFtcyB9fSAvPik7XG4gICAgY29uc3QgbmF2aWdhdGlvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnVm9jYWJ1bGFyeU5hdmlnYXRpb24nKTtcbiAgICBmaXJlRXZlbnQobmF2aWdhdGlvbiwgJ29uTmV4dCcpO1xuICAgIGV4cGVjdChtb2NrSGFuZGxlTmV4dCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4gZXhwZWN0KG1vY2tTYXZlRGF0YSkudG9IYXZlQmVlbkNhbGxlZCgpKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBuYXZpZ2F0ZSBiYWNrIHdoZW4gaGFuZGxlTmV4dCBpbmRpY2F0ZXMgY29tcGxldGlvbicsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBtb2NrSGFuZGxlTmV4dCA9IGplc3QuZm4oKCkgPT4gKHsgY29tcGxldGVkOiB0cnVlIH0pKTtcbiAgICBjb25zdCBtb2NrU2F2ZURhdGEgPSBqZXN0LmZuKCk7XG4gICAgbW9ja1VzZVZvY2FidWxhcnkubW9ja1JldHVyblZhbHVlT25jZSh7XG4gICAgICAuLi5tb2NrVXNlVm9jYWJ1bGFyeSgpLFxuICAgICAgaGFuZGxlTmV4dDogbW9ja0hhbmRsZU5leHQsXG4gICAgICBzYXZlRGF0YTogbW9ja1NhdmVEYXRhLFxuICAgIH0pO1xuICAgIHJlbmRlcig8Vm9jYWJ1bGFyeUV4ZXJjaXNlIHJvdXRlPXt7IHBhcmFtczogbW9ja1JvdXRlUGFyYW1zIH19IC8+KTtcbiAgICBjb25zdCBuYXZpZ2F0aW9uID0gc2NyZWVuLmdldEJ5VGVzdElkKCdWb2NhYnVsYXJ5TmF2aWdhdGlvbicpO1xuICAgIGZpcmVFdmVudChuYXZpZ2F0aW9uLCAnb25OZXh0Jyk7XG4gICAgZXhwZWN0KG1vY2tIYW5kbGVOZXh0KS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiBleHBlY3QobW9ja1NhdmVEYXRhKS50b0hhdmVCZWVuQ2FsbGVkKCkpO1xuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4gZXhwZWN0KG1vY2tOYXZpZ2F0aW9uR29CYWNrKS50b0hhdmVCZWVuQ2FsbGVkKCkpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGNhbGwgaGFuZGxlUHJldmlvdXNXb3JkIG9uIHByZXZpb3VzIGJ1dHRvbiBwcmVzcycsICgpID0+IHtcbiAgICBjb25zdCBtb2NrSGFuZGxlUHJldmlvdXMgPSBqZXN0LmZuKCk7XG4gICAgbW9ja1VzZVZvY2FidWxhcnkubW9ja1JldHVyblZhbHVlT25jZSh7XG4gICAgICAuLi5tb2NrVXNlVm9jYWJ1bGFyeSgpLFxuICAgICAgaGFuZGxlUHJldmlvdXM6IG1vY2tIYW5kbGVQcmV2aW91cyxcbiAgICB9KTtcbiAgICByZW5kZXIoPFZvY2FidWxhcnlFeGVyY2lzZSByb3V0ZT17eyBwYXJhbXM6IG1vY2tSb3V0ZVBhcmFtcyB9fSAvPik7XG4gICAgY29uc3QgbmF2aWdhdGlvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnVm9jYWJ1bGFyeU5hdmlnYXRpb24nKTtcbiAgICBmaXJlRXZlbnQobmF2aWdhdGlvbiwgJ29uUHJldmlvdXMnKTtcbiAgICBleHBlY3QobW9ja0hhbmRsZVByZXZpb3VzKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3Mi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