c71454ba14f9c90ea67ef3cd52a02672
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.calculateTotalWords = exports.calculateTotalProgress = exports.calculateCompletedWordsCount = exports.calculateCategoryProgress = void 0;
var calculateTotalWords = exports.calculateTotalWords = function calculateTotalWords() {
  var exercises = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  return exercises.reduce(function (total, category) {
    var _category$words;
    return total + (((_category$words = category.words) == null ? void 0 : _category$words.length) || 0);
  }, 0);
};
var calculateCompletedWordsCount = exports.calculateCompletedWordsCount = function calculateCompletedWordsCount() {
  var completedWords = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  return Object.keys(completedWords).reduce(function (count, key) {
    var _completedWords$key;
    return count + (((_completedWords$key = completedWords[key]) == null ? void 0 : _completedWords$key.length) || 0);
  }, 0);
};
var calculateTotalProgress = exports.calculateTotalProgress = function calculateTotalProgress() {
  var exercises = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var completedWords = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var totalWords = calculateTotalWords(exercises);
  var totalCompleted = calculateCompletedWordsCount(completedWords);
  return totalWords > 0 ? Math.min(100, totalCompleted / totalWords * 100) : 0;
};
var calculateCategoryProgress = exports.calculateCategoryProgress = function calculateCategoryProgress() {
  var exercises = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var completedWords = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  return exercises.map(function (category, index) {
    var _category$words2, _completedWords$index;
    var totalInCategory = ((_category$words2 = category.words) == null ? void 0 : _category$words2.length) || 0;
    var completedInCategory = ((_completedWords$index = completedWords[index]) == null ? void 0 : _completedWords$index.length) || 0;
    var progress = totalInCategory > 0 ? Math.min(100, Math.round(completedInCategory / totalInCategory * 100)) : 0;
    return {
      title: category.title || `Cat√©gorie ${index + 1}`,
      totalWords: totalInCategory,
      completedWords: completedInCategory,
      progress: progress
    };
  });
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYWxjdWxhdGVUb3RhbFdvcmRzIiwiZXhwb3J0cyIsImV4ZXJjaXNlcyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInJlZHVjZSIsInRvdGFsIiwiY2F0ZWdvcnkiLCJfY2F0ZWdvcnkkd29yZHMiLCJ3b3JkcyIsImNhbGN1bGF0ZUNvbXBsZXRlZFdvcmRzQ291bnQiLCJjb21wbGV0ZWRXb3JkcyIsIk9iamVjdCIsImtleXMiLCJjb3VudCIsImtleSIsIl9jb21wbGV0ZWRXb3JkcyRrZXkiLCJjYWxjdWxhdGVUb3RhbFByb2dyZXNzIiwidG90YWxXb3JkcyIsInRvdGFsQ29tcGxldGVkIiwiTWF0aCIsIm1pbiIsImNhbGN1bGF0ZUNhdGVnb3J5UHJvZ3Jlc3MiLCJtYXAiLCJpbmRleCIsIl9jYXRlZ29yeSR3b3JkczIiLCJfY29tcGxldGVkV29yZHMkaW5kZXgiLCJ0b3RhbEluQ2F0ZWdvcnkiLCJjb21wbGV0ZWRJbkNhdGVnb3J5IiwicHJvZ3Jlc3MiLCJyb3VuZCIsInRpdGxlIl0sInNvdXJjZXMiOlsidm9jYWJ1bGFyeVN0YXRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHV0aWxzL3ZvY2FidWxhcnlTdGF0cy5qc1xyXG5cclxuZXhwb3J0IGNvbnN0IGNhbGN1bGF0ZVRvdGFsV29yZHMgPSAoZXhlcmNpc2VzID0gW10pID0+XHJcbiAgZXhlcmNpc2VzLnJlZHVjZShcclxuICAgICh0b3RhbCwgY2F0ZWdvcnkpID0+IHRvdGFsICsgKGNhdGVnb3J5LndvcmRzPy5sZW5ndGggfHwgMCksXHJcbiAgICAwXHJcbiAgKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjYWxjdWxhdGVDb21wbGV0ZWRXb3Jkc0NvdW50ID0gKGNvbXBsZXRlZFdvcmRzID0ge30pID0+XHJcbiAgT2JqZWN0LmtleXMoY29tcGxldGVkV29yZHMpLnJlZHVjZShcclxuICAgIChjb3VudCwga2V5KSA9PiBjb3VudCArIChjb21wbGV0ZWRXb3Jkc1trZXldPy5sZW5ndGggfHwgMCksXHJcbiAgICAwXHJcbiAgKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjYWxjdWxhdGVUb3RhbFByb2dyZXNzID0gKGV4ZXJjaXNlcyA9IFtdLCBjb21wbGV0ZWRXb3JkcyA9IHt9KSA9PiB7XHJcbiAgY29uc3QgdG90YWxXb3JkcyA9IGNhbGN1bGF0ZVRvdGFsV29yZHMoZXhlcmNpc2VzKTtcclxuICBjb25zdCB0b3RhbENvbXBsZXRlZCA9IGNhbGN1bGF0ZUNvbXBsZXRlZFdvcmRzQ291bnQoY29tcGxldGVkV29yZHMpO1xyXG4gIHJldHVybiB0b3RhbFdvcmRzID4gMFxyXG4gICAgPyBNYXRoLm1pbigxMDAsICh0b3RhbENvbXBsZXRlZCAvIHRvdGFsV29yZHMpICogMTAwKVxyXG4gICAgOiAwO1xyXG59O1xyXG5cclxuLy8g4pyFIE5PVVZFTExFIEZPTkNUSU9OIC0gQ2FsY3VsIHByb2dyZXNzaW9uIHBhciBjYXTDqWdvcmllXHJcbmV4cG9ydCBjb25zdCBjYWxjdWxhdGVDYXRlZ29yeVByb2dyZXNzID0gKGV4ZXJjaXNlcyA9IFtdLCBjb21wbGV0ZWRXb3JkcyA9IHt9KSA9PiB7XHJcbiAgcmV0dXJuIGV4ZXJjaXNlcy5tYXAoKGNhdGVnb3J5LCBpbmRleCkgPT4ge1xyXG4gICAgY29uc3QgdG90YWxJbkNhdGVnb3J5ID0gY2F0ZWdvcnkud29yZHM/Lmxlbmd0aCB8fCAwO1xyXG4gICAgY29uc3QgY29tcGxldGVkSW5DYXRlZ29yeSA9IGNvbXBsZXRlZFdvcmRzW2luZGV4XT8ubGVuZ3RoIHx8IDA7XHJcbiAgICBjb25zdCBwcm9ncmVzcyA9IHRvdGFsSW5DYXRlZ29yeSA+IDAgXHJcbiAgICAgID8gTWF0aC5taW4oMTAwLCBNYXRoLnJvdW5kKChjb21wbGV0ZWRJbkNhdGVnb3J5IC8gdG90YWxJbkNhdGVnb3J5KSAqIDEwMCkpXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0aXRsZTogY2F0ZWdvcnkudGl0bGUgfHwgYENhdMOpZ29yaWUgJHtpbmRleCArIDF9YCxcclxuICAgICAgdG90YWxXb3JkczogdG90YWxJbkNhdGVnb3J5LFxyXG4gICAgICBjb21wbGV0ZWRXb3JkczogY29tcGxldGVkSW5DYXRlZ29yeSxcclxuICAgICAgcHJvZ3Jlc3NcclxuICAgIH07XHJcbiAgfSk7XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7OztBQUVPLElBQU1BLG1CQUFtQixHQUFBQyxPQUFBLENBQUFELG1CQUFBLEdBQUcsU0FBdEJBLG1CQUFtQkEsQ0FBQTtFQUFBLElBQUlFLFNBQVMsR0FBQUMsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsRUFBRTtFQUFBLE9BQ2hERCxTQUFTLENBQUNJLE1BQU0sQ0FDZCxVQUFDQyxLQUFLLEVBQUVDLFFBQVE7SUFBQSxJQUFBQyxlQUFBO0lBQUEsT0FBS0YsS0FBSyxJQUFJLEVBQUFFLGVBQUEsR0FBQUQsUUFBUSxDQUFDRSxLQUFLLHFCQUFkRCxlQUFBLENBQWdCTCxNQUFNLEtBQUksQ0FBQyxDQUFDO0VBQUEsR0FDMUQsQ0FDRixDQUFDO0FBQUE7QUFFSSxJQUFNTyw0QkFBNEIsR0FBQVYsT0FBQSxDQUFBVSw0QkFBQSxHQUFHLFNBQS9CQSw0QkFBNEJBLENBQUE7RUFBQSxJQUFJQyxjQUFjLEdBQUFULFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLENBQUMsQ0FBQztFQUFBLE9BQzlEVSxNQUFNLENBQUNDLElBQUksQ0FBQ0YsY0FBYyxDQUFDLENBQUNOLE1BQU0sQ0FDaEMsVUFBQ1MsS0FBSyxFQUFFQyxHQUFHO0lBQUEsSUFBQUMsbUJBQUE7SUFBQSxPQUFLRixLQUFLLElBQUksRUFBQUUsbUJBQUEsR0FBQUwsY0FBYyxDQUFDSSxHQUFHLENBQUMscUJBQW5CQyxtQkFBQSxDQUFxQmIsTUFBTSxLQUFJLENBQUMsQ0FBQztFQUFBLEdBQzFELENBQ0YsQ0FBQztBQUFBO0FBRUksSUFBTWMsc0JBQXNCLEdBQUFqQixPQUFBLENBQUFpQixzQkFBQSxHQUFHLFNBQXpCQSxzQkFBc0JBLENBQUEsRUFBNEM7RUFBQSxJQUF4Q2hCLFNBQVMsR0FBQUMsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsRUFBRTtFQUFBLElBQUVTLGNBQWMsR0FBQVQsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsQ0FBQyxDQUFDO0VBQ3hFLElBQU1nQixVQUFVLEdBQUduQixtQkFBbUIsQ0FBQ0UsU0FBUyxDQUFDO0VBQ2pELElBQU1rQixjQUFjLEdBQUdULDRCQUE0QixDQUFDQyxjQUFjLENBQUM7RUFDbkUsT0FBT08sVUFBVSxHQUFHLENBQUMsR0FDakJFLElBQUksQ0FBQ0MsR0FBRyxDQUFDLEdBQUcsRUFBR0YsY0FBYyxHQUFHRCxVQUFVLEdBQUksR0FBRyxDQUFDLEdBQ2xELENBQUM7QUFDUCxDQUFDO0FBR00sSUFBTUkseUJBQXlCLEdBQUF0QixPQUFBLENBQUFzQix5QkFBQSxHQUFHLFNBQTVCQSx5QkFBeUJBLENBQUEsRUFBNEM7RUFBQSxJQUF4Q3JCLFNBQVMsR0FBQUMsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsRUFBRTtFQUFBLElBQUVTLGNBQWMsR0FBQVQsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsQ0FBQyxDQUFDO0VBQzNFLE9BQU9ELFNBQVMsQ0FBQ3NCLEdBQUcsQ0FBQyxVQUFDaEIsUUFBUSxFQUFFaUIsS0FBSyxFQUFLO0lBQUEsSUFBQUMsZ0JBQUEsRUFBQUMscUJBQUE7SUFDeEMsSUFBTUMsZUFBZSxHQUFHLEVBQUFGLGdCQUFBLEdBQUFsQixRQUFRLENBQUNFLEtBQUsscUJBQWRnQixnQkFBQSxDQUFnQnRCLE1BQU0sS0FBSSxDQUFDO0lBQ25ELElBQU15QixtQkFBbUIsR0FBRyxFQUFBRixxQkFBQSxHQUFBZixjQUFjLENBQUNhLEtBQUssQ0FBQyxxQkFBckJFLHFCQUFBLENBQXVCdkIsTUFBTSxLQUFJLENBQUM7SUFDOUQsSUFBTTBCLFFBQVEsR0FBR0YsZUFBZSxHQUFHLENBQUMsR0FDaENQLElBQUksQ0FBQ0MsR0FBRyxDQUFDLEdBQUcsRUFBRUQsSUFBSSxDQUFDVSxLQUFLLENBQUVGLG1CQUFtQixHQUFHRCxlQUFlLEdBQUksR0FBRyxDQUFDLENBQUMsR0FDeEUsQ0FBQztJQUVMLE9BQU87TUFDTEksS0FBSyxFQUFFeEIsUUFBUSxDQUFDd0IsS0FBSyxJQUFJLGFBQWFQLEtBQUssR0FBRyxDQUFDLEVBQUU7TUFDakROLFVBQVUsRUFBRVMsZUFBZTtNQUMzQmhCLGNBQWMsRUFBRWlCLG1CQUFtQjtNQUNuQ0MsUUFBUSxFQUFSQTtJQUNGLENBQUM7RUFDSCxDQUFDLENBQUM7QUFDSixDQUFDIiwiaWdub3JlTGlzdCI6W119