3fc9d9ba36950123a4b756d43f0f0b12
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = require("react");
var _reactNative = require("react-native");
var _native = require("@react-navigation/native");
var _expoRouter = require("expo-router");
var _propTypes = _interopRequireDefault(require("prop-types"));
var _Container = _interopRequireWildcard(require("../../../components/layout/Container"));
var _GrammarHeader = _interopRequireDefault(require("./GrammarHeader"));
var _GrammarRuleSelector = _interopRequireDefault(require("./GrammarRuleSelector"));
var _GrammarProgress = _interopRequireDefault(require("./GrammarProgress"));
var _GrammarRuleContent = _interopRequireDefault(require("./GrammarRuleContent"));
var _GrammarExerciceRenderer = _interopRequireDefault(require("./GrammarExerciceRenderer"));
var _GrammarFeedback = _interopRequireDefault(require("./GrammarFeedback"));
var _GrammarNavigation = _interopRequireDefault(require("./GrammarNavigation"));
var _useGrammar2 = _interopRequireDefault(require("./hooks/useGrammar"));
var _grammarDataHelper = require("../../../utils/grammar/grammarDataHelper");
var _style = _interopRequireDefault(require("./style"));
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
var GrammarExercise = function GrammarExercise(_ref) {
  var route = _ref.route;
  var navigation = (0, _native.useNavigation)();
  var _ref2 = (route == null ? void 0 : route.params) || {},
    _ref2$level = _ref2.level,
    level = _ref2$level === void 0 ? "A1" : _ref2$level;
  var styles = (0, _style.default)();
  var _useState = (0, _react.useState)([]),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    grammarData = _useState2[0],
    setGrammarData = _useState2[1];
  var _useGrammar = (0, _useGrammar2.default)(grammarData, level),
    ruleIndex = _useGrammar.ruleIndex,
    exerciseIndex = _useGrammar.exerciseIndex,
    selectedOption = _useGrammar.selectedOption,
    setSelectedOption = _useGrammar.setSelectedOption,
    inputText = _useGrammar.inputText,
    setInputText = _useGrammar.setInputText,
    showFeedback = _useGrammar.showFeedback,
    isCorrect = _useGrammar.isCorrect,
    attempts = _useGrammar.attempts,
    completedExercises = _useGrammar.completedExercises,
    loaded = _useGrammar.loaded,
    showDetailedProgress = _useGrammar.showDetailedProgress,
    currentRule = _useGrammar.currentRule,
    currentExercise = _useGrammar.currentExercise,
    canCheckAnswer = _useGrammar.canCheckAnswer,
    isFirstExercise = _useGrammar.isFirstExercise,
    isLastExercise = _useGrammar.isLastExercise,
    changeRule = _useGrammar.changeRule,
    submitAnswer = _useGrammar.submitAnswer,
    nextExercise = _useGrammar.nextExercise,
    previousExercise = _useGrammar.previousExercise,
    retryExercise = _useGrammar.retryExercise,
    toggleDetailedProgress = _useGrammar.toggleDetailedProgress;
  var levelColor = (0, _react.useMemo)(function () {
    return (0, _grammarDataHelper.getLevelColor)(level);
  }, [level]);
  (0, _react.useEffect)(function () {
    var isMounted = true;
    var load = function () {
      var _ref3 = (0, _asyncToGenerator2.default)(function* () {
        if (process.env.JEST_WORKER_ID) {
          var _data = (0, _grammarDataHelper.getGrammarData)(level);
          if (isMounted) setGrammarData(_data);
          return;
        }
        var data = yield (0, _grammarDataHelper.loadGrammarData)(level);
        if (isMounted) setGrammarData(data);
      });
      return function load() {
        return _ref3.apply(this, arguments);
      };
    }();
    load();
    return function () {
      isMounted = false;
    };
  }, [level]);
  var handleBackPress = (0, _react.useCallback)(function () {
    _expoRouter.router.push({
      pathname: "/tabs/exerciseSelection",
      params: {
        level: level
      }
    });
  }, [level]);
  var handleCheckAnswer = (0, _react.useCallback)(function () {
    submitAnswer();
  }, [submitAnswer]);
  var handleNextExercise = (0, _react.useCallback)(function () {
    if (!nextExercise()) {
      navigation.goBack();
    }
  }, [nextExercise, navigation]);
  var handlePreviousExercise = (0, _react.useCallback)(function () {
    previousExercise();
  }, [previousExercise]);
  var handleRetryExercise = (0, _react.useCallback)(function () {
    retryExercise();
  }, [retryExercise]);
  var handleSkipExercise = (0, _react.useCallback)(function () {
    handleNextExercise();
  }, [handleNextExercise]);
  var handleRuleChange = (0, _react.useCallback)(function (index) {
    changeRule(index);
  }, [changeRule]);
  var handleRuleProgressPress = (0, _react.useCallback)(function (index) {
    changeRule(index);
  }, [changeRule]);
  var handleToggleProgressDetails = (0, _react.useCallback)(function () {
    toggleDetailedProgress();
  }, [toggleDetailedProgress]);
  var isLoading = (0, _react.useMemo)(function () {
    return !loaded || !grammarData.length;
  }, [loaded, grammarData.length]);
  if (isLoading) {
    return (0, _jsxRuntime.jsx)(_Container.default, {
      safeArea: true,
      safeAreaEdges: _Container.CONTAINER_SAFE_EDGES.ALL,
      backgroundColor: "#f8fafc",
      statusBarStyle: "dark-content",
      children: (0, _jsxRuntime.jsx)(_reactNative.View, {
        style: styles.loadingContainer,
        children: (0, _jsxRuntime.jsx)(_reactNative.ActivityIndicator, {
          size: "large",
          color: levelColor,
          testID: "activity-indicator"
        })
      })
    });
  }
  return (0, _jsxRuntime.jsxs)(_Container.default, {
    safeArea: true,
    safeAreaEdges: _Container.CONTAINER_SAFE_EDGES.ALL,
    withScrollView: true,
    backgroundColor: "#f8fafc",
    statusBarStyle: "dark-content",
    withPadding: false,
    scrollViewProps: {
      showsVerticalScrollIndicator: false,
      contentContainerStyle: styles.scrollContent
    },
    children: [(0, _jsxRuntime.jsx)(_GrammarHeader.default, {
      level: level,
      onBackPress: handleBackPress
    }), (0, _jsxRuntime.jsx)(_GrammarRuleSelector.default, {
      rules: grammarData,
      selectedIndex: ruleIndex,
      onSelectRule: handleRuleChange,
      levelColor: levelColor
    }), (0, _jsxRuntime.jsx)(_GrammarProgress.default, {
      grammarData: grammarData,
      completedExercises: completedExercises,
      levelColor: levelColor,
      expanded: showDetailedProgress,
      onToggleExpand: handleToggleProgressDetails,
      onRulePress: handleRuleProgressPress
    }), (0, _jsxRuntime.jsx)(_GrammarRuleContent.default, {
      rule: currentRule,
      levelColor: levelColor
    }), currentExercise && (0, _jsxRuntime.jsx)(_reactNative.View, {
      children: (0, _jsxRuntime.jsx)(_GrammarExerciceRenderer.default, {
        exercise: currentExercise,
        selectedOption: selectedOption,
        setSelectedOption: setSelectedOption,
        inputText: inputText,
        setInputText: setInputText,
        showFeedback: showFeedback,
        isCorrect: isCorrect,
        exerciseIndex: exerciseIndex,
        attempts: attempts
      })
    }, `exercise-${exerciseIndex}-${attempts}`), (0, _jsxRuntime.jsx)(_GrammarFeedback.default, {
      isVisible: showFeedback,
      isCorrect: isCorrect,
      explanation: currentExercise == null ? void 0 : currentExercise.explanation,
      correctAnswer: currentExercise == null ? void 0 : currentExercise.answer,
      attempts: attempts
    }), (0, _jsxRuntime.jsx)(_GrammarNavigation.default, {
      testID: "grammar-navigation",
      showFeedback: showFeedback,
      isCorrect: isCorrect,
      canCheckAnswer: canCheckAnswer,
      onCheckAnswer: handleCheckAnswer,
      onPreviousExercise: handlePreviousExercise,
      onNextExercise: handleNextExercise,
      onRetryExercise: handleRetryExercise,
      onSkipExercise: handleSkipExercise,
      isFirstExercise: isFirstExercise,
      isLastExercise: isLastExercise,
      attempts: attempts,
      levelColor: levelColor
    })]
  });
};
GrammarExercise.propTypes = {
  route: _propTypes.default.shape({
    params: _propTypes.default.shape({
      level: _propTypes.default.string.isRequired
    })
  }).isRequired
};
var _default = exports.default = GrammarExercise;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX3JlYWN0TmF0aXZlIiwiX25hdGl2ZSIsIl9leHBvUm91dGVyIiwiX3Byb3BUeXBlcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfQ29udGFpbmVyIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfR3JhbW1hckhlYWRlciIsIl9HcmFtbWFyUnVsZVNlbGVjdG9yIiwiX0dyYW1tYXJQcm9ncmVzcyIsIl9HcmFtbWFyUnVsZUNvbnRlbnQiLCJfR3JhbW1hckV4ZXJjaWNlUmVuZGVyZXIiLCJfR3JhbW1hckZlZWRiYWNrIiwiX0dyYW1tYXJOYXZpZ2F0aW9uIiwiX3VzZUdyYW1tYXIyIiwiX2dyYW1tYXJEYXRhSGVscGVyIiwiX3N0eWxlIiwiX2pzeFJ1bnRpbWUiLCJlIiwidCIsIldlYWtNYXAiLCJyIiwibiIsIl9fZXNNb2R1bGUiLCJvIiwiaSIsImYiLCJfX3Byb3RvX18iLCJkZWZhdWx0IiwiaGFzIiwiZ2V0Iiwic2V0IiwiX3QiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIkdyYW1tYXJFeGVyY2lzZSIsIl9yZWYiLCJyb3V0ZSIsIm5hdmlnYXRpb24iLCJ1c2VOYXZpZ2F0aW9uIiwiX3JlZjIiLCJwYXJhbXMiLCJfcmVmMiRsZXZlbCIsImxldmVsIiwic3R5bGVzIiwiY3JlYXRlU3R5bGVzIiwiX3VzZVN0YXRlIiwidXNlU3RhdGUiLCJfdXNlU3RhdGUyIiwiX3NsaWNlZFRvQXJyYXkyIiwiZ3JhbW1hckRhdGEiLCJzZXRHcmFtbWFyRGF0YSIsIl91c2VHcmFtbWFyIiwidXNlR3JhbW1hciIsInJ1bGVJbmRleCIsImV4ZXJjaXNlSW5kZXgiLCJzZWxlY3RlZE9wdGlvbiIsInNldFNlbGVjdGVkT3B0aW9uIiwiaW5wdXRUZXh0Iiwic2V0SW5wdXRUZXh0Iiwic2hvd0ZlZWRiYWNrIiwiaXNDb3JyZWN0IiwiYXR0ZW1wdHMiLCJjb21wbGV0ZWRFeGVyY2lzZXMiLCJsb2FkZWQiLCJzaG93RGV0YWlsZWRQcm9ncmVzcyIsImN1cnJlbnRSdWxlIiwiY3VycmVudEV4ZXJjaXNlIiwiY2FuQ2hlY2tBbnN3ZXIiLCJpc0ZpcnN0RXhlcmNpc2UiLCJpc0xhc3RFeGVyY2lzZSIsImNoYW5nZVJ1bGUiLCJzdWJtaXRBbnN3ZXIiLCJuZXh0RXhlcmNpc2UiLCJwcmV2aW91c0V4ZXJjaXNlIiwicmV0cnlFeGVyY2lzZSIsInRvZ2dsZURldGFpbGVkUHJvZ3Jlc3MiLCJsZXZlbENvbG9yIiwidXNlTWVtbyIsImdldExldmVsQ29sb3IiLCJ1c2VFZmZlY3QiLCJpc01vdW50ZWQiLCJsb2FkIiwiX3JlZjMiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJwcm9jZXNzIiwiZW52IiwiSkVTVF9XT1JLRVJfSUQiLCJkYXRhIiwiZ2V0R3JhbW1hckRhdGEiLCJsb2FkR3JhbW1hckRhdGEiLCJhcHBseSIsImFyZ3VtZW50cyIsImhhbmRsZUJhY2tQcmVzcyIsInVzZUNhbGxiYWNrIiwicm91dGVyIiwicHVzaCIsInBhdGhuYW1lIiwiaGFuZGxlQ2hlY2tBbnN3ZXIiLCJoYW5kbGVOZXh0RXhlcmNpc2UiLCJnb0JhY2siLCJoYW5kbGVQcmV2aW91c0V4ZXJjaXNlIiwiaGFuZGxlUmV0cnlFeGVyY2lzZSIsImhhbmRsZVNraXBFeGVyY2lzZSIsImhhbmRsZVJ1bGVDaGFuZ2UiLCJpbmRleCIsImhhbmRsZVJ1bGVQcm9ncmVzc1ByZXNzIiwiaGFuZGxlVG9nZ2xlUHJvZ3Jlc3NEZXRhaWxzIiwiaXNMb2FkaW5nIiwibGVuZ3RoIiwianN4Iiwic2FmZUFyZWEiLCJzYWZlQXJlYUVkZ2VzIiwiQ09OVEFJTkVSX1NBRkVfRURHRVMiLCJBTEwiLCJiYWNrZ3JvdW5kQ29sb3IiLCJzdGF0dXNCYXJTdHlsZSIsImNoaWxkcmVuIiwiVmlldyIsInN0eWxlIiwibG9hZGluZ0NvbnRhaW5lciIsIkFjdGl2aXR5SW5kaWNhdG9yIiwic2l6ZSIsImNvbG9yIiwidGVzdElEIiwianN4cyIsIndpdGhTY3JvbGxWaWV3Iiwid2l0aFBhZGRpbmciLCJzY3JvbGxWaWV3UHJvcHMiLCJzaG93c1ZlcnRpY2FsU2Nyb2xsSW5kaWNhdG9yIiwiY29udGVudENvbnRhaW5lclN0eWxlIiwic2Nyb2xsQ29udGVudCIsIm9uQmFja1ByZXNzIiwicnVsZXMiLCJzZWxlY3RlZEluZGV4Iiwib25TZWxlY3RSdWxlIiwiZXhwYW5kZWQiLCJvblRvZ2dsZUV4cGFuZCIsIm9uUnVsZVByZXNzIiwicnVsZSIsImV4ZXJjaXNlIiwiaXNWaXNpYmxlIiwiZXhwbGFuYXRpb24iLCJjb3JyZWN0QW5zd2VyIiwiYW5zd2VyIiwib25DaGVja0Fuc3dlciIsIm9uUHJldmlvdXNFeGVyY2lzZSIsIm9uTmV4dEV4ZXJjaXNlIiwib25SZXRyeUV4ZXJjaXNlIiwib25Ta2lwRXhlcmNpc2UiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJzaGFwZSIsInN0cmluZyIsImlzUmVxdWlyZWQiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBHcmFtbWFyRXhlcmNpc2UvaW5kZXguanMgLSBWRVJTSU9OIFRPVEFMRU1FTlQgUkVDT0TDiUVcclxuXHJcbmltcG9ydCB7IHVzZU1lbW8sIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IFZpZXcsIEFjdGl2aXR5SW5kaWNhdG9yIH0gZnJvbSBcInJlYWN0LW5hdGl2ZVwiO1xyXG5pbXBvcnQgeyB1c2VOYXZpZ2F0aW9uIH0gZnJvbSBcIkByZWFjdC1uYXZpZ2F0aW9uL25hdGl2ZVwiO1xyXG5pbXBvcnQgeyByb3V0ZXIgfSBmcm9tIFwiZXhwby1yb3V0ZXJcIjtcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJzsgLy8g4pyFIEltcG9ydCBkZSBQcm9wVHlwZXNcclxuXHJcbi8vIExheW91dFxyXG5pbXBvcnQgQ29udGFpbmVyLCB7IENPTlRBSU5FUl9TQUZFX0VER0VTIH0gZnJvbSBcIi4uLy4uLy4uL2NvbXBvbmVudHMvbGF5b3V0L0NvbnRhaW5lclwiO1xyXG5cclxuLy8gQ29tcG9uZW50c1xyXG5pbXBvcnQgR3JhbW1hckhlYWRlciBmcm9tIFwiLi9HcmFtbWFySGVhZGVyXCI7XHJcbmltcG9ydCBHcmFtbWFyUnVsZVNlbGVjdG9yIGZyb20gXCIuL0dyYW1tYXJSdWxlU2VsZWN0b3JcIjtcclxuaW1wb3J0IEdyYW1tYXJQcm9ncmVzcyBmcm9tIFwiLi9HcmFtbWFyUHJvZ3Jlc3NcIjtcclxuaW1wb3J0IEdyYW1tYXJSdWxlQ29udGVudCBmcm9tIFwiLi9HcmFtbWFyUnVsZUNvbnRlbnRcIjtcclxuaW1wb3J0IEdyYW1tYXJFeGVyY2lzZVJlbmRlcmVyIGZyb20gXCIuL0dyYW1tYXJFeGVyY2ljZVJlbmRlcmVyXCI7XHJcbmltcG9ydCBHcmFtbWFyRmVlZGJhY2sgZnJvbSBcIi4vR3JhbW1hckZlZWRiYWNrXCI7XHJcbmltcG9ydCBHcmFtbWFyTmF2aWdhdGlvbiBmcm9tIFwiLi9HcmFtbWFyTmF2aWdhdGlvblwiO1xyXG5cclxuLy8gSG9vayAmIFV0aWxzXHJcbmltcG9ydCB1c2VHcmFtbWFyIGZyb20gXCIuL2hvb2tzL3VzZUdyYW1tYXJcIjtcclxuaW1wb3J0IHsgZ2V0R3JhbW1hckRhdGEsIGxvYWRHcmFtbWFyRGF0YSwgZ2V0TGV2ZWxDb2xvciB9IGZyb20gXCIuLi8uLi8uLi91dGlscy9ncmFtbWFyL2dyYW1tYXJEYXRhSGVscGVyXCI7XHJcbmltcG9ydCBjcmVhdGVTdHlsZXMgZnJvbSBcIi4vc3R5bGVcIjtcclxuXHJcbi8qKlxyXG4gKiDwn46vIEdyYW1tYXJFeGVyY2lzZSAtIFZFUlNJT04gVE9UQUxFTUVOVCBSRUNPRMOJRSBBVkVDIE9QVElNSVNBVElPTlMgQ09NUEzDiFRFU1xyXG4gKiDinIUgTcOpbW9yaXNhdGlvbiBjb21wbMOodGUgYXZlYyB1c2VNZW1vIGV0IHVzZUNhbGxiYWNrXHJcbiAqIOKchSB1c2VFZmZlY3Qgb3B0aW1pc8OpIHBvdXIgc2F2ZUFjdGl2aXR5XHJcbiAqIOKchSBHZXN0aW9uIGRlcyBoYW5kbGVycyBtw6ltb3Jpc8Opc1xyXG4gKiDinIUgUGVyZm9ybWFuY2UgbWF4aW1hbGVcclxuICovXHJcbmNvbnN0IEdyYW1tYXJFeGVyY2lzZSA9ICh7IHJvdXRlIH0pID0+IHtcclxuICBjb25zdCBuYXZpZ2F0aW9uID0gdXNlTmF2aWdhdGlvbigpO1xyXG4gIGNvbnN0IHsgbGV2ZWwgPSBcIkExXCIgfSA9IHJvdXRlPy5wYXJhbXMgfHwge307XHJcbiAgY29uc3Qgc3R5bGVzID0gY3JlYXRlU3R5bGVzKCk7XHJcblxyXG4gIC8vIOKchSBDT1JSSUfDiSA6IETDqWNsYXJlciBncmFtbWFyRGF0YSBBVkFOVCBkJ2FwcGVsZXIgdXNlR3JhbW1hclxyXG4gIGNvbnN0IFtncmFtbWFyRGF0YSwgc2V0R3JhbW1hckRhdGFdID0gdXNlU3RhdGUoW10pO1xyXG5cclxuICAvLyBIb29rIHVuaWZpw6lcclxuICBjb25zdCB7XHJcbiAgICBydWxlSW5kZXgsXHJcbiAgICBleGVyY2lzZUluZGV4LFxyXG4gICAgc2VsZWN0ZWRPcHRpb24sXHJcbiAgICBzZXRTZWxlY3RlZE9wdGlvbixcclxuICAgIGlucHV0VGV4dCxcclxuICAgIHNldElucHV0VGV4dCxcclxuICAgIHNob3dGZWVkYmFjayxcclxuICAgIGlzQ29ycmVjdCxcclxuICAgIGF0dGVtcHRzLFxyXG4gICAgY29tcGxldGVkRXhlcmNpc2VzLFxyXG4gICAgbG9hZGVkLFxyXG4gICAgc2hvd0RldGFpbGVkUHJvZ3Jlc3MsXHJcbiAgICBjdXJyZW50UnVsZSxcclxuICAgIGN1cnJlbnRFeGVyY2lzZSxcclxuICAgIGNhbkNoZWNrQW5zd2VyLFxyXG4gICAgaXNGaXJzdEV4ZXJjaXNlLFxyXG4gICAgaXNMYXN0RXhlcmNpc2UsXHJcbiAgICBjaGFuZ2VSdWxlLFxyXG4gICAgc3VibWl0QW5zd2VyLFxyXG4gICAgbmV4dEV4ZXJjaXNlLFxyXG4gICAgcHJldmlvdXNFeGVyY2lzZSxcclxuICAgIHJldHJ5RXhlcmNpc2UsXHJcbiAgICB0b2dnbGVEZXRhaWxlZFByb2dyZXNzLFxyXG4gIH0gPSB1c2VHcmFtbWFyKGdyYW1tYXJEYXRhLCBsZXZlbCk7XHJcblxyXG4gIC8vIOKchSBNw4lNT1JJU0VSIGxlcyBkb25uw6llcyBwcmluY2lwYWxlc1xyXG4gIGNvbnN0IGxldmVsQ29sb3IgPSB1c2VNZW1vKCgpID0+IGdldExldmVsQ29sb3IobGV2ZWwpLCBbbGV2ZWxdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGxldCBpc01vdW50ZWQgPSB0cnVlO1xyXG4gICAgY29uc3QgbG9hZCA9IGFzeW5jICgpID0+IHtcclxuICAgICAgaWYgKHByb2Nlc3MuZW52LkpFU1RfV09SS0VSX0lEKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGdldEdyYW1tYXJEYXRhKGxldmVsKTtcclxuICAgICAgICBpZiAoaXNNb3VudGVkKSBzZXRHcmFtbWFyRGF0YShkYXRhKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGxvYWRHcmFtbWFyRGF0YShsZXZlbCk7XHJcbiAgICAgIGlmIChpc01vdW50ZWQpIHNldEdyYW1tYXJEYXRhKGRhdGEpO1xyXG4gICAgfTtcclxuICAgIGxvYWQoKTtcclxuICAgIHJldHVybiAoKSA9PiB7IGlzTW91bnRlZCA9IGZhbHNlOyB9O1xyXG4gIH0sIFtsZXZlbF0pO1xyXG5cclxuICAvLyDinIUgVE9VUyBMRVMgSEFORExFUlMgTcOJTU9SSVPDiVMgcG91ciDDqXZpdGVyIGxlcyByZS1yZW5kZXJzXHJcbiAgY29uc3QgaGFuZGxlQmFja1ByZXNzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgcm91dGVyLnB1c2goe1xyXG4gICAgICBwYXRobmFtZTogXCIvdGFicy9leGVyY2lzZVNlbGVjdGlvblwiLFxyXG4gICAgICBwYXJhbXM6IHsgbGV2ZWwgfVxyXG4gICAgfSk7XHJcbiAgfSwgW2xldmVsXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZUNoZWNrQW5zd2VyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgc3VibWl0QW5zd2VyKCk7XHJcbiAgfSwgW3N1Ym1pdEFuc3dlcl0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVOZXh0RXhlcmNpc2UgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBpZiAoIW5leHRFeGVyY2lzZSgpKSB7XHJcbiAgICAgIC8vIEFsbCBleGVyY2lzZXMgY29tcGxldGVkXHJcbiAgICAgIG5hdmlnYXRpb24uZ29CYWNrKCk7XHJcbiAgICB9XHJcbiAgfSwgW25leHRFeGVyY2lzZSwgbmF2aWdhdGlvbl0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVQcmV2aW91c0V4ZXJjaXNlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgcHJldmlvdXNFeGVyY2lzZSgpO1xyXG4gIH0sIFtwcmV2aW91c0V4ZXJjaXNlXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZVJldHJ5RXhlcmNpc2UgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICByZXRyeUV4ZXJjaXNlKCk7XHJcbiAgfSwgW3JldHJ5RXhlcmNpc2VdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU2tpcEV4ZXJjaXNlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgaGFuZGxlTmV4dEV4ZXJjaXNlKCk7XHJcbiAgfSwgW2hhbmRsZU5leHRFeGVyY2lzZV0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVSdWxlQ2hhbmdlID0gdXNlQ2FsbGJhY2soKGluZGV4KSA9PiB7XHJcbiAgICBjaGFuZ2VSdWxlKGluZGV4KTtcclxuICB9LCBbY2hhbmdlUnVsZV0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVSdWxlUHJvZ3Jlc3NQcmVzcyA9IHVzZUNhbGxiYWNrKChpbmRleCkgPT4ge1xyXG4gICAgY2hhbmdlUnVsZShpbmRleCk7XHJcbiAgfSwgW2NoYW5nZVJ1bGVdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlVG9nZ2xlUHJvZ3Jlc3NEZXRhaWxzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgdG9nZ2xlRGV0YWlsZWRQcm9ncmVzcygpO1xyXG4gIH0sIFt0b2dnbGVEZXRhaWxlZFByb2dyZXNzXSk7XHJcblxyXG4gIC8vIOKchSBNw4lNT1JJU0VSIGxlcyBjb25kaXRpb25zIGRlIHJlbmR1XHJcbiAgY29uc3QgaXNMb2FkaW5nID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICByZXR1cm4gIWxvYWRlZCB8fCAhZ3JhbW1hckRhdGEubGVuZ3RoO1xyXG4gIH0sIFtsb2FkZWQsIGdyYW1tYXJEYXRhLmxlbmd0aF0pO1xyXG5cclxuICAvLyBMb2FkaW5nIHN0YXRlXHJcbiAgaWYgKGlzTG9hZGluZykge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPENvbnRhaW5lclxyXG4gICAgICAgIHNhZmVBcmVhXHJcbiAgICAgICAgc2FmZUFyZWFFZGdlcz17Q09OVEFJTkVSX1NBRkVfRURHRVMuQUxMfVxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcj1cIiNmOGZhZmNcIlxyXG4gICAgICAgIHN0YXR1c0JhclN0eWxlPVwiZGFyay1jb250ZW50XCJcclxuICAgICAgPlxyXG4gICAgICAgIDxWaWV3IHN0eWxlPXtzdHlsZXMubG9hZGluZ0NvbnRhaW5lcn0+XHJcbiAgICAgICAgICA8QWN0aXZpdHlJbmRpY2F0b3Igc2l6ZT1cImxhcmdlXCIgY29sb3I9e2xldmVsQ29sb3J9IHRlc3RJRD1cImFjdGl2aXR5LWluZGljYXRvclwiIC8+XHJcbiAgICAgICAgPC9WaWV3PlxyXG4gICAgICA8L0NvbnRhaW5lcj5cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPENvbnRhaW5lclxyXG4gICAgICBzYWZlQXJlYVxyXG4gICAgICBzYWZlQXJlYUVkZ2VzPXtDT05UQUlORVJfU0FGRV9FREdFUy5BTEx9XHJcbiAgICAgIHdpdGhTY3JvbGxWaWV3XHJcbiAgICAgIGJhY2tncm91bmRDb2xvcj1cIiNmOGZhZmNcIlxyXG4gICAgICBzdGF0dXNCYXJTdHlsZT1cImRhcmstY29udGVudFwiXHJcbiAgICAgIHdpdGhQYWRkaW5nPXtmYWxzZX1cclxuICAgICAgc2Nyb2xsVmlld1Byb3BzPXt7XHJcbiAgICAgICAgc2hvd3NWZXJ0aWNhbFNjcm9sbEluZGljYXRvcjogZmFsc2UsXHJcbiAgICAgICAgY29udGVudENvbnRhaW5lclN0eWxlOiBzdHlsZXMuc2Nyb2xsQ29udGVudCxcclxuICAgICAgfX1cclxuICAgID5cclxuICAgICAgey8qIEhlYWRlciAqL31cclxuICAgICAgPEdyYW1tYXJIZWFkZXJcclxuICAgICAgICBsZXZlbD17bGV2ZWx9XHJcbiAgICAgICAgb25CYWNrUHJlc3M9e2hhbmRsZUJhY2tQcmVzc31cclxuICAgICAgLz5cclxuXHJcbiAgICAgIHsvKiBSdWxlIFNlbGVjdG9yICovfVxyXG4gICAgICA8R3JhbW1hclJ1bGVTZWxlY3RvclxyXG4gICAgICAgIHJ1bGVzPXtncmFtbWFyRGF0YX1cclxuICAgICAgICBzZWxlY3RlZEluZGV4PXtydWxlSW5kZXh9XHJcbiAgICAgICAgb25TZWxlY3RSdWxlPXtoYW5kbGVSdWxlQ2hhbmdlfVxyXG4gICAgICAgIGxldmVsQ29sb3I9e2xldmVsQ29sb3J9XHJcbiAgICAgIC8+XHJcblxyXG4gICAgICB7LyogUHJvZ3Jlc3MgKi99XHJcbiAgICAgIDxHcmFtbWFyUHJvZ3Jlc3NcclxuICAgICAgICBncmFtbWFyRGF0YT17Z3JhbW1hckRhdGF9XHJcbiAgICAgICAgY29tcGxldGVkRXhlcmNpc2VzPXtjb21wbGV0ZWRFeGVyY2lzZXN9XHJcbiAgICAgICAgbGV2ZWxDb2xvcj17bGV2ZWxDb2xvcn1cclxuICAgICAgICBleHBhbmRlZD17c2hvd0RldGFpbGVkUHJvZ3Jlc3N9XHJcbiAgICAgICAgb25Ub2dnbGVFeHBhbmQ9e2hhbmRsZVRvZ2dsZVByb2dyZXNzRGV0YWlsc31cclxuICAgICAgICBvblJ1bGVQcmVzcz17aGFuZGxlUnVsZVByb2dyZXNzUHJlc3N9XHJcbiAgICAgIC8+XHJcblxyXG4gICAgICB7LyogUnVsZSBDb250ZW50ICovfVxyXG4gICAgICA8R3JhbW1hclJ1bGVDb250ZW50IFxyXG4gICAgICAgIHJ1bGU9e2N1cnJlbnRSdWxlfSBcclxuICAgICAgICBsZXZlbENvbG9yPXtsZXZlbENvbG9yfVxyXG4gICAgICAvPlxyXG5cclxuICAgICAgey8qIEV4ZXJjaXNlIFJlbmRlcmVyICovfVxyXG4gICAgICB7Y3VycmVudEV4ZXJjaXNlICYmIChcclxuICAgICAgICA8VmlldyBrZXk9e2BleGVyY2lzZS0ke2V4ZXJjaXNlSW5kZXh9LSR7YXR0ZW1wdHN9YH0+XHJcbiAgICAgICAgICA8R3JhbW1hckV4ZXJjaXNlUmVuZGVyZXJcclxuICAgICAgICAgICAgZXhlcmNpc2U9e2N1cnJlbnRFeGVyY2lzZX1cclxuICAgICAgICAgICAgc2VsZWN0ZWRPcHRpb249e3NlbGVjdGVkT3B0aW9ufVxyXG4gICAgICAgICAgICBzZXRTZWxlY3RlZE9wdGlvbj17c2V0U2VsZWN0ZWRPcHRpb259XHJcbiAgICAgICAgICAgIGlucHV0VGV4dD17aW5wdXRUZXh0fVxyXG4gICAgICAgICAgICBzZXRJbnB1dFRleHQ9e3NldElucHV0VGV4dH1cclxuICAgICAgICAgICAgc2hvd0ZlZWRiYWNrPXtzaG93RmVlZGJhY2t9XHJcbiAgICAgICAgICAgIGlzQ29ycmVjdD17aXNDb3JyZWN0fVxyXG4gICAgICAgICAgICBleGVyY2lzZUluZGV4PXtleGVyY2lzZUluZGV4fVxyXG4gICAgICAgICAgICBhdHRlbXB0cz17YXR0ZW1wdHN9XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgIDwvVmlldz5cclxuICAgICAgKX1cclxuXHJcbiAgICAgIHsvKiBGZWVkYmFjayAqL31cclxuICAgICAgPEdyYW1tYXJGZWVkYmFja1xyXG4gICAgICAgIGlzVmlzaWJsZT17c2hvd0ZlZWRiYWNrfVxyXG4gICAgICAgIGlzQ29ycmVjdD17aXNDb3JyZWN0fVxyXG4gICAgICAgIGV4cGxhbmF0aW9uPXtjdXJyZW50RXhlcmNpc2U/LmV4cGxhbmF0aW9ufVxyXG4gICAgICAgIGNvcnJlY3RBbnN3ZXI9e2N1cnJlbnRFeGVyY2lzZT8uYW5zd2VyfVxyXG4gICAgICAgIGF0dGVtcHRzPXthdHRlbXB0c31cclxuICAgICAgLz5cclxuXHJcbiAgICAgIHsvKiBOYXZpZ2F0aW9uICovfVxyXG4gICAgICA8R3JhbW1hck5hdmlnYXRpb25cclxuICAgICAgICB0ZXN0SUQ9XCJncmFtbWFyLW5hdmlnYXRpb25cIlxyXG4gICAgICAgIHNob3dGZWVkYmFjaz17c2hvd0ZlZWRiYWNrfVxyXG4gICAgICAgIGlzQ29ycmVjdD17aXNDb3JyZWN0fVxyXG4gICAgICAgIGNhbkNoZWNrQW5zd2VyPXtjYW5DaGVja0Fuc3dlcn1cclxuICAgICAgICBvbkNoZWNrQW5zd2VyPXtoYW5kbGVDaGVja0Fuc3dlcn1cclxuICAgICAgICBvblByZXZpb3VzRXhlcmNpc2U9e2hhbmRsZVByZXZpb3VzRXhlcmNpc2V9XHJcbiAgICAgICAgb25OZXh0RXhlcmNpc2U9e2hhbmRsZU5leHRFeGVyY2lzZX1cclxuICAgICAgICBvblJldHJ5RXhlcmNpc2U9e2hhbmRsZVJldHJ5RXhlcmNpc2V9XHJcbiAgICAgICAgb25Ta2lwRXhlcmNpc2U9e2hhbmRsZVNraXBFeGVyY2lzZX1cclxuICAgICAgICBpc0ZpcnN0RXhlcmNpc2U9e2lzRmlyc3RFeGVyY2lzZX1cclxuICAgICAgICBpc0xhc3RFeGVyY2lzZT17aXNMYXN0RXhlcmNpc2V9XHJcbiAgICAgICAgYXR0ZW1wdHM9e2F0dGVtcHRzfVxyXG4gICAgICAgIGxldmVsQ29sb3I9e2xldmVsQ29sb3J9XHJcbiAgICAgIC8+XHJcbiAgICA8L0NvbnRhaW5lcj5cclxuICApO1xyXG59O1xyXG5cclxuLy8g4pyFIEFqb3V0IGRlIGxhIHZhbGlkYXRpb24gZGVzIHByb3BzXHJcbkdyYW1tYXJFeGVyY2lzZS5wcm9wVHlwZXMgPSB7XHJcbiAgcm91dGU6IFByb3BUeXBlcy5zaGFwZSh7XHJcbiAgICBwYXJhbXM6IFByb3BUeXBlcy5zaGFwZSh7XHJcbiAgICAgIGxldmVsOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgICB9KSxcclxuICB9KS5pc1JlcXVpcmVkLFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgR3JhbW1hckV4ZXJjaXNlOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUVBLElBQUFBLE1BQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLFlBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLE9BQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLFdBQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLFVBQUEsR0FBQUMsc0JBQUEsQ0FBQUwsT0FBQTtBQUdBLElBQUFNLFVBQUEsR0FBQUMsdUJBQUEsQ0FBQVAsT0FBQTtBQUdBLElBQUFRLGNBQUEsR0FBQUgsc0JBQUEsQ0FBQUwsT0FBQTtBQUNBLElBQUFTLG9CQUFBLEdBQUFKLHNCQUFBLENBQUFMLE9BQUE7QUFDQSxJQUFBVSxnQkFBQSxHQUFBTCxzQkFBQSxDQUFBTCxPQUFBO0FBQ0EsSUFBQVcsbUJBQUEsR0FBQU4sc0JBQUEsQ0FBQUwsT0FBQTtBQUNBLElBQUFZLHdCQUFBLEdBQUFQLHNCQUFBLENBQUFMLE9BQUE7QUFDQSxJQUFBYSxnQkFBQSxHQUFBUixzQkFBQSxDQUFBTCxPQUFBO0FBQ0EsSUFBQWMsa0JBQUEsR0FBQVQsc0JBQUEsQ0FBQUwsT0FBQTtBQUdBLElBQUFlLFlBQUEsR0FBQVYsc0JBQUEsQ0FBQUwsT0FBQTtBQUNBLElBQUFnQixrQkFBQSxHQUFBaEIsT0FBQTtBQUNBLElBQUFpQixNQUFBLEdBQUFaLHNCQUFBLENBQUFMLE9BQUE7QUFBbUMsSUFBQWtCLFdBQUEsR0FBQWxCLE9BQUE7QUFBQSxTQUFBTyx3QkFBQVksQ0FBQSxFQUFBQyxDQUFBLDZCQUFBQyxPQUFBLE1BQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQWQsdUJBQUEs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