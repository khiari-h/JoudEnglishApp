{"version":3,"names":["react_1","__importDefault","require","Route_1","import_mode_1","primitives_1","EmptyRoute_1","SuspenseFallback_1","Try_1","getSortedChildren","children","order","initialRouteName","length","sort","sortRoutesWithInitial","map","route","props","entries","_toConsumableArray2","default","ordered","_ref","name","redirect","initialParams","listeners","options","getId","console","warn","matchIndex","findIndex","child","_ref2","match","splice","Error","filter","Boolean","push","apply","useSortedScreens","_node$children","node","useRouteNode","sorted","useMemo","value","routeToScreen","exports","fromImport","_ref3","ErrorBoundary","component","_objectWithoutProperties2","_excluded","forwardRef","ref","createElement","EmptyRoute","Object","assign","_jsxRuntime","jsx","Try","catch","process","env","NODE_ENV","keys","fromLoadedRoute","res","Promise","then","qualifiedStore","WeakMap","getQualifiedRouteComponent","has","get","ScreenComponent","lazy","_asyncToGenerator2","loadRoute","Component","getLoadable","Suspense","fallback","SuspenseFallback","segment","QualifiedRoute","_ref5","navigation","_excluded2","loadable","Route","displayName","set","createGetIdForRoute","include","Map","dynamic","_segments$join","_ref6","arguments","undefined","_ref6$params","params","__EXPO_ROUTER_key","key","segments","values","Array","isArray","join","deep","contextKey","screenOptionsFactory","args","_route$loadRoute","staticOptions","generated","getNavOptions","staticResult","dynamicResult","output","tabBarItemStyle","display","tabBarButton","drawerItemStyle","height","_ref7","_excluded3","_react","Screen","getComponent"],"sources":["../src/useScreens.tsx"],"sourcesContent":["'use client';\n\nimport type {\n  EventMapBase,\n  NavigationState,\n  ParamListBase,\n  RouteConfig,\n  RouteProp,\n  ScreenListeners,\n} from '@react-navigation/native';\nimport React from 'react';\n\nimport {\n  DynamicConvention,\n  LoadedRoute,\n  Route,\n  RouteNode,\n  sortRoutesWithInitial,\n  useRouteNode,\n} from './Route';\nimport EXPO_ROUTER_IMPORT_MODE from './import-mode';\nimport { Screen } from './primitives';\nimport { EmptyRoute } from './views/EmptyRoute';\nimport { SuspenseFallback } from './views/SuspenseFallback';\nimport { Try } from './views/Try';\n\nexport type ScreenProps<\n  TOptions extends Record<string, any> = Record<string, any>,\n  TState extends NavigationState = NavigationState,\n  TEventMap extends EventMapBase = EventMapBase,\n> = {\n  /** Name is required when used inside a Layout component. */\n  name?: string;\n  /**\n   * Redirect to the nearest sibling route.\n   * If all children are `redirect={true}`, the layout will render `null` as there are no children to render.\n   */\n  redirect?: boolean;\n  initialParams?: Record<string, any>;\n  options?:\n    | TOptions\n    | ((prop: { route: RouteProp<ParamListBase, string>; navigation: any }) => TOptions);\n\n  listeners?:\n    | ScreenListeners<TState, TEventMap>\n    | ((prop: {\n        route: RouteProp<ParamListBase, string>;\n        navigation: any;\n      }) => ScreenListeners<TState, TEventMap>);\n\n  getId?: ({ params }: { params?: Record<string, any> }) => string | undefined;\n};\n\nfunction getSortedChildren(\n  children: RouteNode[],\n  order?: ScreenProps[],\n  initialRouteName?: string\n): { route: RouteNode; props: Partial<ScreenProps> }[] {\n  if (!order?.length) {\n    return children\n      .sort(sortRoutesWithInitial(initialRouteName))\n      .map((route) => ({ route, props: {} }));\n  }\n  const entries = [...children];\n\n  const ordered = order\n    .map(({ name, redirect, initialParams, listeners, options, getId }) => {\n      if (!entries.length) {\n        console.warn(`[Layout children]: Too many screens defined. Route \"${name}\" is extraneous.`);\n        return null;\n      }\n      const matchIndex = entries.findIndex((child) => child.route === name);\n      if (matchIndex === -1) {\n        console.warn(\n          `[Layout children]: No route named \"${name}\" exists in nested children:`,\n          children.map(({ route }) => route)\n        );\n        return null;\n      } else {\n        // Get match and remove from entries\n        const match = entries[matchIndex];\n        entries.splice(matchIndex, 1);\n\n        // Ensure to return null after removing from entries.\n        if (redirect) {\n          if (typeof redirect === 'string') {\n            throw new Error(`Redirecting to a specific route is not supported yet.`);\n          }\n          return null;\n        }\n\n        return {\n          route: match,\n          props: { initialParams, listeners, options, getId },\n        };\n      }\n    })\n    .filter(Boolean) as {\n    route: RouteNode;\n    props: Partial<ScreenProps>;\n  }[];\n\n  // Add any remaining children\n  ordered.push(\n    ...entries.sort(sortRoutesWithInitial(initialRouteName)).map((route) => ({ route, props: {} }))\n  );\n\n  return ordered;\n}\n\n/**\n * @returns React Navigation screens sorted by the `route` property.\n */\nexport function useSortedScreens(order: ScreenProps[]): React.ReactNode[] {\n  const node = useRouteNode();\n\n  const sorted = node?.children?.length\n    ? getSortedChildren(node.children, order, node.initialRouteName)\n    : [];\n  return React.useMemo(\n    () => sorted.map((value) => routeToScreen(value.route, value.props)),\n    [sorted]\n  );\n}\n\nfunction fromImport({ ErrorBoundary, ...component }: LoadedRoute) {\n  if (ErrorBoundary) {\n    return {\n      default: React.forwardRef((props: any, ref: any) => {\n        const children = React.createElement(component.default || EmptyRoute, {\n          ...props,\n          ref,\n        });\n        return <Try catch={ErrorBoundary}>{children}</Try>;\n      }),\n    };\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    if (\n      typeof component.default === 'object' &&\n      component.default &&\n      Object.keys(component.default).length === 0\n    ) {\n      return { default: EmptyRoute };\n    }\n  }\n\n  return { default: component.default };\n}\n\nfunction fromLoadedRoute(res: LoadedRoute) {\n  if (!(res instanceof Promise)) {\n    return fromImport(res);\n  }\n\n  return res.then(fromImport);\n}\n\n// TODO: Maybe there's a more React-y way to do this?\n// Without this store, the process enters a recursive loop.\nconst qualifiedStore = new WeakMap<RouteNode, React.ComponentType<any>>();\n\n/** Wrap the component with various enhancements and add access to child routes. */\nexport function getQualifiedRouteComponent(value: RouteNode) {\n  if (qualifiedStore.has(value)) {\n    return qualifiedStore.get(value)!;\n  }\n\n  let ScreenComponent: React.ForwardRefExoticComponent<React.RefAttributes<unknown>>;\n\n  // TODO: This ensures sync doesn't use React.lazy, but it's not ideal.\n  if (EXPO_ROUTER_IMPORT_MODE === 'lazy') {\n    ScreenComponent = React.lazy(async () => {\n      const res = value.loadRoute();\n      return fromLoadedRoute(res) as Promise<{\n        default: React.ComponentType<any>;\n      }>;\n    });\n  } else {\n    const res = value.loadRoute();\n    const Component = fromImport(res).default as React.ComponentType<any>;\n    ScreenComponent = React.forwardRef((props, ref) => {\n      return <Component {...props} ref={ref} />;\n    });\n  }\n\n  const getLoadable = (props: any, ref: any) => (\n    <React.Suspense fallback={<SuspenseFallback route={value} />}>\n      <ScreenComponent\n        {...{\n          ...props,\n          ref,\n          // Expose the template segment path, e.g. `(home)`, `[foo]`, `index`\n          // the intention is to make it possible to deduce shared routes.\n          segment: value.route,\n        }}\n      />\n    </React.Suspense>\n  );\n\n  const QualifiedRoute = React.forwardRef(\n    (\n      {\n        // Remove these React Navigation props to\n        // enforce usage of expo-router hooks (where the query params are correct).\n        route,\n        navigation,\n\n        // Pass all other props to the component\n        ...props\n      }: any,\n      ref: any\n    ) => {\n      const loadable = getLoadable(props, ref);\n\n      return (\n        <Route node={value} route={route}>\n          {loadable}\n        </Route>\n      );\n    }\n  );\n\n  QualifiedRoute.displayName = `Route(${value.route})`;\n\n  qualifiedStore.set(value, QualifiedRoute);\n  return QualifiedRoute;\n}\n\n/** @returns a function which provides a screen id that matches the dynamic route name in params. */\nexport function createGetIdForRoute(\n  route: Pick<RouteNode, 'dynamic' | 'route' | 'contextKey' | 'children'>\n) {\n  const include = new Map<string, DynamicConvention>();\n\n  if (route.dynamic) {\n    for (const segment of route.dynamic) {\n      include.set(segment.name, segment);\n    }\n  }\n\n  return ({ params = {} } = {} as { params?: Record<string, any> }) => {\n    if (params.__EXPO_ROUTER_key) {\n      const key = params.__EXPO_ROUTER_key;\n      delete params.__EXPO_ROUTER_key;\n      return key;\n    }\n\n    const segments: string[] = [];\n\n    for (const dynamic of include.values()) {\n      const value = params?.[dynamic.name];\n      if (Array.isArray(value) && value.length > 0) {\n        // If we are an array with a value\n        segments.push(value.join('/'));\n      } else if (value && !Array.isArray(value)) {\n        // If we have a value and not an empty array\n        segments.push(value);\n      } else if (dynamic.deep) {\n        segments.push(`[...${dynamic.name}]`);\n      } else {\n        segments.push(`[${dynamic.name}]`);\n      }\n    }\n\n    return segments.join('/') ?? route.contextKey;\n  };\n}\n\nexport function screenOptionsFactory(\n  route: RouteNode,\n  options?: ScreenProps['options']\n): RouteConfig<any, any, any, any, any, any>['options'] {\n  return (args) => {\n    // Only eager load generated components\n    const staticOptions = route.generated ? route.loadRoute()?.getNavOptions : null;\n    const staticResult = typeof staticOptions === 'function' ? staticOptions(args) : staticOptions;\n    const dynamicResult = typeof options === 'function' ? options?.(args) : options;\n    const output = {\n      ...staticResult,\n      ...dynamicResult,\n    };\n\n    // Prevent generated screens from showing up in the tab bar.\n    if (route.generated) {\n      output.tabBarItemStyle = { display: 'none' };\n      output.tabBarButton = () => null;\n      // TODO: React Navigation doesn't provide a way to prevent rendering the drawer item.\n      output.drawerItemStyle = { height: 0, display: 'none' };\n    }\n\n    return output;\n  };\n}\n\nexport function routeToScreen(route: RouteNode, { options, ...props }: Partial<ScreenProps> = {}) {\n  return (\n    <Screen\n      // Users can override the screen getId function.\n      getId={createGetIdForRoute(route)}\n      {...props}\n      name={route.route}\n      key={route.route}\n      options={screenOptionsFactory(route, options)}\n      getComponent={() => getQualifiedRouteComponent(route)}\n    />\n  );\n}\n"],"mappings":"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","ignoreList":[]}