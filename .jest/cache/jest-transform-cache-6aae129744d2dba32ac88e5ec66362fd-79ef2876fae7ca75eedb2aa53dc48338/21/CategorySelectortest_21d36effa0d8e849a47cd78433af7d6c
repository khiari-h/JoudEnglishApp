8d980c3c2d4cc838b85d630c6dfabffe
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _reactNative2 = require("react-native");
var _CategorySelector = _interopRequireWildcard(require("../../../src/components/exercise-common/CategorySelector"));
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
jest.spyOn(_reactNative2.Animated, 'timing').mockImplementation(function (value, config) {
  var mockTiming = {
    start: function start(callback) {
      if (callback) {
        callback({
          finished: true
        });
      }
    },
    stop: jest.fn()
  };
  return mockTiming;
});
jest.spyOn(_reactNative2.ScrollView.prototype, 'scrollTo').mockImplementation(function () {});
describe('CategorySelector Component', function () {
  var mockCategories = [{
    id: '1',
    name: 'Fruits'
  }, {
    id: '2',
    name: 'Vegetables'
  }, {
    id: '3',
    name: 'Dairy Products'
  }, {
    id: '4',
    name: 'Meat & Fish'
  }, {
    id: '5',
    name: 'Beverages'
  }];
  var defaultProps = {
    categories: mockCategories,
    selectedCategory: '1',
    onSelectCategory: jest.fn()
  };
  var renderCategorySelector = function renderCategorySelector() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    return (0, _reactNative.render)((0, _jsxRuntime.jsx)(_CategorySelector.default, Object.assign({}, defaultProps, props)));
  };
  beforeEach(function () {
    jest.clearAllMocks();
  });
  describe('Rendering', function () {
    it('should render without crashing', function () {
      expect(renderCategorySelector()).toBeTruthy();
    });
    it('should render all categories correctly', function () {
      var _renderCategorySelect = renderCategorySelector(),
        getByText = _renderCategorySelect.getByText;
      mockCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
    it('should render categories in the correct order', function () {
      var _renderCategorySelect2 = renderCategorySelector(),
        queryAllByText = _renderCategorySelect2.queryAllByText;
      var categoryNames = queryAllByText(/.+/).map(function (element) {
        return element.props.children;
      });
      expect(categoryNames).toEqual(mockCategories.map(function (cat) {
        return cat.name;
      }));
    });
    it('should handle empty categories array gracefully', function () {
      var _renderCategorySelect3 = renderCategorySelector({
          categories: []
        }),
        queryByText = _renderCategorySelect3.queryByText;
      mockCategories.forEach(function (category) {
        expect(queryByText(category.name)).toBeNull();
      });
    });
    it('should highlight the selected category visually', function () {
      var _renderCategorySelect4 = renderCategorySelector({
          selectedCategory: '2'
        }),
        getByText = _renderCategorySelect4.getByText,
        getByTestId = _renderCategorySelect4.getByTestId;
      expect(getByText('Vegetables')).toBeTruthy();
      var selectedPill = getByText('Vegetables').props.parent.props.accessibilityState.selected;
      expect(selectedPill).toBe(true);
    });
  });
  describe('User Interactions', function () {
    it('should call onSelectCategory when a different category is pressed', function () {
      var mockOnSelect = jest.fn();
      var _renderCategorySelect5 = renderCategorySelector({
          selectedCategory: '1',
          onSelectCategory: mockOnSelect
        }),
        getByText = _renderCategorySelect5.getByText;
      _reactNative.fireEvent.press(getByText('Vegetables'));
      expect(mockOnSelect).toHaveBeenCalledTimes(1);
      expect(mockOnSelect).toHaveBeenCalledWith('2');
    });
    it('should not call onSelectCategory when the same category is pressed', function () {
      var mockOnSelect = jest.fn();
      var _renderCategorySelect6 = renderCategorySelector({
          selectedCategory: '1',
          onSelectCategory: mockOnSelect
        }),
        getByText = _renderCategorySelect6.getByText;
      _reactNative.fireEvent.press(getByText('Fruits'));
      expect(mockOnSelect).not.toHaveBeenCalled();
    });
    it('should call onSelectCategory with correct category id for each category', function () {
      var mockOnSelect = jest.fn();
      var _renderCategorySelect7 = renderCategorySelector({
          selectedCategory: '1',
          onSelectCategory: mockOnSelect
        }),
        getByText = _renderCategorySelect7.getByText;
      var categoriesToTest = mockCategories.filter(function (cat) {
        return cat.id !== '1';
      });
      categoriesToTest.forEach(function (category) {
        _reactNative.fireEvent.press(getByText(category.name));
        expect(mockOnSelect).toHaveBeenCalledWith(category.id);
      });
      expect(mockOnSelect).toHaveBeenCalledTimes(categoriesToTest.length);
    });
  });
  describe('Animations', function () {
    it('should trigger press animations correctly', function () {
      var _renderCategorySelect8 = renderCategorySelector(),
        getByText = _renderCategorySelect8.getByText;
      var categoryPill = getByText('Vegetables');
      (0, _reactNative.act)(function () {
        (0, _reactNative.fireEvent)(categoryPill, 'pressIn');
        (0, _reactNative.fireEvent)(categoryPill, 'pressOut');
      });
      expect(categoryPill).toBeTruthy();
    });
    it('should handle rapid press interactions without crashing', function () {
      var mockOnSelect = jest.fn();
      var _renderCategorySelect9 = renderCategorySelector({
          onSelectCategory: mockOnSelect
        }),
        getByText = _renderCategorySelect9.getByText;
      var categoryPill = getByText('Vegetables');
      (0, _reactNative.act)(function () {
        (0, _reactNative.fireEvent)(categoryPill, 'pressIn');
        (0, _reactNative.fireEvent)(categoryPill, 'pressOut');
        _reactNative.fireEvent.press(categoryPill);
        (0, _reactNative.fireEvent)(categoryPill, 'pressIn');
        (0, _reactNative.fireEvent)(categoryPill, 'pressOut');
      });
      expect(mockOnSelect).toHaveBeenCalledWith('2');
      expect(categoryPill).toBeTruthy();
    });
    it('should not trigger new animation if one is already in progress', function () {
      var mockOnSelect = jest.fn();
      var _renderCategorySelect0 = renderCategorySelector({
          selectedCategory: '1',
          onSelectCategory: mockOnSelect
        }),
        getByText = _renderCategorySelect0.getByText;
      var animatedSpy = jest.spyOn(_reactNative2.Animated, 'timing');
      _reactNative.fireEvent.press(getByText('Vegetables'));
      _reactNative.fireEvent.press(getByText('Dairy Products'));
      expect(mockOnSelect).toHaveBeenCalledTimes(1);
      expect(mockOnSelect).toHaveBeenCalledWith('2');
      animatedSpy.mockRestore();
    });
  });
  describe('Scrolling Behavior', function () {
    it('should scroll to selected category on mount', (0, _asyncToGenerator2.default)(function* () {
      var _renderCategorySelect1 = renderCategorySelector({
          selectedCategory: '4'
        }),
        getByText = _renderCategorySelect1.getByText;
      expect(getByText('Meat & Fish')).toBeTruthy();
    }));
    it('should handle scrolling when selectedCategory changes', (0, _asyncToGenerator2.default)(function* () {
      var _renderCategorySelect10 = renderCategorySelector({
          selectedCategory: '1'
        }),
        rerender = _renderCategorySelect10.rerender,
        getByText = _renderCategorySelect10.getByText;
      var scrollToSpy = jest.spyOn(_reactNative2.ScrollView.prototype, 'scrollTo');
      rerender((0, _jsxRuntime.jsx)(_CategorySelector.default, Object.assign({}, defaultProps, {
        selectedCategory: "5"
      })));
      yield (0, _reactNative.waitFor)(function () {
        expect(scrollToSpy).toHaveBeenCalled();
      });
      expect(getByText('Beverages')).toBeTruthy();
      scrollToSpy.mockRestore();
    }));
  });
  describe('Edge Cases', function () {
    it('should handle undefined selectedCategory gracefully', function () {
      var _renderCategorySelect11 = renderCategorySelector({
          selectedCategory: undefined
        }),
        getByText = _renderCategorySelect11.getByText;
      mockCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
    it('should handle null selectedCategory gracefully', function () {
      var _renderCategorySelect12 = renderCategorySelector({
          selectedCategory: null
        }),
        getByText = _renderCategorySelect12.getByText;
      mockCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
    it('should handle non-existent selectedCategory id', function () {
      var _renderCategorySelect13 = renderCategorySelector({
          selectedCategory: 'non-existent'
        }),
        getByText = _renderCategorySelect13.getByText;
      mockCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
    it('should handle missing onSelectCategory prop gracefully', function () {
      var _renderCategorySelect14 = renderCategorySelector({
          onSelectCategory: undefined
        }),
        getByText = _renderCategorySelect14.getByText;
      expect(function () {
        _reactNative.fireEvent.press(getByText('Vegetables'));
      }).not.toThrow();
    });
    it('should handle categories with special characters in names', function () {
      var specialCategories = [{
        id: '1',
        name: 'Café & Thé'
      }, {
        id: '2',
        name: 'Fruits & Légumes'
      }, {
        id: '3',
        name: 'Viande/Poisson'
      }];
      var _renderCategorySelect15 = renderCategorySelector({
          categories: specialCategories
        }),
        getByText = _renderCategorySelect15.getByText;
      specialCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
    it('should handle very long category names', function () {
      var longNameCategories = [{
        id: '1',
        name: 'This is a very long category name that might cause layout issues'
      }, {
        id: '2',
        name: 'Short'
      }];
      var _renderCategorySelect16 = renderCategorySelector({
          categories: longNameCategories
        }),
        getByText = _renderCategorySelect16.getByText;
      longNameCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
  });
  describe('Performance', function () {
    it('should not re-render unnecessarily when props do not change', function () {
      var renderSpy = jest.fn();
      var TestWrapper = function TestWrapper(props) {
        renderSpy();
        return (0, _jsxRuntime.jsx)(_CategorySelector.default, Object.assign({}, props));
      };
      var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(TestWrapper, Object.assign({}, defaultProps))),
        rerender = _render.rerender;
      renderSpy.mockClear();
      rerender((0, _jsxRuntime.jsx)(TestWrapper, Object.assign({}, defaultProps)));
      expect(renderSpy).toHaveBeenCalledTimes(0);
    });
    it('should handle large number of categories efficiently', function () {
      var manyCategories = Array.from({
        length: 100
      }, function (_, i) {
        return {
          id: `${i + 1}`,
          name: `Category ${i + 1}`
        };
      });
      var startTime = Date.now();
      var _renderCategorySelect17 = renderCategorySelector({
          categories: manyCategories
        }),
        queryAllByText = _renderCategorySelect17.queryAllByText;
      var endTime = Date.now();
      expect(endTime - startTime).toBeLessThan(1000);
      var categoryElements = queryAllByText(/^Category/);
      expect(categoryElements).toHaveLength(100);
    });
  });
  describe('Accessibility', function () {
    it('should have proper accessibility labels', function () {
      var _renderCategorySelect18 = renderCategorySelector(),
        getByLabelText = _renderCategorySelect18.getByLabelText;
      mockCategories.forEach(function (category) {
        var element = getByLabelText(category.name);
        expect(element).toBeTruthy();
      });
    });
    it('should support screen reader navigation', function () {
      var _renderCategorySelect19 = renderCategorySelector(),
        getAllByRole = _renderCategorySelect19.getAllByRole;
      var buttons = getAllByRole('button');
      expect(buttons).toHaveLength(mockCategories.length);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdE5hdGl2ZSIsIl9yZWFjdE5hdGl2ZTIiLCJfQ2F0ZWdvcnlTZWxlY3RvciIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX2pzeFJ1bnRpbWUiLCJlIiwidCIsIldlYWtNYXAiLCJyIiwibiIsIl9fZXNNb2R1bGUiLCJvIiwiaSIsImYiLCJfX3Byb3RvX18iLCJkZWZhdWx0IiwiaGFzIiwiZ2V0Iiwic2V0IiwiX3QiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImplc3QiLCJzcHlPbiIsIkFuaW1hdGVkIiwibW9ja0ltcGxlbWVudGF0aW9uIiwidmFsdWUiLCJjb25maWciLCJtb2NrVGltaW5nIiwic3RhcnQiLCJjYWxsYmFjayIsImZpbmlzaGVkIiwic3RvcCIsImZuIiwiU2Nyb2xsVmlldyIsInByb3RvdHlwZSIsImRlc2NyaWJlIiwibW9ja0NhdGVnb3JpZXMiLCJpZCIsIm5hbWUiLCJkZWZhdWx0UHJvcHMiLCJjYXRlZ29yaWVzIiwic2VsZWN0ZWRDYXRlZ29yeSIsIm9uU2VsZWN0Q2F0ZWdvcnkiLCJyZW5kZXJDYXRlZ29yeVNlbGVjdG9yIiwicHJvcHMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJyZW5kZXIiLCJqc3giLCJhc3NpZ24iLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwiZXhwZWN0IiwidG9CZVRydXRoeSIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdCIsImdldEJ5VGV4dCIsImZvckVhY2giLCJjYXRlZ29yeSIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDIiLCJxdWVyeUFsbEJ5VGV4dCIsImNhdGVnb3J5TmFtZXMiLCJtYXAiLCJlbGVtZW50IiwiY2hpbGRyZW4iLCJ0b0VxdWFsIiwiY2F0IiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0MyIsInF1ZXJ5QnlUZXh0IiwidG9CZU51bGwiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3Q0IiwiZ2V0QnlUZXN0SWQiLCJzZWxlY3RlZFBpbGwiLCJwYXJlbnQiLCJhY2Nlc3NpYmlsaXR5U3RhdGUiLCJzZWxlY3RlZCIsInRvQmUiLCJtb2NrT25TZWxlY3QiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3Q1IiwiZmlyZUV2ZW50IiwicHJlc3MiLCJ0b0hhdmVCZWVuQ2FsbGVkVGltZXMiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDYiLCJub3QiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0NyIsImNhdGVnb3JpZXNUb1Rlc3QiLCJmaWx0ZXIiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3Q4IiwiY2F0ZWdvcnlQaWxsIiwiYWN0IiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0OSIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDAiLCJhbmltYXRlZFNweSIsIm1vY2tSZXN0b3JlIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0MSIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDEwIiwicmVyZW5kZXIiLCJzY3JvbGxUb1NweSIsIndhaXRGb3IiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3QxMSIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDEyIiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0MTMiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3QxNCIsInRvVGhyb3ciLCJzcGVjaWFsQ2F0ZWdvcmllcyIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDE1IiwibG9uZ05hbWVDYXRlZ29yaWVzIiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0MTYiLCJyZW5kZXJTcHkiLCJUZXN0V3JhcHBlciIsIl9yZW5kZXIiLCJtb2NrQ2xlYXIiLCJtYW55Q2F0ZWdvcmllcyIsIkFycmF5IiwiZnJvbSIsIl8iLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0MTciLCJlbmRUaW1lIiwidG9CZUxlc3NUaGFuIiwiY2F0ZWdvcnlFbGVtZW50cyIsInRvSGF2ZUxlbmd0aCIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDE4IiwiZ2V0QnlMYWJlbFRleHQiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3QxOSIsImdldEFsbEJ5Um9sZSIsImJ1dHRvbnMiXSwic291cmNlcyI6WyJDYXRlZ29yeVNlbGVjdG9yLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gX190ZXN0c19fL0NhdGVnb3J5U2VsZWN0b3IudGVzdC5qc1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlciwgZmlyZUV2ZW50LCBhY3QsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgeyBBbmltYXRlZCwgU2Nyb2xsVmlldyB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7IC8vIEltcG9ydGV6IFNjcm9sbFZpZXcgcG91ciBsZSBtb2NrZXJcbmltcG9ydCBDYXRlZ29yeVNlbGVjdG9yLCB7IGFyZUVxdWFsIH0gZnJvbSAnLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvZXhlcmNpc2UtY29tbW9uL0NhdGVnb3J5U2VsZWN0b3InO1xuXG4vLyAtLS0gRMOpZmluaXRpb24gZGVzIE1vY2tzIHBvdXIgcsOpc291ZHJlIGxlcyBwcm9ibMOobWVzIGRlIHJlbmR1L2FuaW1hdGlvbiAtLS1cblxuLy8gTW9ja2VyIEFuaW1hdGVkLnRpbWluZyBwb3VyIHF1J2lsIHNlIHRlcm1pbmUgaW1tw6lkaWF0ZW1lbnRcbmplc3Quc3B5T24oQW5pbWF0ZWQsICd0aW1pbmcnKS5tb2NrSW1wbGVtZW50YXRpb24oKHZhbHVlLCBjb25maWcpID0+IHtcbiAgY29uc3QgbW9ja1RpbWluZyA9IHtcbiAgICBzdGFydDogKGNhbGxiYWNrKSA9PiB7XG4gICAgICAvLyBFeMOpY3V0ZXIgbGUgY2FsbGJhY2sgZGUgZmluIGQnYW5pbWF0aW9uIGltbcOpZGlhdGVtZW50XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2soeyBmaW5pc2hlZDogdHJ1ZSB9KTsgLy8gU2ltdWxlciBsYSBmaW4gZGUgbCdhbmltYXRpb25cbiAgICAgIH1cbiAgICB9LFxuICAgIHN0b3A6IGplc3QuZm4oKSxcbiAgfTtcbiAgcmV0dXJuIG1vY2tUaW1pbmc7XG59KTtcblxuLy8gTW9ja2VyIGxhIG3DqXRob2RlIGBzY3JvbGxUb2AgZGUgU2Nyb2xsVmlldyBwb3VyIMOpdml0ZXIgbGVzIGVycmV1cnMgZGUgbGF5b3V0XG5qZXN0LnNweU9uKFNjcm9sbFZpZXcucHJvdG90eXBlLCAnc2Nyb2xsVG8nKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge30pO1xuXG4vLyAtLS0gRmluIGRlcyBNb2NrcyAtLS1cblxuZGVzY3JpYmUoJ0NhdGVnb3J5U2VsZWN0b3IgQ29tcG9uZW50JywgKCkgPT4ge1xuICAvLyBNb2NrIGRhdGFcbiAgY29uc3QgbW9ja0NhdGVnb3JpZXMgPSBbXG4gICAgeyBpZDogJzEnLCBuYW1lOiAnRnJ1aXRzJyB9LFxuICAgIHsgaWQ6ICcyJywgbmFtZTogJ1ZlZ2V0YWJsZXMnIH0sXG4gICAgeyBpZDogJzMnLCBuYW1lOiAnRGFpcnkgUHJvZHVjdHMnIH0sXG4gICAgeyBpZDogJzQnLCBuYW1lOiAnTWVhdCAmIEZpc2gnIH0sXG4gICAgeyBpZDogJzUnLCBuYW1lOiAnQmV2ZXJhZ2VzJyB9LFxuICBdO1xuXG4gIGNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgICBjYXRlZ29yaWVzOiBtb2NrQ2F0ZWdvcmllcyxcbiAgICBzZWxlY3RlZENhdGVnb3J5OiAnMScsXG4gICAgb25TZWxlY3RDYXRlZ29yeTogamVzdC5mbigpLFxuICB9O1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiBwb3VyIGNyw6llciBsZSBjb21wb3NhbnQgYXZlYyBwcm9wc1xuICBjb25zdCByZW5kZXJDYXRlZ29yeVNlbGVjdG9yID0gKHByb3BzID0ge30pID0+IHtcbiAgICByZXR1cm4gcmVuZGVyKDxDYXRlZ29yeVNlbGVjdG9yIHsuLi5kZWZhdWx0UHJvcHN9IHsuLi5wcm9wc30gLz4pO1xuICB9O1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICB9KTtcblxuICAvLyAtLS0gUkVOREVSSU5HIC0tLVxuICBkZXNjcmliZSgnUmVuZGVyaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmVuZGVyIHdpdGhvdXQgY3Jhc2hpbmcnLCAoKSA9PiB7XG4gICAgICAvLyBMZSBjb21wb3NhbnQgbmUgY3Jhc2ggcGFzIHMnaWwgZXN0IHJlbmR1XG4gICAgICBleHBlY3QocmVuZGVyQ2F0ZWdvcnlTZWxlY3RvcigpKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbmRlciBhbGwgY2F0ZWdvcmllcyBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3RvcigpO1xuICAgICAgXG4gICAgICBtb2NrQ2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgZXhwZWN0KGdldEJ5VGV4dChjYXRlZ29yeS5uYW1lKSkudG9CZVRydXRoeSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbmRlciBjYXRlZ29yaWVzIGluIHRoZSBjb3JyZWN0IG9yZGVyJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBxdWVyeUFsbEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3RvcigpO1xuICAgICAgY29uc3QgY2F0ZWdvcnlOYW1lcyA9IHF1ZXJ5QWxsQnlUZXh0KC8uKy8pLm1hcChlbGVtZW50ID0+IGVsZW1lbnQucHJvcHMuY2hpbGRyZW4pO1xuICAgICAgXG4gICAgICBleHBlY3QoY2F0ZWdvcnlOYW1lcykudG9FcXVhbChtb2NrQ2F0ZWdvcmllcy5tYXAoY2F0ID0+IGNhdC5uYW1lKSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSBjYXRlZ29yaWVzIGFycmF5IGdyYWNlZnVsbHknLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHF1ZXJ5QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHsgY2F0ZWdvcmllczogW10gfSk7XG4gICAgICBcbiAgICAgIG1vY2tDYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgICBleHBlY3QocXVlcnlCeVRleHQoY2F0ZWdvcnkubmFtZSkpLnRvQmVOdWxsKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGlnaGxpZ2h0IHRoZSBzZWxlY3RlZCBjYXRlZ29yeSB2aXN1YWxseScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0LCBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7IHNlbGVjdGVkQ2F0ZWdvcnk6ICcyJyB9KTtcbiAgICAgIC8vIFbDqXJpZmllciBxdWUgbGUgdGV4dGUgZGUgbGEgY2F0w6lnb3JpZSBzw6lsZWN0aW9ubsOpZSBleGlzdGVcbiAgICAgIGV4cGVjdChnZXRCeVRleHQoJ1ZlZ2V0YWJsZXMnKSkudG9CZVRydXRoeSgpO1xuICAgICAgLy8gTGUgY29tcG9zYW50IGEgw6l0w6kgY29uw6d1IHBvdXIgYWpvdXRlciB1biB0ZXN0SUQgc3DDqWNpZmlxdWUgYXUgcGlsbCBzw6lsZWN0aW9ubsOpXG4gICAgICAvLyBJbCBmYXV0IGRvbmMgYWRhcHRlciBsZSB0ZXN0IHNpIG7DqWNlc3NhaXJlXG4gICAgICAvLyBgZ2V0QnlUZXN0SWQoJ2NhdGVnb3J5LXBpbGwtMicpYCBuJ2VzdCBwYXMgZGFucyBsZSBjb2RlIGR1IGNvbXBvc2FudCBmb3VybmksXG4gICAgICAvLyBvbiBwZXV0IHRlc3RlciBsYSBwcsOpc2VuY2UgZCd1biBhdXRyZSDDqWzDqW1lbnQgY29tbWUgdW4gZW1vamkgb3UgdW4gc3R5bGVcbiAgICAgIGNvbnN0IHNlbGVjdGVkUGlsbCA9IGdldEJ5VGV4dCgnVmVnZXRhYmxlcycpLnByb3BzLnBhcmVudC5wcm9wcy5hY2Nlc3NpYmlsaXR5U3RhdGUuc2VsZWN0ZWQ7XG4gICAgICBleHBlY3Qoc2VsZWN0ZWRQaWxsKS50b0JlKHRydWUpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyAtLS0gVVNFUiBJTlRFUkFDVElPTlMgLS0tXG4gIGRlc2NyaWJlKCdVc2VyIEludGVyYWN0aW9ucycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNhbGwgb25TZWxlY3RDYXRlZ29yeSB3aGVuIGEgZGlmZmVyZW50IGNhdGVnb3J5IGlzIHByZXNzZWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrT25TZWxlY3QgPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7IFxuICAgICAgICBzZWxlY3RlZENhdGVnb3J5OiAnMScsIFxuICAgICAgICBvblNlbGVjdENhdGVnb3J5OiBtb2NrT25TZWxlY3QgXG4gICAgICB9KTtcblxuICAgICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGV4dCgnVmVnZXRhYmxlcycpKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KG1vY2tPblNlbGVjdCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAgICAgZXhwZWN0KG1vY2tPblNlbGVjdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJzInKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbm90IGNhbGwgb25TZWxlY3RDYXRlZ29yeSB3aGVuIHRoZSBzYW1lIGNhdGVnb3J5IGlzIHByZXNzZWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrT25TZWxlY3QgPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7IFxuICAgICAgICBzZWxlY3RlZENhdGVnb3J5OiAnMScsIFxuICAgICAgICBvblNlbGVjdENhdGVnb3J5OiBtb2NrT25TZWxlY3QgXG4gICAgICB9KTtcblxuICAgICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGV4dCgnRnJ1aXRzJykpO1xuICAgICAgXG4gICAgICBleHBlY3QobW9ja09uU2VsZWN0KS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjYWxsIG9uU2VsZWN0Q2F0ZWdvcnkgd2l0aCBjb3JyZWN0IGNhdGVnb3J5IGlkIGZvciBlYWNoIGNhdGVnb3J5JywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja09uU2VsZWN0ID0gamVzdC5mbigpO1xuICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoeyBcbiAgICAgICAgc2VsZWN0ZWRDYXRlZ29yeTogJzEnLCBcbiAgICAgICAgb25TZWxlY3RDYXRlZ29yeTogbW9ja09uU2VsZWN0IFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGNhdGVnb3JpZXNUb1Rlc3QgPSBtb2NrQ2F0ZWdvcmllcy5maWx0ZXIoY2F0ID0+IGNhdC5pZCAhPT0gJzEnKTtcbiAgICAgIFxuICAgICAgY2F0ZWdvcmllc1RvVGVzdC5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGV4dChjYXRlZ29yeS5uYW1lKSk7XG4gICAgICAgIGV4cGVjdChtb2NrT25TZWxlY3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGNhdGVnb3J5LmlkKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QobW9ja09uU2VsZWN0KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoY2F0ZWdvcmllc1RvVGVzdC5sZW5ndGgpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyAtLS0gQU5JTUFUSU9OUyAtLS1cbiAgZGVzY3JpYmUoJ0FuaW1hdGlvbnMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCB0cmlnZ2VyIHByZXNzIGFuaW1hdGlvbnMgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoKTtcbiAgICAgIGNvbnN0IGNhdGVnb3J5UGlsbCA9IGdldEJ5VGV4dCgnVmVnZXRhYmxlcycpO1xuXG4gICAgICAvLyBUZXN0IHByZXNzSW4vcHJlc3NPdXQgYW5pbWF0aW9ucyBzYW5zIGNyYXNoXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICBmaXJlRXZlbnQoY2F0ZWdvcnlQaWxsLCAncHJlc3NJbicpO1xuICAgICAgICBmaXJlRXZlbnQoY2F0ZWdvcnlQaWxsLCAncHJlc3NPdXQnKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoY2F0ZWdvcnlQaWxsKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSByYXBpZCBwcmVzcyBpbnRlcmFjdGlvbnMgd2l0aG91dCBjcmFzaGluZycsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tPblNlbGVjdCA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHsgb25TZWxlY3RDYXRlZ29yeTogbW9ja09uU2VsZWN0IH0pO1xuICAgICAgY29uc3QgY2F0ZWdvcnlQaWxsID0gZ2V0QnlUZXh0KCdWZWdldGFibGVzJyk7XG5cbiAgICAgIC8vIFNpbXVsZXIgZGVzIHByZXNzaW9ucyByYXBpZGVzXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICBmaXJlRXZlbnQoY2F0ZWdvcnlQaWxsLCAncHJlc3NJbicpO1xuICAgICAgICBmaXJlRXZlbnQoY2F0ZWdvcnlQaWxsLCAncHJlc3NPdXQnKTtcbiAgICAgICAgZmlyZUV2ZW50LnByZXNzKGNhdGVnb3J5UGlsbCk7XG4gICAgICAgIGZpcmVFdmVudChjYXRlZ29yeVBpbGwsICdwcmVzc0luJyk7XG4gICAgICAgIGZpcmVFdmVudChjYXRlZ29yeVBpbGwsICdwcmVzc091dCcpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChtb2NrT25TZWxlY3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcyJyk7XG4gICAgICBleHBlY3QoY2F0ZWdvcnlQaWxsKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG5vdCB0cmlnZ2VyIG5ldyBhbmltYXRpb24gaWYgb25lIGlzIGFscmVhZHkgaW4gcHJvZ3Jlc3MnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1vY2tPblNlbGVjdCA9IGplc3QuZm4oKTtcbiAgICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoeyBzZWxlY3RlZENhdGVnb3J5OiAnMScsIG9uU2VsZWN0Q2F0ZWdvcnk6IG1vY2tPblNlbGVjdCB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGFuaW1hdGVkU3B5ID0gamVzdC5zcHlPbihBbmltYXRlZCwgJ3RpbWluZycpO1xuICAgICAgICBcbiAgICAgICAgLy8gU2ltdWxlciB1biBjbGljIHF1aSBjb21tZW5jZSB1bmUgYW5pbWF0aW9uXG4gICAgICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRleHQoJ1ZlZ2V0YWJsZXMnKSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTaW11bGVyIHVuIHNlY29uZCBjbGljIGF2YW50IHF1ZSBsYSBwcmVtacOocmUgYW5pbWF0aW9uIG5lIHNvaXQgdGVybWluw6llIChsZSBtb2NrIGwnaWdub3JlKVxuICAgICAgICBmaXJlRXZlbnQucHJlc3MoZ2V0QnlUZXh0KCdEYWlyeSBQcm9kdWN0cycpKTtcbiAgICAgICAgXG4gICAgICAgIGV4cGVjdChtb2NrT25TZWxlY3QpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTsgLy8gU2V1bCBsZSBwcmVtaWVyIGNsaWMgZG9pdCDDqnRyZSBwcmlzIGVuIGNvbXB0ZVxuICAgICAgICBleHBlY3QobW9ja09uU2VsZWN0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnMicpO1xuICAgICAgICBcbiAgICAgICAgYW5pbWF0ZWRTcHkubW9ja1Jlc3RvcmUoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gLS0tIFNDUk9MTElORyBCRUhBVklPUiAtLS1cbiAgZGVzY3JpYmUoJ1Njcm9sbGluZyBCZWhhdmlvcicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHNjcm9sbCB0byBzZWxlY3RlZCBjYXRlZ29yeSBvbiBtb3VudCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHsgc2VsZWN0ZWRDYXRlZ29yeTogJzQnIH0pO1xuICAgICAgXG4gICAgICAvLyBMYSBsaWduZSBkZSBtb2NrIGBqZXN0LnNweU9uKFNjcm9sbFZpZXcucHJvdG90eXBlLCAnc2Nyb2xsVG8nKS4uLmBcbiAgICAgIC8vIGEgZMOpasOgIG1pcyBlbiBwbGFjZSBsYSB2w6lyaWZpY2F0aW9uLlxuICAgICAgLy8gTGUgc2ltcGxlIGZhaXQgcXVlIGxlIHRlc3QgbmUgY3Jhc2ggcGFzIGVzdCB1bmUgdmFsaWRhdGlvbi5cbiAgICAgIGV4cGVjdChnZXRCeVRleHQoJ01lYXQgJiBGaXNoJykpLnRvQmVUcnV0aHkoKTtcbiAgICAgIFxuICAgICAgLy8gT24gcGV1dCBham91dGVyIHVuZSBhc3NlcnRpb24gcGx1cyBzcMOpY2lmaXF1ZSBzaSBvbiB2ZXV0XG4gICAgICAvLyBleHBlY3QoU2Nyb2xsVmlldy5wcm90b3R5cGUuc2Nyb2xsVG8pLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHNjcm9sbGluZyB3aGVuIHNlbGVjdGVkQ2F0ZWdvcnkgY2hhbmdlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVyZW5kZXIsIGdldEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7IHNlbGVjdGVkQ2F0ZWdvcnk6ICcxJyB9KTtcbiAgICAgIFxuICAgICAgY29uc3Qgc2Nyb2xsVG9TcHkgPSBqZXN0LnNweU9uKFNjcm9sbFZpZXcucHJvdG90eXBlLCAnc2Nyb2xsVG8nKTtcbiAgICAgIFxuICAgICAgLy8gQ2hhbmdlciBsYSBjYXTDqWdvcmllIHPDqWxlY3Rpb25uw6llXG4gICAgICByZXJlbmRlcihcbiAgICAgICAgPENhdGVnb3J5U2VsZWN0b3IgXG4gICAgICAgICAgey4uLmRlZmF1bHRQcm9wc30gXG4gICAgICAgICAgc2VsZWN0ZWRDYXRlZ29yeT1cIjVcIiBcbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIC8vIE9uIHMnYXR0ZW5kIMOgIGNlIHF1ZSBzY3JvbGxUbyBzb2l0IGFwcGVsw6lcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICAgIGV4cGVjdChzY3JvbGxUb1NweSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChnZXRCeVRleHQoJ0JldmVyYWdlcycpKS50b0JlVHJ1dGh5KCk7XG4gICAgICBzY3JvbGxUb1NweS5tb2NrUmVzdG9yZSgpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyAtLS0gRURHRSBDQVNFUyAtLS1cbiAgZGVzY3JpYmUoJ0VkZ2UgQ2FzZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdW5kZWZpbmVkIHNlbGVjdGVkQ2F0ZWdvcnkgZ3JhY2VmdWxseScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHsgc2VsZWN0ZWRDYXRlZ29yeTogdW5kZWZpbmVkIH0pO1xuICAgICAgbW9ja0NhdGVnb3JpZXMuZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICAgIGV4cGVjdChnZXRCeVRleHQoY2F0ZWdvcnkubmFtZSkpLnRvQmVUcnV0aHkoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbnVsbCBzZWxlY3RlZENhdGVnb3J5IGdyYWNlZnVsbHknLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7IHNlbGVjdGVkQ2F0ZWdvcnk6IG51bGwgfSk7XG4gICAgICBtb2NrQ2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgZXhwZWN0KGdldEJ5VGV4dChjYXRlZ29yeS5uYW1lKSkudG9CZVRydXRoeSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBub24tZXhpc3RlbnQgc2VsZWN0ZWRDYXRlZ29yeSBpZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHsgc2VsZWN0ZWRDYXRlZ29yeTogJ25vbi1leGlzdGVudCcgfSk7XG4gICAgICBtb2NrQ2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgZXhwZWN0KGdldEJ5VGV4dChjYXRlZ29yeS5uYW1lKSkudG9CZVRydXRoeSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtaXNzaW5nIG9uU2VsZWN0Q2F0ZWdvcnkgcHJvcCBncmFjZWZ1bGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoeyBvblNlbGVjdENhdGVnb3J5OiB1bmRlZmluZWQgfSk7XG4gICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICBmaXJlRXZlbnQucHJlc3MoZ2V0QnlUZXh0KCdWZWdldGFibGVzJykpO1xuICAgICAgfSkubm90LnRvVGhyb3coKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNhdGVnb3JpZXMgd2l0aCBzcGVjaWFsIGNoYXJhY3RlcnMgaW4gbmFtZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzcGVjaWFsQ2F0ZWdvcmllcyA9IFtcbiAgICAgICAgeyBpZDogJzEnLCBuYW1lOiAnQ2Fmw6kgJiBUaMOpJyB9LFxuICAgICAgICB7IGlkOiAnMicsIG5hbWU6ICdGcnVpdHMgJiBMw6lndW1lcycgfSxcbiAgICAgICAgeyBpZDogJzMnLCBuYW1lOiAnVmlhbmRlL1BvaXNzb24nIH0sXG4gICAgICBdO1xuICAgICAgXG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7IGNhdGVnb3JpZXM6IHNwZWNpYWxDYXRlZ29yaWVzIH0pO1xuICAgICAgc3BlY2lhbENhdGVnb3JpZXMuZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICAgIGV4cGVjdChnZXRCeVRleHQoY2F0ZWdvcnkubmFtZSkpLnRvQmVUcnV0aHkoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdmVyeSBsb25nIGNhdGVnb3J5IG5hbWVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgbG9uZ05hbWVDYXRlZ29yaWVzID0gW1xuICAgICAgICB7IGlkOiAnMScsIG5hbWU6ICdUaGlzIGlzIGEgdmVyeSBsb25nIGNhdGVnb3J5IG5hbWUgdGhhdCBtaWdodCBjYXVzZSBsYXlvdXQgaXNzdWVzJyB9LFxuICAgICAgICB7IGlkOiAnMicsIG5hbWU6ICdTaG9ydCcgfSxcbiAgICAgIF07XG4gICAgICBcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHsgY2F0ZWdvcmllczogbG9uZ05hbWVDYXRlZ29yaWVzIH0pO1xuICAgICAgbG9uZ05hbWVDYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgICBleHBlY3QoZ2V0QnlUZXh0KGNhdGVnb3J5Lm5hbWUpKS50b0JlVHJ1dGh5KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gLS0tIFBFUkZPUk1BTkNFIC0tLVxuICBkZXNjcmliZSgnUGVyZm9ybWFuY2UnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBub3QgcmUtcmVuZGVyIHVubmVjZXNzYXJpbHkgd2hlbiBwcm9wcyBkbyBub3QgY2hhbmdlJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVuZGVyU3B5ID0gamVzdC5mbigpO1xuICAgICAgXG4gICAgICBjb25zdCBUZXN0V3JhcHBlciA9IChwcm9wcykgPT4ge1xuICAgICAgICByZW5kZXJTcHkoKTtcbiAgICAgICAgcmV0dXJuIDxDYXRlZ29yeVNlbGVjdG9yIHsuLi5wcm9wc30gLz47XG4gICAgICB9O1xuXG4gICAgICBjb25zdCB7IHJlcmVuZGVyIH0gPSByZW5kZXIoPFRlc3RXcmFwcGVyIHsuLi5kZWZhdWx0UHJvcHN9IC8+KTtcbiAgICAgIFxuICAgICAgcmVuZGVyU3B5Lm1vY2tDbGVhcigpO1xuICAgICAgcmVyZW5kZXIoPFRlc3RXcmFwcGVyIHsuLi5kZWZhdWx0UHJvcHN9IC8+KTtcbiAgICAgIFxuICAgICAgLy8gTGUgY29tcG9zYW50IG5lIGRldnJhaXQgcGFzIHNlIHJlbmRyZSBzaSBsZXMgcHJvcHMgbidvbnQgcGFzIGNoYW5nw6lcbiAgICAgIC8vIGdyw6JjZSDDoCBSZWFjdC5tZW1vIGV0IGFyZUVxdWFsLiBMZSBub21icmUgZGUgcmVuZHVzIGRldnJhaXQgw6p0cmUgMC5cbiAgICAgIGV4cGVjdChyZW5kZXJTcHkpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGxhcmdlIG51bWJlciBvZiBjYXRlZ29yaWVzIGVmZmljaWVudGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgbWFueUNhdGVnb3JpZXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMDAgfSwgKF8sIGkpID0+ICh7XG4gICAgICAgIGlkOiBgJHtpICsgMX1gLFxuICAgICAgICBuYW1lOiBgQ2F0ZWdvcnkgJHtpICsgMX1gLFxuICAgICAgfSkpO1xuXG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgY29uc3QgeyBxdWVyeUFsbEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7IGNhdGVnb3JpZXM6IG1hbnlDYXRlZ29yaWVzIH0pO1xuICAgICAgY29uc3QgZW5kVGltZSA9IERhdGUubm93KCk7XG5cbiAgICAgIGV4cGVjdChlbmRUaW1lIC0gc3RhcnRUaW1lKS50b0JlTGVzc1RoYW4oMTAwMCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGNhdGVnb3J5RWxlbWVudHMgPSBxdWVyeUFsbEJ5VGV4dCgvXkNhdGVnb3J5Lyk7XG4gICAgICBleHBlY3QoY2F0ZWdvcnlFbGVtZW50cykudG9IYXZlTGVuZ3RoKDEwMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIC0tLSBBQ0NFU1NJQklMSVRZIC0tLVxuICBkZXNjcmliZSgnQWNjZXNzaWJpbGl0eScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhdmUgcHJvcGVyIGFjY2Vzc2liaWxpdHkgbGFiZWxzJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRCeUxhYmVsVGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3RvcigpO1xuICAgICAgXG4gICAgICBtb2NrQ2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGdldEJ5TGFiZWxUZXh0KGNhdGVnb3J5Lm5hbWUpO1xuICAgICAgICBleHBlY3QoZWxlbWVudCkudG9CZVRydXRoeSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHN1cHBvcnQgc2NyZWVuIHJlYWRlciBuYXZpZ2F0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRBbGxCeVJvbGUgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoKTtcbiAgICAgIFxuICAgICAgY29uc3QgYnV0dG9ucyA9IGdldEFsbEJ5Um9sZSgnYnV0dG9uJyk7XG4gICAgICBleHBlY3QoYnV0dG9ucykudG9IYXZlTGVuZ3RoKG1vY2tDYXRlZ29yaWVzLmxlbmd0aCk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm1hcHBpbmdzIjoiOztBQUNBLElBQUFBLE1BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FB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