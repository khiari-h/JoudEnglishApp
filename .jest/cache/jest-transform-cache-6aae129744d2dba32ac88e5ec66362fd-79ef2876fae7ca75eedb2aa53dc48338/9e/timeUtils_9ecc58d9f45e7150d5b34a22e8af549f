5059e2d6fd9349b3ad0e42522eb66a69
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.secondsToMinutes = exports.sanitizeTimeStats = exports.minutesToSeconds = exports.isValidTimeInSeconds = exports.isValidStatsStructure = exports.hasMinimumTime = exports.getTotalTimeFromStats = exports.getSortedStatsByTime = exports.getElapsedSeconds = exports.formatTimeCompact = exports.formatTime = void 0;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _timeConstants = require("./timeConstants.js");
var isValidTimeInSeconds = exports.isValidTimeInSeconds = function isValidTimeInSeconds(timeInSeconds) {
  return typeof timeInSeconds === 'number' && !isNaN(timeInSeconds) && isFinite(timeInSeconds) && timeInSeconds >= 0 && timeInSeconds <= 86400;
};
var sanitizeTimeStats = exports.sanitizeTimeStats = function sanitizeTimeStats(stats) {
  if (!stats || typeof stats !== 'object') {
    return Object.assign({}, _timeConstants.DEFAULT_STATS);
  }
  var sanitized = Object.assign({}, _timeConstants.DEFAULT_STATS);
  Object.values(_timeConstants.EXERCISE_TYPES).forEach(function (exerciseType) {
    var timeValue = stats[exerciseType];
    if (isValidTimeInSeconds(timeValue)) {
      sanitized[exerciseType] = Math.floor(timeValue);
    } else {
      sanitized[exerciseType] = 0;
    }
  });
  return sanitized;
};
var getElapsedSeconds = exports.getElapsedSeconds = function getElapsedSeconds(startTime) {
  if (!startTime || typeof startTime !== 'number') {
    return 0;
  }
  var elapsed = Math.floor((Date.now() - startTime) / 1000);
  return Math.max(0, elapsed);
};
var secondsToMinutes = exports.secondsToMinutes = function secondsToMinutes(seconds) {
  if (!isValidTimeInSeconds(seconds)) {
    return 0;
  }
  return Math.floor(seconds / 60);
};
var minutesToSeconds = exports.minutesToSeconds = function minutesToSeconds(minutes) {
  if (typeof minutes !== 'number' || isNaN(minutes) || minutes < 0) {
    return 0;
  }
  return minutes * 60;
};
var formatTime = exports.formatTime = function formatTime(seconds) {
  if (!isValidTimeInSeconds(seconds)) {
    return "0s";
  }
  var minutes = Math.floor(seconds / 60);
  var remainingSeconds = seconds % 60;
  if (minutes === 0) {
    return `${remainingSeconds}s`;
  }
  if (remainingSeconds === 0) {
    return `${minutes}m`;
  }
  return `${minutes}m ${remainingSeconds}s`;
};
var formatTimeCompact = exports.formatTimeCompact = function formatTimeCompact(seconds) {
  if (!isValidTimeInSeconds(seconds)) {
    return "0:00";
  }
  var minutes = Math.floor(seconds / 60);
  var remainingSeconds = seconds % 60;
  return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;
};
var isValidStatsStructure = exports.isValidStatsStructure = function isValidStatsStructure(stats) {
  if (!stats || typeof stats !== 'object') {
    return false;
  }
  var requiredTypes = Object.values(_timeConstants.EXERCISE_TYPES);
  var hasAllTypes = requiredTypes.every(function (type) {
    return Object.prototype.hasOwnProperty.call(stats, type) && isValidTimeInSeconds(stats[type]);
  });
  return hasAllTypes;
};
var getTotalTimeFromStats = exports.getTotalTimeFromStats = function getTotalTimeFromStats(stats) {
  if (!isValidStatsStructure(stats)) {
    return 0;
  }
  return Object.values(stats).reduce(function (total, time) {
    return total + time;
  }, 0);
};
var getSortedStatsByTime = exports.getSortedStatsByTime = function getSortedStatsByTime(stats) {
  if (!isValidStatsStructure(stats)) {
    return [];
  }
  return Object.entries(stats).map(function (_ref) {
    var _ref2 = (0, _slicedToArray2.default)(_ref, 2),
      exerciseType = _ref2[0],
      time = _ref2[1];
    return {
      exerciseType: exerciseType,
      time: time
    };
  }).sort(function (a, b) {
    return b.time - a.time;
  });
};
var hasMinimumTime = exports.hasMinimumTime = function hasMinimumTime(stats, exerciseType) {
  var minimumMinutes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;
  if (!isValidStatsStructure(stats) || !Object.values(_timeConstants.EXERCISE_TYPES).includes(exerciseType)) {
    return false;
  }
  var timeInSeconds = stats[exerciseType] || 0;
  var minimumSeconds = minutesToSeconds(minimumMinutes);
  return timeInSeconds >= minimumSeconds;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdGltZUNvbnN0YW50cyIsInJlcXVpcmUiLCJpc1ZhbGlkVGltZUluU2Vjb25kcyIsImV4cG9ydHMiLCJ0aW1lSW5TZWNvbmRzIiwiaXNOYU4iLCJpc0Zpbml0ZSIsInNhbml0aXplVGltZVN0YXRzIiwic3RhdHMiLCJPYmplY3QiLCJhc3NpZ24iLCJERUZBVUxUX1NUQVRTIiwic2FuaXRpemVkIiwidmFsdWVzIiwiRVhFUkNJU0VfVFlQRVMiLCJmb3JFYWNoIiwiZXhlcmNpc2VUeXBlIiwidGltZVZhbHVlIiwiTWF0aCIsImZsb29yIiwiZ2V0RWxhcHNlZFNlY29uZHMiLCJzdGFydFRpbWUiLCJlbGFwc2VkIiwiRGF0ZSIsIm5vdyIsIm1heCIsInNlY29uZHNUb01pbnV0ZXMiLCJzZWNvbmRzIiwibWludXRlc1RvU2Vjb25kcyIsIm1pbnV0ZXMiLCJmb3JtYXRUaW1lIiwicmVtYWluaW5nU2Vjb25kcyIsImZvcm1hdFRpbWVDb21wYWN0IiwidG9TdHJpbmciLCJwYWRTdGFydCIsImlzVmFsaWRTdGF0c1N0cnVjdHVyZSIsInJlcXVpcmVkVHlwZXMiLCJoYXNBbGxUeXBlcyIsImV2ZXJ5IiwidHlwZSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImdldFRvdGFsVGltZUZyb21TdGF0cyIsInJlZHVjZSIsInRvdGFsIiwidGltZSIsImdldFNvcnRlZFN0YXRzQnlUaW1lIiwiZW50cmllcyIsIm1hcCIsIl9yZWYiLCJfcmVmMiIsIl9zbGljZWRUb0FycmF5MiIsImRlZmF1bHQiLCJzb3J0IiwiYSIsImIiLCJoYXNNaW5pbXVtVGltZSIsIm1pbmltdW1NaW51dGVzIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiaW5jbHVkZXMiLCJtaW5pbXVtU2Vjb25kcyJdLCJzb3VyY2VzIjpbInRpbWVVdGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyB1dGlscy90aW1lVXRpbHMuanNcclxuLyoqXHJcbiAqIFV0aWxpdGFpcmVzIHBvdXIgbGEgZ2VzdGlvbiBldCB2YWxpZGF0aW9uIGRlcyB0ZW1wc1xyXG4gKi9cclxuXHJcbmltcG9ydCB7IERFRkFVTFRfU1RBVFMsIEVYRVJDSVNFX1RZUEVTIH0gZnJvbSAnLi90aW1lQ29uc3RhbnRzLmpzJztcclxuXHJcbi8qKlxyXG4gKiBWYWxpZGUgcXUndW5lIHZhbGV1ciBkZSB0ZW1wcyBlbiBzZWNvbmRlcyBlc3QgY29ycmVjdGVcclxuICogQHBhcmFtIHthbnl9IHRpbWVJblNlY29uZHMgLSBWYWxldXIgw6AgdmFsaWRlclxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBzaSB2YWxpZGVcclxuICovXHJcbmV4cG9ydCBjb25zdCBpc1ZhbGlkVGltZUluU2Vjb25kcyA9ICh0aW1lSW5TZWNvbmRzKSA9PiB7XHJcbiAgcmV0dXJuIChcclxuICAgIHR5cGVvZiB0aW1lSW5TZWNvbmRzID09PSAnbnVtYmVyJyAmJlxyXG4gICAgIWlzTmFOKHRpbWVJblNlY29uZHMpICYmXHJcbiAgICBpc0Zpbml0ZSh0aW1lSW5TZWNvbmRzKSAmJlxyXG4gICAgdGltZUluU2Vjb25kcyA+PSAwICYmXHJcbiAgICB0aW1lSW5TZWNvbmRzIDw9IDg2NDAwIC8vIE1heCAyNGggcGFyIHNlc3Npb25cclxuICApO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFNhbml0aXNlIGxlcyBzdGF0cyBkZSB0ZW1wcyBwb3VyIMOpdml0ZXIgbGVzIHZhbGV1cnMgaW52YWxpZGVzXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBzdGF0cyAtIFN0YXRzIMOgIHNhbml0aXNlclxyXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBTdGF0cyBuZXR0b3nDqWVzXHJcbiAqL1xyXG5leHBvcnQgY29uc3Qgc2FuaXRpemVUaW1lU3RhdHMgPSAoc3RhdHMpID0+IHtcclxuICBpZiAoIXN0YXRzIHx8IHR5cGVvZiBzdGF0cyAhPT0gJ29iamVjdCcpIHtcclxuICAgIHJldHVybiB7IC4uLkRFRkFVTFRfU1RBVFMgfTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHNhbml0aXplZCA9IHsgLi4uREVGQVVMVF9TVEFUUyB9O1xyXG5cclxuICAvLyBWYWxpZGVyIGNoYXF1ZSB0eXBlIGQnZXhlcmNpY2VcclxuICBPYmplY3QudmFsdWVzKEVYRVJDSVNFX1RZUEVTKS5mb3JFYWNoKGV4ZXJjaXNlVHlwZSA9PiB7XHJcbiAgICBjb25zdCB0aW1lVmFsdWUgPSBzdGF0c1tleGVyY2lzZVR5cGVdO1xyXG4gICAgXHJcbiAgICBpZiAoaXNWYWxpZFRpbWVJblNlY29uZHModGltZVZhbHVlKSkge1xyXG4gICAgICBzYW5pdGl6ZWRbZXhlcmNpc2VUeXBlXSA9IE1hdGguZmxvb3IodGltZVZhbHVlKTsgLy8gQXJyb25kaXIgw6AgbCdlbnRpZXJcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNhbml0aXplZFtleGVyY2lzZVR5cGVdID0gMDsgLy8gVmFsZXVyIHBhciBkw6lmYXV0XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBzYW5pdGl6ZWQ7XHJcbn07XHJcblxyXG4vKipcclxuICogQ2FsY3VsZSBsZSB0ZW1wcyDDqWNvdWzDqSBkZXB1aXMgdW4gdGltZXN0YW1wXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFRpbWUgLSBUaW1lc3RhbXAgZGUgZMOpYnV0XHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFRlbXBzIMOpY291bMOpIGVuIHNlY29uZGVzXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZ2V0RWxhcHNlZFNlY29uZHMgPSAoc3RhcnRUaW1lKSA9PiB7XHJcbiAgaWYgKCFzdGFydFRpbWUgfHwgdHlwZW9mIHN0YXJ0VGltZSAhPT0gJ251bWJlcicpIHtcclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZWxhcHNlZCA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLSBzdGFydFRpbWUpIC8gMTAwMCk7XHJcbiAgcmV0dXJuIE1hdGgubWF4KDAsIGVsYXBzZWQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENvbnZlcnRpdCBkZXMgc2Vjb25kZXMgZW4gbWludXRlcyAoYXJyb25kaSlcclxuICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZHMgLSBTZWNvbmRlcyDDoCBjb252ZXJ0aXJcclxuICogQHJldHVybnMge251bWJlcn0gTWludXRlcyBhcnJvbmRpZXNcclxuICovXHJcbmV4cG9ydCBjb25zdCBzZWNvbmRzVG9NaW51dGVzID0gKHNlY29uZHMpID0+IHtcclxuICBpZiAoIWlzVmFsaWRUaW1lSW5TZWNvbmRzKHNlY29uZHMpKSB7XHJcbiAgICByZXR1cm4gMDtcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0aXQgZGVzIG1pbnV0ZXMgZW4gc2Vjb25kZXNcclxuICogQHBhcmFtIHtudW1iZXJ9IG1pbnV0ZXMgLSBNaW51dGVzIMOgIGNvbnZlcnRpclxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBTZWNvbmRlc1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IG1pbnV0ZXNUb1NlY29uZHMgPSAobWludXRlcykgPT4ge1xyXG4gIGlmICh0eXBlb2YgbWludXRlcyAhPT0gJ251bWJlcicgfHwgaXNOYU4obWludXRlcykgfHwgbWludXRlcyA8IDApIHtcclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuICBcclxuICByZXR1cm4gbWludXRlcyAqIDYwO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEZvcm1hdGUgdW4gdGVtcHMgZW4gc2Vjb25kZXMgcG91ciBsJ2FmZmljaGFnZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kcyAtIFNlY29uZGVzIMOgIGZvcm1hdGVyXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRlbXBzIGZvcm1hdMOpIChleDogXCI1bSAzMHNcIilcclxuICovXHJcbmV4cG9ydCBjb25zdCBmb3JtYXRUaW1lID0gKHNlY29uZHMpID0+IHtcclxuICBpZiAoIWlzVmFsaWRUaW1lSW5TZWNvbmRzKHNlY29uZHMpKSB7XHJcbiAgICByZXR1cm4gXCIwc1wiO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKTtcclxuICBjb25zdCByZW1haW5pbmdTZWNvbmRzID0gc2Vjb25kcyAlIDYwO1xyXG5cclxuICBpZiAobWludXRlcyA9PT0gMCkge1xyXG4gICAgcmV0dXJuIGAke3JlbWFpbmluZ1NlY29uZHN9c2A7XHJcbiAgfVxyXG5cclxuICBpZiAocmVtYWluaW5nU2Vjb25kcyA9PT0gMCkge1xyXG4gICAgcmV0dXJuIGAke21pbnV0ZXN9bWA7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYCR7bWludXRlc31tICR7cmVtYWluaW5nU2Vjb25kc31zYDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBGb3JtYXRlIHVuIHRlbXBzIGVuIHNlY29uZGVzIHBvdXIgbCdhZmZpY2hhZ2UgY29tcGFjdFxyXG4gKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kcyAtIFNlY29uZGVzIMOgIGZvcm1hdGVyXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRlbXBzIGZvcm1hdMOpIGNvbXBhY3QgKGV4OiBcIjU6MzBcIilcclxuICovXHJcbmV4cG9ydCBjb25zdCBmb3JtYXRUaW1lQ29tcGFjdCA9IChzZWNvbmRzKSA9PiB7XHJcbiAgaWYgKCFpc1ZhbGlkVGltZUluU2Vjb25kcyhzZWNvbmRzKSkge1xyXG4gICAgcmV0dXJuIFwiMDowMFwiO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKTtcclxuICBjb25zdCByZW1haW5pbmdTZWNvbmRzID0gc2Vjb25kcyAlIDYwO1xyXG5cclxuICByZXR1cm4gYCR7bWludXRlc306JHtyZW1haW5pbmdTZWNvbmRzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFZhbGlkZSBxdSd1biBvYmpldCBkZSBzdGF0cyBhIGxhIGJvbm5lIHN0cnVjdHVyZVxyXG4gKiBAcGFyYW0ge2FueX0gc3RhdHMgLSBTdGF0cyDDoCB2YWxpZGVyXHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIHNpIHN0cnVjdHVyZSB2YWxpZGVcclxuICovXHJcbmV4cG9ydCBjb25zdCBpc1ZhbGlkU3RhdHNTdHJ1Y3R1cmUgPSAoc3RhdHMpID0+IHtcclxuICBpZiAoIXN0YXRzIHx8IHR5cGVvZiBzdGF0cyAhPT0gJ29iamVjdCcpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8vIFbDqXJpZmllciBxdWUgdG91cyBsZXMgdHlwZXMgZCdleGVyY2ljZXMgcmVxdWlzIHNvbnQgcHLDqXNlbnRzXHJcbiAgY29uc3QgcmVxdWlyZWRUeXBlcyA9IE9iamVjdC52YWx1ZXMoRVhFUkNJU0VfVFlQRVMpO1xyXG4gIGNvbnN0IGhhc0FsbFR5cGVzID0gcmVxdWlyZWRUeXBlcy5ldmVyeSh0eXBlID0+IFxyXG4gICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHN0YXRzLCB0eXBlKSAmJiBpc1ZhbGlkVGltZUluU2Vjb25kcyhzdGF0c1t0eXBlXSlcclxuICApO1xyXG5cclxuICByZXR1cm4gaGFzQWxsVHlwZXM7XHJcbn07XHJcblxyXG4vKipcclxuICogQ2FsY3VsZSBsZSB0ZW1wcyB0b3RhbCBkZSB0b3V0ZXMgbGVzIHN0YXRzXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBzdGF0cyAtIFN0YXRzIMOgIGFkZGl0aW9ubmVyXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFRlbXBzIHRvdGFsIGVuIHNlY29uZGVzXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZ2V0VG90YWxUaW1lRnJvbVN0YXRzID0gKHN0YXRzKSA9PiB7XHJcbiAgaWYgKCFpc1ZhbGlkU3RhdHNTdHJ1Y3R1cmUoc3RhdHMpKSB7XHJcbiAgICByZXR1cm4gMDtcclxuICB9XHJcblxyXG4gIHJldHVybiBPYmplY3QudmFsdWVzKHN0YXRzKS5yZWR1Y2UoKHRvdGFsLCB0aW1lKSA9PiB0b3RhbCArIHRpbWUsIDApO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIE9idGllbnQgbGVzIHN0YXRzIHRyacOpZXMgcGFyIHRlbXBzIGTDqWNyb2lzc2FudFxyXG4gKiBAcGFyYW0ge29iamVjdH0gc3RhdHMgLSBTdGF0cyDDoCB0cmllclxyXG4gKiBAcmV0dXJucyB7QXJyYXl9IFRhYmxlYXUgZCdvYmpldHMge2V4ZXJjaXNlVHlwZSwgdGltZX0gdHJpw6lzXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZ2V0U29ydGVkU3RhdHNCeVRpbWUgPSAoc3RhdHMpID0+IHtcclxuICBpZiAoIWlzVmFsaWRTdGF0c1N0cnVjdHVyZShzdGF0cykpIHtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcblxyXG4gIHJldHVybiBPYmplY3QuZW50cmllcyhzdGF0cylcclxuICAgIC5tYXAoKFtleGVyY2lzZVR5cGUsIHRpbWVdKSA9PiAoeyBleGVyY2lzZVR5cGUsIHRpbWUgfSkpXHJcbiAgICAuc29ydCgoYSwgYikgPT4gYi50aW1lIC0gYS50aW1lKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBWw6lyaWZpZSBzaSBsJ3V0aWxpc2F0ZXVyIGEgZHUgdGVtcHMgc3VyIHVuIGV4ZXJjaWNlIHNww6ljaWZpcXVlXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBzdGF0cyAtIFN0YXRzIGRlIGwndXRpbGlzYXRldXJcclxuICogQHBhcmFtIHtzdHJpbmd9IGV4ZXJjaXNlVHlwZSAtIFR5cGUgZCdleGVyY2ljZSDDoCB2w6lyaWZpZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IG1pbmltdW1NaW51dGVzIC0gTWluaW11bSBlbiBtaW51dGVzIChkw6lmYXV0OiAxKVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBzaSBsJ3V0aWxpc2F0ZXVyIGEgYXNzZXogZGUgdGVtcHNcclxuICovXHJcbmV4cG9ydCBjb25zdCBoYXNNaW5pbXVtVGltZSA9IChzdGF0cywgZXhlcmNpc2VUeXBlLCBtaW5pbXVtTWludXRlcyA9IDEpID0+IHtcclxuICBpZiAoIWlzVmFsaWRTdGF0c1N0cnVjdHVyZShzdGF0cykgfHwgIU9iamVjdC52YWx1ZXMoRVhFUkNJU0VfVFlQRVMpLmluY2x1ZGVzKGV4ZXJjaXNlVHlwZSkpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHRpbWVJblNlY29uZHMgPSBzdGF0c1tleGVyY2lzZVR5cGVdIHx8IDA7XHJcbiAgY29uc3QgbWluaW11bVNlY29uZHMgPSBtaW51dGVzVG9TZWNvbmRzKG1pbmltdW1NaW51dGVzKTtcclxuICBcclxuICByZXR1cm4gdGltZUluU2Vjb25kcyA+PSBtaW5pbXVtU2Vjb25kcztcclxufTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUtBLElBQUFBLGNBQUEsR0FBQUMsT0FBQTtBQU9PLElBQU1DLG9CQUFvQixHQUFBQyxPQUFBLENBQUFELG9CQUFBLEdBQUcsU0FBdkJBLG9CQUFvQkEsQ0FBSUUsYUFBYSxFQUFLO0VBQ3JELE9BQ0UsT0FBT0EsYUFBYSxLQUFLLFFBQVEsSUFDakMsQ0FBQ0MsS0FBSyxDQUFDRCxhQUFhLENBQUMsSUFDckJFLFFBQVEsQ0FBQ0YsYUFBYSxDQUFDLElBQ3ZCQSxhQUFhLElBQUksQ0FBQyxJQUNsQkEsYUFBYSxJQUFJLEtBQUs7QUFFMUIsQ0FBQztBQU9NLElBQU1HLGlCQUFpQixHQUFBSixPQUFBLENBQUFJLGlCQUFBLEdBQUcsU0FBcEJBLGlCQUFpQkEsQ0FBSUMsS0FBSyxFQUFLO0VBQzFDLElBQUksQ0FBQ0EsS0FBSyxJQUFJLE9BQU9BLEtBQUssS0FBSyxRQUFRLEVBQUU7SUFDdkMsT0FBQUMsTUFBQSxDQUFBQyxNQUFBLEtBQVlDLDRCQUFhO0VBQzNCO0VBRUEsSUFBTUMsU0FBUyxHQUFBSCxNQUFBLENBQUFDLE1BQUEsS0FBUUMsNEJBQWEsQ0FBRTtFQUd0Q0YsTUFBTSxDQUFDSSxNQUFNLENBQUNDLDZCQUFjLENBQUMsQ0FBQ0MsT0FBTyxDQUFDLFVBQUFDLFlBQVksRUFBSTtJQUNwRCxJQUFNQyxTQUFTLEdBQUdULEtBQUss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