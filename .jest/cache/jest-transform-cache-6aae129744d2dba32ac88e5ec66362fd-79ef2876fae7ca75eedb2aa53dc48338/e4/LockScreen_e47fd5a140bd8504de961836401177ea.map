{"version":3,"names":["_react","require","_reactNative","_LockContext","_jsxRuntime","LockScreen","_useLock","useLock","unlockWithPin","_useState","useState","_useState2","_slicedToArray2","default","pin","setPin","_useState3","_useState4","error","setError","onSubmit","useCallback","_asyncToGenerator2","res","ok","reason","jsxs","View","style","flex","alignItems","justifyContent","padding","testID","children","jsx","Text","fontSize","fontWeight","marginBottom","TextInput","value","onChangeText","placeholder","secureTextEntry","keyboardType","width","borderWidth","borderColor","borderRadius","color","TouchableOpacity","onPress","backgroundColor","paddingVertical","paddingHorizontal","_default","exports"],"sources":["LockScreen.js"],"sourcesContent":["// src/screens/Lock/LockScreen.js\r\nimport { useState, useCallback } from 'react';\r\nimport { View, Text, TextInput, TouchableOpacity } from 'react-native';\r\nimport { useLock } from '../../contexts/LockContext';\r\n\r\nconst LockScreen = () => {\r\n  const { unlockWithPin } = useLock();\r\n  const [pin, setPin] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const onSubmit = useCallback(async () => {\r\n    const res = await unlockWithPin(pin);\r\n    if (!res.ok) {\r\n      setError(res.reason === 'lockout' ? 'Trop de tentatives. Réessaie plus tard.' : 'PIN incorrect');\r\n    }\r\n  }, [pin, unlockWithPin]);\r\n\r\n  return (\r\n    <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center', padding: 24 }} testID=\"lock-screen\">\r\n      <Text style={{ fontSize: 22, fontWeight: '700', marginBottom: 12 }}>Déverrouiller</Text>\r\n      <TextInput\r\n        value={pin}\r\n        onChangeText={setPin}\r\n        placeholder=\"Code PIN\"\r\n        secureTextEntry\r\n        keyboardType=\"number-pad\"\r\n        style={{ width: '80%', borderWidth: 1, borderColor: '#E5E7EB', borderRadius: 8, padding: 12, marginBottom: 8 }}\r\n        testID=\"pin-input\"\r\n      />\r\n      {!!error && <Text style={{ color: '#DC2626', marginBottom: 8 }}>{error}</Text>}\r\n      <TouchableOpacity onPress={onSubmit} style={{ backgroundColor: '#3B82F6', paddingVertical: 12, paddingHorizontal: 18, borderRadius: 10 }} testID=\"pin-submit\">\r\n        <Text style={{ color: 'white', fontWeight: '700' }}>Déverrouiller</Text>\r\n      </TouchableOpacity>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default LockScreen;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]}