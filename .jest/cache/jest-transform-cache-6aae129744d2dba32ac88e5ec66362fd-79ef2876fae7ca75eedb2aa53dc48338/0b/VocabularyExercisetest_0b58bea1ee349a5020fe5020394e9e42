c8c75cf70c5a866b7465b097ccedee39
_getJestObj().mock('@react-navigation/native', function () {
  return {
    useNavigation: function useNavigation() {
      return {
        goBack: jest.fn()
      };
    }
  };
});
_getJestObj().mock('expo-router', function () {
  return {
    router: {
      push: jest.fn()
    }
  };
});
_getJestObj().mock('../../../../src/screens/exercises/vocabulary/hooks/useVocabulary', function () {
  return {
    __esModule: true,
    default: jest.fn()
  };
});
_getJestObj().mock('../../../../src/hooks/useLastActivity', function () {
  return {
    __esModule: true,
    default: jest.fn(function () {
      return {
        saveActivity: jest.fn()
      };
    })
  };
});
_getJestObj().mock('../../../../src/components/layout/Container', function () {
  var _require = require('react-native'),
    View = _require.View;
  return function (_ref) {
    var children = _ref.children,
      safeAreaEdges = _ref.safeAreaEdges,
      props = (0, _objectWithoutProperties2.default)(_ref, _excluded);
    return (0, _jsxRuntime.jsx)(View, Object.assign({
      testID: "Container"
    }, props, {
      children: children
    }));
  };
});
_getJestObj().mock('../../../../src/screens/exercises/vocabulary/VocabularyHeader', function () {
  var _require2 = require('react-native'),
    View = _require2.View;
  return function (props) {
    return (0, _jsxRuntime.jsx)(View, Object.assign({
      testID: "VocabularyHeader"
    }, props));
  };
});
_getJestObj().mock('../../../../src/screens/exercises/vocabulary/VocabularyCategorySelector', function () {
  var _require3 = require('react-native'),
    View = _require3.View;
  return function (props) {
    return (0, _jsxRuntime.jsx)(View, Object.assign({
      testID: "VocabularyCategorySelector"
    }, props));
  };
});
_getJestObj().mock('../../../../src/screens/exercises/vocabulary/VocabularyProgress', function () {
  var _require4 = require('react-native'),
    View = _require4.View;
  return function (props) {
    return (0, _jsxRuntime.jsx)(View, Object.assign({
      testID: "VocabularyProgress"
    }, props));
  };
});
_getJestObj().mock('../../../../src/screens/exercises/vocabulary/VocabularyWordSection', function () {
  var _require5 = require('react-native'),
    View = _require5.View;
  return function (props) {
    return (0, _jsxRuntime.jsx)(View, Object.assign({
      testID: "VocabularyWordSection"
    }, props));
  };
});
_getJestObj().mock('../../../../src/screens/exercises/vocabulary/VocabularyNavigation', function () {
  var _require6 = require('react-native'),
    View = _require6.View;
  return function (props) {
    return (0, _jsxRuntime.jsx)(View, Object.assign({
      testID: "VocabularyNavigation"
    }, props));
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _vocabulary = _interopRequireDefault(require("../../../../src/screens/exercises/vocabulary"));
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["children", "safeAreaEdges"];
function _getJestObj() {
  var _require7 = require("@jest/globals"),
    jest = _require7.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockUseVocabulary = require('../../../../src/screens/exercises/vocabulary/hooks/useVocabulary').default;
var mockUseLastActivity = require('../../../../src/hooks/useLastActivity').default;
describe('VocabularyExercise', function () {
  var mockRouteParams = {
    level: 'A1',
    mode: 'classic'
  };
  var mockNavigationGoBack = jest.fn();
  var mockRouterPush = jest.fn();
  var mockSaveActivity = jest.fn();
  beforeEach(function () {
    jest.clearAllMocks();
    require('@react-navigation/native').useNavigation.mockReturnValue({
      goBack: mockNavigationGoBack
    });
    require('expo-router').router.push.mockImplementation(mockRouterPush);
    mockUseLastActivity.mockReturnValue({
      saveActivity: mockSaveActivity
    });
    mockUseVocabulary.mockReturnValue({
      categoryIndex: 0,
      wordIndex: 0,
      showTranslation: false,
      completedWords: [],
      loaded: true,
      showDetailedProgress: false,
      currentWord: {
        word: 'hello',
        translation: 'bonjour'
      },
      currentCategory: {
        name: 'Greetings'
      },
      changeCategory: jest.fn(),
      toggleTranslation: jest.fn(),
      toggleDetailedProgress: jest.fn(),
      handleNext: jest.fn(function () {
        return {
          completed: false
        };
      }),
      handlePrevious: jest.fn(),
      canGoToPrevious: false,
      isLastWordInExercise: false,
      display: {
        categories: [{
          name: 'Greetings'
        }],
        wordCounter: '1/10'
      },
      saveData: jest.fn()
    });
  });
  it('should render loading state when not loaded', function () {
    mockUseVocabulary.mockReturnValueOnce({
      loaded: false
    });
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_vocabulary.default, {
      route: {
        params: mockRouteParams
      }
    }));
    expect(_reactNative.screen.getByTestId('Container')).toBeTruthy();
    expect(_reactNative.screen.getByTestId('activity-indicator')).toBeTruthy();
  });
  it('should render main components when loaded', function () {
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_vocabulary.default, {
      route: {
        params: mockRouteParams
      }
    }));
    expect(_reactNative.screen.getByTestId('VocabularyHeader')).toBeTruthy();
    expect(_reactNative.screen.getByTestId('VocabularyProgress')).toBeTruthy();
    expect(_reactNative.screen.getByTestId('VocabularyCategorySelector')).toBeTruthy();
    expect(_reactNative.screen.getByTestId('VocabularyWordSection')).toBeTruthy();
    expect(_reactNative.screen.getByTestId('VocabularyNavigation')).toBeTruthy();
  });
  it('should call useVocabulary with correct parameters', function () {
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_vocabulary.default, {
      route: {
        params: mockRouteParams
      }
    }));
    expect(mockUseVocabulary).toHaveBeenCalledWith(expect.any(Object), mockRouteParams.level, mockRouteParams.mode);
  });
  it('should save activity on wordIndex change', (0, _asyncToGenerator2.default)(function* () {
    var mockHandleNext = jest.fn(function () {
      return {
        completed: false
      };
    });
    mockUseVocabulary.mockReturnValue({
      categoryIndex: 0,
      wordIndex: 0,
      showTranslation: false,
      completedWords: [],
      loaded: true,
      showDetailedProgress: false,
      currentWord: {
        word: 'hello',
        translation: 'bonjour'
      },
      currentCategory: {
        name: 'Greetings'
      },
      changeCategory: jest.fn(),
      toggleTranslation: jest.fn(),
      toggleDetailedProgress: jest.fn(),
      handleNext: mockHandleNext,
      handlePrevious: jest.fn(),
      canGoToPrevious: false,
      isLastWordInExercise: false,
      display: {
        categories: [{
          name: 'Greetings',
          words: [{
            word: 'a'
          }, {
            word: 'b'
          }]
        }],
        wordCounter: '1/2'
      },
      saveData: jest.fn()
    });
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_vocabulary.default, {
        route: {
          params: mockRouteParams
        }
      })),
      rerender = _render.rerender;
    yield (0, _reactNative.waitFor)(function () {
      expect(mockSaveActivity).toHaveBeenCalledWith(expect.objectContaining({
        level: 'A1',
        type: 'vocabulary',
        mode: 'classic',
        metadata: expect.objectContaining({
          word: 0,
          totalWords: 2,
          category: 'Greetings',
          categoryIndex: 0,
          wordIndex: 0
        })
      }));
    });
    mockUseVocabulary.mockReturnValue({
      categoryIndex: 0,
      wordIndex: 1,
      showTranslation: false,
      completedWords: [],
      loaded: true,
      showDetailedProgress: false,
      currentWord: {
        word: 'world',
        translation: 'monde'
      },
      currentCategory: {
        name: 'Greetings'
      },
      changeCategory: jest.fn(),
      toggleTranslation: jest.fn(),
      toggleDetailedProgress: jest.fn(),
      handleNext: mockHandleNext,
      handlePrevious: jest.fn(),
      canGoToPrevious: false,
      isLastWordInExercise: false,
      display: {
        categories: [{
          name: 'Greetings',
          words: [{
            word: 'a'
          }, {
            word: 'b'
          }]
        }],
        wordCounter: '2/2'
      },
      saveData: jest.fn()
    });
    rerender((0, _jsxRuntime.jsx)(_vocabulary.default, {
      route: {
        params: mockRouteParams
      }
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockSaveActivity).toHaveBeenCalledWith(expect.objectContaining({
        metadata: expect.objectContaining({
          word: 1,
          wordIndex: 1
        })
      }));
    });
  }));
  it('should navigate back to exercise selection on back press', function () {
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_vocabulary.default, {
      route: {
        params: mockRouteParams
      }
    }));
    var header = _reactNative.screen.getByTestId('VocabularyHeader');
    (0, _reactNative.fireEvent)(header, 'onBackPress');
    expect(mockRouterPush).toHaveBeenCalledWith({
      pathname: '/tabs/exerciseSelection',
      params: {
        level: 'A1'
      }
    });
  });
  it('should call changeCategory when category is selected', function () {
    var mockChangeCategory = jest.fn();
    mockUseVocabulary.mockReturnValueOnce(Object.assign({}, mockUseVocabulary(), {
      changeCategory: mockChangeCategory,
      display: {
        categories: [{
          name: 'Cat1'
        }, {
          name: 'Cat2'
        }]
      }
    }));
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_vocabulary.default, {
      route: {
        params: mockRouteParams
      }
    }));
    var categorySelector = _reactNative.screen.getByTestId('VocabularyCategorySelector');
    (0, _reactNative.fireEvent)(categorySelector, 'onSelectCategory', 1);
    expect(mockChangeCategory).toHaveBeenCalledWith(1);
  });
  it('should call toggleDetailedProgress when progress is toggled', function () {
    var mockToggleDetailedProgress = jest.fn();
    mockUseVocabulary.mockReturnValueOnce(Object.assign({}, mockUseVocabulary(), {
      toggleDetailedProgress: mockToggleDetailedProgress
    }));
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_vocabulary.default, {
      route: {
        params: mockRouteParams
      }
    }));
    var progress = _reactNative.screen.getByTestId('VocabularyProgress');
    (0, _reactNative.fireEvent)(progress, 'onToggleExpand');
    expect(mockToggleDetailedProgress).toHaveBeenCalled();
  });
  it('should call toggleTranslation when translation is toggled', function () {
    var mockToggleTranslation = jest.fn();
    mockUseVocabulary.mockReturnValueOnce(Object.assign({}, mockUseVocabulary(), {
      toggleTranslation: mockToggleTranslation
    }));
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_vocabulary.default, {
      route: {
        params: mockRouteParams
      }
    }));
    var wordSection = _reactNative.screen.getByTestId('VocabularyWordSection');
    (0, _reactNative.fireEvent)(wordSection, 'onToggleTranslation');
    expect(mockToggleTranslation).toHaveBeenCalled();
  });
  it('should call handleNextWord and saveData on next button press', (0, _asyncToGenerator2.default)(function* () {
    var mockHandleNext = jest.fn(function () {
      return {
        completed: false
      };
    });
    var mockSaveData = jest.fn();
    mockUseVocabulary.mockReturnValueOnce(Object.assign({}, mockUseVocabulary(), {
      handleNext: mockHandleNext,
      saveData: mockSaveData
    }));
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_vocabulary.default, {
      route: {
        params: mockRouteParams
      }
    }));
    var navigation = _reactNative.screen.getByTestId('VocabularyNavigation');
    (0, _reactNative.fireEvent)(navigation, 'onNext');
    expect(mockHandleNext).toHaveBeenCalled();
    yield (0, _reactNative.waitFor)(function () {
      return expect(mockSaveData).toHaveBeenCalled();
    });
  }));
  it('should navigate back when handleNext indicates completion', (0, _asyncToGenerator2.default)(function* () {
    var mockHandleNext = jest.fn(function () {
      return {
        completed: true
      };
    });
    var mockSaveData = jest.fn();
    mockUseVocabulary.mockReturnValueOnce(Object.assign({}, mockUseVocabulary(), {
      handleNext: mockHandleNext,
      saveData: mockSaveData
    }));
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_vocabulary.default, {
      route: {
        params: mockRouteParams
      }
    }));
    var navigation = _reactNative.screen.getByTestId('VocabularyNavigation');
    (0, _reactNative.fireEvent)(navigation, 'onNext');
    expect(mockHandleNext).toHaveBeenCalled();
    yield (0, _reactNative.waitFor)(function () {
      return expect(mockSaveData).toHaveBeenCalled();
    });
    yield (0, _reactNative.waitFor)(function () {
      return expect(mockNavigationGoBack).toHaveBeenCalled();
    });
  }));
  it('should call handlePreviousWord on previous button press', function () {
    var mockHandlePrevious = jest.fn();
    mockUseVocabulary.mockReturnValueOnce(Object.assign({}, mockUseVocabulary(), {
      handlePrevious: mockHandlePrevious
    }));
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_vocabulary.default, {
      route: {
        params: mockRouteParams
      }
    }));
    var navigation = _reactNative.screen.getByTestId('VocabularyNavigation');
    (0, _reactNative.fireEvent)(navigation, 'onPrevious');
    expect(mockHandlePrevious).toHaveBeenCalled();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ1c2VOYXZpZ2F0aW9uIiwiZ29CYWNrIiwiamVzdCIsImZuIiwicm91dGVyIiwicHVzaCIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwic2F2ZUFjdGl2aXR5IiwiX3JlcXVpcmUiLCJyZXF1aXJlIiwiVmlldyIsIl9yZWYiLCJjaGlsZHJlbiIsInNhZmVBcmVhRWRnZXMiLCJwcm9wcyIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllczIiLCJfZXhjbHVkZWQiLCJfanN4UnVudGltZSIsImpzeCIsIk9iamVjdCIsImFzc2lnbiIsInRlc3RJRCIsIl9yZXF1aXJlMiIsIl9yZXF1aXJlMyIsIl9yZXF1aXJlNCIsIl9yZXF1aXJlNSIsIl9yZXF1aXJlNiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVhY3QiLCJfcmVhY3ROYXRpdmUiLCJfdm9jYWJ1bGFyeSIsIl9yZXF1aXJlNyIsIm1vY2tVc2VWb2NhYnVsYXJ5IiwibW9ja1VzZUxhc3RBY3Rpdml0eSIsImRlc2NyaWJlIiwibW9ja1JvdXRlUGFyYW1zIiwibGV2ZWwiLCJtb2RlIiwibW9ja05hdmlnYXRpb25Hb0JhY2siLCJtb2NrUm91dGVyUHVzaCIsIm1vY2tTYXZlQWN0aXZpdHkiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1vY2tSZXR1cm5WYWx1ZSIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsImNhdGVnb3J5SW5kZXgiLCJ3b3JkSW5kZXgiLCJzaG93VHJhbnNsYXRpb24iLCJjb21wbGV0ZWRXb3JkcyIsImxvYWRlZCIsInNob3dEZXRhaWxlZFByb2dyZXNzIiwiY3VycmVudFdvcmQiLCJ3b3JkIiwidHJhbnNsYXRpb24iLCJjdXJyZW50Q2F0ZWdvcnkiLCJuYW1lIiwiY2hhbmdlQ2F0ZWdvcnkiLCJ0b2dnbGVUcmFuc2xhdGlvbiIsInRvZ2dsZURldGFpbGVkUHJvZ3Jlc3MiLCJoYW5kbGVOZXh0IiwiY29tcGxldGVkIiwiaGFuZGxlUHJldmlvdXMiLCJjYW5Hb1RvUHJldmlvdXMiLCJpc0xhc3RXb3JkSW5FeGVyY2lzZSIsImRpc3BsYXkiLCJjYXRlZ29yaWVzIiwid29yZENvdW50ZXIiLCJzYXZlRGF0YSIsIml0IiwibW9ja1JldHVyblZhbHVlT25jZSIsInJlbmRlciIsInJvdXRlIiwicGFyYW1zIiwiZXhwZWN0Iiwic2NyZWVuIiwiZ2V0QnlUZXN0SWQiLCJ0b0JlVHJ1dGh5IiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJhbnkiLCJtb2NrSGFuZGxlTmV4dCIsIndvcmRzIiwiX3JlbmRlciIsInJlcmVuZGVyIiwid2FpdEZvciIsIm9iamVjdENvbnRhaW5pbmciLCJ0eXBlIiwibWV0YWRhdGEiLCJ0b3RhbFdvcmRzIiwiY2F0ZWdvcnkiLCJoZWFkZXIiLCJmaXJlRXZlbnQiLCJwYXRobmFtZSIsIm1vY2tDaGFuZ2VDYXRlZ29yeSIsImNhdGVnb3J5U2VsZWN0b3IiLCJtb2NrVG9nZ2xlRGV0YWlsZWRQcm9ncmVzcyIsInByb2dyZXNzIiwidG9IYXZlQmVlbkNhbGxlZCIsIm1vY2tUb2dnbGVUcmFuc2xhdGlvbiIsIndvcmRTZWN0aW9uIiwibW9ja1NhdmVEYXRhIiwibmF2aWdhdGlvbiIsIm1vY2tIYW5kbGVQcmV2aW91cyJdLCJzb3VyY2VzIjpbIlZvY2FidWxhcnlFeGVyY2lzZS50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgZmlyZUV2ZW50LCB3YWl0Rm9yIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdC1uYXRpdmUnO1xuaW1wb3J0IFZvY2FidWxhcnlFeGVyY2lzZSBmcm9tICcuLi8uLi8uLi8uLi9zcmMvc2NyZWVucy9leGVyY2lzZXMvdm9jYWJ1bGFyeSc7XG5cbi8vIE1vY2sgZGVwZW5kZW5jaWVzXG5qZXN0Lm1vY2soJ0ByZWFjdC1uYXZpZ2F0aW9uL25hdGl2ZScsICgpID0+ICh7XG4gIHVzZU5hdmlnYXRpb246ICgpID0+ICh7XG4gICAgZ29CYWNrOiBqZXN0LmZuKCksXG4gIH0pLFxufSkpO1xuXG5qZXN0Lm1vY2soJ2V4cG8tcm91dGVyJywgKCkgPT4gKHtcbiAgcm91dGVyOiB7XG4gICAgcHVzaDogamVzdC5mbigpLFxuICB9LFxufSkpO1xuXG5qZXN0Lm1vY2soJy4uLy4uLy4uLy4uL3NyYy9zY3JlZW5zL2V4ZXJjaXNlcy92b2NhYnVsYXJ5L2hvb2tzL3VzZVZvY2FidWxhcnknLCAoKSA9PiAoe1xuICBfX2VzTW9kdWxlOiB0cnVlLFxuICBkZWZhdWx0OiBqZXN0LmZuKCksXG59KSk7XG5cbmplc3QubW9jaygnLi4vLi4vLi4vLi4vc3JjL2hvb2tzL3VzZUxhc3RBY3Rpdml0eScsICgpID0+ICh7XG4gIF9fZXNNb2R1bGU6IHRydWUsXG4gIGRlZmF1bHQ6IGplc3QuZm4oKCkgPT4gKHtcbiAgICBzYXZlQWN0aXZpdHk6IGplc3QuZm4oKSxcbiAgfSkpLFxufSkpO1xuXG4vLyBNb2NrIGNoaWxkIGNvbXBvbmVudHMgdG8gc2ltcGxpZnkgdGVzdGluZyBhbmQgYXZvaWQgZGVlcCByZW5kZXJpbmcgaXNzdWVzXG5qZXN0Lm1vY2soJy4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL2xheW91dC9Db250YWluZXInLCAoKSA9PiB7XG4gIGNvbnN0IHsgVmlldyB9ID0gcmVxdWlyZSgncmVhY3QtbmF0aXZlJyk7XG4gIHJldHVybiAoeyBjaGlsZHJlbiwgc2FmZUFyZWFFZGdlcywgLi4ucHJvcHMgfSkgPT4gKFxuICAgIDxWaWV3IHRlc3RJRD1cIkNvbnRhaW5lclwiIHsuLi5wcm9wc30+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9WaWV3PlxuICApO1xufSk7XG5qZXN0Lm1vY2soJy4uLy4uLy4uLy4uL3NyYy9zY3JlZW5zL2V4ZXJjaXNlcy92b2NhYnVsYXJ5L1ZvY2FidWxhcnlIZWFkZXInLCAoKSA9PiB7XG4gIGNvbnN0IHsgVmlldyB9ID0gcmVxdWlyZSgncmVhY3QtbmF0aXZlJyk7XG4gIHJldHVybiAocHJvcHMpID0+IDxWaWV3IHRlc3RJRD1cIlZvY2FidWxhcnlIZWFkZXJcIiB7Li4ucHJvcHN9IC8+O1xufSk7XG5qZXN0Lm1vY2soJy4uLy4uLy4uLy4uL3NyYy9zY3JlZW5zL2V4ZXJjaXNlcy92b2NhYnVsYXJ5L1ZvY2FidWxhcnlDYXRlZ29yeVNlbGVjdG9yJywgKCkgPT4ge1xuICBjb25zdCB7IFZpZXcgfSA9IHJlcXVpcmUoJ3JlYWN0LW5hdGl2ZScpO1xuICByZXR1cm4gKHByb3BzKSA9PiA8VmlldyB0ZXN0SUQ9XCJWb2NhYnVsYXJ5Q2F0ZWdvcnlTZWxlY3RvclwiIHsuLi5wcm9wc30gLz47XG59KTtcbmplc3QubW9jaygnLi4vLi4vLi4vLi4vc3JjL3NjcmVlbnMvZXhlcmNpc2VzL3ZvY2FidWxhcnkvVm9jYWJ1bGFyeVByb2dyZXNzJywgKCkgPT4ge1xuICBjb25zdCB7IFZpZXcgfSA9IHJlcXVpcmUoJ3JlYWN0LW5hdGl2ZScpO1xuICByZXR1cm4gKHByb3BzKSA9PiA8VmlldyB0ZXN0SUQ9XCJWb2NhYnVsYXJ5UHJvZ3Jlc3NcIiB7Li4ucHJvcHN9IC8+O1xufSk7XG5qZXN0Lm1vY2soJy4uLy4uLy4uLy4uL3NyYy9zY3JlZW5zL2V4ZXJjaXNlcy92b2NhYnVsYXJ5L1ZvY2FidWxhcnlXb3JkU2VjdGlvbicsICgpID0+IHtcbiAgY29uc3QgeyBWaWV3IH0gPSByZXF1aXJlKCdyZWFjdC1uYXRpdmUnKTtcbiAgcmV0dXJuIChwcm9wcykgPT4gPFZpZXcgdGVzdElEPVwiVm9jYWJ1bGFyeVdvcmRTZWN0aW9uXCIgey4uLnByb3BzfSAvPjtcbn0pO1xuamVzdC5tb2NrKCcuLi8uLi8uLi8uLi9zcmMvc2NyZWVucy9leGVyY2lzZXMvdm9jYWJ1bGFyeS9Wb2NhYnVsYXJ5TmF2aWdhdGlvbicsICgpID0+IHtcbiAgY29uc3QgeyBWaWV3IH0gPSByZXF1aXJlKCdyZWFjdC1uYXRpdmUnKTtcbiAgcmV0dXJuIChwcm9wcykgPT4gPFZpZXcgdGVzdElEPVwiVm9jYWJ1bGFyeU5hdmlnYXRpb25cIiB7Li4ucHJvcHN9IC8+O1xufSk7XG5cbmNvbnN0IG1vY2tVc2VWb2NhYnVsYXJ5ID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3JjL3NjcmVlbnMvZXhlcmNpc2VzL3ZvY2FidWxhcnkvaG9va3MvdXNlVm9jYWJ1bGFyeScpLmRlZmF1bHQ7XG5jb25zdCBtb2NrVXNlTGFzdEFjdGl2aXR5ID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3JjL2hvb2tzL3VzZUxhc3RBY3Rpdml0eScpLmRlZmF1bHQ7XG5cbmRlc2NyaWJlKCdWb2NhYnVsYXJ5RXhlcmNpc2UnLCAoKSA9PiB7XG4gIGNvbnN0IG1vY2tSb3V0ZVBhcmFtcyA9IHsgbGV2ZWw6ICdBMScsIG1vZGU6ICdjbGFzc2ljJyB9O1xuICBjb25zdCBtb2NrTmF2aWdhdGlvbkdvQmFjayA9IGplc3QuZm4oKTtcbiAgY29uc3QgbW9ja1JvdXRlclB1c2ggPSBqZXN0LmZuKCk7XG4gIGNvbnN0IG1vY2tTYXZlQWN0aXZpdHkgPSBqZXN0LmZuKCk7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gICAgcmVxdWlyZSgnQHJlYWN0LW5hdmlnYXRpb24vbmF0aXZlJykudXNlTmF2aWdhdGlvbi5tb2NrUmV0dXJuVmFsdWUoeyBnb0JhY2s6IG1vY2tOYXZpZ2F0aW9uR29CYWNrIH0pO1xuICAgIHJlcXVpcmUoJ2V4cG8tcm91dGVyJykucm91dGVyLnB1c2gubW9ja0ltcGxlbWVudGF0aW9uKG1vY2tSb3V0ZXJQdXNoKTtcbiAgICBtb2NrVXNlTGFzdEFjdGl2aXR5Lm1vY2tSZXR1cm5WYWx1ZSh7IHNhdmVBY3Rpdml0eTogbW9ja1NhdmVBY3Rpdml0eSB9KTtcblxuICAgIC8vIERlZmF1bHQgbW9jayBmb3IgdXNlVm9jYWJ1bGFyeVxuICAgIG1vY2tVc2VWb2NhYnVsYXJ5Lm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICBjYXRlZ29yeUluZGV4OiAwLFxuICAgICAgd29yZEluZGV4OiAwLFxuICAgICAgc2hvd1RyYW5zbGF0aW9uOiBmYWxzZSxcbiAgICAgIGNvbXBsZXRlZFdvcmRzOiBbXSxcbiAgICAgIGxvYWRlZDogdHJ1ZSxcbiAgICAgIHNob3dEZXRhaWxlZFByb2dyZXNzOiBmYWxzZSxcbiAgICAgIGN1cnJlbnRXb3JkOiB7IHdvcmQ6ICdoZWxsbycsIHRyYW5zbGF0aW9uOiAnYm9uam91cicgfSxcbiAgICAgIGN1cnJlbnRDYXRlZ29yeTogeyBuYW1lOiAnR3JlZXRpbmdzJyB9LFxuICAgICAgY2hhbmdlQ2F0ZWdvcnk6IGplc3QuZm4oKSxcbiAgICAgIHRvZ2dsZVRyYW5zbGF0aW9uOiBqZXN0LmZuKCksXG4gICAgICB0b2dnbGVEZXRhaWxlZFByb2dyZXNzOiBqZXN0LmZuKCksXG4gICAgICBoYW5kbGVOZXh0OiBqZXN0LmZuKCgpID0+ICh7IGNvbXBsZXRlZDogZmFsc2UgfSkpLFxuICAgICAgaGFuZGxlUHJldmlvdXM6IGplc3QuZm4oKSxcbiAgICAgIGNhbkdvVG9QcmV2aW91czogZmFsc2UsXG4gICAgICBpc0xhc3RXb3JkSW5FeGVyY2lzZTogZmFsc2UsXG4gICAgICBkaXNwbGF5OiB7XG4gICAgICAgIGNhdGVnb3JpZXM6IFt7IG5hbWU6ICdHcmVldGluZ3MnIH1dLFxuICAgICAgICB3b3JkQ291bnRlcjogJzEvMTAnLFxuICAgICAgfSxcbiAgICAgIHNhdmVEYXRhOiBqZXN0LmZuKCksXG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgcmVuZGVyIGxvYWRpbmcgc3RhdGUgd2hlbiBub3QgbG9hZGVkJywgKCkgPT4ge1xuICAgIG1vY2tVc2VWb2NhYnVsYXJ5Lm1vY2tSZXR1cm5WYWx1ZU9uY2UoeyBsb2FkZWQ6IGZhbHNlIH0pO1xuICAgIHJlbmRlcig8Vm9jYWJ1bGFyeUV4ZXJjaXNlIHJvdXRlPXt7IHBhcmFtczogbW9ja1JvdXRlUGFyYW1zIH19IC8+KTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdDb250YWluZXInKSkudG9CZVRydXRoeSgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2FjdGl2aXR5LWluZGljYXRvcicpKS50b0JlVHJ1dGh5KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgcmVuZGVyIG1haW4gY29tcG9uZW50cyB3aGVuIGxvYWRlZCcsICgpID0+IHtcbiAgICByZW5kZXIoPFZvY2FidWxhcnlFeGVyY2lzZSByb3V0ZT17eyBwYXJhbXM6IG1vY2tSb3V0ZVBhcmFtcyB9fSAvPik7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnVm9jYWJ1bGFyeUhlYWRlcicpKS50b0JlVHJ1dGh5KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnVm9jYWJ1bGFyeVByb2dyZXNzJykpLnRvQmVUcnV0aHkoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdWb2NhYnVsYXJ5Q2F0ZWdvcnlTZWxlY3RvcicpKS50b0JlVHJ1dGh5KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnVm9jYWJ1bGFyeVdvcmRTZWN0aW9uJykpLnRvQmVUcnV0aHkoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdWb2NhYnVsYXJ5TmF2aWdhdGlvbicpKS50b0JlVHJ1dGh5KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgY2FsbCB1c2VWb2NhYnVsYXJ5IHdpdGggY29ycmVjdCBwYXJhbWV0ZXJzJywgKCkgPT4ge1xuICAgIHJlbmRlcig8Vm9jYWJ1bGFyeUV4ZXJjaXNlIHJvdXRlPXt7IHBhcmFtczogbW9ja1JvdXRlUGFyYW1zIH19IC8+KTtcbiAgICBleHBlY3QobW9ja1VzZVZvY2FidWxhcnkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV4cGVjdC5hbnkoT2JqZWN0KSwgbW9ja1JvdXRlUGFyYW1zLmxldmVsLCBtb2NrUm91dGVQYXJhbXMubW9kZSk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgc2F2ZSBhY3Rpdml0eSBvbiB3b3JkSW5kZXggY2hhbmdlJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tIYW5kbGVOZXh0ID0gamVzdC5mbigoKSA9PiAoeyBjb21wbGV0ZWQ6IGZhbHNlIH0pKTtcbiAgICBtb2NrVXNlVm9jYWJ1bGFyeS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgY2F0ZWdvcnlJbmRleDogMCxcbiAgICAgIHdvcmRJbmRleDogMCxcbiAgICAgIHNob3dUcmFuc2xhdGlvbjogZmFsc2UsXG4gICAgICBjb21wbGV0ZWRXb3JkczogW10sXG4gICAgICBsb2FkZWQ6IHRydWUsXG4gICAgICBzaG93RGV0YWlsZWRQcm9ncmVzczogZmFsc2UsXG4gICAgICBjdXJyZW50V29yZDogeyB3b3JkOiAnaGVsbG8nLCB0cmFuc2xhdGlvbjogJ2JvbmpvdXInIH0sXG4gICAgICBjdXJyZW50Q2F0ZWdvcnk6IHsgbmFtZTogJ0dyZWV0aW5ncycgfSxcbiAgICAgIGNoYW5nZUNhdGVnb3J5OiBqZXN0LmZuKCksXG4gICAgICB0b2dnbGVUcmFuc2xhdGlvbjogamVzdC5mbigpLFxuICAgICAgdG9nZ2xlRGV0YWlsZWRQcm9ncmVzczogamVzdC5mbigpLFxuICAgICAgaGFuZGxlTmV4dDogbW9ja0hhbmRsZU5leHQsXG4gICAgICBoYW5kbGVQcmV2aW91czogamVzdC5mbigpLFxuICAgICAgY2FuR29Ub1ByZXZpb3VzOiBmYWxzZSxcbiAgICAgIGlzTGFzdFdvcmRJbkV4ZXJjaXNlOiBmYWxzZSxcbiAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgY2F0ZWdvcmllczogW3sgbmFtZTogJ0dyZWV0aW5ncycsIHdvcmRzOiBbeyB3b3JkOiAnYScgfSwgeyB3b3JkOiAnYicgfV0gfV0sXG4gICAgICAgIHdvcmRDb3VudGVyOiAnMS8yJyxcbiAgICAgIH0sXG4gICAgICBzYXZlRGF0YTogamVzdC5mbigpLFxuICAgIH0pO1xuXG4gICAgY29uc3QgeyByZXJlbmRlciB9ID0gcmVuZGVyKDxWb2NhYnVsYXJ5RXhlcmNpc2Ugcm91dGU9e3sgcGFyYW1zOiBtb2NrUm91dGVQYXJhbXMgfX0gLz4pO1xuXG4gICAgLy8gSW5pdGlhbCByZW5kZXIgc2hvdWxkIHNhdmUgYWN0aXZpdHlcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChtb2NrU2F2ZUFjdGl2aXR5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgIGxldmVsOiAnQTEnLFxuICAgICAgICB0eXBlOiAndm9jYWJ1bGFyeScsXG4gICAgICAgIG1vZGU6ICdjbGFzc2ljJyxcbiAgICAgICAgbWV0YWRhdGE6IGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICB3b3JkOiAwLFxuICAgICAgICAgIHRvdGFsV29yZHM6IDIsXG4gICAgICAgICAgY2F0ZWdvcnk6ICdHcmVldGluZ3MnLFxuICAgICAgICAgIGNhdGVnb3J5SW5kZXg6IDAsXG4gICAgICAgICAgd29yZEluZGV4OiAwLFxuICAgICAgICB9KSxcbiAgICAgIH0pKTtcbiAgICB9KTtcblxuICAgIC8vIFNpbXVsYXRlIHdvcmRJbmRleCBjaGFuZ2VcbiAgICBtb2NrVXNlVm9jYWJ1bGFyeS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgY2F0ZWdvcnlJbmRleDogMCxcbiAgICAgIHdvcmRJbmRleDogMSwgLy8gQ2hhbmdlZCB3b3JkSW5kZXhcbiAgICAgIHNob3dUcmFuc2xhdGlvbjogZmFsc2UsXG4gICAgICBjb21wbGV0ZWRXb3JkczogW10sXG4gICAgICBsb2FkZWQ6IHRydWUsXG4gICAgICBzaG93RGV0YWlsZWRQcm9ncmVzczogZmFsc2UsXG4gICAgICBjdXJyZW50V29yZDogeyB3b3JkOiAnd29ybGQnLCB0cmFuc2xhdGlvbjogJ21vbmRlJyB9LFxuICAgICAgY3VycmVudENhdGVnb3J5OiB7IG5hbWU6ICdHcmVldGluZ3MnIH0sXG4gICAgICBjaGFuZ2VDYXRlZ29yeTogamVzdC5mbigpLFxuICAgICAgdG9nZ2xlVHJhbnNsYXRpb246IGplc3QuZm4oKSxcbiAgICAgIHRvZ2dsZURldGFpbGVkUHJvZ3Jlc3M6IGplc3QuZm4oKSxcbiAgICAgIGhhbmRsZU5leHQ6IG1vY2tIYW5kbGVOZXh0LFxuICAgICAgaGFuZGxlUHJldmlvdXM6IGplc3QuZm4oKSxcbiAgICAgIGNhbkdvVG9QcmV2aW91czogZmFsc2UsXG4gICAgICBpc0xhc3RXb3JkSW5FeGVyY2lzZTogZmFsc2UsXG4gICAgICBkaXNwbGF5OiB7XG4gICAgICAgIGNhdGVnb3JpZXM6IFt7IG5hbWU6ICdHcmVldGluZ3MnLCB3b3JkczogW3sgd29yZDogJ2EnIH0sIHsgd29yZDogJ2InIH1dIH1dLFxuICAgICAgICB3b3JkQ291bnRlcjogJzIvMicsXG4gICAgICB9LFxuICAgICAgc2F2ZURhdGE6IGplc3QuZm4oKSxcbiAgICB9KTtcbiAgICByZXJlbmRlcig8Vm9jYWJ1bGFyeUV4ZXJjaXNlIHJvdXRlPXt7IHBhcmFtczogbW9ja1JvdXRlUGFyYW1zIH19IC8+KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KG1vY2tTYXZlQWN0aXZpdHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgbWV0YWRhdGE6IGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICB3b3JkOiAxLFxuICAgICAgICAgIHdvcmRJbmRleDogMSxcbiAgICAgICAgfSksXG4gICAgICB9KSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgbmF2aWdhdGUgYmFjayB0byBleGVyY2lzZSBzZWxlY3Rpb24gb24gYmFjayBwcmVzcycsICgpID0+IHtcbiAgICByZW5kZXIoPFZvY2FidWxhcnlFeGVyY2lzZSByb3V0ZT17eyBwYXJhbXM6IG1vY2tSb3V0ZVBhcmFtcyB9fSAvPik7XG4gICAgY29uc3QgaGVhZGVyID0gc2NyZWVuLmdldEJ5VGVzdElkKCdWb2NhYnVsYXJ5SGVhZGVyJyk7XG4gICAgZmlyZUV2ZW50KGhlYWRlciwgJ29uQmFja1ByZXNzJyk7XG4gICAgZXhwZWN0KG1vY2tSb3V0ZXJQdXNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICBwYXRobmFtZTogJy90YWJzL2V4ZXJjaXNlU2VsZWN0aW9uJyxcbiAgICAgIHBhcmFtczogeyBsZXZlbDogJ0ExJyB9LFxuICAgIH0pO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGNhbGwgY2hhbmdlQ2F0ZWdvcnkgd2hlbiBjYXRlZ29yeSBpcyBzZWxlY3RlZCcsICgpID0+IHtcbiAgICBjb25zdCBtb2NrQ2hhbmdlQ2F0ZWdvcnkgPSBqZXN0LmZuKCk7XG4gICAgbW9ja1VzZVZvY2FidWxhcnkubW9ja1JldHVyblZhbHVlT25jZSh7XG4gICAgICAuLi5tb2NrVXNlVm9jYWJ1bGFyeSgpLFxuICAgICAgY2hhbmdlQ2F0ZWdvcnk6IG1vY2tDaGFuZ2VDYXRlZ29yeSxcbiAgICAgIGRpc3BsYXk6IHsgY2F0ZWdvcmllczogW3sgbmFtZTogJ0NhdDEnIH0sIHsgbmFtZTogJ0NhdDInIH1dIH0sXG4gICAgfSk7XG4gICAgcmVuZGVyKDxWb2NhYnVsYXJ5RXhlcmNpc2Ugcm91dGU9e3sgcGFyYW1zOiBtb2NrUm91dGVQYXJhbXMgfX0gLz4pO1xuICAgIGNvbnN0IGNhdGVnb3J5U2VsZWN0b3IgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ1ZvY2FidWxhcnlDYXRlZ29yeVNlbGVjdG9yJyk7XG4gICAgZmlyZUV2ZW50KGNhdGVnb3J5U2VsZWN0b3IsICdvblNlbGVjdENhdGVnb3J5JywgMSk7XG4gICAgZXhwZWN0KG1vY2tDaGFuZ2VDYXRlZ29yeSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoMSk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgY2FsbCB0b2dnbGVEZXRhaWxlZFByb2dyZXNzIHdoZW4gcHJvZ3Jlc3MgaXMgdG9nZ2xlZCcsICgpID0+IHtcbiAgICBjb25zdCBtb2NrVG9nZ2xlRGV0YWlsZWRQcm9ncmVzcyA9IGplc3QuZm4oKTtcbiAgICBtb2NrVXNlVm9jYWJ1bGFyeS5tb2NrUmV0dXJuVmFsdWVPbmNlKHtcbiAgICAgIC4uLm1vY2tVc2VWb2NhYnVsYXJ5KCksXG4gICAgICB0b2dnbGVEZXRhaWxlZFByb2dyZXNzOiBtb2NrVG9nZ2xlRGV0YWlsZWRQcm9ncmVzcyxcbiAgICB9KTtcbiAgICByZW5kZXIoPFZvY2FidWxhcnlFeGVyY2lzZSByb3V0ZT17eyBwYXJhbXM6IG1vY2tSb3V0ZVBhcmFtcyB9fSAvPik7XG4gICAgY29uc3QgcHJvZ3Jlc3MgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ1ZvY2FidWxhcnlQcm9ncmVzcycpO1xuICAgIGZpcmVFdmVudChwcm9ncmVzcywgJ29uVG9nZ2xlRXhwYW5kJyk7XG4gICAgZXhwZWN0KG1vY2tUb2dnbGVEZXRhaWxlZFByb2dyZXNzKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgY2FsbCB0b2dnbGVUcmFuc2xhdGlvbiB3aGVuIHRyYW5zbGF0aW9uIGlzIHRvZ2dsZWQnLCAoKSA9PiB7XG4gICAgY29uc3QgbW9ja1RvZ2dsZVRyYW5zbGF0aW9uID0gamVzdC5mbigpO1xuICAgIG1vY2tVc2VWb2NhYnVsYXJ5Lm1vY2tSZXR1cm5WYWx1ZU9uY2Uoe1xuICAgICAgLi4ubW9ja1VzZVZvY2FidWxhcnkoKSxcbiAgICAgIHRvZ2dsZVRyYW5zbGF0aW9uOiBtb2NrVG9nZ2xlVHJhbnNsYXRpb24sXG4gICAgfSk7XG4gICAgcmVuZGVyKDxWb2NhYnVsYXJ5RXhlcmNpc2Ugcm91dGU9e3sgcGFyYW1zOiBtb2NrUm91dGVQYXJhbXMgfX0gLz4pO1xuICAgIGNvbnN0IHdvcmRTZWN0aW9uID0gc2NyZWVuLmdldEJ5VGVzdElkKCdWb2NhYnVsYXJ5V29yZFNlY3Rpb24nKTtcbiAgICBmaXJlRXZlbnQod29yZFNlY3Rpb24sICdvblRvZ2dsZVRyYW5zbGF0aW9uJyk7XG4gICAgZXhwZWN0KG1vY2tUb2dnbGVUcmFuc2xhdGlvbikudG9IYXZlQmVlbkNhbGxlZCgpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGNhbGwgaGFuZGxlTmV4dFdvcmQgYW5kIHNhdmVEYXRhIG9uIG5leHQgYnV0dG9uIHByZXNzJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tIYW5kbGVOZXh0ID0gamVzdC5mbigoKSA9PiAoeyBjb21wbGV0ZWQ6IGZhbHNlIH0pKTtcbiAgICBjb25zdCBtb2NrU2F2ZURhdGEgPSBqZXN0LmZuKCk7XG4gICAgbW9ja1VzZVZvY2FidWxhcnkubW9ja1JldHVyblZhbHVlT25jZSh7XG4gICAgICAuLi5tb2NrVXNlVm9jYWJ1bGFyeSgpLFxuICAgICAgaGFuZGxlTmV4dDogbW9ja0hhbmRsZU5leHQsXG4gICAgICBzYXZlRGF0YTogbW9ja1NhdmVEYXRhLFxuICAgIH0pO1xuICAgIHJlbmRlcig8Vm9jYWJ1bGFyeUV4ZXJjaXNlIHJvdXRlPXt7IHBhcmFtczogbW9ja1JvdXRlUGFyYW1zIH19IC8+KTtcbiAgICBjb25zdCBuYXZpZ2F0aW9uID0gc2NyZWVuLmdldEJ5VGVzdElkKCdWb2NhYnVsYXJ5TmF2aWdhdGlvbicpO1xuICAgIGZpcmVFdmVudChuYXZpZ2F0aW9uLCAnb25OZXh0Jyk7XG4gICAgZXhwZWN0KG1vY2tIYW5kbGVOZXh0KS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiBleHBlY3QobW9ja1NhdmVEYXRhKS50b0hhdmVCZWVuQ2FsbGVkKCkpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIG5hdmlnYXRlIGJhY2sgd2hlbiBoYW5kbGVOZXh0IGluZGljYXRlcyBjb21wbGV0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tIYW5kbGVOZXh0ID0gamVzdC5mbigoKSA9PiAoeyBjb21wbGV0ZWQ6IHRydWUgfSkpO1xuICAgIGNvbnN0IG1vY2tTYXZlRGF0YSA9IGplc3QuZm4oKTtcbiAgICBtb2NrVXNlVm9jYWJ1bGFyeS5tb2NrUmV0dXJuVmFsdWVPbmNlKHtcbiAgICAgIC4uLm1vY2tVc2VWb2NhYnVsYXJ5KCksXG4gICAgICBoYW5kbGVOZXh0OiBtb2NrSGFuZGxlTmV4dCxcbiAgICAgIHNhdmVEYXRhOiBtb2NrU2F2ZURhdGEsXG4gICAgfSk7XG4gICAgcmVuZGVyKDxWb2NhYnVsYXJ5RXhlcmNpc2Ugcm91dGU9e3sgcGFyYW1zOiBtb2NrUm91dGVQYXJhbXMgfX0gLz4pO1xuICAgIGNvbnN0IG5hdmlnYXRpb24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ1ZvY2FidWxhcnlOYXZpZ2F0aW9uJyk7XG4gICAgZmlyZUV2ZW50KG5hdmlnYXRpb24sICdvbk5leHQnKTtcbiAgICBleHBlY3QobW9ja0hhbmRsZU5leHQpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IGV4cGVjdChtb2NrU2F2ZURhdGEpLnRvSGF2ZUJlZW5DYWxsZWQoKSk7XG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiBleHBlY3QobW9ja05hdmlnYXRpb25Hb0JhY2spLnRvSGF2ZUJlZW5DYWxsZWQoKSk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgY2FsbCBoYW5kbGVQcmV2aW91c1dvcmQgb24gcHJldmlvdXMgYnV0dG9uIHByZXNzJywgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tIYW5kbGVQcmV2aW91cyA9IGplc3QuZm4oKTtcbiAgICBtb2NrVXNlVm9jYWJ1bGFyeS5tb2NrUmV0dXJuVmFsdWVPbmNlKHtcbiAgICAgIC4uLm1vY2tVc2VWb2NhYnVsYXJ5KCksXG4gICAgICBoYW5kbGVQcmV2aW91czogbW9ja0hhbmRsZVByZXZpb3VzLFxuICAgIH0pO1xuICAgIHJlbmRlcig8Vm9jYWJ1bGFyeUV4ZXJjaXNlIHJvdXRlPXt7IHBhcmFtczogbW9ja1JvdXRlUGFyYW1zIH19IC8+KTtcbiAgICBjb25zdCBuYXZpZ2F0aW9uID0gc2NyZWVuLmdldEJ5VGVzdElkKCdWb2NhYnVsYXJ5TmF2aWdhdGlvbicpO1xuICAgIGZpcmVFdmVudChuYXZpZ2F0aW9uLCAnb25QcmV2aW91cycpO1xuICAgIGV4cGVjdChtb2NrSGFuZGxlUHJldmlvdXMpLnRvSGF2ZUJlZW5DYWxsZWQo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