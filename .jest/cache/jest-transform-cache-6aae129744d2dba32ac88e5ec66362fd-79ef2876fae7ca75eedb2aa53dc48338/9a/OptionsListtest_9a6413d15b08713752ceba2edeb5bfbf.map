{"version":3,"names":["_getJestObj","mock","_require","require","Text","Ionicons","props","_jsxRuntime","jsx","testID","name","children","_interopRequireDefault","_react","_reactNative","_reactNative2","_OptionsList","_require2","jest","describe","options","id","text","onSelectOptionMock","fn","afterEach","mockClear","it","_render","render","default","getByText","expect","toBeTruthy","_render2","onSelectOption","fireEvent","press","toHaveBeenCalledWith","_render3","disabled","not","toHaveBeenCalled","_render4","selectedOptionId","getByTestId","queryByTestId","selectedOption","find","child","toBeNull","_render5","optionStyle","style","StyleSheet","flatten","toEqual","objectContaining","flexDirection","_render6","layout","gridContainer","flexWrap","width","_render7","oneOption","_render8","_render9","_render0","correctOptionId","showCorrectAnswer","_render1","queryAllByTestId","length","toBe","_render10"],"sources":["OptionsList.test.js"],"sourcesContent":["import React from 'react';\nimport { render, fireEvent } from '@testing-library/react-native';\nimport { StyleSheet } from 'react-native'; // Importez StyleSheet pour vérifier les styles\nimport OptionsList from '../../../src/components/exercise-common/OptionsList';\n\n// Mock des icônes\njest.mock('@expo/vector-icons', () => {\n    const { Text } = require('react-native');\n    return {\n        Ionicons: (props) => <Text testID={`icon-${props.name}`}>{props.name}</Text>,\n    };\n});\n\ndescribe('OptionsList', () => {\n    const options = [\n        { id: '1', text: 'Apple' },\n        { id: '2', text: 'Banana' },\n        { id: '3', text: 'Cherry' },\n    ];\n    const onSelectOptionMock = jest.fn();\n\n    afterEach(() => {\n        onSelectOptionMock.mockClear();\n    });\n\n    // --- Tests de rendu de base ---\n    it('renders all options correctly', () => {\n        const { getByText } = render(<OptionsList options={options} />);\n        expect(getByText('Apple')).toBeTruthy();\n        expect(getByText('Banana')).toBeTruthy();\n        expect(getByText('Cherry')).toBeTruthy();\n    });\n\n    it('calls onSelectOption with the correct id when an option is pressed', () => {\n        const { getByText } = render(\n            <OptionsList options={options} onSelectOption={onSelectOptionMock} />\n        );\n        fireEvent.press(getByText('Banana'));\n        expect(onSelectOptionMock).toHaveBeenCalledWith('2');\n    });\n\n    it('does not call onSelectOption when disabled', () => {\n        const { getByText } = render(\n            <OptionsList options={options} onSelectOption={onSelectOptionMock} disabled={true} />\n        );\n        fireEvent.press(getByText('Banana'));\n        expect(onSelectOptionMock).not.toHaveBeenCalled();\n    });\n\n    // Ajout d'un test pour vérifier l'indicateur de sélection sans la réponse correcte\n    it('shows a selected indicator for the selected option when answer is not shown', () => {\n        const { getByTestId, queryByTestId } = render(\n            <OptionsList options={options} selectedOptionId={'1'} />\n        );\n        expect(getByTestId('option-item-1')).toBeTruthy();\n        const selectedOption = getByTestId('option-item-1');\n        // Vérifie si l'indicateur de sélection est bien présent\n        expect(selectedOption.children.find(child => child.props.testID === 'selected-indicator')).toBeTruthy();\n        // Vérifie qu'il n'y a pas d'icône de bonne/mauvaise réponse\n        expect(queryByTestId('icon-checkmark-circle')).toBeNull();\n        expect(queryByTestId('icon-close-circle')).toBeNull();\n    });\n\n    // --- Tests de mise en page et de logique ---\n    describe('Layout and Logic', () => {\n        it('renders with vertical layout by default', () => {\n            const { getByTestId } = render(<OptionsList options={options} />);\n            const optionStyle = getByTestId('option-item-1').props.style[0];\n            expect(StyleSheet.flatten(optionStyle)).toEqual(expect.objectContaining({\n                flexDirection: 'row'\n            }));\n        });\n\n        it('renders with grid layout when specified', () => {\n            const { getByTestId } = render(<OptionsList options={options} layout=\"grid\" />);\n            \n            const gridContainer = getByTestId('grid-container');\n            expect(StyleSheet.flatten(gridContainer.props.style)).toEqual(\n              expect.objectContaining({ flexDirection: 'row', flexWrap: 'wrap' })\n            );\n\n            const optionStyle = getByTestId('grid-option-item-1').props.style[0];\n            expect(StyleSheet.flatten(optionStyle)).toEqual(expect.objectContaining({\n              width: '48%',\n            }));\n        });\n        \n        // Ajout d'un test pour vérifier la largeur de la grille quand il y a plus de 2 options\n        it('handles grid layout with more than 2 options', () => {\n            const { getByTestId } = render(<OptionsList options={options} layout=\"grid\" />);\n            const optionStyle = getByTestId('grid-option-item-1').props.style[0];\n            expect(StyleSheet.flatten(optionStyle)).toEqual(expect.objectContaining({\n              width: '48%', // 100 / 2 - 2\n            }));\n        });\n        \n        // Ajout d'un test pour vérifier la largeur de la grille quand il y a une seule option\n        it('handles grid layout with a single option', () => {\n            const oneOption = [{ id: '1', text: 'One' }];\n            const { getByTestId } = render(<OptionsList options={oneOption} layout=\"grid\" />);\n            const optionStyle = getByTestId('grid-option-item-1').props.style[0];\n            expect(StyleSheet.flatten(optionStyle)).toEqual(expect.objectContaining({\n              width: '98%', // 100 / 1 - 2\n            }));\n        });\n\n        it('renders correctly with only one option in vertical layout', () => {\n            const oneOption = [{ id: '1', text: 'One' }];\n            const { getByText } = render(<OptionsList options={oneOption} />);\n            expect(getByText('One')).toBeTruthy();\n        });\n    });\n\n    // --- Tests d'affichage de la réponse ---\n    describe('when showing correct answer', () => {\n        it('shows a checkmark for the correct answer', () => {\n            const { getByTestId, queryByTestId } = render(\n                <OptionsList\n                    options={options}\n                    selectedOptionId={'2'}\n                    correctOptionId={'2'}\n                    showCorrectAnswer={true}\n                />\n            );\n            expect(getByTestId('icon-checkmark-circle')).toBeTruthy();\n            // Vérifie qu'il n'y a pas de point de sélection\n            expect(queryByTestId('selected-indicator')).toBeNull();\n        });\n\n        it('shows a cross for the incorrect selection and a checkmark for the correct answer', () => {\n            const { getByTestId, queryAllByTestId } = render(\n                <OptionsList\n                    options={options}\n                    selectedOptionId={'1'}\n                    correctOptionId={'2'}\n                    showCorrectAnswer={true}\n                />\n            );\n            expect(getByTestId('icon-close-circle')).toBeTruthy();\n            expect(queryAllByTestId('icon-checkmark-circle').length).toBe(1);\n        });\n        \n        it('handles correct and incorrect answers in grid layout', () => {\n            const { getByTestId, queryAllByTestId } = render(\n                <OptionsList\n                    options={options}\n                    selectedOptionId={'1'}\n                    correctOptionId={'2'}\n                    showCorrectAnswer={true}\n                    layout=\"grid\"\n                />\n            );\n            expect(getByTestId('icon-close-circle')).toBeTruthy();\n            expect(queryAllByTestId('icon-checkmark-circle').length).toBe(1);\n        });\n    });\n});"],"mappings":"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","ignoreList":[]}