917e22c1f1eb341123817d9e4d615d43
_getJestObj().mock('expo-router', function () {
  return {
    useFocusEffect: jest.fn(function (callback) {
      return callback();
    }),
    router: {
      push: jest.fn()
    },
    Stack: function Stack(_ref) {
      var children = _ref.children;
      return (0, _jsxRuntime.jsx)(_jsxRuntime.Fragment, {
        children: children
      });
    },
    useLocalSearchParams: function useLocalSearchParams() {
      return {};
    },
    useNavigation: function useNavigation() {
      return {
        navigate: jest.fn(),
        goBack: jest.fn(),
        canGoBack: jest.fn(function () {
          return true;
        }),
        addListener: jest.fn(),
        isFocused: jest.fn(function () {
          return true;
        })
      };
    }
  };
});
_getJestObj().mock('../../src/screens/Dashboard/hooks/useDashboardState', function () {
  return {
    useDashboardState: jest.fn(function () {
      return {
        showLevelProgress: false,
        setShowLevelProgress: jest.fn(),
        openLevelProgressModal: jest.fn(),
        closeLevelProgressModal: jest.fn(),
        refreshing: false,
        activeTab: "home",
        setActiveTab: jest.fn(),
        onRefresh: jest.fn().mockResolvedValue()
      };
    })
  };
});
_getJestObj().mock('../../src/hooks/useLastActivity', function () {
  return function () {
    return {
      lastActivity: null,
      isLoading: false,
      reload: jest.fn()
    };
  };
});
_getJestObj().mock('../../src/hooks/useRealTimeProgress', function () {
  return function () {
    return {
      getLevelProgress: jest.fn(function () {
        return 0;
      }),
      refresh: jest.fn()
    };
  };
});
_getJestObj().mock('../../src/hooks/useActivityMetrics', function () {
  return function () {
    return {
      currentStreak: 3,
      wordsToday: 0,
      timeToday: 0,
      isLoading: false
    };
  };
});
_getJestObj().mock('../../src/contexts/ProgressContext', function () {
  return Object.assign({}, jest.requireActual('../../src/contexts/ProgressContext'), {
    useProgress: function useProgress() {
      return {
        progress: mockProgressState,
        isLoading: false,
        updateExerciseProgress: mockUpdateExerciseProgress,
        calculateGlobalProgress: function calculateGlobalProgress() {
          var levels = Object.values(mockProgressState.levels);
          if (levels.length === 0) return 0;
          var total = levels.reduce(function (sum, level) {
            return sum + level.completed;
          }, 0);
          return Math.round(total / levels.length);
        },
        calculateLevelProgress: function calculateLevelProgress(level) {
          var _mockProgressState$le;
          return ((_mockProgressState$le = mockProgressState.levels[level]) == null ? void 0 : _mockProgressState$le.completed) || 0;
        }
      };
    }
  });
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _reactNative2 = require("react-native");
var _ProgressContext = require("../../src/contexts/ProgressContext");
var _ThemeContext = require("../../src/contexts/ThemeContext");
var _CurrentLevelContext = require("../../src/contexts/CurrentLevelContext");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockProgressState = {
  levels: {},
  exercises: {},
  stats: {},
  lastActivity: {}
};
var mockUpdateExerciseProgress = jest.fn(function (exerciseType, level, completed) {
  if (!mockProgressState.exercises[exerciseType]) {
    mockProgressState.exercises[exerciseType] = {};
  }
  if (!mockProgressState.exercises[exerciseType][level]) {
    mockProgressState.exercises[exerciseType][level] = {
      completed: 0,
      total: 100
    };
  }
  mockProgressState.exercises[exerciseType][level].completed = completed;
  if (!mockProgressState.levels[level]) {
    mockProgressState.levels[level] = {
      completed: 0,
      total: 100
    };
  }
  mockProgressState.levels[level].completed = completed;
});
var FakeExerciseScreen = function FakeExerciseScreen() {
  var _useProgress = (0, _ProgressContext.useProgress)(),
    updateExerciseProgress = _useProgress.updateExerciseProgress;
  var handleComplete = function handleComplete() {
    updateExerciseProgress('vocabulary', 'A1', 80);
  };
  var handlePartialComplete = function handlePartialComplete() {
    updateExerciseProgress('vocabulary', 'A1', 40);
  };
  var handleMultipleUpdates = function handleMultipleUpdates() {
    updateExerciseProgress('vocabulary', 'A1', 60);
    updateExerciseProgress('grammar', 'A1', 30);
    updateExerciseProgress('reading', 'A1', 20);
  };
  return (0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {
    children: [(0, _jsxRuntime.jsx)(_reactNative2.TouchableOpacity, {
      testID: "complete-exercise",
      onPress: handleComplete,
      children: (0, _jsxRuntime.jsx)(_reactNative2.Text, {
        children: "Terminer l'exercice"
      })
    }), (0, _jsxRuntime.jsx)(_reactNative2.TouchableOpacity, {
      testID: "partial-exercise",
      onPress: handlePartialComplete,
      children: (0, _jsxRuntime.jsx)(_reactNative2.Text, {
        children: "Exercice partiel"
      })
    }), (0, _jsxRuntime.jsx)(_reactNative2.TouchableOpacity, {
      testID: "multiple-updates",
      onPress: handleMultipleUpdates,
      children: (0, _jsxRuntime.jsx)(_reactNative2.Text, {
        children: "Mises \xE0 jour multiples"
      })
    })]
  });
};
var FakeProgressDisplay = function FakeProgressDisplay() {
  var _useProgress2 = (0, _ProgressContext.useProgress)(),
    progress = _useProgress2.progress,
    isLoading = _useProgress2.isLoading;
  if (isLoading) {
    return (0, _jsxRuntime.jsx)(_reactNative2.Text, {
      testID: "loading",
      children: "Chargement..."
    });
  }
  return (0, _jsxRuntime.jsxs)(_reactNative2.Text, {
    testID: "progress-display",
    children: ["Progression globale: ", progress.overall, "%"]
  });
};
describe('Scénario 1: Mise à jour de la progression - Tests d\'intégration', function () {
  beforeEach(function () {
    jest.clearAllMocks();
    mockProgressState = {
      levels: {},
      exercises: {},
      stats: {},
      lastActivity: {}
    };
  });
  it("devrait appeler updateProgress avec les bonnes données après la fin d'un exercice", (0, _asyncToGenerator2.default)(function* () {
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ThemeContext.ThemeProvider, {
        children: (0, _jsxRuntime.jsx)(_ProgressContext.ProgressProvider, {
          children: (0, _jsxRuntime.jsx)(FakeExerciseScreen, {})
        })
      })),
      getByTestId = _render.getByTestId;
    _reactNative.fireEvent.press(getByTestId('complete-exercise'));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockUpdateExerciseProgress).toHaveBeenCalledWith('vocabulary', 'A1', 80);
      expect(mockUpdateExerciseProgress).toHaveBeenCalledTimes(1);
    });
  }));
  it("devrait gérer les mises à jour partielles de progression", (0, _asyncToGenerator2.default)(function* () {
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ThemeContext.ThemeProvider, {
        children: (0, _jsxRuntime.jsx)(_ProgressContext.ProgressProvider, {
          children: (0, _jsxRuntime.jsx)(FakeExerciseScreen, {})
        })
      })),
      getByTestId = _render2.getByTestId;
    _reactNative.fireEvent.press(getByTestId('partial-exercise'));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockUpdateExerciseProgress).toHaveBeenCalledWith('vocabulary', 'A1', 40);
      expect(mockUpdateExerciseProgress).toHaveBeenCalledTimes(1);
    });
  }));
  it("devrait gérer plusieurs mises à jour simultanées", (0, _asyncToGenerator2.default)(function* () {
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ThemeContext.ThemeProvider, {
        children: (0, _jsxRuntime.jsx)(_ProgressContext.ProgressProvider, {
          children: (0, _jsxRuntime.jsx)(FakeExerciseScreen, {})
        })
      })),
      getByTestId = _render3.getByTestId;
    _reactNative.fireEvent.press(getByTestId('multiple-updates'));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockUpdateExerciseProgress).toHaveBeenCalledWith('vocabulary', 'A1', 60);
      expect(mockUpdateExerciseProgress).toHaveBeenCalledWith('grammar', 'A1', 30);
      expect(mockUpdateExerciseProgress).toHaveBeenCalledWith('reading', 'A1', 20);
      expect(mockUpdateExerciseProgress).toHaveBeenCalledTimes(3);
    });
  }));
});
describe('Scénario 2: Affichage et mise à jour des métriques en temps réel', function () {
  beforeEach(function () {
    jest.clearAllMocks();
    mockProgressState = {
      levels: {},
      exercises: {},
      stats: {},
      lastActivity: {}
    };
  });
  it("devrait afficher la progression mise à jour après modification", (0, _asyncToGenerator2.default)(function* () {
    var _render4 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ThemeContext.ThemeProvider, {
        children: (0, _jsxRuntime.jsx)(_ProgressContext.ProgressProvider, {
          children: (0, _jsxRuntime.jsx)(FakeProgressDisplay, {})
        })
      })),
      getByTestId = _render4.getByTestId,
      rerender = _render4.rerender;
    expect(getByTestId('progress-display')).toBeTruthy();
    mockUpdateExerciseProgress('vocabulary', 'A1', 75);
    rerender((0, _jsxRuntime.jsx)(_ThemeContext.ThemeProvider, {
      children: (0, _jsxRuntime.jsx)(_ProgressContext.ProgressProvider, {
        children: (0, _jsxRuntime.jsx)(FakeProgressDisplay, {})
      })
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(getByTestId('progress-display')).toBeTruthy();
    });
  }));
  it("devrait gérer les états de chargement pendant les mises à jour", (0, _asyncToGenerator2.default)(function* () {
    var mockProgressContextWithLoading = Object.assign({}, jest.requireActual('../../src/contexts/ProgressContext'), {
      useProgress: function useProgress() {
        return {
          progress: {
            levels: {},
            exercises: {},
            stats: {},
            lastActivity: {}
          },
          isLoading: true,
          updateExerciseProgress: mockUpdateExerciseProgress,
          calculateGlobalProgress: function calculateGlobalProgress() {
            return 0;
          },
          calculateLevelProgress: function calculateLevelProgress() {
            return 0;
          }
        };
      }
    });
    jest.doMock('../../src/contexts/ProgressContext', function () {
      return mockProgressContextWithLoading;
    });
    var _render5 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ThemeContext.ThemeProvider, {
        children: (0, _jsxRuntime.jsx)(_ProgressContext.ProgressProvider, {
          children: (0, _jsxRuntime.jsx)(FakeProgressDisplay, {})
        })
      })),
      getByTestId = _render5.getByTestId;
    expect(getByTestId('loading')).toBeTruthy();
  }));
});
describe('Scénario 3: Intégration avec les composants réels', function () {
  beforeEach(function () {
    jest.clearAllMocks();
    mockProgressState = {
      levels: {},
      exercises: {},
      stats: {},
      lastActivity: {}
    };
  });
  it("devrait mettre à jour la progression lors de la navigation entre écrans", (0, _asyncToGenerator2.default)(function* () {
    var _render6 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ThemeContext.ThemeProvider, {
        children: (0, _jsxRuntime.jsx)(_ProgressContext.ProgressProvider, {
          children: (0, _jsxRuntime.jsx)(_CurrentLevelContext.CurrentLevelProvider, {
            children: (0, _jsxRuntime.jsx)(FakeExerciseScreen, {})
          })
        })
      })),
      getByTestId = _render6.getByTestId,
      rerender = _render6.rerender;
    _reactNative.fireEvent.press(getByTestId('complete-exercise'));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockUpdateExerciseProgress).toHaveBeenCalledWith('vocabulary', 'A1', 80);
    });
    expect(mockUpdateExerciseProgress).toHaveBeenCalledTimes(1);
  }));
  it("devrait maintenir la cohérence des données entre les composants", (0, _asyncToGenerator2.default)(function* () {
    var _render7 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ThemeContext.ThemeProvider, {
        children: (0, _jsxRuntime.jsx)(_ProgressContext.ProgressProvider, {
          children: (0, _jsxRuntime.jsxs)(_CurrentLevelContext.CurrentLevelProvider, {
            children: [(0, _jsxRuntime.jsx)(FakeExerciseScreen, {}), (0, _jsxRuntime.jsx)(FakeProgressDisplay, {})]
          })
        })
      })),
      getByTestId = _render7.getByTestId;
    expect(getByTestId('complete-exercise')).toBeTruthy();
    expect(getByTestId('progress-display')).toBeTruthy();
    _reactNative.fireEvent.press(getByTestId('complete-exercise'));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockUpdateExerciseProgress).toHaveBeenCalledWith('vocabulary', 'A1', 80);
    });
    expect(getByTestId('progress-display')).toBeTruthy();
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ1c2VGb2N1c0VmZmVjdCIsImplc3QiLCJmbiIsImNhbGxiYWNrIiwicm91dGVyIiwicHVzaCIsIlN0YWNrIiwiX3JlZiIsImNoaWxkcmVuIiwiX2pzeFJ1bnRpbWUiLCJqc3giLCJGcmFnbWVudCIsInVzZUxvY2FsU2VhcmNoUGFyYW1zIiwidXNlTmF2aWdhdGlvbiIsIm5hdmlnYXRlIiwiZ29CYWNrIiwiY2FuR29CYWNrIiwiYWRkTGlzdGVuZXIiLCJpc0ZvY3VzZWQiLCJ1c2VEYXNoYm9hcmRTdGF0ZSIsInNob3dMZXZlbFByb2dyZXNzIiwic2V0U2hvd0xldmVsUHJvZ3Jlc3MiLCJvcGVuTGV2ZWxQcm9ncmVzc01vZGFsIiwiY2xvc2VMZXZlbFByb2dyZXNzTW9kYWwiLCJyZWZyZXNoaW5nIiwiYWN0aXZlVGFiIiwic2V0QWN0aXZlVGFiIiwib25SZWZyZXNoIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJsYXN0QWN0aXZpdHkiLCJpc0xvYWRpbmciLCJyZWxvYWQiLCJnZXRMZXZlbFByb2dyZXNzIiwicmVmcmVzaCIsImN1cnJlbnRTdHJlYWsiLCJ3b3Jkc1RvZGF5IiwidGltZVRvZGF5IiwiT2JqZWN0IiwiYXNzaWduIiwicmVxdWlyZUFjdHVhbCIsInVzZVByb2dyZXNzIiwicHJvZ3Jlc3MiLCJtb2NrUHJvZ3Jlc3NTdGF0ZSIsInVwZGF0ZUV4ZXJjaXNlUHJvZ3Jlc3MiLCJtb2NrVXBkYXRlRXhlcmNpc2VQcm9ncmVzcyIsImNhbGN1bGF0ZUdsb2JhbFByb2dyZXNzIiwibGV2ZWxzIiwidmFsdWVzIiwibGVuZ3RoIiwidG90YWwiLCJyZWR1Y2UiLCJzdW0iLCJsZXZlbCIsImNvbXBsZXRlZCIsIk1hdGgiLCJyb3VuZCIsImNhbGN1bGF0ZUxldmVsUHJvZ3Jlc3MiLCJfbW9ja1Byb2dyZXNzU3RhdGUkbGUiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWFjdCIsIl9yZWFjdE5hdGl2ZSIsIl9yZWFjdE5hdGl2ZTIiLCJfUHJvZ3Jlc3NDb250ZXh0IiwiX1RoZW1lQ29udGV4dCIsIl9DdXJyZW50TGV2ZWxDb250ZXh0IiwiX3JlcXVpcmUiLCJleGVyY2lzZXMiLCJzdGF0cyIsImV4ZXJjaXNlVHlwZSIsIkZha2VFeGVyY2lzZVNjcmVlbiIsIl91c2VQcm9ncmVzcyIsImhhbmRsZUNvbXBsZXRlIiwiaGFuZGxlUGFydGlhbENvbXBsZXRlIiwiaGFuZGxlTXVsdGlwbGVVcGRhdGVzIiwianN4cyIsIlRvdWNoYWJsZU9wYWNpdHkiLCJ0ZXN0SUQiLCJvblByZXNzIiwiVGV4dCIsIkZha2VQcm9ncmVzc0Rpc3BsYXkiLCJfdXNlUHJvZ3Jlc3MyIiwib3ZlcmFsbCIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsImRlZmF1bHQiLCJfcmVuZGVyIiwicmVuZGVyIiwiVGhlbWVQcm92aWRlciIsIlByb2dyZXNzUHJvdmlkZXIiLCJnZXRCeVRlc3RJZCIsImZpcmVFdmVudCIsInByZXNzIiwid2FpdEZvciIsImV4cGVjdCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwiX3JlbmRlcjIiLCJfcmVuZGVyMyIsIl9yZW5kZXI0IiwicmVyZW5kZXIiLCJ0b0JlVHJ1dGh5IiwibW9ja1Byb2dyZXNzQ29udGV4dFdpdGhMb2FkaW5nIiwiZG9Nb2NrIiwiX3JlbmRlcjUiLCJfcmVuZGVyNiIsIkN1cnJlbnRMZXZlbFByb3ZpZGVyIiwiX3JlbmRlcjciXSwic291cmNlcyI6WyJwcm9ncmVzcy11cGRhdGUudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBfX3Rlc3RzX18vaW50ZWdyYXRpb24vcHJvZ3Jlc3MtdXBkYXRlLnRlc3QuanNcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZW5kZXIsIGZpcmVFdmVudCwgd2FpdEZvciwgd2l0aGluIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdC1uYXRpdmUnO1xuaW1wb3J0IHsgVG91Y2hhYmxlT3BhY2l0eSwgVGV4dCB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgeyBQcm9ncmVzc1Byb3ZpZGVyLCB1c2VQcm9ncmVzcyB9IGZyb20gJy4uLy4uL3NyYy9jb250ZXh0cy9Qcm9ncmVzc0NvbnRleHQnO1xuaW1wb3J0IHsgVGhlbWVQcm92aWRlciB9IGZyb20gJy4uLy4uL3NyYy9jb250ZXh0cy9UaGVtZUNvbnRleHQnO1xuaW1wb3J0IHsgQ3VycmVudExldmVsUHJvdmlkZXIgfSBmcm9tICcuLi8uLi9zcmMvY29udGV4dHMvQ3VycmVudExldmVsQ29udGV4dCc7XG5cbi8vIE1vY2sgZGUgZXhwby1yb3V0ZXJcbmplc3QubW9jaygnZXhwby1yb3V0ZXInLCAoKSA9PiAoe1xuICB1c2VGb2N1c0VmZmVjdDogamVzdC5mbihjYWxsYmFjayA9PiBjYWxsYmFjaygpKSxcbiAgcm91dGVyOiB7XG4gICAgcHVzaDogamVzdC5mbigpLFxuICB9LFxuICBTdGFjazogKHsgY2hpbGRyZW4gfSkgPT4gPD57Y2hpbGRyZW59PC8+LFxuICB1c2VMb2NhbFNlYXJjaFBhcmFtczogKCkgPT4gKHt9KSxcbiAgdXNlTmF2aWdhdGlvbjogKCkgPT4gKHtcbiAgICBuYXZpZ2F0ZTogamVzdC5mbigpLFxuICAgIGdvQmFjazogamVzdC5mbigpLFxuICAgIGNhbkdvQmFjazogamVzdC5mbigoKSA9PiB0cnVlKSxcbiAgICBhZGRMaXN0ZW5lcjogamVzdC5mbigpLFxuICAgIGlzRm9jdXNlZDogamVzdC5mbigoKSA9PiB0cnVlKSxcbiAgfSksXG59KSk7XG5cbi8vIE1vY2tzIGRlcyBob29rcyBldCBjb21wb3NhbnRzXG5qZXN0Lm1vY2soJy4uLy4uL3NyYy9zY3JlZW5zL0Rhc2hib2FyZC9ob29rcy91c2VEYXNoYm9hcmRTdGF0ZScsICgpID0+ICh7XG4gIHVzZURhc2hib2FyZFN0YXRlOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgc2hvd0xldmVsUHJvZ3Jlc3M6IGZhbHNlLFxuICAgIHNldFNob3dMZXZlbFByb2dyZXNzOiBqZXN0LmZuKCksXG4gICAgb3BlbkxldmVsUHJvZ3Jlc3NNb2RhbDogamVzdC5mbigpLFxuICAgIGNsb3NlTGV2ZWxQcm9ncmVzc01vZGFsOiBqZXN0LmZuKCksXG4gICAgcmVmcmVzaGluZzogZmFsc2UsXG4gICAgYWN0aXZlVGFiOiBcImhvbWVcIixcbiAgICBzZXRBY3RpdmVUYWI6IGplc3QuZm4oKSxcbiAgICBvblJlZnJlc2g6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSgpLFxuICB9KSksXG59KSk7XG5cbmplc3QubW9jaygnLi4vLi4vc3JjL2hvb2tzL3VzZUxhc3RBY3Rpdml0eScsICgpID0+ICgpID0+ICh7XG4gIGxhc3RBY3Rpdml0eTogbnVsbCxcbiAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgcmVsb2FkOiBqZXN0LmZuKCksXG59KSk7XG5cbmplc3QubW9jaygnLi4vLi4vc3JjL2hvb2tzL3VzZVJlYWxUaW1lUHJvZ3Jlc3MnLCAoKSA9PiAoKSA9PiAoe1xuICBnZXRMZXZlbFByb2dyZXNzOiBqZXN0LmZuKCgpID0+IDApLFxuICByZWZyZXNoOiBqZXN0LmZuKCksXG59KSk7XG5cbmplc3QubW9jaygnLi4vLi4vc3JjL2hvb2tzL3VzZUFjdGl2aXR5TWV0cmljcycsICgpID0+ICgpID0+ICh7XG4gIGN1cnJlbnRTdHJlYWs6IDMsXG4gIHdvcmRzVG9kYXk6IDAsXG4gIHRpbWVUb2RheTogMCxcbiAgaXNMb2FkaW5nOiBmYWxzZSxcbn0pKTtcblxuLy8gTW9jayBkdSBQcm9ncmVzc0NvbnRleHQgYXZlYyDDqXRhdCBzaW11bMOpXG5sZXQgbW9ja1Byb2dyZXNzU3RhdGUgPSB7XG4gIGxldmVsczoge30sXG4gIGV4ZXJjaXNlczoge30sXG4gIHN0YXRzOiB7fSxcbiAgbGFzdEFjdGl2aXR5OiB7fVxufTtcblxuY29uc3QgbW9ja1VwZGF0ZUV4ZXJjaXNlUHJvZ3Jlc3MgPSBqZXN0LmZuKChleGVyY2lzZVR5cGUsIGxldmVsLCBjb21wbGV0ZWQpID0+IHtcbiAgLy8gU2ltdWxlciBsYSBtaXNlIMOgIGpvdXIgZGUgbCfDqXRhdFxuICBpZiAoIW1vY2tQcm9ncmVzc1N0YXRlLmV4ZXJjaXNlc1tleGVyY2lzZVR5cGVdKSB7XG4gICAgbW9ja1Byb2dyZXNzU3RhdGUuZXhlcmNpc2VzW2V4ZXJjaXNlVHlwZV0gPSB7fTtcbiAgfVxuICBpZiAoIW1vY2tQcm9ncmVzc1N0YXRlLmV4ZXJjaXNlc1tleGVyY2lzZVR5cGVdW2xldmVsXSkge1xuICAgIG1vY2tQcm9ncmVzc1N0YXRlLmV4ZXJjaXNlc1tleGVyY2lzZVR5cGVdW2xldmVsXSA9IHsgY29tcGxldGVkOiAwLCB0b3RhbDogMTAwIH07XG4gIH1cbiAgbW9ja1Byb2dyZXNzU3RhdGUuZXhlcmNpc2VzW2V4ZXJjaXNlVHlwZV1bbGV2ZWxdLmNvbXBsZXRlZCA9IGNvbXBsZXRlZDtcbiAgXG4gIC8vIE1ldHRyZSDDoCBqb3VyIGxhIHByb2dyZXNzaW9uIGR1IG5pdmVhdVxuICBpZiAoIW1vY2tQcm9ncmVzc1N0YXRlLmxldmVsc1tsZXZlbF0pIHtcbiAgICBtb2NrUHJvZ3Jlc3NTdGF0ZS5sZXZlbHNbbGV2ZWxdID0geyBjb21wbGV0ZWQ6IDAsIHRvdGFsOiAxMDAgfTtcbiAgfVxuICBtb2NrUHJvZ3Jlc3NTdGF0ZS5sZXZlbHNbbGV2ZWxdLmNvbXBsZXRlZCA9IGNvbXBsZXRlZDtcbn0pO1xuXG5qZXN0Lm1vY2soJy4uLy4uL3NyYy9jb250ZXh0cy9Qcm9ncmVzc0NvbnRleHQnLCAoKSA9PiAoe1xuICAuLi5qZXN0LnJlcXVpcmVBY3R1YWwoJy4uLy4uL3NyYy9jb250ZXh0cy9Qcm9ncmVzc0NvbnRleHQnKSxcbiAgdXNlUHJvZ3Jlc3M6ICgpID0+ICh7XG4gICAgcHJvZ3Jlc3M6IG1vY2tQcm9ncmVzc1N0YXRlLFxuICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgdXBkYXRlRXhlcmNpc2VQcm9ncmVzczogbW9ja1VwZGF0ZUV4ZXJjaXNlUHJvZ3Jlc3MsXG4gICAgY2FsY3VsYXRlR2xvYmFsUHJvZ3Jlc3M6ICgpID0+IHtcbiAgICAgIGNvbnN0IGxldmVscyA9IE9iamVjdC52YWx1ZXMobW9ja1Byb2dyZXNzU3RhdGUubGV2ZWxzKTtcbiAgICAgIGlmIChsZXZlbHMubGVuZ3RoID09PSAwKSByZXR1cm4gMDtcbiAgICAgIGNvbnN0IHRvdGFsID0gbGV2ZWxzLnJlZHVjZSgoc3VtLCBsZXZlbCkgPT4gc3VtICsgbGV2ZWwuY29tcGxldGVkLCAwKTtcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKHRvdGFsIC8gbGV2ZWxzLmxlbmd0aCk7XG4gICAgfSxcbiAgICBjYWxjdWxhdGVMZXZlbFByb2dyZXNzOiAobGV2ZWwpID0+IG1vY2tQcm9ncmVzc1N0YXRlLmxldmVsc1tsZXZlbF0/LmNvbXBsZXRlZCB8fCAwLFxuICB9KSxcbn0pKTtcblxuLy8gQ29tcG9zYW50IGRlIHRlc3QgcG91ciBzaW11bGVyIHVuIGV4ZXJjaWNlIHF1aSB1dGlsaXNlIGxlIGNvbnRleHRlIGRlIHByb2dyZXNzaW9uXG5jb25zdCBGYWtlRXhlcmNpc2VTY3JlZW4gPSAoKSA9PiB7XG4gIGNvbnN0IHsgdXBkYXRlRXhlcmNpc2VQcm9ncmVzcyB9ID0gdXNlUHJvZ3Jlc3MoKTtcblxuICBjb25zdCBoYW5kbGVDb21wbGV0ZSA9ICgpID0+IHtcbiAgICB1cGRhdGVFeGVyY2lzZVByb2dyZXNzKCd2b2NhYnVsYXJ5JywgJ0ExJywgODApO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVBhcnRpYWxDb21wbGV0ZSA9ICgpID0+IHtcbiAgICB1cGRhdGVFeGVyY2lzZVByb2dyZXNzKCd2b2NhYnVsYXJ5JywgJ0ExJywgNDApO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZU11bHRpcGxlVXBkYXRlcyA9ICgpID0+IHtcbiAgICB1cGRhdGVFeGVyY2lzZVByb2dyZXNzKCd2b2NhYnVsYXJ5JywgJ0ExJywgNjApO1xuICAgIHVwZGF0ZUV4ZXJjaXNlUHJvZ3Jlc3MoJ2dyYW1tYXInLCAnQTEnLCAzMCk7XG4gICAgdXBkYXRlRXhlcmNpc2VQcm9ncmVzcygncmVhZGluZycsICdBMScsIDIwKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8VG91Y2hhYmxlT3BhY2l0eSB0ZXN0SUQ9XCJjb21wbGV0ZS1leGVyY2lzZVwiIG9uUHJlc3M9e2hhbmRsZUNvbXBsZXRlfT5cbiAgICAgICAgPFRleHQ+VGVybWluZXIgbCdleGVyY2ljZTwvVGV4dD5cbiAgICAgIDwvVG91Y2hhYmxlT3BhY2l0eT5cbiAgICAgIDxUb3VjaGFibGVPcGFjaXR5IHRlc3RJRD1cInBhcnRpYWwtZXhlcmNpc2VcIiBvblByZXNzPXtoYW5kbGVQYXJ0aWFsQ29tcGxldGV9PlxuICAgICAgICA8VGV4dD5FeGVyY2ljZSBwYXJ0aWVsPC9UZXh0PlxuICAgICAgPC9Ub3VjaGFibGVPcGFjaXR5PlxuICAgICAgPFRvdWNoYWJsZU9wYWNpdHkgdGVzdElEPVwibXVsdGlwbGUtdXBkYXRlc1wiIG9uUHJlc3M9e2hhbmRsZU11bHRpcGxlVXBkYXRlc30+XG4gICAgICAgIDxUZXh0Pk1pc2VzIMOgIGpvdXIgbXVsdGlwbGVzPC9UZXh0PlxuICAgICAgPC9Ub3VjaGFibGVPcGFjaXR5PlxuICAgIDwvPlxuICApO1xufTtcblxuLy8gQ29tcG9zYW50IGRlIHRlc3QgcG91ciB2w6lyaWZpZXIgbCdhZmZpY2hhZ2UgZGUgbGEgcHJvZ3Jlc3Npb25cbmNvbnN0IEZha2VQcm9ncmVzc0Rpc3BsYXkgPSAoKSA9PiB7XG4gIGNvbnN0IHsgcHJvZ3Jlc3MsIGlzTG9hZGluZyB9ID0gdXNlUHJvZ3Jlc3MoKTtcblxuICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgcmV0dXJuIDxUZXh0IHRlc3RJRD1cImxvYWRpbmdcIj5DaGFyZ2VtZW50Li4uPC9UZXh0PjtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPFRleHQgdGVzdElEPVwicHJvZ3Jlc3MtZGlzcGxheVwiPlxuICAgICAgUHJvZ3Jlc3Npb24gZ2xvYmFsZToge3Byb2dyZXNzLm92ZXJhbGx9JVxuICAgIDwvVGV4dD5cbiAgKTtcbn07XG5cbmRlc2NyaWJlKCdTY8OpbmFyaW8gMTogTWlzZSDDoCBqb3VyIGRlIGxhIHByb2dyZXNzaW9uIC0gVGVzdHMgZFxcJ2ludMOpZ3JhdGlvbicsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gICAgLy8gUmVzZXQgZGUgbCfDqXRhdCBtb2NrXG4gICAgbW9ja1Byb2dyZXNzU3RhdGUgPSB7XG4gICAgICBsZXZlbHM6IHt9LFxuICAgICAgZXhlcmNpc2VzOiB7fSxcbiAgICAgIHN0YXRzOiB7fSxcbiAgICAgIGxhc3RBY3Rpdml0eToge31cbiAgICB9O1xuICB9KTtcblxuICBpdChcImRldnJhaXQgYXBwZWxlciB1cGRhdGVQcm9ncmVzcyBhdmVjIGxlcyBib25uZXMgZG9ubsOpZXMgYXByw6hzIGxhIGZpbiBkJ3VuIGV4ZXJjaWNlXCIsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IGdldEJ5VGVzdElkIH0gPSByZW5kZXIoXG4gICAgICA8VGhlbWVQcm92aWRlcj5cbiAgICAgICAgPFByb2dyZXNzUHJvdmlkZXI+XG4gICAgICAgICAgPEZha2VFeGVyY2lzZVNjcmVlbiAvPlxuICAgICAgICA8L1Byb2dyZXNzUHJvdmlkZXI+XG4gICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgKTtcblxuICAgIC8vIFNpbXVsZXIgbGEgZmluIGRlIGwnZXhlcmNpY2VcbiAgICBmaXJlRXZlbnQucHJlc3MoZ2V0QnlUZXN0SWQoJ2NvbXBsZXRlLWV4ZXJjaXNlJykpO1xuXG4gICAgLy8gVsOpcmlmaWVyIHF1ZSBsYSBtaXNlIMOgIGpvdXIgZGUgbGEgcHJvZ3Jlc3Npb24gYSDDqXTDqSBhcHBlbMOpZSB2aWEgbGUgY29udGV4dGVcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgICBleHBlY3QobW9ja1VwZGF0ZUV4ZXJjaXNlUHJvZ3Jlc3MpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCd2b2NhYnVsYXJ5JywgJ0ExJywgODApO1xuICAgIGV4cGVjdChtb2NrVXBkYXRlRXhlcmNpc2VQcm9ncmVzcykudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAgIH0pO1xuICB9KTtcblxuICBpdChcImRldnJhaXQgZ8OpcmVyIGxlcyBtaXNlcyDDoCBqb3VyIHBhcnRpZWxsZXMgZGUgcHJvZ3Jlc3Npb25cIiwgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcihcbiAgICAgIDxUaGVtZVByb3ZpZGVyPlxuICAgICAgICA8UHJvZ3Jlc3NQcm92aWRlcj5cbiAgICAgICAgICA8RmFrZUV4ZXJjaXNlU2NyZWVuIC8+XG4gICAgICAgIDwvUHJvZ3Jlc3NQcm92aWRlcj5cbiAgICAgIDwvVGhlbWVQcm92aWRlcj5cbiAgICApO1xuXG4gICAgLy8gU2ltdWxlciB1biBleGVyY2ljZSBwYXJ0aWVsbGVtZW50IHRlcm1pbsOpXG4gICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGVzdElkKCdwYXJ0aWFsLWV4ZXJjaXNlJykpO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgICAgZXhwZWN0KG1vY2tVcGRhdGVFeGVyY2lzZVByb2dyZXNzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgndm9jYWJ1bGFyeScsICdBMScsIDQwKTtcbiAgICBleHBlY3QobW9ja1VwZGF0ZUV4ZXJjaXNlUHJvZ3Jlc3MpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoXCJkZXZyYWl0IGfDqXJlciBwbHVzaWV1cnMgbWlzZXMgw6Agam91ciBzaW11bHRhbsOpZXNcIiwgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcihcbiAgICAgIDxUaGVtZVByb3ZpZGVyPlxuICAgICAgICA8UHJvZ3Jlc3NQcm92aWRlcj5cbiAgICAgICAgICA8RmFrZUV4ZXJjaXNlU2NyZWVuIC8+XG4gICAgICAgIDwvUHJvZ3Jlc3NQcm92aWRlcj5cbiAgICAgIDwvVGhlbWVQcm92aWRlcj5cbiAgICApO1xuXG4gICAgLy8gU2ltdWxlciBwbHVzaWV1cnMgbWlzZXMgw6Agam91clxuICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRlc3RJZCgnbXVsdGlwbGUtdXBkYXRlcycpKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICAgIGV4cGVjdChtb2NrVXBkYXRlRXhlcmNpc2VQcm9ncmVzcykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3ZvY2FidWxhcnknLCAnQTEnLCA2MCk7XG4gICAgZXhwZWN0KG1vY2tVcGRhdGVFeGVyY2lzZVByb2dyZXNzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnZ3JhbW1hcicsICdBMScsIDMwKTtcbiAgICBleHBlY3QobW9ja1VwZGF0ZUV4ZXJjaXNlUHJvZ3Jlc3MpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdyZWFkaW5nJywgJ0ExJywgMjApO1xuICAgIGV4cGVjdChtb2NrVXBkYXRlRXhlcmNpc2VQcm9ncmVzcykudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDMpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnU2PDqW5hcmlvIDI6IEFmZmljaGFnZSBldCBtaXNlIMOgIGpvdXIgZGVzIG3DqXRyaXF1ZXMgZW4gdGVtcHMgcsOpZWwnLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIC8vIFJlc2V0IGRlIGwnw6l0YXQgbW9ja1xuICAgIG1vY2tQcm9ncmVzc1N0YXRlID0ge1xuICAgICAgbGV2ZWxzOiB7fSxcbiAgICAgIGV4ZXJjaXNlczoge30sXG4gICAgICBzdGF0czoge30sXG4gICAgICBsYXN0QWN0aXZpdHk6IHt9XG4gICAgfTtcbiAgfSk7XG5cbiAgaXQoXCJkZXZyYWl0IGFmZmljaGVyIGxhIHByb2dyZXNzaW9uIG1pc2Ugw6Agam91ciBhcHLDqHMgbW9kaWZpY2F0aW9uXCIsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IGdldEJ5VGVzdElkLCByZXJlbmRlciB9ID0gcmVuZGVyKFxuICAgICAgPFRoZW1lUHJvdmlkZXI+XG4gICAgICAgIDxQcm9ncmVzc1Byb3ZpZGVyPlxuICAgICAgICAgIDxGYWtlUHJvZ3Jlc3NEaXNwbGF5IC8+XG4gICAgICAgIDwvUHJvZ3Jlc3NQcm92aWRlcj5cbiAgICAgIDwvVGhlbWVQcm92aWRlcj5cbiAgICApO1xuXG4gICAgLy8gVsOpcmlmaWVyIGwnw6l0YXQgaW5pdGlhbFxuICAgIGV4cGVjdChnZXRCeVRlc3RJZCgncHJvZ3Jlc3MtZGlzcGxheScpKS50b0JlVHJ1dGh5KCk7XG5cbiAgICAvLyBTaW11bGVyIHVuZSBtaXNlIMOgIGpvdXIgZGUgcHJvZ3Jlc3Npb25cbiAgICBtb2NrVXBkYXRlRXhlcmNpc2VQcm9ncmVzcygndm9jYWJ1bGFyeScsICdBMScsIDc1KTtcblxuICAgIC8vIFJlcmVuZGVyIHBvdXIgdm9pciBsZXMgY2hhbmdlbWVudHNcbiAgICByZXJlbmRlcihcbiAgICAgIDxUaGVtZVByb3ZpZGVyPlxuICAgICAgICA8UHJvZ3Jlc3NQcm92aWRlcj5cbiAgICAgICAgICA8RmFrZVByb2dyZXNzRGlzcGxheSAvPlxuICAgICAgICA8L1Byb2dyZXNzUHJvdmlkZXI+XG4gICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KGdldEJ5VGVzdElkKCdwcm9ncmVzcy1kaXNwbGF5JykpLnRvQmVUcnV0aHkoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoXCJkZXZyYWl0IGfDqXJlciBsZXMgw6l0YXRzIGRlIGNoYXJnZW1lbnQgcGVuZGFudCBsZXMgbWlzZXMgw6Agam91clwiLCBhc3luYyAoKSA9PiB7XG4gICAgLy8gTW9jayBkdSBjb250ZXh0ZSBhdmVjIMOpdGF0IGRlIGNoYXJnZW1lbnRcbiAgICBjb25zdCBtb2NrUHJvZ3Jlc3NDb250ZXh0V2l0aExvYWRpbmcgPSB7XG4gICAgICAuLi5qZXN0LnJlcXVpcmVBY3R1YWwoJy4uLy4uL3NyYy9jb250ZXh0cy9Qcm9ncmVzc0NvbnRleHQnKSxcbiAgICAgIHVzZVByb2dyZXNzOiAoKSA9PiAoe1xuICAgICAgICBwcm9ncmVzczogeyBcbiAgICAgICAgICBsZXZlbHM6IHt9LFxuICAgICAgICAgIGV4ZXJjaXNlczoge30sXG4gICAgICAgICAgc3RhdHM6IHt9LFxuICAgICAgICAgIGxhc3RBY3Rpdml0eToge31cbiAgICAgICAgfSxcbiAgICAgICAgaXNMb2FkaW5nOiB0cnVlLFxuICAgICAgICB1cGRhdGVFeGVyY2lzZVByb2dyZXNzOiBtb2NrVXBkYXRlRXhlcmNpc2VQcm9ncmVzcyxcbiAgICAgICAgY2FsY3VsYXRlR2xvYmFsUHJvZ3Jlc3M6ICgpID0+IDAsXG4gICAgICAgIGNhbGN1bGF0ZUxldmVsUHJvZ3Jlc3M6ICgpID0+IDAsXG4gICAgICB9KSxcbiAgICB9O1xuXG4gICAgamVzdC5kb01vY2soJy4uLy4uL3NyYy9jb250ZXh0cy9Qcm9ncmVzc0NvbnRleHQnLCAoKSA9PiBtb2NrUHJvZ3Jlc3NDb250ZXh0V2l0aExvYWRpbmcpO1xuXG4gICAgY29uc3QgeyBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyKFxuICAgICAgPFRoZW1lUHJvdmlkZXI+XG4gICAgICAgIDxQcm9ncmVzc1Byb3ZpZGVyPlxuICAgICAgICAgIDxGYWtlUHJvZ3Jlc3NEaXNwbGF5IC8+XG4gICAgICAgIDwvUHJvZ3Jlc3NQcm92aWRlcj5cbiAgICAgIDwvVGhlbWVQcm92aWRlcj5cbiAgICApO1xuXG4gICAgLy8gVsOpcmlmaWVyIHF1ZSBsJ8OpdGF0IGRlIGNoYXJnZW1lbnQgZXN0IGFmZmljaMOpXG4gICAgZXhwZWN0KGdldEJ5VGVzdElkKCdsb2FkaW5nJykpLnRvQmVUcnV0aHkoKTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ1Njw6luYXJpbyAzOiBJbnTDqWdyYXRpb24gYXZlYyBsZXMgY29tcG9zYW50cyByw6llbHMnLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIC8vIFJlc2V0IGRlIGwnw6l0YXQgbW9ja1xuICAgIG1vY2tQcm9ncmVzc1N0YXRlID0ge1xuICAgICAgbGV2ZWxzOiB7fSxcbiAgICAgIGV4ZXJjaXNlczoge30sXG4gICAgICBzdGF0czoge30sXG4gICAgICBsYXN0QWN0aXZpdHk6IHt9XG4gICAgfTtcbiAgfSk7XG5cbiAgaXQoXCJkZXZyYWl0IG1ldHRyZSDDoCBqb3VyIGxhIHByb2dyZXNzaW9uIGxvcnMgZGUgbGEgbmF2aWdhdGlvbiBlbnRyZSDDqWNyYW5zXCIsIGFzeW5jICgpID0+IHtcbiAgICAvLyBDZSB0ZXN0IHNpbXVsZSBsJ2ludMOpZ3JhdGlvbiByw6llbGxlIGVudHJlIGNvbXBvc2FudHNcbiAgICBjb25zdCB7IGdldEJ5VGVzdElkLCByZXJlbmRlciB9ID0gcmVuZGVyKFxuICAgICAgPFRoZW1lUHJvdmlkZXI+XG4gICAgICAgIDxQcm9ncmVzc1Byb3ZpZGVyPlxuICAgICAgICAgIDxDdXJyZW50TGV2ZWxQcm92aWRlcj5cbiAgICAgICAgICAgIDxGYWtlRXhlcmNpc2VTY3JlZW4gLz5cbiAgICAgICAgICA8L0N1cnJlbnRMZXZlbFByb3ZpZGVyPlxuICAgICAgICA8L1Byb2dyZXNzUHJvdmlkZXI+XG4gICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgKTtcblxuICAgIC8vIFNpbXVsZXIgbGEgcHJvZ3Jlc3Npb24gZGFucyB1biBleGVyY2ljZVxuICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRlc3RJZCgnY29tcGxldGUtZXhlcmNpc2UnKSk7XG5cbiAgICAvLyBWw6lyaWZpZXIgcXVlIGxhIHByb2dyZXNzaW9uIGEgw6l0w6kgbWlzZSDDoCBqb3VyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QobW9ja1VwZGF0ZUV4ZXJjaXNlUHJvZ3Jlc3MpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCd2b2NhYnVsYXJ5JywgJ0ExJywgODApO1xuICAgIH0pO1xuXG4gICAgLy8gU2ltdWxlciBsYSBuYXZpZ2F0aW9uIHZlcnMgdW4gYXV0cmUgw6ljcmFuXG4gICAgLy8gSWNpIG9uIHBvdXJyYWl0IHRlc3RlciBsYSBwZXJzaXN0YW5jZSBkZXMgZG9ubsOpZXNcbiAgICBleHBlY3QobW9ja1VwZGF0ZUV4ZXJjaXNlUHJvZ3Jlc3MpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgfSk7XG5cbiAgaXQoXCJkZXZyYWl0IG1haW50ZW5pciBsYSBjb2jDqXJlbmNlIGRlcyBkb25uw6llcyBlbnRyZSBsZXMgY29tcG9zYW50c1wiLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyKFxuICAgICAgPFRoZW1lUHJvdmlkZXI+XG4gICAgICAgIDxQcm9ncmVzc1Byb3ZpZGVyPlxuICAgICAgICAgIDxDdXJyZW50TGV2ZWxQcm92aWRlcj5cbiAgICAgICAgICAgIDxGYWtlRXhlcmNpc2VTY3JlZW4gLz5cbiAgICAgICAgICAgIDxGYWtlUHJvZ3Jlc3NEaXNwbGF5IC8+XG4gICAgICAgICAgPC9DdXJyZW50TGV2ZWxQcm92aWRlcj5cbiAgICAgICAgPC9Qcm9ncmVzc1Byb3ZpZGVyPlxuICAgICAgPC9UaGVtZVByb3ZpZGVyPlxuICAgICk7XG5cbiAgICAvLyBWw6lyaWZpZXIgcXVlIGxlcyBkZXV4IGNvbXBvc2FudHMgc29udCByZW5kdXNcbiAgICBleHBlY3QoZ2V0QnlUZXN0SWQoJ2NvbXBsZXRlLWV4ZXJjaXNlJykpLnRvQmVUcnV0aHkoKTtcbiAgICBleHBlY3QoZ2V0QnlUZXN0SWQoJ3Byb2dyZXNzLWRpc3BsYXknKSkudG9CZVRydXRoeSgpO1xuXG4gICAgLy8gU2ltdWxlciB1bmUgbWlzZSDDoCBqb3VyXG4gICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGVzdElkKCdjb21wbGV0ZS1leGVyY2lzZScpKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KG1vY2tVcGRhdGVFeGVyY2lzZVByb2dyZXNzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgndm9jYWJ1bGFyeScsICdBMScsIDgwKTtcbiAgICB9KTtcblxuICAgIC8vIExlcyBkZXV4IGNvbXBvc2FudHMgZGV2cmFpZW50IMOqdHJlIHN5bmNocm9uaXPDqXNcbiAgICBleHBlY3QoZ2V0QnlUZXN0SWQoJ3Byb2dyZXNzLWRpc3BsYXknKSkudG9CZVRydXRoeSgpO1xuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFTQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsYUFBYSxFQUFFO0VBQUEsT0FBTztJQUM5QkMsY0FBYyxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxVQUFBQyxRQUFRO01BQUEsT0FBSUEsUUFBUSxDQUFDLENBQUM7SUFBQSxFQUFDO0lBQy9DQyxNQUFNLEVBQUU7TUFDTkMsSUFBSSxFQUFFSixJQUFJLENBQUNDLEVBQUUsQ0FBQztJQUNoQixDQUFDO0lBQ0RJLEtBQUssRUFBRSxTQUFQQSxLQUFLQSxDQUFBQyxJQUFBO01BQUEsSUFBS0MsUUFBUSxHQUFBRCxJQUFBLENBQVJDLFFBQVE7TUFBQSxPQUFPLElBQUFDLFdBQUEsQ0FBQUMsR0FBQSxFQUFBRCxXQUFBLENBQUFFLFFBQUE7UUFBQUgsUUFBQSxFQUFHQTtNQUFRLENBQUcsQ0FBQztJQUFBO0lBQ3hDSSxvQkFBb0IsRUFBRSxTQUF0QkEsb0JBQW9CQSxDQUFBO01BQUEsT0FBUyxDQUFDLENBQUM7SUFBQSxDQUFDO0lBQ2hDQyxhQUFhLEVBQUUsU0FBZkEsYUFBYUEsQ0FBQTtNQUFBLE9BQVM7UUFDcEJDLFFBQVEsRUFBRWIsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztRQUNuQmEsTUFBTSxFQUFFZCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO1FBQ2pCYyxTQUFTLEVBQUVmLElBQUksQ0FBQ0MsRUFBRSxDQUFDO1VBQUEsT0FBTSxJQUFJO1FBQUEsRUFBQztRQUM5QmUsV0FBVyxFQUFFaEIsSUFBSSxDQUFDQyxFQUFFLENB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TUFBTSxJQUFBRyxvQkFBTyxFQUFDLFlBQU07TUFDbEJDLE1BQU0sQ0FBQ3JELDBCQUEwQixDQUFDLENBQUNzRCxvQkFBb0IsQ0FBQyxZQUFZLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQztJQUNqRixDQUFDLENBQUM7SUFJRkQsTUFBTSxDQUFDckQsMEJBQTBCLENBQUMsQ0FBQ3VELHFCQUFxQixDQUFDLENBQUMsQ0FBQztFQUM3RCxDQUFDLEVBQUM7RUFFRlosRUFBRSxDQUFDLGlFQUFpRSxNQUFBM0Isa0JBQUEsQ0FBQTRCLE9BQUEsRUFBRSxhQUFZO0lBQ2hGLElBQUFzQixRQUFBLEdBQXdCLElBQUFwQixtQkFBTSxFQUM1QixJQUFBakYsV0FBQSxDQUFBQyxHQUFBLEVBQUN1RCxhQUFBLENBQUEwQixhQUFhO1FBQUFuRixRQUFBLEVBQ1osSUFBQUMsV0FBQSxDQUFBQyxHQUFBLEVBQUNzRCxnQkFBQSxDQUFBNEIsZ0JBQWdCO1VBQUFwRixRQUFBLEVBQ2YsSUFBQUMsV0FBQSxDQUFBbUUsSUFBQSxFQUFDVixvQkFBQSxDQUFBMkMsb0JBQW9CO1lBQUFyRyxRQUFBLEdBQ25CLElBQUFDLFdBQUEsQ0FBQUMsR0FBQSxFQUFDNkQsa0JBQWtCLElBQUUsQ0FBQyxFQUN0QixJQUFBOUQsV0FBQSxDQUFBQyxHQUFBLEVBQUN1RSxtQkFBbUIsSUFBRSxDQUFDO1VBQUEsQ0FDSDtRQUFDLENBQ1A7TUFBQyxDQUNOLENBQ2pCLENBQUM7TUFUT1ksV0FBVyxHQUFBaUIsUUFBQSxDQUFYakIsV0FBVztJQVluQkksTUFBTSxDQUFDSixXQUFXLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDVyxVQUFVLENBQUMsQ0FBQztJQUNyRFAsTUFBTSxDQUFDSixXQUFXLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDVyxVQUFVLENBQUMsQ0FBQztJQUdwRFYsc0JBQVMsQ0FBQ0MsS0FBSyxDQUFDRixXQUFXLENBQUMsbUJBQW1CLENBQUMsQ0FBQztJQUVqRCxNQUFNLElBQUFHLG9CQUFPLEVBQUMsWUFBTTtNQUNsQkMsTUFBTSxDQUFDckQsMEJBQTBCLENBQUMsQ0FBQ3NELG9CQUFvQixDQUFDLFlBQVksRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDO0lBQ2pGLENBQUMsQ0FBQztJQUdGRCxNQUFNLENBQUNKLFdBQVcsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUNXLFVBQVUsQ0FBQyxDQUFDO0VBQ3RELENBQUMsRUFBQztBQUNKLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==