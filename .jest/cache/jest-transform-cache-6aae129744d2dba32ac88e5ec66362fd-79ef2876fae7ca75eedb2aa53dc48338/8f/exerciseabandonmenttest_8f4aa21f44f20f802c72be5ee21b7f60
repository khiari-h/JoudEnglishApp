28dc014283f802cea930a8542d499675
_getJestObj().mock('@react-navigation/native', function () {
  return Object.assign({}, jest.requireActual('@react-navigation/native'), {
    useNavigation: function useNavigation() {
      return {
        navigate: jest.fn(),
        goBack: jest.fn()
      };
    },
    useRoute: function useRoute() {
      return {
        params: {}
      };
    }
  });
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _layout = _interopRequireDefault(require("../../app/_layout"));
var _AppProvider = require("../../src/contexts/AppProvider");
var _ProgressContext = require("../../src/contexts/ProgressContext");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('Exercise Abandonment Integration Test', function () {
  it('should not save progress if an exercise is abandoned midway', (0, _asyncToGenerator2.default)(function* () {
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_AppProvider.AppProvider, {
        children: (0, _jsxRuntime.jsxs)(_ProgressContext.ProgressProvider, {
          children: [" ", (0, _jsxRuntime.jsx)(_layout.default, {})]
        })
      })),
      getByText = _render.getByText,
      findByText = _render.findByText,
      queryByText = _render.queryByText;
    _reactNative.fireEvent.press(getByText(/Commencer l'apprentissage/i));
    var levelA1 = yield findByText(/Niveau A1/i);
    _reactNative.fireEvent.press(levelA1);
    var vocabExercise = yield findByText(/Vocabulaire/i);
    _reactNative.fireEvent.press(vocabExercise);
    var navigation = require('@react-navigation/native');
    _reactNative.fireEvent.press(navigation.useNavigation().goBack());
    var vocabExerciseAfter = yield findByText(/Vocabulaire/i);
    expect(queryByText(/%/)).toBeNull();
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJPYmplY3QiLCJhc3NpZ24iLCJqZXN0IiwicmVxdWlyZUFjdHVhbCIsInVzZU5hdmlnYXRpb24iLCJuYXZpZ2F0ZSIsImZuIiwiZ29CYWNrIiwidXNlUm91dGUiLCJwYXJhbXMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWFjdCIsIl9yZWFjdE5hdGl2ZSIsIl9sYXlvdXQiLCJfQXBwUHJvdmlkZXIiLCJfUHJvZ3Jlc3NDb250ZXh0IiwiX2pzeFJ1bnRpbWUiLCJfcmVxdWlyZSIsImRlc2NyaWJlIiwiaXQiLCJkZWZhdWx0IiwiX3JlbmRlciIsInJlbmRlciIsImpzeCIsIkFwcFByb3ZpZGVyIiwiY2hpbGRyZW4iLCJqc3hzIiwiUHJvZ3Jlc3NQcm92aWRlciIsImdldEJ5VGV4dCIsImZpbmRCeVRleHQiLCJxdWVyeUJ5VGV4dCIsImZpcmVFdmVudCIsInByZXNzIiwibGV2ZWxBMSIsInZvY2FiRXhlcmNpc2UiLCJuYXZpZ2F0aW9uIiwidm9jYWJFeGVyY2lzZUFmdGVyIiwiZXhwZWN0IiwidG9CZU51bGwiXSwic291cmNlcyI6WyJleGVyY2lzZS1hYmFuZG9ubWVudC50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlciwgZmlyZUV2ZW50IH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdC1uYXRpdmUnO1xuaW1wb3J0IEFwcCBmcm9tICcuLi8uLi9hcHAvX2xheW91dCc7XG5pbXBvcnQgeyBBcHBQcm92aWRlciB9IGZyb20gJy4uLy4uL3NyYy9jb250ZXh0cy9BcHBQcm92aWRlcic7XG5pbXBvcnQgeyBQcm9ncmVzc1Byb3ZpZGVyIH0gZnJvbSAnLi4vLi4vc3JjL2NvbnRleHRzL1Byb2dyZXNzQ29udGV4dCc7XG5cbmplc3QubW9jaygnQHJlYWN0LW5hdmlnYXRpb24vbmF0aXZlJywgKCkgPT4gKHtcbiAgLi4uamVzdC5yZXF1aXJlQWN0dWFsKCdAcmVhY3QtbmF2aWdhdGlvbi9uYXRpdmUnKSxcbiAgdXNlTmF2aWdhdGlvbjogKCkgPT4gKHtcbiAgICBuYXZpZ2F0ZTogamVzdC5mbigpLFxuICAgIGdvQmFjazogamVzdC5mbigpLFxuICB9KSxcbiAgdXNlUm91dGU6ICgpID0+ICh7IHBhcmFtczoge30gfSksXG59KSk7XG5cbmRlc2NyaWJlKCdFeGVyY2lzZSBBYmFuZG9ubWVudCBJbnRlZ3JhdGlvbiBUZXN0JywgKCkgPT4ge1xuICBpdCgnc2hvdWxkIG5vdCBzYXZlIHByb2dyZXNzIGlmIGFuIGV4ZXJjaXNlIGlzIGFiYW5kb25lZCBtaWR3YXknLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyBnZXRCeVRleHQsIGZpbmRCeVRleHQsIHF1ZXJ5QnlUZXh0IH0gPSByZW5kZXIoXG4gICAgICA8QXBwUHJvdmlkZXI+XG4gICAgICAgIDxQcm9ncmVzc1Byb3ZpZGVyPiB7LyogQXNzdXJlei12b3VzIHF1ZSBsZSBjb250ZXh0ZSBkZSBwcm9ncmVzc2lvbiBlc3QgaWNpICovfVxuICAgICAgICAgIDxBcHAgLz5cbiAgICAgICAgPC9Qcm9ncmVzc1Byb3ZpZGVyPlxuICAgICAgPC9BcHBQcm92aWRlcj5cbiAgICApO1xuXG4gICAgLy8gMS4gTmF2aWd1ZXIgdmVycyB1biBleGVyY2ljZVxuICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRleHQoL0NvbW1lbmNlciBsJ2FwcHJlbnRpc3NhZ2UvaSkpO1xuICAgIGNvbnN0IGxldmVsQTEgPSBhd2FpdCBmaW5kQnlUZXh0KC9OaXZlYXUgQTEvaSk7XG4gICAgZmlyZUV2ZW50LnByZXNzKGxldmVsQTEpO1xuICAgIGNvbnN0IHZvY2FiRXhlcmNpc2UgPSBhd2FpdCBmaW5kQnlUZXh0KC9Wb2NhYnVsYWlyZS9pKTtcbiAgICBmaXJlRXZlbnQucHJlc3Modm9jYWJFeGVyY2lzZSk7XG5cbiAgICAvLyAyLiBTaW11bGVyIHVuZSBwcm9ncmVzc2lvbiBwYXJ0aWVsbGUgZGFucyBsJ2V4ZXJjaWNlXG4gICAgLy8gKENldHRlIHBhcnRpZSBlc3QgdW5lIHNpbXBsaWZpY2F0aW9uLCB2b3VzIGludGVyYWdpcmlleiBhdmVjIGxlcyBxdWVzdGlvbnMpXG5cbiAgICAvLyAzLiBBYmFuZG9ubmVyIGwnZXhlcmNpY2UgZW4gcmV2ZW5hbnQgZW4gYXJyacOocmVcbiAgICBjb25zdCBuYXZpZ2F0aW9uID0gcmVxdWlyZSgnQHJlYWN0LW5hdmlnYXRpb24vbmF0aXZlJyk7XG4gICAgZmlyZUV2ZW50LnByZXNzKG5hdmlnYXRpb24udXNlTmF2aWdhdGlvbigpLmdvQmFjaygpKTtcblxuICAgIC8vIDQuIFbDqXJpZmllciBxdWUgbGEgcHJvZ3Jlc3Npb24gc3VyIGwnw6ljcmFuIGRlIHPDqWxlY3Rpb24gZCdleGVyY2ljZXMgbidhIHBhcyBjaGFuZ8OpXG4gICAgY29uc3Qgdm9jYWJFeGVyY2lzZUFmdGVyID0gYXdhaXQgZmluZEJ5VGV4dCgvVm9jYWJ1bGFpcmUvaSk7XG4gICAgLy8gUydhc3N1cmVyIHF1ZSBsZSB0ZXh0ZSBkZSBwcm9ncmVzc2lvbiAoZXg6IFwiMTAlXCIpIG4nZXN0IFBBUyBsw6BcbiAgICBleHBlY3QocXVlcnlCeVRleHQoLyUvKSkudG9CZU51bGwoKTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBT0FBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLDBCQUEwQixFQUFFO0VBQUEsT0FBQUMsTUFBQSxDQUFBQyxNQUFBLEtBQ2pDQyxJQUFJLENBQUNDLGFBQWEsQ0FBQywwQkFBMEIsQ0FBQztJQUNqREMsYUFBYSxFQUFFLFNBQWZBLGFBQWFBLENBQUE7TUFBQSxPQUFTO1FBQ3BCQyxRQUFRLEVBQUVILElBQUksQ0FBQ0ksRUFBRSxDQUFDLENBQUM7UUFDbkJDLE1BQU0sRUFBRUwsSUFBSSxDQUFDSSxFQUFFLENBQUM7TUFDbEIsQ0FBQztJQUFBLENBQUM7SUFDRkUsUUFBUSxFQUFFLFNBQVZBLFFBQVFBLENBQUE7TUFBQSxPQUFTO1FBQUVDLE1BQU0sRUFBRSxDQUFDO01BQUUsQ0FBQztJQUFBO0VBQUM7QUFBQSxDQUNoQyxDQUFDO0FBQUMsSUFBQUMsc0JBQUEsR0FBQUMsT0FBQTtBQUFBLElBQUFDLGtCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFiSixJQUFBRSxNQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxZQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxPQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSyxZQUFBLEdBQUFMLE9BQUE7QUFDQSxJQUFBTSxnQkFBQSxHQUFBTixPQUFBO0FBQXNFLElBQUFPLFdBQUEsR0FBQVAsT0FBQTtBQUFBLFNBQUFiLFlBQUE7RUFBQSxJQUFBcUIsUUFBQSxHQUFBUixPQUFBO0lBQUFULElBQUEsR0FBQWlCLFFBQUEsQ0FBQWpCLElBQUE7RUFBQUosV0FBQSxZQUFBQSxZQUFBO0lBQUEsT0FBQUksSUFBQTtFQUFBO0VBQUEsT0FBQUEsSUFBQTtBQUFBO0FBV3RFa0IsUUFBUSxDQUFDLHVDQUF1QyxFQUFFLFlBQU07RUFDdERDLEVBQUUsQ0FBQyw2REFBNkQsTUFBQVQsa0JBQUEsQ0FBQVUsT0FBQSxFQUFFLGFBQVk7SUFDNUUsSUFBQUMsT0FBQSxHQUErQyxJQUFBQyxtQkFBTSxFQUNuRCxJQUFBTixXQUFBLENBQUFPLEdBQUEsRUFBQ1QsWUFBQSxDQUFBVSxXQUFXO1FBQUFDLFFBQUEsRUFDVixJQUFBVCxXQUFBLENBQUFVLElBQUEsRUFBQ1gsZ0JBQUEsQ0FBQVksZ0JBQWdCO1VBQUFGLFFBQUEsR0FBQyxHQUFDLEVBQ2pCLElBQUFULFdBQUEsQ0FBQU8sR0FBQSxFQUFDVixPQUFBLENBQUFPLE9BQUcsSUFBRSxDQUFDO1FBQUEsQ0FDUztNQUFDLENBQ1IsQ0FDZixDQUFDO01BTk9RLFNBQVMsR0FBQVAsT0FBQSxDQUFUTyxTQUFTO01BQUVDLFVBQVUsR0FBQVIsT0FBQSxDQUFWUSxVQUFVO01BQUVDLFdBQVcsR0FBQVQsT0FBQSxDQUFYUyxXQUFXO0lBUzFDQyxzQkFBUyxDQUFDQyxLQUFLLENBQUNKLFNBQVMsQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO0lBQ3hELElBQU1LLE9BQU8sU0FBU0osVUFBVSxDQUFDLFlBQVksQ0FBQztJQUM5Q0Usc0JBQVMsQ0FBQ0MsS0FBSyxDQUFDQyxPQUFPLENBQUM7SUFDeEIsSUFBTUMsYUFBYSxTQUFTTCxVQUFVLENBQUMsY0FBYyxDQUFDO0lBQ3RERSxzQkFBUyxDQUFDQyxLQUFLLENBQUNFLGFBQWEsQ0FBQztJQU05QixJQUFNQyxVQUFVLEdBQUcxQixPQUFPLENBQUMsMEJBQTBCLENBQUM7SUFDdERzQixzQkFBUyxDQUFDQyxLQUFLLENBQUNHLFVBQVUsQ0FBQ2pDLGFBQWEsQ0FBQyxDQUFDLENBQUNHLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFHcEQsSUFBTStCLGtCQUFrQixTQUFTUCxVQUFVLENBQUMsY0FBYyxDQUFDO0lBRTNEUSxNQUFNLENBQUNQLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDUSxRQUFRLENBQUMsQ0FBQztFQUNyQyxDQUFDLEVBQUM7QUFDSixDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=