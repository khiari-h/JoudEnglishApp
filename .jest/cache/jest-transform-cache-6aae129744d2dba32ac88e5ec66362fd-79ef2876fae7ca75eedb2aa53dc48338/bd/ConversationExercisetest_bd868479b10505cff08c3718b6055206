2c734e6d45f046f5687c9b31211dfbe4
var createMockComponent = function createMockComponent(name) {
  return function (props) {
    return (0, _jsxRuntime.jsx)(_reactNative2.View, Object.assign({
      testID: name
    }, props, {
      children: (0, _jsxRuntime.jsx)(_reactNative2.Text, {
        children: name
      })
    }));
  };
};
_getJestObj().mock('expo-router', function () {
  return {
    router: {
      push: jest.fn()
    }
  };
});
_getJestObj().mock('../../../../src/screens/exercises/conversations/hooks/useConversation');
_getJestObj().mock('../../../../src/hooks/useLastActivity', function () {
  return {
    __esModule: true,
    default: jest.fn(function () {
      return {
        saveActivity: jest.fn()
      };
    })
  };
});
_getJestObj().mock('../../../../src/utils/conversation/conversationDataHelper', function () {
  return {
    getConversationData: jest.fn(),
    getLevelColor: jest.fn(function () {
      return '#0000FF';
    })
  };
});
_getJestObj().mock('../../../../src/screens/exercises/conversations/ConversationHeader', function () {
  return createMockComponent('ConversationHeader');
});
_getJestObj().mock('../../../../src/screens/exercises/conversations/ConversationSelector', function () {
  return createMockComponent('ConversationSelector');
});
_getJestObj().mock('../../../../src/screens/exercises/conversations/ConversationProgress', function () {
  return createMockComponent('ConversationProgress');
});
_getJestObj().mock('../../../../src/screens/exercises/conversations/ConversationScenarioDescription', function () {
  return createMockComponent('ConversationScenarioDescription');
});
_getJestObj().mock('../../../../src/screens/exercises/conversations/ConversationMessageList', function () {
  return createMockComponent('ConversationMessageList');
});
_getJestObj().mock('../../../../src/screens/exercises/conversations/ConversationSuggestions', function () {
  return createMockComponent('ConversationSuggestions');
});
_getJestObj().mock('../../../../src/screens/exercises/conversations/ConversationInput', function () {
  return createMockComponent('ConversationInput');
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _reactNative2 = require("react-native");
var _conversations = _interopRequireDefault(require("../../../../src/screens/exercises/conversations"));
var _useConversation = _interopRequireDefault(require("../../../../src/screens/exercises/conversations/hooks/useConversation"));
var _useLastActivity2 = _interopRequireDefault(require("../../../../src/hooks/useLastActivity"));
var _expoRouter = require("expo-router");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('ConversationExercise', function () {
  var mockRoute = {
    params: {
      level: 'A1'
    }
  };
  var mockSaveActivity;
  var createMockConversationState = function createMockConversationState() {
    var overrides = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    return Object.assign({
      loaded: true,
      hasValidData: true,
      currentScenario: {
        title: 'Scenario de Test',
        description: 'Description du scenario.'
      },
      conversation: [{
        sender: 'bot',
        text: 'Hello!'
      }],
      suggestions: ['Hi', 'Hello there'],
      message: '',
      isTyping: false,
      stats: {
        completionProgress: 50,
        currentStep: 1,
        totalSteps: 2
      },
      isConversationStarted: true,
      changeScenario: jest.fn(),
      sendMessage: jest.fn(),
      useSuggestion: jest.fn(),
      toggleHelp: jest.fn(),
      toggleDetailedProgress: jest.fn(),
      setMessage: jest.fn()
    }, overrides);
  };
  beforeEach(function () {
    jest.clearAllMocks();
    var _useLastActivity = (0, _useLastActivity2.default)(),
      saveActivity = _useLastActivity.saveActivity;
    mockSaveActivity = saveActivity;
    _useConversation.default.mockReturnValue(createMockConversationState());
  });
  test('should render loading state correctly', function () {
    _useConversation.default.mockReturnValue(createMockConversationState({
      loaded: false
    }));
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_conversations.default, {
        route: mockRoute
      })),
      queryByTestId = _render.queryByTestId;
    expect(queryByTestId('ConversationHeader')).toBeNull();
  });
  test('should render main content when data is loaded', function () {
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_conversations.default, {
        route: mockRoute
      })),
      getByTestId = _render2.getByTestId;
    expect(getByTestId('ConversationHeader')).toBeTruthy();
    var descriptionComponent = getByTestId('ConversationScenarioDescription');
    expect(descriptionComponent.props.description).toBe('Description du scenario.');
  });
  test('should call saveActivity on mount if conversation has started', function () {
    _useConversation.default.mockReturnValue(createMockConversationState({
      isConversationStarted: true
    }));
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_conversations.default, {
      route: mockRoute
    }));
    expect(mockSaveActivity).toHaveBeenCalledTimes(1);
    expect(mockSaveActivity).toHaveBeenCalledWith(expect.objectContaining({
      title: 'Conversations',
      level: 'A1',
      type: 'conversations',
      metadata: expect.any(Object)
    }));
  });
  test('should NOT call saveActivity on mount if conversation has not started', function () {
    _useConversation.default.mockReturnValue(createMockConversationState({
      isConversationStarted: false
    }));
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_conversations.default, {
      route: mockRoute
    }));
    expect(mockSaveActivity).not.toHaveBeenCalled();
  });
  test('should handle back press correctly', function () {
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_conversations.default, {
        route: mockRoute
      })),
      getByTestId = _render3.getByTestId;
    var header = getByTestId('ConversationHeader');
    header.props.onBackPress();
    expect(_expoRouter.router.push).toHaveBeenCalledWith({
      pathname: '/tabs/exerciseSelection',
      params: {
        level: 'A1'
      }
    });
  });
  test('should handle scenario change correctly', function () {
    var mockConversationState = createMockConversationState();
    _useConversation.default.mockReturnValue(mockConversationState);
    var _render4 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_conversations.default, {
        route: mockRoute
      })),
      getByTestId = _render4.getByTestId;
    var selector = getByTestId('ConversationSelector');
    selector.props.onSelectScenario(1);
    expect(mockConversationState.changeScenario).toHaveBeenCalledWith(1);
  });
  test('should handle sending a message correctly', function () {
    var mockConversationState = createMockConversationState();
    _useConversation.default.mockReturnValue(mockConversationState);
    var _render5 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_conversations.default, {
        route: mockRoute
      })),
      getByTestId = _render5.getByTestId;
    var input = getByTestId('ConversationInput');
    input.props.onSendMessage();
    expect(mockConversationState.sendMessage).toHaveBeenCalledTimes(1);
  });
  test('should handle using a suggestion correctly', function () {
    var mockConversationState = createMockConversationState();
    _useConversation.default.mockReturnValue(mockConversationState);
    var _render6 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_conversations.default, {
        route: mockRoute
      })),
      getByTestId = _render6.getByTestId;
    var suggestions = getByTestId('ConversationSuggestions');
    suggestions.props.onPressSuggestion('Hi');
    expect(mockConversationState.useSuggestion).toHaveBeenCalledWith('Hi');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjcmVhdGVNb2NrQ29tcG9uZW50IiwibmFtZSIsInByb3BzIiwiX2pzeFJ1bnRpbWUiLCJqc3giLCJfcmVhY3ROYXRpdmUyIiwiVmlldyIsIk9iamVjdCIsImFzc2lnbiIsInRlc3RJRCIsImNoaWxkcmVuIiwiVGV4dCIsIl9nZXRKZXN0T2JqIiwibW9jayIsInJvdXRlciIsInB1c2giLCJqZXN0IiwiZm4iLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInNhdmVBY3Rpdml0eSIsImdldENvbnZlcnNhdGlvbkRhdGEiLCJnZXRMZXZlbENvbG9yIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVhY3QiLCJfcmVhY3ROYXRpdmUiLCJfY29udmVyc2F0aW9ucyIsIl91c2VDb252ZXJzYXRpb24iLCJfdXNlTGFzdEFjdGl2aXR5MiIsIl9leHBvUm91dGVyIiwiX3JlcXVpcmUiLCJkZXNjcmliZSIsIm1vY2tSb3V0ZSIsInBhcmFtcyIsImxldmVsIiwibW9ja1NhdmVBY3Rpdml0eSIsImNyZWF0ZU1vY2tDb252ZXJzYXRpb25TdGF0ZSIsIm92ZXJyaWRlcyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImxvYWRlZCIsImhhc1ZhbGlkRGF0YSIsImN1cnJlbnRTY2VuYXJpbyIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJjb252ZXJzYXRpb24iLCJzZW5kZXIiLCJ0ZXh0Iiwic3VnZ2VzdGlvbnMiLCJtZXNzYWdlIiwiaXNUeXBpbmciLCJzdGF0cyIsImNvbXBsZXRpb25Qcm9ncmVzcyIsImN1cnJlbnRTdGVwIiwidG90YWxTdGVwcyIsImlzQ29udmVyc2F0aW9uU3RhcnRlZCIsImNoYW5nZVNjZW5hcmlvIiwic2VuZE1lc3NhZ2UiLCJ1c2VTdWdnZXN0aW9uIiwidG9nZ2xlSGVscCIsInRvZ2dsZURldGFpbGVkUHJvZ3Jlc3MiLCJzZXRNZXNzYWdlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJfdXNlTGFzdEFjdGl2aXR5IiwidXNlTGFzdEFjdGl2aXR5IiwidXNlQ29udmVyc2F0aW9uIiwibW9ja1JldHVyblZhbHVlIiwidGVzdCIsIl9yZW5kZXIiLCJyZW5kZXIiLCJyb3V0ZSIsInF1ZXJ5QnlUZXN0SWQiLCJleHBlY3QiLCJ0b0JlTnVsbCIsIl9yZW5kZXIyIiwiZ2V0QnlUZXN0SWQiLCJ0b0JlVHJ1dGh5IiwiZGVzY3JpcHRpb25Db21wb25lbnQiLCJ0b0JlIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJvYmplY3RDb250YWluaW5nIiwidHlwZSIsIm1ldGFkYXRhIiwiYW55Iiwibm90IiwidG9IYXZlQmVlbkNhbGxlZCIsIl9yZW5kZXIzIiwiaGVhZGVyIiwib25CYWNrUHJlc3MiLCJwYXRobmFtZSIsIm1vY2tDb252ZXJzYXRpb25TdGF0ZSIsIl9yZW5kZXI0Iiwic2VsZWN0b3IiLCJvblNlbGVjdFNjZW5hcmlvIiwiX3JlbmRlcjUiLCJpbnB1dCIsIm9uU2VuZE1lc3NhZ2UiLCJfcmVuZGVyNiIsIm9uUHJlc3NTdWdnZXN0aW9uIl0sInNvdXJjZXMiOlsiQ29udmVyc2F0aW9uRXhlcmNpc2UudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdC1uYXRpdmUnO1xuaW1wb3J0IHsgVmlldywgVGV4dCB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgQ29udmVyc2F0aW9uRXhlcmNpc2UgZnJvbSAnLi4vLi4vLi4vLi4vc3JjL3NjcmVlbnMvZXhlcmNpc2VzL2NvbnZlcnNhdGlvbnMnO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gTU9DS1MgU0VUVVBcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8vIE1vY2sgZXhwby1yb3V0ZXIgZm9yIG5hdmlnYXRpb25cbmplc3QubW9jaygnZXhwby1yb3V0ZXInLCAoKSA9PiAoe1xuICByb3V0ZXI6IHtcbiAgICBwdXNoOiBqZXN0LmZuKCksXG4gIH0sXG59KSk7XG5cbi8vIE1vY2sgdGhlIGNvcmUgdXNlQ29udmVyc2F0aW9uIGhvb2tcbmplc3QubW9jaygnLi4vLi4vLi4vLi4vc3JjL3NjcmVlbnMvZXhlcmNpc2VzL2NvbnZlcnNhdGlvbnMvaG9va3MvdXNlQ29udmVyc2F0aW9uJyk7XG5cbi8vIE1vY2sgdXNlTGFzdEFjdGl2aXR5IGhvb2tcbmplc3QubW9jaygnLi4vLi4vLi4vLi4vc3JjL2hvb2tzL3VzZUxhc3RBY3Rpdml0eScsICgpID0+ICh7XG4gIF9fZXNNb2R1bGU6IHRydWUsXG4gIGRlZmF1bHQ6IGplc3QuZm4oKCkgPT4gKHtcbiAgICBzYXZlQWN0aXZpdHk6IGplc3QuZm4oKSxcbiAgfSkpLCAvLyBUaGlzIGlzIHRoZSBtb2NrIGZvciB0aGUgZGVmYXVsdCBleHBvcnQgb2YgdXNlTGFzdEFjdGl2aXR5XG59KSk7XG5cbmplc3QubW9jaygnLi4vLi4vLi4vLi4vc3JjL3V0aWxzL2NvbnZlcnNhdGlvbi9jb252ZXJzYXRpb25EYXRhSGVscGVyJywgKCkgPT4gKHtcbiAgZ2V0Q29udmVyc2F0aW9uRGF0YTogamVzdC5mbigpLFxuICBnZXRMZXZlbENvbG9yOiBqZXN0LmZuKCgpID0+ICcjMDAwMEZGJyksXG59KSk7XG5cbi8vIEhlbHBlciB0byBjcmVhdGUgbW9jayBjb21wb25lbnRzIHRoYXQgYWNjZXB0IHByb3BzIGFuZCBjYW4gYmUgZm91bmQgd2l0aCB0ZXN0SURcbmNvbnN0IGNyZWF0ZU1vY2tDb21wb25lbnQgPSAobmFtZSkgPT4gKHByb3BzKSA9PiAoXG4gIDxWaWV3IHRlc3RJRD17bmFtZX0gey4uLnByb3BzfT5cbiAgICA8VGV4dD57bmFtZX08L1RleHQ+XG4gIDwvVmlldz5cbik7XG5cbi8vIE1vY2sgYWxsIGNoaWxkIGNvbXBvbmVudHMgdG8gaXNvbGF0ZSBDb252ZXJzYXRpb25FeGVyY2lzZVxuamVzdC5tb2NrKCcuLi8uLi8uLi8uLi9zcmMvc2NyZWVucy9leGVyY2lzZXMvY29udmVyc2F0aW9ucy9Db252ZXJzYXRpb25IZWFkZXInLCAoKSA9PiBjcmVhdGVNb2NrQ29tcG9uZW50KCdDb252ZXJzYXRpb25IZWFkZXInKSk7XG5qZXN0Lm1vY2soJy4uLy4uLy4uLy4uL3NyYy9zY3JlZW5zL2V4ZXJjaXNlcy9jb252ZXJzYXRpb25zL0NvbnZlcnNhdGlvblNlbGVjdG9yJywgKCkgPT4gY3JlYXRlTW9ja0NvbXBvbmVudCgnQ29udmVyc2F0aW9uU2VsZWN0b3InKSk7XG5qZXN0Lm1vY2soJy4uLy4uLy4uLy4uL3NyYy9zY3JlZW5zL2V4ZXJjaXNlcy9jb252ZXJzYXRpb25zL0NvbnZlcnNhdGlvblByb2dyZXNzJywgKCkgPT4gY3JlYXRlTW9ja0NvbXBvbmVudCgnQ29udmVyc2F0aW9uUHJvZ3Jlc3MnKSk7XG5qZXN0Lm1vY2soJy4uLy4uLy4uLy4uL3NyYy9zY3JlZW5zL2V4ZXJjaXNlcy9jb252ZXJzYXRpb25zL0NvbnZlcnNhdGlvblNjZW5hcmlvRGVzY3JpcHRpb24nLCAoKSA9PiBjcmVhdGVNb2NrQ29tcG9uZW50KCdDb252ZXJzYXRpb25TY2VuYXJpb0Rlc2NyaXB0aW9uJykpO1xuamVzdC5tb2NrKCcuLi8uLi8uLi8uLi9zcmMvc2NyZWVucy9leGVyY2lzZXMvY29udmVyc2F0aW9ucy9Db252ZXJzYXRpb25NZXNzYWdlTGlzdCcsICgpID0+IGNyZWF0ZU1vY2tDb21wb25lbnQoJ0NvbnZlcnNhdGlvbk1lc3NhZ2VMaXN0JykpO1xuamVzdC5tb2NrKCcuLi8uLi8uLi8uLi9zcmMvc2NyZWVucy9leGVyY2lzZXMvY29udmVyc2F0aW9ucy9Db252ZXJzYXRpb25TdWdnZXN0aW9ucycsICgpID0+IGNyZWF0ZU1vY2tDb21wb25lbnQoJ0NvbnZlcnNhdGlvblN1Z2dlc3Rpb25zJykpO1xuamVzdC5tb2NrKCcuLi8uLi8uLi8uLi9zcmMvc2NyZWVucy9leGVyY2lzZXMvY29udmVyc2F0aW9ucy9Db252ZXJzYXRpb25JbnB1dCcsICgpID0+IGNyZWF0ZU1vY2tDb21wb25lbnQoJ0NvbnZlcnNhdGlvbklucHV0JykpO1xuXG4vLyBJbXBvcnQgdGhlIG1vY2tlZCBob29rcyB0byBjb250cm9sIHRoZWlyIGJlaGF2aW9yXG5pbXBvcnQgdXNlQ29udmVyc2F0aW9uIGZyb20gJy4uLy4uLy4uLy4uL3NyYy9zY3JlZW5zL2V4ZXJjaXNlcy9jb252ZXJzYXRpb25zL2hvb2tzL3VzZUNvbnZlcnNhdGlvbic7XG5pbXBvcnQgdXNlTGFzdEFjdGl2aXR5IGZyb20gJy4uLy4uLy4uLy4uL3NyYy9ob29rcy91c2VMYXN0QWN0aXZpdHknO1xuaW1wb3J0IHsgcm91dGVyIH0gZnJvbSAnZXhwby1yb3V0ZXInO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVEVTVCBTVUlURVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZGVzY3JpYmUoJ0NvbnZlcnNhdGlvbkV4ZXJjaXNlJywgKCkgPT4ge1xuICBjb25zdCBtb2NrUm91dGUgPSB7IHBhcmFtczogeyBsZXZlbDogJ0ExJyB9IH07XG4gIGxldCBtb2NrU2F2ZUFjdGl2aXR5O1xuXG4gIC8vIEhlbHBlciB0byBjcmVhdGUgYSBkZWZhdWx0IG1vY2sgc3RhdGUgZm9yIHRoZSB1c2VDb252ZXJzYXRpb24gaG9va1xuICBjb25zdCBjcmVhdGVNb2NrQ29udmVyc2F0aW9uU3RhdGUgPSAob3ZlcnJpZGVzID0ge30pID0+ICh7XG4gICAgbG9hZGVkOiB0cnVlLFxuICAgIGhhc1ZhbGlkRGF0YTogdHJ1ZSxcbiAgICBjdXJyZW50U2NlbmFyaW86IHtcbiAgICAgIHRpdGxlOiAnU2NlbmFyaW8gZGUgVGVzdCcsXG4gICAgICBkZXNjcmlwdGlvbjogJ0Rlc2NyaXB0aW9uIGR1IHNjZW5hcmlvLicsXG4gICAgfSxcbiAgICBjb252ZXJzYXRpb246IFt7IHNlbmRlcjogJ2JvdCcsIHRleHQ6ICdIZWxsbyEnIH1dLFxuICAgIHN1Z2dlc3Rpb25zOiBbJ0hpJywgJ0hlbGxvIHRoZXJlJ10sXG4gICAgbWVzc2FnZTogJycsXG4gICAgaXNUeXBpbmc6IGZhbHNlLFxuICAgIHN0YXRzOiB7IGNvbXBsZXRpb25Qcm9ncmVzczogNTAsIGN1cnJlbnRTdGVwOiAxLCB0b3RhbFN0ZXBzOiAyIH0sXG4gICAgaXNDb252ZXJzYXRpb25TdGFydGVkOiB0cnVlLFxuICAgIC8vIE1vY2sgZnVuY3Rpb25zIHRoYXQgd2UgY2FuIHNweSBvblxuICAgIGNoYW5nZVNjZW5hcmlvOiBqZXN0LmZuKCksXG4gICAgc2VuZE1lc3NhZ2U6IGplc3QuZm4oKSxcbiAgICB1c2VTdWdnZXN0aW9uOiBqZXN0LmZuKCksXG4gICAgdG9nZ2xlSGVscDogamVzdC5mbigpLFxuICAgIHRvZ2dsZURldGFpbGVkUHJvZ3Jlc3M6IGplc3QuZm4oKSxcbiAgICBzZXRNZXNzYWdlOiBqZXN0LmZuKCksXG4gICAgLi4ub3ZlcnJpZGVzLFxuICB9KTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAvLyBSZXNldCBhbGwgbW9ja3MgYmVmb3JlIGVhY2ggdGVzdCB0byBlbnN1cmUgaXNvbGF0aW9uXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG5cbiAgICAvLyBHZXQgYSByZWZlcmVuY2UgdG8gdGhlIG1vY2tlZCBzYXZlQWN0aXZpdHkgZnVuY3Rpb24gZnJvbSB0aGUgdXNlTGFzdEFjdGl2aXR5IG1vY2tcbiAgICAvLyB1c2VMYXN0QWN0aXZpdHkoKSB3aWxsIHJldHVybiB0aGUgb2JqZWN0IHsgc2F2ZUFjdGl2aXR5OiBqZXN0LmZuKCkgfVxuICAgIC8vIFdlIHRoZW4gZGVzdHJ1Y3R1cmUgc2F2ZUFjdGl2aXR5IGZyb20gaXQuXG4gICAgY29uc3QgeyBzYXZlQWN0aXZpdHkgfSA9IHVzZUxhc3RBY3Rpdml0eSgpO1xuICAgIG1vY2tTYXZlQWN0aXZpdHkgPSBzYXZlQWN0aXZpdHk7IC8vIEFzc2lnbiBpdCB0byBvdXIgbG9jYWwgdmFyaWFibGVcblxuICAgIC8vIFJlc2V0IHRoZSB1c2VDb252ZXJzYXRpb24gbW9jayBmb3IgZWFjaCB0ZXN0XG4gICAgdXNlQ29udmVyc2F0aW9uLm1vY2tSZXR1cm5WYWx1ZShjcmVhdGVNb2NrQ29udmVyc2F0aW9uU3RhdGUoKSk7XG4gIH0pO1xuXG4gIC8vIC0tLSBUZXN0IFNjZW5hcmlvcyAtLS1cblxuICB0ZXN0KCdzaG91bGQgcmVuZGVyIGxvYWRpbmcgc3RhdGUgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgIHVzZUNvbnZlcnNhdGlvbi5tb2NrUmV0dXJuVmFsdWUoY3JlYXRlTW9ja0NvbnZlcnNhdGlvblN0YXRlKHsgbG9hZGVkOiBmYWxzZSB9KSk7XG4gICAgY29uc3QgeyBxdWVyeUJ5VGVzdElkIH0gPSByZW5kZXIoPENvbnZlcnNhdGlvbkV4ZXJjaXNlIHJvdXRlPXttb2NrUm91dGV9IC8+KTtcbiAgICAvLyBJbiBsb2FkaW5nIHN0YXRlLCB0aGUgbWFpbiBjb250ZW50IChjaGlsZCBjb21wb25lbnRzKSBzaG91bGQgbm90IGJlIHZpc2libGVcbiAgICBleHBlY3QocXVlcnlCeVRlc3RJZCgnQ29udmVyc2F0aW9uSGVhZGVyJykpLnRvQmVOdWxsKCk7XG4gIH0pO1xuXG4gIHRlc3QoJ3Nob3VsZCByZW5kZXIgbWFpbiBjb250ZW50IHdoZW4gZGF0YSBpcyBsb2FkZWQnLCAoKSA9PiB7XG4gICAgLy8gdXNlQ29udmVyc2F0aW9uIGlzIGFscmVhZHkgbW9ja2VkIHRvIHJldHVybiBsb2FkZWQ6IHRydWUgaW4gYmVmb3JlRWFjaFxuICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcig8Q29udmVyc2F0aW9uRXhlcmNpc2Ugcm91dGU9e21vY2tSb3V0ZX0gLz4pO1xuXG4gICAgLy8gQ2hlY2sgdGhhdCBjaGlsZCBjb21wb25lbnRzIGFyZSByZW5kZXJlZCBhbmQgdGhlaXIgcHJvcHMgYXJlIHBhc3NlZCBjb3JyZWN0bHlcbiAgICBleHBlY3QoZ2V0QnlUZXN0SWQoJ0NvbnZlcnNhdGlvbkhlYWRlcicpKS50b0JlVHJ1dGh5KCk7XG4gICAgY29uc3QgZGVzY3JpcHRpb25Db21wb25lbnQgPSBnZXRCeVRlc3RJZCgnQ29udmVyc2F0aW9uU2NlbmFyaW9EZXNjcmlwdGlvbicpO1xuICAgIGV4cGVjdChkZXNjcmlwdGlvbkNvbXBvbmVudC5wcm9wcy5kZXNjcmlwdGlvbikudG9CZSgnRGVzY3JpcHRpb24gZHUgc2NlbmFyaW8uJyk7XG4gIH0pO1xuXG4gIHRlc3QoJ3Nob3VsZCBjYWxsIHNhdmVBY3Rpdml0eSBvbiBtb3VudCBpZiBjb252ZXJzYXRpb24gaGFzIHN0YXJ0ZWQnLCAoKSA9PiB7XG4gICAgdXNlQ29udmVyc2F0aW9uLm1vY2tSZXR1cm5WYWx1ZShjcmVhdGVNb2NrQ29udmVyc2F0aW9uU3RhdGUoeyBpc0NvbnZlcnNhdGlvblN0YXJ0ZWQ6IHRydWUgfSkpO1xuICAgIHJlbmRlcig8Q29udmVyc2F0aW9uRXhlcmNpc2Ugcm91dGU9e21vY2tSb3V0ZX0gLz4pO1xuXG4gICAgZXhwZWN0KG1vY2tTYXZlQWN0aXZpdHkpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICBleHBlY3QobW9ja1NhdmVBY3Rpdml0eSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgdGl0bGU6ICdDb252ZXJzYXRpb25zJyxcbiAgICAgIGxldmVsOiAnQTEnLFxuICAgICAgdHlwZTogJ2NvbnZlcnNhdGlvbnMnLFxuICAgICAgbWV0YWRhdGE6IGV4cGVjdC5hbnkoT2JqZWN0KSxcbiAgICB9KSk7XG4gIH0pO1xuXG4gIHRlc3QoJ3Nob3VsZCBOT1QgY2FsbCBzYXZlQWN0aXZpdHkgb24gbW91bnQgaWYgY29udmVyc2F0aW9uIGhhcyBub3Qgc3RhcnRlZCcsICgpID0+IHtcbiAgICB1c2VDb252ZXJzYXRpb24ubW9ja1JldHVyblZhbHVlKGNyZWF0ZU1vY2tDb252ZXJzYXRpb25TdGF0ZSh7IGlzQ29udmVyc2F0aW9uU3RhcnRlZDogZmFsc2UgfSkpO1xuICAgIHJlbmRlcig8Q29udmVyc2F0aW9uRXhlcmNpc2Ugcm91dGU9e21vY2tSb3V0ZX0gLz4pO1xuXG4gICAgZXhwZWN0KG1vY2tTYXZlQWN0aXZpdHkpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gIH0pO1xuXG4gIHRlc3QoJ3Nob3VsZCBoYW5kbGUgYmFjayBwcmVzcyBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgY29uc3QgeyBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyKDxDb252ZXJzYXRpb25FeGVyY2lzZSByb3V0ZT17bW9ja1JvdXRlfSAvPik7XG5cbiAgICBjb25zdCBoZWFkZXIgPSBnZXRCeVRlc3RJZCgnQ29udmVyc2F0aW9uSGVhZGVyJyk7XG4gICAgLy8gRGlyZWN0bHkgaW52b2tlIHRoZSBjYWxsYmFjayBwcm9wIHRvIHNpbXVsYXRlIHRoZSBldmVudFxuICAgIGhlYWRlci5wcm9wcy5vbkJhY2tQcmVzcygpO1xuXG4gICAgZXhwZWN0KHJvdXRlci5wdXNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7IFxuICAgICAgcGF0aG5hbWU6ICcvdGFicy9leGVyY2lzZVNlbGVjdGlvbicsIFxuICAgICAgcGFyYW1zOiB7IGxldmVsOiAnQTEnIH0gXG4gICAgfSk7XG4gIH0pO1xuXG4gIHRlc3QoJ3Nob3VsZCBoYW5kbGUgc2NlbmFyaW8gY2hhbmdlIGNvcnJlY3RseScsICgpID0+IHtcbiAgICBjb25zdCBtb2NrQ29udmVyc2F0aW9uU3RhdGUgPSBjcmVhdGVNb2NrQ29udmVyc2F0aW9uU3RhdGUoKTtcbiAgICB1c2VDb252ZXJzYXRpb24ubW9ja1JldHVyblZhbHVlKG1vY2tDb252ZXJzYXRpb25TdGF0ZSk7XG4gICAgY29uc3QgeyBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyKDxDb252ZXJzYXRpb25FeGVyY2lzZSByb3V0ZT17bW9ja1JvdXRlfSAvPik7XG5cbiAgICBjb25zdCBzZWxlY3RvciA9IGdldEJ5VGVzdElkKCdDb252ZXJzYXRpb25TZWxlY3RvcicpO1xuICAgIC8vIERpcmVjdGx5IGludm9rZSB0aGUgY2FsbGJhY2sgcHJvcCB3aXRoIHRoZSBuZXcgc2NlbmFyaW8gaW5kZXhcbiAgICBzZWxlY3Rvci5wcm9wcy5vblNlbGVjdFNjZW5hcmlvKDEpO1xuXG4gICAgZXhwZWN0KG1vY2tDb252ZXJzYXRpb25TdGF0ZS5jaGFuZ2VTY2VuYXJpbykudG9IYXZlQmVlbkNhbGxlZFdpdGgoMSk7XG4gIH0pO1xuXG4gIHRlc3QoJ3Nob3VsZCBoYW5kbGUgc2VuZGluZyBhIG1lc3NhZ2UgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tDb252ZXJzYXRpb25TdGF0ZSA9IGNyZWF0ZU1vY2tDb252ZXJzYXRpb25TdGF0ZSgpO1xuICAgIHVzZUNvbnZlcnNhdGlvbi5tb2NrUmV0dXJuVmFsdWUobW9ja0NvbnZlcnNhdGlvblN0YXRlKTtcbiAgICBjb25zdCB7IGdldEJ5VGVzdElkIH0gPSByZW5kZXIoPENvbnZlcnNhdGlvbkV4ZXJjaXNlIHJvdXRlPXttb2NrUm91dGV9IC8+KTtcblxuICAgIGNvbnN0IGlucHV0ID0gZ2V0QnlUZXN0SWQoJ0NvbnZlcnNhdGlvbklucHV0Jyk7XG4gICAgLy8gRGlyZWN0bHkgaW52b2tlIHRoZSBjYWxsYmFjayBwcm9wXG4gICAgaW5wdXQucHJvcHMub25TZW5kTWVzc2FnZSgpO1xuXG4gICAgZXhwZWN0KG1vY2tDb252ZXJzYXRpb25TdGF0ZS5zZW5kTWVzc2FnZSkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICB9KTtcblxuICB0ZXN0KCdzaG91bGQgaGFuZGxlIHVzaW5nIGEgc3VnZ2VzdGlvbiBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgY29uc3QgbW9ja0NvbnZlcnNhdGlvblN0YXRlID0gY3JlYXRlTW9ja0NvbnZlcnNhdGlvblN0YXRlKCk7XG4gICAgdXNlQ29udmVyc2F0aW9uLm1vY2tSZXR1cm5WYWx1ZShtb2NrQ29udmVyc2F0aW9uU3RhdGUpO1xuICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcig8Q29udmVyc2F0aW9uRXhlcmNpc2Ugcm91dGU9e21vY2tSb3V0ZX0gLz4pO1xuXG4gICAgY29uc3Qgc3VnZ2VzdGlvbnMgPSBnZXRCeVRlc3RJZCgnQ29udmVyc2F0aW9uU3VnZ2VzdGlvbnMnKTtcbiAgICAvLyBEaXJlY3RseSBpbnZva2UgdGhlIGNhbGxiYWNrIHByb3Agd2l0aCBhIHNhbXBsZSBzdWdnZXN0aW9uXG4gICAgc3VnZ2VzdGlvbnMucHJvcHMub25QcmVzc1N1Z2dlc3Rpb24oJ0hpJyk7XG5cbiAgICBleHBlY3QobW9ja0NvbnZlcnNhdGlvblN0YXRlLnVzZVN1Z2dlc3Rpb24pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdIaScpO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6IklBaUNNQSxtQkFBbUIsR0FBRyxTQUF0QkEsbUJBQW1CQSxDQUFJQyxJQUFJO0VBQUEsT0FBSyxVQUFDQyxLQUFLO0lBQUEsT0FDMUMsSUFBQUMsV0FBQSxDQUFBQyxHQUFBLEVBQUNDLGFBQUEsQ0FBQUMsSUFBSSxFQUFBQyxNQUFBLENBQUFDLE1BQUE7TUFBQ0MsTUFBTSxFQUFFUjtJQUFLLEdBQUtDLEtBQUs7TUFBQVEsUUFBQSxFQUMzQixJQUFBUCxXQUFBLENBQUFDLEdBQUEsRUFBQ0MsYUFBQSxDQUFBTSxJQUFJO1FBQUFELFFBQUEsRUFBRVQ7TUFBSSxDQUFPO0lBQUMsRUFDZixDQUFDO0VBQUEsQ0FDUjtBQUFBO0FBM0JEVyxXQUFBLEdBQUtDLElBQUksQ0FBQyxhQUFhLEVBQUU7RUFBQSxPQUFPO0lBQzlCQyxNQUFNLEVBQUU7TUFDTkMsSUFBSSxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQztJQUNoQjtFQUNGLENBQUM7QUFBQSxDQUFDLENBQUM7QUFHSEwsV0FBQSxHQUFLQyxJQUFJLENBQUMsdUVBQXVFLENB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