{"version":3,"names":["_getJestObj","mock","RN","jest","requireActual","Object","assign","Animated","Value","mockAnimatedValue","timing","mockTiming","parallel","mockParallel","multiply","mockMultiply","_interopRequireDefault","require","_asyncToGenerator2","_react","_reactNative","_CategorySelector","_jsxRuntime","_require","fn","interpolate","start","cb","a","b","describe","categories","id","name","beforeEach","clearAllMocks","it","default","_render","render","jsx","selectedCategory","onSelectCategory","rerender","waitFor","expect","toHaveBeenCalled","act","toHaveBeenCalledTimes","_render2"],"sources":["CategorySelector.test.js"],"sourcesContent":["// __tests__/components/exercise-common/CategorySelector.test.js\nimport React from \"react\";\nimport { render, act, waitFor } from \"@testing-library/react-native\";\nimport CategorySelector from \"../../../src/components/exercise-common/CategorySelector\";\n\n// ðŸ”§ Mock Animated API\n// Create the mock functions first\nconst mockAnimatedValue = jest.fn(() => ({ interpolate: jest.fn() }));\nconst mockTiming = jest.fn(() => ({ start: jest.fn(cb => cb && cb()) }));\nconst mockParallel = jest.fn(() => ({ start: jest.fn(cb => cb && cb()) }));\nconst mockMultiply = jest.fn((a, b) => a || b);\n\njest.mock(\"react-native\", () => {\n  const RN = jest.requireActual(\"react-native\");\n  return {\n    ...RN,\n    Animated: {\n      ...RN.Animated,\n      // Assign the mocks here\n      Value: mockAnimatedValue,\n      timing: mockTiming,\n      parallel: mockParallel,\n      multiply: mockMultiply,\n    },\n  };\n});\n\ndescribe(\"CategorySelector - Animations\", () => {\n  const categories = [\n    { id: \"1\", name: \"Category 1\" },\n    { id: \"2\", name: \"Category 2\" },\n  ];\n\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  it(\"triggers parallel animations when selectedCategory changes\", async () => {\n    const { rerender } = render(\n      <CategorySelector\n        categories={categories}\n        selectedCategory=\"1\"\n        onSelectCategory={jest.fn()}\n      />\n    );\n\n    // Now this assertion will work correctly\n    await waitFor(() => {\n      expect(mockAnimatedValue).toHaveBeenCalled();\n    });\n\n    await act(async () => {\n      rerender(\n        <CategorySelector\n          categories={categories}\n          selectedCategory=\"2\"\n          onSelectCategory={jest.fn()}\n        />\n      );\n    });\n\n    await waitFor(() => {\n      expect(mockParallel).toHaveBeenCalledTimes(1);\n      expect(mockTiming).toHaveBeenCalledTimes(2);\n    });\n  });\n\n  it(\"prevents animation conflicts with isAnimatingRef\", async () => {\n    const { rerender } = render(\n      <CategorySelector\n        categories={categories}\n        selectedCategory=\"1\"\n        onSelectCategory={jest.fn()}\n      />\n    );\n\n    await waitFor(() => {\n      expect(mockAnimatedValue).toHaveBeenCalled();\n    });\n\n    await act(async () => {\n      rerender(\n        <CategorySelector\n          categories={categories}\n          selectedCategory=\"2\"\n          onSelectCategory={jest.fn()}\n        />\n      );\n    });\n\n    await waitFor(() => {\n      expect(mockParallel).toHaveBeenCalledTimes(1);\n    });\n    \n    await act(async () => {\n      rerender(\n        <CategorySelector\n          categories={categories}\n          selectedCategory=\"1\"\n          onSelectCategory={jest.fn()}\n        />\n      );\n    });\n\n    await waitFor(() => {\n      expect(mockParallel).toHaveBeenCalledTimes(1);\n    });\n  });\n});"],"mappings":"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","ignoreList":[]}