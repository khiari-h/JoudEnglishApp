{"version":3,"names":["_react","require","_reactNative","Lock","_interopRequireWildcard","_jsxRuntime","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","EmergencyResetScreen","_ref","onDone","_useState","useState","_useState2","_slicedToArray2","confirm","setConfirm","onReset","useCallback","_asyncToGenerator2","emergencyReset","jsxs","View","style","flex","alignItems","justifyContent","padding","testID","children","jsx","Text","fontSize","fontWeight","marginBottom","color","textAlign","TextInput","value","onChangeText","placeholder","autoCapitalize","width","borderWidth","borderColor","borderRadius","TouchableOpacity","onPress","backgroundColor","_default","exports"],"sources":["EmergencyResetScreen.js"],"sourcesContent":["// src/screens/Lock/EmergencyResetScreen.js\r\nimport { useState, useCallback } from 'react';\r\nimport { View, Text, TextInput, TouchableOpacity } from 'react-native';\r\nimport * as Lock from '../../services/lockService';\r\n\r\nconst EmergencyResetScreen = ({ onDone }) => {\r\n  const [confirm, setConfirm] = useState('');\r\n\r\n  const onReset = useCallback(async () => {\r\n    if (confirm !== 'ERASE') return;\r\n    await Lock.emergencyReset();\r\n    onDone?.();\r\n  }, [confirm, onDone]);\r\n\r\n  return (\r\n    <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center', padding: 24 }} testID=\"emergency-reset-screen\">\r\n      <Text style={{ fontSize: 20, fontWeight: '700', marginBottom: 12 }}>Réinitialisation d'urgence</Text>\r\n      <Text style={{ color: '#6B7280', textAlign: 'center', marginBottom: 12 }}>\r\n        Cette action efface toutes les données locales (verrou, préférences, progression).\r\n      </Text>\r\n      <Text style={{ color: '#DC2626', marginBottom: 8 }}>Tape \"ERASE\" pour confirmer</Text>\r\n      <TextInput\r\n        value={confirm}\r\n        onChangeText={setConfirm}\r\n        placeholder=\"ERASE\"\r\n        autoCapitalize=\"characters\"\r\n        style={{ width: '80%', borderWidth: 1, borderColor: '#E5E7EB', borderRadius: 8, padding: 12, marginBottom: 8 }}\r\n        testID=\"reset-confirm-input\"\r\n      />\r\n      <TouchableOpacity testID=\"reset-confirm-button\" onPress={onReset} style={{ backgroundColor: '#DC2626', padding: 12, borderRadius: 8 }}>\r\n        <Text style={{ color: 'white', fontWeight: '700' }}>Effacer</Text>\r\n      </TouchableOpacity>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default EmergencyResetScreen;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]}