{"version":3,"names":["_reactNative","require","_useRevisionSettings2","_react","_style","_interopRequireDefault","_jsxRuntime","RevisionSettings","_useRevisionSettings","useRevisionSettings","preferences","isLoading","enableRevisions","disableRevisions","updateFrequency","handleToggleRevisions","useCallback","_ref","_asyncToGenerator2","default","enabled","frequency","questionsCount","_x","apply","arguments","handleFrequencyPress","value","frequencyOptions","label","jsx","View","style","styles","loadingContainer","children","Text","loadingText","jsxs","container","testID","sectionTitle","toggleRow","toggleLabel","Switch","isDisabled","onValueChange","frequencySection","frequencyTitle","map","option","TouchableOpacity","frequencyOption","frequencyOptionSelected","frequencyOptionDefault","onPress","frequencyText","frequencyTextSelected","frequencyTextDefault","checkIcon","nextRevisionInfo","nextRevisionAt","disabledWarning","warningTitle","warningMessage","_default","exports"],"sources":["index.js"],"sourcesContent":["// src/components/settings/RevisionSettings/index.js - INTERFACE SETTINGS\r\nimport { View, Text, TouchableOpacity, Switch } from 'react-native';\r\nimport { useRevisionSettings } from '../../../hooks/useRevisionSettings';\r\nimport { useCallback } from 'react';\r\nimport styles from './style';\r\n\r\nconst RevisionSettings = () => {\r\n  const { \r\n    preferences, \r\n    isLoading, \r\n    enableRevisions, \r\n    disableRevisions, \r\n    updateFrequency \r\n  } = useRevisionSettings();\r\n\r\n  const handleToggleRevisions = useCallback(async (enabled) => {\r\n    if (enabled) {\r\n      // Activation simple, garder la fr√©quence actuelle\r\n      await enableRevisions(preferences.frequency, preferences.questionsCount);\r\n    } else {\r\n      // D√©sactivation simple\r\n      await disableRevisions();\r\n    }\r\n  }, [enableRevisions, disableRevisions, preferences.frequency, preferences.questionsCount]);\r\n\r\n  const handleFrequencyPress = useCallback((value) => () => updateFrequency(value), [updateFrequency]);\r\n\r\n  const frequencyOptions = [\r\n    { value: 25, label: \"Tous les 25 mots (l√©ger)\" },\r\n    { value: 50, label: \"Tous les 50 mots (standard)\" },\r\n    { value: 100, label: \"Tous les 100 mots (espac√©)\" }\r\n  ];\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <View style={styles.loadingContainer}>\r\n        <Text style={styles.loadingText}>Chargement des param√®tres...</Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <View style={styles.container} testID=\"revision-settings\">\r\n      <Text style={styles.sectionTitle}>\r\n        üîÑ R√©visions automatiques\r\n      </Text>\r\n\r\n      {/* Toggle principal */}\r\n      <View style={styles.toggleRow}>\r\n        <Text style={styles.toggleLabel}>R√©visions automatiques</Text>\r\n        <Switch\r\n          testID=\"revisions-toggle\"\r\n          value={!preferences.isDisabled}\r\n          onValueChange={handleToggleRevisions}\r\n        />\r\n      </View>\r\n\r\n      {/* Options de fr√©quence */}\r\n      {!preferences.isDisabled && (\r\n        <View style={styles.frequencySection}>\r\n          <Text style={styles.frequencyTitle}>\r\n            Fr√©quence :\r\n          </Text>\r\n          \r\n          {frequencyOptions.map((option) => (\r\n            <TouchableOpacity\r\n              key={option.value}\r\n              testID={`frequency-${option.value}`}\r\n              style={[\r\n                styles.frequencyOption,\r\n                preferences.frequency === option.value \r\n                  ? styles.frequencyOptionSelected \r\n                  : styles.frequencyOptionDefault\r\n              ]}\r\n              onPress={handleFrequencyPress(option.value)}\r\n            >\r\n              <Text style={[\r\n                styles.frequencyText,\r\n                preferences.frequency === option.value \r\n                  ? styles.frequencyTextSelected \r\n                  : styles.frequencyTextDefault\r\n              ]}>\r\n                {option.label}\r\n              </Text>\r\n              {preferences.frequency === option.value && (\r\n                <Text style={styles.checkIcon}>‚úì</Text>\r\n              )}\r\n            </TouchableOpacity>\r\n          ))}\r\n\r\n          <Text style={styles.nextRevisionInfo}>\r\n            üí° Prochaine r√©vision √† {preferences.nextRevisionAt} mots appris\r\n          </Text>\r\n        </View>\r\n      )}\r\n\r\n      {/* Message si d√©sactiv√© */}\r\n      {preferences.isDisabled && (\r\n        <View style={styles.disabledWarning}>\r\n          <Text style={styles.warningTitle}>\r\n            ‚ö†Ô∏è R√©visions d√©sactiv√©es\r\n          </Text>\r\n          <Text style={styles.warningMessage}>\r\n            R√©activez-les pour maintenir votre m√©morisation !\r\n          </Text>\r\n        </View>\r\n      )}\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default RevisionSettings;"],"mappings":"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","ignoreList":[]}