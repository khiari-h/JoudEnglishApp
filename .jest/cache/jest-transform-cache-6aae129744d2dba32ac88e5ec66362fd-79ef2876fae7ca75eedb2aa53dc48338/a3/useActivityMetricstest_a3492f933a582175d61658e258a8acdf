7bf89f962346f1b2d784b5f6fa84a53b
_getJestObj().mock('@react-native-async-storage/async-storage', function () {
  return {
    setItem: jest.fn(function () {
      return Promise.resolve();
    }),
    getItem: jest.fn(function () {
      return Promise.resolve(null);
    }),
    removeItem: jest.fn(function () {
      return Promise.resolve();
    })
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = require("@testing-library/react");
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _useActivityMetrics = _interopRequireDefault(require("../../src/hooks/useActivityMetrics"));
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('useActivityMetrics', function () {
  var MOCK_DATE = new Date('2025-01-01T12:00:00.000Z');
  var TODAY = MOCK_DATE.toDateString();
  var YESTERDAY = new Date(MOCK_DATE.getTime() - 86400000).toDateString();
  var TWO_DAYS_AGO = new Date(MOCK_DATE.getTime() - 2 * 86400000).toDateString();
  beforeEach(function () {
    jest.useFakeTimers();
    jest.setSystemTime(MOCK_DATE);
    jest.clearAllMocks();
  });
  afterEach(function () {
    jest.runOnlyPendingTimers();
    jest.useRealTimers();
    jest.clearAllTimers();
  });
  it('loads metrics and initializes default state when no data is present', (0, _asyncToGenerator2.default)(function* () {
    var _renderHook = (0, _react.renderHook)(function () {
        return (0, _useActivityMetrics.default)();
      }),
      result = _renderHook.result;
    yield (0, _react.waitFor)(function () {
      return !result.current.isLoading;
    });
    expect(result.current.metrics).toEqual({});
    expect(result.current.todayMinutes).toBe(0);
    expect(result.current.formattedTime).toBe('0min');
    expect(result.current.currentStreak).toBe(0);
    expect(_asyncStorage.default.getItem).toHaveBeenCalledWith('activity_metrics');
    expect(_asyncStorage.default.getItem).toHaveBeenCalledWith('today_minutes');
    expect(_asyncStorage.default.getItem).toHaveBeenCalledWith('last_time_date');
    expect(_asyncStorage.default.getItem).toHaveBeenCalledWith('current_streak');
    expect(_asyncStorage.default.getItem).toHaveBeenCalledWith('last_activity_date');
  }));
  it('loads existing metrics and state from AsyncStorage', (0, _asyncToGenerator2.default)(function* () {
    _asyncStorage.default.getItem.mockResolvedValueOnce(JSON.stringify({
      totalMinutes: 100,
      lastActivityDate: YESTERDAY
    })).mockResolvedValueOnce('30').mockResolvedValueOnce(TODAY).mockResolvedValueOnce('5').mockResolvedValueOnce(YESTERDAY);
    var _renderHook2 = (0, _react.renderHook)(function () {
        return (0, _useActivityMetrics.default)();
      }),
      result = _renderHook2.result;
    yield (0, _react.waitFor)(function () {
      return !result.current.isLoading;
    });
    expect(result.current.metrics).toEqual({
      totalMinutes: 100,
      lastActivityDate: YESTERDAY
    });
    expect(result.current.todayMinutes).toBe(30);
    expect(result.current.formattedTime).toBe('30min');
    expect(result.current.currentStreak).toBe(5);
  }));
  it('resets today_minutes if last_time_date is not today', (0, _asyncToGenerator2.default)(function* () {
    _asyncStorage.default.getItem.mockResolvedValueOnce(null).mockResolvedValueOnce('60').mockResolvedValueOnce(YESTERDAY).mockResolvedValueOnce(null).mockResolvedValueOnce(null);
    var _renderHook3 = (0, _react.renderHook)(function () {
        return (0, _useActivityMetrics.default)();
      }),
      result = _renderHook3.result;
    yield (0, _react.waitFor)(function () {
      return !result.current.isLoading;
    });
    expect(result.current.todayMinutes).toBe(0);
    expect(result.current.formattedTime).toBe('0min');
    expect(_asyncStorage.default.setItem).toHaveBeenCalledWith('today_minutes', '0');
    expect(_asyncStorage.default.setItem).toHaveBeenCalledWith('last_time_date', TODAY);
  }));
  it('calculates session duration and saves it', (0, _asyncToGenerator2.default)(function* () {
    var _renderHook4 = (0, _react.renderHook)(function () {
        return (0, _useActivityMetrics.default)();
      }),
      result = _renderHook4.result;
    yield (0, _react.waitFor)(function () {
      return !result.current.isLoading;
    });
    (0, _react.act)(function () {
      return result.current.startSession();
    });
    (0, _react.act)(function () {
      return jest.advanceTimersByTime(2 * 60000);
    });
    yield (0, _react.act)((0, _asyncToGenerator2.default)(function* () {
      yield result.current.endSession();
    }));
    expect(result.current.todayMinutes).toBe(2);
    expect(result.current.formattedTime).toBe('2min');
    expect(_asyncStorage.default.setItem).toHaveBeenCalledWith('today_minutes', '2');
    expect(_asyncStorage.default.setItem).toHaveBeenCalledWith('last_time_date', TODAY);
  }));
  it('increments streak if yesterday was last activity', (0, _asyncToGenerator2.default)(function* () {
    _asyncStorage.default.getItem.mockResolvedValueOnce(JSON.stringify({
      someMetric: 123
    })).mockResolvedValueOnce(YESTERDAY);
    var _renderHook5 = (0, _react.renderHook)(function () {
        return (0, _useActivityMetrics.default)();
      }),
      result = _renderHook5.result;
    yield (0, _react.waitFor)(function () {
      return !result.current.isLoading;
    });
    (0, _react.act)(function () {
      return result.current.updateStreak();
    });
    yield (0, _react.waitFor)(function () {
      return expect(result.current.currentStreak).toBe(1);
    });
    expect(_asyncStorage.default.setItem).toHaveBeenCalledWith('current_streak', '1');
    expect(_asyncStorage.default.setItem).toHaveBeenCalledWith('last_activity_date', TODAY);
  }));
  it('resets streak if last activity was 2 days ago', (0, _asyncToGenerator2.default)(function* () {
    _asyncStorage.default.getItem.mockResolvedValueOnce(JSON.stringify({
      someMetric: 123
    })).mockResolvedValueOnce(TWO_DAYS_AGO);
    var _renderHook6 = (0, _react.renderHook)(function () {
        return (0, _useActivityMetrics.default)();
      }),
      result = _renderHook6.result;
    yield (0, _react.waitFor)(function () {
      return !result.current.isLoading;
    });
    (0, _react.act)(function () {
      return result.current.updateStreak();
    });
    yield (0, _react.waitFor)(function () {
      return expect(result.current.currentStreak).toBe(1);
    });
  }));
  it('keeps streak unchanged if already updated today', (0, _asyncToGenerator2.default)(function* () {
    _asyncStorage.default.getItem.mockResolvedValueOnce(JSON.stringify({
      someMetric: 123
    })).mockResolvedValueOnce(TODAY);
    var _renderHook7 = (0, _react.renderHook)(function () {
        return (0, _useActivityMetrics.default)();
      }),
      result = _renderHook7.result;
    yield (0, _react.waitFor)(function () {
      return !result.current.isLoading;
    });
    (0, _react.act)(function () {
      return result.current.updateStreak();
    });
    yield (0, _react.waitFor)(function () {
      return expect(result.current.currentStreak).toBe(0);
    });
    expect(_asyncStorage.default.setItem).not.toHaveBeenCalledWith('current_streak', expect.any(String));
  }));
  it('returns correct streak trend', (0, _asyncToGenerator2.default)(function* () {
    var _renderHook8 = (0, _react.renderHook)(function () {
        return (0, _useActivityMetrics.default)();
      }),
      result = _renderHook8.result;
    yield (0, _react.waitFor)(function () {
      return !result.current.isLoading;
    });
    (0, _react.act)(function () {
      result.current.currentStreak = 1;
    });
    expect(result.current.streakTrend).toBe('üî• Continue!');
    (0, _react.act)(function () {
      result.current.currentStreak = 3;
    });
    expect(result.current.streakTrend).toBe('üí™ En forme!');
    (0, _react.act)(function () {
      result.current.currentStreak = 7;
    });
    expect(result.current.streakTrend).toBe('üèÜ Incroyable!');
    (0, _react.act)(function () {
      result.current.currentStreak = 0;
    });
    expect(result.current.streakTrend).toBeNull();
  }));
  it('returns correct formatted time across multiple sessions', (0, _asyncToGenerator2.default)(function* () {
    var _renderHook9 = (0, _react.renderHook)(function () {
        return (0, _useActivityMetrics.default)();
      }),
      result = _renderHook9.result;
    yield (0, _react.waitFor)(function () {
      return !result.current.isLoading;
    });
    (0, _react.act)(function () {
      return result.current.startSession();
    });
    (0, _react.act)(function () {
      return jest.advanceTimersByTime(30 * 60000);
    });
    yield (0, _react.act)((0, _asyncToGenerator2.default)(function* () {
      return result.current.endSession();
    }));
    expect(result.current.formattedTime).toBe('30min');
    (0, _react.act)(function () {
      return result.current.startSession();
    });
    (0, _react.act)(function () {
      return jest.advanceTimersByTime(60 * 60000);
    });
    yield (0, _react.act)((0, _asyncToGenerator2.default)(function* () {
      return result.current.endSession();
    }));
    expect(result.current.formattedTime).toBe('1h');
    (0, _react.act)(function () {
      return result.current.startSession();
    });
    (0, _react.act)(function () {
      return jest.advanceTimersByTime(75 * 60000);
    });
    yield (0, _react.act)((0, _asyncToGenerator2.default)(function* () {
      return result.current.endSession();
    }));
    expect(result.current.formattedTime).toBe('2h15min');
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJzZXRJdGVtIiwiamVzdCIsImZuIiwiUHJvbWlzZSIsInJlc29sdmUiLCJnZXRJdGVtIiwicmVtb3ZlSXRlbSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlYWN0IiwiX2FzeW5jU3RvcmFnZSIsIl91c2VBY3Rpdml0eU1ldHJpY3MiLCJfcmVxdWlyZSIsImRlc2NyaWJlIiwiTU9DS19EQVRFIiwiRGF0ZSIsIlRPREFZIiwidG9EYXRlU3RyaW5nIiwiWUVTVEVSREFZIiwiZ2V0VGltZSIsIlRXT19EQVlTX0FHTyIsImJlZm9yZUVhY2giLCJ1c2VGYWtlVGltZXJzIiwic2V0U3lzdGVtVGltZSIsImNsZWFyQWxsTW9ja3MiLCJhZnRlckVhY2giLCJydW5Pbmx5UGVuZGluZ1RpbWVycyIsInVzZVJlYWxUaW1lcnMiLCJjbGVhckFsbFRpbWVycyIsIml0IiwiZGVmYXVsdCIsIl9yZW5kZXJIb29rIiwicmVuZGVySG9vayIsInVzZUFjdGl2aXR5TWV0cmljcyIsInJlc3VsdCIsIndhaXRGb3IiLCJjdXJyZW50IiwiaXNMb2FkaW5nIiwiZXhwZWN0IiwibWV0cmljcyIsInRvRXF1YWwiLCJ0b2RheU1pbnV0ZXMiLCJ0b0JlIiwiZm9ybWF0dGVkVGltZSIsImN1cnJlbnRTdHJlYWsiLCJBc3luY1N0b3JhZ2UiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsIm1vY2tSZXNvbHZlZFZhbHVlT25jZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0b3RhbE1pbnV0ZXMiLCJsYXN0QWN0aXZpdHlEYXRlIiwiX3JlbmRlckhvb2syIiwiX3JlbmRlckhvb2szIiwiX3JlbmRlckhvb2s0IiwiYWN0Iiwic3RhcnRTZXNzaW9uIiwiYWR2YW5jZVRpbWVyc0J5VGltZSIsImVuZFNlc3Npb24iLCJzb21lTWV0cmljIiwiX3JlbmRlckhvb2s1IiwidXBkYXRlU3RyZWFrIiwiX3JlbmRlckhvb2s2IiwiX3JlbmRlckhvb2s3Iiwibm90IiwiYW55IiwiU3RyaW5nIiwiX3JlbmRlckhvb2s4Iiwic3RyZWFrVHJlbmQiLCJ0b0JlTnVsbCIsIl9yZW5kZXJIb29rOSJdLCJzb3VyY2VzIjpbInVzZUFjdGl2aXR5TWV0cmljcy50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGplc3QtZW52aXJvbm1lbnQganNkb21cbiAqL1xuaW1wb3J0IHsgcmVuZGVySG9vaywgYWN0LCB3YWl0Rm9yIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgQXN5bmNTdG9yYWdlIGZyb20gJ0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS9hc3luYy1zdG9yYWdlJztcbmltcG9ydCB1c2VBY3Rpdml0eU1ldHJpY3MgZnJvbSAnLi4vLi4vc3JjL2hvb2tzL3VzZUFjdGl2aXR5TWV0cmljcyc7XG5cbi8vIE1vY2tzXG5qZXN0Lm1vY2soJ0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS9hc3luYy1zdG9yYWdlJywgKCkgPT4gKHtcbiAgc2V0SXRlbTogamVzdC5mbigoKSA9PiBQcm9taXNlLnJlc29sdmUoKSksXG4gIGdldEl0ZW06IGplc3QuZm4oKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG51bGwpKSxcbiAgcmVtb3ZlSXRlbTogamVzdC5mbigoKSA9PiBQcm9taXNlLnJlc29sdmUoKSksXG59KSk7XG5cbmRlc2NyaWJlKCd1c2VBY3Rpdml0eU1ldHJpY3MnLCAoKSA9PiB7XG4gIGNvbnN0IE1PQ0tfREFURSA9IG5ldyBEYXRlKCcyMDI1LTAxLTAxVDEyOjAwOjAwLjAwMFonKTtcbiAgY29uc3QgVE9EQVkgPSBNT0NLX0RBVEUudG9EYXRlU3RyaW5nKCk7XG4gIGNvbnN0IFlFU1RFUkRBWSA9IG5ldyBEYXRlKE1PQ0tfREFURS5nZXRUaW1lKCkgLSA4NjQwMDAwMCkudG9EYXRlU3RyaW5nKCk7XG4gIGNvbnN0IFRXT19EQVlTX0FHTyA9IG5ldyBEYXRlKE1PQ0tfREFURS5nZXRUaW1lKCkgLSAyICogODY0MDAwMDApLnRvRGF0ZVN0cmluZygpO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QudXNlRmFrZVRpbWVycygpO1xuICAgIGplc3Quc2V0U3lzdGVtVGltZShNT0NLX0RBVEUpO1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QucnVuT25seVBlbmRpbmdUaW1lcnMoKTtcbiAgICBqZXN0LnVzZVJlYWxUaW1lcnMoKTtcbiAgICBqZXN0LmNsZWFyQWxsVGltZXJzKCk7XG4gIH0pO1xuXG4gIGl0KCdsb2FkcyBtZXRyaWNzIGFuZCBpbml0aWFsaXplcyBkZWZhdWx0IHN0YXRlIHdoZW4gbm8gZGF0YSBpcyBwcmVzZW50JywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUFjdGl2aXR5TWV0cmljcygpKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4gIXJlc3VsdC5jdXJyZW50LmlzTG9hZGluZyk7XG5cbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubWV0cmljcykudG9FcXVhbCh7fSk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnRvZGF5TWludXRlcykudG9CZSgwKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuZm9ybWF0dGVkVGltZSkudG9CZSgnMG1pbicpO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jdXJyZW50U3RyZWFrKS50b0JlKDApO1xuICAgIGV4cGVjdChBc3luY1N0b3JhZ2UuZ2V0SXRlbSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2FjdGl2aXR5X21ldHJpY3MnKTtcbiAgICBleHBlY3QoQXN5bmNTdG9yYWdlLmdldEl0ZW0pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCd0b2RheV9taW51dGVzJyk7XG4gICAgZXhwZWN0KEFzeW5jU3RvcmFnZS5nZXRJdGVtKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnbGFzdF90aW1lX2RhdGUnKTtcbiAgICBleHBlY3QoQXN5bmNTdG9yYWdlLmdldEl0ZW0pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdjdXJyZW50X3N0cmVhaycpO1xuICAgIGV4cGVjdChBc3luY1N0b3JhZ2UuZ2V0SXRlbSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2xhc3RfYWN0aXZpdHlfZGF0ZScpO1xuICB9KTtcblxuICBpdCgnbG9hZHMgZXhpc3RpbmcgbWV0cmljcyBhbmQgc3RhdGUgZnJvbSBBc3luY1N0b3JhZ2UnLCBhc3luYyAoKSA9PiB7XG4gICAgQXN5bmNTdG9yYWdlLmdldEl0ZW1cbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoSlNPTi5zdHJpbmdpZnkoeyB0b3RhbE1pbnV0ZXM6IDEwMCwgbGFzdEFjdGl2aXR5RGF0ZTogWUVTVEVSREFZIH0pKSAvLyBhY3Rpdml0eV9tZXRyaWNzXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKCczMCcpIC8vIHRvZGF5X21pbnV0ZXNcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoVE9EQVkpIC8vIGxhc3RfdGltZV9kYXRlXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKCc1JykgLy8gY3VycmVudF9zdHJlYWtcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoWUVTVEVSREFZKTsgLy8gbGFzdF9hY3Rpdml0eV9kYXRlXG5cbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VBY3Rpdml0eU1ldHJpY3MoKSk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+ICFyZXN1bHQuY3VycmVudC5pc0xvYWRpbmcpO1xuXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lm1ldHJpY3MpLnRvRXF1YWwoeyB0b3RhbE1pbnV0ZXM6IDEwMCwgbGFzdEFjdGl2aXR5RGF0ZTogWUVTVEVSREFZIH0pO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC50b2RheU1pbnV0ZXMpLnRvQmUoMzApO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5mb3JtYXR0ZWRUaW1lKS50b0JlKCczMG1pbicpO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jdXJyZW50U3RyZWFrKS50b0JlKDUpO1xuICB9KTtcblxuICBpdCgncmVzZXRzIHRvZGF5X21pbnV0ZXMgaWYgbGFzdF90aW1lX2RhdGUgaXMgbm90IHRvZGF5JywgYXN5bmMgKCkgPT4ge1xuICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKG51bGwpIC8vIGFjdGl2aXR5X21ldHJpY3NcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoJzYwJykgLy8gdG9kYXlfbWludXRlc1xuICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZShZRVNURVJEQVkpIC8vIGxhc3RfdGltZV9kYXRlICh5ZXN0ZXJkYXkpXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKG51bGwpIC8vIGN1cnJlbnRfc3RyZWFrXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKG51bGwpOyAvLyBsYXN0X2FjdGl2aXR5X2RhdGVcblxuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUFjdGl2aXR5TWV0cmljcygpKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4gIXJlc3VsdC5jdXJyZW50LmlzTG9hZGluZyk7XG5cbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQudG9kYXlNaW51dGVzKS50b0JlKDApO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5mb3JtYXR0ZWRUaW1lKS50b0JlKCcwbWluJyk7XG4gICAgZXhwZWN0KEFzeW5jU3RvcmFnZS5zZXRJdGVtKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgndG9kYXlfbWludXRlcycsICcwJyk7XG4gICAgZXhwZWN0KEFzeW5jU3RvcmFnZS5zZXRJdGVtKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnbGFzdF90aW1lX2RhdGUnLCBUT0RBWSk7XG4gIH0pO1xuXG4gIGl0KCdjYWxjdWxhdGVzIHNlc3Npb24gZHVyYXRpb24gYW5kIHNhdmVzIGl0JywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUFjdGl2aXR5TWV0cmljcygpKTtcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+ICFyZXN1bHQuY3VycmVudC5pc0xvYWRpbmcpO1xuXG4gICAgYWN0KCgpID0+IHJlc3VsdC5jdXJyZW50LnN0YXJ0U2Vzc2lvbigpKTtcbiAgICBhY3QoKCkgPT4gamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDIgKiA2MDAwMCkpO1xuXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmVuZFNlc3Npb24oKTtcbiAgICB9KTtcblxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC50b2RheU1pbnV0ZXMpLnRvQmUoMik7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmZvcm1hdHRlZFRpbWUpLnRvQmUoJzJtaW4nKTtcbiAgICBleHBlY3QoQXN5bmNTdG9yYWdlLnNldEl0ZW0pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCd0b2RheV9taW51dGVzJywgJzInKTtcbiAgICBleHBlY3QoQXN5bmNTdG9yYWdlLnNldEl0ZW0pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdsYXN0X3RpbWVfZGF0ZScsIFRPREFZKTtcbiAgfSk7XG5cbiAgaXQoJ2luY3JlbWVudHMgc3RyZWFrIGlmIHllc3RlcmRheSB3YXMgbGFzdCBhY3Rpdml0eScsIGFzeW5jICgpID0+IHtcbiAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbVxuICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZShKU09OLnN0cmluZ2lmeSh7IHNvbWVNZXRyaWM6IDEyMyB9KSkgLy8gbWV0cmljc1xuICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZShZRVNURVJEQVkpOyAvLyBsYXN0X2FjdGl2aXR5X2RhdGVcblxuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUFjdGl2aXR5TWV0cmljcygpKTtcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+ICFyZXN1bHQuY3VycmVudC5pc0xvYWRpbmcpO1xuXG4gICAgYWN0KCgpID0+IHJlc3VsdC5jdXJyZW50LnVwZGF0ZVN0cmVhaygpKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4gZXhwZWN0KHJlc3VsdC5jdXJyZW50LmN1cnJlbnRTdHJlYWspLnRvQmUoMSkpO1xuICAgIGV4cGVjdChBc3luY1N0b3JhZ2Uuc2V0SXRlbSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2N1cnJlbnRfc3RyZWFrJywgJzEnKTtcbiAgICBleHBlY3QoQXN5bmNTdG9yYWdlLnNldEl0ZW0pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdsYXN0X2FjdGl2aXR5X2RhdGUnLCBUT0RBWSk7XG4gIH0pO1xuXG4gIGl0KCdyZXNldHMgc3RyZWFrIGlmIGxhc3QgYWN0aXZpdHkgd2FzIDIgZGF5cyBhZ28nLCBhc3luYyAoKSA9PiB7XG4gICAgQXN5bmNTdG9yYWdlLmdldEl0ZW1cbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoSlNPTi5zdHJpbmdpZnkoeyBzb21lTWV0cmljOiAxMjMgfSkpIC8vIG1ldHJpY3NcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoVFdPX0RBWVNfQUdPKTsgLy8gbGFzdF9hY3Rpdml0eV9kYXRlXG5cbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VBY3Rpdml0eU1ldHJpY3MoKSk7XG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiAhcmVzdWx0LmN1cnJlbnQuaXNMb2FkaW5nKTtcblxuICAgIGFjdCgoKSA9PiByZXN1bHQuY3VycmVudC51cGRhdGVTdHJlYWsoKSk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IGV4cGVjdChyZXN1bHQuY3VycmVudC5jdXJyZW50U3RyZWFrKS50b0JlKDEpKTtcbiAgfSk7XG5cbiAgaXQoJ2tlZXBzIHN0cmVhayB1bmNoYW5nZWQgaWYgYWxyZWFkeSB1cGRhdGVkIHRvZGF5JywgYXN5bmMgKCkgPT4ge1xuICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKEpTT04uc3RyaW5naWZ5KHsgc29tZU1ldHJpYzogMTIzIH0pKSAvLyBtZXRyaWNzXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKFRPREFZKTsgLy8gbGFzdF9hY3Rpdml0eV9kYXRlXG5cbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VBY3Rpdml0eU1ldHJpY3MoKSk7XG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiAhcmVzdWx0LmN1cnJlbnQuaXNMb2FkaW5nKTtcblxuICAgIGFjdCgoKSA9PiByZXN1bHQuY3VycmVudC51cGRhdGVTdHJlYWsoKSk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IGV4cGVjdChyZXN1bHQuY3VycmVudC5jdXJyZW50U3RyZWFrKS50b0JlKDApKTtcbiAgICBleHBlY3QoQXN5bmNTdG9yYWdlLnNldEl0ZW0pLm5vdC50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnY3VycmVudF9zdHJlYWsnLCBleHBlY3QuYW55KFN0cmluZykpO1xuICB9KTtcblxuICBpdCgncmV0dXJucyBjb3JyZWN0IHN0cmVhayB0cmVuZCcsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VBY3Rpdml0eU1ldHJpY3MoKSk7XG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiAhcmVzdWx0LmN1cnJlbnQuaXNMb2FkaW5nKTtcblxuICAgIGFjdCgoKSA9PiB7IHJlc3VsdC5jdXJyZW50LmN1cnJlbnRTdHJlYWsgPSAxOyB9KTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc3RyZWFrVHJlbmQpLnRvQmUoJ/CflKUgQ29udGludWUhJyk7XG5cbiAgICBhY3QoKCkgPT4geyByZXN1bHQuY3VycmVudC5jdXJyZW50U3RyZWFrID0gMzsgfSk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnN0cmVha1RyZW5kKS50b0JlKCfwn5KqIEVuIGZvcm1lIScpO1xuXG4gICAgYWN0KCgpID0+IHsgcmVzdWx0LmN1cnJlbnQuY3VycmVudFN0cmVhayA9IDc7IH0pO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zdHJlYWtUcmVuZCkudG9CZSgn8J+PhiBJbmNyb3lhYmxlIScpO1xuXG4gICAgYWN0KCgpID0+IHsgcmVzdWx0LmN1cnJlbnQuY3VycmVudFN0cmVhayA9IDA7IH0pO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zdHJlYWtUcmVuZCkudG9CZU51bGwoKTtcbiAgfSk7XG5cbiAgaXQoJ3JldHVybnMgY29ycmVjdCBmb3JtYXR0ZWQgdGltZSBhY3Jvc3MgbXVsdGlwbGUgc2Vzc2lvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQWN0aXZpdHlNZXRyaWNzKCkpO1xuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4gIXJlc3VsdC5jdXJyZW50LmlzTG9hZGluZyk7XG5cbiAgICBhY3QoKCkgPT4gcmVzdWx0LmN1cnJlbnQuc3RhcnRTZXNzaW9uKCkpO1xuICAgIGFjdCgoKSA9PiBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMzAgKiA2MDAwMCkpO1xuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiByZXN1bHQuY3VycmVudC5lbmRTZXNzaW9uKCkpO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5mb3JtYXR0ZWRUaW1lKS50b0JlKCczMG1pbicpO1xuXG4gICAgYWN0KCgpID0+IHJlc3VsdC5jdXJyZW50LnN0YXJ0U2Vzc2lvbigpKTtcbiAgICBhY3QoKCkgPT4gamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDYwICogNjAwMDApKTtcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4gcmVzdWx0LmN1cnJlbnQuZW5kU2Vzc2lvbigpKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuZm9ybWF0dGVkVGltZSkudG9CZSgnMWgnKTtcblxuICAgIGFjdCgoKSA9PiByZXN1bHQuY3VycmVudC5zdGFydFNlc3Npb24oKSk7XG4gICAgYWN0KCgpID0+IGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSg3NSAqIDYwMDAwKSk7XG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHJlc3VsdC5jdXJyZW50LmVuZFNlc3Npb24oKSk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmZvcm1hdHRlZFRpbWUpLnRvQmUoJzJoMTVtaW4nKTtcbiAgfSk7XG59KTsiXSwibWFwcGluZ3MiOiJBQVFBQSxXQUFBLEdBQUtDLElBQUksQ0FBQywyQ0FBMkMsRUFBRTtFQUFBLE9BQU87SUFDNURDLE9BQU8sRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUM7TUFBQSxPQUFNQyxPQUFPLENBQUNDLE9BQU8sQ0FBQyxDQUFDO0lBQUEsRUFBQztJQUN6Q0MsT0FBTyxFQUFFSixJQUFJLENBQUNDLEVBQUUsQ0FBQztNQUFBLE9BQU1DLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDLElBQUksQ0FBQztJQUFBLEVBQUM7SUFDN0NFLFVBQVUsRUFBRUwsSUFBSSxDQUFDQyxFQUFFLENBQUM7TUFBQSxPQUFNQyxPQUFPLENBQUNDLE9BQU8sQ0FBQyxDQUFDO0lBQUE7RUFDN0MsQ0FBQztBQUFBLENBQUMsQ0FBQztBQUFDLElBQUFHLHNCQUFBLEdBQUFDLE9BQUE7QUFBQSxJQUFBQyxrQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBVEosSUFBQUUsTUFBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsYUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksbUJBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUFvRSxTQUFBVixZQUFBO0VBQUEsSUFBQWUsUUFBQSxHQUFBTCxPQUFBO0lBQUFQLElBQUEsR0FBQVksUUFBQSxDQUFBWixJQUFBO0VBQUFILFdBQUEsWUFBQUEsWUFB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