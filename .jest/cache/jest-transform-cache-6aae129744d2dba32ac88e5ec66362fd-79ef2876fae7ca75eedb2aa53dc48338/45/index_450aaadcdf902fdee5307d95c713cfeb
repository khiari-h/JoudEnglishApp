d95109b474f2ba2e32e91f1894a92db7
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _reactNative = require("react-native");
var _expoLinearGradient = require("expo-linear-gradient");
var _vectorIcons = require("@expo/vector-icons");
var _propTypes = _interopRequireDefault(require("prop-types"));
var _HeroCard = _interopRequireDefault(require("../../../../components/ui/HeroCard"));
var _ContentSection = _interopRequireDefault(require("../../../../components/ui/ContentSection"));
var _style = _interopRequireDefault(require("./style"));
var _react = require("react");
var _jsxRuntime = require("react/jsx-runtime");
var getOptionStyles = function getOptionStyles(showFeedback, isCorrectOption, isSelectedOption, isCorrect, levelColor) {
  if (showFeedback && isCorrectOption) {
    return ['#10B981', '#059669', '#047857'];
  }
  if (showFeedback && isSelectedOption && !isCorrectOption) {
    return ['#EF4444', '#DC2626', '#B91C1C'];
  }
  if (isSelectedOption) {
    return [levelColor, `${levelColor}E6`, `${levelColor}CC`];
  }
  return ['#FFFFFF', '#F8FAFC', '#F1F5F9'];
};
var getOptionIcon = function getOptionIcon(showFeedback, isCorrectOption, isSelectedOption, isCorrect) {
  if (showFeedback && isCorrectOption) {
    return (0, _jsxRuntime.jsx)(_vectorIcons.Ionicons, {
      name: "checkmark-circle",
      size: 20,
      color: "white"
    });
  }
  if (showFeedback && isSelectedOption && !isCorrectOption) {
    return (0, _jsxRuntime.jsx)(_vectorIcons.Ionicons, {
      name: "close-circle",
      size: 20,
      color: "white"
    });
  }
  if (isSelectedOption) {
    return (0, _jsxRuntime.jsx)(_vectorIcons.Ionicons, {
      name: "radio-button-on",
      size: 20,
      color: "white"
    });
  }
  return (0, _jsxRuntime.jsx)(_vectorIcons.Ionicons, {
    name: "radio-button-off",
    size: 20,
    color: "#9CA3AF"
  });
};
var getOptionTextStyles = function getOptionTextStyles(showFeedback, isCorrectOption, isSelectedOption, isCorrect, styles) {
  var textStyles = [styles.optionText];
  if (showFeedback && isCorrectOption) {
    textStyles.push(styles.correctOptionText);
  }
  if (showFeedback && isSelectedOption && !isCorrectOption) {
    textStyles.push(styles.incorrectOptionText);
  }
  if (isSelectedOption && !showFeedback) {
    textStyles.push(styles.selectedOptionText);
  }
  return textStyles;
};
var getInputStyles = function getInputStyles(showFeedback, inputText, exerciseAnswer, isCorrect, styles, baseStyle) {
  var inputStyles = [baseStyle];
  if (showFeedback && inputText.trim().toLowerCase() === exerciseAnswer.toLowerCase()) {
    inputStyles.push(styles.correctInput);
  } else if (showFeedback && !isCorrect) {
    inputStyles.push(styles.incorrectInput);
  } else {
    inputStyles.push(styles.neutralInput);
  }
  return inputStyles;
};
var OptionItem = function OptionItem(_ref) {
  var option = _ref.option,
    index = _ref.index,
    exercise = _ref.exercise,
    selectedOption = _ref.selectedOption,
    showFeedback = _ref.showFeedback,
    isCorrect = _ref.isCorrect,
    onPress = _ref.onPress,
    styles = _ref.styles,
    levelColor = _ref.levelColor;
  var isCorrectOption = index === exercise.answer || option === exercise.answer;
  var isSelectedOption = selectedOption === index;
  var gradientColors = getOptionStyles(showFeedback, isCorrectOption, isSelectedOption, isCorrect, levelColor);
  var optionIcon = getOptionIcon(showFeedback, isCorrectOption, isSelectedOption, isCorrect);
  var textStyles = getOptionTextStyles(showFeedback, isCorrectOption, isSelectedOption, isCorrect, styles);
  return (0, _jsxRuntime.jsx)(_reactNative.TouchableOpacity, {
    style: styles.optionContainer,
    onPress: onPress,
    disabled: showFeedback && isCorrect,
    activeOpacity: 0.8,
    children: (0, _jsxRuntime.jsx)(_expoLinearGradient.LinearGradient, {
      colors: gradientColors,
      start: {
        x: 0,
        y: 0
      },
      end: {
        x: 1,
        y: 1
      },
      style: styles.optionGradient,
      children: (0, _jsxRuntime.jsxs)(_reactNative.View, {
        style: styles.optionInner,
        children: [(0, _jsxRuntime.jsx)(_reactNative.View, {
          style: styles.optionIconContainer,
          children: optionIcon
        }), (0, _jsxRuntime.jsx)(_reactNative.Text, {
          style: textStyles,
          children: option
        })]
      })
    })
  }, option);
};
OptionItem.propTypes = {
  option: _propTypes.default.string.isRequired,
  index: _propTypes.default.number.isRequired,
  exercise: _propTypes.default.shape({
    answer: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]).isRequired
  }).isRequired,
  selectedOption: _propTypes.default.number,
  showFeedback: _propTypes.default.bool.isRequired,
  isCorrect: _propTypes.default.bool.isRequired,
  onPress: _propTypes.default.func.isRequired,
  styles: _propTypes.default.shape({
    optionContainer: _propTypes.default.any,
    optionGradient: _propTypes.default.any,
    optionInner: _propTypes.default.any,
    optionIconContainer: _propTypes.default.any,
    optionText: _propTypes.default.any,
    correctOptionText: _propTypes.default.any,
    incorrectOptionText: _propTypes.default.any,
    selectedOptionText: _propTypes.default.any
  }).isRequired,
  levelColor: _propTypes.default.string.isRequired
};
var ExerciseContent = function ExerciseContent(_ref2) {
  var exercise = _ref2.exercise,
    levelColor = _ref2.levelColor,
    title = _ref2.title,
    content = _ref2.content,
    _ref2$isItalic = _ref2.isItalic,
    isItalic = _ref2$isItalic === void 0 ? false : _ref2$isItalic;
  return (0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {
    children: [(0, _jsxRuntime.jsx)(_HeroCard.default, {
      content: exercise.question,
      fontSize: 24,
      levelColor: levelColor,
      showUnderline: true
    }), exercise.sentence && (0, _jsxRuntime.jsx)(_ContentSection.default, {
      title: title,
      content: content || exercise.sentence,
      levelColor: levelColor,
      backgroundColor: "#F8FAFC",
      isItalic: isItalic,
      showIcon: false
    })]
  });
};
ExerciseContent.propTypes = {
  exercise: _propTypes.default.shape({
    question: _propTypes.default.string.isRequired,
    sentence: _propTypes.default.string
  }).isRequired,
  levelColor: _propTypes.default.string.isRequired,
  title: _propTypes.default.string.isRequired,
  content: _propTypes.default.string,
  isItalic: _propTypes.default.bool
};
var GrammarExerciseRenderer = function GrammarExerciseRenderer(_ref3) {
  var exercise = _ref3.exercise,
    selectedOption = _ref3.selectedOption,
    setSelectedOption = _ref3.setSelectedOption,
    inputText = _ref3.inputText,
    setInputText = _ref3.setInputText,
    showFeedback = _ref3.showFeedback,
    isCorrect = _ref3.isCorrect,
    exerciseIndex = _ref3.exerciseIndex,
    attempts = _ref3.attempts;
  if (!exercise) return null;
  var styles = (0, _style.default)();
  var levelColor = "#3b82f6";
  var handleChangeText1 = (0, _react.useCallback)(function (text) {
    if (!showFeedback) setInputText(text);
  }, [showFeedback, setInputText]);
  var handleChangeText2 = (0, _react.useCallback)(function (text) {
    if (!showFeedback) setInputText(text);
  }, [showFeedback, setInputText]);
  var handleOptionPress = (0, _react.useCallback)(function (index) {
    if (!showFeedback) setSelectedOption(index);
  }, [showFeedback, setSelectedOption]);
  var getOptionPressHandler = (0, _react.useCallback)(function (index) {
    return function () {
      return handleOptionPress(index);
    };
  }, [handleOptionPress]);
  var renderMultipleChoiceExercise = function renderMultipleChoiceExercise() {
    var _exercise$sentence;
    return (0, _jsxRuntime.jsxs)(_reactNative.View, {
      style: styles.container,
      children: [(0, _jsxRuntime.jsx)(ExerciseContent, {
        exercise: exercise,
        levelColor: levelColor,
        title: "Complete the sentence",
        content: (_exercise$sentence = exercise.sentence) == null ? void 0 : _exercise$sentence.replace("___", "______")
      }), (0, _jsxRuntime.jsx)(_reactNative.View, {
        style: styles.optionsSection,
        children: exercise.options.map(function (option, index) {
          return (0, _jsxRuntime.jsx)(OptionItem, {
            option: option,
            index: index,
            exercise: exercise,
            selectedOption: selectedOption,
            showFeedback: showFeedback,
            isCorrect: isCorrect,
            onPress: getOptionPressHandler(index),
            styles: styles,
            levelColor: levelColor
          }, option);
        })
      })]
    });
  };
  var renderFillBlankExercise = function renderFillBlankExercise() {
    return (0, _jsxRuntime.jsxs)(_reactNative.View, {
      style: styles.container,
      children: [(0, _jsxRuntime.jsx)(ExerciseContent, {
        exercise: exercise,
        levelColor: levelColor,
        title: "Complete the sentence",
        content: exercise.sentence || "Fill in the blank"
      }), (0, _jsxRuntime.jsx)(_reactNative.View, {
        style: styles.inputSection,
        children: (0, _jsxRuntime.jsx)(_reactNative.TextInput, {
          style: getInputStyles(showFeedback, inputText, exercise.answer, isCorrect, styles, styles.fillBlankInput),
          value: inputText,
          onChangeText: handleChangeText1,
          placeholder: "Type your answer...",
          editable: !showFeedback || !isCorrect,
          autoCapitalize: "none",
          autoCorrect: false
        }, `fill-blank-input-${exerciseIndex}-${attempts}`)
      })]
    });
  };
  var renderTransformationExercise = function renderTransformationExercise() {
    return (0, _jsxRuntime.jsxs)(_reactNative.View, {
      style: styles.container,
      children: [(0, _jsxRuntime.jsx)(ExerciseContent, {
        exercise: exercise,
        levelColor: levelColor,
        title: "Transform this sentence",
        content: exercise.sentence,
        isItalic: true
      }), (0, _jsxRuntime.jsx)(_reactNative.View, {
        style: styles.inputSection,
        children: (0, _jsxRuntime.jsx)(_reactNative.TextInput, {
          style: getInputStyles(showFeedback, inputText, exercise.answer, isCorrect, styles, styles.transformationInput),
          value: inputText,
          onChangeText: handleChangeText2,
          placeholder: "Write your transformed sentence...",
          editable: !showFeedback || !isCorrect,
          multiline: true,
          autoCapitalize: "none",
          autoCorrect: false
        }, `transformation-input-${exerciseIndex}-${attempts}`)
      })]
    });
  };
  if (exercise.type === "fillInTheBlank" && exercise.options) {
    return renderMultipleChoiceExercise();
  } else if (exercise.type === "fillInTheBlank") {
    return renderFillBlankExercise();
  } else if (exercise.type === "transformation") {
    return renderTransformationExercise();
  }
  return null;
};
GrammarExerciseRenderer.propTypes = {
  exercise: _propTypes.default.shape({
    question: _propTypes.default.string.isRequired,
    sentence: _propTypes.default.string,
    options: _propTypes.default.arrayOf(_propTypes.default.string),
    answer: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]).isRequired,
    type: _propTypes.default.oneOf(['fillInTheBlank', 'transformation']).isRequired
  }),
  selectedOption: _propTypes.default.number,
  setSelectedOption: _propTypes.default.func.isRequired,
  inputText: _propTypes.default.string,
  setInputText: _propTypes.default.func.isRequired,
  showFeedback: _propTypes.default.bool,
  isCorrect: _propTypes.default.bool,
  exerciseIndex: _propTypes.default.number,
  attempts: _propTypes.default.number
};
var _default = exports.default = GrammarExerciseRenderer;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3ROYXRpdmUiLCJyZXF1aXJlIiwiX2V4cG9MaW5lYXJHcmFkaWVudCIsIl92ZWN0b3JJY29ucyIsIl9wcm9wVHlwZXMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX0hlcm9DYXJkIiwiX0NvbnRlbnRTZWN0aW9uIiwiX3N0eWxlIiwiX3JlYWN0IiwiX2pzeFJ1bnRpbWUiLCJnZXRPcHRpb25TdHlsZXMiLCJzaG93RmVlZGJhY2siLCJpc0NvcnJlY3RPcHRpb24iLCJpc1NlbGVjdGVkT3B0aW9uIiwiaXNDb3JyZWN0IiwibGV2ZWxDb2xvciIsImdldE9wdGlvbkljb24iLCJqc3giLCJJb25pY29ucyIsIm5hbWUiLCJzaXplIiwiY29sb3IiLCJnZXRPcHRpb25UZXh0U3R5bGVzIiwic3R5bGVzIiwidGV4dFN0eWxlcyIsIm9wdGlvblRleHQiLCJwdXNoIiwiY29ycmVjdE9wdGlvblRleHQiLCJpbmNvcnJlY3RPcHRpb25UZXh0Iiwic2VsZWN0ZWRPcHRpb25UZXh0IiwiZ2V0SW5wdXRTdHlsZXMiLCJpbnB1dFRleHQiLCJleGVyY2lzZUFuc3dlciIsImJhc2VTdHlsZSIsImlucHV0U3R5bGVzIiwidHJpbSIsInRvTG93ZXJDYXNlIiwiY29ycmVjdElucHV0IiwiaW5jb3JyZWN0SW5wdXQiLCJuZXV0cmFsSW5wdXQiLCJPcHRpb25JdGVtIiwiX3JlZiIsIm9wdGlvbiIsImluZGV4IiwiZXhlcmNpc2UiLCJzZWxlY3RlZE9wdGlvbiIsIm9uUHJlc3MiLCJhbnN3ZXIiLCJncmFkaWVudENvbG9ycyIsIm9wdGlvbkljb24iLCJUb3VjaGFibGVPcGFjaXR5Iiwic3R5bGUiLCJvcHRpb25Db250YWluZXIiLCJkaXNhYmxlZCIsImFjdGl2ZU9wYWNpdHkiLCJjaGlsZHJlbiIsIkxpbmVhckdyYWRpZW50IiwiY29sb3JzIiwic3RhcnQiLCJ4IiwieSIsImVuZCIsIm9wdGlvbkdyYWRpZW50IiwianN4cyIsIlZpZXciLCJvcHRpb25Jbm5lciIsIm9wdGlvbkljb25Db250YWluZXIiLCJUZXh0IiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwic3RyaW5nIiwiaXNSZXF1aXJlZCIsIm51bWJlciIsInNoYXBlIiwib25lT2ZUeXBlIiwiYm9vbCIsImZ1bmMiLCJhbnkiLCJFeGVyY2lzZUNvbnRlbnQiLCJfcmVmMiIsInRpdGxlIiwiY29udGVudCIsIl9yZWYyJGlzSXRhbGljIiwiaXNJdGFsaWMiLCJGcmFnbWVudCIsImRlZmF1bHQiLCJxdWVzdGlvbiIsImZvbnRTaXplIiwic2hvd1VuZGVybGluZSIsInNlbnRlbmNlIiwiYmFja2dyb3VuZENvbG9yIiwic2hvd0ljb24iLCJHcmFtbWFyRXhlcmNpc2VSZW5kZXJlciIsIl9yZWYzIiwic2V0U2VsZWN0ZWRPcHRpb24iLCJzZXRJbnB1dFRleHQiLCJleGVyY2lzZUluZGV4IiwiYXR0ZW1wdHMiLCJjcmVhdGVTdHlsZXMiLCJoYW5kbGVDaGFuZ2VUZXh0MSIsInVzZUNhbGxiYWNrIiwidGV4dCIsImhhbmRsZUNoYW5nZVRleHQyIiwiaGFuZGxlT3B0aW9uUHJlc3MiLCJnZXRPcHRpb25QcmVzc0hhbmRsZXIiLCJyZW5kZXJNdWx0aXBsZUNob2ljZUV4ZXJjaXNlIiwiX2V4ZXJjaXNlJHNlbnRlbmNlIiwiY29udGFpbmVyIiwicmVwbGFjZSIsIm9wdGlvbnNTZWN0aW9uIiwib3B0aW9ucyIsIm1hcCIsInJlbmRlckZpbGxCbGFua0V4ZXJjaXNlIiwiaW5wdXRTZWN0aW9uIiwiVGV4dElucHV0IiwiZmlsbEJsYW5rSW5wdXQiLCJ2YWx1ZSIsIm9uQ2hhbmdlVGV4dCIsInBsYWNlaG9sZGVyIiwiZWRpdGFibGUiLCJhdXRvQ2FwaXRhbGl6ZSIsImF1dG9Db3JyZWN0IiwicmVuZGVyVHJhbnNmb3JtYXRpb25FeGVyY2lzZSIsInRyYW5zZm9ybWF0aW9uSW5wdXQiLCJtdWx0aWxpbmUiLCJ0eXBlIiwiYXJyYXlPZiIsIm9uZU9mIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gR3JhbW1hckV4ZXJjaXNlUmVuZGVyZXIvaW5kZXguanMgLSBDT1JSSUfDiSBwb3VyIMOpbGltaW5lciBsZXMgMjMgdmlvbGF0aW9ucyBTb25hclF1YmVcclxuXHJcbmltcG9ydCB7IFZpZXcsIFRleHQsIFRvdWNoYWJsZU9wYWNpdHksIFRleHRJbnB1dCB9IGZyb20gXCJyZWFjdC1uYXRpdmVcIjtcclxuaW1wb3J0IHsgTGluZWFyR3JhZGllbnQgfSBmcm9tIFwiZXhwby1saW5lYXItZ3JhZGllbnRcIjtcclxuaW1wb3J0IHsgSW9uaWNvbnMgfSBmcm9tIFwiQGV4cG8vdmVjdG9yLWljb25zXCI7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCBIZXJvQ2FyZCBmcm9tIFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy91aS9IZXJvQ2FyZFwiO1xyXG5pbXBvcnQgQ29udGVudFNlY3Rpb24gZnJvbSBcIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMvdWkvQ29udGVudFNlY3Rpb25cIjtcclxuaW1wb3J0IGNyZWF0ZVN0eWxlcyBmcm9tIFwiLi9zdHlsZVwiO1xyXG5pbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcclxuXHJcbi8vIEZvbmN0aW9uIHBvdXIgb2J0ZW5pciBsZXMgc3R5bGVzIGQndW5lIG9wdGlvblxyXG5jb25zdCBnZXRPcHRpb25TdHlsZXMgPSAoc2hvd0ZlZWRiYWNrLCBpc0NvcnJlY3RPcHRpb24sIGlzU2VsZWN0ZWRPcHRpb24sIGlzQ29ycmVjdCwgbGV2ZWxDb2xvcikgPT4ge1xyXG4gIGlmIChzaG93RmVlZGJhY2sgJiYgaXNDb3JyZWN0T3B0aW9uKSB7XHJcbiAgICByZXR1cm4gWycjMTBCOTgxJywgJyMwNTk2NjknLCAnIzA0Nzg1NyddOyAvLyBWZXJ0IHBvdXIgY29ycmVjdFxyXG4gIH1cclxuICBpZiAoc2hvd0ZlZWRiYWNrICYmIGlzU2VsZWN0ZWRPcHRpb24gJiYgIWlzQ29ycmVjdE9wdGlvbikge1xyXG4gICAgcmV0dXJuIFsnI0VGNDQ0NCcsICcjREMyNjI2JywgJyNCOTFDMUMnXTsgLy8gUm91Z2UgcG91ciBpbmNvcnJlY3RcclxuICB9XHJcbiAgaWYgKGlzU2VsZWN0ZWRPcHRpb24pIHtcclxuICAgIHJldHVybiBbbGV2ZWxDb2xvciwgYCR7bGV2ZWxDb2xvcn1FNmAsIGAke2xldmVsQ29sb3J9Q0NgXTsgLy8gQmxldSBwb3VyIHPDqWxlY3Rpb25uw6lcclxuICB9XHJcbiAgcmV0dXJuIFsnI0ZGRkZGRicsICcjRjhGQUZDJywgJyNGMUY1RjknXTsgLy8gTmV1dHJlXHJcbn07XHJcblxyXG4vLyBGb25jdGlvbiBwb3VyIG9idGVuaXIgbCdpY8O0bmUgZCd1bmUgb3B0aW9uXHJcbmNvbnN0IGdldE9wdGlvbkljb24gPSAoc2hvd0ZlZWRiYWNrLCBpc0NvcnJlY3RPcHRpb24sIGlzU2VsZWN0ZWRPcHRpb24sIGlzQ29ycmVjdCkgPT4ge1xyXG4gIGlmIChzaG93RmVlZGJhY2sgJiYgaXNDb3JyZWN0T3B0aW9uKSB7XHJcbiAgICByZXR1cm4gPElvbmljb25zIG5hbWU9XCJjaGVja21hcmstY2lyY2xlXCIgc2l6ZT17MjB9IGNvbG9yPVwid2hpdGVcIiAvPjtcclxuICB9XHJcbiAgaWYgKHNob3dGZWVkYmFjayAmJiBpc1NlbGVjdGVkT3B0aW9uICYmICFpc0NvcnJlY3RPcHRpb24pIHtcclxuICAgIHJldHVybiA8SW9uaWNvbnMgbmFtZT1cImNsb3NlLWNpcmNsZVwiIHNpemU9ezIwfSBjb2xvcj1cIndoaXRlXCIgLz47XHJcbiAgfVxyXG4gIGlmIChpc1NlbGVjdGVkT3B0aW9uKSB7XHJcbiAgICByZXR1cm4gPElvbmljb25zIG5hbWU9XCJyYWRpby1idXR0b24tb25cIiBzaXplPXsyMH0gY29sb3I9XCJ3aGl0ZVwiIC8+O1xyXG4gIH1cclxuICByZXR1cm4gPElvbmljb25zIG5hbWU9XCJyYWRpby1idXR0b24tb2ZmXCIgc2l6ZT17MjB9IGNvbG9yPVwiIzlDQTNBRlwiIC8+O1xyXG59O1xyXG5cclxuLy8gRm9uY3Rpb24gcG91ciBvYnRlbmlyIGxlcyBzdHlsZXMgZGUgdGV4dGUgZCd1bmUgb3B0aW9uXHJcbmNvbnN0IGdldE9wdGlvblRleHRTdHlsZXMgPSAoc2hvd0ZlZWRiYWNrLCBpc0NvcnJlY3RPcHRpb24sIGlzU2VsZWN0ZWRPcHRpb24sIGlzQ29ycmVjdCwgc3R5bGVzKSA9PiB7XHJcbiAgY29uc3QgdGV4dFN0eWxlcyA9IFtzdHlsZXMub3B0aW9uVGV4dF07XHJcbiAgXHJcbiAgaWYgKHNob3dGZWVkYmFjayAmJiBpc0NvcnJlY3RPcHRpb24pIHtcclxuICAgIHRleHRTdHlsZXMucHVzaChzdHlsZXMuY29ycmVjdE9wdGlvblRleHQpO1xyXG4gIH1cclxuICBpZiAoc2hvd0ZlZWRiYWNrICYmIGlzU2VsZWN0ZWRPcHRpb24gJiYgIWlzQ29ycmVjdE9wdGlvbikge1xyXG4gICAgdGV4dFN0eWxlcy5wdXNoKHN0eWxlcy5pbmNvcnJlY3RPcHRpb25UZXh0KTtcclxuICB9XHJcbiAgaWYgKGlzU2VsZWN0ZWRPcHRpb24gJiYgIXNob3dGZWVkYmFjaykge1xyXG4gICAgdGV4dFN0eWxlcy5wdXNoKHN0eWxlcy5zZWxlY3RlZE9wdGlvblRleHQpO1xyXG4gIH1cclxuICBcclxuICByZXR1cm4gdGV4dFN0eWxlcztcclxufTtcclxuXHJcbi8vIEZvbmN0aW9uIHBvdXIgb2J0ZW5pciBsZXMgc3R5bGVzIGQnaW5wdXRcclxuY29uc3QgZ2V0SW5wdXRTdHlsZXMgPSAoc2hvd0ZlZWRiYWNrLCBpbnB1dFRleHQsIGV4ZXJjaXNlQW5zd2VyLCBpc0NvcnJlY3QsIHN0eWxlcywgYmFzZVN0eWxlKSA9PiB7XHJcbiAgY29uc3QgaW5wdXRTdHlsZXMgPSBbYmFzZVN0eWxlXTtcclxuICBcclxuICBpZiAoc2hvd0ZlZWRiYWNrICYmIGlucHV0VGV4dC50cmltKCkudG9Mb3dlckNhc2UoKSA9PT0gZXhlcmNpc2VBbnN3ZXIudG9Mb3dlckNhc2UoKSkge1xyXG4gICAgaW5wdXRTdHlsZXMucHVzaChzdHlsZXMuY29ycmVjdElucHV0KTtcclxuICB9IGVsc2UgaWYgKHNob3dGZWVkYmFjayAmJiAhaXNDb3JyZWN0KSB7XHJcbiAgICBpbnB1dFN0eWxlcy5wdXNoKHN0eWxlcy5pbmNvcnJlY3RJbnB1dCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGlucHV0U3R5bGVzLnB1c2goc3R5bGVzLm5ldXRyYWxJbnB1dCk7XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBpbnB1dFN0eWxlcztcclxufTtcclxuXHJcbi8vIENvbXBvc2FudCBwb3VyIHJlbmRyZSB1bmUgb3B0aW9uIGluZGl2aWR1ZWxsZVxyXG5jb25zdCBPcHRpb25JdGVtID0gKHsgb3B0aW9uLCBpbmRleCwgZXhlcmNpc2UsIHNlbGVjdGVkT3B0aW9uLCBzaG93RmVlZGJhY2ssIGlzQ29ycmVjdCwgb25QcmVzcywgc3R5bGVzLCBsZXZlbENvbG9yIH0pID0+IHtcclxuICBjb25zdCBpc0NvcnJlY3RPcHRpb24gPSBpbmRleCA9PT0gZXhlcmNpc2UuYW5zd2VyIHx8IG9wdGlvbiA9PT0gZXhlcmNpc2UuYW5zd2VyO1xyXG4gIGNvbnN0IGlzU2VsZWN0ZWRPcHRpb24gPSBzZWxlY3RlZE9wdGlvbiA9PT0gaW5kZXg7XHJcbiAgXHJcbiAgY29uc3QgZ3JhZGllbnRDb2xvcnMgPSBnZXRPcHRpb25TdHlsZXMoc2hvd0ZlZWRiYWNrLCBpc0NvcnJlY3RPcHRpb24sIGlzU2VsZWN0ZWRPcHRpb24sIGlzQ29ycmVjdCwgbGV2ZWxDb2xvcik7XHJcbiAgY29uc3Qgb3B0aW9uSWNvbiA9IGdldE9wdGlvbkljb24oc2hvd0ZlZWRiYWNrLCBpc0NvcnJlY3RPcHRpb24sIGlzU2VsZWN0ZWRPcHRpb24sIGlzQ29ycmVjdCk7XHJcbiAgY29uc3QgdGV4dFN0eWxlcyA9IGdldE9wdGlvblRleHRTdHlsZXMoc2hvd0ZlZWRiYWNrLCBpc0NvcnJlY3RPcHRpb24sIGlzU2VsZWN0ZWRPcHRpb24sIGlzQ29ycmVjdCwgc3R5bGVzKTtcclxuICBcclxuICByZXR1cm4gKFxyXG4gICAgPFRvdWNoYWJsZU9wYWNpdHlcclxuICAgICAga2V5PXtvcHRpb259XHJcbiAgICAgIHN0eWxlPXtzdHlsZXMub3B0aW9uQ29udGFpbmVyfVxyXG4gICAgICBvblByZXNzPXtvblByZXNzfVxyXG4gICAgICBkaXNhYmxlZD17c2hvd0ZlZWRiYWNrICYmIGlzQ29ycmVjdH1cclxuICAgICAgYWN0aXZlT3BhY2l0eT17MC44fVxyXG4gICAgPlxyXG4gICAgICA8TGluZWFyR3JhZGllbnRcclxuICAgICAgICBjb2xvcnM9e2dyYWRpZW50Q29sb3JzfVxyXG4gICAgICAgIHN0YXJ0PXt7IHg6IDAsIHk6IDAgfX1cclxuICAgICAgICBlbmQ9e3sgeDogMSwgeTogMSB9fVxyXG4gICAgICAgIHN0eWxlPXtzdHlsZXMub3B0aW9uR3JhZGllbnR9XHJcbiAgICAgID5cclxuICAgICAgICA8VmlldyBzdHlsZT17c3R5bGVzLm9wdGlvbklubmVyfT5cclxuICAgICAgICAgIDxWaWV3IHN0eWxlPXtzdHlsZXMub3B0aW9uSWNvbkNvbnRhaW5lcn0+XHJcbiAgICAgICAgICAgIHtvcHRpb25JY29ufVxyXG4gICAgICAgICAgPC9WaWV3PlxyXG4gICAgICAgICAgPFRleHQgc3R5bGU9e3RleHRTdHlsZXN9PlxyXG4gICAgICAgICAgICB7b3B0aW9ufVxyXG4gICAgICAgICAgPC9UZXh0PlxyXG4gICAgICAgIDwvVmlldz5cclxuICAgICAgPC9MaW5lYXJHcmFkaWVudD5cclxuICAgIDwvVG91Y2hhYmxlT3BhY2l0eT5cclxuICApO1xyXG59O1xyXG5cclxuLy8gUHJvcFR5cGVzIHBvdXIgT3B0aW9uSXRlbVxyXG5PcHRpb25JdGVtLnByb3BUeXBlcyA9IHtcclxuICBvcHRpb246IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICBpbmRleDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxyXG4gIGV4ZXJjaXNlOiBQcm9wVHlwZXMuc2hhcGUoe1xyXG4gICAgYW5zd2VyOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMubnVtYmVyXSkuaXNSZXF1aXJlZCxcclxuICB9KS5pc1JlcXVpcmVkLFxyXG4gIHNlbGVjdGVkT3B0aW9uOiBQcm9wVHlwZXMubnVtYmVyLFxyXG4gIHNob3dGZWVkYmFjazogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcclxuICBpc0NvcnJlY3Q6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXHJcbiAgb25QcmVzczogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcclxuICBzdHlsZXM6IFByb3BUeXBlcy5zaGFwZSh7XHJcbiAgICBvcHRpb25Db250YWluZXI6IFByb3BUeXBlcy5hbnksXHJcbiAgICBvcHRpb25HcmFkaWVudDogUHJvcFR5cGVzLmFueSxcclxuICAgIG9wdGlvbklubmVyOiBQcm9wVHlwZXMuYW55LFxyXG4gICAgb3B0aW9uSWNvbkNvbnRhaW5lcjogUHJvcFR5cGVzLmFueSxcclxuICAgIG9wdGlvblRleHQ6IFByb3BUeXBlcy5hbnksXHJcbiAgICBjb3JyZWN0T3B0aW9uVGV4dDogUHJvcFR5cGVzLmFueSxcclxuICAgIGluY29ycmVjdE9wdGlvblRleHQ6IFByb3BUeXBlcy5hbnksXHJcbiAgICBzZWxlY3RlZE9wdGlvblRleHQ6IFByb3BUeXBlcy5hbnksXHJcbiAgfSkuaXNSZXF1aXJlZCxcclxuICBsZXZlbENvbG9yOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbn07XHJcblxyXG4vLyBDb21wb3NhbnQgcG91ciBsZSBjb250ZW51IGNvbW11biBkZXMgZXhlcmNpY2VzXHJcbmNvbnN0IEV4ZXJjaXNlQ29udGVudCA9ICh7IGV4ZXJjaXNlLCBsZXZlbENvbG9yLCB0aXRsZSwgY29udGVudCwgaXNJdGFsaWMgPSBmYWxzZSB9KSA9PiAoXHJcbiAgPD5cclxuICAgIDxIZXJvQ2FyZCBcclxuICAgICAgY29udGVudD17ZXhlcmNpc2UucXVlc3Rpb259XHJcbiAgICAgIGZvbnRTaXplPXsyNH1cclxuICAgICAgbGV2ZWxDb2xvcj17bGV2ZWxDb2xvcn1cclxuICAgICAgc2hvd1VuZGVybGluZVxyXG4gICAgLz5cclxuICAgIFxyXG4gICAge2V4ZXJjaXNlLnNlbnRlbmNlICYmIChcclxuICAgICAgPENvbnRlbnRTZWN0aW9uXHJcbiAgICAgICAgdGl0bGU9e3RpdGxlfVxyXG4gICAgICAgIGNvbnRlbnQ9e2NvbnRlbnQgfHwgZXhlcmNpc2Uuc2VudGVuY2V9XHJcbiAgICAgICAgbGV2ZWxDb2xvcj17bGV2ZWxDb2xvcn1cclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I9XCIjRjhGQUZDXCJcclxuICAgICAgICBpc0l0YWxpYz17aXNJdGFsaWN9XHJcbiAgICAgICAgc2hvd0ljb249e2ZhbHNlfVxyXG4gICAgICAvPlxyXG4gICAgKX1cclxuICA8Lz5cclxuKTtcclxuXHJcbi8vIFByb3BUeXBlcyBwb3VyIEV4ZXJjaXNlQ29udGVudFxyXG5FeGVyY2lzZUNvbnRlbnQucHJvcFR5cGVzID0ge1xyXG4gIGV4ZXJjaXNlOiBQcm9wVHlwZXMuc2hhcGUoe1xyXG4gICAgcXVlc3Rpb246IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICAgIHNlbnRlbmNlOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gIH0pLmlzUmVxdWlyZWQsXHJcbiAgbGV2ZWxDb2xvcjogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxyXG4gIHRpdGxlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgY29udGVudDogUHJvcFR5cGVzLnN0cmluZyxcclxuICBpc0l0YWxpYzogUHJvcFR5cGVzLmJvb2wsXHJcbn07XHJcblxyXG4vKipcclxuICog8J+OryBHcmFtbWFyRXhlcmNpc2VSZW5kZXJlciAtIFZlcnNpb24gUmVmYWN0b3Jpc8OpZSBhdmVjIGNvbXBvc2FudHMgZ8OpbsOpcmlxdWVzXHJcbiAqIFV0aWxpc2UgSGVyb0NhcmQgcG91ciBsYSBxdWVzdGlvbiBwcmluY2lwYWxlXHJcbiAqIERlc2lnbiBjb2jDqXJlbnQgYXZlYyBWb2NhYnVsYXJ5V29yZENhcmQgZXQgUGhyYXNlQ2FyZFxyXG4gKiBDb21wbGV4aXTDqSBjb2duaXRpdmUgcsOpZHVpdGUgZGUgMTkgw6AgMTVcclxuICovXHJcbmNvbnN0IEdyYW1tYXJFeGVyY2lzZVJlbmRlcmVyID0gKHtcclxuICBleGVyY2lzZSxcclxuICBzZWxlY3RlZE9wdGlvbixcclxuICBzZXRTZWxlY3RlZE9wdGlvbixcclxuICBpbnB1dFRleHQsXHJcbiAgc2V0SW5wdXRUZXh0LFxyXG4gIHNob3dGZWVkYmFjayxcclxuICBpc0NvcnJlY3QsXHJcbiAgZXhlcmNpc2VJbmRleCxcclxuICBhdHRlbXB0cyxcclxufSkgPT4ge1xyXG4gIGlmICghZXhlcmNpc2UpIHJldHVybiBudWxsO1xyXG5cclxuICBjb25zdCBzdHlsZXMgPSBjcmVhdGVTdHlsZXMoKTtcclxuICBjb25zdCBsZXZlbENvbG9yID0gXCIjM2I4MmY2XCI7IC8vIENvdWxldXIgR3JhbW1hclxyXG5cclxuICAvLyBSZW1wbGFjZSBsZXMgZm9uY3Rpb25zIGZsw6ljaMOpZXMgaW5saW5lIHBhciBkZXMgY2FsbGJhY2tzIG3DqW1vcmlzw6lzXHJcbiAgY29uc3QgaGFuZGxlQ2hhbmdlVGV4dDEgPSB1c2VDYWxsYmFjaygodGV4dCkgPT4ge1xyXG4gICAgaWYgKCFzaG93RmVlZGJhY2spIHNldElucHV0VGV4dCh0ZXh0KTtcclxuICB9LCBbc2hvd0ZlZWRiYWNrLCBzZXRJbnB1dFRleHRdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQ2hhbmdlVGV4dDIgPSB1c2VDYWxsYmFjaygodGV4dCkgPT4ge1xyXG4gICAgaWYgKCFzaG93RmVlZGJhY2spIHNldElucHV0VGV4dCh0ZXh0KTtcclxuICB9LCBbc2hvd0ZlZWRiYWNrLCBzZXRJbnB1dFRleHRdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlT3B0aW9uUHJlc3MgPSB1c2VDYWxsYmFjaygoaW5kZXgpID0+IHtcclxuICAgIGlmICghc2hvd0ZlZWRiYWNrKSBzZXRTZWxlY3RlZE9wdGlvbihpbmRleCk7XHJcbiAgfSwgW3Nob3dGZWVkYmFjaywgc2V0U2VsZWN0ZWRPcHRpb25dKTtcclxuXHJcbiAgLy8gSGFuZGxlciBzdGFibGUgcG91ciBjaGFxdWUgb3B0aW9uXHJcbiAgY29uc3QgZ2V0T3B0aW9uUHJlc3NIYW5kbGVyID0gdXNlQ2FsbGJhY2soXHJcbiAgICAoaW5kZXgpID0+ICgpID0+IGhhbmRsZU9wdGlvblByZXNzKGluZGV4KSxcclxuICAgIFtoYW5kbGVPcHRpb25QcmVzc11cclxuICApO1xyXG5cclxuICAvLyBSZW5kZXIgcG91ciB1biBleGVyY2ljZSDDoCBjaG9peCBtdWx0aXBsZXNcclxuICBjb25zdCByZW5kZXJNdWx0aXBsZUNob2ljZUV4ZXJjaXNlID0gKCkgPT4gKFxyXG4gICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5jb250YWluZXJ9PlxyXG4gICAgICA8RXhlcmNpc2VDb250ZW50IFxyXG4gICAgICAgIGV4ZXJjaXNlPXtleGVyY2lzZX1cclxuICAgICAgICBsZXZlbENvbG9yPXtsZXZlbENvbG9yfVxyXG4gICAgICAgIHRpdGxlPVwiQ29tcGxldGUgdGhlIHNlbnRlbmNlXCJcclxuICAgICAgICBjb250ZW50PXtleGVyY2lzZS5zZW50ZW5jZT8ucmVwbGFjZShcIl9fX1wiLCBcIl9fX19fX1wiKX1cclxuICAgICAgLz5cclxuXHJcbiAgICAgIDxWaWV3IHN0eWxlPXtzdHlsZXMub3B0aW9uc1NlY3Rpb259PlxyXG4gICAgICAgIHtleGVyY2lzZS5vcHRpb25zLm1hcCgob3B0aW9uLCBpbmRleCkgPT4gKFxyXG4gICAgICAgICAgPE9wdGlvbkl0ZW1cclxuICAgICAgICAgICAga2V5PXtvcHRpb259XHJcbiAgICAgICAgICAgIG9wdGlvbj17b3B0aW9ufVxyXG4gICAgICAgICAgICBpbmRleD17aW5kZXh9XHJcbiAgICAgICAgICAgIGV4ZXJjaXNlPXtleGVyY2lzZX1cclxuICAgICAgICAgICAgc2VsZWN0ZWRPcHRpb249e3NlbGVjdGVkT3B0aW9ufVxyXG4gICAgICAgICAgICBzaG93RmVlZGJhY2s9e3Nob3dGZWVkYmFja31cclxuICAgICAgICAgICAgaXNDb3JyZWN0PXtpc0NvcnJlY3R9XHJcbiAgICAgICAgICAgIG9uUHJlc3M9e2dldE9wdGlvblByZXNzSGFuZGxlcihpbmRleCl9XHJcbiAgICAgICAgICAgIHN0eWxlcz17c3R5bGVzfVxyXG4gICAgICAgICAgICBsZXZlbENvbG9yPXtsZXZlbENvbG9yfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICApKX1cclxuICAgICAgPC9WaWV3PlxyXG4gICAgPC9WaWV3PlxyXG4gICk7XHJcblxyXG4gIC8vIFJlbmRlciBwb3VyIHVuIGV4ZXJjaWNlIMOgIHJlbXBsaXIgbGVzIGJsYW5jc1xyXG4gIGNvbnN0IHJlbmRlckZpbGxCbGFua0V4ZXJjaXNlID0gKCkgPT4gKFxyXG4gICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5jb250YWluZXJ9PlxyXG4gICAgICA8RXhlcmNpc2VDb250ZW50IFxyXG4gICAgICAgIGV4ZXJjaXNlPXtleGVyY2lzZX1cclxuICAgICAgICBsZXZlbENvbG9yPXtsZXZlbENvbG9yfVxyXG4gICAgICAgIHRpdGxlPVwiQ29tcGxldGUgdGhlIHNlbnRlbmNlXCJcclxuICAgICAgICBjb250ZW50PXtleGVyY2lzZS5zZW50ZW5jZSB8fCBcIkZpbGwgaW4gdGhlIGJsYW5rXCJ9XHJcbiAgICAgIC8+XHJcblxyXG4gICAgICA8VmlldyBzdHlsZT17c3R5bGVzLmlucHV0U2VjdGlvbn0+XHJcbiAgICAgICAgPFRleHRJbnB1dFxyXG4gICAgICAgICAga2V5PXtgZmlsbC1ibGFuay1pbnB1dC0ke2V4ZXJjaXNlSW5kZXh9LSR7YXR0ZW1wdHN9YH1cclxuICAgICAgICAgIHN0eWxlPXtnZXRJbnB1dFN0eWxlcyhzaG93RmVlZGJhY2ssIGlucHV0VGV4dCwgZXhlcmNpc2UuYW5zd2VyLCBpc0NvcnJlY3QsIHN0eWxlcywgc3R5bGVzLmZpbGxCbGFua0lucHV0KX1cclxuICAgICAgICAgIHZhbHVlPXtpbnB1dFRleHR9XHJcbiAgICAgICAgICBvbkNoYW5nZVRleHQ9e2hhbmRsZUNoYW5nZVRleHQxfVxyXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlIHlvdXIgYW5zd2VyLi4uXCJcclxuICAgICAgICAgIGVkaXRhYmxlPXshc2hvd0ZlZWRiYWNrIHx8ICFpc0NvcnJlY3R9XHJcbiAgICAgICAgICBhdXRvQ2FwaXRhbGl6ZT1cIm5vbmVcIlxyXG4gICAgICAgICAgYXV0b0NvcnJlY3Q9e2ZhbHNlfVxyXG4gICAgICAgIC8+XHJcbiAgICAgIDwvVmlldz5cclxuICAgIDwvVmlldz5cclxuICApO1xyXG5cclxuICAvLyBSZW5kZXIgcG91ciB1biBleGVyY2ljZSBkZSB0cmFuc2Zvcm1hdGlvblxyXG4gIGNvbnN0IHJlbmRlclRyYW5zZm9ybWF0aW9uRXhlcmNpc2UgPSAoKSA9PiAoXHJcbiAgICA8VmlldyBzdHlsZT17c3R5bGVzLmNvbnRhaW5lcn0+XHJcbiAgICAgIDxFeGVyY2lzZUNvbnRlbnQgXHJcbiAgICAgICAgZXhlcmNpc2U9e2V4ZXJjaXNlfVxyXG4gICAgICAgIGxldmVsQ29sb3I9e2xldmVsQ29sb3J9XHJcbiAgICAgICAgdGl0bGU9XCJUcmFuc2Zvcm0gdGhpcyBzZW50ZW5jZVwiXHJcbiAgICAgICAgY29udGVudD17ZXhlcmNpc2Uuc2VudGVuY2V9XHJcbiAgICAgICAgaXNJdGFsaWM9e3RydWV9XHJcbiAgICAgIC8+XHJcblxyXG4gICAgICA8VmlldyBzdHlsZT17c3R5bGVzLmlucHV0U2VjdGlvbn0+XHJcbiAgICAgICAgPFRleHRJbnB1dFxyXG4gICAgICAgICAga2V5PXtgdHJhbnNmb3JtYXRpb24taW5wdXQtJHtleGVyY2lzZUluZGV4fS0ke2F0dGVtcHRzfWB9XHJcbiAgICAgICAgICBzdHlsZT17Z2V0SW5wdXRTdHlsZXMoc2hvd0ZlZWRiYWNrLCBpbnB1dFRleHQsIGV4ZXJjaXNlLmFuc3dlciwgaXNDb3JyZWN0LCBzdHlsZXMsIHN0eWxlcy50cmFuc2Zvcm1hdGlvbklucHV0KX1cclxuICAgICAgICAgIHZhbHVlPXtpbnB1dFRleHR9XHJcbiAgICAgICAgICBvbkNoYW5nZVRleHQ9e2hhbmRsZUNoYW5nZVRleHQyfVxyXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJXcml0ZSB5b3VyIHRyYW5zZm9ybWVkIHNlbnRlbmNlLi4uXCJcclxuICAgICAgICAgIGVkaXRhYmxlPXshc2hvd0ZlZWRiYWNrIHx8ICFpc0NvcnJlY3R9XHJcbiAgICAgICAgICBtdWx0aWxpbmVcclxuICAgICAgICAgIGF1dG9DYXBpdGFsaXplPVwibm9uZVwiXHJcbiAgICAgICAgICBhdXRvQ29ycmVjdD17ZmFsc2V9XHJcbiAgICAgICAgLz5cclxuICAgICAgPC9WaWV3PlxyXG4gICAgPC9WaWV3PlxyXG4gICk7XHJcblxyXG4gIC8vIETDqXRlcm1pbmVyIHF1ZWwgdHlwZSBkJ2V4ZXJjaWNlIGFmZmljaGVyXHJcbiAgaWYgKGV4ZXJjaXNlLnR5cGUgPT09IFwiZmlsbEluVGhlQmxhbmtcIiAmJiBleGVyY2lzZS5vcHRpb25zKSB7XHJcbiAgICByZXR1cm4gcmVuZGVyTXVsdGlwbGVDaG9pY2VFeGVyY2lzZSgpO1xyXG4gIH0gZWxzZSBpZiAoZXhlcmNpc2UudHlwZSA9PT0gXCJmaWxsSW5UaGVCbGFua1wiKSB7XHJcbiAgICByZXR1cm4gcmVuZGVyRmlsbEJsYW5rRXhlcmNpc2UoKTtcclxuICB9IGVsc2UgaWYgKGV4ZXJjaXNlLnR5cGUgPT09IFwidHJhbnNmb3JtYXRpb25cIikge1xyXG4gICAgcmV0dXJuIHJlbmRlclRyYW5zZm9ybWF0aW9uRXhlcmNpc2UoKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuLy8gUHJvcFR5cGVzIHBvdXIgbGUgY29tcG9zYW50IHByaW5jaXBhbCBHcmFtbWFyRXhlcmNpc2VSZW5kZXJlclxyXG5HcmFtbWFyRXhlcmNpc2VSZW5kZXJlci5wcm9wVHlwZXMgPSB7XHJcbiAgZXhlcmNpc2U6IFByb3BUeXBlcy5zaGFwZSh7XHJcbiAgICBxdWVzdGlvbjogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxyXG4gICAgc2VudGVuY2U6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICBvcHRpb25zOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc3RyaW5nKSxcclxuICAgIGFuc3dlcjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm51bWJlcl0pLmlzUmVxdWlyZWQsXHJcbiAgICB0eXBlOiBQcm9wVHlwZXMub25lT2YoWydmaWxsSW5UaGVCbGFuaycsICd0cmFuc2Zvcm1hdGlvbiddKS5pc1JlcXVpcmVkLFxyXG4gIH0pLFxyXG4gIHNlbGVjdGVkT3B0aW9uOiBQcm9wVHlwZXMubnVtYmVyLFxyXG4gIHNldFNlbGVjdGVkT3B0aW9uOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxyXG4gIGlucHV0VGV4dDogUHJvcFR5cGVzLnN0cmluZyxcclxuICBzZXRJbnB1dFRleHQ6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXHJcbiAgc2hvd0ZlZWRiYWNrOiBQcm9wVHlwZXMuYm9vbCxcclxuICBpc0NvcnJlY3Q6IFByb3BUeXBlcy5ib29sLFxyXG4gIGV4ZXJjaXNlSW5kZXg6IFByb3BUeXBlcy5udW1iZXIsXHJcbiAgYXR0ZW1wdHM6IFByb3BUeXBlcy5udW1iZXIsXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBHcmFtbWFyRXhlcmNpc2VSZW5kZXJlcjsiXSwibWFwcGluZ3MiOiI7Ozs7O0FBRUEsSUFBQUEsWUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsbUJBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLFlBQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLFVBQUEsR0FBQUMsc0JBQUEsQ0FBQUosT0FBQTtBQUNBLElBQUFLLFNBQUEsR0FBQUQsc0JBQUEsQ0FBQUosT0FBQTtBQUNBLElBQUFNLGVBQUEsR0FBQUYsc0JBQUEsQ0FBQUosT0FB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