d8971bafe658cf741d60dc3650f7f336
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.withRepeat = void 0;
var _util = require("./util");
var _worklet_1329294093831_init_data = {
  code: "function repeatTs1(_nextAnimation,numberOfReps=2,reverse=false,callback,reduceMotion){const{defineAnimation,getReduceMotionForAnimation}=this.__closure;return defineAnimation(_nextAnimation,function(){'worklet';const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function repeat(animation,now){const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;if(finished){animation.reps+=1;if(nextAnimation.callback){nextAnimation.callback(true,animation.current);}if(animation.reduceMotion||numberOfReps>0&&animation.reps>=numberOfReps){return true;}const startValue=reverse?nextAnimation.current:animation.startValue;if(reverse){nextAnimation.toValue=animation.startValue;animation.startValue=startValue;}nextAnimation.onStart(nextAnimation,startValue,now,nextAnimation.previousAnimation);return false;}return false;}const repCallback=function(finished){if(callback){callback(finished);}if(!finished&&nextAnimation.callback){nextAnimation.callback(false);}};function onStart(animation,value,now,previousAnimation){animation.startValue=value;animation.reps=0;if(nextAnimation.reduceMotion===undefined){nextAnimation.reduceMotion=animation.reduceMotion;}if(animation.reduceMotion&&reverse&&(numberOfReps<=0||numberOfReps%2===0)){animation.current=animation.startValue;animation.onFrame=function(){return true;};}else{nextAnimation.onStart(nextAnimation,value,now,previousAnimation);}}return{isHigherOrder:true,onFrame:repeat,onStart:onStart,reps:0,current:nextAnimation.current,callback:repCallback,startValue:0,reduceMotion:getReduceMotionForAnimation(reduceMotion)};});}",
  location: "C:\\Users\\khi_h\\Desktop\\Projets\\JoudEnglishApp\\node_modules\\react-native-reanimated\\src\\animation\\repeat.ts",
  sourceMap: "{\"version\":3,\"names\":[\"repeatTs1\",\"_nextAnimation\",\"numberOfReps\",\"reverse\",\"callback\",\"reduceMotion\",\"defineAnimation\",\"getReduceMotionForAnimation\",\"__closure\",\"nextAnimation\",\"repeat\",\"animation\",\"now\",\"finished\",\"onFrame\",\"current\",\"reps\",\"startValue\",\"toValue\",\"onStart\",\"previousAnimation\",\"repCallback\",\"value\",\"undefined\",\"isHigherOrder\"],\"sources\":[\"C:/Users/khi_h/Desktop/Projets/JoudEnglishApp/node_modules/react-native-reanimated/src/animation/repeat.ts\"],\"mappings\":\"AAsC0B,SAAAA,SACxBA,CAAAC,cACA,CAAAC,YACA,GAAOC,OAAQ,CACf,MAA4BC,QAC5B,CAAAC,YAC4B,QAAAC,eAAA,CAAAC,2BAAA,OAAAC,SAAA,CAG5B,MAAO,CAAAF,eAAe,CACpBL,cAAc,CACd,UAAuB,CACrB,SAAS,CAET,KAAM,CAAAQ,aAAa,CACjB,MAAO,CAAAR,cAAc,GAAK,UAAU,CAChCA,cAAc,CAAC,CAAC,CAChBA,cAAc,CAEpB,QAAS,CAAAS,MAAMA,CAACC,SAA0B,CAAEC,GAAc,CAAW,CACnE,KAAM,CAAAC,QAAQ,CAAGJ,aAAa,CAACK,OAAO,CAACL,aAAa,CAAEG,GAAG,CAAC,CAC1DD,SAAS,CAACI,OAAO,CAAGN,aAAa,CAACM,OAAO,CACzC,GAAIF,QAAQ,CAAE,CACZF,SAAS,CAACK,IAAI,EAAI,CAAC,CAGnB,GAAIP,aAAa,CAACL,QAAQ,CAAE,CAC1BK,aAAa,CAACL,QAAQ,CAAC,IAAI,CAAiBO,SAAS,CAACI,OAAO,CAAC,CAChE,CACA,GACEJ,SAAS,CAACN,YAAY,EACrBH,YAAY,CAAG,CAAC,EAAIS,SAAS,CAACK,IAAI,EAAId,YAAa,CACpD,CACA,MAAO,KAAI,CACb,CAEA,KAAM,CAAAe,UAAU,CAAGd,OAAO,CACrBM,aAAa,CAACM,OAAO,CACtBJ,SAAS,CAACM,UAAU,CACxB,GAAId,OAAO,CAAE,CACXM,aAAa,CAACS,OAAO,CAAGP,SAAS,CAACM,UAAU,CAC5CN,SAAS,CAACM,UAAU,CAAGA,UAAU,CACnC,CACAR,aAAa,CAACU,OAAO,CACnBV,aAAa,CACbQ,UAAU,CACVL,GAAG,CACHH,aAAa,CAACW,iBAChB,CAAC,CACD,MAAO,MAAK,CACd,CACA,MAAO,MAAK,CACd,CAEA,KAAM,CAAAC,WAAW,CAAG,QAAAA,CAACR,QAAkB,CAAW,CAChD,GAAIT,QAAQ,CAAE,CACZA,QAAQ,CAACS,QAAQ,CAAC,CACpB,CAEA,GAAI,CAACA,QAAQ,EAAIJ,aAAa,CAACL,QAAQ,CAAE,CACvCK,aAAa,CAACL,QAAQ,CAAC,KAAoB,CAAC,CAC9C,CACF,CAAC,CAED,QAAS,CAAAe,OAAOA,CACdR,SAA0B,CAC1BW,KAAsB,CACtBV,GAAc,CACdQ,iBAAwC,CAClC,CACNT,SAAS,CAACM,UAAU,CAAGK,KAAK,CAC5BX,SAAS,CAACK,IAAI,CAAG,CAAC,CAIlB,GAAIP,aAAa,CAACJ,YAAY,GAAKkB,SAAS,CAAE,CAC5Cd,aAAa,CAACJ,YAAY,CAAGM,SAAS,CAACN,YAAY,CACrD,CAIA,GACEM,SAAS,CAACN,YAAY,EACtBF,OAAO,GACND,YAAY,EAAI,CAAC,EAAIA,YAAY,CAAG,CAAC,GAAK,CAAC,CAAC,CAC7C,CACAS,SAAS,CAACI,OAAO,CAAGJ,SAAS,CAACM,UAAU,CACxCN,SAAS,CAACG,OAAO,CAAG,iBAAM,KAAI,GAChC,CAAC,IAAM,CACLL,aAAa,CAACU,OAAO,CAACV,aAAa,CAAEa,KAAK,CAAEV,GAAG,CAAEQ,iBAAiB,CAAC,CACrE,CACF,CAEA,MAAO,CACLI,aAAa,CAAE,IAAI,CACnBV,OAAO,CAAEJ,MAAM,CACfS,OAAO,CAAPA,OAAO,CACPH,IAAI,CAAE,CAAC,CACPD,OAAO,CAAEN,aAAa,CAACM,OAAO,CAC9BX,QAAQ,CAAEiB,WAAW,CACrBJ,UAAU,CAAE,CAAC,CACbZ,YAAY,CAAEE,2BAA2B,CAACF,YAAY,CACxD,CAAC,CACH,CACF,CAAC,CACH\",\"ignoreList\":[]}",
  version: "3.16.7"
};
var _worklet_2447563735451_init_data = {
  code: "function repeatTs2(){const{_nextAnimation,numberOfReps,reverse,callback,getReduceMotionForAnimation,reduceMotion}=this.__closure;const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function repeat(animation,now){const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;if(finished){animation.reps+=1;if(nextAnimation.callback){nextAnimation.callback(true,animation.current);}if(animation.reduceMotion||numberOfReps>0&&animation.reps>=numberOfReps){return true;}const startValue=reverse?nextAnimation.current:animation.startValue;if(reverse){nextAnimation.toValue=animation.startValue;animation.startValue=startValue;}nextAnimation.onStart(nextAnimation,startValue,now,nextAnimation.previousAnimation);return false;}return false;}const repCallback=function(finished){if(callback){callback(finished);}if(!finished&&nextAnimation.callback){nextAnimation.callback(false);}};function onStart(animation,value,now,previousAnimation){animation.startValue=value;animation.reps=0;if(nextAnimation.reduceMotion===undefined){nextAnimation.reduceMotion=animation.reduceMotion;}if(animation.reduceMotion&&reverse&&(numberOfReps<=0||numberOfReps%2===0)){animation.current=animation.startValue;animation.onFrame=function(){return true;};}else{nextAnimation.onStart(nextAnimation,value,now,previousAnimation);}}return{isHigherOrder:true,onFrame:repeat,onStart:onStart,reps:0,current:nextAnimation.current,callback:repCallback,startValue:0,reduceMotion:getReduceMotionForAnimation(reduceMotion)};}",
  location: "C:\\Users\\khi_h\\Desktop\\Projets\\JoudEnglishApp\\node_modules\\react-native-reanimated\\src\\animation\\repeat.ts",
  sourceMap: "{\"version\":3,\"names\":[\"repeatTs2\",\"_nextAnimation\",\"numberOfReps\",\"reverse\",\"callback\",\"getReduceMotionForAnimation\",\"reduceMotion\",\"__closure\",\"nextAnimation\",\"repeat\",\"animation\",\"now\",\"finished\",\"onFrame\",\"current\",\"reps\",\"startValue\",\"toValue\",\"onStart\",\"previousAnimation\",\"repCallback\",\"value\",\"undefined\",\"isHigherOrder\"],\"sources\":[\"C:/Users/khi_h/Desktop/Projets/JoudEnglishApp/node_modules/react-native-reanimated/src/animation/repeat.ts\"],\"mappings\":\"AAiDI,SAAAA,SAAuBA,CAAA,QAAAC,cAAA,CAAAC,YAAA,CAAAC,OAAA,CAAAC,QAAA,CAAAC,2BAAA,CAAAC,YAAA,OAAAC,SAAA,CAGrB,KAAM,CAAAC,aAAa,CACjB,MAAO,CAAAP,cAAc,GAAK,UAAU,CAChCA,cAAc,CAAC,CAAC,CAChBA,cAAc,CAEpB,QAAS,CAAAQ,MAAMA,CAACC,SAA0B,CAAEC,GAAc,CAAW,CACnE,KAAM,CAAAC,QAAQ,CAAGJ,aAAa,CAACK,OAAO,CAACL,aAAa,CAAEG,GAAG,CAAC,CAC1DD,SAAS,CAACI,OAAO,CAAGN,aAAa,CAACM,OAAO,CACzC,GAAIF,QAAQ,CAAE,CACZF,SAAS,CAACK,IAAI,EAAI,CAAC,CAGnB,GAAIP,aAAa,CAACJ,QAAQ,CAAE,CAC1BI,aAAa,CAACJ,QAAQ,CAAC,IAAI,CAAiBM,SAAS,CAACI,OAAO,CAAC,CAChE,CACA,GACEJ,SAAS,CAACJ,YAAY,EACrBJ,YAAY,CAAG,CAAC,EAAIQ,SAAS,CAACK,IAAI,EAAIb,YAAa,CACpD,CACA,MAAO,KAAI,CACb,CAEA,KAAM,CAAAc,UAAU,CAAGb,OAAO,CACrBK,aAAa,CAACM,OAAO,CACtBJ,SAAS,CAACM,UAAU,CACxB,GAAIb,OAAO,CAAE,CACXK,aAAa,CAACS,OAAO,CAAGP,SAAS,CAACM,UAAU,CAC5CN,SAAS,CAACM,UAAU,CAAGA,UAAU,CACnC,CACAR,aAAa,CAACU,OAAO,CACnBV,aAAa,CACbQ,UAAU,CACVL,GAAG,CACHH,aAAa,CAACW,iBAChB,CAAC,CACD,MAAO,MAAK,CACd,CACA,MAAO,MAAK,CACd,CAEA,KAAM,CAAAC,WAAW,CAAG,QAAAA,CAACR,QAAkB,CAAW,CAChD,GAAIR,QAAQ,CAAE,CACZA,QAAQ,CAACQ,QAAQ,CAAC,CACpB,CAEA,GAAI,CAACA,QAAQ,EAAIJ,aAAa,CAACJ,QAAQ,CAAE,CACvCI,aAAa,CAACJ,QAAQ,CAAC,KAAoB,CAAC,CAC9C,CACF,CAAC,CAED,QAAS,CAAAc,OAAOA,CACdR,SAA0B,CAC1BW,KAAsB,CACtBV,GAAc,CACdQ,iBAAwC,CAClC,CACNT,SAAS,CAACM,UAAU,CAAGK,KAAK,CAC5BX,SAAS,CAACK,IAAI,CAAG,CAAC,CAIlB,GAAIP,aAAa,CAACF,YAAY,GAAKgB,SAAS,CAAE,CAC5Cd,aAAa,CAACF,YAAY,CAAGI,SAAS,CAACJ,YAAY,CACrD,CAIA,GACEI,SAAS,CAACJ,YAAY,EACtBH,OAAO,GACND,YAAY,EAAI,CAAC,EAAIA,YAAY,CAAG,CAAC,GAAK,CAAC,CAAC,CAC7C,CACAQ,SAAS,CAACI,OAAO,CAAGJ,SAAS,CAACM,UAAU,CACxCN,SAAS,CAACG,OAAO,CAAG,iBAAM,KAAI,GAChC,CAAC,IAAM,CACLL,aAAa,CAACU,OAAO,CAACV,aAAa,CAAEa,KAAK,CAAEV,GAAG,CAAEQ,iBAAiB,CAAC,CACrE,CACF,CAEA,MAAO,CACLI,aAAa,CAAE,IAAI,CACnBV,OAAO,CAAEJ,MAAM,CACfS,OAAO,CAAPA,OAAO,CACPH,IAAI,CAAE,CAAC,CACPD,OAAO,CAAEN,aAAa,CAACM,OAAO,CAC9BV,QAAQ,CAAEgB,WAAW,CACrBJ,UAAU,CAAE,CAAC,CACbV,YAAY,CAAED,2BAA2B,CAACC,YAAY,CACxD,CAAC,CACH\",\"ignoreList\":[]}",
  version: "3.16.7"
};
var withRepeat = exports.withRepeat = function () {
  var _e = [new global.Error(), -3, -27];
  var repeatTs1 = function repeatTs1(_nextAnimation) {
    var numberOfReps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;
    var reverse = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
    var callback = arguments.length > 3 ? arguments[3] : undefined;
    var reduceMotion = arguments.length > 4 ? arguments[4] : undefined;
    return (0, _util.defineAnimation)(_nextAnimation, function () {
      var _e = [new global.Error(), -7, -27];
      var repeatTs2 = function repeatTs2() {
        var nextAnimation = typeof _nextAnimation === 'function' ? _nextAnimation() : _nextAnimation;
        function repeat(animation, now) {
          var finished = nextAnimation.onFrame(nextAnimation, now);
          animation.current = nextAnimation.current;
          if (finished) {
            animation.reps += 1;
            if (nextAnimation.callback) {
              nextAnimation.callback(true, animation.current);
            }
            if (animation.reduceMotion || numberOfReps > 0 && animation.reps >= numberOfReps) {
              return true;
            }
            var startValue = reverse ? nextAnimation.current : animation.startValue;
            if (reverse) {
              nextAnimation.toValue = animation.startValue;
              animation.startValue = startValue;
            }
            nextAnimation.onStart(nextAnimation, startValue, now, nextAnimation.previousAnimation);
            return false;
          }
          return false;
        }
        var repCallback = function repCallback(finished) {
          if (callback) {
            callback(finished);
          }
          if (!finished && nextAnimation.callback) {
            nextAnimation.callback(false);
          }
        };
        function onStart(animation, value, now, previousAnimation) {
          animation.startValue = value;
          animation.reps = 0;
          if (nextAnimation.reduceMotion === undefined) {
            nextAnimation.reduceMotion = animation.reduceMotion;
          }
          if (animation.reduceMotion && reverse && (numberOfReps <= 0 || numberOfReps % 2 === 0)) {
            animation.current = animation.startValue;
            animation.onFrame = function () {
              return true;
            };
          } else {
            nextAnimation.onStart(nextAnimation, value, now, previousAnimation);
          }
        }
        return {
          isHigherOrder: true,
          onFrame: repeat,
          onStart: onStart,
          reps: 0,
          current: nextAnimation.current,
          callback: repCallback,
          startValue: 0,
          reduceMotion: (0, _util.getReduceMotionForAnimation)(reduceMotion)
        };
      };
      repeatTs2.__closure = {
        _nextAnimation: _nextAnimation,
        numberOfReps: numberOfReps,
        reverse: reverse,
        callback: callback,
        getReduceMotionForAnimation: _util.getReduceMotionForAnimation,
        reduceMotion: reduceMotion
      };
      repeatTs2.__workletHash = 2447563735451;
      repeatTs2.__initData = _worklet_2447563735451_init_data;
      repeatTs2.__stackDetails = _e;
      return repeatTs2;
    }());
  };
  repeatTs1.__closure = {
    defineAnimation: _util.defineAnimation,
    getReduceMotionForAnimation: _util.getReduceMotionForAnimation
  };
  repeatTs1.__workletHash = 1329294093831;
  repeatTs1.__initData = _worklet_1329294093831_init_data;
  repeatTs1.__stackDetails = _e;
  return repeatTs1;
}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIndpdGhSZXBlYXQiLCJfdXRpbCIsInJlcXVpcmUiLCJfd29ya2xldF8xMzI5Mjk0MDkzODMxX2luaXRfZGF0YSIsImNvZGUiLCJsb2NhdGlvbiIsInNvdXJjZU1hcCIsInZlcnNpb24iLCJfd29ya2xldF8yNDQ3NTYzNzM1NDUxX2luaXRfZGF0YSIsIl9lIiwiZ2xvYmFsIiwiRXJyb3IiLCJyZXBlYXRUczEiLCJfbmV4dEFuaW1hdGlvbiIsIm51bWJlck9mUmVwcyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInJldmVyc2UiLCJjYWxsYmFjayIsInJlZHVjZU1vdGlvbiIsImRlZmluZUFuaW1hdGlvbiIsInJlcGVhdFRzMiIsIm5leHRBbmltYXRpb24iLCJyZXBlYXQiLCJhbmltYXRpb24iLCJub3ciLCJmaW5pc2hlZCIsIm9uRnJhbWUiLCJjdXJyZW50IiwicmVwcyIsInN0YXJ0VmFsdWUiLCJ0b1ZhbHVlIiwib25TdGFydCIsInByZXZpb3VzQW5pbWF0aW9uIiwicmVwQ2FsbGJhY2siLCJpc0hpZ2hlck9yZGVyIiwiZ2V0UmVkdWNlTW90aW9uRm9yQW5pbWF0aW9uIiwiX19jbG9zdXJlIiwiX193b3JrbGV0SGFzaCIsIl9faW5pdERhdGEiLCJfX3N0YWNrRGV0YWlscyJdLCJzb3VyY2VzIjpbInJlcGVhdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBkZWZpbmVBbmltYXRpb24sIGdldFJlZHVjZU1vdGlvbkZvckFuaW1hdGlvbiB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgdHlwZSB7XG4gIEFuaW1hdGlvbixcbiAgQW5pbWF0aW9uQ2FsbGJhY2ssXG4gIEFuaW1hdGFibGVWYWx1ZSxcbiAgVGltZXN0YW1wLFxuICBBbmltYXRpb25PYmplY3QsXG4gIFJlZHVjZU1vdGlvbixcbn0gZnJvbSAnLi4vY29tbW9uVHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBSZXBlYXRBbmltYXRpb24gfSBmcm9tICcuL2NvbW1vblR5cGVzJztcblxuLy8gVE9ETyBUWVBFU0NSSVBUIFRoaXMgaXMgYSB0ZW1wb3JhcnkgdHlwZSB0byBnZXQgcmlkIG9mIC5kLnRzIGZpbGUuXG50eXBlIHdpdGhSZXBlYXRUeXBlID0gPFQgZXh0ZW5kcyBBbmltYXRhYmxlVmFsdWU+KFxuICBhbmltYXRpb246IFQsXG4gIG51bWJlck9mUmVwcz86IG51bWJlcixcbiAgcmV2ZXJzZT86IGJvb2xlYW4sXG4gIGNhbGxiYWNrPzogQW5pbWF0aW9uQ2FsbGJhY2ssXG4gIHJlZHVjZU1vdGlvbj86IFJlZHVjZU1vdGlvblxuKSA9PiBUO1xuXG4vKipcbiAqIExldHMgeW91IHJlcGVhdCBhbiBhbmltYXRpb24gZ2l2ZW4gbnVtYmVyIG9mIHRpbWVzIG9yIHJ1biBpdCBpbmRlZmluaXRlbHkuXG4gKlxuICogQHBhcmFtIGFuaW1hdGlvbiAtIEFuIGFuaW1hdGlvbiBvYmplY3QgeW91IHdhbnQgdG8gcmVwZWF0LlxuICogQHBhcmFtIG51bWJlck9mUmVwcyAtIFRoZSBudW1iZXIgb2YgdGltZXMgdGhlIGFuaW1hdGlvbiBpcyBnb2luZyB0byBiZVxuICogICByZXBlYXRlZC4gRGVmYXVsdHMgdG8gMi5cbiAqIEBwYXJhbSByZXZlcnNlIC0gV2hldGhlciB0aGUgYW5pbWF0aW9uIHNob3VsZCBydW4gaW4gcmV2ZXJzZSBldmVyeSBvdGhlclxuICogICByZXBldGl0aW9uLiBEZWZhdWx0cyB0byBmYWxzZS5cbiAqIEBwYXJhbSBjYWxsYmFjayAtIEEgZnVuY3Rpb24gY2FsbGVkIG9uIGFuaW1hdGlvbiBjb21wbGV0ZS5cbiAqIEBwYXJhbSByZWR1Y2VNb3Rpb24gLSBEZXRlcm1pbmVzIGhvdyB0aGUgYW5pbWF0aW9uIHJlc3BvbmRzIHRvIHRoZSBkZXZpY2Unc1xuICogICByZWR1Y2VkIG1vdGlvbiBhY2Nlc3NpYmlsaXR5IHNldHRpbmcuIERlZmF1bHQgdG8gYFJlZHVjZU1vdGlvbi5TeXN0ZW1gIC1cbiAqICAge0BsaW5rIFJlZHVjZU1vdGlvbn0uXG4gKiBAcmV0dXJucyBBbiBbYW5pbWF0aW9uXG4gKiAgIG9iamVjdF0oaHR0cHM6Ly9kb2NzLnN3bWFuc2lvbi5jb20vcmVhY3QtbmF0aXZlLXJlYW5pbWF0ZWQvZG9jcy9mdW5kYW1lbnRhbHMvZ2xvc3NhcnkjYW5pbWF0aW9uLW9iamVjdClcbiAqICAgd2hpY2ggaG9sZHMgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGFuaW1hdGlvbi5cbiAqIEBzZWUgaHR0cHM6Ly9kb2NzLnN3bWFuc2lvbi5jb20vcmVhY3QtbmF0aXZlLXJlYW5pbWF0ZWQvZG9jcy9hbmltYXRpb25zL3dpdGhSZXBlYXRcbiAqL1xuZXhwb3J0IGNvbnN0IHdpdGhSZXBlYXQgPSBmdW5jdGlvbiA8VCBleHRlbmRzIEFuaW1hdGlvbk9iamVjdD4oXG4gIF9uZXh0QW5pbWF0aW9uOiBUIHwgKCgpID0+IFQpLFxuICBudW1iZXJPZlJlcHMgPSAyLFxuICByZXZlcnNlID0gZmFsc2UsXG4gIGNhbGxiYWNrPzogQW5pbWF0aW9uQ2FsbGJhY2ssXG4gIHJlZHVjZU1vdGlvbj86IFJlZHVjZU1vdGlvblxuKTogQW5pbWF0aW9uPFJlcGVhdEFuaW1hdGlvbj4ge1xuICAnd29ya2xldCc7XG5cbiAgcmV0dXJuIGRlZmluZUFuaW1hdGlvbjxSZXBlYXRBbmltYXRpb24sIFQ+KFxuICAgIF9uZXh0QW5pbWF0aW9uLFxuICAgICgpOiBSZXBlYXRBbmltYXRpb24gPT4ge1xuICAgICAgJ3dvcmtsZXQnO1xuXG4gICAgICBjb25zdCBuZXh0QW5pbWF0aW9uID1cbiAgICAgICAgdHlwZW9mIF9uZXh0QW5pbWF0aW9uID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgPyBfbmV4dEFuaW1hdGlvbigpXG4gICAgICAgICAgOiBfbmV4dEFuaW1hdGlvbjtcblxuICAgICAgZnVuY3Rpb24gcmVwZWF0KGFuaW1hdGlvbjogUmVwZWF0QW5pbWF0aW9uLCBub3c6IFRpbWVzdGFtcCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBmaW5pc2hlZCA9IG5leHRBbmltYXRpb24ub25GcmFtZShuZXh0QW5pbWF0aW9uLCBub3cpO1xuICAgICAgICBhbmltYXRpb24uY3VycmVudCA9IG5leHRBbmltYXRpb24uY3VycmVudDtcbiAgICAgICAgaWYgKGZpbmlzaGVkKSB7XG4gICAgICAgICAgYW5pbWF0aW9uLnJlcHMgKz0gMTtcbiAgICAgICAgICAvLyBjYWxsIGlubmVyIGFuaW1hdGlvbidzIGNhbGxiYWNrIG9uIGV2ZXJ5IHJlcGV0aXRpb25cbiAgICAgICAgICAvLyBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHRoZSBhbmltYXRpb24ncyBjdXJyZW50IHZhbHVlIGlzIHBhc3NlZFxuICAgICAgICAgIGlmIChuZXh0QW5pbWF0aW9uLmNhbGxiYWNrKSB7XG4gICAgICAgICAgICBuZXh0QW5pbWF0aW9uLmNhbGxiYWNrKHRydWUgLyogZmluaXNoZWQgKi8sIGFuaW1hdGlvbi5jdXJyZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgYW5pbWF0aW9uLnJlZHVjZU1vdGlvbiB8fFxuICAgICAgICAgICAgKG51bWJlck9mUmVwcyA+IDAgJiYgYW5pbWF0aW9uLnJlcHMgPj0gbnVtYmVyT2ZSZXBzKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3Qgc3RhcnRWYWx1ZSA9IHJldmVyc2VcbiAgICAgICAgICAgID8gKG5leHRBbmltYXRpb24uY3VycmVudCBhcyBudW1iZXIpXG4gICAgICAgICAgICA6IGFuaW1hdGlvbi5zdGFydFZhbHVlO1xuICAgICAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgICAgICBuZXh0QW5pbWF0aW9uLnRvVmFsdWUgPSBhbmltYXRpb24uc3RhcnRWYWx1ZTtcbiAgICAgICAgICAgIGFuaW1hdGlvbi5zdGFydFZhbHVlID0gc3RhcnRWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbmV4dEFuaW1hdGlvbi5vblN0YXJ0KFxuICAgICAgICAgICAgbmV4dEFuaW1hdGlvbixcbiAgICAgICAgICAgIHN0YXJ0VmFsdWUsXG4gICAgICAgICAgICBub3csXG4gICAgICAgICAgICBuZXh0QW5pbWF0aW9uLnByZXZpb3VzQW5pbWF0aW9uIGFzIFJlcGVhdEFuaW1hdGlvblxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVwQ2FsbGJhY2sgPSAoZmluaXNoZWQ/OiBib29sZWFuKTogdm9pZCA9PiB7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgIGNhbGxiYWNrKGZpbmlzaGVkKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB3aGVuIGNhbmNlbGxlZCBjYWxsIGlubmVyIGFuaW1hdGlvbidzIGNhbGxiYWNrXG4gICAgICAgIGlmICghZmluaXNoZWQgJiYgbmV4dEFuaW1hdGlvbi5jYWxsYmFjaykge1xuICAgICAgICAgIG5leHRBbmltYXRpb24uY2FsbGJhY2soZmFsc2UgLyogZmluaXNoZWQgKi8pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBvblN0YXJ0KFxuICAgICAgICBhbmltYXRpb246IFJlcGVhdEFuaW1hdGlvbixcbiAgICAgICAgdmFsdWU6IEFuaW1hdGFibGVWYWx1ZSxcbiAgICAgICAgbm93OiBUaW1lc3RhbXAsXG4gICAgICAgIHByZXZpb3VzQW5pbWF0aW9uOiBBbmltYXRpb248YW55PiB8IG51bGxcbiAgICAgICk6IHZvaWQge1xuICAgICAgICBhbmltYXRpb24uc3RhcnRWYWx1ZSA9IHZhbHVlO1xuICAgICAgICBhbmltYXRpb24ucmVwcyA9IDA7XG5cbiAgICAgICAgLy8gY2hpbGQgYW5pbWF0aW9ucyBpbmhlcml0IHRoZSBzZXR0aW5nLCB1bmxlc3MgdGhleSBhbHJlYWR5IGhhdmUgaXQgZGVmaW5lZFxuICAgICAgICAvLyB0aGV5IHdpbGwgaGF2ZSBpdCBkZWZpbmVkIG9ubHkgaWYgdGhlIHVzZXIgdXNlZCB0aGUgYHJlZHVjZU1vdGlvbmAgcHJvcFxuICAgICAgICBpZiAobmV4dEFuaW1hdGlvbi5yZWR1Y2VNb3Rpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG5leHRBbmltYXRpb24ucmVkdWNlTW90aW9uID0gYW5pbWF0aW9uLnJlZHVjZU1vdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRvbid0IHN0YXJ0IHRoZSBhbmltYXRpb24gaWYgcmVkdWNlZCBtb3Rpb24gaXMgZW5hYmxlZCBhbmRcbiAgICAgICAgLy8gdGhlIGFuaW1hdGlvbiB3b3VsZCBlbmQgYXQgaXRzIHN0YXJ0aW5nIHBvaW50XG4gICAgICAgIGlmIChcbiAgICAgICAgICBhbmltYXRpb24ucmVkdWNlTW90aW9uICYmXG4gICAgICAgICAgcmV2ZXJzZSAmJlxuICAgICAgICAgIChudW1iZXJPZlJlcHMgPD0gMCB8fCBudW1iZXJPZlJlcHMgJSAyID09PSAwKVxuICAgICAgICApIHtcbiAgICAgICAgICBhbmltYXRpb24uY3VycmVudCA9IGFuaW1hdGlvbi5zdGFydFZhbHVlO1xuICAgICAgICAgIGFuaW1hdGlvbi5vbkZyYW1lID0gKCkgPT4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0QW5pbWF0aW9uLm9uU3RhcnQobmV4dEFuaW1hdGlvbiwgdmFsdWUsIG5vdywgcHJldmlvdXNBbmltYXRpb24pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzSGlnaGVyT3JkZXI6IHRydWUsXG4gICAgICAgIG9uRnJhbWU6IHJlcGVhdCxcbiAgICAgICAgb25TdGFydCxcbiAgICAgICAgcmVwczogMCxcbiAgICAgICAgY3VycmVudDogbmV4dEFuaW1hdGlvbi5jdXJyZW50LFxuICAgICAgICBjYWxsYmFjazogcmVwQ2FsbGJhY2ssXG4gICAgICAgIHN0YXJ0VmFsdWU6IDAsXG4gICAgICAgIHJlZHVjZU1vdGlvbjogZ2V0UmVkdWNlTW90aW9uRm9yQW5pbWF0aW9uKHJlZHVjZU1vdGlvbiksXG4gICAgICB9O1xuICAgIH1cbiAgKTtcbn0gYXMgd2l0aFJlcGVhdFR5cGU7XG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQUNBLE1BQUEsQ0FBQUMsY0FBQSxDQUFBQyxPQUFBO0VBQUFDLEtBQUE7QUFBQTtBQUFBRCxPQUFBLENBQUFFLFVBQUE7QUFDYixJQUFBQyxLQUFBLEdBQUFDLE9BQUE7QUFBc0UsSUFBQUMsZ0NBQUE7RUFBQUMsSUFBQTtFQUFBQyxRQUFBO0VBQUFDLFNBQUE7RUFBQUMsT0FBQTtBQUFBO0FBQUEsSUFBQUMsZ0NBQUE7RUFBQUosSUFBQTtFQUFBQyxRQUFBO0VBQUFDLFNBQUE7RUFBQUMsT0FBQTtBQUFBO0FBcUMvRCxJQUFNUCxVQUFVLEdBQUFGLE9BQUEsQ0FBQUUsVUFBQSxHQUFHO0VBQUEsSUFBQVMsRUFBQSxRQUFBQyxNQUFBLENBQUFDLEtBQUE7RUFBQSxJQUFBQyxTQUFBLFlBQUFBLFVBQ3hCQyxjQUE2QixFQUtEO0lBQUEsSUFKNUJDLFlBQVksR0FBQUMsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsQ0FBQztJQUFBLElBQ2hCRyxPQUFPLEdBQUFILFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLEtBQUs7SUFBQSxJQUNmSSxRQUE0QixHQUFBSixTQUFBLENBQUFDLE1BQUEsT0FBQUQsU0FBQSxNQUFBRSxTQUFBO0lBQUEsSUFDNUJHLFlBQTJCLEdBQUFMLFNBQUEsQ0FBQUMsTUFBQSxPQUFBRCxTQUFBLE1BQUFFLFNBQUE7SUFJM0IsT0FBTyxJQUFBSSxxQkFBZSxFQUNwQlIsY0FBYyxFQUNkO01BQUEsSUFBQUosRUFBQSxRQUFBQyxNQUFBLENBQUFDLEtBQUE7TUFBQSxJQUFB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