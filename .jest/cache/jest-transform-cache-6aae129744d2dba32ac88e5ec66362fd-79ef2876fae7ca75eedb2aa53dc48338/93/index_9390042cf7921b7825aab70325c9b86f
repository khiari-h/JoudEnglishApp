2757625b9d4d643aff5a80add371f06d
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _reactNative = require("react-native");
var _expoRouter = require("expo-router");
var _propTypes = _interopRequireDefault(require("prop-types"));
var _Container = _interopRequireWildcard(require("../../../components/layout/Container"));
var _ReadingHeader = _interopRequireDefault(require("./ReadingHeader"));
var _ReadingTextSelector = _interopRequireDefault(require("./ReadingTextSelector"));
var _ReadingProgress = _interopRequireDefault(require("./ReadingProgress"));
var _ReadingText = _interopRequireDefault(require("./ReadingText"));
var _ReadingQuestionCard = _interopRequireDefault(require("./ReadingQuestionCard"));
var _QuestionIndicators = _interopRequireDefault(require("./QuestionIndicators"));
var _ReadingNavigation = _interopRequireDefault(require("./ReadingNavigation"));
var _ExerciseFeedback = _interopRequireDefault(require("../../../components/exercise-common/ExerciseFeedback"));
var _InstructionBox = _interopRequireDefault(require("../../../components/exercise-common/InstructionBox"));
var _useReading2 = _interopRequireDefault(require("./hooks/useReading"));
var _useLastActivity2 = _interopRequireDefault(require("../../../hooks/useLastActivity"));
var _readingDataHelper = require("../../../utils/reading/readingDataHelper");
var _style = _interopRequireDefault(require("./style"));
var _react = require("react");
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
var ReadingExercise = function ReadingExercise(_ref) {
  var route = _ref.route;
  var _ref2 = (route == null ? void 0 : route.params) || {},
    _ref2$level = _ref2.level,
    level = _ref2$level === void 0 ? "A1" : _ref2$level;
  var styles = (0, _style.default)();
  var _useLastActivity = (0, _useLastActivity2.default)(),
    saveActivity = _useLastActivity.saveActivity;
  var levelColor = (0, _readingDataHelper.getLevelColor)(level);
  var _useState = (0, _react.useState)(process.env.JEST_WORKER_ID ? (0, _readingDataHelper.getReadingData)(level) : null),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    readingData = _useState2[0],
    setReadingData = _useState2[1];
  var exercises = (readingData == null ? void 0 : readingData.exercises) || [];
  (0, _react.useEffect)(function () {
    var isMounted = true;
    var load = function () {
      var _ref3 = (0, _asyncToGenerator2.default)(function* () {
        if (process.env.JEST_WORKER_ID) {
          var _data = (0, _readingDataHelper.getReadingData)(level);
          if (isMounted) setReadingData(_data);
          return;
        }
        var data = yield (0, _readingDataHelper.loadReadingData)(level);
        if (isMounted) setReadingData(data);
      });
      return function load() {
        return _ref3.apply(this, arguments);
      };
    }();
    load();
    return function () {
      isMounted = false;
    };
  }, [level]);
  var _useReading = (0, _useReading2.default)(exercises, level),
    selectedExerciseIndex = _useReading.selectedExerciseIndex,
    currentQuestionIndex = _useReading.currentQuestionIndex,
    selectedAnswer = _useReading.selectedAnswer,
    showFeedback = _useReading.showFeedback,
    textExpanded = _useReading.textExpanded,
    attempts = _useReading.attempts,
    completedQuestions = _useReading.completedQuestions,
    loaded = _useReading.loaded,
    showDetailedProgress = _useReading.showDetailedProgress,
    currentExercise = _useReading.currentExercise,
    currentQuestion = _useReading.currentQuestion,
    totalQuestions = _useReading.totalQuestions,
    isCorrect = _useReading.isCorrect,
    changeExercise = _useReading.changeExercise,
    changeQuestion = _useReading.changeQuestion,
    selectAnswer = _useReading.selectAnswer,
    submitAnswer = _useReading.submitAnswer,
    nextQuestion = _useReading.nextQuestion,
    previousQuestion = _useReading.previousQuestion,
    retryQuestion = _useReading.retryQuestion,
    toggleTextExpansion = _useReading.toggleTextExpansion,
    toggleDetailedProgress = _useReading.toggleDetailedProgress,
    scrollViewRef = _useReading.scrollViewRef,
    textsScrollViewRef = _useReading.textsScrollViewRef,
    fadeAnim = _useReading.fadeAnim,
    slideAnim = _useReading.slideAnim;
  (0, _react.useEffect)(function () {
    if (!loaded || exercises.length === 0 || !currentExercise || !currentQuestion) return;
    try {
      saveActivity({
        title: "Lecture",
        level: level,
        type: "reading",
        metadata: {
          word: selectedExerciseIndex,
          totalWords: exercises.length,
          exercise: selectedExerciseIndex,
          question: currentQuestionIndex,
          totalQuestions: totalQuestions,
          exerciseTitle: currentExercise.title || `Texte ${selectedExerciseIndex + 1}`,
          totalExercises: exercises.length
        }
      });
    } catch (error) {
      console.error('Error saving activity:', error);
    }
  }, [selectedExerciseIndex, currentQuestionIndex]);
  var handleBackPress = (0, _react.useCallback)(function () {
    _expoRouter.router.push({
      pathname: "/tabs/exerciseSelection",
      params: {
        level: level
      }
    });
  }, [level]);
  var handleNext = (0, _react.useCallback)(function () {
    if (showFeedback) {
      nextQuestion();
    } else {
      submitAnswer();
    }
  }, [showFeedback, nextQuestion, submitAnswer]);
  var handleExerciseProgressPress = (0, _react.useCallback)(function (index) {
    changeExercise(index);
  }, [changeExercise]);
  var handleToggleProgressDetails = (0, _react.useCallback)(function () {
    toggleDetailedProgress();
  }, [toggleDetailedProgress]);
  if (!loaded || !exercises.length) {
    return (0, _jsxRuntime.jsx)(_Container.default, {
      safeArea: true,
      safeAreaEdges: _Container.CONTAINER_SAFE_EDGES.ALL,
      backgroundColor: "#f8fafc",
      statusBarStyle: "dark-content",
      children: (0, _jsxRuntime.jsx)(_reactNative.View, {
        style: styles.loadingContainer,
        children: (0, _jsxRuntime.jsx)(_reactNative.ActivityIndicator, {
          size: "large",
          color: levelColor,
          testID: "activity-indicator"
        })
      })
    });
  }
  return (0, _jsxRuntime.jsxs)(_Container.default, {
    safeArea: true,
    safeAreaEdges: _Container.CONTAINER_SAFE_EDGES.ALL,
    withScrollView: true,
    backgroundColor: "#f8fafc",
    statusBarStyle: "dark-content",
    withPadding: false,
    scrollViewProps: {
      ref: scrollViewRef,
      showsVerticalScrollIndicator: false,
      contentContainerStyle: styles.scrollContent
    },
    children: [(0, _jsxRuntime.jsx)(_ReadingHeader.default, {
      level: level,
      onBackPress: handleBackPress
    }), (0, _jsxRuntime.jsx)(_ReadingProgress.default, {
      readingData: readingData,
      completedQuestions: completedQuestions,
      levelColor: levelColor,
      expanded: showDetailedProgress,
      onToggleExpand: handleToggleProgressDetails,
      onExercisePress: handleExerciseProgressPress
    }), (0, _jsxRuntime.jsx)(_ReadingTextSelector.default, {
      exercises: exercises,
      selectedIndex: selectedExerciseIndex,
      onSelectExercise: changeExercise,
      scrollViewRef: textsScrollViewRef,
      levelColor: levelColor
    }), (0, _jsxRuntime.jsx)(_InstructionBox.default, {
      title: "\uD83D\uDCD6 Reading Exercise",
      instructions: "Read the text carefully and answer the questions.",
      variant: "compact",
      primaryColor: levelColor,
      initiallyExpanded: false
    }), (0, _jsxRuntime.jsx)(_ReadingText.default, {
      exercise: currentExercise,
      textExpanded: textExpanded,
      onToggleExpand: toggleTextExpansion,
      levelColor: levelColor
    }), currentQuestion && (0, _jsxRuntime.jsx)(_ReadingQuestionCard.default, {
      question: currentQuestion,
      questionIndex: currentQuestionIndex,
      selectedAnswer: selectedAnswer,
      onSelectAnswer: selectAnswer,
      showFeedback: showFeedback,
      fadeAnim: fadeAnim,
      slideAnim: slideAnim,
      levelColor: levelColor
    }), showFeedback && currentQuestion && (0, _jsxRuntime.jsx)(_ExerciseFeedback.default, {
      type: isCorrect ? "success" : "error",
      message: isCorrect ? "ðŸŽ‰ Perfect!" : "ðŸ¤” Not quite...",
      explanation: isCorrect ? currentQuestion.explanation : attempts > 1 ? `ðŸ’¡ The correct answer is: ${currentQuestion.options[currentQuestion.correctAnswer]}` : "ðŸ’ª Try again!",
      showDismissButton: false
    }), (0, _jsxRuntime.jsx)(_QuestionIndicators.default, {
      totalQuestions: totalQuestions,
      currentQuestionIndex: currentQuestionIndex,
      completedQuestions: completedQuestions[selectedExerciseIndex] || [],
      onSelectQuestion: changeQuestion,
      levelColor: levelColor
    }), (0, _jsxRuntime.jsx)(_ReadingNavigation.default, {
      showFeedback: showFeedback,
      isCorrect: isCorrect,
      selectedAnswer: selectedAnswer,
      currentQuestionIndex: currentQuestionIndex,
      totalQuestions: totalQuestions,
      attempts: attempts,
      levelColor: levelColor,
      onNext: handleNext,
      onPrevious: previousQuestion,
      onRetry: retryQuestion
    })]
  });
};
var _default = exports.default = ReadingExercise;
ReadingExercise.propTypes = {
  route: _propTypes.default.shape({
    params: _propTypes.default.shape({
      level: _propTypes.default.string
    })
  }).isRequired
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3ROYXRpdmUiLCJyZXF1aXJlIiwiX2V4cG9Sb3V0ZXIiLCJfcHJvcFR5cGVzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9Db250YWluZXIiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9SZWFkaW5nSGVhZGVyIiwiX1JlYWRpbmdUZXh0U2VsZWN0b3IiLCJfUmVhZGluZ1Byb2dyZXNzIiwiX1JlYWRpbmdUZXh0IiwiX1JlYWRpbmdRdWVzdGlvbkNhcmQiLCJfUXVlc3Rpb25JbmRpY2F0b3JzIiwiX1JlYWRpbmdOYXZpZ2F0aW9uIiwiX0V4ZXJjaXNlRmVlZGJhY2siLCJfSW5zdHJ1Y3Rpb25Cb3giLCJfdXNlUmVhZGluZzIiLCJfdXNlTGFzdEFjdGl2aXR5MiIsIl9yZWFkaW5nRGF0YUhlbHBlciIsIl9zdHlsZSIsIl9yZWFjdCIsIl9qc3hSdW50aW1lIiwiZSIsInQiLCJXZWFrTWFwIiwiciIsIm4iLCJfX2VzTW9kdWxlIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiZGVmYXVsdCIsImhhcyIsImdldCIsInNldCIsIl90IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJSZWFkaW5nRXhlcmNpc2UiLCJfcmVmIiwicm91dGUiLCJfcmVmMiIsInBhcmFtcyIsIl9yZWYyJGxldmVsIiwibGV2ZWwiLCJzdHlsZXMiLCJjcmVhdGVTdHlsZXMiLCJfdXNlTGFzdEFjdGl2aXR5IiwidXNlTGFzdEFjdGl2aXR5Iiwic2F2ZUFjdGl2aXR5IiwibGV2ZWxDb2xvciIsImdldExldmVsQ29sb3IiLCJfdXNlU3RhdGUiLCJ1c2VTdGF0ZSIsInByb2Nlc3MiLCJlbnYiLCJKRVNUX1dPUktFUl9JRCIsImdldFJlYWRpbmdEYXRhIiwiX3VzZVN0YXRlMiIsIl9zbGljZWRUb0FycmF5MiIsInJlYWRpbmdEYXRhIiwic2V0UmVhZGluZ0RhdGEiLCJleGVyY2lzZXMiLCJ1c2VFZmZlY3QiLCJpc01vdW50ZWQiLCJsb2FkIiwiX3JlZjMiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJkYXRhIiwibG9hZFJlYWRpbmdEYXRhIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfdXNlUmVhZGluZyIsInVzZVJlYWRpbmciLCJzZWxlY3RlZEV4ZXJjaXNlSW5kZXgiLCJjdXJyZW50UXVlc3Rpb25JbmRleCIsInNlbGVjdGVkQW5zd2VyIiwic2hvd0ZlZWRiYWNrIiwidGV4dEV4cGFuZGVkIiwiYXR0ZW1wdHMiLCJjb21wbGV0ZWRRdWVzdGlvbnMiLCJsb2FkZWQiLCJzaG93RGV0YWlsZWRQcm9ncmVzcyIsImN1cnJlbnRFeGVyY2lzZSIsImN1cnJlbnRRdWVzdGlvbiIsInRvdGFsUXVlc3Rpb25zIiwiaXNDb3JyZWN0IiwiY2hhbmdlRXhlcmNpc2UiLCJjaGFuZ2VRdWVzdGlvbiIsInNlbGVjdEFuc3dlciIsInN1Ym1pdEFuc3dlciIsIm5leHRRdWVzdGlvbiIsInByZXZpb3VzUXVlc3Rpb24iLCJyZXRyeVF1ZXN0aW9uIiwidG9nZ2xlVGV4dEV4cGFuc2lvbiIsInRvZ2dsZURldGFpbGVkUHJvZ3Jlc3MiLCJzY3JvbGxWaWV3UmVmIiwidGV4dHNTY3JvbGxWaWV3UmVmIiwiZmFkZUFuaW0iLCJzbGlkZUFuaW0iLCJsZW5ndGgiLCJ0aXRsZSIsInR5cGUiLCJtZXRhZGF0YSIsIndvcmQiLCJ0b3RhbFdvcmRzIiwiZXhlcmNpc2UiLCJxdWVzdGlvbiIsImV4ZXJjaXNlVGl0bGUiLCJ0b3RhbEV4ZXJjaXNlcyIsImVycm9yIiwiY29uc29sZSIsImhhbmRsZUJhY2tQcmVzcyIsInVzZUNhbGxiYWNrIiwicm91dGVyIiwicHVzaCIsInBhdGhuYW1lIiwiaGFuZGxlTmV4dCIsImhhbmRsZUV4ZXJjaXNlUHJvZ3Jlc3NQcmVzcyIsImluZGV4IiwiaGFuZGxlVG9nZ2xlUHJvZ3Jlc3NEZXRhaWxzIiwianN4Iiwic2FmZUFyZWEiLCJzYWZlQXJlYUVkZ2VzIiwiQ09OVEFJTkVSX1NBRkVfRURHRVMiLCJBTEwiLCJiYWNrZ3JvdW5kQ29sb3IiLCJzdGF0dXNCYXJTdHlsZSIsImNoaWxkcmVuIiwiVmlldyIsInN0eWxlIiwibG9hZGluZ0NvbnRhaW5lciIsIkFjdGl2aXR5SW5kaWNhdG9yIiwic2l6ZSIsImNvbG9yIiwidGVzdElEIiwianN4cyIsIndpdGhTY3JvbGxWaWV3Iiwid2l0aFBhZGRpbmciLCJzY3JvbGxWaWV3UHJvcHMiLCJyZWYiLCJzaG93c1ZlcnRpY2FsU2Nyb2xsSW5kaWNhdG9yIiwiY29udGVudENvbnRhaW5lclN0eWxlIiwic2Nyb2xsQ29udGVudCIsIm9uQmFja1ByZXNzIiwiZXhwYW5kZWQiLCJvblRvZ2dsZUV4cGFuZCIsIm9uRXhlcmNpc2VQcmVzcyIsInNlbGVjdGVkSW5kZXgiLCJvblNlbGVjdEV4ZXJjaXNlIiwiaW5zdHJ1Y3Rpb25zIiwidmFyaWFudCIsInByaW1hcnlDb2xvciIsImluaXRpYWxseUV4cGFuZGVkIiwicXVlc3Rpb25JbmRleCIsIm9uU2VsZWN0QW5zd2VyIiwibWVzc2FnZSIsImV4cGxhbmF0aW9uIiwib3B0aW9ucyIsImNvcnJlY3RBbnN3ZXIiLCJzaG93RGlzbWlzc0J1dHRvbiIsIm9uU2VsZWN0UXVlc3Rpb24iLCJvbk5leHQiLCJvblByZXZpb3VzIiwib25SZXRyeSIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsInNoYXBlIiwic3RyaW5nIiwiaXNSZXF1aXJlZCJdLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFJlYWRpbmdFeGVyY2lzZS9pbmRleC5qcyAtIFNBTlMgQk9VQ0xFUyBJTkZJTklFU1xyXG5cclxuaW1wb3J0IHsgVmlldywgQWN0aXZpdHlJbmRpY2F0b3IgfSBmcm9tIFwicmVhY3QtbmF0aXZlXCI7XHJcbmltcG9ydCB7IHJvdXRlciB9IGZyb20gXCJleHBvLXJvdXRlclwiO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5cclxuaW1wb3J0IENvbnRhaW5lciwgeyBDT05UQUlORVJfU0FGRV9FREdFUyB9IGZyb20gXCIuLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC9Db250YWluZXJcIjtcclxuaW1wb3J0IFJlYWRpbmdIZWFkZXIgZnJvbSBcIi4vUmVhZGluZ0hlYWRlclwiO1xyXG5pbXBvcnQgUmVhZGluZ1RleHRTZWxlY3RvciBmcm9tIFwiLi9SZWFkaW5nVGV4dFNlbGVjdG9yXCI7XHJcbmltcG9ydCBSZWFkaW5nUHJvZ3Jlc3MgZnJvbSBcIi4vUmVhZGluZ1Byb2dyZXNzXCI7XHJcbmltcG9ydCBSZWFkaW5nVGV4dCBmcm9tIFwiLi9SZWFkaW5nVGV4dFwiO1xyXG5pbXBvcnQgUmVhZGluZ1F1ZXN0aW9uQ2FyZCBmcm9tIFwiLi9SZWFkaW5nUXVlc3Rpb25DYXJkXCI7XHJcbmltcG9ydCBRdWVzdGlvbkluZGljYXRvcnMgZnJvbSBcIi4vUXVlc3Rpb25JbmRpY2F0b3JzXCI7XHJcbmltcG9ydCBSZWFkaW5nTmF2aWdhdGlvbiBmcm9tIFwiLi9SZWFkaW5nTmF2aWdhdGlvblwiO1xyXG5pbXBvcnQgRXhlcmNpc2VGZWVkYmFjayBmcm9tIFwiLi4vLi4vLi4vY29tcG9uZW50cy9leGVyY2lzZS1jb21tb24vRXhlcmNpc2VGZWVkYmFja1wiO1xyXG5pbXBvcnQgSW5zdHJ1Y3Rpb25Cb3ggZnJvbSBcIi4uLy4uLy4uL2NvbXBvbmVudHMvZXhlcmNpc2UtY29tbW9uL0luc3RydWN0aW9uQm94XCI7XHJcblxyXG5pbXBvcnQgdXNlUmVhZGluZyBmcm9tIFwiLi9ob29rcy91c2VSZWFkaW5nXCI7XHJcbmltcG9ydCB1c2VMYXN0QWN0aXZpdHkgZnJvbSBcIi4uLy4uLy4uL2hvb2tzL3VzZUxhc3RBY3Rpdml0eVwiO1xyXG5pbXBvcnQgeyBnZXRSZWFkaW5nRGF0YSwgbG9hZFJlYWRpbmdEYXRhLCBnZXRMZXZlbENvbG9yIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL3JlYWRpbmcvcmVhZGluZ0RhdGFIZWxwZXJcIjtcclxuaW1wb3J0IGNyZWF0ZVN0eWxlcyBmcm9tIFwiLi9zdHlsZVwiO1xyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuXHJcbmNvbnN0IFJlYWRpbmdFeGVyY2lzZSA9ICh7IHJvdXRlIH0pID0+IHtcclxuICBjb25zdCB7IGxldmVsID0gXCJBMVwiIH0gPSByb3V0ZT8ucGFyYW1zIHx8IHt9O1xyXG4gIGNvbnN0IHN0eWxlcyA9IGNyZWF0ZVN0eWxlcygpO1xyXG4gIGNvbnN0IHsgc2F2ZUFjdGl2aXR5IH0gPSB1c2VMYXN0QWN0aXZpdHkoKTtcclxuXHJcbiAgLy8gRGF0YVxyXG4gIGNvbnN0IGxldmVsQ29sb3IgPSBnZXRMZXZlbENvbG9yKGxldmVsKTtcclxuICBjb25zdCBbcmVhZGluZ0RhdGEsIHNldFJlYWRpbmdEYXRhXSA9IHVzZVN0YXRlKFxyXG4gICAgcHJvY2Vzcy5lbnYuSkVTVF9XT1JLRVJfSUQgPyBnZXRSZWFkaW5nRGF0YShsZXZlbCkgOiBudWxsXHJcbiAgKTtcclxuICBjb25zdCBleGVyY2lzZXMgPSByZWFkaW5nRGF0YT8uZXhlcmNpc2VzIHx8IFtdO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgbGV0IGlzTW91bnRlZCA9IHRydWU7XHJcbiAgICBjb25zdCBsb2FkID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuSkVTVF9XT1JLRVJfSUQpIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gZ2V0UmVhZGluZ0RhdGEobGV2ZWwpO1xyXG4gICAgICAgIGlmIChpc01vdW50ZWQpIHNldFJlYWRpbmdEYXRhKGRhdGEpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgbG9hZFJlYWRpbmdEYXRhKGxldmVsKTtcclxuICAgICAgaWYgKGlzTW91bnRlZCkgc2V0UmVhZGluZ0RhdGEoZGF0YSk7XHJcbiAgICB9O1xyXG4gICAgbG9hZCgpO1xyXG4gICAgcmV0dXJuICgpID0+IHsgaXNNb3VudGVkID0gZmFsc2U7IH07XHJcbiAgfSwgW2xldmVsXSk7XHJcblxyXG4gIC8vIEhvb2sgdW5pZmnDqVxyXG4gIGNvbnN0IHtcclxuICAgIHNlbGVjdGVkRXhlcmNpc2VJbmRleCxcclxuICAgIGN1cnJlbnRRdWVzdGlvbkluZGV4LFxyXG4gICAgc2VsZWN0ZWRBbnN3ZXIsXHJcbiAgICBzaG93RmVlZGJhY2ssXHJcbiAgICB0ZXh0RXhwYW5kZWQsXHJcbiAgICBhdHRlbXB0cyxcclxuICAgIGNvbXBsZXRlZFF1ZXN0aW9ucyxcclxuICAgIGxvYWRlZCxcclxuICAgIHNob3dEZXRhaWxlZFByb2dyZXNzLFxyXG4gICAgY3VycmVudEV4ZXJjaXNlLFxyXG4gICAgY3VycmVudFF1ZXN0aW9uLFxyXG4gICAgdG90YWxRdWVzdGlvbnMsXHJcbiAgICBpc0NvcnJlY3QsXHJcbiAgICBjaGFuZ2VFeGVyY2lzZSxcclxuICAgIGNoYW5nZVF1ZXN0aW9uLFxyXG4gICAgc2VsZWN0QW5zd2VyLFxyXG4gICAgc3VibWl0QW5zd2VyLFxyXG4gICAgbmV4dFF1ZXN0aW9uLFxyXG4gICAgcHJldmlvdXNRdWVzdGlvbixcclxuICAgIHJldHJ5UXVlc3Rpb24sXHJcbiAgICB0b2dnbGVUZXh0RXhwYW5zaW9uLFxyXG4gICAgdG9nZ2xlRGV0YWlsZWRQcm9ncmVzcyxcclxuICAgIHNjcm9sbFZpZXdSZWYsXHJcbiAgICB0ZXh0c1Njcm9sbFZpZXdSZWYsXHJcbiAgICBmYWRlQW5pbSxcclxuICAgIHNsaWRlQW5pbSxcclxuICB9ID0gdXNlUmVhZGluZyhleGVyY2lzZXMsIGxldmVsKTtcclxuXHJcbiAgLy8g4pyFIFNBVVZFR0FSREUgU0lNUExJRknDiUUgLSBzZXVsZW1lbnQgcXVhbmQgZXhlcmNpY2UvcXVlc3Rpb24gY2hhbmdlXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghbG9hZGVkIHx8IGV4ZXJjaXNlcy5sZW5ndGggPT09IDAgfHwgIWN1cnJlbnRFeGVyY2lzZSB8fCAhY3VycmVudFF1ZXN0aW9uKSByZXR1cm47XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgc2F2ZUFjdGl2aXR5KHtcclxuICAgICAgICB0aXRsZTogXCJMZWN0dXJlXCIsXHJcbiAgICAgICAgbGV2ZWwsXHJcbiAgICAgICAgdHlwZTogXCJyZWFkaW5nXCIsXHJcbiAgICAgICAgbWV0YWRhdGE6IHtcclxuICAgICAgICAgIHdvcmQ6IHNlbGVjdGVkRXhlcmNpc2VJbmRleCwgLy8g4pyFIFBvdXIgY29ow6lyZW5jZSBhdmVjIGF1dHJlcyBleGVyY2ljZXNcclxuICAgICAgICAgIHRvdGFsV29yZHM6IGV4ZXJjaXNlcy5sZW5ndGgsIC8vIOKchSBQb3VyIGNvaMOpcmVuY2VcclxuICAgICAgICAgIGV4ZXJjaXNlOiBzZWxlY3RlZEV4ZXJjaXNlSW5kZXgsXHJcbiAgICAgICAgICBxdWVzdGlvbjogY3VycmVudFF1ZXN0aW9uSW5kZXgsXHJcbiAgICAgICAgICB0b3RhbFF1ZXN0aW9ucyxcclxuICAgICAgICAgIGV4ZXJjaXNlVGl0bGU6IGN1cnJlbnRFeGVyY2lzZS50aXRsZSB8fCBgVGV4dGUgJHtzZWxlY3RlZEV4ZXJjaXNlSW5kZXggKyAxfWAsXHJcbiAgICAgICAgICB0b3RhbEV4ZXJjaXNlczogZXhlcmNpc2VzLmxlbmd0aFxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgYWN0aXZpdHk6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH0sIFtzZWxlY3RlZEV4ZXJjaXNlSW5kZXgsIGN1cnJlbnRRdWVzdGlvbkluZGV4XSk7IC8vIOKchSBTRVVMRU1FTlQgY2VzIDIgZMOpcGVuZGFuY2VzICFcclxuXHJcbiAgLy8gSGFuZGxlcnNcclxuICBjb25zdCBoYW5kbGVCYWNrUHJlc3MgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICByb3V0ZXIucHVzaCh7XHJcbiAgICAgIHBhdGhuYW1lOiBcIi90YWJzL2V4ZXJjaXNlU2VsZWN0aW9uXCIsXHJcbiAgICAgIHBhcmFtczogeyBsZXZlbCB9XHJcbiAgICB9KTtcclxuICB9LCBbbGV2ZWxdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTmV4dCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGlmIChzaG93RmVlZGJhY2spIHtcclxuICAgICAgbmV4dFF1ZXN0aW9uKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzdWJtaXRBbnN3ZXIoKTtcclxuICAgIH1cclxuICB9LCBbc2hvd0ZlZWRiYWNrLCBuZXh0UXVlc3Rpb24sIHN1Ym1pdEFuc3dlcl0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVFeGVyY2lzZVByb2dyZXNzUHJlc3MgPSB1c2VDYWxsYmFjaygoaW5kZXgpID0+IHtcclxuICAgIGNoYW5nZUV4ZXJjaXNlKGluZGV4KTtcclxuICB9LCBbY2hhbmdlRXhlcmNpc2VdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlVG9nZ2xlUHJvZ3Jlc3NEZXRhaWxzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgdG9nZ2xlRGV0YWlsZWRQcm9ncmVzcygpO1xyXG4gIH0sIFt0b2dnbGVEZXRhaWxlZFByb2dyZXNzXSk7XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT0gTE9BRElORyBTVEFURSA9PT09PT09PT09PT09PT09PT09XHJcbiAgaWYgKCFsb2FkZWQgfHwgIWV4ZXJjaXNlcy5sZW5ndGgpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxDb250YWluZXJcclxuICAgICAgICBzYWZlQXJlYVxyXG4gICAgICAgIHNhZmVBcmVhRWRnZXM9e0NPTlRBSU5FUl9TQUZFX0VER0VTLkFMTH1cclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I9XCIjZjhmYWZjXCJcclxuICAgICAgICBzdGF0dXNCYXJTdHlsZT1cImRhcmstY29udGVudFwiXHJcbiAgICAgID5cclxuICAgICAgICA8VmlldyBzdHlsZT17c3R5bGVzLmxvYWRpbmdDb250YWluZXJ9PlxyXG4gICAgICAgICAgPEFjdGl2aXR5SW5kaWNhdG9yIHNpemU9XCJsYXJnZVwiIGNvbG9yPXtsZXZlbENvbG9yfSB0ZXN0SUQ9XCJhY3Rpdml0eS1pbmRpY2F0b3JcIiAvPlxyXG4gICAgICAgIDwvVmlldz5cclxuICAgICAgPC9Db250YWluZXI+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PSBNQUlOIFJFTkRFUiA9PT09PT09PT09PT09PT09PT09XHJcbiAgcmV0dXJuIChcclxuICAgIDxDb250YWluZXJcclxuICAgICAgc2FmZUFyZWFcclxuICAgICAgc2FmZUFyZWFFZGdlcz17Q09OVEFJTkVSX1NBRkVfRURHRVMuQUxMfVxyXG4gICAgICB3aXRoU2Nyb2xsVmlld1xyXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I9XCIjZjhmYWZjXCJcclxuICAgICAgc3RhdHVzQmFyU3R5bGU9XCJkYXJrLWNvbnRlbnRcIlxyXG4gICAgICB3aXRoUGFkZGluZz17ZmFsc2V9XHJcbiAgICAgIHNjcm9sbFZpZXdQcm9wcz17e1xyXG4gICAgICAgIHJlZjogc2Nyb2xsVmlld1JlZixcclxuICAgICAgICBzaG93c1ZlcnRpY2FsU2Nyb2xsSW5kaWNhdG9yOiBmYWxzZSxcclxuICAgICAgICBjb250ZW50Q29udGFpbmVyU3R5bGU6IHN0eWxlcy5zY3JvbGxDb250ZW50LFxyXG4gICAgICB9fVxyXG4gICAgPlxyXG4gICAgICA8UmVhZGluZ0hlYWRlclxyXG4gICAgICAgIGxldmVsPXtsZXZlbH1cclxuICAgICAgICBvbkJhY2tQcmVzcz17aGFuZGxlQmFja1ByZXNzfVxyXG4gICAgICAvPlxyXG5cclxuICAgICAgPFJlYWRpbmdQcm9ncmVzc1xyXG4gICAgICAgIHJlYWRpbmdEYXRhPXtyZWFkaW5nRGF0YX1cclxuICAgICAgICBjb21wbGV0ZWRRdWVzdGlvbnM9e2NvbXBsZXRlZFF1ZXN0aW9uc31cclxuICAgICAgICBsZXZlbENvbG9yPXtsZXZlbENvbG9yfVxyXG4gICAgICAgIGV4cGFuZGVkPXtzaG93RGV0YWlsZWRQcm9ncmVzc31cclxuICAgICAgICBvblRvZ2dsZUV4cGFuZD17aGFuZGxlVG9nZ2xlUHJvZ3Jlc3NEZXRhaWxzfVxyXG4gICAgICAgIG9uRXhlcmNpc2VQcmVzcz17aGFuZGxlRXhlcmNpc2VQcm9ncmVzc1ByZXNzfVxyXG4gICAgICAvPlxyXG5cclxuICAgICAgPFJlYWRpbmdUZXh0U2VsZWN0b3JcclxuICAgICAgICBleGVyY2lzZXM9e2V4ZXJjaXNlc31cclxuICAgICAgICBzZWxlY3RlZEluZGV4PXtzZWxlY3RlZEV4ZXJjaXNlSW5kZXh9XHJcbiAgICAgICAgb25TZWxlY3RFeGVyY2lzZT17Y2hhbmdlRXhlcmNpc2V9XHJcbiAgICAgICAgc2Nyb2xsVmlld1JlZj17dGV4dHNTY3JvbGxWaWV3UmVmfVxyXG4gICAgICAgIGxldmVsQ29sb3I9e2xldmVsQ29sb3J9XHJcbiAgICAgIC8+XHJcblxyXG4gICAgICA8SW5zdHJ1Y3Rpb25Cb3hcclxuICAgICAgICB0aXRsZT1cIvCfk5YgUmVhZGluZyBFeGVyY2lzZVwiXHJcbiAgICAgICAgaW5zdHJ1Y3Rpb25zPVwiUmVhZCB0aGUgdGV4dCBjYXJlZnVsbHkgYW5kIGFuc3dlciB0aGUgcXVlc3Rpb25zLlwiXHJcbiAgICAgICAgdmFyaWFudD1cImNvbXBhY3RcIlxyXG4gICAgICAgIHByaW1hcnlDb2xvcj17bGV2ZWxDb2xvcn1cclxuICAgICAgICBpbml0aWFsbHlFeHBhbmRlZD17ZmFsc2V9XHJcbiAgICAgIC8+XHJcblxyXG4gICAgICA8UmVhZGluZ1RleHRcclxuICAgICAgICBleGVyY2lzZT17Y3VycmVudEV4ZXJjaXNlfVxyXG4gICAgICAgIHRleHRFeHBhbmRlZD17dGV4dEV4cGFuZGVkfVxyXG4gICAgICAgIG9uVG9nZ2xlRXhwYW5kPXt0b2dnbGVUZXh0RXhwYW5zaW9ufVxyXG4gICAgICAgIGxldmVsQ29sb3I9e2xldmVsQ29sb3J9XHJcbiAgICAgIC8+XHJcblxyXG4gICAgICB7Y3VycmVudFF1ZXN0aW9uICYmIChcclxuICAgICAgICA8UmVhZGluZ1F1ZXN0aW9uQ2FyZFxyXG4gICAgICAgICAgcXVlc3Rpb249e2N1cnJlbnRRdWVzdGlvbn1cclxuICAgICAgICAgIHF1ZXN0aW9uSW5kZXg9e2N1cnJlbnRRdWVzdGlvbkluZGV4fVxyXG4gICAgICAgICAgc2VsZWN0ZWRBbnN3ZXI9e3NlbGVjdGVkQW5zd2VyfVxyXG4gICAgICAgICAgb25TZWxlY3RBbnN3ZXI9e3NlbGVjdEFuc3dlcn1cclxuICAgICAgICAgIHNob3dGZWVkYmFjaz17c2hvd0ZlZWRiYWNrfVxyXG4gICAgICAgICAgZmFkZUFuaW09e2ZhZGVBbmltfVxyXG4gICAgICAgICAgc2xpZGVBbmltPXtzbGlkZUFuaW19XHJcbiAgICAgICAgICBsZXZlbENvbG9yPXtsZXZlbENvbG9yfVxyXG4gICAgICAgIC8+XHJcbiAgICAgICl9XHJcblxyXG4gICAgICB7c2hvd0ZlZWRiYWNrICYmIGN1cnJlbnRRdWVzdGlvbiAmJiAoXHJcbiAgICAgICAgPEV4ZXJjaXNlRmVlZGJhY2tcclxuICAgICAgICAgIHR5cGU9e2lzQ29ycmVjdCA/IFwic3VjY2Vzc1wiIDogXCJlcnJvclwifVxyXG4gICAgICAgICAgbWVzc2FnZT17aXNDb3JyZWN0ID8gXCLwn46JIFBlcmZlY3QhXCIgOiBcIvCfpJQgTm90IHF1aXRlLi4uXCJ9XHJcbiAgICAgICAgICBleHBsYW5hdGlvbj17XHJcbiAgICAgICAgICAgIGlzQ29ycmVjdFxyXG4gICAgICAgICAgICAgID8gY3VycmVudFF1ZXN0aW9uLmV4cGxhbmF0aW9uXHJcbiAgICAgICAgICAgICAgOiBhdHRlbXB0cyA+IDFcclxuICAgICAgICAgICAgICA/IGDwn5KhIFRoZSBjb3JyZWN0IGFuc3dlciBpczogJHtjdXJyZW50UXVlc3Rpb24ub3B0aW9uc1tjdXJyZW50UXVlc3Rpb24uY29ycmVjdEFuc3dlcl19YFxyXG4gICAgICAgICAgICAgIDogXCLwn5KqIFRyeSBhZ2FpbiFcIlxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgc2hvd0Rpc21pc3NCdXR0b249e2ZhbHNlfVxyXG4gICAgICAgIC8+XHJcbiAgICAgICl9XHJcblxyXG4gICAgICA8UXVlc3Rpb25JbmRpY2F0b3JzXHJcbiAgICAgICAgdG90YWxRdWVzdGlvbnM9e3RvdGFsUXVlc3Rpb25zfVxyXG4gICAgICAgIGN1cnJlbnRRdWVzdGlvbkluZGV4PXtjdXJyZW50UXVlc3Rpb25JbmRleH1cclxuICAgICAgICBjb21wbGV0ZWRRdWVzdGlvbnM9e2NvbXBsZXRlZFF1ZXN0aW9uc1tzZWxlY3RlZEV4ZXJjaXNlSW5kZXhdIHx8IFtdfVxyXG4gICAgICAgIG9uU2VsZWN0UXVlc3Rpb249e2NoYW5nZVF1ZXN0aW9ufVxyXG4gICAgICAgIGxldmVsQ29sb3I9e2xldmVsQ29sb3J9XHJcbiAgICAgIC8+XHJcblxyXG4gICAgICA8UmVhZGluZ05hdmlnYXRpb25cclxuICAgICAgICBzaG93RmVlZGJhY2s9e3Nob3dGZWVkYmFja31cclxuICAgICAgICBpc0NvcnJlY3Q9e2lzQ29ycmVjdH1cclxuICAgICAgICBzZWxlY3RlZEFuc3dlcj17c2VsZWN0ZWRBbnN3ZXJ9XHJcbiAgICAgICAgY3VycmVudFF1ZXN0aW9uSW5kZXg9e2N1cnJlbnRRdWVzdGlvbkluZGV4fVxyXG4gICAgICAgIHRvdGFsUXVlc3Rpb25zPXt0b3RhbFF1ZXN0aW9uc31cclxuICAgICAgICBhdHRlbXB0cz17YXR0ZW1wdHN9XHJcbiAgICAgICAgbGV2ZWxDb2xvcj17bGV2ZWxDb2xvcn1cclxuICAgICAgICBvbk5leHQ9e2hhbmRsZU5leHR9XHJcbiAgICAgICAgb25QcmV2aW91cz17cHJldmlvdXNRdWVzdGlvbn1cclxuICAgICAgICBvblJldHJ5PXtyZXRyeVF1ZXN0aW9ufVxyXG4gICAgICAvPlxyXG4gICAgPC9Db250YWluZXI+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFJlYWRpbmdFeGVyY2lzZTtcclxuXHJcbi8vIOKchSBBam91dCBkZSBsYSB2YWxpZGF0aW9uIGRlcyBwcm9wc1xyXG5SZWFkaW5nRXhlcmNpc2UucHJvcFR5cGVzID0ge1xyXG4gIHJvdXRlOiBQcm9wVHlwZXMuc2hhcGUoe1xyXG4gICAgcGFyYW1zOiBQcm9wVHlwZXMuc2hhcGUoe1xyXG4gICAgICBsZXZlbDogUHJvcFR5cGVzLnN0cmluZyxcclxuICAgIH0pLFxyXG4gIH0pLmlzUmVxdWlyZWQsXHJcbn07Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRUEsSUFBQUEsWUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsV0FBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsVUFBQSxHQUFBQyxzQkFBQSxDQUFBSCxPQUFBO0FBRUEsSUFBQUksVUFBQSxHQUFBQyx1QkFBQSxDQUFBTCxPQUFBO0FBQ0EsSUFBQU0sY0FBQSxHQUFBSCxzQkFBQSxDQUFBSCxPQUFBO0FBQ0EsSUFBQU8sb0JBQUEsR0FBQUosc0JBQUEsQ0FBQUgsT0FBQTtBQUNBLElBQUFRLGdCQUFBLEdBQUFMLHNCQUFBLENBQUFILE9BQUE7QUFDQSxJQUFBUyxZQUFBLEdBQUFOLHNCQUFBLENBQUFILE9BQUE7QUFDQSxJQUFBVSxvQkFBQSxHQUFBUCxzQkFBQSxDQUFBSCxPQUFBO0FBQ0EsSUFBQVcsbUJBQUEsR0FBQVIsc0JBQUEsQ0FBQUgsT0FBQTtBQUNBLElBQUFZLGtCQUFBLEdBQUFULHNCQUFBLENBQUFILE9BQUE7QUFDQSxJQUFBYSxpQkFBQSxHQUFBVixzQkFBQSxDQUFBSCxPQUFBO0FBQ0EsSUFBQWMsZUFBQSxHQUFBWCxzQkFBQSxDQUFBSCxPQUFBO0FBRUEsSUFBQWUsWUFBQSxHQUFBWixzQkFBQSxDQUFBSCxPQUFBO0FBQ0EsSUFBQWdCLGlCQUFBLEdBQUFiLHNCQUFBLENBQUFILE9BQUE7QUFDQSxJQUFBaUIsa0JBQUEsR0FBQWpCLE9BQUE7QUFDQSxJQUFBa0IsTUFBQSxHQUFBZixzQkFBQSxDQUFBSCxPQUFBO0FBQ0EsSUFBQW1CLE1BQUEsR0FBQW5CLE9BQUE7QUFBeUQsSUFB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QixPQUFnQjtNQUNmMEUsSUFBSSxFQUFFaEIsU0FBUyxHQUFHLFNBQVMsR0FBRyxPQUFRO01BQ3RDc0UsT0FBTyxFQUFFdEUsU0FBUyxHQUFHLGFBQWEsR0FBRyxpQkFBa0I7TUFDdkR1RSxXQUFXLEVBQ1R2RSxTQUFTLEdBQ0xGLGVBQWUsQ0FBQ3lFLFdBQVcsR0FDM0I5RSxRQUFRLEdBQUcsQ0FBQyxHQUNaLDZCQUE2QkssZUFBZSxDQUFDMEUsT0FBTyxDQUFDMUUsZUFBZSxDQUFDMkUsYUFBYSxDQUFDLEVBQUUsR0FDckYsZUFDTDtNQUNEQyxpQkFBaUIsRUFBRTtJQUFNLENBQzFCLENBQ0YsRUFFRCxJQUFBL0ksV0FBQSxDQUFBd0csR0FBQSxFQUFDakgsbUJBQUEsQ0FBQW9CLE9BQWtCO01BQ2pCeUQsY0FBYyxFQUFFQSxjQUFlO01BQy9CVixvQkFBb0IsRUFBRUEsb0JBQXFCO01BQzNDSyxrQkFBa0IsRUFBRUEsa0JBQWtCLENBQUNOLHFCQUFxQixDQUFDLElBQUksRUFBRztNQUNwRXVGLGdCQUFnQixFQUFFekUsY0FBZTtNQUNqQ3RDLFVBQVUsRUFBRUE7SUFBVyxDQUN4QixDQUFDLEVBRUYsSUFBQWpDLFdBQUEsQ0FBQXdHLEdBQUEsRUFBQ2hILGtCQUFBLENBQUFtQixPQUFpQjtNQUNoQmlELFlBQVksRUFBRUEsWUFBYTtNQUMzQlMsU0FBUyxFQUFFQSxTQUFVO01BQ3JCVixjQUFjLEVBQUVBLGNBQWU7TUFDL0JELG9CQUFvQixFQUFFQSxvQkFBcUI7TUFDM0NVLGNBQWMsRUFBRUEsY0FBZTtNQUMvQk4sUUFBUSxFQUFFQSxRQUFTO01BQ25CN0IsVUFBVSxFQUFFQSxVQUFXO01BQ3ZCZ0gsTUFBTSxFQUFFN0MsVUFBVztNQUNuQjhDLFVBQVUsRUFBRXZFLGdCQUFpQjtNQUM3QndFLE9BQU8sRUFBRXZFO0lBQWMsQ0FDeEIsQ0FBQztFQUFBLENBQ08sQ0FBQztBQUVoQixDQUFDO0FBQUMsSUFBQXdFLFFBQUEsR0FBQUMsT0FBQSxDQUFBMUksT0FBQSxHQUVhVSxlQUFlO0FBRzlCQSxlQUFlLENBQUNpSSxTQUFTLEdBQUc7RUFDMUIvSCxLQUFLLEVBQUVnSSxrQkFBUyxDQUFDQyxLQUFLLENBQUM7SUFDckIvSCxNQUFNLEVBQUU4SCxrQkFBUyxDQUFDQyxLQUFLLENBQUM7TUFDdEI3SCxLQUFLLEVBQUU0SCxrQkFBUyxDQUFDRTtJQUNuQixDQUFDO0VBQ0gsQ0FBQyxDQUFDLENBQUNDO0FBQ0wsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==