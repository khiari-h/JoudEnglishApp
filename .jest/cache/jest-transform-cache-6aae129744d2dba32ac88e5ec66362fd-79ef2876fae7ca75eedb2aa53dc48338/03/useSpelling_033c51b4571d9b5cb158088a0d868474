7048b8726e4b34d1f1801585087f9fc3
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = require("react");
var _reactNative = require("react-native");
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var useSpelling = function useSpelling() {
  var spellingData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
  var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "1";
  var exerciseType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "correction";
  var _useState = (0, _react.useState)(0),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    currentExerciseIndex = _useState2[0],
    setCurrentExerciseIndex = _useState2[1];
  var _useState3 = (0, _react.useState)(''),
    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
    userInput = _useState4[0],
    setUserInput = _useState4[1];
  var _useState5 = (0, _react.useState)(false),
    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),
    showHint = _useState6[0],
    setShowHint = _useState6[1];
  var _useState7 = (0, _react.useState)(false),
    _useState8 = (0, _slicedToArray2.default)(_useState7, 2),
    showFeedback = _useState8[0],
    setShowFeedback = _useState8[1];
  var _useState9 = (0, _react.useState)(false),
    _useState0 = (0, _slicedToArray2.default)(_useState9, 2),
    isCorrect = _useState0[0],
    setIsCorrect = _useState0[1];
  var _useState1 = (0, _react.useState)([]),
    _useState10 = (0, _slicedToArray2.default)(_useState1, 2),
    completedExercises = _useState10[0],
    setCompletedExercises = _useState10[1];
  var _useState11 = (0, _react.useState)([]),
    _useState12 = (0, _slicedToArray2.default)(_useState11, 2),
    userAnswers = _useState12[0],
    setUserAnswers = _useState12[1];
  var _useState13 = (0, _react.useState)(false),
    _useState14 = (0, _slicedToArray2.default)(_useState13, 2),
    loaded = _useState14[0],
    setLoaded = _useState14[1];
  var isInitialized = (0, _react.useRef)(false);
  var exercises = (spellingData == null ? void 0 : spellingData.exercises) || [];
  var totalExercises = exercises.length;
  var hasValidData = Boolean((spellingData == null ? void 0 : spellingData.exercises) && Array.isArray(spellingData.exercises) && spellingData.exercises.length > 0);
  var currentExercise = exercises[currentExerciseIndex] || null;
  var STORAGE_KEY = `spelling_${level}_${exerciseType}`;
  var loadStoredData = (0, _react.useCallback)((0, _asyncToGenerator2.default)(function* () {
    try {
      var saved = yield _asyncStorage.default.getItem(STORAGE_KEY);
      if (saved) {
        var _data$lastPosition;
        var data = JSON.parse(saved);
        setCompletedExercises(data.completedExercises || []);
        setUserAnswers(data.userAnswers || []);
        if (((_data$lastPosition = data.lastPosition) == null ? void 0 : _data$lastPosition.exerciseIndex) !== undefined && data.lastPosition.exerciseIndex >= 0 && data.lastPosition.exerciseIndex < totalExercises) {
          setCurrentExerciseIndex(data.lastPosition.exerciseIndex);
        }
      }
    } catch (error) {} finally {
      setLoaded(true);
    }
  }), [STORAGE_KEY]);
  (0, _react.useEffect)(function () {
    if (!isInitialized.current) {
      loadStoredData();
      isInitialized.current = true;
    }
  }, [loadStoredData]);
  var saveToStorage = (0, _react.useCallback)(function () {
    var _ref2 = (0, _asyncToGenerator2.default)(function* (dataToSave) {
      try {
        yield _asyncStorage.default.setItem(STORAGE_KEY, JSON.stringify(dataToSave));
      } catch (error) {}
    });
    return function (_x) {
      return _ref2.apply(this, arguments);
    };
  }(), [STORAGE_KEY]);
  var resetExerciseState = (0, _react.useCallback)(function () {
    setUserInput('');
    setShowHint(false);
    setShowFeedback(false);
    setIsCorrect(false);
  }, []);
  var toggleHint = (0, _react.useCallback)(function () {
    setShowHint(function (prev) {
      return !prev;
    });
  }, []);
  var checkAnswer = (0, _react.useCallback)(function () {
    if (!(currentExercise != null && currentExercise.correctAnswer)) {
      _reactNative.Alert.alert('Erreur', 'Réponse correcte non définie');
      return false;
    }
    try {
      var correct = false;
      switch (currentExercise.type) {
        case 'homophones':
          correct = userInput === currentExercise.correctAnswer;
          break;
        case 'correction':
        case 'spelling_rule':
        default:
          {
            var userAnswer = String(userInput).trim().toLowerCase();
            var correctAnswer = String(currentExercise.correctAnswer).trim().toLowerCase();
            correct = userAnswer === correctAnswer;
            break;
          }
      }
      setIsCorrect(correct);
      setShowFeedback(true);
      return correct;
    } catch (error) {
      setIsCorrect(false);
      setShowFeedback(true);
      return false;
    }
  }, [userInput, currentExercise]);
  var handleNext = (0, _react.useCallback)(function () {
    var newCompleted = completedExercises.includes(currentExerciseIndex) ? completedExercises : [].concat((0, _toConsumableArray2.default)(completedExercises), [currentExerciseIndex]);
    var newAnswer = {
      exerciseIndex: currentExerciseIndex,
      isCorrect: isCorrect,
      userAnswer: userInput,
      correctAnswer: (currentExercise == null ? void 0 : currentExercise.correctAnswer) || '',
      exerciseType: (currentExercise == null ? void 0 : currentExercise.type) || 'correction',
      timestamp: Date.now()
    };
    var newAnswers = [].concat((0, _toConsumableArray2.default)(userAnswers), [newAnswer]);
    var dataToSave = {
      completedExercises: newCompleted,
      userAnswers: newAnswers,
      lastPosition: {
        exerciseIndex: currentExerciseIndex < totalExercises - 1 ? currentExerciseIndex + 1 : currentExerciseIndex,
        exerciseType: exerciseType,
        timestamp: Date.now()
      }
    };
    saveToStorage(dataToSave);
    setCompletedExercises(newCompleted);
    setUserAnswers(newAnswers);
    if (currentExerciseIndex < totalExercises - 1) {
      setCurrentExerciseIndex(function (prev) {
        return prev + 1;
      });
      resetExerciseState();
    } else {
      _reactNative.Alert.alert("Félicitations", `Vous avez terminé tous les exercices d'orthographe ${exerciseType} du niveau ${level} !`);
      return {
        completed: true
      };
    }
    return {
      completed: false
    };
  }, [currentExerciseIndex, totalExercises, isCorrect, userInput, currentExercise, completedExercises, userAnswers, saveToStorage, resetExerciseState, exerciseType, level]);
  var retryExercise = (0, _react.useCallback)(function () {
    resetExerciseState();
  }, [resetExerciseState]);
  var stats = {
    totalExercises: totalExercises,
    completedExercisesCount: completedExercises.length,
    totalProgress: totalExercises > 0 ? Math.round(completedExercises.length / totalExercises * 100) : 0,
    remainingExercises: totalExercises - completedExercises.length,
    performance: {
      total: userAnswers.length,
      correct: userAnswers.filter(function (answer) {
        return answer.isCorrect;
      }).length,
      incorrect: userAnswers.filter(function (answer) {
        return !answer.isCorrect;
      }).length,
      accuracy: userAnswers.length > 0 ? Math.round(userAnswers.filter(function (answer) {
        return answer.isCorrect;
      }).length / userAnswers.length * 100) : 0
    },
    completedExercises: completedExercises,
    userAnswers: userAnswers
  };
  var isLastExercise = currentExerciseIndex === totalExercises - 1;
  return {
    currentExerciseIndex: currentExerciseIndex,
    userInput: userInput,
    showHint: showHint,
    showFeedback: showFeedback,
    isCorrect: isCorrect,
    completedExercises: completedExercises,
    userAnswers: userAnswers,
    loaded: loaded,
    currentExercise: currentExercise,
    totalExercises: totalExercises,
    exercises: exercises,
    setUserInput: setUserInput,
    toggleHint: toggleHint,
    checkAnswer: checkAnswer,
    handleNext: handleNext,
    retryExercise: retryExercise,
    resetExerciseState: resetExerciseState,
    isLastExercise: isLastExercise,
    hasValidData: hasValidData,
    stats: stats
  };
};
var _default = exports.default = useSpelling;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX3JlYWN0TmF0aXZlIiwiX2FzeW5jU3RvcmFnZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJ1c2VTcGVsbGluZyIsInNwZWxsaW5nRGF0YSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImxldmVsIiwiZXhlcmNpc2VUeXBlIiwiX3VzZVN0YXRlIiwidXNlU3RhdGUiLCJfdXNlU3RhdGUyIiwiX3NsaWNlZFRvQXJyYXkyIiwiZGVmYXVsdCIsImN1cnJlbnRFeGVyY2lzZUluZGV4Iiwic2V0Q3VycmVudEV4ZXJjaXNlSW5kZXgiLCJfdXNlU3RhdGUzIiwiX3VzZVN0YXRlNCIsInVzZXJJbnB1dCIsInNldFVzZXJJbnB1dCIsIl91c2VTdGF0ZTUiLCJfdXNlU3RhdGU2Iiwic2hvd0hpbnQiLCJzZXRTaG93SGludCIsIl91c2VTdGF0ZTciLCJfdXNlU3RhdGU4Iiwic2hvd0ZlZWRiYWNrIiwic2V0U2hvd0ZlZWRiYWNrIiwiX3VzZVN0YXRlOSIsIl91c2VTdGF0ZTAiLCJpc0NvcnJlY3QiLCJzZXRJc0NvcnJlY3QiLCJfdXNlU3RhdGUxIiwiX3VzZVN0YXRlMTAiLCJjb21wbGV0ZWRFeGVyY2lzZXMiLCJzZXRDb21wbGV0ZWRFeGVyY2lzZXMiLCJfdXNlU3RhdGUxMSIsIl91c2VTdGF0ZTEyIiwidXNlckFuc3dlcnMiLCJzZXRVc2VyQW5zd2VycyIsIl91c2VTdGF0ZTEzIiwiX3VzZVN0YXRlMTQiLCJsb2FkZWQiLCJzZXRMb2FkZWQiLCJpc0luaXRpYWxpemVkIiwidXNlUmVmIiwiZXhlcmNpc2VzIiwidG90YWxFeGVyY2lzZXMiLCJoYXNWYWxpZERhdGEiLCJCb29sZWFuIiwiQXJyYXkiLCJpc0FycmF5IiwiY3VycmVudEV4ZXJjaXNlIiwiU1RPUkFHRV9LRVkiLCJsb2FkU3RvcmVkRGF0YSIsInVzZUNhbGxiYWNrIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwic2F2ZWQiLCJBc3luY1N0b3JhZ2UiLCJnZXRJdGVtIiwiX2RhdGEkbGFzdFBvc2l0aW9uIiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsImxhc3RQb3NpdGlvbiIsImV4ZXJjaXNlSW5kZXgiLCJlcnJvciIsInVzZUVmZmVjdCIsImN1cnJlbnQiLCJzYXZlVG9TdG9yYWdlIiwiX3JlZjIiLCJkYXRhVG9TYXZlIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsIl94IiwiYXBwbHkiLCJyZXNldEV4ZXJjaXNlU3RhdGUiLCJ0b2dnbGVIaW50IiwicHJldiIsImNoZWNrQW5zd2VyIiwiY29ycmVjdEFuc3dlciIsIkFsZXJ0IiwiYWxlcnQiLCJjb3JyZWN0IiwidHlwZSIsInVzZXJBbnN3ZXIiLCJTdHJpbmciLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJoYW5kbGVOZXh0IiwibmV3Q29tcGxldGVkIiwiaW5jbHVkZXMiLCJjb25jYXQiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwibmV3QW5zd2VyIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsIm5ld0Fuc3dlcnMiLCJjb21wbGV0ZWQiLCJyZXRyeUV4ZXJjaXNlIiwic3RhdHMiLCJjb21wbGV0ZWRFeGVyY2lzZXNDb3VudCIsInRvdGFsUHJvZ3Jlc3MiLCJNYXRoIiwicm91bmQiLCJyZW1haW5pbmdFeGVyY2lzZXMiLCJwZXJmb3JtYW5jZSIsInRvdGFsIiwiZmlsdGVyIiwiYW5zd2VyIiwiaW5jb3JyZWN0IiwiYWNjdXJhY3kiLCJpc0xhc3RFeGVyY2lzZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbInVzZVNwZWxsaW5nLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGhvb2tzL3VzZVNwZWxsaW5nLmpzIC0gQk9VQ0xFUyBJTkZJTklFUyBDT1JSSUfDiUVTXHJcblxyXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBBbGVydCB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XHJcbmltcG9ydCBBc3luY1N0b3JhZ2UgZnJvbSAnQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlL2FzeW5jLXN0b3JhZ2UnO1xyXG5cclxuY29uc3QgdXNlU3BlbGxpbmcgPSAoc3BlbGxpbmdEYXRhID0gbnVsbCwgbGV2ZWwgPSBcIjFcIiwgZXhlcmNpc2VUeXBlID0gXCJjb3JyZWN0aW9uXCIpID0+IHtcclxuXHJcbiAgY29uc3QgW2N1cnJlbnRFeGVyY2lzZUluZGV4LCBzZXRDdXJyZW50RXhlcmNpc2VJbmRleF0gPSB1c2VTdGF0ZSgwKTtcclxuICBjb25zdCBbdXNlcklucHV0LCBzZXRVc2VySW5wdXRdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFtzaG93SGludCwgc2V0U2hvd0hpbnRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtzaG93RmVlZGJhY2ssIHNldFNob3dGZWVkYmFja10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2lzQ29ycmVjdCwgc2V0SXNDb3JyZWN0XSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbY29tcGxldGVkRXhlcmNpc2VzLCBzZXRDb21wbGV0ZWRFeGVyY2lzZXNdID0gdXNlU3RhdGUoW10pO1xyXG4gIGNvbnN0IFt1c2VyQW5zd2Vycywgc2V0VXNlckFuc3dlcnNdID0gdXNlU3RhdGUoW10pO1xyXG4gIGNvbnN0IFtsb2FkZWQsIHNldExvYWRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4gIGNvbnN0IGlzSW5pdGlhbGl6ZWQgPSB1c2VSZWYoZmFsc2UpO1xyXG5cclxuICBjb25zdCBleGVyY2lzZXMgPSBzcGVsbGluZ0RhdGE/LmV4ZXJjaXNlcyB8fCBbXTtcclxuICBjb25zdCB0b3RhbEV4ZXJjaXNlcyA9IGV4ZXJjaXNlcy5sZW5ndGg7XHJcbiAgXHJcbiAgY29uc3QgaGFzVmFsaWREYXRhID0gQm9vbGVhbihzcGVsbGluZ0RhdGE/LmV4ZXJjaXNlcyAmJiBcclxuICAgIEFycmF5LmlzQXJyYXkoc3BlbGxpbmdEYXRhLmV4ZXJjaXNlcykgJiYgXHJcbiAgICBzcGVsbGluZ0RhdGEuZXhlcmNpc2VzLmxlbmd0aCA+IDApO1xyXG5cclxuICBjb25zdCBjdXJyZW50RXhlcmNpc2UgPSBleGVyY2lzZXNbY3VycmVudEV4ZXJjaXNlSW5kZXhdIHx8IG51bGw7XHJcbiAgXHJcbiAgLy8g4pyFIFNUT1JBR0VfS0VZIFNUQUJMRVxyXG4gIGNvbnN0IFNUT1JBR0VfS0VZID0gYHNwZWxsaW5nXyR7bGV2ZWx9XyR7ZXhlcmNpc2VUeXBlfWA7XHJcblxyXG4gIC8vIOKchSBGT05DVElPTiBTVEFCTEUgYXZlYyB1c2VDYWxsYmFjayBldCBkw6lwZW5kYW5jZXMgZml4ZXNcclxuICBjb25zdCBsb2FkU3RvcmVkRGF0YSA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgQXN5bmNTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVkpO1xyXG4gICAgICBpZiAoc2F2ZWQpIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShzYXZlZCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgc2V0Q29tcGxldGVkRXhlcmNpc2VzKGRhdGEuY29tcGxldGVkRXhlcmNpc2VzIHx8IFtdKTtcclxuICAgICAgICBzZXRVc2VyQW5zd2VycyhkYXRhLnVzZXJBbnN3ZXJzIHx8IFtdKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoZGF0YS5sYXN0UG9zaXRpb24/LmV4ZXJjaXNlSW5kZXggIT09IHVuZGVmaW5lZCAmJiBcclxuICAgICAgICAgICAgZGF0YS5sYXN0UG9zaXRpb24uZXhlcmNpc2VJbmRleCA+PSAwICYmIFxyXG4gICAgICAgICAgICBkYXRhLmxhc3RQb3NpdGlvbi5leGVyY2lzZUluZGV4IDwgdG90YWxFeGVyY2lzZXMpIHtcclxuICAgICAgICAgIHNldEN1cnJlbnRFeGVyY2lzZUluZGV4KGRhdGEubGFzdFBvc2l0aW9uLmV4ZXJjaXNlSW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgLy8gU2lsZW50bHkgZmFpbFxyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0TG9hZGVkKHRydWUpO1xyXG4gICAgfVxyXG4gIH0sIFtTVE9SQUdFX0tFWV0pOyAvLyDinIUgU0VVTEVNRU5UIFNUT1JBR0VfS0VZXHJcblxyXG4gIC8vIOKchSBFRkZFVCBTSU1QTElGScOJIC0gdW5lIHNldWxlIGZvaXNcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFpc0luaXRpYWxpemVkLmN1cnJlbnQpIHtcclxuICAgICAgbG9hZFN0b3JlZERhdGEoKTtcclxuICAgICAgaXNJbml0aWFsaXplZC5jdXJyZW50ID0gdHJ1ZTtcclxuICAgIH1cclxuICB9LCBbbG9hZFN0b3JlZERhdGFdKTtcclxuXHJcbiAgLy8g4pyFIFNBVkUgRk9OQ1RJT04gU1RBQkxFXHJcbiAgY29uc3Qgc2F2ZVRvU3RvcmFnZSA9IHVzZUNhbGxiYWNrKGFzeW5jIChkYXRhVG9TYXZlKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBBc3luY1N0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWSwgSlNPTi5zdHJpbmdpZnkoZGF0YVRvU2F2ZSkpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgLy8gU2lsZW50bHkgZmFpbFxyXG4gICAgfVxyXG4gIH0sIFtTVE9SQUdFX0tFWV0pO1xyXG5cclxuICBjb25zdCByZXNldEV4ZXJjaXNlU3RhdGUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBzZXRVc2VySW5wdXQoJycpO1xyXG4gICAgc2V0U2hvd0hpbnQoZmFsc2UpO1xyXG4gICAgc2V0U2hvd0ZlZWRiYWNrKGZhbHNlKTtcclxuICAgIHNldElzQ29ycmVjdChmYWxzZSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCB0b2dnbGVIaW50ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgc2V0U2hvd0hpbnQocHJldiA9PiAhcHJldik7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBjaGVja0Fuc3dlciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGlmICghY3VycmVudEV4ZXJjaXNlPy5jb3JyZWN0QW5zd2VyKSB7XHJcbiAgICAgIEFsZXJ0LmFsZXJ0KCdFcnJldXInLCAnUsOpcG9uc2UgY29ycmVjdGUgbm9uIGTDqWZpbmllJyk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgY29ycmVjdCA9IGZhbHNlO1xyXG5cclxuICAgICAgc3dpdGNoIChjdXJyZW50RXhlcmNpc2UudHlwZSkge1xyXG4gICAgICAgIGNhc2UgJ2hvbW9waG9uZXMnOlxyXG4gICAgICAgICAgY29ycmVjdCA9IHVzZXJJbnB1dCA9PT0gY3VycmVudEV4ZXJjaXNlLmNvcnJlY3RBbnN3ZXI7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdjb3JyZWN0aW9uJzpcclxuICAgICAgICBjYXNlICdzcGVsbGluZ19ydWxlJzpcclxuICAgICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgICBjb25zdCB1c2VyQW5zd2VyID0gU3RyaW5nKHVzZXJJbnB1dCkudHJpbSgpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICBjb25zdCBjb3JyZWN0QW5zd2VyID0gU3RyaW5nKGN1cnJlbnRFeGVyY2lzZS5jb3JyZWN0QW5zd2VyKS50cmltKCkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgIGNvcnJlY3QgPSB1c2VyQW5zd2VyID09PSBjb3JyZWN0QW5zd2VyO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBzZXRJc0NvcnJlY3QoY29ycmVjdCk7XHJcbiAgICAgIHNldFNob3dGZWVkYmFjayh0cnVlKTtcclxuICAgICAgcmV0dXJuIGNvcnJlY3Q7XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgc2V0SXNDb3JyZWN0KGZhbHNlKTtcclxuICAgICAgc2V0U2hvd0ZlZWRiYWNrKHRydWUpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSwgW3VzZXJJbnB1dCwgY3VycmVudEV4ZXJjaXNlXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZU5leHQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICAvLyBNYXJxdWVyIGNvbW1lIGNvbXBsw6l0w6lcclxuICAgIGNvbnN0IG5ld0NvbXBsZXRlZCA9IGNvbXBsZXRlZEV4ZXJjaXNlcy5pbmNsdWRlcyhjdXJyZW50RXhlcmNpc2VJbmRleCkgXHJcbiAgICAgID8gY29tcGxldGVkRXhlcmNpc2VzIFxyXG4gICAgICA6IFsuLi5jb21wbGV0ZWRFeGVyY2lzZXMsIGN1cnJlbnRFeGVyY2lzZUluZGV4XTtcclxuXHJcbiAgICBjb25zdCBuZXdBbnN3ZXIgPSB7XHJcbiAgICAgIGV4ZXJjaXNlSW5kZXg6IGN1cnJlbnRFeGVyY2lzZUluZGV4LFxyXG4gICAgICBpc0NvcnJlY3QsXHJcbiAgICAgIHVzZXJBbnN3ZXI6IHVzZXJJbnB1dCxcclxuICAgICAgY29ycmVjdEFuc3dlcjogY3VycmVudEV4ZXJjaXNlPy5jb3JyZWN0QW5zd2VyIHx8ICcnLFxyXG4gICAgICBleGVyY2lzZVR5cGU6IGN1cnJlbnRFeGVyY2lzZT8udHlwZSB8fCAnY29ycmVjdGlvbicsXHJcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBuZXdBbnN3ZXJzID0gWy4uLnVzZXJBbnN3ZXJzLCBuZXdBbnN3ZXJdO1xyXG5cclxuICAgIC8vIFNhdXZlZ2FyZGVyIGltbcOpZGlhdGVtZW50XHJcbiAgICBjb25zdCBkYXRhVG9TYXZlID0ge1xyXG4gICAgICBjb21wbGV0ZWRFeGVyY2lzZXM6IG5ld0NvbXBsZXRlZCxcclxuICAgICAgdXNlckFuc3dlcnM6IG5ld0Fuc3dlcnMsXHJcbiAgICAgIGxhc3RQb3NpdGlvbjoge1xyXG4gICAgICAgIGV4ZXJjaXNlSW5kZXg6IGN1cnJlbnRFeGVyY2lzZUluZGV4IDwgdG90YWxFeGVyY2lzZXMgLSAxID8gY3VycmVudEV4ZXJjaXNlSW5kZXggKyAxIDogY3VycmVudEV4ZXJjaXNlSW5kZXgsXHJcbiAgICAgICAgZXhlcmNpc2VUeXBlLFxyXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHNhdmVUb1N0b3JhZ2UoZGF0YVRvU2F2ZSk7XHJcblxyXG4gICAgLy8gTWV0dHJlIMOgIGpvdXIgbGVzIHN0YXRlc1xyXG4gICAgc2V0Q29tcGxldGVkRXhlcmNpc2VzKG5ld0NvbXBsZXRlZCk7XHJcbiAgICBzZXRVc2VyQW5zd2VycyhuZXdBbnN3ZXJzKTtcclxuXHJcbiAgICBpZiAoY3VycmVudEV4ZXJjaXNlSW5kZXggPCB0b3RhbEV4ZXJjaXNlcyAtIDEpIHtcclxuICAgICAgc2V0Q3VycmVudEV4ZXJjaXNlSW5kZXgocHJldiA9PiBwcmV2ICsgMSk7XHJcbiAgICAgIHJlc2V0RXhlcmNpc2VTdGF0ZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgQWxlcnQuYWxlcnQoXHJcbiAgICAgICAgXCJGw6lsaWNpdGF0aW9uc1wiLCBcclxuICAgICAgICBgVm91cyBhdmV6IHRlcm1pbsOpIHRvdXMgbGVzIGV4ZXJjaWNlcyBkJ29ydGhvZ3JhcGhlICR7ZXhlcmNpc2VUeXBlfSBkdSBuaXZlYXUgJHtsZXZlbH0gIWBcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIHsgY29tcGxldGVkOiB0cnVlIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiB7IGNvbXBsZXRlZDogZmFsc2UgfTtcclxuICB9LCBbXHJcbiAgICBjdXJyZW50RXhlcmNpc2VJbmRleCwgXHJcbiAgICB0b3RhbEV4ZXJjaXNlcywgXHJcbiAgICBpc0NvcnJlY3QsIFxyXG4gICAgdXNlcklucHV0LCBcclxuICAgIGN1cnJlbnRFeGVyY2lzZSwgXHJcbiAgICBjb21wbGV0ZWRFeGVyY2lzZXMsIFxyXG4gICAgdXNlckFuc3dlcnMsIFxyXG4gICAgc2F2ZVRvU3RvcmFnZSwgXHJcbiAgICByZXNldEV4ZXJjaXNlU3RhdGUsIFxyXG4gICAgZXhlcmNpc2VUeXBlLCBcclxuICAgIGxldmVsXHJcbiAgXSk7XHJcblxyXG4gIGNvbnN0IHJldHJ5RXhlcmNpc2UgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICByZXNldEV4ZXJjaXNlU3RhdGUoKTtcclxuICB9LCBbcmVzZXRFeGVyY2lzZVN0YXRlXSk7XHJcblxyXG4gIGNvbnN0IHN0YXRzID0ge1xyXG4gICAgdG90YWxFeGVyY2lzZXMsXHJcbiAgICBjb21wbGV0ZWRFeGVyY2lzZXNDb3VudDogY29tcGxldGVkRXhlcmNpc2VzLmxlbmd0aCxcclxuICAgIHRvdGFsUHJvZ3Jlc3M6IHRvdGFsRXhlcmNpc2VzID4gMCA/IE1hdGgucm91bmQoKGNvbXBsZXRlZEV4ZXJjaXNlcy5sZW5ndGggLyB0b3RhbEV4ZXJjaXNlcykgKiAxMDApIDogMCxcclxuICAgIHJlbWFpbmluZ0V4ZXJjaXNlczogdG90YWxFeGVyY2lzZXMgLSBjb21wbGV0ZWRFeGVyY2lzZXMubGVuZ3RoLFxyXG4gICAgcGVyZm9ybWFuY2U6IHtcclxuICAgICAgdG90YWw6IHVzZXJBbnN3ZXJzLmxlbmd0aCxcclxuICAgICAgY29ycmVjdDogdXNlckFuc3dlcnMuZmlsdGVyKGFuc3dlciA9PiBhbnN3ZXIuaXNDb3JyZWN0KS5sZW5ndGgsXHJcbiAgICAgIGluY29ycmVjdDogdXNlckFuc3dlcnMuZmlsdGVyKGFuc3dlciA9PiAhYW5zd2VyLmlzQ29ycmVjdCkubGVuZ3RoLFxyXG4gICAgICBhY2N1cmFjeTogdXNlckFuc3dlcnMubGVuZ3RoID4gMCA/IE1hdGgucm91bmQoKHVzZXJBbnN3ZXJzLmZpbHRlcihhbnN3ZXIgPT4gYW5zd2VyLmlzQ29ycmVjdCkubGVuZ3RoIC8gdXNlckFuc3dlcnMubGVuZ3RoKSAqIDEwMCkgOiAwXHJcbiAgICB9LFxyXG4gICAgY29tcGxldGVkRXhlcmNpc2VzLFxyXG4gICAgdXNlckFuc3dlcnNcclxuICB9O1xyXG5cclxuICBjb25zdCBpc0xhc3RFeGVyY2lzZSA9IGN1cnJlbnRFeGVyY2lzZUluZGV4ID09PSB0b3RhbEV4ZXJjaXNlcyAtIDE7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBjdXJyZW50RXhlcmNpc2VJbmRleCxcclxuICAgIHVzZXJJbnB1dCxcclxuICAgIHNob3dIaW50LFxyXG4gICAgc2hvd0ZlZWRiYWNrLFxyXG4gICAgaXNDb3JyZWN0LFxyXG4gICAgY29tcGxldGVkRXhlcmNpc2VzLFxyXG4gICAgdXNlckFuc3dlcnMsXHJcbiAgICBsb2FkZWQsXHJcbiAgICBjdXJyZW50RXhlcmNpc2UsXHJcbiAgICB0b3RhbEV4ZXJjaXNlcyxcclxuICAgIGV4ZXJjaXNlcyxcclxuICAgIHNldFVzZXJJbnB1dCxcclxuICAgIHRvZ2dsZUhpbnQsXHJcbiAgICBjaGVja0Fuc3dlcixcclxuICAgIGhhbmRsZU5leHQsXHJcbiAgICByZXRyeUV4ZXJjaXNlLFxyXG4gICAgcmVzZXRFeGVyY2lzZVN0YXRlLFxyXG4gICAgaXNMYXN0RXhlcmNpc2UsXHJcbiAgICBoYXNWYWxpZERhdGEsXHJcbiAgICBzdGF0cyxcclxuICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlU3BlbGxpbmc7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUVBLElBQUFBLE1BQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLFlBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLGFBQUEsR0FBQUMsc0JBQUEsQ0FBQUgsT0FBQTtBQUVBLElBQU1JLFdBQVcsR0FBRyxTQUFkQSxXQUFXQSxDQUFBLEVBQXNFO0VBQUEsSUFBbEVDLFlBQVksR0FBQUMsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsSUFBSTtFQUFBLElBQUVHLEtBQUssR0FBQUgsU0FBQSxDQUFB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