{"version":3,"names":["_reactNative","require","_native","_expoRouter","_react","_Container","_interopRequireWildcard","_VocabularyHeader","_interopRequireDefault","_VocabularyCategorySelector","_VocabularyProgress","_VocabularyWordSection","_VocabularyNavigation","_useVocabulary2","_useLastActivity2","_vocabularyDataHelper","_style","_jsxRuntime","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","VocabularyExercise","_ref","route","_ref2","params","level","mode","navigation","useNavigation","styles","createStyles","_useLastActivity","useLastActivity","saveActivity","finalMode","isBonusLevel","levelColor","getLevelColor","_useState","useState","_useState2","_slicedToArray2","vocabularyData","setVocabularyData","useEffect","isMounted","load","_ref3","_asyncToGenerator2","data","loadVocabularyData","apply","arguments","_useVocabulary","useVocabulary","categoryIndex","wordIndex","showTranslation","completedWords","loaded","showDetailedProgress","currentWord","currentCategory","changeCategory","toggleTranslation","toggleDetailedProgress","handleNext","handlePrevious","canGoToPrevious","isLastWordInExercise","display","saveData","totalWords","categories","Array","isArray","reduce","total","cat","_cat$words","words","length","exercises","ex","_ex$words","activityData","title","type","metadata","word","category","name","_cat$words2","_ex$words2","handleBackPress","useCallback","router","push","pathname","handleCategoryChange","index","handleCategoryProgressPress","handleToggleProgressDetails","handleNextWord","result","completed","goBack","handlePreviousWord","jsx","safeArea","safeAreaEdges","CONTAINER_SAFE_EDGES","ALL","backgroundColor","statusBarStyle","children","View","style","loadingContainer","ActivityIndicator","testID","size","color","jsxs","withScrollView","withPadding","scrollViewProps","showsVerticalScrollIndicator","contentContainerStyle","scrollContent","onBackPress","expanded","onToggleExpand","onCategoryPress","selectedIndex","onSelectCategory","wordCounter","onToggleTranslation","onNext","onPrevious","canGoPrevious","isLast","_default","exports"],"sources":["index.js"],"sourcesContent":["// VocabularyExercise/index.js - BOUCLE INFINIE CORRIGÉE\n\nimport { View, ActivityIndicator } from \"react-native\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { router } from \"expo-router\";\nimport { useEffect, useCallback, useState } from \"react\";\n\nimport Container, { CONTAINER_SAFE_EDGES } from \"../../../components/layout/Container\";\nimport VocabularyHeader from \"./VocabularyHeader\";\nimport VocabularyCategorySelector from \"./VocabularyCategorySelector\";\nimport VocabularyProgress from \"./VocabularyProgress\";\nimport VocabularyWordSection from \"./VocabularyWordSection\";\nimport VocabularyNavigation from \"./VocabularyNavigation\";\n\nimport useVocabulary from \"./hooks/useVocabulary\";\nimport useLastActivity from \"../../../hooks/useLastActivity\";\nimport { isBonusLevel, getLevelColor, getVocabularyData, loadVocabularyData } from \"../../../utils/vocabulary/vocabularyDataHelper\";\nimport createStyles from \"./style\";\n\nconst VocabularyExercise = ({ route }) => {\n  const { level, mode } = route.params || {};\n  const navigation = useNavigation();\n  const styles = createStyles();\n  const { saveActivity } = useLastActivity();\n\n  // Data\n  const finalMode = mode || (isBonusLevel(level) ? \"fast\" : \"classic\");\n  const levelColor = getLevelColor(level);\n  const [vocabularyData, setVocabularyData] = useState(null);\n\n  useEffect(() => {\n    let isMounted = true;\n    const load = async () => {\n      const data = await loadVocabularyData(level, finalMode);\n      if (isMounted) setVocabularyData(data);\n    };\n    load();\n    return () => {\n      isMounted = false;\n    };\n  }, [level, finalMode]);\n\n  // Hook unifié\n  const {\n    categoryIndex,\n    wordIndex,\n    showTranslation,\n    completedWords,\n    loaded,\n    showDetailedProgress,\n    currentWord,\n    currentCategory,\n    changeCategory,\n    toggleTranslation,\n    toggleDetailedProgress,\n    handleNext,\n    handlePrevious,\n    canGoToPrevious,\n    isLastWordInExercise,\n    display,\n    saveData, // Ajouté ici\n  } = useVocabulary(vocabularyData, level, finalMode);\n\n  // =================== SAUVEGARDE ACTIVITÉ SIMPLIFIÉE ===================\n  \n  useEffect(() => {\n    // ✅ CONDITION SIMPLIFIÉE pour éviter boucle infinie\n    if (!loaded || !vocabularyData || !currentWord) return;\n\n    // ✅ DÉPENDANCES LIMITÉES - seulement wordIndex change\n    let totalWords = 15; // fallback\n    \n    if (vocabularyData.categories && Array.isArray(vocabularyData.categories)) {\n      totalWords = vocabularyData.categories.reduce((total, cat) => total + (cat.words?.length || 0), 0);\n    } else if (vocabularyData.exercises && Array.isArray(vocabularyData.exercises)) {\n      totalWords = vocabularyData.exercises.reduce((total, ex) => total + (ex.words?.length || 0), 0);\n    } else if (vocabularyData.words && Array.isArray(vocabularyData.words)) {\n      totalWords = vocabularyData.words.length;\n    }\n\n    const activityData = {\n      title: `Vocabulaire ${finalMode === \"fast\" ? \"Fast\" : \"\"}`,\n      level,\n      type: \"vocabulary\",\n      mode: finalMode,\n      metadata: {\n        word: wordIndex, // ✅ Index pour progression (0-based)\n        totalWords,\n        category: currentCategory?.name || \"Général\",\n        categoryIndex,\n        wordIndex\n      }\n    };\n\n    saveActivity(activityData);\n  }, [wordIndex]); // ✅ SEULEMENT wordIndex - plus de boucle !\n\n  // Appel initial pour enregistrer l'activité dès que les données sont prêtes\n  useEffect(() => {\n    if (!loaded || !vocabularyData || !currentWord) return;\n\n    let totalWords = 15;\n    if (vocabularyData.categories && Array.isArray(vocabularyData.categories)) {\n      totalWords = vocabularyData.categories.reduce((total, cat) => total + (cat.words?.length || 0), 0);\n    } else if (vocabularyData.exercises && Array.isArray(vocabularyData.exercises)) {\n      totalWords = vocabularyData.exercises.reduce((total, ex) => total + (ex.words?.length || 0), 0);\n    } else if (vocabularyData.words && Array.isArray(vocabularyData.words)) {\n      totalWords = vocabularyData.words.length;\n    }\n\n    const activityData = {\n      title: `Vocabulaire ${finalMode === \"fast\" ? \"Fast\" : \"\"}`,\n      level,\n      type: \"vocabulary\",\n      mode: finalMode,\n      metadata: {\n        word: wordIndex,\n        totalWords,\n        category: currentCategory?.name || \"Général\",\n        categoryIndex,\n        wordIndex,\n      },\n    };\n\n    saveActivity(activityData);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loaded, vocabularyData]);\n\n  // Handlers\n  const handleBackPress = useCallback(() => {\n    router.push({\n      pathname: \"/tabs/exerciseSelection\",\n      params: { level }\n    });\n  }, [level]);\n\n  const handleCategoryChange = useCallback((index) => changeCategory(index), [changeCategory]);\n  const handleCategoryProgressPress = useCallback((index) => changeCategory(index), [changeCategory]);\n  const handleToggleProgressDetails = useCallback(() => toggleDetailedProgress(), [toggleDetailedProgress]);\n\n  const handleNextWord = useCallback(async () => {\n    const result = handleNext();\n    // Attendre la sauvegarde avant de naviguer\n    if (typeof saveData === 'function') {\n      await saveData();\n    }\n    if (result.completed) {\n      navigation.goBack();\n    }\n  }, [handleNext, navigation, saveData]);\n\n  const handlePreviousWord = useCallback(() => handlePrevious(), [handlePrevious]);\n\n  // Loading state\n  if (!loaded || !vocabularyData) {\n    return (\n      <Container\n        safeArea\n        safeAreaEdges={CONTAINER_SAFE_EDGES.ALL}\n        backgroundColor=\"#f8fafc\"\n        statusBarStyle=\"dark-content\"\n      >\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator testID=\"activity-indicator\" size=\"large\" color={levelColor} />\n        </View>\n      </Container>\n    );\n  }\n\n  return (\n    <Container\n      safeArea\n      safeAreaEdges={CONTAINER_SAFE_EDGES.ALL}\n      withScrollView\n      backgroundColor=\"#f8fafc\"\n      statusBarStyle=\"dark-content\"\n      withPadding={false}\n      scrollViewProps={{\n        showsVerticalScrollIndicator: false,\n        contentContainerStyle: styles.scrollContent,\n      }}\n    >\n      <VocabularyHeader\n        level={level}\n        mode={finalMode}\n        onBackPress={handleBackPress}\n      />\n\n      <VocabularyProgress\n        vocabularyData={vocabularyData}\n        completedWords={completedWords}\n        levelColor={levelColor}\n        expanded={showDetailedProgress}\n        onToggleExpand={handleToggleProgressDetails}\n        onCategoryPress={handleCategoryProgressPress}\n      />\n\n      <VocabularyCategorySelector\n        categories={display.categories}\n        selectedIndex={categoryIndex}\n        onSelectCategory={handleCategoryChange}\n        levelColor={levelColor}\n      />\n\n      <VocabularyWordSection\n        currentWord={currentWord}\n        wordCounter={display.wordCounter}\n        mode={finalMode}\n        level={level}\n        levelColor={levelColor}\n        showTranslation={showTranslation}\n        onToggleTranslation={toggleTranslation}\n      />\n\n      <VocabularyNavigation\n        onNext={handleNextWord}\n        onPrevious={handlePreviousWord}\n        canGoPrevious={canGoToPrevious}\n        isLast={isLastWordInExercise}\n        levelColor={levelColor}\n      />\n    </Container>\n  );\n};\n\nexport default VocabularyExercise;"],"mappings":"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","ignoreList":[]}