fa975c3ae5466c94d8bbf83e252b452c
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = require("react");
var _reactNative = require("react-native");
var _expoRouter = require("expo-router");
var _propTypes = _interopRequireDefault(require("prop-types"));
var _Container = _interopRequireWildcard(require("../../../components/layout/Container"));
var _ConversationHeader = _interopRequireDefault(require("./ConversationHeader"));
var _ConversationSelector = _interopRequireDefault(require("./ConversationSelector"));
var _ConversationProgress = _interopRequireDefault(require("./ConversationProgress"));
var _ConversationScenarioDescription = _interopRequireDefault(require("./ConversationScenarioDescription"));
var _ConversationMessageList = _interopRequireDefault(require("./ConversationMessageList"));
var _ConversationSuggestions = _interopRequireDefault(require("./ConversationSuggestions"));
var _ConversationInput = _interopRequireDefault(require("./ConversationInput"));
var _useConversation2 = _interopRequireDefault(require("./hooks/useConversation"));
var _useLastActivity2 = _interopRequireDefault(require("../../../hooks/useLastActivity"));
var _conversationDataHelper = require("../../../utils/conversation/conversationDataHelper");
var _style = _interopRequireDefault(require("./style"));
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
var ConversationExercise = function ConversationExercise(_ref) {
  var route = _ref.route;
  var _ref2 = (route == null ? void 0 : route.params) || {},
    _ref2$level = _ref2.level,
    level = _ref2$level === void 0 ? "A1" : _ref2$level;
  var _useLastActivity = (0, _useLastActivity2.default)(),
    saveActivity = _useLastActivity.saveActivity;
  var levelColor = (0, _conversationDataHelper.getLevelColor)(level);
  var conversationData = (0, _react.useMemo)(function () {
    return (0, _conversationDataHelper.getConversationData)(level);
  }, [level]);
  var _useConversation = (0, _useConversation2.default)(conversationData, level),
    currentScenarioIndex = _useConversation.currentScenarioIndex,
    conversation = _useConversation.conversation,
    message = _useConversation.message,
    setMessage = _useConversation.setMessage,
    isTyping = _useConversation.isTyping,
    suggestions = _useConversation.suggestions,
    showHelp = _useConversation.showHelp,
    completedScenarios = _useConversation.completedScenarios,
    conversationHistory = _useConversation.conversationHistory,
    loaded = _useConversation.loaded,
    showDetailedProgress = _useConversation.showDetailedProgress,
    currentScenario = _useConversation.currentScenario,
    totalScenarios = _useConversation.totalScenarios,
    hasValidData = _useConversation.hasValidData,
    changeScenario = _useConversation.changeScenario,
    sendMessage = _useConversation.sendMessage,
    handleSuggestion = _useConversation.handleSuggestion,
    toggleHelp = _useConversation.toggleHelp,
    toggleDetailedProgress = _useConversation.toggleDetailedProgress,
    isConversationStarted = _useConversation.isConversationStarted,
    stats = _useConversation.stats,
    display = _useConversation.display;
  var activityMetadata = (0, _react.useMemo)(function () {
    return {
      word: currentScenarioIndex,
      totalWords: totalScenarios,
      scenario: currentScenarioIndex,
      step: stats.currentStep || 0,
      totalSteps: stats.totalSteps || 1,
      scenarioName: (currentScenario == null ? void 0 : currentScenario.title) || `Sc√©nario ${currentScenarioIndex + 1}`,
      isScenario: true,
      completedScenarios: Object.keys(completedScenarios).length
    };
  }, [currentScenarioIndex, stats.currentStep, stats.totalSteps, currentScenario == null ? void 0 : currentScenario.title, totalScenarios, completedScenarios]);
  var handleSaveActivity = (0, _react.useCallback)(function () {
    if (loaded && hasValidData && currentScenario && isConversationStarted) {
      saveActivity({
        title: "Conversations",
        level: level,
        type: "conversations",
        metadata: activityMetadata
      });
    }
  }, [loaded, hasValidData, currentScenario, isConversationStarted, level, saveActivity, activityMetadata]);
  (0, _react.useEffect)(function () {
    handleSaveActivity();
  }, [handleSaveActivity]);
  var handleBackPress = (0, _react.useCallback)(function () {
    _expoRouter.router.push({
      pathname: "/tabs/exerciseSelection",
      params: {
        level: level
      }
    });
  }, [level]);
  var handleScenarioChange = (0, _react.useCallback)(function (index) {
    return changeScenario(index);
  }, [changeScenario]);
  var handleSendMessage = (0, _react.useCallback)(function () {
    return sendMessage();
  }, [sendMessage]);
  var handleUseSuggestion = (0, _react.useCallback)(function (suggestion) {
    return handleSuggestion(suggestion);
  }, [handleSuggestion]);
  var handleToggleHelp = (0, _react.useCallback)(function () {
    return toggleHelp();
  }, [toggleHelp]);
  var handleToggleProgressDetails = (0, _react.useCallback)(function () {
    return toggleDetailedProgress();
  }, [toggleDetailedProgress]);
  var handleScenarioChangeCb = (0, _react.useCallback)(function () {
    return handleScenarioChange.apply(void 0, arguments);
  }, [handleScenarioChange]);
  var handleToggleProgressDetailsCb = (0, _react.useCallback)(function () {
    return handleToggleProgressDetails();
  }, [handleToggleProgressDetails]);
  var handleToggleHelpCb = (0, _react.useCallback)(function () {
    return handleToggleHelp();
  }, [handleToggleHelp]);
  var handleBackPressCb = (0, _react.useCallback)(function () {
    return handleBackPress();
  }, [handleBackPress]);
  if (!loaded || !hasValidData) {
    return (0, _jsxRuntime.jsx)(_Container.default, {
      testID: "conversation-container",
      safeArea: true,
      safeAreaEdges: _Container.CONTAINER_SAFE_EDGES.ALL,
      backgroundColor: "#FAFBFC",
      statusBarStyle: "dark-content"
    });
  }
  return (0, _jsxRuntime.jsxs)(_Container.default, {
    testID: "conversation-container",
    safeArea: true,
    safeAreaEdges: _Container.CONTAINER_SAFE_EDGES.ALL,
    backgroundColor: "#FAFBFC",
    statusBarStyle: "dark-content",
    withPadding: false,
    style: _style.default.safeArea,
    children: [(0, _jsxRuntime.jsx)(_ConversationHeader.default, {
      level: level,
      onBackPress: handleBackPressCb,
      levelColor: levelColor
    }), (0, _jsxRuntime.jsx)(_ConversationSelector.default, {
      scenarios: conversationData.exercises,
      selectedIndex: currentScenarioIndex,
      onSelectScenario: handleScenarioChangeCb,
      levelColor: levelColor
    }), (0, _jsxRuntime.jsx)(_ConversationProgress.default, {
      progress: stats.completionProgress,
      currentStep: stats.currentStep,
      totalSteps: stats.totalSteps,
      levelColor: levelColor,
      conversationData: conversationData.exercises,
      completedScenarios: completedScenarios,
      conversationHistory: conversationHistory,
      expanded: showDetailedProgress,
      onToggleExpand: handleToggleProgressDetailsCb,
      onScenarioPress: handleScenarioChangeCb
    }), (0, _jsxRuntime.jsx)(_ConversationScenarioDescription.default, {
      description: currentScenario.description,
      helpText: display.currentHelp,
      showHelp: showHelp,
      toggleHelp: handleToggleHelpCb,
      levelColor: levelColor
    }), (0, _jsxRuntime.jsxs)(_reactNative.KeyboardAvoidingView, {
      style: _style.default.chatContainer,
      behavior: _reactNative.Platform.OS === "ios" ? "padding" : "height",
      keyboardVerticalOffset: _reactNative.Platform.OS === "ios" ? 90 : 0,
      children: [(0, _jsxRuntime.jsx)(_ConversationMessageList.default, {
        messages: conversation,
        isTyping: isTyping,
        levelColor: levelColor
      }), (0, _jsxRuntime.jsx)(_ConversationSuggestions.default, {
        suggestions: suggestions,
        onPressSuggestion: handleUseSuggestion,
        levelColor: levelColor
      }), (0, _jsxRuntime.jsx)(_ConversationInput.default, {
        message: message,
        onChangeMessage: setMessage,
        onSendMessage: handleSendMessage,
        levelColor: levelColor
      })]
    })]
  });
};
ConversationExercise.propTypes = {
  route: _propTypes.default.shape({
    params: _propTypes.default.shape({
      level: _propTypes.default.string
    })
  }).isRequired
};
var _default = exports.default = ConversationExercise;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX3JlYWN0TmF0aXZlIiwiX2V4cG9Sb3V0ZXIiLCJfcHJvcFR5cGVzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9Db250YWluZXIiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9Db252ZXJzYXRpb25IZWFkZXIiLCJfQ29udmVyc2F0aW9uU2VsZWN0b3IiLCJfQ29udmVyc2F0aW9uUHJvZ3Jlc3MiLCJfQ29udmVyc2F0aW9uU2NlbmFyaW9EZXNjcmlwdGlvbiIsIl9Db252ZXJzYXRpb25NZXNzYWdlTGlzdCIsIl9Db252ZXJzYXRpb25TdWdnZXN0aW9ucyIsIl9Db252ZXJzYXRpb25JbnB1dCIsIl91c2VDb252ZXJzYXRpb24yIiwiX3VzZUxhc3RBY3Rpdml0eTIiLCJfY29udmVyc2F0aW9uRGF0YUhlbHBlciIsIl9zdHlsZSIsIl9qc3hSdW50aW1lIiwiZSIsInQiLCJXZWFrTWFwIiwiciIsIm4iLCJfX2VzTW9kdWxlIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiZGVmYXVsdCIsImhhcyIsImdldCIsInNldCIsIl90IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJDb252ZXJzYXRpb25FeGVyY2lzZSIsIl9yZWYiLCJyb3V0ZSIsIl9yZWYyIiwicGFyYW1zIiwiX3JlZjIkbGV2ZWwiLCJsZXZlbCIsIl91c2VMYXN0QWN0aXZpdHkiLCJ1c2VMYXN0QWN0aXZpdHkiLCJzYXZlQWN0aXZpdHkiLCJsZXZlbENvbG9yIiwiZ2V0TGV2ZWxDb2xvciIsImNvbnZlcnNhdGlvbkRhdGEiLCJ1c2VNZW1vIiwiZ2V0Q29udmVyc2F0aW9uRGF0YSIsIl91c2VDb252ZXJzYXRpb24iLCJ1c2VDb252ZXJzYXRpb24iLCJjdXJyZW50U2NlbmFyaW9JbmRleCIsImNvbnZlcnNhdGlvbiIsIm1lc3NhZ2UiLCJzZXRNZXNzYWdlIiwiaXNUeXBpbmciLCJzdWdnZXN0aW9ucyIsInNob3dIZWxwIiwiY29tcGxldGVkU2NlbmFyaW9zIiwiY29udmVyc2F0aW9uSGlzdG9yeSIsImxvYWRlZCIsInNob3dEZXRhaWxlZFByb2dyZXNzIiwiY3VycmVudFNjZW5hcmlvIiwidG90YWxTY2VuYXJpb3MiLCJoYXNWYWxpZERhdGEiLCJjaGFuZ2VTY2VuYXJpbyIsInNlbmRNZXNzYWdlIiwiaGFuZGxlU3VnZ2VzdGlvbiIsInRvZ2dsZUhlbHAiLCJ0b2dnbGVEZXRhaWxlZFByb2dyZXNzIiwiaXNDb252ZXJzYXRpb25TdGFydGVkIiwic3RhdHMiLCJkaXNwbGF5IiwiYWN0aXZpdHlNZXRhZGF0YSIsIndvcmQiLCJ0b3RhbFdvcmRzIiwic2NlbmFyaW8iLCJzdGVwIiwiY3VycmVudFN0ZXAiLCJ0b3RhbFN0ZXBzIiwic2NlbmFyaW9OYW1lIiwidGl0bGUiLCJpc1NjZW5hcmlvIiwia2V5cyIsImxlbmd0aCIsImhhbmRsZVNhdmVBY3Rpdml0eSIsInVzZUNhbGxiYWNrIiwidHlwZSIsIm1ldGFkYXRhIiwidXNlRWZmZWN0IiwiaGFuZGxlQmFja1ByZXNzIiwicm91dGVyIiwicHVzaCIsInBhdGhuYW1lIiwiaGFuZGxlU2NlbmFyaW9DaGFuZ2UiLCJpbmRleCIsImhhbmRsZVNlbmRNZXNzYWdlIiwiaGFuZGxlVXNlU3VnZ2VzdGlvbiIsInN1Z2dlc3Rpb24iLCJoYW5kbGVUb2dnbGVIZWxwIiwiaGFuZGxlVG9nZ2xlUHJvZ3Jlc3NEZXRhaWxzIiwiaGFuZGxlU2NlbmFyaW9DaGFuZ2VDYiIsImFwcGx5IiwiYXJndW1lbnRzIiwiaGFuZGxlVG9nZ2xlUHJvZ3Jlc3NEZXRhaWxzQ2IiLCJoYW5kbGVUb2dnbGVIZWxwQ2IiLCJoYW5kbGVCYWNrUHJlc3NDYiIsImpzeCIsInRlc3RJRCIsInNhZmVBcmVhIiwic2FmZUFyZWFFZGdlcyIsIkNPTlRBSU5FUl9TQUZFX0VER0VTIiwiQUxMIiwiYmFja2dyb3VuZENvbG9yIiwic3RhdHVzQmFyU3R5bGUiLCJqc3hzIiwid2l0aFBhZGRpbmciLCJzdHlsZSIsInN0eWxlcyIsImNoaWxkcmVuIiwib25CYWNrUHJlc3MiLCJzY2VuYXJpb3MiLCJleGVyY2lzZXMiLCJzZWxlY3RlZEluZGV4Iiwib25TZWxlY3RTY2VuYXJpbyIsInByb2dyZXNzIiwiY29tcGxldGlvblByb2dyZXNzIiwiZXhwYW5kZWQiLCJvblRvZ2dsZUV4cGFuZCIsIm9uU2NlbmFyaW9QcmVzcyIsImRlc2NyaXB0aW9uIiwiaGVscFRleHQiLCJjdXJyZW50SGVscCIsIktleWJvYXJkQXZvaWRpbmdWaWV3IiwiY2hhdENvbnRhaW5lciIsImJlaGF2aW9yIiwiUGxhdGZvcm0iLCJPUyIsImtleWJvYXJkVmVydGljYWxPZmZzZXQiLCJtZXNzYWdlcyIsIm9uUHJlc3NTdWdnZXN0aW9uIiwib25DaGFuZ2VNZXNzYWdlIiwib25TZW5kTWVzc2FnZSIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsInNoYXBlIiwic3RyaW5nIiwiaXNSZXF1aXJlZCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvbnZlcnNhdGlvbkV4ZXJjaXNlL2luZGV4LmpzIC0gVkVSU0lPTiBDT1JSSUfDiUVcclxuaW1wb3J0IHsgdXNlTWVtbywgdXNlRWZmZWN0LCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyBLZXlib2FyZEF2b2lkaW5nVmlldywgUGxhdGZvcm0gfSBmcm9tIFwicmVhY3QtbmF0aXZlXCI7XHJcbmltcG9ydCB7IHJvdXRlciB9IGZyb20gXCJleHBvLXJvdXRlclwiO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5cclxuLy8gTGF5b3V0XHJcbmltcG9ydCBDb250YWluZXIsIHsgQ09OVEFJTkVSX1NBRkVfRURHRVMgfSBmcm9tIFwiLi4vLi4vLi4vY29tcG9uZW50cy9sYXlvdXQvQ29udGFpbmVyXCI7XHJcblxyXG4vLyBDb21wb25lbnRzXHJcbmltcG9ydCBDb252ZXJzYXRpb25IZWFkZXIgZnJvbSBcIi4vQ29udmVyc2F0aW9uSGVhZGVyXCI7XHJcbmltcG9ydCBDb252ZXJzYXRpb25TZWxlY3RvciBmcm9tIFwiLi9Db252ZXJzYXRpb25TZWxlY3RvclwiO1xyXG5pbXBvcnQgQ29udmVyc2F0aW9uUHJvZ3Jlc3MgZnJvbSBcIi4vQ29udmVyc2F0aW9uUHJvZ3Jlc3NcIjtcclxuaW1wb3J0IENvbnZlcnNhdGlvblNjZW5hcmlvRGVzY3JpcHRpb24gZnJvbSBcIi4vQ29udmVyc2F0aW9uU2NlbmFyaW9EZXNjcmlwdGlvblwiO1xyXG5pbXBvcnQgQ29udmVyc2F0aW9uTWVzc2FnZUxpc3QgZnJvbSBcIi4vQ29udmVyc2F0aW9uTWVzc2FnZUxpc3RcIjtcclxuaW1wb3J0IENvbnZlcnNhdGlvblN1Z2dlc3Rpb25zIGZyb20gXCIuL0NvbnZlcnNhdGlvblN1Z2dlc3Rpb25zXCI7XHJcbmltcG9ydCBDb252ZXJzYXRpb25JbnB1dCBmcm9tIFwiLi9Db252ZXJzYXRpb25JbnB1dFwiO1xyXG5cclxuLy8gSG9vayAmIFV0aWxzXHJcbmltcG9ydCB1c2VDb252ZXJzYXRpb24gZnJvbSBcIi4vaG9va3MvdXNlQ29udmVyc2F0aW9uXCI7XHJcbmltcG9ydCB1c2VMYXN0QWN0aXZpdHkgZnJvbSBcIi4uLy4uLy4uL2hvb2tzL3VzZUxhc3RBY3Rpdml0eVwiO1xyXG5pbXBvcnQgeyBnZXRDb252ZXJzYXRpb25EYXRhLCBnZXRMZXZlbENvbG9yIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL2NvbnZlcnNhdGlvbi9jb252ZXJzYXRpb25EYXRhSGVscGVyXCI7XHJcbmltcG9ydCBzdHlsZXMgZnJvbSBcIi4vc3R5bGVcIjtcclxuXHJcbi8qKlxyXG4gKiDwn46vIENvbnZlcnNhdGlvbkV4ZXJjaXNlIC0gVkVSU0lPTiBDT1JSSUfDiUVcclxuICovXHJcbmNvbnN0IENvbnZlcnNhdGlvbkV4ZXJjaXNlID0gKHsgcm91dGUgfSkgPT4ge1xyXG4gIGNvbnN0IHsgbGV2ZWwgPSBcIkExXCIgfSA9IHJvdXRlPy5wYXJhbXMgfHwge307XHJcblxyXG4gIC8vIEhvb2sgcG91ciBzYXV2ZWdhcmRlciBsJ2FjdGl2aXTDqVxyXG4gIGNvbnN0IHsgc2F2ZUFjdGl2aXR5IH0gPSB1c2VMYXN0QWN0aXZpdHkoKTtcclxuXHJcbiAgLy8gRGF0YVxyXG4gIGNvbnN0IGxldmVsQ29sb3IgPSBnZXRMZXZlbENvbG9yKGxldmVsKTtcclxuICBjb25zdCBjb252ZXJzYXRpb25EYXRhID0gdXNlTWVtbygoKSA9PiBnZXRDb252ZXJzYXRpb25EYXRhKGxldmVsKSwgW2xldmVsXSk7XHJcblxyXG4gIC8vIEhvb2sgdW5pZmnDqVxyXG4gIGNvbnN0IHtcclxuICAgIGN1cnJlbnRTY2VuYXJpb0luZGV4LFxyXG4gICAgY29udmVyc2F0aW9uLFxyXG4gICAgbWVzc2FnZSxcclxuICAgIHNldE1lc3NhZ2UsXHJcbiAgICBpc1R5cGluZyxcclxuICAgIHN1Z2dlc3Rpb25zLFxyXG4gICAgc2hvd0hlbHAsXHJcbiAgICBjb21wbGV0ZWRTY2VuYXJpb3MsXHJcbiAgICBjb252ZXJzYXRpb25IaXN0b3J5LFxyXG4gICAgbG9hZGVkLFxyXG4gICAgc2hvd0RldGFpbGVkUHJvZ3Jlc3MsXHJcbiAgICBjdXJyZW50U2NlbmFyaW8sXHJcbiAgICB0b3RhbFNjZW5hcmlvcyxcclxuICAgIGhhc1ZhbGlkRGF0YSxcclxuICAgIGNoYW5nZVNjZW5hcmlvLFxyXG4gICAgc2VuZE1lc3NhZ2UsXHJcbiAgICBoYW5kbGVTdWdnZXN0aW9uLFxyXG4gICAgdG9nZ2xlSGVscCxcclxuICAgIHRvZ2dsZURldGFpbGVkUHJvZ3Jlc3MsXHJcbiAgICBpc0NvbnZlcnNhdGlvblN0YXJ0ZWQsXHJcbiAgICBzdGF0cyxcclxuICAgIGRpc3BsYXksXHJcbiAgfSA9IHVzZUNvbnZlcnNhdGlvbihjb252ZXJzYXRpb25EYXRhLCBsZXZlbCk7XHJcblxyXG4gIC8vIOKchSBDT1JSSUfDiSA6IE3DqW1vcmlzZXIgbGVzIG3DqXRhZG9ubsOpZXMgY29tcGF0aWJsZXMgYXZlYyBsZSBkYXNoYm9hcmRcclxuICBjb25zdCBhY3Rpdml0eU1ldGFkYXRhID0gdXNlTWVtbygoKSA9PiAoe1xyXG4gICAgd29yZDogY3VycmVudFNjZW5hcmlvSW5kZXgsICAgICAgICAgICAgICAgICAgICAvLyDinIUgQ09SUklHw4kgOiBVdGlsaXNlciAnd29yZCcgcG91ciBsYSBjb21wYXRpYmlsaXTDqSBkYXNoYm9hcmRcclxuICAgIHRvdGFsV29yZHM6IHRvdGFsU2NlbmFyaW9zLCAgICAgICAgICAgICAgICAgICAgLy8g4pyFIENPUlJJR8OJIDogVXRpbGlzZXIgJ3RvdGFsV29yZHMnIHBvdXIgbGEgY29tcGF0aWJpbGl0w6kgZGFzaGJvYXJkXHJcbiAgICBzY2VuYXJpbzogY3VycmVudFNjZW5hcmlvSW5kZXgsICAgICAgICAgICAgICAgIC8vIEdhcmRlciBwb3VyIGNvbXBhdGliaWxpdMOpIGludGVybmVcclxuICAgIHN0ZXA6IHN0YXRzLmN1cnJlbnRTdGVwIHx8IDAsICAgICAgICAgICAgICAgICAgLy8gR2FyZGVyIHBvdXIgY29tcGF0aWJpbGl0w6kgaW50ZXJuZVxyXG4gICAgdG90YWxTdGVwczogc3RhdHMudG90YWxTdGVwcyB8fCAxLCAgICAgICAgICAgICAvLyBHYXJkZXIgcG91ciBjb21wYXRpYmlsaXTDqSBpbnRlcm5lXHJcbiAgICBzY2VuYXJpb05hbWU6IGN1cnJlbnRTY2VuYXJpbz8udGl0bGUgfHwgYFNjw6luYXJpbyAke2N1cnJlbnRTY2VuYXJpb0luZGV4ICsgMX1gLFxyXG4gICAgLy8g4pyFIEFKT1VUw4kgOiBJbmRpY2F0ZXVyIHF1ZSBjJ2VzdCB1biBzY8OpbmFyaW8sIHBhcyB1biBtb3RcclxuICAgIGlzU2NlbmFyaW86IHRydWUsXHJcbiAgICAvLyDinIUgQUpPVVTDiSA6IE5vbWJyZSBkZSBzY8OpbmFyaW9zIGNvbXBsw6l0w6lzXHJcbiAgICBjb21wbGV0ZWRTY2VuYXJpb3M6IE9iamVjdC5rZXlzKGNvbXBsZXRlZFNjZW5hcmlvcykubGVuZ3RoXHJcbiAgfSksIFtjdXJyZW50U2NlbmFyaW9JbmRleCwgc3RhdHMuY3VycmVudFN0ZXAsIHN0YXRzLnRvdGFsU3RlcHMsIGN1cnJlbnRTY2VuYXJpbz8udGl0bGUsIHRvdGFsU2NlbmFyaW9zLCBjb21wbGV0ZWRTY2VuYXJpb3NdKTtcclxuXHJcbiAgLy8g4pyFIENPUlJFQ1RJT04gOiBDYWxsYmFjayBtw6ltb3Jpc8OpIHBvdXIgc2F2ZUFjdGl2aXR5XHJcbiAgY29uc3QgaGFuZGxlU2F2ZUFjdGl2aXR5ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgaWYgKGxvYWRlZCAmJiBoYXNWYWxpZERhdGEgJiYgY3VycmVudFNjZW5hcmlvICYmIGlzQ29udmVyc2F0aW9uU3RhcnRlZCkge1xyXG4gICAgICBzYXZlQWN0aXZpdHkoe1xyXG4gICAgICAgIHRpdGxlOiBcIkNvbnZlcnNhdGlvbnNcIixcclxuICAgICAgICBsZXZlbCxcclxuICAgICAgICB0eXBlOiBcImNvbnZlcnNhdGlvbnNcIixcclxuICAgICAgICBtZXRhZGF0YTogYWN0aXZpdHlNZXRhZGF0YVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9LCBbbG9hZGVkLCBoYXNWYWxpZERhdGEsIGN1cnJlbnRTY2VuYXJpbywgaXNDb252ZXJzYXRpb25TdGFydGVkLCBsZXZlbCwgc2F2ZUFjdGl2aXR5LCBhY3Rpdml0eU1ldGFkYXRhXSk7XHJcblxyXG4gIC8vIOKchSBDT1JSRUNUSU9OIDogdXNlRWZmZWN0IG9wdGltaXPDqVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBoYW5kbGVTYXZlQWN0aXZpdHkoKTtcclxuICB9LCBbaGFuZGxlU2F2ZUFjdGl2aXR5XSk7XHJcblxyXG4gIC8vIOKchSBDT1JSRUNUSU9OIDogRMOpcGxhY2VyIFRPVVMgbGVzIHVzZUNhbGxiYWNrIEFWQU5UIGxlIHJldHVybiBjb25kaXRpb25uZWxcclxuICAvLyBIYW5kbGVyc1xyXG4gIGNvbnN0IGhhbmRsZUJhY2tQcmVzcyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIHJvdXRlci5wdXNoKHtcclxuICAgICAgcGF0aG5hbWU6IFwiL3RhYnMvZXhlcmNpc2VTZWxlY3Rpb25cIixcclxuICAgICAgcGFyYW1zOiB7IGxldmVsIH1cclxuICAgIH0pO1xyXG4gIH0sIFtsZXZlbF0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVTY2VuYXJpb0NoYW5nZSA9IHVzZUNhbGxiYWNrKChpbmRleCkgPT4gY2hhbmdlU2NlbmFyaW8oaW5kZXgpLCBbY2hhbmdlU2NlbmFyaW9dKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU2VuZE1lc3NhZ2UgPSB1c2VDYWxsYmFjaygoKSA9PiBzZW5kTWVzc2FnZSgpLCBbc2VuZE1lc3NhZ2VdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlVXNlU3VnZ2VzdGlvbiA9IHVzZUNhbGxiYWNrKChzdWdnZXN0aW9uKSA9PiBoYW5kbGVTdWdnZXN0aW9uKHN1Z2dlc3Rpb24pLCBbaGFuZGxlU3VnZ2VzdGlvbl0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVUb2dnbGVIZWxwID0gdXNlQ2FsbGJhY2soKCkgPT4gdG9nZ2xlSGVscCgpLCBbdG9nZ2xlSGVscF0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVUb2dnbGVQcm9ncmVzc0RldGFpbHMgPSB1c2VDYWxsYmFjaygoKSA9PiB0b2dnbGVEZXRhaWxlZFByb2dyZXNzKCksIFt0b2dnbGVEZXRhaWxlZFByb2dyZXNzXSk7XHJcblxyXG4gIC8vIENhbGxiYWNrcyBtw6ltb3Jpc8OpcyBwb3VyIMOpdml0ZXIgbGVzIGFycm93IGZ1bmN0aW9ucyBkYW5zIGxlIEpTWFxyXG4gIGNvbnN0IGhhbmRsZVNjZW5hcmlvQ2hhbmdlQ2IgPSB1c2VDYWxsYmFjaygoLi4uYXJncykgPT4gaGFuZGxlU2NlbmFyaW9DaGFuZ2UoLi4uYXJncyksIFtoYW5kbGVTY2VuYXJpb0NoYW5nZV0pO1xyXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZVByb2dyZXNzRGV0YWlsc0NiID0gdXNlQ2FsbGJhY2soKCkgPT4gaGFuZGxlVG9nZ2xlUHJvZ3Jlc3NEZXRhaWxzKCksIFtoYW5kbGVUb2dnbGVQcm9ncmVzc0RldGFpbHNdKTtcclxuICBjb25zdCBoYW5kbGVUb2dnbGVIZWxwQ2IgPSB1c2VDYWxsYmFjaygoKSA9PiBoYW5kbGVUb2dnbGVIZWxwKCksIFtoYW5kbGVUb2dnbGVIZWxwXSk7XHJcbiAgY29uc3QgaGFuZGxlQmFja1ByZXNzQ2IgPSB1c2VDYWxsYmFjaygoKSA9PiBoYW5kbGVCYWNrUHJlc3MoKSwgW2hhbmRsZUJhY2tQcmVzc10pO1xyXG5cclxuICAvLyBMb2FkaW5nIHN0YXRlXHJcbiAgaWYgKCFsb2FkZWQgfHwgIWhhc1ZhbGlkRGF0YSkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPENvbnRhaW5lclxyXG4gICAgICAgIHRlc3RJRD1cImNvbnZlcnNhdGlvbi1jb250YWluZXJcIlxyXG4gICAgICAgIHNhZmVBcmVhXHJcbiAgICAgICAgc2FmZUFyZWFFZGdlcz17Q09OVEFJTkVSX1NBRkVfRURHRVMuQUxMfVxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcj1cIiNGQUZCRkNcIlxyXG4gICAgICAgIHN0YXR1c0JhclN0eWxlPVwiZGFyay1jb250ZW50XCJcclxuICAgICAgPlxyXG4gICAgICAgIHsvKiBMb2FkaW5nIGNvbnRlbnQgY2FuIGJlIGFkZGVkIGhlcmUgKi99XHJcbiAgICAgIDwvQ29udGFpbmVyPlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8Q29udGFpbmVyXHJcbiAgICAgIHRlc3RJRD1cImNvbnZlcnNhdGlvbi1jb250YWluZXJcIiBcclxuICAgICAgc2FmZUFyZWFcclxuICAgICAgc2FmZUFyZWFFZGdlcz17Q09OVEFJTkVSX1NBRkVfRURHRVMuQUxMfVxyXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I9XCIjRkFGQkZDXCJcclxuICAgICAgc3RhdHVzQmFyU3R5bGU9XCJkYXJrLWNvbnRlbnRcIlxyXG4gICAgICB3aXRoUGFkZGluZz17ZmFsc2V9XHJcbiAgICAgIHN0eWxlPXtzdHlsZXMuc2FmZUFyZWF9XHJcbiAgICA+XHJcbiAgICAgIHsvKiBIZWFkZXIgKi99XHJcbiAgICAgIDxDb252ZXJzYXRpb25IZWFkZXJcclxuICAgICAgICBsZXZlbD17bGV2ZWx9XHJcbiAgICAgICAgb25CYWNrUHJlc3M9e2hhbmRsZUJhY2tQcmVzc0NifVxyXG4gICAgICAgIGxldmVsQ29sb3I9e2xldmVsQ29sb3J9XHJcbiAgICAgIC8+XHJcblxyXG4gICAgICB7LyogU2NlbmFyaW8gU2VsZWN0b3IgKi99XHJcbiAgICAgIDxDb252ZXJzYXRpb25TZWxlY3RvclxyXG4gICAgICAgIHNjZW5hcmlvcz17Y29udmVyc2F0aW9uRGF0YS5leGVyY2lzZXN9XHJcbiAgICAgICAgc2VsZWN0ZWRJbmRleD17Y3VycmVudFNjZW5hcmlvSW5kZXh9XHJcbiAgICAgICAgb25TZWxlY3RTY2VuYXJpbz17aGFuZGxlU2NlbmFyaW9DaGFuZ2VDYn1cclxuICAgICAgICBsZXZlbENvbG9yPXtsZXZlbENvbG9yfVxyXG4gICAgICAvPlxyXG5cclxuICAgICAgey8qIFByb2dyZXNzICovfVxyXG4gICAgICA8Q29udmVyc2F0aW9uUHJvZ3Jlc3NcclxuICAgICAgICBwcm9ncmVzcz17c3RhdHMuY29tcGxldGlvblByb2dyZXNzfVxyXG4gICAgICAgIGN1cnJlbnRTdGVwPXtzdGF0cy5jdXJyZW50U3RlcH1cclxuICAgICAgICB0b3RhbFN0ZXBzPXtzdGF0cy50b3RhbFN0ZXBzfVxyXG4gICAgICAgIGxldmVsQ29sb3I9e2xldmVsQ29sb3J9XHJcbiAgICAgICAgY29udmVyc2F0aW9uRGF0YT17Y29udmVyc2F0aW9uRGF0YS5leGVyY2lzZXN9XHJcbiAgICAgICAgY29tcGxldGVkU2NlbmFyaW9zPXtjb21wbGV0ZWRTY2VuYXJpb3N9XHJcbiAgICAgICAgY29udmVyc2F0aW9uSGlzdG9yeT17Y29udmVyc2F0aW9uSGlzdG9yeX1cclxuICAgICAgICBleHBhbmRlZD17c2hvd0RldGFpbGVkUHJvZ3Jlc3N9XHJcbiAgICAgICAgb25Ub2dnbGVFeHBhbmQ9e2hhbmRsZVRvZ2dsZVByb2dyZXNzRGV0YWlsc0NifVxyXG4gICAgICAgIG9uU2NlbmFyaW9QcmVzcz17aGFuZGxlU2NlbmFyaW9DaGFuZ2VDYn1cclxuICAgICAgLz5cclxuXHJcbiAgICAgIHsvKiBTY2VuYXJpbyBEZXNjcmlwdGlvbiAqL31cclxuICAgICAgPENvbnZlcnNhdGlvblNjZW5hcmlvRGVzY3JpcHRpb25cclxuICAgICAgICBkZXNjcmlwdGlvbj17Y3VycmVudFNjZW5hcmlvLmRlc2NyaXB0aW9ufVxyXG4gICAgICAgIGhlbHBUZXh0PXtkaXNwbGF5LmN1cnJlbnRIZWxwfVxyXG4gICAgICAgIHNob3dIZWxwPXtzaG93SGVscH1cclxuICAgICAgICB0b2dnbGVIZWxwPXtoYW5kbGVUb2dnbGVIZWxwQ2J9XHJcbiAgICAgICAgbGV2ZWxDb2xvcj17bGV2ZWxDb2xvcn1cclxuICAgICAgLz5cclxuXHJcbiAgICAgIHsvKiBDaGF0IEFyZWEgKi99XHJcbiAgICAgIDxLZXlib2FyZEF2b2lkaW5nVmlld1xyXG4gICAgICAgIHN0eWxlPXtzdHlsZXMuY2hhdENvbnRhaW5lcn1cclxuICAgICAgICBiZWhhdmlvcj17UGxhdGZvcm0uT1MgPT09IFwiaW9zXCIgPyBcInBhZGRpbmdcIiA6IFwiaGVpZ2h0XCJ9XHJcbiAgICAgICAga2V5Ym9hcmRWZXJ0aWNhbE9mZnNldD17UGxhdGZvcm0uT1MgPT09IFwiaW9zXCIgPyA5MCA6IDB9XHJcbiAgICAgID5cclxuICAgICAgICB7LyogTWVzc2FnZSBMaXN0ICovfVxyXG4gICAgICAgIDxDb252ZXJzYXRpb25NZXNzYWdlTGlzdFxyXG4gICAgICAgICAgbWVzc2FnZXM9e2NvbnZlcnNhdGlvbn1cclxuICAgICAgICAgIGlzVHlwaW5nPXtpc1R5cGluZ31cclxuICAgICAgICAgIGxldmVsQ29sb3I9e2xldmVsQ29sb3J9XHJcbiAgICAgICAgLz5cclxuXHJcbiAgICAgICAgey8qIFN1Z2dlc3Rpb25zICovfVxyXG4gICAgICAgIDxDb252ZXJzYXRpb25TdWdnZXN0aW9uc1xyXG4gICAgICAgICAgc3VnZ2VzdGlvbnM9e3N1Z2dlc3Rpb25zfVxyXG4gICAgICAgICAgb25QcmVzc1N1Z2dlc3Rpb249e2hhbmRsZVVzZVN1Z2dlc3Rpb259XHJcbiAgICAgICAgICBsZXZlbENvbG9yPXtsZXZlbENvbG9yfVxyXG4gICAgICAgIC8+XHJcblxyXG4gICAgICAgIHsvKiBJbnB1dCAqL31cclxuICAgICAgICA8Q29udmVyc2F0aW9uSW5wdXRcclxuICAgICAgICAgIG1lc3NhZ2U9e21lc3NhZ2V9XHJcbiAgICAgICAgICBvbkNoYW5nZU1lc3NhZ2U9e3NldE1lc3NhZ2V9XHJcbiAgICAgICAgICBvblNlbmRNZXNzYWdlPXtoYW5kbGVTZW5kTWVzc2FnZX1cclxuICAgICAgICAgIGxldmVsQ29sb3I9e2xldmVsQ29sb3J9XHJcbiAgICAgICAgLz5cclxuICAgICAgPC9LZXlib2FyZEF2b2lkaW5nVmlldz5cclxuICAgIDwvQ29udGFpbmVyPlxyXG4gICk7XHJcbn07XHJcblxyXG4vLyDinIUgQWpvdXQgZGUgbGEgdmFsaWRhdGlvbiBkZXMgcHJvcHNcclxuQ29udmVyc2F0aW9uRXhlcmNpc2UucHJvcFR5cGVzID0ge1xyXG4gIHJvdXRlOiBQcm9wVHlwZXMuc2hhcGUoe1xyXG4gICAgcGFyYW1zOiBQcm9wVHlwZXMuc2hhcGUoe1xyXG4gICAgICBsZXZlbDogUHJvcFR5cGVzLnN0cmluZyxcclxuICAgIH0pLFxyXG4gIH0pLmlzUmVxdWlyZWQsXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb252ZXJzYXRpb25FeGVyY2lzZTsiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQ0EsSUFBQUEsTUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsWUFBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsV0FBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsVUFBQSxHQUFBQyxzQkFBQSxDQUFBSixPQUFBO0FBR0EsSUFBQUss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