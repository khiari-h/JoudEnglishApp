{"version":3,"names":["_reactHooks","require","_reactNative","_useModalAnimation","_interopRequireDefault","mockStart","jest","fn","spyOn","Animated","mockReturnValue","start","mockInterpolate","inputRange","outputRange","mockAnimatedValue","interpolate","React","describe","beforeEach","mockClear","it","_renderHook","renderHook","useModalAnimation","visible","animationType","position","customAnimation","result","expect","current","toEqual","_renderHook2","_renderHook3","_ref","initialProps","rerender","act","timing","toHaveBeenCalledTimes","_renderHook4","transform","translateY","toBeDefined","toHaveBeenCalledWith","_renderHook5","_renderHook6","scale","opacity","_renderHook7"],"sources":["useModalAnimation.test.js"],"sourcesContent":["import { renderHook, act } from '@testing-library/react-hooks';\r\nimport { Animated } from 'react-native';\r\nimport useModalAnimation from './useModalAnimation';\r\n\r\n// On mocke Animated pour simuler le comportement d'animation\r\nconst mockStart = jest.fn();\r\njest.spyOn(Animated, 'timing').mockReturnValue({ start: mockStart });\r\n\r\n// On mocke l'interpolation pour pouvoir vérifier les valeurs\r\nconst mockInterpolate = jest.fn((inputRange) => inputRange.outputRange[1]);\r\nconst mockAnimatedValue = {\r\n  interpolate: mockInterpolate,\r\n};\r\njest.spyOn(React, 'useState').mockReturnValue([mockAnimatedValue, jest.fn()]);\r\n\r\ndescribe('useModalAnimation', () => {\r\n  beforeEach(() => {\r\n    // Réinitialisation des mocks avant chaque test\r\n    mockStart.mockClear();\r\n    mockInterpolate.mockClear();\r\n  });\r\n\r\n  it('devrait retourner un objet de style vide si animationType est \"none\" ou non \"custom\"', () => {\r\n    const { result } = renderHook(() => useModalAnimation({\r\n      visible: true,\r\n      animationType: 'none',\r\n      position: 'center',\r\n      customAnimation: true\r\n    }));\r\n    expect(result.current).toEqual({});\r\n  });\r\n\r\n  it('devrait retourner un objet de style vide si customAnimation est faux', () => {\r\n    const { result } = renderHook(() => useModalAnimation({\r\n      visible: true,\r\n      animationType: 'custom',\r\n      position: 'center',\r\n      customAnimation: false\r\n    }));\r\n    expect(result.current).toEqual({});\r\n  });\r\n\r\n  it('devrait appeler Animated.timing au changement de visibilité', () => {\r\n    const { rerender } = renderHook(({ visible }) => useModalAnimation({\r\n      visible,\r\n      animationType: 'custom',\r\n      position: 'center',\r\n      customAnimation: true\r\n    }), { initialProps: { visible: false } });\r\n\r\n    // On change la prop visible\r\n    act(() => {\r\n      rerender({ visible: true });\r\n    });\r\n\r\n    expect(Animated.timing).toHaveBeenCalledTimes(1);\r\n    expect(mockStart).toHaveBeenCalledTimes(1);\r\n  });\r\n  \r\n  // Test de la position \"bottom\"\r\n  it('devrait retourner le style de transformation pour la position \"bottom\"', () => {\r\n    const { result } = renderHook(() => useModalAnimation({\r\n      visible: true,\r\n      animationType: 'custom',\r\n      position: 'bottom',\r\n      customAnimation: true\r\n    }));\r\n    expect(result.current.transform[0].translateY).toBeDefined();\r\n    // On vérifie que la fonction d'interpolation est appelée avec les bonnes valeurs\r\n    expect(mockInterpolate).toHaveBeenCalledWith({ inputRange: [0, 1], outputRange: [300, 0] });\r\n  });\r\n\r\n  // Test de la position \"top\"\r\n  it('devrait retourner le style de transformation pour la position \"top\"', () => {\r\n    const { result } = renderHook(() => useModalAnimation({\r\n      visible: true,\r\n      animationType: 'custom',\r\n      position: 'top',\r\n      customAnimation: true\r\n    }));\r\n    expect(result.current.transform[0].translateY).toBeDefined();\r\n    expect(mockInterpolate).toHaveBeenCalledWith({ inputRange: [0, 1], outputRange: [-300, 0] });\r\n  });\r\n  \r\n  // Test de la position \"center\" par défaut\r\n  it('devrait retourner le style de transformation pour la position \"center\" (par défaut)', () => {\r\n    const { result } = renderHook(() => useModalAnimation({\r\n      visible: true,\r\n      animationType: 'custom',\r\n      position: 'center',\r\n      customAnimation: true\r\n    }));\r\n    expect(result.current.transform[0].scale).toBeDefined();\r\n    expect(result.current.opacity).toBeDefined();\r\n    expect(mockInterpolate).toHaveBeenCalledWith({ inputRange: [0, 1], outputRange: [0.8, 1] });\r\n  });\r\n\r\n  // Test du cas où aucune position n'est spécifiée\r\n  it('devrait utiliser les styles par défaut si la position est non spécifiée', () => {\r\n    const { result } = renderHook(() => useModalAnimation({\r\n      visible: true,\r\n      animationType: 'custom',\r\n      customAnimation: true\r\n    }));\r\n    expect(result.current.transform[0].scale).toBeDefined();\r\n    expect(result.current.opacity).toBeDefined();\r\n    expect(mockInterpolate).toHaveBeenCalledWith({ inputRange: [0, 1], outputRange: [0.8, 1] });\r\n  });\r\n});"],"mappings":"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","ignoreList":[]}