bbb79fa9972742691d3d500a817f1526
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = require("react");
var _reactNative = require("react-native");
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var useSpelling = function useSpelling(spellingData, level, exerciseType) {
  var handleStorageError = function handleStorageError(error, operation) {
    var fallback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
    console.warn(`Spelling storage error in ${operation}:`, error);
    return fallback;
  };
  var STORAGE_KEY = `spelling_${level}_${exerciseType}`;
  var _useState = (0, _react.useState)(0),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    currentExerciseIndex = _useState2[0],
    setCurrentExerciseIndex = _useState2[1];
  var _useState3 = (0, _react.useState)(''),
    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
    userInput = _useState4[0],
    setUserInput = _useState4[1];
  var _useState5 = (0, _react.useState)(false),
    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),
    showHint = _useState6[0],
    setShowHint = _useState6[1];
  var _useState7 = (0, _react.useState)(false),
    _useState8 = (0, _slicedToArray2.default)(_useState7, 2),
    showFeedback = _useState8[0],
    setShowFeedback = _useState8[1];
  var _useState9 = (0, _react.useState)(false),
    _useState0 = (0, _slicedToArray2.default)(_useState9, 2),
    isCorrect = _useState0[0],
    setIsCorrect = _useState0[1];
  var _useState1 = (0, _react.useState)(false),
    _useState10 = (0, _slicedToArray2.default)(_useState1, 2),
    loaded = _useState10[0],
    setLoaded = _useState10[1];
  var _useState11 = (0, _react.useState)([]),
    _useState12 = (0, _slicedToArray2.default)(_useState11, 2),
    completedExercises = _useState12[0],
    setCompletedExercises = _useState12[1];
  var _useState13 = (0, _react.useState)([]),
    _useState14 = (0, _slicedToArray2.default)(_useState13, 2),
    userAnswers = _useState14[0],
    setUserAnswers = _useState14[1];
  var isInitialized = (0, _react.useRef)(false);
  var exercises = (spellingData == null ? void 0 : spellingData.exercises) || [];
  var totalExercises = exercises.length;
  var currentExercise = exercises[currentExerciseIndex];
  var hasValidData = exercises.length > 0;
  var loadStoredData = (0, _react.useCallback)((0, _asyncToGenerator2.default)(function* () {
    try {
      var saved = yield _asyncStorage.default.getItem(STORAGE_KEY);
      if (saved) {
        var _data$lastPosition;
        var data = JSON.parse(saved);
        setCompletedExercises(data.completedExercises || []);
        setUserAnswers(data.userAnswers || []);
        if (((_data$lastPosition = data.lastPosition) == null ? void 0 : _data$lastPosition.exerciseIndex) !== undefined && data.lastPosition.exerciseIndex >= 0 && data.lastPosition.exerciseIndex < totalExercises) {
          setCurrentExerciseIndex(data.lastPosition.exerciseIndex);
        }
      }
    } catch (error) {
      handleStorageError(error, 'loadStoredData');
    } finally {
      setLoaded(true);
    }
  }), [STORAGE_KEY, totalExercises]);
  (0, _react.useEffect)(function () {
    if (!isInitialized.current) {
      loadStoredData();
      isInitialized.current = true;
    }
  }, [loadStoredData]);
  var saveToStorage = (0, _react.useCallback)(function () {
    var _ref2 = (0, _asyncToGenerator2.default)(function* (dataToSave) {
      try {
        yield _asyncStorage.default.setItem(STORAGE_KEY, JSON.stringify(dataToSave));
      } catch (error) {
        handleStorageError(error, 'saveToStorage');
      }
    });
    return function (_x) {
      return _ref2.apply(this, arguments);
    };
  }(), [STORAGE_KEY]);
  var resetExerciseState = (0, _react.useCallback)(function () {
    setUserInput('');
    setShowHint(false);
    setShowFeedback(false);
    setIsCorrect(false);
  }, []);
  var toggleHint = (0, _react.useCallback)(function () {
    setShowHint(function (prev) {
      return !prev;
    });
  }, []);
  var checkAnswer = (0, _react.useCallback)(function () {
    if (!(currentExercise != null && currentExercise.correctAnswer)) {
      _reactNative.Alert.alert('Erreur', 'Réponse correcte non définie');
      return false;
    }
    try {
      var correct = false;
      switch (currentExercise.type) {
        case 'homophones':
          correct = userInput === currentExercise.correctAnswer;
          break;
        case 'correction':
        case 'spelling_rule':
        default:
          {
            var userAnswer = String(userInput).trim().toLowerCase();
            var correctAnswer = String(currentExercise.correctAnswer).trim().toLowerCase();
            correct = userAnswer === correctAnswer;
            break;
          }
      }
      setIsCorrect(correct);
      setShowFeedback(true);
      return correct;
    } catch (error) {
      setIsCorrect(false);
      setShowFeedback(true);
      return false;
    }
  }, [userInput, currentExercise]);
  var handleNext = (0, _react.useCallback)(function () {
    var newCompleted = completedExercises.includes(currentExerciseIndex) ? completedExercises : [].concat((0, _toConsumableArray2.default)(completedExercises), [currentExerciseIndex]);
    var newAnswer = {
      exerciseIndex: currentExerciseIndex,
      isCorrect: isCorrect,
      userAnswer: userInput,
      correctAnswer: (currentExercise == null ? void 0 : currentExercise.correctAnswer) || '',
      exerciseType: (currentExercise == null ? void 0 : currentExercise.type) || 'correction',
      timestamp: Date.now()
    };
    var newAnswers = [].concat((0, _toConsumableArray2.default)(userAnswers), [newAnswer]);
    var dataToSave = {
      completedExercises: newCompleted,
      userAnswers: newAnswers,
      lastPosition: {
        exerciseIndex: currentExerciseIndex < totalExercises - 1 ? currentExerciseIndex + 1 : currentExerciseIndex,
        exerciseType: exerciseType,
        timestamp: Date.now()
      }
    };
    saveToStorage(dataToSave);
    setCompletedExercises(newCompleted);
    setUserAnswers(newAnswers);
    if (currentExerciseIndex < totalExercises - 1) {
      setCurrentExerciseIndex(function (prev) {
        return prev + 1;
      });
      resetExerciseState();
    } else {
      _reactNative.Alert.alert("Félicitations", `Vous avez terminé tous les exercices d'orthographe ${exerciseType} du niveau ${level} !`);
      return {
        completed: true
      };
    }
    return {
      completed: false
    };
  }, [currentExerciseIndex, totalExercises, isCorrect, userInput, currentExercise, completedExercises, userAnswers, saveToStorage, resetExerciseState, exerciseType, level]);
  var retryExercise = (0, _react.useCallback)(function () {
    resetExerciseState();
  }, [resetExerciseState]);
  var stats = {
    totalExercises: totalExercises,
    completedExercisesCount: completedExercises.length,
    totalProgress: totalExercises > 0 ? Math.round(completedExercises.length / totalExercises * 100) : 0,
    remainingExercises: totalExercises - completedExercises.length,
    performance: {
      total: userAnswers.length,
      correct: userAnswers.filter(function (answer) {
        return answer.isCorrect;
      }).length,
      incorrect: userAnswers.filter(function (answer) {
        return !answer.isCorrect;
      }).length,
      accuracy: userAnswers.length > 0 ? Math.round(userAnswers.filter(function (answer) {
        return answer.isCorrect;
      }).length / userAnswers.length * 100) : 0
    },
    completedExercises: completedExercises,
    userAnswers: userAnswers
  };
  var isLastExercise = currentExerciseIndex === totalExercises - 1;
  return {
    currentExerciseIndex: currentExerciseIndex,
    userInput: userInput,
    showHint: showHint,
    showFeedback: showFeedback,
    isCorrect: isCorrect,
    completedExercises: completedExercises,
    userAnswers: userAnswers,
    loaded: loaded,
    currentExercise: currentExercise,
    totalExercises: totalExercises,
    exercises: exercises,
    setUserInput: setUserInput,
    toggleHint: toggleHint,
    checkAnswer: checkAnswer,
    handleNext: handleNext,
    retryExercise: retryExercise,
    resetExerciseState: resetExerciseState,
    isLastExercise: isLastExercise,
    hasValidData: hasValidData,
    stats: stats
  };
};
var _default = exports.default = useSpelling;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX3JlYWN0TmF0aXZlIiwiX2FzeW5jU3RvcmFnZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJ1c2VTcGVsbGluZyIsInNwZWxsaW5nRGF0YSIsImxldmVsIiwiZXhlcmNpc2VUeXBlIiwiaGFuZGxlU3RvcmFnZUVycm9yIiwiZXJyb3IiLCJvcGVyYXRpb24iLCJmYWxsYmFjayIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImNvbnNvbGUiLCJ3YXJuIiwiU1RPUkFHRV9LRVkiLCJfdXNlU3RhdGUiLCJ1c2VTdGF0ZSIsIl91c2VTdGF0ZTIiLCJfc2xpY2VkVG9BcnJheTIiLCJkZWZhdWx0IiwiY3VycmVudEV4ZXJjaXNlSW5kZXgiLCJzZXRDdXJyZW50RXhlcmNpc2VJbmRleCIsIl91c2VTdGF0ZTMiLCJfdXNlU3RhdGU0IiwidXNlcklucHV0Iiwic2V0VXNlcklucHV0IiwiX3VzZVN0YXRlNSIsIl91c2VTdGF0ZTYiLCJzaG93SGludCIsInNldFNob3dIaW50IiwiX3VzZVN0YXRlNyIsIl91c2VTdGF0ZTgiLCJzaG93RmVlZGJhY2siLCJzZXRTaG93RmVlZGJhY2siLCJfdXNlU3RhdGU5IiwiX3VzZVN0YXRlMCIsImlzQ29ycmVjdCIsInNldElzQ29ycmVjdCIsIl91c2VTdGF0ZTEiLCJfdXNlU3RhdGUxMCIsImxvYWRlZCIsInNldExvYWRlZCIsIl91c2VTdGF0ZTExIiwiX3VzZVN0YXRlMTIiLCJjb21wbGV0ZWRFeGVyY2lzZXMiLCJzZXRDb21wbGV0ZWRFeGVyY2lzZXMiLCJfdXNlU3RhdGUxMyIsIl91c2VTdGF0ZTE0IiwidXNlckFuc3dlcnMiLCJzZXRVc2VyQW5zd2VycyIsImlzSW5pdGlhbGl6ZWQiLCJ1c2VSZWYiLCJleGVyY2lzZXMiLCJ0b3RhbEV4ZXJjaXNlcyIsImN1cnJlbnRFeGVyY2lzZSIsImhhc1ZhbGlkRGF0YSIsImxvYWRTdG9yZWREYXRhIiwidXNlQ2FsbGJhY2siLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJzYXZlZCIsIkFzeW5jU3RvcmFnZSIsImdldEl0ZW0iLCJfZGF0YSRsYXN0UG9zaXRpb24iLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwibGFzdFBvc2l0aW9uIiwiZXhlcmNpc2VJbmRleCIsInVzZUVmZmVjdCIsImN1cnJlbnQiLCJzYXZlVG9TdG9yYWdlIiwiX3JlZjIiLCJkYXRhVG9TYXZlIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsIl94IiwiYXBwbHkiLCJyZXNldEV4ZXJjaXNlU3RhdGUiLCJ0b2dnbGVIaW50IiwicHJldiIsImNoZWNrQW5zd2VyIiwiY29ycmVjdEFuc3dlciIsIkFsZXJ0IiwiYWxlcnQiLCJjb3JyZWN0IiwidHlwZSIsInVzZXJBbnN3ZXIiLCJTdHJpbmciLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJoYW5kbGVOZXh0IiwibmV3Q29tcGxldGVkIiwiaW5jbHVkZXMiLCJjb25jYXQiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwibmV3QW5zd2VyIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsIm5ld0Fuc3dlcnMiLCJjb21wbGV0ZWQiLCJyZXRyeUV4ZXJjaXNlIiwic3RhdHMiLCJjb21wbGV0ZWRFeGVyY2lzZXNDb3VudCIsInRvdGFsUHJvZ3Jlc3MiLCJNYXRoIiwicm91bmQiLCJyZW1haW5pbmdFeGVyY2lzZXMiLCJwZXJmb3JtYW5jZSIsInRvdGFsIiwiZmlsdGVyIiwiYW5zd2VyIiwiaW5jb3JyZWN0IiwiYWNjdXJhY3kiLCJpc0xhc3RFeGVyY2lzZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbInVzZVNwZWxsaW5nLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9zY3JlZW5zL2V4ZXJjaXNlcy9zcGVsbGluZy9ob29rcy91c2VTcGVsbGluZy5qcyAtIFZFUlNJT04gQ09SUklHw4lFXHJcblxyXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBBbGVydCB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XHJcbmltcG9ydCBBc3luY1N0b3JhZ2UgZnJvbSAnQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlL2FzeW5jLXN0b3JhZ2UnO1xyXG5cclxuY29uc3QgdXNlU3BlbGxpbmcgPSAoc3BlbGxpbmdEYXRhLCBsZXZlbCwgZXhlcmNpc2VUeXBlKSA9PiB7XHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PSBFUlJPUiBIQU5ETElORyBIRUxQRVIgPT09PT09PT09PT09PT09PT09PVxyXG4gIGNvbnN0IGhhbmRsZVN0b3JhZ2VFcnJvciA9IChlcnJvciwgb3BlcmF0aW9uLCBmYWxsYmFjayA9IG51bGwpID0+IHtcclxuICAgIGNvbnNvbGUud2FybihgU3BlbGxpbmcgc3RvcmFnZSBlcnJvciBpbiAke29wZXJhdGlvbn06YCwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGZhbGxiYWNrO1xyXG4gIH07XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT0gU1RPUkFHRSBLRVkgPT09PT09PT09PT09PT09PT09PVxyXG4gIGNvbnN0IFNUT1JBR0VfS0VZID0gYHNwZWxsaW5nXyR7bGV2ZWx9XyR7ZXhlcmNpc2VUeXBlfWA7XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT0gU1RBVEUgPT09PT09PT09PT09PT09PT09PVxyXG4gIGNvbnN0IFtjdXJyZW50RXhlcmNpc2VJbmRleCwgc2V0Q3VycmVudEV4ZXJjaXNlSW5kZXhdID0gdXNlU3RhdGUoMCk7XHJcbiAgY29uc3QgW3VzZXJJbnB1dCwgc2V0VXNlcklucHV0XSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbc2hvd0hpbnQsIHNldFNob3dIaW50XSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbc2hvd0ZlZWRiYWNrLCBzZXRTaG93RmVlZGJhY2tdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtpc0NvcnJlY3QsIHNldElzQ29ycmVjdF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2xvYWRlZCwgc2V0TG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbY29tcGxldGVkRXhlcmNpc2VzLCBzZXRDb21wbGV0ZWRFeGVyY2lzZXNdID0gdXNlU3RhdGUoW10pO1xyXG4gIGNvbnN0IFt1c2VyQW5zd2Vycywgc2V0VXNlckFuc3dlcnNdID0gdXNlU3RhdGUoW10pO1xyXG5cclxuICBjb25zdCBpc0luaXRpYWxpemVkID0gdXNlUmVmKGZhbHNlKTtcclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PSBDT01QVVRFRCBWQUxVRVMgPT09PT09PT09PT09PT09PT09PVxyXG4gIGNvbnN0IGV4ZXJjaXNlcyA9IHNwZWxsaW5nRGF0YT8uZXhlcmNpc2VzIHx8IFtdO1xyXG4gIGNvbnN0IHRvdGFsRXhlcmNpc2VzID0gZXhlcmNpc2VzLmxlbmd0aDtcclxuICBjb25zdCBjdXJyZW50RXhlcmNpc2UgPSBleGVyY2lzZXNbY3VycmVudEV4ZXJjaXNlSW5kZXhdO1xyXG4gIGNvbnN0IGhhc1ZhbGlkRGF0YSA9IGV4ZXJjaXNlcy5sZW5ndGggPiAwO1xyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09IERBVEEgTE9BRElORyA9PT09PT09PT09PT09PT09PT09XHJcbiAgY29uc3QgbG9hZFN0b3JlZERhdGEgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IEFzeW5jU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZKTtcclxuICAgICAgaWYgKHNhdmVkKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2Uoc2F2ZWQpO1xyXG4gICAgICAgIHNldENvbXBsZXRlZEV4ZXJjaXNlcyhkYXRhLmNvbXBsZXRlZEV4ZXJjaXNlcyB8fCBbXSk7XHJcbiAgICAgICAgc2V0VXNlckFuc3dlcnMoZGF0YS51c2VyQW5zd2VycyB8fCBbXSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGRhdGEubGFzdFBvc2l0aW9uPy5leGVyY2lzZUluZGV4ICE9PSB1bmRlZmluZWQgJiYgXHJcbiAgICAgICAgICAgIGRhdGEubGFzdFBvc2l0aW9uLmV4ZXJjaXNlSW5kZXggPj0gMCAmJiBcclxuICAgICAgICAgICAgZGF0YS5sYXN0UG9zaXRpb24uZXhlcmNpc2VJbmRleCA8IHRvdGFsRXhlcmNpc2VzKSB7XHJcbiAgICAgICAgICBzZXRDdXJyZW50RXhlcmNpc2VJbmRleChkYXRhLmxhc3RQb3NpdGlvbi5leGVyY2lzZUluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIC8vIOKchSBHZXN0aW9uIGQnZXJyZXVyIGFwcHJvcHJpw6llXHJcbiAgICAgIGhhbmRsZVN0b3JhZ2VFcnJvcihlcnJvciwgJ2xvYWRTdG9yZWREYXRhJyk7XHJcbiAgICAgIC8vIEZhbGxiYWNrOiB1dGlsaXNlciBsZXMgdmFsZXVycyBwYXIgZMOpZmF1dFxyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0TG9hZGVkKHRydWUpO1xyXG4gICAgfVxyXG4gIH0sIFtTVE9SQUdFX0tFWSwgdG90YWxFeGVyY2lzZXNdKTtcclxuXHJcbiAgLy8g4pyFIEVGRkVUIFNJTVBMSUZJw4kgLSB1bmUgc2V1bGUgZm9pc1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWlzSW5pdGlhbGl6ZWQuY3VycmVudCkge1xyXG4gICAgICBsb2FkU3RvcmVkRGF0YSgpO1xyXG4gICAgICBpc0luaXRpYWxpemVkLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH0sIFtsb2FkU3RvcmVkRGF0YV0pO1xyXG5cclxuICAvLyDinIUgU0FWRSBGT05DVElPTiBTVEFCTEVcclxuICBjb25zdCBzYXZlVG9TdG9yYWdlID0gdXNlQ2FsbGJhY2soYXN5bmMgKGRhdGFUb1NhdmUpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IEFzeW5jU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZLCBKU09OLnN0cmluZ2lmeShkYXRhVG9TYXZlKSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAvLyDinIUgR2VzdGlvbiBkJ2VycmV1ciBhcHByb3ByacOpZVxyXG4gICAgICBoYW5kbGVTdG9yYWdlRXJyb3IoZXJyb3IsICdzYXZlVG9TdG9yYWdlJyk7XHJcbiAgICAgIC8vIEZhbGxiYWNrOiBjb250aW51ZXIgc2FucyBzYXV2ZWdhcmRlXHJcbiAgICB9XHJcbiAgfSwgW1NUT1JBR0VfS0VZXSk7XHJcblxyXG4gIGNvbnN0IHJlc2V0RXhlcmNpc2VTdGF0ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIHNldFVzZXJJbnB1dCgnJyk7XHJcbiAgICBzZXRTaG93SGludChmYWxzZSk7XHJcbiAgICBzZXRTaG93RmVlZGJhY2soZmFsc2UpO1xyXG4gICAgc2V0SXNDb3JyZWN0KGZhbHNlKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IHRvZ2dsZUhpbnQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBzZXRTaG93SGludChwcmV2ID0+ICFwcmV2KTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IGNoZWNrQW5zd2VyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgaWYgKCFjdXJyZW50RXhlcmNpc2U/LmNvcnJlY3RBbnN3ZXIpIHtcclxuICAgICAgQWxlcnQuYWxlcnQoJ0VycmV1cicsICdSw6lwb25zZSBjb3JyZWN0ZSBub24gZMOpZmluaWUnKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCBjb3JyZWN0ID0gZmFsc2U7XHJcblxyXG4gICAgICBzd2l0Y2ggKGN1cnJlbnRFeGVyY2lzZS50eXBlKSB7XHJcbiAgICAgICAgY2FzZSAnaG9tb3Bob25lcyc6XHJcbiAgICAgICAgICBjb3JyZWN0ID0gdXNlcklucHV0ID09PSBjdXJyZW50RXhlcmNpc2UuY29ycmVjdEFuc3dlcjtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ2NvcnJlY3Rpb24nOlxyXG4gICAgICAgIGNhc2UgJ3NwZWxsaW5nX3J1bGUnOlxyXG4gICAgICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICAgIGNvbnN0IHVzZXJBbnN3ZXIgPSBTdHJpbmcodXNlcklucHV0KS50cmltKCkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgIGNvbnN0IGNvcnJlY3RBbnN3ZXIgPSBTdHJpbmcoY3VycmVudEV4ZXJjaXNlLmNvcnJlY3RBbnN3ZXIpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgY29ycmVjdCA9IHVzZXJBbnN3ZXIgPT09IGNvcnJlY3RBbnN3ZXI7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNldElzQ29ycmVjdChjb3JyZWN0KTtcclxuICAgICAgc2V0U2hvd0ZlZWRiYWNrKHRydWUpO1xyXG4gICAgICByZXR1cm4gY29ycmVjdDtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBzZXRJc0NvcnJlY3QoZmFsc2UpO1xyXG4gICAgICBzZXRTaG93RmVlZGJhY2sodHJ1ZSk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9LCBbdXNlcklucHV0LCBjdXJyZW50RXhlcmNpc2VdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTmV4dCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIC8vIE1hcnF1ZXIgY29tbWUgY29tcGzDqXTDqVxyXG4gICAgY29uc3QgbmV3Q29tcGxldGVkID0gY29tcGxldGVkRXhlcmNpc2VzLmluY2x1ZGVzKGN1cnJlbnRFeGVyY2lzZUluZGV4KSBcclxuICAgICAgPyBjb21wbGV0ZWRFeGVyY2lzZXMgXHJcbiAgICAgIDogWy4uLmNvbXBsZXRlZEV4ZXJjaXNlcywgY3VycmVudEV4ZXJjaXNlSW5kZXhdO1xyXG5cclxuICAgIGNvbnN0IG5ld0Fuc3dlciA9IHtcclxuICAgICAgZXhlcmNpc2VJbmRleDogY3VycmVudEV4ZXJjaXNlSW5kZXgsXHJcbiAgICAgIGlzQ29ycmVjdCxcclxuICAgICAgdXNlckFuc3dlcjogdXNlcklucHV0LFxyXG4gICAgICBjb3JyZWN0QW5zd2VyOiBjdXJyZW50RXhlcmNpc2U/LmNvcnJlY3RBbnN3ZXIgfHwgJycsXHJcbiAgICAgIGV4ZXJjaXNlVHlwZTogY3VycmVudEV4ZXJjaXNlPy50eXBlIHx8ICdjb3JyZWN0aW9uJyxcclxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IG5ld0Fuc3dlcnMgPSBbLi4udXNlckFuc3dlcnMsIG5ld0Fuc3dlcl07XHJcblxyXG4gICAgLy8gU2F1dmVnYXJkZXIgaW1tw6lkaWF0ZW1lbnRcclxuICAgIGNvbnN0IGRhdGFUb1NhdmUgPSB7XHJcbiAgICAgIGNvbXBsZXRlZEV4ZXJjaXNlczogbmV3Q29tcGxldGVkLFxyXG4gICAgICB1c2VyQW5zd2VyczogbmV3QW5zd2VycyxcclxuICAgICAgbGFzdFBvc2l0aW9uOiB7XHJcbiAgICAgICAgZXhlcmNpc2VJbmRleDogY3VycmVudEV4ZXJjaXNlSW5kZXggPCB0b3RhbEV4ZXJjaXNlcyAtIDEgPyBjdXJyZW50RXhlcmNpc2VJbmRleCArIDEgOiBjdXJyZW50RXhlcmNpc2VJbmRleCxcclxuICAgICAgICBleGVyY2lzZVR5cGUsXHJcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgc2F2ZVRvU3RvcmFnZShkYXRhVG9TYXZlKTtcclxuXHJcbiAgICAvLyBNZXR0cmUgw6Agam91ciBsZXMgc3RhdGVzXHJcbiAgICBzZXRDb21wbGV0ZWRFeGVyY2lzZXMobmV3Q29tcGxldGVkKTtcclxuICAgIHNldFVzZXJBbnN3ZXJzKG5ld0Fuc3dlcnMpO1xyXG5cclxuICAgIGlmIChjdXJyZW50RXhlcmNpc2VJbmRleCA8IHRvdGFsRXhlcmNpc2VzIC0gMSkge1xyXG4gICAgICBzZXRDdXJyZW50RXhlcmNpc2VJbmRleChwcmV2ID0+IHByZXYgKyAxKTtcclxuICAgICAgcmVzZXRFeGVyY2lzZVN0YXRlKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBBbGVydC5hbGVydChcclxuICAgICAgICBcIkbDqWxpY2l0YXRpb25zXCIsIFxyXG4gICAgICAgIGBWb3VzIGF2ZXogdGVybWluw6kgdG91cyBsZXMgZXhlcmNpY2VzIGQnb3J0aG9ncmFwaGUgJHtleGVyY2lzZVR5cGV9IGR1IG5pdmVhdSAke2xldmVsfSAhYFxyXG4gICAgICApO1xyXG4gICAgICByZXR1cm4geyBjb21wbGV0ZWQ6IHRydWUgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIHsgY29tcGxldGVkOiBmYWxzZSB9O1xyXG4gIH0sIFtcclxuICAgIGN1cnJlbnRFeGVyY2lzZUluZGV4LCBcclxuICAgIHRvdGFsRXhlcmNpc2VzLCBcclxuICAgIGlzQ29ycmVjdCwgXHJcbiAgICB1c2VySW5wdXQsIFxyXG4gICAgY3VycmVudEV4ZXJjaXNlLCBcclxuICAgIGNvbXBsZXRlZEV4ZXJjaXNlcywgXHJcbiAgICB1c2VyQW5zd2VycywgXHJcbiAgICBzYXZlVG9TdG9yYWdlLCBcclxuICAgIHJlc2V0RXhlcmNpc2VTdGF0ZSwgXHJcbiAgICBleGVyY2lzZVR5cGUsIFxyXG4gICAgbGV2ZWxcclxuICBdKTtcclxuXHJcbiAgY29uc3QgcmV0cnlFeGVyY2lzZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIHJlc2V0RXhlcmNpc2VTdGF0ZSgpO1xyXG4gIH0sIFtyZXNldEV4ZXJjaXNlU3RhdGVdKTtcclxuXHJcbiAgY29uc3Qgc3RhdHMgPSB7XHJcbiAgICB0b3RhbEV4ZXJjaXNlcyxcclxuICAgIGNvbXBsZXRlZEV4ZXJjaXNlc0NvdW50OiBjb21wbGV0ZWRFeGVyY2lzZXMubGVuZ3RoLFxyXG4gICAgdG90YWxQcm9ncmVzczogdG90YWxFeGVyY2lzZXMgPiAwID8gTWF0aC5yb3VuZCgoY29tcGxldGVkRXhlcmNpc2VzLmxlbmd0aCAvIHRvdGFsRXhlcmNpc2VzKSAqIDEwMCkgOiAwLFxyXG4gICAgcmVtYWluaW5nRXhlcmNpc2VzOiB0b3RhbEV4ZXJjaXNlcyAtIGNvbXBsZXRlZEV4ZXJjaXNlcy5sZW5ndGgsXHJcbiAgICBwZXJmb3JtYW5jZToge1xyXG4gICAgICB0b3RhbDogdXNlckFuc3dlcnMubGVuZ3RoLFxyXG4gICAgICBjb3JyZWN0OiB1c2VyQW5zd2Vycy5maWx0ZXIoYW5zd2VyID0+IGFuc3dlci5pc0NvcnJlY3QpLmxlbmd0aCxcclxuICAgICAgaW5jb3JyZWN0OiB1c2VyQW5zd2Vycy5maWx0ZXIoYW5zd2VyID0+ICFhbnN3ZXIuaXNDb3JyZWN0KS5sZW5ndGgsXHJcbiAgICAgIGFjY3VyYWN5OiB1c2VyQW5zd2Vycy5sZW5ndGggPiAwID8gTWF0aC5yb3VuZCgodXNlckFuc3dlcnMuZmlsdGVyKGFuc3dlciA9PiBhbnN3ZXIuaXNDb3JyZWN0KS5sZW5ndGggLyB1c2VyQW5zd2Vycy5sZW5ndGgpICogMTAwKSA6IDBcclxuICAgIH0sXHJcbiAgICBjb21wbGV0ZWRFeGVyY2lzZXMsXHJcbiAgICB1c2VyQW5zd2Vyc1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGlzTGFzdEV4ZXJjaXNlID0gY3VycmVudEV4ZXJjaXNlSW5kZXggPT09IHRvdGFsRXhlcmNpc2VzIC0gMTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGN1cnJlbnRFeGVyY2lzZUluZGV4LFxyXG4gICAgdXNlcklucHV0LFxyXG4gICAgc2hvd0hpbnQsXHJcbiAgICBzaG93RmVlZGJhY2ssXHJcbiAgICBpc0NvcnJlY3QsXHJcbiAgICBjb21wbGV0ZWRFeGVyY2lzZXMsXHJcbiAgICB1c2VyQW5zd2VycyxcclxuICAgIGxvYWRlZCxcclxuICAgIGN1cnJlbnRFeGVyY2lzZSxcclxuICAgIHRvdGFsRXhlcmNpc2VzLFxyXG4gICAgZXhlcmNpc2VzLFxyXG4gICAgc2V0VXNlcklucHV0LFxyXG4gICAgdG9nZ2xlSGludCxcclxuICAgIGNoZWNrQW5zd2VyLFxyXG4gICAgaGFuZGxlTmV4dCxcclxuICAgIHJldHJ5RXhlcmNpc2UsXHJcbiAgICByZXNldEV4ZXJjaXNlU3RhdGUsXHJcbiAgICBpc0xhc3RFeGVyY2lzZSxcclxuICAgIGhhc1ZhbGlkRGF0YSxcclxuICAgIHN0YXRzLFxyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB1c2VTcGVsbGluZzsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRUEsSUFBQUEsTUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsWUFBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsYUFBQSxHQUFBQyxzQkFBQSxDQUFBSCxPQUFBO0FBRUEsSUFBTUksV0FBVyxHQUFHLFNBQWRBLFdBQVdBLENBQUlDLFlBQVksRUFBRUMsS0FBSyxFQUFFQyxZQUFZLEVBQUs7RUFFekQsSUFBTUMsa0JBQWtCLEdBQUcsU0FBckJBLGtCQUFrQkEsQ0FBSUMsS0FBSyxFQUFFQyxTQUFTLEVBQXNCO0lBQUEsSUFBcEJDLFFBQVEsR0FBQUMsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsSUFBSTtJQUMzREcsT0FBTyxDQUFDQyxJQUFJLENBQUMsNkJBQTZCTixTQUFTLEdBQUcsRUFBRUQsS0FBSyxDQUFDO0lBQzlELE9BQU9FLFFBQVE7RUFDakIsQ0FBQztFQUdELElBQU1NLFdBQVcsR0FBRyxZQUFZWCxLQUFLLElBQUlDLFlBQVksRUFBRTtFQUd2RCxJQUFBVyxTQUFBLEdBQXdELElBQUFDLGVBQVEsRUFBQyxDQUFDLENBQUM7SUFBQUMsVUFBQSxPQUFBQyxlQUFBLENBQUFDLE9BQUEsRUFBQUosU0FBQTtJQUE1REssb0JBQW9CLEdBQUFILFVBQUE7SUFBRUksdUJBQXVCLEdBQUFKLFVBQUE7RUFDcEQsSUFBQUssVUFBQSxHQUFrQyxJQUFBTixlQUFRLEVBQUMsRUFBRSxDQUFDO0lB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QUFFcEMsV0FBVyxDQUFDOEQsTUFBTSxDQUFDLFVBQUFDLE1BQU07UUFBQSxPQUFJQSxNQUFNLENBQUMzRSxTQUFTO01BQUEsRUFBQyxDQUFDMUIsTUFBTTtNQUM5RHNHLFNBQVMsRUFBRWhFLFdBQVcsQ0FBQzhELE1BQU0sQ0FBQyxVQUFBQyxNQUFNO1FBQUEsT0FBSSxDQUFDQSxNQUFNLENBQUMzRSxTQUFTO01BQUEsRUFBQyxDQUFDMUIsTUFBTTtNQUNqRXVHLFFBQVEsRUFBRWpFLFdBQVcsQ0FBQ3RDLE1BQU0sR0FBRyxDQUFDLEdBQUcrRixJQUFJLENBQUNDLEtBQUssQ0FBRTFELFdBQVcsQ0FBQzhELE1BQU0sQ0FBQyxVQUFBQyxNQUFNO1FBQUEsT0FBSUEsTUFBTSxDQUFDM0UsU0FBUztNQUFBLEVBQUMsQ0FBQzFCLE1BQU0sR0FBR3NDLFdBQVcsQ0FBQ3RDLE1BQU0sR0FBSSxHQUFHLENBQUMsR0FBRztJQUN0SSxDQUFDO0lBQ0RrQyxrQkFBa0IsRUFBbEJBLGtCQUFrQjtJQUNsQkksV0FBVyxFQUFYQTtFQUNGLENBQUM7RUFFRCxJQUFNa0UsY0FBYyxHQUFHOUYsb0JBQW9CLEtBQUtpQyxjQUFjLEdBQUcsQ0FBQztFQUVsRSxPQUFPO0lBQ0xqQyxvQkFBb0IsRUFBcEJBLG9CQUFvQjtJQUNwQkksU0FBUyxFQUFUQSxTQUFTO0lBQ1RJLFFBQVEsRUFBUkEsUUFBUTtJQUNSSSxZQUFZLEVBQVpBLFlBQVk7SUFDWkksU0FBUyxFQUFUQSxTQUFTO0lBQ1RRLGtCQUFrQixFQUFsQkEsa0JBQWtCO0lBQ2xCSSxXQUFXLEVBQVhBLFdBQVc7SUFDWFIsTUFBTSxFQUFOQSxNQUFNO0lBQ05jLGVBQWUsRUFBZkEsZUFBZTtJQUNmRCxjQUFjLEVBQWRBLGNBQWM7SUFDZEQsU0FBUyxFQUFUQSxTQUFTO0lBQ1QzQixZQUFZLEVBQVpBLFlBQVk7SUFDWnFELFVBQVUsRUFBVkEsVUFBVTtJQUNWRSxXQUFXLEVBQVhBLFdBQVc7SUFDWFUsVUFBVSxFQUFWQSxVQUFVO0lBQ1ZXLGFBQWEsRUFBYkEsYUFBYTtJQUNieEIsa0JBQWtCLEVBQWxCQSxrQkFBa0I7SUFDbEJxQyxjQUFjLEVBQWRBLGNBQWM7SUFDZDNELFlBQVksRUFBWkEsWUFBWTtJQUNaK0MsS0FBSyxFQUFMQTtFQUNGLENBQUM7QUFDSCxDQUFDO0FBQUMsSUFBQWEsUUFBQSxHQUFBQyxPQUFBLENBQUFqRyxPQUFBLEdBRWFsQixXQUFXIiwiaWdub3JlTGlzdCI6W119