930d89ab5981c7a42f78960e28c15238
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _propTypes = _interopRequireDefault(require("prop-types"));
var _ProgressCard = _interopRequireDefault(require("../../../../components/ui/ProgressCard"));
var _vocabularyStats = require("../../../../utils/vocabulary/vocabularyStats");
var _jsxRuntime = require("react/jsx-runtime");
var VocabularyProgress = function VocabularyProgress(_ref) {
  var vocabularyData = _ref.vocabularyData,
    completedWords = _ref.completedWords,
    levelColor = _ref.levelColor,
    _ref$expanded = _ref.expanded,
    expanded = _ref$expanded === void 0 ? false : _ref$expanded,
    onToggleExpand = _ref.onToggleExpand,
    onCategoryPress = _ref.onCategoryPress;
  var getDataArray = function getDataArray() {
    if (vocabularyData != null && vocabularyData.categories && Array.isArray(vocabularyData.categories)) {
      return vocabularyData.categories;
    } else if (vocabularyData != null && vocabularyData.exercises && Array.isArray(vocabularyData.exercises)) {
      return vocabularyData.exercises;
    }
    return [];
  };
  var dataArray = getDataArray();
  var totalWordsCount = (0, _vocabularyStats.calculateTotalWords)(dataArray);
  var completedWordsCount = (0, _vocabularyStats.calculateCompletedWordsCount)(completedWords);
  var totalProgress = (0, _vocabularyStats.calculateTotalProgress)(dataArray, completedWords);
  var categoryProgressData = (0, _vocabularyStats.calculateCategoryProgress)(dataArray, completedWords);
  var formattedCategoryData = categoryProgressData.map(function (category) {
    return {
      title: category.title,
      completed: category.completedWords,
      total: category.totalWords,
      progress: category.progress
    };
  });
  return (0, _jsxRuntime.jsx)(_ProgressCard.default, {
    title: "Progression",
    progress: totalProgress,
    completed: completedWordsCount,
    total: totalWordsCount,
    unit: "mots",
    levelColor: levelColor,
    expandable: true,
    expanded: expanded,
    onToggleExpand: onToggleExpand,
    categoryData: formattedCategoryData,
    onCategoryPress: onCategoryPress
  });
};
VocabularyProgress.propTypes = {
  vocabularyData: _propTypes.default.shape({
    categories: _propTypes.default.arrayOf(_propTypes.default.object),
    exercises: _propTypes.default.arrayOf(_propTypes.default.object)
  }),
  completedWords: _propTypes.default.object,
  levelColor: _propTypes.default.string.isRequired,
  expanded: _propTypes.default.bool,
  onToggleExpand: _propTypes.default.func,
  onCategoryPress: _propTypes.default.func
};
var _default = exports.default = VocabularyProgress;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvcFR5cGVzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfUHJvZ3Jlc3NDYXJkIiwiX3ZvY2FidWxhcnlTdGF0cyIsIl9qc3hSdW50aW1lIiwiVm9jYWJ1bGFyeVByb2dyZXNzIiwiX3JlZiIsInZvY2FidWxhcnlEYXRhIiwiY29tcGxldGVkV29yZHMiLCJsZXZlbENvbG9yIiwiX3JlZiRleHBhbmRlZCIsImV4cGFuZGVkIiwib25Ub2dnbGVFeHBhbmQiLCJvbkNhdGVnb3J5UHJlc3MiLCJnZXREYXRhQXJyYXkiLCJjYXRlZ29yaWVzIiwiQXJyYXkiLCJpc0FycmF5IiwiZXhlcmNpc2VzIiwiZGF0YUFycmF5IiwidG90YWxXb3Jkc0NvdW50IiwiY2FsY3VsYXRlVG90YWxXb3JkcyIsImNvbXBsZXRlZFdvcmRzQ291bnQiLCJjYWxjdWxhdGVDb21wbGV0ZWRXb3Jkc0NvdW50IiwidG90YWxQcm9ncmVzcyIsImNhbGN1bGF0ZVRvdGFsUHJvZ3Jlc3MiLCJjYXRlZ29yeVByb2dyZXNzRGF0YSIsImNhbGN1bGF0ZUNhdGVnb3J5UHJvZ3Jlc3MiLCJmb3JtYXR0ZWRDYXRlZ29yeURhdGEiLCJtYXAiLCJjYXRlZ29yeSIsInRpdGxlIiwiY29tcGxldGVkIiwidG90YWwiLCJ0b3RhbFdvcmRzIiwicHJvZ3Jlc3MiLCJqc3giLCJkZWZhdWx0IiwidW5pdCIsImV4cGFuZGFibGUiLCJjYXRlZ29yeURhdGEiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJzaGFwZSIsImFycmF5T2YiLCJvYmplY3QiLCJzdHJpbmciLCJpc1JlcXVpcmVkIiwiYm9vbCIsImZ1bmMiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBWb2NhYnVsYXJ5UHJvZ3Jlc3MvaW5kZXguanMgLSBDT1JSSUfDiSBwb3VyIMOpbGltaW5lciBsZXMgMTIgdmlvbGF0aW9ucyBTb25hclF1YmVcclxuXHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCBQcm9ncmVzc0NhcmQgZnJvbSBcIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMvdWkvUHJvZ3Jlc3NDYXJkXCI7XHJcbmltcG9ydCB7XHJcbiAgY2FsY3VsYXRlVG90YWxXb3JkcyxcclxuICBjYWxjdWxhdGVDb21wbGV0ZWRXb3Jkc0NvdW50LFxyXG4gIGNhbGN1bGF0ZVRvdGFsUHJvZ3Jlc3MsXHJcbiAgY2FsY3VsYXRlQ2F0ZWdvcnlQcm9ncmVzcyxcclxufSBmcm9tIFwiLi4vLi4vLi4vLi4vdXRpbHMvdm9jYWJ1bGFyeS92b2NhYnVsYXJ5U3RhdHNcIjtcclxuXHJcbi8qKlxyXG4gKiDwn5OKIFZvY2FidWxhcnlQcm9ncmVzcyAtIFZlcnNpb24gQ29ycmlnw6llIHBvdXIgZ8OpcmVyIGNhdGVnb3JpZXMgRVQgZXhlcmNpc2VzXHJcbiAqIOKchSBHw6hyZSBtb2RlIGNsYXNzaXF1ZSAoY2F0ZWdvcmllcykgRVQgbW9kZSBmYXN0IChleGVyY2lzZXMpXHJcbiAqIFxyXG4gKiBAcGFyYW0ge29iamVjdH0gdm9jYWJ1bGFyeURhdGEgLSBEb25uw6llcyBkdSB2b2NhYnVsYWlyZVxyXG4gKiBAcGFyYW0ge29iamVjdH0gY29tcGxldGVkV29yZHMgLSBNb3RzIGNvbXBsw6l0w6lzIHBhciBjYXTDqWdvcmllXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBsZXZlbENvbG9yIC0gQ291bGV1ciBkdSBuaXZlYXVcclxuICogQHBhcmFtIHtib29sZWFufSBleHBhbmRlZCAtIMOJdGF0IGQnZXhwYW5zaW9uXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uVG9nZ2xlRXhwYW5kIC0gRm9uY3Rpb24gcG91ciB0b2dnbGUgZXhwYW5zaW9uXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uQ2F0ZWdvcnlQcmVzcyAtIEZvbmN0aW9uIGFwcGVsw6llIGxvcnMgZHUgY2xpYyBzdXIgY2F0w6lnb3JpZVxyXG4gKi9cclxuY29uc3QgVm9jYWJ1bGFyeVByb2dyZXNzID0gKHtcclxuICB2b2NhYnVsYXJ5RGF0YSxcclxuICBjb21wbGV0ZWRXb3JkcyxcclxuICBsZXZlbENvbG9yLFxyXG4gIGV4cGFuZGVkID0gZmFsc2UsXHJcbiAgb25Ub2dnbGVFeHBhbmQsXHJcbiAgb25DYXRlZ29yeVByZXNzLFxyXG59KSA9PiB7XHJcbiAgXHJcbiAgLy8g4pyFIENPUlJJR8OJIDogRMOpdGVjdGUgbGEgdnJhaWUgc3RydWN0dXJlXHJcbiAgY29uc3QgZ2V0RGF0YUFycmF5ID0gKCkgPT4ge1xyXG4gICAgaWYgKHZvY2FidWxhcnlEYXRhPy5jYXRlZ29yaWVzICYmIEFycmF5LmlzQXJyYXkodm9jYWJ1bGFyeURhdGEuY2F0ZWdvcmllcykpIHtcclxuICAgICAgLy8gTW9kZSBjbGFzc2lxdWUgOiB7IGNhdGVnb3JpZXM6IFsuLi5dIH1cclxuICAgICAgcmV0dXJuIHZvY2FidWxhcnlEYXRhLmNhdGVnb3JpZXM7XHJcbiAgICB9IGVsc2UgaWYgKHZvY2FidWxhcnlEYXRhPy5leGVyY2lzZXMgJiYgQXJyYXkuaXNBcnJheSh2b2NhYnVsYXJ5RGF0YS5leGVyY2lzZXMpKSB7XHJcbiAgICAgIC8vIE1vZGUgZmFzdCA6IHsgZXhlcmNpc2VzOiBbLi4uXSB9XHJcbiAgICAgIHJldHVybiB2b2NhYnVsYXJ5RGF0YS5leGVyY2lzZXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gW107XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZGF0YUFycmF5ID0gZ2V0RGF0YUFycmF5KCk7XHJcbiAgXHJcbiAgLy8g4pyFIENPUlJJR8OJIDogVXRpbGlzZSBsYSB2cmFpZSBzdHJ1Y3R1cmUgZMOpdGVjdMOpZVxyXG4gIGNvbnN0IHRvdGFsV29yZHNDb3VudCA9IGNhbGN1bGF0ZVRvdGFsV29yZHMoZGF0YUFycmF5KTtcclxuICBjb25zdCBjb21wbGV0ZWRXb3Jkc0NvdW50ID0gY2FsY3VsYXRlQ29tcGxldGVkV29yZHNDb3VudChjb21wbGV0ZWRXb3Jkcyk7XHJcbiAgY29uc3QgdG90YWxQcm9ncmVzcyA9IGNhbGN1bGF0ZVRvdGFsUHJvZ3Jlc3MoZGF0YUFycmF5LCBjb21wbGV0ZWRXb3Jkcyk7XHJcbiAgXHJcbiAgLy8gRG9ubsOpZXMgZGVzIGNhdMOpZ29yaWVzIHBvdXIgbCdleHBhbnNpb25cclxuICBjb25zdCBjYXRlZ29yeVByb2dyZXNzRGF0YSA9IGNhbGN1bGF0ZUNhdGVnb3J5UHJvZ3Jlc3MoZGF0YUFycmF5LCBjb21wbGV0ZWRXb3Jkcyk7XHJcblxyXG4gIC8vIFRyYW5zZm9ybWF0aW9uIHBvdXIgbGUgZm9ybWF0IFByb2dyZXNzQ2FyZFxyXG4gIGNvbnN0IGZvcm1hdHRlZENhdGVnb3J5RGF0YSA9IGNhdGVnb3J5UHJvZ3Jlc3NEYXRhLm1hcCgoY2F0ZWdvcnkpID0+ICh7XHJcbiAgICB0aXRsZTogY2F0ZWdvcnkudGl0bGUsXHJcbiAgICBjb21wbGV0ZWQ6IGNhdGVnb3J5LmNvbXBsZXRlZFdvcmRzLFxyXG4gICAgdG90YWw6IGNhdGVnb3J5LnRvdGFsV29yZHMsXHJcbiAgICBwcm9ncmVzczogY2F0ZWdvcnkucHJvZ3Jlc3MsXHJcbiAgfSkpO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPFByb2dyZXNzQ2FyZFxyXG4gICAgICB0aXRsZT1cIlByb2dyZXNzaW9uXCJcclxuICAgICAgcHJvZ3Jlc3M9e3RvdGFsUHJvZ3Jlc3N9XHJcbiAgICAgIGNvbXBsZXRlZD17Y29tcGxldGVkV29yZHNDb3VudH1cclxuICAgICAgdG90YWw9e3RvdGFsV29yZHNDb3VudH1cclxuICAgICAgdW5pdD1cIm1vdHNcIlxyXG4gICAgICBsZXZlbENvbG9yPXtsZXZlbENvbG9yfVxyXG4gICAgICBleHBhbmRhYmxlXHJcbiAgICAgIGV4cGFuZGVkPXtleHBhbmRlZH1cclxuICAgICAgb25Ub2dnbGVFeHBhbmQ9e29uVG9nZ2xlRXhwYW5kfVxyXG4gICAgICBjYXRlZ29yeURhdGE9e2Zvcm1hdHRlZENhdGVnb3J5RGF0YX1cclxuICAgICAgb25DYXRlZ29yeVByZXNzPXtvbkNhdGVnb3J5UHJlc3N9XHJcbiAgICAvPlxyXG4gICk7XHJcbn07XHJcblxyXG4vLyBQcm9wVHlwZXMgcG91ciBWb2NhYnVsYXJ5UHJvZ3Jlc3MgLSBDT1JSSUfDiSBwb3VyIHRvdXRlcyBsZXMgdmlvbGF0aW9uc1xyXG5Wb2NhYnVsYXJ5UHJvZ3Jlc3MucHJvcFR5cGVzID0ge1xyXG4gIHZvY2FidWxhcnlEYXRhOiBQcm9wVHlwZXMuc2hhcGUoe1xyXG4gICAgY2F0ZWdvcmllczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9iamVjdCksXHJcbiAgICBleGVyY2lzZXM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vYmplY3QpLFxyXG4gIH0pLFxyXG4gIGNvbXBsZXRlZFdvcmRzOiBQcm9wVHlwZXMub2JqZWN0LFxyXG4gIGxldmVsQ29sb3I6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICBleHBhbmRlZDogUHJvcFR5cGVzLmJvb2wsXHJcbiAgb25Ub2dnbGVFeHBhbmQ6IFByb3BUeXBlcy5mdW5jLFxyXG4gIG9uQ2F0ZWdvcnlQcmVzczogUHJvcFR5cGVzLmZ1bmMsXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBWb2NhYnVsYXJ5UHJvZ3Jlc3M7Il0sIm1hcHBpbmdzIjoiOzs7OztBQUVBLElBQUFBLFVBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGFBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLGdCQUFBLEdBQUFGLE9BQUE7QUFLc0QsSUFBQUcsV0FBQSxHQUFBSCxPQUFBO0FBYXRELElBQU1JLGtCQUFrQixHQUFHLFNBQXJCQSxrQkFBa0JBLENBQUFDLElBQUEsRUFPbEI7RUFBQSxJQU5KQyxjQUFjLEdBQUFELElBQUEsQ0FBZEMsY0FBYztJQUNkQyxjQUFjLEdBQUFGLElBQUEsQ0FBZEUsY0FBYztJQUNkQyxVQUFVLEdBQUFILElBQUEsQ0FBVkcsVUFBVTtJQUFBQyxhQUFBLEdBQUFKLElBQUEsQ0FDVkssUUFBUTtJQUFSQSxRQUFRLEdBQUFELGFBQUEsY0FBRyxLQUFLLEdBQUFBLGFBQUE7SUFDaEJFLGNBQWMsR0FBQU4sSUFBQSxDQUFkTSxjQUFjO0lBQ2RDLGVBQWUsR0FBQVAsSUFBQSxDQUFmTyxlQUFlO0VBSWYsSUFBTUMsWUFBWSxHQUFHLFNBQWZBLFlBQVlBLENBQUEsRUFBUztJQUN6QixJQUFJUCxjQUFjLFlBQWRBLGNBQWMsQ0FBRVEsVUFBVSxJQUFJQyxLQUFLLENBQUNDLE9BQU8sQ0FBQ1YsY0FBYyxDQUFDUSxVQUFVLENBQUMsRUFBRTtNQUUxRSxPQUFPUixjQUFjLENBQUNRLFVBQVU7SUFDbEMsQ0FBQyxNQUFNLElBQUlSLGNBQWMsWUFBZEEsY0FBYyxDQUFFVyxTQUFTLElBQUlGLEtBQUssQ0FBQ0MsT0FBTyxDQUFDVixjQUFjLENBQUNXLFNBQVMsQ0FBQyxFQUFFO01BRS9FLE9BQU9YLGNBQWMsQ0FBQ1csU0FBUztJQUNqQztJQUNBLE9BQU8sRUFBRTtFQUNYLENBQUM7RUFFRCxJQUFNQyxTQUFTLEdBQUdMLFlBQVksQ0FBQyxDQUFDO0VBR2hDLElBQU1NLGVBQWUsR0FBRyxJQUFBQyxvQ0FBbUIsRUFBQ0YsU0FBUyxDQUFDO0VBQ3RELElBQU1HLG1CQUFtQixHQUFHLElBQUFDLDZDQUE0QixFQUFDZixjQUFjLENBQUM7RUFDeEUsSUFBTWdCLGFBQWEsR0FBRyxJQUFBQyx1Q0FBc0IsRUFBQ04sU0FBUyxFQUFFWCxjQUFjLENBQUM7RUFHdkUsSUFBTWtCLG9CQUFvQixHQUFHLElBQUFDLDBDQUF5QixFQUFDUixTQUFTLEVBQUVYLGNBQWMsQ0FBQztFQUdqRixJQUFNb0IscUJBQXFCLEdBQUdGLG9CQUFvQixDQUFDRyxHQUFHLENBQUMsVUFBQ0MsUUFBUTtJQUFBLE9BQU07TUFDcEVDLEtBQUssRUFBRUQsUUFBUSxDQUFDQyxLQUFLO01BQ3JCQyxTQUFTLEVBQUVGLFFBQVEsQ0FBQ3RCLGNBQWM7TUFDbEN5QixLQUFLLEVBQUVILFFBQVEsQ0FBQ0ksVUFBVTtNQUMxQkMsUUFBUSxFQUFFTCxRQUFRLENBQUNLO0lBQ3JCLENBQUM7RUFBQSxDQUFDLENBQUM7RUFFSCxPQUNFLElBQUEvQixXQUFBLENBQUFnQyxHQUFBLEVBQUNsQyxhQUFBLENBQUFtQyxPQUFZO0lBQ1hOLEtBQUssRUFBQyxhQUFhO0lBQ25CSSxRQUFRLEVBQUVYLGFBQWM7SUFDeEJRLFNBQVMsRUFBRVYsbUJBQW9CO0lBQy9CVyxLQUFLLEVBQUViLGVBQWdCO0lBQ3ZCa0IsSUFBSSxFQUFDLE1BQU07SUFDWDdCLFVBQVUsRUFBRUEsVUFBVztJQUN2QjhCLFVBQVU7SUFDVjVCLFFBQVEsRUFBRUEsUUFBUztJQUNuQkMsY0FBYyxFQUFFQSxjQUFlO0lBQy9CNEIsWUFBWSxFQUFFWixxQkFBc0I7SUFDcENmLGVBQWUsRUFBRUE7RUFBZ0IsQ0FDbEMsQ0FBQztBQUVOLENBQUM7QUFHRFIsa0JBQWtCLENBQUNvQyxTQUFTLEdBQUc7RUFDN0JsQyxjQUFjLEVBQUVtQyxrQkFBUyxDQUFDQyxLQUFLLENBQUM7SUFDOUI1QixVQUFVLEVBQUUyQixrQkFBUyxDQUFDRSxPQUFPLENBQUNGLGtCQUFTLENBQUNHLE1BQU0sQ0FBQztJQUMvQzNCLFNBQVMsRUFBRXdCLGtCQUFTLENBQUNFLE9BQU8sQ0FBQ0Ysa0JBQVMsQ0FBQ0csTUFBTTtFQUMvQyxDQUFDLENBQUM7RUFDRnJDLGNBQWMsRUFBRWtDLGtCQUFTLENBQUNHLE1BQU07RUFDaENwQyxVQUFVLEVBQUVpQyxrQkFBUyxDQUFDSSxNQUFNLENBQUNDLFVBQVU7RUFDdkNwQyxRQUFRLEVBQUUrQixrQkFBUyxDQUFDTSxJQUFJO0VBQ3hCcEMsY0FBYyxFQUFFOEIsa0JBQVMsQ0FBQ08sSUFBSTtFQUM5QnBDLGVBQWUsRUFBRTZCLGtCQUFTLENBQUNPO0FBQzdCLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWQsT0FBQSxHQUVhaEMsa0JBQWtCIiwiaWdub3JlTGlzdCI6W119