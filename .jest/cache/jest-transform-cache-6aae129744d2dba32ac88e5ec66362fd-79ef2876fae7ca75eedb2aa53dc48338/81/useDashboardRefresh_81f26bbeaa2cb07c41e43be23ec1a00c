bcc5149e0f1807f3ffe3591c36017f98
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = useDashboardRefresh;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = require("react");
function useDashboardRefresh(_ref) {
  var originalOnRefresh = _ref.originalOnRefresh,
    refreshProgress = _ref.refreshProgress;
  var _useState = (0, _react.useState)(0),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    refreshKey = _useState2[0],
    setRefreshKey = _useState2[1];
  var onRefresh = (0, _react.useCallback)((0, _asyncToGenerator2.default)(function* () {
    yield Promise.all([originalOnRefresh(), refreshProgress()]);
    setRefreshKey(function (prev) {
      return prev + 1;
    });
  }), [originalOnRefresh, refreshProgress]);
  return {
    refreshKey: refreshKey,
    onRefresh: onRefresh
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwidXNlRGFzaGJvYXJkUmVmcmVzaCIsIl9yZWYiLCJvcmlnaW5hbE9uUmVmcmVzaCIsInJlZnJlc2hQcm9ncmVzcyIsIl91c2VTdGF0ZSIsInVzZVN0YXRlIiwiX3VzZVN0YXRlMiIsIl9zbGljZWRUb0FycmF5MiIsImRlZmF1bHQiLCJyZWZyZXNoS2V5Iiwic2V0UmVmcmVzaEtleSIsIm9uUmVmcmVzaCIsInVzZUNhbGxiYWNrIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiUHJvbWlzZSIsImFsbCIsInByZXYiXSwic291cmNlcyI6WyJ1c2VEYXNoYm9hcmRSZWZyZXNoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9zY3JlZW5zL0Rhc2hib2FyZC9ob29rcy91c2VEYXNoYm9hcmRSZWZyZXNoLmpzXHJcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xyXG5cclxuLyoqXHJcbiAqIFVuaWZpZSBsZSByYWZyYcOuY2hpc3NlbWVudCBkZXMgc2VjdGlvbnMgRGFzaGJvYXJkIGV0IGV4cG9zZSB1bmUgY2zDqVxyXG4gKiBwb3VyIGZvcmNlciBsZSByZS1yZW5kZXIgZGVzIHNvdXMtY29tcG9zYW50cyBkw6lwZW5kYW50cy5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZURhc2hib2FyZFJlZnJlc2goeyBvcmlnaW5hbE9uUmVmcmVzaCwgcmVmcmVzaFByb2dyZXNzIH0pIHtcclxuICBjb25zdCBbcmVmcmVzaEtleSwgc2V0UmVmcmVzaEtleV0gPSB1c2VTdGF0ZSgwKTtcclxuXHJcbiAgY29uc3Qgb25SZWZyZXNoID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xyXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICBvcmlnaW5hbE9uUmVmcmVzaCgpLFxyXG4gICAgICByZWZyZXNoUHJvZ3Jlc3MoKSxcclxuICAgIF0pO1xyXG4gICAgc2V0UmVmcmVzaEtleSgocHJldikgPT4gcHJldiArIDEpO1xyXG4gIH0sIFtvcmlnaW5hbE9uUmVmcmVzaCwgcmVmcmVzaFByb2dyZXNzXSk7XHJcblxyXG4gIHJldHVybiB7IHJlZnJlc2hLZXksIG9uUmVmcmVzaCB9O1xyXG59XHJcblxyXG5cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0EsSUFBQUEsTUFBQSxHQUFBQyxPQUFBO0FBTWUsU0FBU0MsbUJBQW1CQSxDQUFBQyxJQUFBLEVBQXlDO0VBQUEsSUFBdENDLGlCQUFpQixHQUFBRCxJQUFBLENBQWpCQyxpQkFBaUI7SUFBRUMsZUFBZSxHQUFBRixJQUFBLENBQWZFLGVBQWU7RUFDOUUsSUFBQUMsU0FBQSxHQUFvQyxJQUFBQyxlQUFRLEVBQUMsQ0FBQyxDQUFDO0lBQUFDLFVBQUEsT0FBQUMsZUFBQSxDQUFBQyxPQUFBLEVBQUFKLFNBQUE7SUFBeENLLFVBQVUsR0FBQUgsVUFBQTtJQUFFSSxhQUFhLEdBQUFKLFVBQUE7RUFFaEMsSUFBTUssU0FBUyxHQUFHLElBQUFDLGtCQUFXLE1BQUFDLGtCQUFBLENBQUFMLE9BQUEsRUFBQyxhQUFZO0lBQ3hDLE1BQU1NLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLENBQ2hCYixpQkFBaUIsQ0FBQyxDQUFDLEVBQ25CQyxlQUFlLENBQUMsQ0FBQyxDQUNsQixDQUFDO0lBQ0ZPLGFBQWEsQ0FBQyxVQUFDTSxJQUFJO01BQUEsT0FBS0EsSUFBSSxHQUFHLENBQUM7SUFBQSxFQUFDO0VBQ25DLENBQUMsR0FBRSxDQUFDZCxpQkFBaUIsRUFBRUMsZUFBZSxDQUFDLENBQUM7RUFFeEMsT0FBTztJQUFFTSxVQUFVLEVBQVZBLFVBQVU7SUFBRUUsU0FBUyxFQUFUQTtFQUFVLENBQUM7QUFDbEMiLCJpZ25vcmVMaXN0IjpbXX0=