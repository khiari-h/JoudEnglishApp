4d064767b6debe8d1ad36197dfe77fe3
_getJestObj().mock('@react-native-async-storage/async-storage', function () {
  return {
    getItem: jest.fn(),
    setItem: jest.fn(),
    removeItem: jest.fn()
  };
});
_getJestObj().mock('../../src/utils/constants', function () {
  return {
    STORAGE_KEYS: {
      LAST_ACTIVITY: 'last_activity'
    }
  };
});
_getJestObj().mock('../../src/utils/eventBus', function () {
  return {
    emit: jest.fn()
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _reactNative = require("@testing-library/react-native");
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _useLastActivity = _interopRequireDefault(require("../../src/hooks/useLastActivity"));
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('useLastActivity', function () {
  beforeEach(function () {
    jest.clearAllMocks();
    jest.spyOn(Date, 'now').mockReturnValue(1640995200000);
  });
  afterEach(function () {
    jest.restoreAllMocks();
  });
  describe('Chargement initial', function () {
    it('devrait charger la dernière activité depuis AsyncStorage', (0, _asyncToGenerator2.default)(function* () {
      var mockActivity = {
        type: 'vocabulary',
        level: '1',
        category: 'Animals',
        timestamp: 1640995200000 - 300000
      };
      _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify(mockActivity));
      var _renderHook = (0, _reactNative.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook.result,
        waitForNextUpdate = _renderHook.waitForNextUpdate;
      yield waitForNextUpdate();
      expect(result.current.lastActivity).toEqual(Object.assign({}, mockActivity, {
        timeElapsed: 'Il y a 5 min'
      }));
      expect(result.current.isLoading).toBe(false);
    }));
    it('devrait retourner null si aucune activité n\'est stockée', (0, _asyncToGenerator2.default)(function* () {
      _asyncStorage.default.getItem.mockResolvedValue(null);
      var _renderHook2 = (0, _reactNative.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook2.result,
        waitForNextUpdate = _renderHook2.waitForNextUpdate;
      yield waitForNextUpdate();
      expect(result.current.lastActivity).toBeNull();
      expect(result.current.isLoading).toBe(false);
    }));
    it('devrait gérer les erreurs de chargement', (0, _asyncToGenerator2.default)(function* () {
      _asyncStorage.default.getItem.mockRejectedValue(new Error('Storage error'));
      var _renderHook3 = (0, _reactNative.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook3.result,
        waitForNextUpdate = _renderHook3.waitForNextUpdate;
      yield waitForNextUpdate();
      expect(result.current.lastActivity).toBeNull();
      expect(result.current.isLoading).toBe(false);
    }));
  });
  describe('Calcul du temps écoulé', function () {
    it('devrait afficher "À l\'instant" pour une activité récente', (0, _asyncToGenerator2.default)(function* () {
      var mockActivity = {
        type: 'grammar',
        timestamp: 1640995200000
      };
      _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify(mockActivity));
      var _renderHook4 = (0, _reactNative.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook4.result,
        waitForNextUpdate = _renderHook4.waitForNextUpdate;
      yield waitForNextUpdate();
      expect(result.current.lastActivity.timeElapsed).toBe('À l\'instant');
    }));
    it('devrait calculer les minutes correctement', (0, _asyncToGenerator2.default)(function* () {
      var testCases = [{
        minutesAgo: 0,
        expected: 'À l\'instant'
      }, {
        minutesAgo: 1,
        expected: 'Il y a 1 min'
      }, {
        minutesAgo: 30,
        expected: 'Il y a 30 min'
      }, {
        minutesAgo: 59,
        expected: 'Il y a 59 min'
      }];
      for (var testCase of testCases) {
        var mockActivity = {
          type: 'test',
          timestamp: 1640995200000 - testCase.minutesAgo * 60 * 1000
        };
        _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify(mockActivity));
        var _renderHook5 = (0, _reactNative.renderHook)(function () {
            return (0, _useLastActivity.default)();
          }),
          result = _renderHook5.result,
          waitForNextUpdate = _renderHook5.waitForNextUpdate;
        yield waitForNextUpdate();
        expect(result.current.lastActivity.timeElapsed).toBe(testCase.expected);
      }
    }));
    it('devrait calculer les heures correctement', (0, _asyncToGenerator2.default)(function* () {
      var testCases = [{
        hoursAgo: 1,
        expected: 'Il y a 1h'
      }, {
        hoursAgo: 5,
        expected: 'Il y a 5h'
      }, {
        hoursAgo: 23,
        expected: 'Il y a 23h'
      }];
      for (var testCase of testCases) {
        var mockActivity = {
          type: 'test',
          timestamp: 1640995200000 - testCase.hoursAgo * 60 * 60 * 1000
        };
        _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify(mockActivity));
        var _renderHook6 = (0, _reactNative.renderHook)(function () {
            return (0, _useLastActivity.default)();
          }),
          result = _renderHook6.result,
          waitForNextUpdate = _renderHook6.waitForNextUpdate;
        yield waitForNextUpdate();
        expect(result.current.lastActivity.timeElapsed).toBe(testCase.expected);
      }
    }));
    it('devrait calculer les jours correctement', (0, _asyncToGenerator2.default)(function* () {
      var testCases = [{
        daysAgo: 1,
        expected: 'Il y a 1j'
      }, {
        daysAgo: 3,
        expected: 'Il y a 3j'
      }, {
        daysAgo: 30,
        expected: 'Il y a 30j'
      }];
      for (var testCase of testCases) {
        var mockActivity = {
          type: 'test',
          timestamp: 1640995200000 - testCase.daysAgo * 24 * 60 * 60 * 1000
        };
        _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify(mockActivity));
        var _renderHook7 = (0, _reactNative.renderHook)(function () {
            return (0, _useLastActivity.default)();
          }),
          result = _renderHook7.result,
          waitForNextUpdate = _renderHook7.waitForNextUpdate;
        yield waitForNextUpdate();
        expect(result.current.lastActivity.timeElapsed).toBe(testCase.expected);
      }
    }));
  });
  describe('Sauvegarde d\'activité', function () {
    it('devrait sauvegarder une nouvelle activité', (0, _asyncToGenerator2.default)(function* () {
      _asyncStorage.default.getItem.mockResolvedValue(null);
      var _renderHook8 = (0, _reactNative.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook8.result,
        waitForNextUpdate = _renderHook8.waitForNextUpdate;
      yield waitForNextUpdate();
      var activityData = {
        type: 'vocabulary',
        level: '2',
        category: 'Food',
        score: 85
      };
      yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
        yield result.current.saveActivity(activityData);
      }));
      expect(_asyncStorage.default.setItem).toHaveBeenCalledWith('last_activity', JSON.stringify(Object.assign({}, activityData, {
        timestamp: 1640995200000
      })));
      expect(result.current.lastActivity).toEqual(Object.assign({}, activityData, {
        timestamp: 1640995200000,
        timeElapsed: 'À l\'instant'
      }));
    }));
    it('devrait émettre un événement de progression', (0, _asyncToGenerator2.default)(function* () {
      _asyncStorage.default.getItem.mockResolvedValue(null);
      var _renderHook9 = (0, _reactNative.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook9.result,
        waitForNextUpdate = _renderHook9.waitForNextUpdate;
      yield waitForNextUpdate();
      var activityData = {
        type: 'test'
      };
      yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
        yield result.current.saveActivity(activityData);
      }));
      var eventBus = require('../../src/utils/eventBus');
      expect(eventBus.emit).toHaveBeenCalledWith('progress-updated', Object.assign({}, activityData, {
        timestamp: 1640995200000
      }));
    }));
    it('devrait gérer les erreurs de sauvegarde', (0, _asyncToGenerator2.default)(function* () {
      _asyncStorage.default.getItem.mockResolvedValue(null);
      _asyncStorage.default.setItem.mockRejectedValue(new Error('Save error'));
      var _renderHook0 = (0, _reactNative.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook0.result,
        waitForNextUpdate = _renderHook0.waitForNextUpdate;
      yield waitForNextUpdate();
      var activityData = {
        type: 'test'
      };
      yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
        yield result.current.saveActivity(activityData);
      }));
      expect(result.current.lastActivity).toBeNull();
    }));
  });
  describe('Suppression d\'activité', function () {
    it('devrait supprimer l\'activité stockée', (0, _asyncToGenerator2.default)(function* () {
      var mockActivity = {
        type: 'test',
        timestamp: 1640995200000
      };
      _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify(mockActivity));
      var _renderHook1 = (0, _reactNative.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook1.result,
        waitForNextUpdate = _renderHook1.waitForNextUpdate;
      yield waitForNextUpdate();
      expect(result.current.lastActivity).not.toBeNull();
      yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
        yield result.current.clearActivity();
      }));
      expect(_asyncStorage.default.removeItem).toHaveBeenCalledWith('last_activity');
      expect(result.current.lastActivity).toBeNull();
    }));
    it('devrait gérer les erreurs de suppression', (0, _asyncToGenerator2.default)(function* () {
      _asyncStorage.default.getItem.mockResolvedValue(null);
      _asyncStorage.default.removeItem.mockRejectedValue(new Error('Remove error'));
      var _renderHook10 = (0, _reactNative.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook10.result,
        waitForNextUpdate = _renderHook10.waitForNextUpdate;
      yield waitForNextUpdate();
      yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
        yield result.current.clearActivity();
      }));
      expect(result.current.lastActivity).toBeNull();
    }));
  });
  describe('Rechargement', function () {
    it('devrait permettre de recharger les données', (0, _asyncToGenerator2.default)(function* () {
      _asyncStorage.default.getItem.mockResolvedValue(null);
      var _renderHook11 = (0, _reactNative.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook11.result,
        waitForNextUpdate = _renderHook11.waitForNextUpdate;
      yield waitForNextUpdate();
      expect(result.current.lastActivity).toBeNull();
      var mockActivity = {
        type: 'new',
        timestamp: 1640995200000
      };
      _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify(mockActivity));
      yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
        yield result.current.reload();
      }));
      expect(result.current.lastActivity).toEqual(Object.assign({}, mockActivity, {
        timeElapsed: 'À l\'instant'
      }));
    }));
  });
  describe('Stabilité des fonctions', function () {
    it('devrait maintenir la stabilité des fonctions entre les renders', (0, _asyncToGenerator2.default)(function* () {
      _asyncStorage.default.getItem.mockResolvedValue(null);
      var _renderHook12 = (0, _reactNative.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook12.result,
        waitForNextUpdate = _renderHook12.waitForNextUpdate,
        rerender = _renderHook12.rerender;
      yield waitForNextUpdate();
      var initialSaveActivity = result.current.saveActivity;
      var initialClearActivity = result.current.clearActivity;
      var initialReload = result.current.reload;
      rerender();
      expect(result.current.saveActivity).toBe(initialSaveActivity);
      expect(result.current.clearActivity).toBe(initialClearActivity);
      expect(result.current.reload).toBe(initialReload);
    }));
  });
  describe('Gestion des données corrompues', function () {
    it('devrait gérer les données JSON invalides', (0, _asyncToGenerator2.default)(function* () {
      _asyncStorage.default.getItem.mockResolvedValue('invalid json');
      var _renderHook13 = (0, _reactNative.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook13.result,
        waitForNextUpdate = _renderHook13.waitForNextUpdate;
      yield waitForNextUpdate();
      expect(result.current.lastActivity).toBeNull();
      expect(result.current.isLoading).toBe(false);
    }));
    it('devrait gérer les activités sans timestamp', (0, _asyncToGenerator2.default)(function* () {
      var mockActivity = {
        type: 'test'
      };
      _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify(mockActivity));
      var _renderHook14 = (0, _reactNative.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook14.result,
        waitForNextUpdate = _renderHook14.waitForNextUpdate;
      yield waitForNextUpdate();
      expect(result.current.lastActivity).toBeDefined();
      expect(result.current.lastActivity.timeElapsed).toBeDefined();
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJnZXRJdGVtIiwiamVzdCIsImZuIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJTVE9SQUdFX0tFWVMiLCJMQVNUX0FDVElWSVRZIiwiZW1pdCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlYWN0TmF0aXZlIiwiX2FzeW5jU3RvcmFnZSIsIl91c2VMYXN0QWN0aXZpdHkiLCJfcmVxdWlyZSIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJzcHlPbiIsIkRhdGUiLCJtb2NrUmV0dXJuVmFsdWUiLCJhZnRlckVhY2giLCJyZXN0b3JlQWxsTW9ja3MiLCJpdCIsImRlZmF1bHQiLCJtb2NrQWN0aXZpdHkiLCJ0eXBlIiwibGV2ZWwiLCJjYXRlZ29yeSIsInRpbWVzdGFtcCIsIkFzeW5jU3RvcmFnZSIsIm1vY2tSZXNvbHZlZFZhbHVlIiwiSlNPTiIsInN0cmluZ2lmeSIsIl9yZW5kZXJIb29rIiwicmVuZGVySG9vayIsInVzZUxhc3RBY3Rpdml0eSIsInJlc3VsdCIsIndhaXRGb3JOZXh0VXBkYXRlIiwiZXhwZWN0IiwiY3VycmVudCIsImxhc3RBY3Rpdml0eSIsInRvRXF1YWwiLCJPYmplY3QiLCJhc3NpZ24iLCJ0aW1lRWxhcHNlZCIsImlzTG9hZGluZyIsInRvQmUiLCJfcmVuZGVySG9vazIiLCJ0b0JlTnVsbCIsIm1vY2tSZWplY3RlZFZhbHVlIiwiRXJyb3IiLCJfcmVuZGVySG9vazMiLCJfcmVuZGVySG9vazQiLCJ0ZXN0Q2FzZXMiLCJtaW51dGVzQWdvIiwiZXhwZWN0ZWQiLCJ0ZXN0Q2FzZSIsIl9yZW5kZXJIb29rNSIsImhvdXJzQWdvIiwiX3JlbmRlckhvb2s2IiwiZGF5c0FnbyIsIl9yZW5kZXJIb29rNyIsIl9yZW5kZXJIb29rOCIsImFjdGl2aXR5RGF0YSIsInNjb3JlIiwiYWN0Iiwic2F2ZUFjdGl2aXR5IiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJfcmVuZGVySG9vazkiLCJldmVudEJ1cyIsIl9yZW5kZXJIb29rMCIsIl9yZW5kZXJIb29rMSIsIm5vdCIsImNsZWFyQWN0aXZpdHkiLCJfcmVuZGVySG9vazEwIiwiX3JlbmRlckhvb2sxMSIsInJlbG9hZCIsIl9yZW5kZXJIb29rMTIiLCJyZXJlbmRlciIsImluaXRpYWxTYXZlQWN0aXZpdHkiLCJpbml0aWFsQ2xlYXJBY3Rpdml0eSIsImluaXRpYWxSZWxvYWQiLCJfcmVuZGVySG9vazEzIiwiX3JlbmRlckhvb2sxNCIsInRvQmVEZWZpbmVkIl0sInNvdXJjZXMiOlsidXNlTGFzdEFjdGl2aXR5LnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gX190ZXN0c19fL2hvb2tzL3VzZUxhc3RBY3Rpdml0eS50ZXN0LmpzXG5pbXBvcnQgeyByZW5kZXJIb29rLCBhY3QgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgQXN5bmNTdG9yYWdlIGZyb20gJ0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS9hc3luYy1zdG9yYWdlJztcbmltcG9ydCB1c2VMYXN0QWN0aXZpdHkgZnJvbSAnLi4vLi4vc3JjL2hvb2tzL3VzZUxhc3RBY3Rpdml0eSc7XG5cbi8vIE1vY2sgQXN5bmNTdG9yYWdlXG5qZXN0Lm1vY2soJ0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS9hc3luYy1zdG9yYWdlJywgKCkgPT4gKHtcbiAgZ2V0SXRlbTogamVzdC5mbigpLFxuICBzZXRJdGVtOiBqZXN0LmZuKCksXG4gIHJlbW92ZUl0ZW06IGplc3QuZm4oKSxcbn0pKTtcblxuLy8gTW9jayBjb25zdGFudHNcbmplc3QubW9jaygnLi4vLi4vc3JjL3V0aWxzL2NvbnN0YW50cycsICgpID0+ICh7XG4gIFNUT1JBR0VfS0VZUzoge1xuICAgIExBU1RfQUNUSVZJVFk6ICdsYXN0X2FjdGl2aXR5J1xuICB9XG59KSk7XG5cbi8vIE1vY2sgZXZlbnRCdXNcbmplc3QubW9jaygnLi4vLi4vc3JjL3V0aWxzL2V2ZW50QnVzJywgKCkgPT4gKHtcbiAgZW1pdDogamVzdC5mbigpXG59KSk7XG5cbmRlc2NyaWJlKCd1c2VMYXN0QWN0aXZpdHknLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIGplc3Quc3B5T24oRGF0ZSwgJ25vdycpLm1vY2tSZXR1cm5WYWx1ZSgxNjQwOTk1MjAwMDAwKTsgLy8gMjAyMi0wMS0wMSAwMDowMDowMFxuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QucmVzdG9yZUFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDaGFyZ2VtZW50IGluaXRpYWwnLCAoKSA9PiB7XG4gICAgaXQoJ2RldnJhaXQgY2hhcmdlciBsYSBkZXJuacOocmUgYWN0aXZpdMOpIGRlcHVpcyBBc3luY1N0b3JhZ2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrQWN0aXZpdHkgPSB7XG4gICAgICAgIHR5cGU6ICd2b2NhYnVsYXJ5JyxcbiAgICAgICAgbGV2ZWw6ICcxJyxcbiAgICAgICAgY2F0ZWdvcnk6ICdBbmltYWxzJyxcbiAgICAgICAgdGltZXN0YW1wOiAxNjQwOTk1MjAwMDAwIC0gMzAwMDAwIC8vIElsIHkgYSA1IG1pbnV0ZXNcbiAgICAgIH07XG5cbiAgICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tSZXNvbHZlZFZhbHVlKEpTT04uc3RyaW5naWZ5KG1vY2tBY3Rpdml0eSkpO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCwgd2FpdEZvck5leHRVcGRhdGUgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGFzdEFjdGl2aXR5KCkpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yTmV4dFVwZGF0ZSgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubGFzdEFjdGl2aXR5KS50b0VxdWFsKHtcbiAgICAgICAgLi4ubW9ja0FjdGl2aXR5LFxuICAgICAgICB0aW1lRWxhcHNlZDogJ0lsIHkgYSA1IG1pbidcbiAgICAgIH0pO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzTG9hZGluZykudG9CZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGV2cmFpdCByZXRvdXJuZXIgbnVsbCBzaSBhdWN1bmUgYWN0aXZpdMOpIG5cXCdlc3Qgc3RvY2vDqWUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrUmVzb2x2ZWRWYWx1ZShudWxsKTtcblxuICAgICAgY29uc3QgeyByZXN1bHQsIHdhaXRGb3JOZXh0VXBkYXRlIH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUxhc3RBY3Rpdml0eSgpKTtcblxuICAgICAgYXdhaXQgd2FpdEZvck5leHRVcGRhdGUoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmxhc3RBY3Rpdml0eSkudG9CZU51bGwoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc0xvYWRpbmcpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RldnJhaXQgZ8OpcmVyIGxlcyBlcnJldXJzIGRlIGNoYXJnZW1lbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ1N0b3JhZ2UgZXJyb3InKSk7XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0LCB3YWl0Rm9yTmV4dFVwZGF0ZSB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMYXN0QWN0aXZpdHkoKSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3JOZXh0VXBkYXRlKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sYXN0QWN0aXZpdHkpLnRvQmVOdWxsKCk7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNMb2FkaW5nKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NhbGN1bCBkdSB0ZW1wcyDDqWNvdWzDqScsICgpID0+IHtcbiAgICBpdCgnZGV2cmFpdCBhZmZpY2hlciBcIsOAIGxcXCdpbnN0YW50XCIgcG91ciB1bmUgYWN0aXZpdMOpIHLDqWNlbnRlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0FjdGl2aXR5ID0ge1xuICAgICAgICB0eXBlOiAnZ3JhbW1hcicsXG4gICAgICAgIHRpbWVzdGFtcDogMTY0MDk5NTIwMDAwMCAvLyBNYWludGVuYW50XG4gICAgICB9O1xuXG4gICAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrUmVzb2x2ZWRWYWx1ZShKU09OLnN0cmluZ2lmeShtb2NrQWN0aXZpdHkpKTtcblxuICAgICAgY29uc3QgeyByZXN1bHQsIHdhaXRGb3JOZXh0VXBkYXRlIH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUxhc3RBY3Rpdml0eSgpKTtcblxuICAgICAgYXdhaXQgd2FpdEZvck5leHRVcGRhdGUoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmxhc3RBY3Rpdml0eS50aW1lRWxhcHNlZCkudG9CZSgnw4AgbFxcJ2luc3RhbnQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdkZXZyYWl0IGNhbGN1bGVyIGxlcyBtaW51dGVzIGNvcnJlY3RlbWVudCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3RDYXNlcyA9IFtcbiAgICAgICAgeyBtaW51dGVzQWdvOiAwLCBleHBlY3RlZDogJ8OAIGxcXCdpbnN0YW50JyB9LFxuICAgICAgICB7IG1pbnV0ZXNBZ286IDEsIGV4cGVjdGVkOiAnSWwgeSBhIDEgbWluJyB9LFxuICAgICAgICB7IG1pbnV0ZXNBZ286IDMwLCBleHBlY3RlZDogJ0lsIHkgYSAzMCBtaW4nIH0sXG4gICAgICAgIHsgbWludXRlc0FnbzogNTksIGV4cGVjdGVkOiAnSWwgeSBhIDU5IG1pbicgfVxuICAgICAgXTtcblxuICAgICAgZm9yIChjb25zdCB0ZXN0Q2FzZSBvZiB0ZXN0Q2FzZXMpIHtcbiAgICAgICAgY29uc3QgbW9ja0FjdGl2aXR5ID0ge1xuICAgICAgICAgIHR5cGU6ICd0ZXN0JyxcbiAgICAgICAgICB0aW1lc3RhbXA6IDE2NDA5OTUyMDAwMDAgLSAodGVzdENhc2UubWludXRlc0FnbyAqIDYwICogMTAwMClcbiAgICAgICAgfTtcblxuICAgICAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrUmVzb2x2ZWRWYWx1ZShKU09OLnN0cmluZ2lmeShtb2NrQWN0aXZpdHkpKTtcblxuICAgICAgICBjb25zdCB7IHJlc3VsdCwgd2FpdEZvck5leHRVcGRhdGUgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGFzdEFjdGl2aXR5KCkpO1xuICAgICAgICBhd2FpdCB3YWl0Rm9yTmV4dFVwZGF0ZSgpO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sYXN0QWN0aXZpdHkudGltZUVsYXBzZWQpLnRvQmUodGVzdENhc2UuZXhwZWN0ZWQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ2RldnJhaXQgY2FsY3VsZXIgbGVzIGhldXJlcyBjb3JyZWN0ZW1lbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB0ZXN0Q2FzZXMgPSBbXG4gICAgICAgIHsgaG91cnNBZ286IDEsIGV4cGVjdGVkOiAnSWwgeSBhIDFoJyB9LFxuICAgICAgICB7IGhvdXJzQWdvOiA1LCBleHBlY3RlZDogJ0lsIHkgYSA1aCcgfSxcbiAgICAgICAgeyBob3Vyc0FnbzogMjMsIGV4cGVjdGVkOiAnSWwgeSBhIDIzaCcgfVxuICAgICAgXTtcblxuICAgICAgZm9yIChjb25zdCB0ZXN0Q2FzZSBvZiB0ZXN0Q2FzZXMpIHtcbiAgICAgICAgY29uc3QgbW9ja0FjdGl2aXR5ID0ge1xuICAgICAgICAgIHR5cGU6ICd0ZXN0JyxcbiAgICAgICAgICB0aW1lc3RhbXA6IDE2NDA5OTUyMDAwMDAgLSAodGVzdENhc2UuaG91cnNBZ28gKiA2MCAqIDYwICogMTAwMClcbiAgICAgICAgfTtcblxuICAgICAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrUmVzb2x2ZWRWYWx1ZShKU09OLnN0cmluZ2lmeShtb2NrQWN0aXZpdHkpKTtcblxuICAgICAgICBjb25zdCB7IHJlc3VsdCwgd2FpdEZvck5leHRVcGRhdGUgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGFzdEFjdGl2aXR5KCkpO1xuICAgICAgICBhd2FpdCB3YWl0Rm9yTmV4dFVwZGF0ZSgpO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sYXN0QWN0aXZpdHkudGltZUVsYXBzZWQpLnRvQmUodGVzdENhc2UuZXhwZWN0ZWQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ2RldnJhaXQgY2FsY3VsZXIgbGVzIGpvdXJzIGNvcnJlY3RlbWVudCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3RDYXNlcyA9IFtcbiAgICAgICAgeyBkYXlzQWdvOiAxLCBleHBlY3RlZDogJ0lsIHkgYSAxaicgfSxcbiAgICAgICAgeyBkYXlzQWdvOiAzLCBleHBlY3RlZDogJ0lsIHkgYSAzaicgfSxcbiAgICAgICAgeyBkYXlzQWdvOiAzMCwgZXhwZWN0ZWQ6ICdJbCB5IGEgMzBqJyB9XG4gICAgICBdO1xuXG4gICAgICBmb3IgKGNvbnN0IHRlc3RDYXNlIG9mIHRlc3RDYXNlcykge1xuICAgICAgICBjb25zdCBtb2NrQWN0aXZpdHkgPSB7XG4gICAgICAgICAgdHlwZTogJ3Rlc3QnLFxuICAgICAgICAgIHRpbWVzdGFtcDogMTY0MDk5NTIwMDAwMCAtICh0ZXN0Q2FzZS5kYXlzQWdvICogMjQgKiA2MCAqIDYwICogMTAwMClcbiAgICAgICAgfTtcblxuICAgICAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrUmVzb2x2ZWRWYWx1ZShKU09OLnN0cmluZ2lmeShtb2NrQWN0aXZpdHkpKTtcblxuICAgICAgICBjb25zdCB7IHJlc3VsdCwgd2FpdEZvck5leHRVcGRhdGUgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGFzdEFjdGl2aXR5KCkpO1xuICAgICAgICBhd2FpdCB3YWl0Rm9yTmV4dFVwZGF0ZSgpO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sYXN0QWN0aXZpdHkudGltZUVsYXBzZWQpLnRvQmUodGVzdENhc2UuZXhwZWN0ZWQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU2F1dmVnYXJkZSBkXFwnYWN0aXZpdMOpJywgKCkgPT4ge1xuICAgIGl0KCdkZXZyYWl0IHNhdXZlZ2FyZGVyIHVuZSBub3V2ZWxsZSBhY3Rpdml0w6knLCBhc3luYyAoKSA9PiB7XG4gICAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrUmVzb2x2ZWRWYWx1ZShudWxsKTtcbiAgICAgIGNvbnN0IHsgcmVzdWx0LCB3YWl0Rm9yTmV4dFVwZGF0ZSB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMYXN0QWN0aXZpdHkoKSk7XG4gICAgICBhd2FpdCB3YWl0Rm9yTmV4dFVwZGF0ZSgpO1xuXG4gICAgICBjb25zdCBhY3Rpdml0eURhdGEgPSB7XG4gICAgICAgIHR5cGU6ICd2b2NhYnVsYXJ5JyxcbiAgICAgICAgbGV2ZWw6ICcyJyxcbiAgICAgICAgY2F0ZWdvcnk6ICdGb29kJyxcbiAgICAgICAgc2NvcmU6IDg1XG4gICAgICB9O1xuXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5zYXZlQWN0aXZpdHkoYWN0aXZpdHlEYXRhKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoQXN5bmNTdG9yYWdlLnNldEl0ZW0pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAnbGFzdF9hY3Rpdml0eScsXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAuLi5hY3Rpdml0eURhdGEsXG4gICAgICAgICAgdGltZXN0YW1wOiAxNjQwOTk1MjAwMDAwXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubGFzdEFjdGl2aXR5KS50b0VxdWFsKHtcbiAgICAgICAgLi4uYWN0aXZpdHlEYXRhLFxuICAgICAgICB0aW1lc3RhbXA6IDE2NDA5OTUyMDAwMDAsXG4gICAgICAgIHRpbWVFbGFwc2VkOiAnw4AgbFxcJ2luc3RhbnQnXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdkZXZyYWl0IMOpbWV0dHJlIHVuIMOpdsOpbmVtZW50IGRlIHByb2dyZXNzaW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1Jlc29sdmVkVmFsdWUobnVsbCk7XG4gICAgICBjb25zdCB7IHJlc3VsdCwgd2FpdEZvck5leHRVcGRhdGUgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGFzdEFjdGl2aXR5KCkpO1xuICAgICAgYXdhaXQgd2FpdEZvck5leHRVcGRhdGUoKTtcblxuICAgICAgY29uc3QgYWN0aXZpdHlEYXRhID0geyB0eXBlOiAndGVzdCcgfTtcblxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuc2F2ZUFjdGl2aXR5KGFjdGl2aXR5RGF0YSk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZXZlbnRCdXMgPSByZXF1aXJlKCcuLi8uLi9zcmMvdXRpbHMvZXZlbnRCdXMnKTtcbiAgICAgIGV4cGVjdChldmVudEJ1cy5lbWl0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgncHJvZ3Jlc3MtdXBkYXRlZCcsIHtcbiAgICAgICAgLi4uYWN0aXZpdHlEYXRhLFxuICAgICAgICB0aW1lc3RhbXA6IDE2NDA5OTUyMDAwMDBcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RldnJhaXQgZ8OpcmVyIGxlcyBlcnJldXJzIGRlIHNhdXZlZ2FyZGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrUmVzb2x2ZWRWYWx1ZShudWxsKTtcbiAgICAgIEFzeW5jU3RvcmFnZS5zZXRJdGVtLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignU2F2ZSBlcnJvcicpKTtcblxuICAgICAgY29uc3QgeyByZXN1bHQsIHdhaXRGb3JOZXh0VXBkYXRlIH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUxhc3RBY3Rpdml0eSgpKTtcbiAgICAgIGF3YWl0IHdhaXRGb3JOZXh0VXBkYXRlKCk7XG5cbiAgICAgIGNvbnN0IGFjdGl2aXR5RGF0YSA9IHsgdHlwZTogJ3Rlc3QnIH07XG5cbiAgICAgIC8vIE5lIGRldnJhaXQgcGFzIHBsYW50ZXJcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LnNhdmVBY3Rpdml0eShhY3Rpdml0eURhdGEpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sYXN0QWN0aXZpdHkpLnRvQmVOdWxsKCk7IC8vIMOJdGF0IG5vbiBtaXMgw6Agam91ciBlbiBjYXMgZCdlcnJldXJcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1N1cHByZXNzaW9uIGRcXCdhY3Rpdml0w6knLCAoKSA9PiB7XG4gICAgaXQoJ2RldnJhaXQgc3VwcHJpbWVyIGxcXCdhY3Rpdml0w6kgc3RvY2vDqWUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrQWN0aXZpdHkgPSB7IHR5cGU6ICd0ZXN0JywgdGltZXN0YW1wOiAxNjQwOTk1MjAwMDAwIH07XG4gICAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrUmVzb2x2ZWRWYWx1ZShKU09OLnN0cmluZ2lmeShtb2NrQWN0aXZpdHkpKTtcblxuICAgICAgY29uc3QgeyByZXN1bHQsIHdhaXRGb3JOZXh0VXBkYXRlIH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUxhc3RBY3Rpdml0eSgpKTtcbiAgICAgIGF3YWl0IHdhaXRGb3JOZXh0VXBkYXRlKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sYXN0QWN0aXZpdHkpLm5vdC50b0JlTnVsbCgpO1xuXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5jbGVhckFjdGl2aXR5KCk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KEFzeW5jU3RvcmFnZS5yZW1vdmVJdGVtKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnbGFzdF9hY3Rpdml0eScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmxhc3RBY3Rpdml0eSkudG9CZU51bGwoKTtcbiAgICB9KTtcblxuICAgIGl0KCdkZXZyYWl0IGfDqXJlciBsZXMgZXJyZXVycyBkZSBzdXBwcmVzc2lvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tSZXNvbHZlZFZhbHVlKG51bGwpO1xuICAgICAgQXN5bmNTdG9yYWdlLnJlbW92ZUl0ZW0ubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdSZW1vdmUgZXJyb3InKSk7XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0LCB3YWl0Rm9yTmV4dFVwZGF0ZSB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMYXN0QWN0aXZpdHkoKSk7XG4gICAgICBhd2FpdCB3YWl0Rm9yTmV4dFVwZGF0ZSgpO1xuXG4gICAgICAvLyBOZSBkZXZyYWl0IHBhcyBwbGFudGVyXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5jbGVhckFjdGl2aXR5KCk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmxhc3RBY3Rpdml0eSkudG9CZU51bGwoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1JlY2hhcmdlbWVudCcsICgpID0+IHtcbiAgICBpdCgnZGV2cmFpdCBwZXJtZXR0cmUgZGUgcmVjaGFyZ2VyIGxlcyBkb25uw6llcycsIGFzeW5jICgpID0+IHtcbiAgICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tSZXNvbHZlZFZhbHVlKG51bGwpO1xuICAgICAgY29uc3QgeyByZXN1bHQsIHdhaXRGb3JOZXh0VXBkYXRlIH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUxhc3RBY3Rpdml0eSgpKTtcbiAgICAgIGF3YWl0IHdhaXRGb3JOZXh0VXBkYXRlKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sYXN0QWN0aXZpdHkpLnRvQmVOdWxsKCk7XG5cbiAgICAgIC8vIENoYW5nZXIgbGVzIGRvbm7DqWVzIG1vY2vDqWVzXG4gICAgICBjb25zdCBtb2NrQWN0aXZpdHkgPSB7IHR5cGU6ICduZXcnLCB0aW1lc3RhbXA6IDE2NDA5OTUyMDAwMDAgfTtcbiAgICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tSZXNvbHZlZFZhbHVlKEpTT04uc3RyaW5naWZ5KG1vY2tBY3Rpdml0eSkpO1xuXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5yZWxvYWQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubGFzdEFjdGl2aXR5KS50b0VxdWFsKHtcbiAgICAgICAgLi4ubW9ja0FjdGl2aXR5LFxuICAgICAgICB0aW1lRWxhcHNlZDogJ8OAIGxcXCdpbnN0YW50J1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTdGFiaWxpdMOpIGRlcyBmb25jdGlvbnMnLCAoKSA9PiB7XG4gICAgaXQoJ2RldnJhaXQgbWFpbnRlbmlyIGxhIHN0YWJpbGl0w6kgZGVzIGZvbmN0aW9ucyBlbnRyZSBsZXMgcmVuZGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tSZXNvbHZlZFZhbHVlKG51bGwpO1xuICAgICAgY29uc3QgeyByZXN1bHQsIHdhaXRGb3JOZXh0VXBkYXRlLCByZXJlbmRlciB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMYXN0QWN0aXZpdHkoKSk7XG4gICAgICBhd2FpdCB3YWl0Rm9yTmV4dFVwZGF0ZSgpO1xuXG4gICAgICBjb25zdCBpbml0aWFsU2F2ZUFjdGl2aXR5ID0gcmVzdWx0LmN1cnJlbnQuc2F2ZUFjdGl2aXR5O1xuICAgICAgY29uc3QgaW5pdGlhbENsZWFyQWN0aXZpdHkgPSByZXN1bHQuY3VycmVudC5jbGVhckFjdGl2aXR5O1xuICAgICAgY29uc3QgaW5pdGlhbFJlbG9hZCA9IHJlc3VsdC5jdXJyZW50LnJlbG9hZDtcblxuICAgICAgcmVyZW5kZXIoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnNhdmVBY3Rpdml0eSkudG9CZShpbml0aWFsU2F2ZUFjdGl2aXR5KTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jbGVhckFjdGl2aXR5KS50b0JlKGluaXRpYWxDbGVhckFjdGl2aXR5KTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5yZWxvYWQpLnRvQmUoaW5pdGlhbFJlbG9hZCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdHZXN0aW9uIGRlcyBkb25uw6llcyBjb3Jyb21wdWVzJywgKCkgPT4ge1xuICAgIGl0KCdkZXZyYWl0IGfDqXJlciBsZXMgZG9ubsOpZXMgSlNPTiBpbnZhbGlkZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrUmVzb2x2ZWRWYWx1ZSgnaW52YWxpZCBqc29uJyk7XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0LCB3YWl0Rm9yTmV4dFVwZGF0ZSB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMYXN0QWN0aXZpdHkoKSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3JOZXh0VXBkYXRlKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sYXN0QWN0aXZpdHkpLnRvQmVOdWxsKCk7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNMb2FkaW5nKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGl0KCdkZXZyYWl0IGfDqXJlciBsZXMgYWN0aXZpdMOpcyBzYW5zIHRpbWVzdGFtcCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tBY3Rpdml0eSA9IHsgdHlwZTogJ3Rlc3QnIH07IC8vIFBhcyBkZSB0aW1lc3RhbXBcbiAgICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tSZXNvbHZlZFZhbHVlKEpTT04uc3RyaW5naWZ5KG1vY2tBY3Rpdml0eSkpO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCwgd2FpdEZvck5leHRVcGRhdGUgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGFzdEFjdGl2aXR5KCkpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yTmV4dFVwZGF0ZSgpO1xuXG4gICAgICAvLyBEZXZyYWl0IGNhbGN1bGVyIGxlIHRlbXBzIMOpY291bMOpIG3Dqm1lIHNhbnMgdGltZXN0YW1wXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubGFzdEFjdGl2aXR5KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmxhc3RBY3Rpdml0eS50aW1lRWxhcHNlZCkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXSwibWFwcGluZ3MiOiJBQU1BQSxXQUFBLEdBQUtDLElBQUksQ0FBQywyQ0FBMkMsRUFBRTtFQUFBLE9BQU87SUFDNURDLE9BQU8sRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztJQUNsQkMsT0FBTyxFQUFFRixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0lBQ2xCRSxVQUFVLEVBQUVILElBQUksQ0FBQ0MsRUFBRSxDQUFDO0VBQ3RCLENBQUM7QUFBQSxDQUFDLENBQUM7QUFHSEosV0FBQSxHQUFLQyxJQUFJLENBQUMsMkJBQTJCLEVBQUU7RUFBQSxPQUFPO0lBQzVDTSxZQUFZLEVBQUU7TUFDWkMsYUFBYSxFQUFFO0lBQ2pCO0VBQ0YsQ0FBQztBQUFBLENBQUMsQ0FBQztBQUdIUixXQUFBLEdBQUtDLElBQUksQ0FBQywwQkFBMEIsRUFBRTtFQUFBLE9BQU87SUFD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