272837d16af383865ca93064c78b647a
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _propTypes = _interopRequireDefault(require("prop-types"));
var _ProgressCard = _interopRequireDefault(require("../../../../components/ui/ProgressCard"));
var _phrasesStats = require("../../../../utils/phrases/phrasesStats");
var _jsxRuntime = require("react/jsx-runtime");
var PhrasesProgress = function PhrasesProgress(_ref) {
  var levelColor = _ref.levelColor,
    phrasesData = _ref.phrasesData,
    completedPhrases = _ref.completedPhrases,
    expanded = _ref.expanded,
    onToggleExpand = _ref.onToggleExpand,
    onCategoryPress = _ref.onCategoryPress;
  var categories = (phrasesData == null ? void 0 : phrasesData.categories) || [];
  var phrases = (phrasesData == null ? void 0 : phrasesData.phrases) || [];
  var totalPhrasesCount = (0, _phrasesStats.calculateTotalPhrases)(categories, phrases);
  var completedPhrasesCount = (0, _phrasesStats.calculateCompletedPhrasesCount)(completedPhrases);
  var totalProgress = (0, _phrasesStats.calculateTotalPhrasesProgress)(categories, phrases, completedPhrases);
  var categoryProgressData = (0, _phrasesStats.calculateCategoryPhrasesProgress)(categories, phrases, completedPhrases);
  var formattedCategoryData = categoryProgressData.map(function (category) {
    return {
      title: category.title,
      completed: category.completedPhrases,
      total: category.totalPhrases,
      progress: category.progress
    };
  });
  return (0, _jsxRuntime.jsx)(_ProgressCard.default, {
    title: "Progression",
    progress: totalProgress,
    completed: completedPhrasesCount,
    total: totalPhrasesCount,
    unit: "phrases",
    levelColor: levelColor,
    expandable: categoryProgressData.length > 0,
    expanded: expanded,
    onToggleExpand: onToggleExpand,
    categoryData: formattedCategoryData,
    onCategoryPress: onCategoryPress
  });
};
PhrasesProgress.propTypes = {
  levelColor: _propTypes.default.string,
  phrasesData: _propTypes.default.shape({
    categories: _propTypes.default.array,
    phrases: _propTypes.default.array
  }),
  completedPhrases: _propTypes.default.object,
  expanded: _propTypes.default.bool,
  onToggleExpand: _propTypes.default.func,
  onCategoryPress: _propTypes.default.func
};
PhrasesProgress.defaultProps = {
  levelColor: '#5E60CE',
  phrasesData: {
    categories: [],
    phrases: []
  },
  completedPhrases: {},
  expanded: false,
  onToggleExpand: function onToggleExpand() {},
  onCategoryPress: function onCategoryPress() {}
};
var _default = exports.default = PhrasesProgress;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvcFR5cGVzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfUHJvZ3Jlc3NDYXJkIiwiX3BocmFzZXNTdGF0cyIsIl9qc3hSdW50aW1lIiwiUGhyYXNlc1Byb2dyZXNzIiwiX3JlZiIsImxldmVsQ29sb3IiLCJwaHJhc2VzRGF0YSIsImNvbXBsZXRlZFBocmFzZXMiLCJleHBhbmRlZCIsIm9uVG9nZ2xlRXhwYW5kIiwib25DYXRlZ29yeVByZXNzIiwiY2F0ZWdvcmllcyIsInBocmFzZXMiLCJ0b3RhbFBocmFzZXNDb3VudCIsImNhbGN1bGF0ZVRvdGFsUGhyYXNlcyIsImNvbXBsZXRlZFBocmFzZXNDb3VudCIsImNhbGN1bGF0ZUNvbXBsZXRlZFBocmFzZXNDb3VudCIsInRvdGFsUHJvZ3Jlc3MiLCJjYWxjdWxhdGVUb3RhbFBocmFzZXNQcm9ncmVzcyIsImNhdGVnb3J5UHJvZ3Jlc3NEYXRhIiwiY2FsY3VsYXRlQ2F0ZWdvcnlQaHJhc2VzUHJvZ3Jlc3MiLCJmb3JtYXR0ZWRDYXRlZ29yeURhdGEiLCJtYXAiLCJjYXRlZ29yeSIsInRpdGxlIiwiY29tcGxldGVkIiwidG90YWwiLCJ0b3RhbFBocmFzZXMiLCJwcm9ncmVzcyIsImpzeCIsImRlZmF1bHQiLCJ1bml0IiwiZXhwYW5kYWJsZSIsImxlbmd0aCIsImNhdGVnb3J5RGF0YSIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsInN0cmluZyIsInNoYXBlIiwiYXJyYXkiLCJvYmplY3QiLCJib29sIiwiZnVuYyIsImRlZmF1bHRQcm9wcyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFBocmFzZXNQcm9ncmVzcy9pbmRleC5qcyAtIFZFUlNJT04gQ09SUklHw4lFIEFWRUMgUEhSQVNFU1RBVFNcblxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBQcm9ncmVzc0NhcmQgZnJvbSBcIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMvdWkvUHJvZ3Jlc3NDYXJkXCI7XG5pbXBvcnQge1xuICBjYWxjdWxhdGVUb3RhbFBocmFzZXMsXG4gIGNhbGN1bGF0ZUNvbXBsZXRlZFBocmFzZXNDb3VudCxcbiAgY2FsY3VsYXRlVG90YWxQaHJhc2VzUHJvZ3Jlc3MsXG4gIGNhbGN1bGF0ZUNhdGVnb3J5UGhyYXNlc1Byb2dyZXNzLFxufSBmcm9tIFwiLi4vLi4vLi4vLi4vdXRpbHMvcGhyYXNlcy9waHJhc2VzU3RhdHNcIjtcblxuLyoqXG4gKiDwn5OKIFBocmFzZXNQcm9ncmVzcyAtIFZlcnNpb24gQ29ycmlnw6llIGF2ZWMgcGhyYXNlc1N0YXRzXG4gKiDinIUgVXRpbGlzZSBsZXMgdnJhaWVzIGZvbmN0aW9ucyBkZSBjYWxjdWxcbiAqIOKchSBHw6hyZSBjb3JyZWN0ZW1lbnQgbGEgc3RydWN0dXJlIGRlcyBkb25uw6llcyBwaHJhc2VzXG4gKiBcbiAqIEBwYXJhbSB7bnVtYmVyfSBwcm9ncmVzcyAtIFBvdXJjZW50YWdlIGRlIHByb2dyZXNzaW9uICgwLTEwMCkgW0lHTk9Sw4kgLSByZWNhbGN1bMOpXVxuICogQHBhcmFtIHtudW1iZXJ9IGN1cnJlbnRQaHJhc2UgLSBQaHJhc2UgYWN0dWVsbGUgKDEtYmFzZWQpIFtJR05PUsOJIC0gcmVjYWxjdWzDqV1cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3RhbFBocmFzZXMgLSBOb21icmUgdG90YWwgZGUgcGhyYXNlcyBbSUdOT1LDiSAtIHJlY2FsY3Vsw6ldXG4gKiBAcGFyYW0ge251bWJlcn0gY29tcGxldGVkQ291bnQgLSBOb21icmUgZGUgcGhyYXNlcyBjb21wbMOpdMOpZXMgW0lHTk9Sw4kgLSByZWNhbGN1bMOpXVxuICogQHBhcmFtIHtzdHJpbmd9IGxldmVsQ29sb3IgLSBDb3VsZXVyIGR1IG5pdmVhdVxuICogQHBhcmFtIHtvYmplY3R9IHBocmFzZXNEYXRhIC0gRG9ubsOpZXMgZGVzIHBocmFzZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb21wbGV0ZWRQaHJhc2VzIC0gUGhyYXNlcyBjb21wbMOpdMOpZXMgcGFyIGNhdMOpZ29yaWVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZXhwYW5kZWQgLSDDiXRhdCBkJ2V4cGFuc2lvblxuICogQHBhcmFtIHtmdW5jdGlvbn0gb25Ub2dnbGVFeHBhbmQgLSBGb25jdGlvbiBwb3VyIHRvZ2dsZSBleHBhbnNpb25cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uQ2F0ZWdvcnlQcmVzcyAtIEZvbmN0aW9uIGFwcGVsw6llIGxvcnMgZHUgY2xpYyBzdXIgY2F0w6lnb3JpZVxuICovXG5jb25zdCBQaHJhc2VzUHJvZ3Jlc3MgPSAoe1xuICBsZXZlbENvbG9yLFxuICBwaHJhc2VzRGF0YSxcbiAgY29tcGxldGVkUGhyYXNlcyxcbiAgZXhwYW5kZWQsXG4gIG9uVG9nZ2xlRXhwYW5kLFxuICBvbkNhdGVnb3J5UHJlc3MsXG59KSA9PiB7XG4gIFxuICAvLyDinIUgQ09SUkVDVElPTiA6IFV0aWxpc2UgbGVzIHZyYWllcyBmb25jdGlvbnMgZGUgY2FsY3VsXG4gIGNvbnN0IGNhdGVnb3JpZXMgPSBwaHJhc2VzRGF0YT8uY2F0ZWdvcmllcyB8fCBbXTtcbiAgY29uc3QgcGhyYXNlcyA9IHBocmFzZXNEYXRhPy5waHJhc2VzIHx8IFtdO1xuICBcbiAgY29uc3QgdG90YWxQaHJhc2VzQ291bnQgPSBjYWxjdWxhdGVUb3RhbFBocmFzZXMoY2F0ZWdvcmllcywgcGhyYXNlcyk7XG4gIGNvbnN0IGNvbXBsZXRlZFBocmFzZXNDb3VudCA9IGNhbGN1bGF0ZUNvbXBsZXRlZFBocmFzZXNDb3VudChjb21wbGV0ZWRQaHJhc2VzKTtcbiAgY29uc3QgdG90YWxQcm9ncmVzcyA9IGNhbGN1bGF0ZVRvdGFsUGhyYXNlc1Byb2dyZXNzKGNhdGVnb3JpZXMsIHBocmFzZXMsIGNvbXBsZXRlZFBocmFzZXMpO1xuICBjb25zdCBjYXRlZ29yeVByb2dyZXNzRGF0YSA9IGNhbGN1bGF0ZUNhdGVnb3J5UGhyYXNlc1Byb2dyZXNzKGNhdGVnb3JpZXMsIHBocmFzZXMsIGNvbXBsZXRlZFBocmFzZXMpO1xuXG4gIC8vIFRyYW5zZm9ybWF0aW9uIHBvdXIgbGUgZm9ybWF0IFByb2dyZXNzQ2FyZFxuICBjb25zdCBmb3JtYXR0ZWRDYXRlZ29yeURhdGEgPSBjYXRlZ29yeVByb2dyZXNzRGF0YS5tYXAoKGNhdGVnb3J5KSA9PiAoe1xuICAgIHRpdGxlOiBjYXRlZ29yeS50aXRsZSxcbiAgICBjb21wbGV0ZWQ6IGNhdGVnb3J5LmNvbXBsZXRlZFBocmFzZXMsXG4gICAgdG90YWw6IGNhdGVnb3J5LnRvdGFsUGhyYXNlcyxcbiAgICBwcm9ncmVzczogY2F0ZWdvcnkucHJvZ3Jlc3MsXG4gIH0pKTtcblxuICByZXR1cm4gKFxuICAgIDxQcm9ncmVzc0NhcmRcbiAgICAgIHRpdGxlPVwiUHJvZ3Jlc3Npb25cIlxuICAgICAgcHJvZ3Jlc3M9e3RvdGFsUHJvZ3Jlc3N9IC8vIOKchSBVdGlsaXNlIGxlIGNhbGN1bCBjb3JyZWN0XG4gICAgICBjb21wbGV0ZWQ9e2NvbXBsZXRlZFBocmFzZXNDb3VudH0gLy8g4pyFIFV0aWxpc2UgbGUgY2FsY3VsIGNvcnJlY3RcbiAgICAgIHRvdGFsPXt0b3RhbFBocmFzZXNDb3VudH0gLy8g4pyFIFV0aWxpc2UgbGUgY2FsY3VsIGNvcnJlY3RcbiAgICAgIHVuaXQ9XCJwaHJhc2VzXCJcbiAgICAgIGxldmVsQ29sb3I9e2xldmVsQ29sb3J9XG4gICAgICBleHBhbmRhYmxlPXtjYXRlZ29yeVByb2dyZXNzRGF0YS5sZW5ndGggPiAwfVxuICAgICAgZXhwYW5kZWQ9e2V4cGFuZGVkfVxuICAgICAgb25Ub2dnbGVFeHBhbmQ9e29uVG9nZ2xlRXhwYW5kfVxuICAgICAgY2F0ZWdvcnlEYXRhPXtmb3JtYXR0ZWRDYXRlZ29yeURhdGF9XG4gICAgICBvbkNhdGVnb3J5UHJlc3M9e29uQ2F0ZWdvcnlQcmVzc31cbiAgICAvPlxuICApO1xufTtcblxuLy8g4pyFIEFqb3V0IGRlcyB2YWxpZGF0aW9ucyBQcm9wVHlwZXNcblBocmFzZXNQcm9ncmVzcy5wcm9wVHlwZXMgPSB7XG4gIGxldmVsQ29sb3I6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHBocmFzZXNEYXRhOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGNhdGVnb3JpZXM6IFByb3BUeXBlcy5hcnJheSxcbiAgICBwaHJhc2VzOiBQcm9wVHlwZXMuYXJyYXksXG4gIH0pLFxuICBjb21wbGV0ZWRQaHJhc2VzOiBQcm9wVHlwZXMub2JqZWN0LFxuICBleHBhbmRlZDogUHJvcFR5cGVzLmJvb2wsXG4gIG9uVG9nZ2xlRXhwYW5kOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25DYXRlZ29yeVByZXNzOiBQcm9wVHlwZXMuZnVuYyxcbn07XG5cbi8vIOKchSBBam91dCBkZXMgdmFsZXVycyBwYXIgZMOpZmF1dCBwb3VyIGxhIHJvYnVzdGVzc2VcblBocmFzZXNQcm9ncmVzcy5kZWZhdWx0UHJvcHMgPSB7XG4gIGxldmVsQ29sb3I6ICcjNUU2MENFJyxcbiAgcGhyYXNlc0RhdGE6IHsgY2F0ZWdvcmllczogW10sIHBocmFzZXM6IFtdIH0sXG4gIGNvbXBsZXRlZFBocmFzZXM6IHt9LFxuICBleHBhbmRlZDogZmFsc2UsXG4gIG9uVG9nZ2xlRXhwYW5kOiAoKSA9PiB7fSxcbiAgb25DYXRlZ29yeVByZXNzOiAoKSA9PiB7fSxcbn07XG5cblxuZXhwb3J0IGRlZmF1bHQgUGhyYXNlc1Byb2dyZXNzOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFQSxJQUFBQSxVQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxhQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxhQUFBLEdBQUFGLE9BQUE7QUFLZ0QsSUFBQUcsV0FBQSxHQUFBSCxPQUFBO0FBa0JoRCxJQUFNSSxlQUFlLEdBQUcsU0FBbEJBLGVBQWVBLENBQUFDLElBQUEsRUFPZjtFQUFBLElBTkpDLFVBQVUsR0FBQUQsSUFBQSxDQUFWQyxVQUFVO0lBQ1ZDLFdBQVcsR0FBQUYsSUFBQSxDQUFYRSxXQUFXO0lBQ1hDLGdCQUFnQixH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