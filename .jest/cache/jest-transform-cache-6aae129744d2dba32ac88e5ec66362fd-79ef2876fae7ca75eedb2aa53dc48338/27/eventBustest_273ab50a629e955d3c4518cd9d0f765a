52e54f94da89acb4508302e38df71a8b
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _eventBus = require("../../src/utils/eventBus");
describe('eventBus', function () {
  beforeEach(function () {
    var eventBus = require('../../src/utils/eventBus');
    var listeners = eventBus.listeners || {};
    Object.keys(listeners).forEach(function (key) {
      return delete listeners[key];
    });
  });
  describe('subscribe', function () {
    it('devrait permettre de s\'abonner à un événement', function () {
      var callback = jest.fn();
      var unsubscribe = (0, _eventBus.subscribe)('test-event', callback);
      expect(typeof unsubscribe).toBe('function');
    });
    it('devrait permettre plusieurs abonnements au même événement', function () {
      var callback1 = jest.fn();
      var callback2 = jest.fn();
      (0, _eventBus.subscribe)('test-event', callback1);
      (0, _eventBus.subscribe)('test-event', callback2);
      (0, _eventBus.emit)('test-event', 'test-data');
      expect(callback1).toHaveBeenCalledWith('test-data');
      expect(callback2).toHaveBeenCalledWith('test-data');
    });
    it('devrait retourner une fonction de désabonnement', function () {
      var callback = jest.fn();
      var unsubscribe = (0, _eventBus.subscribe)('test-event', callback);
      (0, _eventBus.emit)('test-event', 'test-data');
      expect(callback).toHaveBeenCalledTimes(1);
      unsubscribe();
      (0, _eventBus.emit)('test-event', 'test-data-2');
      expect(callback).toHaveBeenCalledTimes(1);
    });
    it('devrait gérer les désabonnements multiples sans erreur', function () {
      var callback = jest.fn();
      var unsubscribe = (0, _eventBus.subscribe)('test-event', callback);
      unsubscribe();
      expect(function () {
        return unsubscribe();
      }).not.toThrow();
    });
  });
  describe('emit', function () {
    it('devrait émettre un événement vers les abonnés', function () {
      var callback = jest.fn();
      (0, _eventBus.subscribe)('test-event', callback);
      (0, _eventBus.emit)('test-event', 'test-data');
      expect(callback).toHaveBeenCalledWith('test-data');
      expect(callback).toHaveBeenCalledTimes(1);
    });
    it('devrait émettre vers tous les abonnés', function () {
      var callback1 = jest.fn();
      var callback2 = jest.fn();
      var callback3 = jest.fn();
      (0, _eventBus.subscribe)('test-event', callback1);
      (0, _eventBus.subscribe)('test-event', callback2);
      (0, _eventBus.subscribe)('other-event', callback3);
      (0, _eventBus.emit)('test-event', 'test-data');
      expect(callback1).toHaveBeenCalledWith('test-data');
      expect(callback2).toHaveBeenCalledWith('test-data');
      expect(callback3).not.toHaveBeenCalled();
    });
    it('devrait gérer l\'émission d\'événements sans abonnés', function () {
      expect(function () {
        (0, _eventBus.emit)('non-existent-event', 'data');
      }).not.toThrow();
    });
    it('devrait passer les données correctement', function () {
      var callback = jest.fn();
      (0, _eventBus.subscribe)('test-event', callback);
      var testData = {
        id: 1,
        message: 'hello',
        array: [1, 2, 3]
      };
      (0, _eventBus.emit)('test-event', testData);
      expect(callback).toHaveBeenCalledWith(testData);
    });
    it('devrait gérer les données undefined et null', function () {
      var callback = jest.fn();
      (0, _eventBus.subscribe)('test-event', callback);
      (0, _eventBus.emit)('test-event', undefined);
      expect(callback).toHaveBeenCalledWith(undefined);
      (0, _eventBus.emit)('test-event', null);
      expect(callback).toHaveBeenCalledWith(null);
    });
  });
  describe('Gestion mémoire', function () {
    it('devrait nettoyer correctement les listeners', function () {
      var callback1 = jest.fn();
      var callback2 = jest.fn();
      var callback3 = jest.fn();
      var unsubscribe1 = (0, _eventBus.subscribe)('event1', callback1);
      var unsubscribe2 = (0, _eventBus.subscribe)('event1', callback2);
      (0, _eventBus.subscribe)('event2', callback3);
      unsubscribe1();
      (0, _eventBus.emit)('event1', 'data');
      expect(callback1).not.toHaveBeenCalled();
      expect(callback2).toHaveBeenCalled();
      unsubscribe2();
      (0, _eventBus.emit)('event1', 'data2');
      expect(callback2).toHaveBeenCalledTimes(1);
    });
    it('devrait gérer les événements avec des noms similaires', function () {
      var callback1 = jest.fn();
      var callback2 = jest.fn();
      (0, _eventBus.subscribe)('user-login', callback1);
      (0, _eventBus.subscribe)('user-logout', callback2);
      (0, _eventBus.emit)('user-login', 'login-data');
      expect(callback1).toHaveBeenCalledWith('login-data');
      expect(callback2).not.toHaveBeenCalled();
      (0, _eventBus.emit)('user-logout', 'logout-data');
      expect(callback2).toHaveBeenCalledWith('logout-data');
      expect(callback1).toHaveBeenCalledTimes(1);
    });
  });
  describe('Cas d\'usage réels', function () {
    it('devrait gérer un scénario de progression utilisateur', function () {
      var progressCallback = jest.fn();
      var achievementCallback = jest.fn();
      (0, _eventBus.subscribe)('progress-updated', progressCallback);
      (0, _eventBus.subscribe)('achievement-unlocked', achievementCallback);
      (0, _eventBus.emit)('progress-updated', {
        level: 1,
        score: 85
      });
      expect(progressCallback).toHaveBeenCalledWith({
        level: 1,
        score: 85
      });
      (0, _eventBus.emit)('achievement-unlocked', {
        type: 'streak',
        value: 7
      });
      expect(achievementCallback).toHaveBeenCalledWith({
        type: 'streak',
        value: 7
      });
    });
    it('devrait gérer un scénario de settings mis à jour', function () {
      var settingsCallback = jest.fn();
      var themeCallback = jest.fn();
      (0, _eventBus.subscribe)('settings-updated', settingsCallback);
      (0, _eventBus.subscribe)('theme-changed', themeCallback);
      (0, _eventBus.emit)('settings-updated', {
        theme: 'dark',
        language: 'fr'
      });
      (0, _eventBus.emit)('theme-changed', 'dark');
      expect(settingsCallback).toHaveBeenCalledWith({
        theme: 'dark',
        language: 'fr'
      });
      expect(themeCallback).toHaveBeenCalledWith('dark');
    });
  });
  describe('Fonctionnalités de base', function () {
    it('devrait avoir les fonctions principales', function () {
      expect(typeof _eventBus.subscribe).toBe('function');
      expect(typeof _eventBus.emit).toBe('function');
    });
    it('devrait gérer les callbacks qui ne font rien', function () {
      var emptyCallback = jest.fn();
      (0, _eventBus.subscribe)('test-event', emptyCallback);
      expect(function () {
        (0, _eventBus.emit)('test-event', 'data');
      }).not.toThrow();
      expect(emptyCallback).toHaveBeenCalledWith('data');
    });
    it('devrait gérer les événements avec des noms vides', function () {
      var callback = jest.fn();
      (0, _eventBus.subscribe)('', callback);
      expect(function () {
        (0, _eventBus.emit)('', 'data');
      }).not.toThrow();
      expect(callback).toHaveBeenCalledWith('data');
    });
  });
  describe('Robustesse', function () {
    it('devrait gérer de nombreux abonnés', function () {
      var callbacks = [];
      for (var i = 0; i < 100; i++) {
        var callback = jest.fn();
        callbacks.push(callback);
        (0, _eventBus.subscribe)('mass-event', callback);
      }
      (0, _eventBus.emit)('mass-event', 'mass-data');
      callbacks.forEach(function (callback) {
        expect(callback).toHaveBeenCalledWith('mass-data');
      });
    });
    it('devrait gérer de nombreux événements différents', function () {
      var callbacks = {};
      for (var i = 0; i < 50; i++) {
        var eventName = `event-${i}`;
        var callback = jest.fn();
        callbacks[eventName] = callback;
        (0, _eventBus.subscribe)(eventName, callback);
      }
      Object.keys(callbacks).forEach(function (eventName) {
        (0, _eventBus.emit)(eventName, `data-${eventName}`);
      });
      Object.entries(callbacks).forEach(function (_ref) {
        var _ref2 = (0, _slicedToArray2.default)(_ref, 2),
          eventName = _ref2[0],
          callback = _ref2[1];
        expect(callback).toHaveBeenCalledWith(`data-${eventName}`);
      });
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXZlbnRCdXMiLCJyZXF1aXJlIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiZXZlbnRCdXMiLCJsaXN0ZW5lcnMiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsIml0IiwiY2FsbGJhY2siLCJqZXN0IiwiZm4iLCJ1bnN1YnNjcmliZSIsInN1YnNjcmliZSIsImV4cGVjdCIsInRvQmUiLCJjYWxsYmFjazEiLCJjYWxsYmFjazIiLCJlbWl0IiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJ0b0hhdmVCZWVuQ2FsbGVkVGltZXMiLCJub3QiLCJ0b1Rocm93IiwiY2FsbGJhY2szIiwidG9IYXZlQmVlbkNhbGxlZCIsInRlc3REYXRhIiwiaWQiLCJtZXNzYWdlIiwiYXJyYXkiLCJ1bmRlZmluZWQiLCJ1bnN1YnNjcmliZTEiLCJ1bnN1YnNjcmliZTIiLCJwcm9ncmVzc0NhbGxiYWNrIiwiYWNoaWV2ZW1lbnRDYWxsYmFjayIsImxldmVsIiwic2NvcmUiLCJ0eXBlIiwidmFsdWUiLCJzZXR0aW5nc0NhbGxiYWNrIiwidGhlbWVDYWxsYmFjayIsInRoZW1lIiwibGFuZ3VhZ2UiLCJlbXB0eUNhbGxiYWNrIiwiY2FsbGJhY2tzIiwiaSIsInB1c2giLCJldmVudE5hbWUiLCJlbnRyaWVzIiwiX3JlZiIsIl9yZWYyIiwiX3NsaWNlZFRvQXJyYXkyIiwiZGVmYXVsdCJdLCJzb3VyY2VzIjpbImV2ZW50QnVzLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gX190ZXN0c19fL3V0aWxzL2V2ZW50QnVzLnRlc3QuanNcbmltcG9ydCB7IHN1YnNjcmliZSwgZW1pdCB9IGZyb20gJy4uLy4uL3NyYy91dGlscy9ldmVudEJ1cyc7XG5cbmRlc2NyaWJlKCdldmVudEJ1cycsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgLy8gUmVzZXQgbGlzdGVuZXJzIGF2YW50IGNoYXF1ZSB0ZXN0XG4gICAgY29uc3QgZXZlbnRCdXMgPSByZXF1aXJlKCcuLi8uLi9zcmMvdXRpbHMvZXZlbnRCdXMnKTtcbiAgICAvLyBBY2PDqWRlciBhdXggbGlzdGVuZXJzIGludGVybmVzIHBvdXIgbGVzIG5ldHRveWVyXG4gICAgY29uc3QgbGlzdGVuZXJzID0gZXZlbnRCdXMubGlzdGVuZXJzIHx8IHt9O1xuICAgIE9iamVjdC5rZXlzKGxpc3RlbmVycykuZm9yRWFjaChrZXkgPT4gZGVsZXRlIGxpc3RlbmVyc1trZXldKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3N1YnNjcmliZScsICgpID0+IHtcbiAgICBpdCgnZGV2cmFpdCBwZXJtZXR0cmUgZGUgc1xcJ2Fib25uZXIgw6AgdW4gw6l2w6luZW1lbnQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjYWxsYmFjayA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gc3Vic2NyaWJlKCd0ZXN0LWV2ZW50JywgY2FsbGJhY2spO1xuXG4gICAgICBleHBlY3QodHlwZW9mIHVuc3Vic2NyaWJlKS50b0JlKCdmdW5jdGlvbicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RldnJhaXQgcGVybWV0dHJlIHBsdXNpZXVycyBhYm9ubmVtZW50cyBhdSBtw6ptZSDDqXbDqW5lbWVudCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGNhbGxiYWNrMSA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IGNhbGxiYWNrMiA9IGplc3QuZm4oKTtcblxuICAgICAgc3Vic2NyaWJlKCd0ZXN0LWV2ZW50JywgY2FsbGJhY2sxKTtcbiAgICAgIHN1YnNjcmliZSgndGVzdC1ldmVudCcsIGNhbGxiYWNrMik7XG5cbiAgICAgIGVtaXQoJ3Rlc3QtZXZlbnQnLCAndGVzdC1kYXRhJyk7XG5cbiAgICAgIGV4cGVjdChjYWxsYmFjazEpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCd0ZXN0LWRhdGEnKTtcbiAgICAgIGV4cGVjdChjYWxsYmFjazIpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCd0ZXN0LWRhdGEnKTtcbiAgICB9KTtcblxuICAgIGl0KCdkZXZyYWl0IHJldG91cm5lciB1bmUgZm9uY3Rpb24gZGUgZMOpc2Fib25uZW1lbnQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjYWxsYmFjayA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gc3Vic2NyaWJlKCd0ZXN0LWV2ZW50JywgY2FsbGJhY2spO1xuXG4gICAgICBlbWl0KCd0ZXN0LWV2ZW50JywgJ3Rlc3QtZGF0YScpO1xuICAgICAgZXhwZWN0KGNhbGxiYWNrKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG5cbiAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICBlbWl0KCd0ZXN0LWV2ZW50JywgJ3Rlc3QtZGF0YS0yJyk7XG4gICAgICBleHBlY3QoY2FsbGJhY2spLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTsgLy8gUGFzIGFwcGVsw6kgYXByw6hzIHVuc3Vic2NyaWJlXG4gICAgfSk7XG5cbiAgICBpdCgnZGV2cmFpdCBnw6lyZXIgbGVzIGTDqXNhYm9ubmVtZW50cyBtdWx0aXBsZXMgc2FucyBlcnJldXInLCAoKSA9PiB7XG4gICAgICBjb25zdCBjYWxsYmFjayA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gc3Vic2NyaWJlKCd0ZXN0LWV2ZW50JywgY2FsbGJhY2spO1xuXG4gICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgZXhwZWN0KCgpID0+IHVuc3Vic2NyaWJlKCkpLm5vdC50b1Rocm93KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdlbWl0JywgKCkgPT4ge1xuICAgIGl0KCdkZXZyYWl0IMOpbWV0dHJlIHVuIMOpdsOpbmVtZW50IHZlcnMgbGVzIGFib25uw6lzJywgKCkgPT4ge1xuICAgICAgY29uc3QgY2FsbGJhY2sgPSBqZXN0LmZuKCk7XG4gICAgICBzdWJzY3JpYmUoJ3Rlc3QtZXZlbnQnLCBjYWxsYmFjayk7XG5cbiAgICAgIGVtaXQoJ3Rlc3QtZXZlbnQnLCAndGVzdC1kYXRhJyk7XG5cbiAgICAgIGV4cGVjdChjYWxsYmFjaykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3Rlc3QtZGF0YScpO1xuICAgICAgZXhwZWN0KGNhbGxiYWNrKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGV2cmFpdCDDqW1ldHRyZSB2ZXJzIHRvdXMgbGVzIGFib25uw6lzJywgKCkgPT4ge1xuICAgICAgY29uc3QgY2FsbGJhY2sxID0gamVzdC5mbigpO1xuICAgICAgY29uc3QgY2FsbGJhY2syID0gamVzdC5mbigpO1xuICAgICAgY29uc3QgY2FsbGJhY2szID0gamVzdC5mbigpO1xuXG4gICAgICBzdWJzY3JpYmUoJ3Rlc3QtZXZlbnQnLCBjYWxsYmFjazEpO1xuICAgICAgc3Vic2NyaWJlKCd0ZXN0LWV2ZW50JywgY2FsbGJhY2syKTtcbiAgICAgIHN1YnNjcmliZSgnb3RoZXItZXZlbnQnLCBjYWxsYmFjazMpO1xuXG4gICAgICBlbWl0KCd0ZXN0LWV2ZW50JywgJ3Rlc3QtZGF0YScpO1xuXG4gICAgICBleHBlY3QoY2FsbGJhY2sxKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgndGVzdC1kYXRhJyk7XG4gICAgICBleHBlY3QoY2FsbGJhY2syKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgndGVzdC1kYXRhJyk7XG4gICAgICBleHBlY3QoY2FsbGJhY2szKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RldnJhaXQgZ8OpcmVyIGxcXCfDqW1pc3Npb24gZFxcJ8OpdsOpbmVtZW50cyBzYW5zIGFib25uw6lzJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KCgpID0+IHtcbiAgICAgICAgZW1pdCgnbm9uLWV4aXN0ZW50LWV2ZW50JywgJ2RhdGEnKTtcbiAgICAgIH0pLm5vdC50b1Rocm93KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGV2cmFpdCBwYXNzZXIgbGVzIGRvbm7DqWVzIGNvcnJlY3RlbWVudCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGNhbGxiYWNrID0gamVzdC5mbigpO1xuICAgICAgc3Vic2NyaWJlKCd0ZXN0LWV2ZW50JywgY2FsbGJhY2spO1xuXG4gICAgICBjb25zdCB0ZXN0RGF0YSA9IHsgaWQ6IDEsIG1lc3NhZ2U6ICdoZWxsbycsIGFycmF5OiBbMSwgMiwgM10gfTtcbiAgICAgIGVtaXQoJ3Rlc3QtZXZlbnQnLCB0ZXN0RGF0YSk7XG5cbiAgICAgIGV4cGVjdChjYWxsYmFjaykudG9IYXZlQmVlbkNhbGxlZFdpdGgodGVzdERhdGEpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RldnJhaXQgZ8OpcmVyIGxlcyBkb25uw6llcyB1bmRlZmluZWQgZXQgbnVsbCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGNhbGxiYWNrID0gamVzdC5mbigpO1xuICAgICAgc3Vic2NyaWJlKCd0ZXN0LWV2ZW50JywgY2FsbGJhY2spO1xuXG4gICAgICBlbWl0KCd0ZXN0LWV2ZW50JywgdW5kZWZpbmVkKTtcbiAgICAgIGV4cGVjdChjYWxsYmFjaykudG9IYXZlQmVlbkNhbGxlZFdpdGgodW5kZWZpbmVkKTtcblxuICAgICAgZW1pdCgndGVzdC1ldmVudCcsIG51bGwpO1xuICAgICAgZXhwZWN0KGNhbGxiYWNrKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChudWxsKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0dlc3Rpb24gbcOpbW9pcmUnLCAoKSA9PiB7XG4gICAgaXQoJ2RldnJhaXQgbmV0dG95ZXIgY29ycmVjdGVtZW50IGxlcyBsaXN0ZW5lcnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjYWxsYmFjazEgPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCBjYWxsYmFjazIgPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCBjYWxsYmFjazMgPSBqZXN0LmZuKCk7XG5cbiAgICAgIGNvbnN0IHVuc3Vic2NyaWJlMSA9IHN1YnNjcmliZSgnZXZlbnQxJywgY2FsbGJhY2sxKTtcbiAgICAgIGNvbnN0IHVuc3Vic2NyaWJlMiA9IHN1YnNjcmliZSgnZXZlbnQxJywgY2FsbGJhY2syKTtcbiAgICAgIHN1YnNjcmliZSgnZXZlbnQyJywgY2FsbGJhY2szKTtcblxuICAgICAgLy8gRMOpc2Fib25uZXIgY2FsbGJhY2sxXG4gICAgICB1bnN1YnNjcmliZTEoKTtcblxuICAgICAgZW1pdCgnZXZlbnQxJywgJ2RhdGEnKTtcbiAgICAgIGV4cGVjdChjYWxsYmFjazEpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QoY2FsbGJhY2syKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG5cbiAgICAgIC8vIETDqXNhYm9ubmVyIGNhbGxiYWNrMlxuICAgICAgdW5zdWJzY3JpYmUyKCk7XG5cbiAgICAgIGVtaXQoJ2V2ZW50MScsICdkYXRhMicpO1xuICAgICAgZXhwZWN0KGNhbGxiYWNrMikudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpOyAvLyBQYXMgYXBwZWzDqSDDoCBub3V2ZWF1XG4gICAgfSk7XG5cbiAgICBpdCgnZGV2cmFpdCBnw6lyZXIgbGVzIMOpdsOpbmVtZW50cyBhdmVjIGRlcyBub21zIHNpbWlsYWlyZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjYWxsYmFjazEgPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCBjYWxsYmFjazIgPSBqZXN0LmZuKCk7XG5cbiAgICAgIHN1YnNjcmliZSgndXNlci1sb2dpbicsIGNhbGxiYWNrMSk7XG4gICAgICBzdWJzY3JpYmUoJ3VzZXItbG9nb3V0JywgY2FsbGJhY2syKTtcblxuICAgICAgZW1pdCgndXNlci1sb2dpbicsICdsb2dpbi1kYXRhJyk7XG4gICAgICBleHBlY3QoY2FsbGJhY2sxKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnbG9naW4tZGF0YScpO1xuICAgICAgZXhwZWN0KGNhbGxiYWNrMikubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcblxuICAgICAgZW1pdCgndXNlci1sb2dvdXQnLCAnbG9nb3V0LWRhdGEnKTtcbiAgICAgIGV4cGVjdChjYWxsYmFjazIpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdsb2dvdXQtZGF0YScpO1xuICAgICAgZXhwZWN0KGNhbGxiYWNrMSkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ2FzIGRcXCd1c2FnZSByw6llbHMnLCAoKSA9PiB7XG4gICAgaXQoJ2RldnJhaXQgZ8OpcmVyIHVuIHNjw6luYXJpbyBkZSBwcm9ncmVzc2lvbiB1dGlsaXNhdGV1cicsICgpID0+IHtcbiAgICAgIGNvbnN0IHByb2dyZXNzQ2FsbGJhY2sgPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCBhY2hpZXZlbWVudENhbGxiYWNrID0gamVzdC5mbigpO1xuXG4gICAgICBzdWJzY3JpYmUoJ3Byb2dyZXNzLXVwZGF0ZWQnLCBwcm9ncmVzc0NhbGxiYWNrKTtcbiAgICAgIHN1YnNjcmliZSgnYWNoaWV2ZW1lbnQtdW5sb2NrZWQnLCBhY2hpZXZlbWVudENhbGxiYWNrKTtcblxuICAgICAgLy8gU2ltdWxhdGlvbiBwcm9ncmVzc2lvblxuICAgICAgZW1pdCgncHJvZ3Jlc3MtdXBkYXRlZCcsIHsgbGV2ZWw6IDEsIHNjb3JlOiA4NSB9KTtcbiAgICAgIGV4cGVjdChwcm9ncmVzc0NhbGxiYWNrKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7IGxldmVsOiAxLCBzY29yZTogODUgfSk7XG5cbiAgICAgIC8vIFNpbXVsYXRpb24gYWNoaWV2ZW1lbnRcbiAgICAgIGVtaXQoJ2FjaGlldmVtZW50LXVubG9ja2VkJywgeyB0eXBlOiAnc3RyZWFrJywgdmFsdWU6IDcgfSk7XG4gICAgICBleHBlY3QoYWNoaWV2ZW1lbnRDYWxsYmFjaykudG9IYXZlQmVlbkNhbGxlZFdpdGgoeyB0eXBlOiAnc3RyZWFrJywgdmFsdWU6IDcgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGV2cmFpdCBnw6lyZXIgdW4gc2PDqW5hcmlvIGRlIHNldHRpbmdzIG1pcyDDoCBqb3VyJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2V0dGluZ3NDYWxsYmFjayA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IHRoZW1lQ2FsbGJhY2sgPSBqZXN0LmZuKCk7XG5cbiAgICAgIHN1YnNjcmliZSgnc2V0dGluZ3MtdXBkYXRlZCcsIHNldHRpbmdzQ2FsbGJhY2spO1xuICAgICAgc3Vic2NyaWJlKCd0aGVtZS1jaGFuZ2VkJywgdGhlbWVDYWxsYmFjayk7XG5cbiAgICAgIGVtaXQoJ3NldHRpbmdzLXVwZGF0ZWQnLCB7IHRoZW1lOiAnZGFyaycsIGxhbmd1YWdlOiAnZnInIH0pO1xuICAgICAgZW1pdCgndGhlbWUtY2hhbmdlZCcsICdkYXJrJyk7XG5cbiAgICAgIGV4cGVjdChzZXR0aW5nc0NhbGxiYWNrKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7IHRoZW1lOiAnZGFyaycsIGxhbmd1YWdlOiAnZnInIH0pO1xuICAgICAgZXhwZWN0KHRoZW1lQ2FsbGJhY2spLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdkYXJrJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdGb25jdGlvbm5hbGl0w6lzIGRlIGJhc2UnLCAoKSA9PiB7XG4gICAgaXQoJ2RldnJhaXQgYXZvaXIgbGVzIGZvbmN0aW9ucyBwcmluY2lwYWxlcycsICgpID0+IHtcbiAgICAgIGV4cGVjdCh0eXBlb2Ygc3Vic2NyaWJlKS50b0JlKCdmdW5jdGlvbicpO1xuICAgICAgZXhwZWN0KHR5cGVvZiBlbWl0KS50b0JlKCdmdW5jdGlvbicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RldnJhaXQgZ8OpcmVyIGxlcyBjYWxsYmFja3MgcXVpIG5lIGZvbnQgcmllbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGVtcHR5Q2FsbGJhY2sgPSBqZXN0LmZuKCk7XG4gICAgICBzdWJzY3JpYmUoJ3Rlc3QtZXZlbnQnLCBlbXB0eUNhbGxiYWNrKTtcblxuICAgICAgZXhwZWN0KCgpID0+IHtcbiAgICAgICAgZW1pdCgndGVzdC1ldmVudCcsICdkYXRhJyk7XG4gICAgICB9KS5ub3QudG9UaHJvdygpO1xuXG4gICAgICBleHBlY3QoZW1wdHlDYWxsYmFjaykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2RhdGEnKTtcbiAgICB9KTtcblxuICAgIGl0KCdkZXZyYWl0IGfDqXJlciBsZXMgw6l2w6luZW1lbnRzIGF2ZWMgZGVzIG5vbXMgdmlkZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjYWxsYmFjayA9IGplc3QuZm4oKTtcbiAgICAgIHN1YnNjcmliZSgnJywgY2FsbGJhY2spO1xuXG4gICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICBlbWl0KCcnLCAnZGF0YScpO1xuICAgICAgfSkubm90LnRvVGhyb3coKTtcblxuICAgICAgZXhwZWN0KGNhbGxiYWNrKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnZGF0YScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUm9idXN0ZXNzZScsICgpID0+IHtcbiAgICBpdCgnZGV2cmFpdCBnw6lyZXIgZGUgbm9tYnJldXggYWJvbm7DqXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjYWxsYmFja3MgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSBqZXN0LmZuKCk7XG4gICAgICAgIGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgc3Vic2NyaWJlKCdtYXNzLWV2ZW50JywgY2FsbGJhY2spO1xuICAgICAgfVxuXG4gICAgICBlbWl0KCdtYXNzLWV2ZW50JywgJ21hc3MtZGF0YScpO1xuXG4gICAgICBjYWxsYmFja3MuZm9yRWFjaChjYWxsYmFjayA9PiB7XG4gICAgICAgIGV4cGVjdChjYWxsYmFjaykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ21hc3MtZGF0YScpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGV2cmFpdCBnw6lyZXIgZGUgbm9tYnJldXggw6l2w6luZW1lbnRzIGRpZmbDqXJlbnRzJywgKCkgPT4ge1xuICAgICAgY29uc3QgY2FsbGJhY2tzID0ge307XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDUwOyBpKyspIHtcbiAgICAgICAgY29uc3QgZXZlbnROYW1lID0gYGV2ZW50LSR7aX1gO1xuICAgICAgICBjb25zdCBjYWxsYmFjayA9IGplc3QuZm4oKTtcbiAgICAgICAgY2FsbGJhY2tzW2V2ZW50TmFtZV0gPSBjYWxsYmFjaztcbiAgICAgICAgc3Vic2NyaWJlKGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICAgICAgfVxuXG4gICAgICAvLyDDiW1ldHRyZSB0b3VzIGxlcyDDqXbDqW5lbWVudHNcbiAgICAgIE9iamVjdC5rZXlzKGNhbGxiYWNrcykuZm9yRWFjaChldmVudE5hbWUgPT4ge1xuICAgICAgICBlbWl0KGV2ZW50TmFtZSwgYGRhdGEtJHtldmVudE5hbWV9YCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gVsOpcmlmaWVyIHF1ZSBjaGFxdWUgY2FsbGJhY2sgYSDDqXTDqSBhcHBlbMOpIGF2ZWMgbGVzIGJvbm5lcyBkb25uw6llc1xuICAgICAgT2JqZWN0LmVudHJpZXMoY2FsbGJhY2tzKS5mb3JFYWNoKChbZXZlbnROYW1lLCBjYWxsYmFja10pID0+IHtcbiAgICAgICAgZXhwZWN0KGNhbGxiYWNrKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChgZGF0YS0ke2V2ZW50TmFtZX1gKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6Ijs7QUFDQSxJQUFBQSxTQUFBLEdBQUFDLE9BQUE7QUFFQUMsUUFBUSxDQUFDLFVBQVUsRUFBRSxZQUFNO0VBQ3pCQyxVQUFVLENBQUMsWUFBTTtJQUVmLElBQU1DLFFBQVEsR0FBR0gsT0FBTyxDQUFDLDBCQUEwQixDQUFDO0lBRXBELElBQU1JLFNBQVMsR0FBR0QsUUFBUSxDQUFDQyxTQUFTLElBQUksQ0FBQyxDQUFDO0lBQzFDQyxNQUFNLENBQUNDLElBQUksQ0FBQ0YsU0FBUyxDQUFDLENBQUNHLE9BQU8sQ0FBQyxVQUFBQyxHQUFHO01BQUEsT0FBSSxPQUFPSixTQUFTLENBQUNJLEdBQUcsQ0FBQztJQUFBLEVBQUM7RUFD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