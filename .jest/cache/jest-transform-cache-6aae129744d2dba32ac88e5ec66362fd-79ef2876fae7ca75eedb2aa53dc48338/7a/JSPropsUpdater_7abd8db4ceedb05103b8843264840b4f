25acc3d4dc460de261d8a11165a50d35
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _reactNative = require("react-native");
var _PlatformChecker = require("../PlatformChecker.js");
var _threads = require("../threads.js");
var _NativeReanimatedModule = _interopRequireDefault(require("../specs/NativeReanimatedModule.js"));
var SHOULD_BE_USE_WEB = (0, _PlatformChecker.shouldBeUseWeb)();
var JSPropsUpdaterPaper = function () {
  function JSPropsUpdaterPaper() {
    (0, _classCallCheck2.default)(this, JSPropsUpdaterPaper);
    this._reanimatedEventEmitter = new _reactNative.NativeEventEmitter(_reactNative.Platform.OS === 'ios' || _reactNative.Platform.OS === 'macos' ? _NativeReanimatedModule.default : undefined);
  }
  return (0, _createClass2.default)(JSPropsUpdaterPaper, [{
    key: "addOnJSPropsChangeListener",
    value: function addOnJSPropsChangeListener(animatedComponent) {
      var viewTag = animatedComponent.getComponentViewTag();
      JSPropsUpdaterPaper._tagToComponentMapping.set(viewTag, animatedComponent);
      if (JSPropsUpdaterPaper._tagToComponentMapping.size === 1) {
        var listener = function listener(data) {
          var component = JSPropsUpdaterPaper._tagToComponentMapping.get(data.viewTag);
          component == null || component._updateFromNative(data.props);
        };
        this._reanimatedEventEmitter.addListener('onReanimatedPropsChange', listener);
      }
    }
  }, {
    key: "removeOnJSPropsChangeListener",
    value: function removeOnJSPropsChangeListener(animatedComponent) {
      var viewTag = animatedComponent.getComponentViewTag();
      JSPropsUpdaterPaper._tagToComponentMapping.delete(viewTag);
      if (JSPropsUpdaterPaper._tagToComponentMapping.size === 0) {
        this._reanimatedEventEmitter.removeAllListeners('onReanimatedPropsChange');
      }
    }
  }]);
}();
JSPropsUpdaterPaper._tagToComponentMapping = new Map();
var _worklet_4093821494997_init_data = {
  code: "function JSPropsUpdaterJs1(){const{runOnJS,updater}=this.__closure;global.updateJSProps=function(viewTag,props){runOnJS(updater)(viewTag,props);};}",
  location: "C:\\Users\\khi_h\\Desktop\\Projets\\JoudEnglishApp\\node_modules\\react-native-reanimated\\lib\\module\\createAnimatedComponent\\JSPropsUpdater.js",
  sourceMap: "{\"version\":3,\"names\":[\"JSPropsUpdaterJs1\",\"runOnJS\",\"updater\",\"__closure\",\"global\",\"updateJSProps\",\"viewTag\",\"props\"],\"sources\":[\"C:/Users/khi_h/Desktop/Projets/JoudEnglishApp/node_modules/react-native-reanimated/lib/module/createAnimatedComponent/JSPropsUpdater.js\"],\"mappings\":\"AA0CyB,SAAAA,iBAAMA,CAAA,QAAAC,OAAA,CAAAC,OAAA,OAAAC,SAAA,CAGvBC,MAAM,CAACC,aAAa,CAAG,SAACC,OAAO,CAAEC,KAAK,CAAK,CACzCN,OAAO,CAACC,OAAO,CAAC,CAACI,OAAO,CAAEC,KAAK,CAAC,CAClC,CAAC,CACH\",\"ignoreList\":[]}",
  version: "3.16.7"
};
var JSPropsUpdaterFabric = function () {
  function JSPropsUpdaterFabric() {
    (0, _classCallCheck2.default)(this, JSPropsUpdaterFabric);
    if (!JSPropsUpdaterFabric.isInitialized) {
      var updater = function updater(viewTag, props) {
        var component = JSPropsUpdaterFabric._tagToComponentMapping.get(viewTag);
        component == null || component._updateFromNative(props);
      };
      (0, _threads.runOnUIImmediately)(function () {
        var _e = [new global.Error(), -3, -27];
        var JSPropsUpdaterJs1 = function JSPropsUpdaterJs1() {
          global.updateJSProps = function (viewTag, props) {
            (0, _threads.runOnJS)(updater)(viewTag, props);
          };
        };
        JSPropsUpdaterJs1.__closure = {
          runOnJS: _threads.runOnJS,
          updater: updater
        };
        JSPropsUpdaterJs1.__workletHash = 4093821494997;
        JSPropsUpdaterJs1.__initData = _worklet_4093821494997_init_data;
        JSPropsUpdaterJs1.__stackDetails = _e;
        return JSPropsUpdaterJs1;
      }())();
      JSPropsUpdaterFabric.isInitialized = true;
    }
  }
  return (0, _createClass2.default)(JSPropsUpdaterFabric, [{
    key: "addOnJSPropsChangeListener",
    value: function addOnJSPropsChangeListener(animatedComponent) {
      if (!JSPropsUpdaterFabric.isInitialized) {
        return;
      }
      var viewTag = animatedComponent.getComponentViewTag();
      JSPropsUpdaterFabric._tagToComponentMapping.set(viewTag, animatedComponent);
    }
  }, {
    key: "removeOnJSPropsChangeListener",
    value: function removeOnJSPropsChangeListener(animatedComponent) {
      if (!JSPropsUpdaterFabric.isInitialized) {
        return;
      }
      var viewTag = animatedComponent.getComponentViewTag();
      JSPropsUpdaterFabric._tagToComponentMapping.delete(viewTag);
    }
  }]);
}();
JSPropsUpdaterFabric._tagToComponentMapping = new Map();
JSPropsUpdaterFabric.isInitialized = false;
var JSPropsUpdaterWeb = function () {
  function JSPropsUpdaterWeb() {
    (0, _classCallCheck2.default)(this, JSPropsUpdaterWeb);
  }
  return (0, _createClass2.default)(JSPropsUpdaterWeb, [{
    key: "addOnJSPropsChangeListener",
    value: function addOnJSPropsChangeListener(_animatedComponent) {}
  }, {
    key: "removeOnJSPropsChangeListener",
    value: function removeOnJSPropsChangeListener(_animatedComponent) {}
  }]);
}();
var JSPropsUpdater;
if (SHOULD_BE_USE_WEB) {
  JSPropsUpdater = JSPropsUpdaterWeb;
} else if (global._IS_FABRIC) {
  JSPropsUpdater = JSPropsUpdaterFabric;
} else {
  JSPropsUpdater = JSPropsUpdaterPaper;
}
var _default = exports.default = JSPropsUpdater;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZGVmYXVsdCIsIl9jbGFzc0NhbGxDaGVjazIiLCJfY3JlYXRlQ2xhc3MyIiwiX3JlYWN0TmF0aXZlIiwiX1BsYXRmb3JtQ2hlY2tlciIsIl90aHJlYWRzIiwiX05hdGl2ZVJlYW5pbWF0ZWRNb2R1bGUiLCJTSE9VTERfQkVfVVNFX1dFQiIsInNob3VsZEJlVXNlV2ViIiwiSlNQcm9wc1VwZGF0ZXJQYXBlciIsIl9yZWFuaW1hdGVkRXZlbnRFbWl0dGVyIiwiTmF0aXZlRXZlbnRFbWl0dGVyIiwiUGxhdGZvcm0iLCJPUyIsIk5hdGl2ZVJlYW5pbWF0ZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJrZXkiLCJhZGRPbkpTUHJvcHNDaGFuZ2VMaXN0ZW5lciIsImFuaW1hdGVkQ29tcG9uZW50Iiwidmlld1RhZyIsImdldENvbXBvbmVudFZpZXdUYWciLCJfdGFnVG9Db21wb25lbnRNYXBwaW5nIiwic2V0Iiwic2l6ZSIsImxpc3RlbmVyIiwiZGF0YSIsImNvbXBvbmVudCIsImdldCIsIl91cGRhdGVGcm9tTmF0aXZlIiwicHJvcHMiLCJhZGRMaXN0ZW5lciIsInJlbW92ZU9uSlNQcm9wc0NoYW5nZUxpc3RlbmVyIiwiZGVsZXRlIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiTWFwIiwiX3dvcmtsZXRfNDA5MzgyMTQ5NDk5N19pbml0X2RhdGEiLCJjb2RlIiwibG9jYXRpb24iLCJzb3VyY2VNYXAiLCJ2ZXJzaW9uIiwiSlNQcm9wc1VwZGF0ZXJGYWJyaWMiLCJpc0luaXRpYWxpemVkIiwidXBkYXRlciIsInJ1bk9uVUlJbW1lZGlhdGVseSIsIl9lIiwiZ2xvYmFsIiwiRXJyb3IiLCJKU1Byb3BzVXBkYXRlckpzMSIsInVwZGF0ZUpTUHJvcHMiLCJydW5PbkpTIiwiX19jbG9zdXJlIiwiX193b3JrbGV0SGFzaCIsIl9faW5pdERhdGEiLCJfX3N0YWNrRGV0YWlscyIsIkpTUHJvcHNVcGRhdGVyV2ViIiwiX2FuaW1hdGVkQ29tcG9uZW50IiwiSlNQcm9wc1VwZGF0ZXIiLCJfSVNfRkFCUklDIiwiX2RlZmF1bHQiXSwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY3JlYXRlQW5pbWF0ZWRDb21wb25lbnQvSlNQcm9wc1VwZGF0ZXIudHMiXSwic291cmNlc0NvbnRlbnQiOltudWxsXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQUEsSUFBQUEsc0JBQUEsR0FBQUMsT0FBQTtBQUFBQyxNQUFBLENBQUFDLGNBQUEsQ0FBQUMsT0FBQTtFQUFBQyxLQUFBO0FBQUE7QUFBQUQsT0FBQSxDQUFBRSxPQUFBO0FBQUEsSUFBQUMsZ0JBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFPLGFBQUEsR0FBQVIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNaLElBQUFRLFlBQUEsR0FBQVIsT0FBQTtBQUVBLElBQUFTLGdCQUFBLEdBQUFULE9BQUE7QUFFQSxJQUFBVSxRQUFBLEdBQUFWLE9BQUE7QUFPQSxJQUFBVyx1QkFBQSxHQUFBWixzQkFBQSxDQUFBQyxPQUFBO0FBT0EsSUFBTVksaUJBQWlCLEdBQUcsSUFBQUMsK0JBQWMsRUFBQyxDQUFDO0FBQUEsSUFFcENDLG1CQUFtQjtFQUl2QixTQUFBQSxvQkFBQSxFQUFjO0lBQUEsSUFBQVIsZ0JBQUEsQ0FBQUQsT0FBQSxRQUFBUyxtQkFBQTtJQUNaLElBQUksQ0FBQ0MsdUJBQXVCLEdBQUcsSUFBSUMsK0JBQWtCLENBRW5EQyxxQkFBUSxDQUFDQyxFQUFFLEtBQUssS0FBSyxJQUFJRCxxQkFBUSxDQUFDQyxFQUFFLEtBQUssT0FBTyxHQUMzQ0MsK0JBQXNCLEdBQ3ZCQyxTQUNOLENBQUM7RUFDSDtFQUFBLFdBQUFiLGFBQUEsQ0FBQUYsT0FBQSxFQUFBUyxtQkFBQTtJQUFBTyxHQUFBO0lBQUFqQixLQUFBLEVBRU8sU0FBQWtCLDBCQUEwQkEsQ0FDL0JDLGlCQUc0QixFQUM1QjtNQUNBLElBQU1D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