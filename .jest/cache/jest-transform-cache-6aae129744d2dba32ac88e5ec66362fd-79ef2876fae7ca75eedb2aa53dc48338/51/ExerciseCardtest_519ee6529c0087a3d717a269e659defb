7acdb4479e29599778126afced401359
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _ExerciseCard = _interopRequireDefault(require("../../../src/components/exercise-common/ExerciseCard"));
var _jsxRuntime = require("react/jsx-runtime");
describe("ExerciseCard", function () {
  var baseProps = {
    title: "Titre Exercice",
    description: "Description de l'exercice",
    icon: "ðŸ”¥",
    color: "#5E60CE",
    onPress: jest.fn()
  };
  afterEach(function () {
    jest.clearAllMocks();
  });
  it("affiche correctement le titre, la description et l'icÃ´ne", function () {
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ExerciseCard.default, Object.assign({}, baseProps))),
      getByText = _render.getByText;
    expect(getByText(baseProps.title)).toBeTruthy();
    expect(getByText(baseProps.description)).toBeTruthy();
    expect(getByText(baseProps.icon)).toBeTruthy();
  });
  it("affiche la barre de progression quand progress > 0", function () {
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ExerciseCard.default, Object.assign({}, baseProps, {
        progress: 45
      }))),
      getByText = _render2.getByText,
      getByTestId = _render2.getByTestId,
      queryByText = _render2.queryByText;
    expect(getByText("45%")).toBeTruthy();
    expect(getByTestId("progress-fill")).toHaveStyle({
      width: "45%"
    });
    expect(queryByText("Nouveau")).toBeNull();
  });
  it("affiche le badge 'Nouveau' quand progress = 0 et isNew = true", function () {
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ExerciseCard.default, Object.assign({}, baseProps, {
        progress: 0,
        isNew: true
      }))),
      getByText = _render3.getByText,
      queryByTestId = _render3.queryByTestId;
    expect(getByText("Nouveau")).toBeTruthy();
    expect(queryByTestId("progress-fill")).toBeNull();
  });
  it("n'affiche ni la barre de progression ni le badge quand progress = 0 et isNew = false", function () {
    var _render4 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ExerciseCard.default, Object.assign({}, baseProps, {
        progress: 0,
        isNew: false
      }))),
      queryByText = _render4.queryByText,
      queryByTestId = _render4.queryByTestId;
    expect(queryByText("Nouveau")).toBeNull();
    expect(queryByTestId("progress-fill")).toBeNull();
  });
  it("appelle onPress quand on clique sur la carte ou le bouton commencer", function () {
    var _render5 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ExerciseCard.default, Object.assign({}, baseProps))),
      getByText = _render5.getByText;
    _reactNative.fireEvent.press(getByText(baseProps.title));
    _reactNative.fireEvent.press(getByText("Commencer"));
    expect(baseProps.onPress).toHaveBeenCalledTimes(2);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdE5hdGl2ZSIsIl9FeGVyY2lzZUNhcmQiLCJfanN4UnVudGltZSIsImRlc2NyaWJlIiwiYmFzZVByb3BzIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImljb24iLCJjb2xvciIsIm9uUHJlc3MiLCJqZXN0IiwiZm4iLCJhZnRlckVhY2giLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJfcmVuZGVyIiwicmVuZGVyIiwianN4IiwiZGVmYXVsdCIsIk9iamVjdCIsImFzc2lnbiIsImdldEJ5VGV4dCIsImV4cGVjdCIsInRvQmVUcnV0aHkiLCJfcmVuZGVyMiIsInByb2dyZXNzIiwiZ2V0QnlUZXN0SWQiLCJxdWVyeUJ5VGV4dCIsInRvSGF2ZVN0eWxlIiwid2lkdGgiLCJ0b0JlTnVsbCIsIl9yZW5kZXIzIiwiaXNOZXciLCJxdWVyeUJ5VGVzdElkIiwiX3JlbmRlcjQiLCJfcmVuZGVyNSIsImZpcmVFdmVudCIsInByZXNzIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIl0sInNvdXJjZXMiOlsiRXhlcmNpc2VDYXJkLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyByZW5kZXIsIGZpcmVFdmVudCB9IGZyb20gXCJAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZVwiO1xyXG5pbXBvcnQgRXhlcmNpc2VDYXJkIGZyb20gXCIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9leGVyY2lzZS1jb21tb24vRXhlcmNpc2VDYXJkXCI7XHJcblxyXG5kZXNjcmliZShcIkV4ZXJjaXNlQ2FyZFwiLCAoKSA9PiB7XHJcbiAgY29uc3QgYmFzZVByb3BzID0ge1xyXG4gICAgdGl0bGU6IFwiVGl0cmUgRXhlcmNpY2VcIixcclxuICAgIGRlc2NyaXB0aW9uOiBcIkRlc2NyaXB0aW9uIGRlIGwnZXhlcmNpY2VcIixcclxuICAgIGljb246IFwi8J+UpVwiLFxyXG4gICAgY29sb3I6IFwiIzVFNjBDRVwiLFxyXG4gICAgb25QcmVzczogamVzdC5mbigpLFxyXG4gIH07XHJcblxyXG4gIGFmdGVyRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICB9KTtcclxuXHJcbiAgaXQoXCJhZmZpY2hlIGNvcnJlY3RlbWVudCBsZSB0aXRyZSwgbGEgZGVzY3JpcHRpb24gZXQgbCdpY8O0bmVcIiwgKCkgPT4ge1xyXG4gICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlcig8RXhlcmNpc2VDYXJkIHsuLi5iYXNlUHJvcHN9IC8+KTtcclxuICAgIGV4cGVjdChnZXRCeVRleHQoYmFzZVByb3BzLnRpdGxlKSkudG9CZVRydXRoeSgpO1xyXG4gICAgZXhwZWN0KGdldEJ5VGV4dChiYXNlUHJvcHMuZGVzY3JpcHRpb24pKS50b0JlVHJ1dGh5KCk7XHJcbiAgICBleHBlY3QoZ2V0QnlUZXh0KGJhc2VQcm9wcy5pY29uKSkudG9CZVRydXRoeSgpO1xyXG4gIH0pO1xyXG5cclxuICBpdChcImFmZmljaGUgbGEgYmFycmUgZGUgcHJvZ3Jlc3Npb24gcXVhbmQgcHJvZ3Jlc3MgPiAwXCIsICgpID0+IHtcclxuICAgIGNvbnN0IHsgZ2V0QnlUZXh0LCBnZXRCeVRlc3RJZCwgcXVlcnlCeVRleHQgfSA9IHJlbmRlcihcclxuICAgICAgPEV4ZXJjaXNlQ2FyZCB7Li4uYmFzZVByb3BzfSBwcm9ncmVzcz17NDV9IC8+XHJcbiAgICApO1xyXG4gICAgZXhwZWN0KGdldEJ5VGV4dChcIjQ1JVwiKSkudG9CZVRydXRoeSgpO1xyXG4gICAgZXhwZWN0KGdldEJ5VGVzdElkKFwicHJvZ3Jlc3MtZmlsbFwiKSkudG9IYXZlU3R5bGUoeyB3aWR0aDogXCI0NSVcIiB9KTtcclxuICAgIGV4cGVjdChxdWVyeUJ5VGV4dChcIk5vdXZlYXVcIikpLnRvQmVOdWxsKCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KFwiYWZmaWNoZSBsZSBiYWRnZSAnTm91dmVhdScgcXVhbmQgcHJvZ3Jlc3MgPSAwIGV0IGlzTmV3ID0gdHJ1ZVwiLCAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGdldEJ5VGV4dCwgcXVlcnlCeVRlc3RJZCB9ID0gcmVuZGVyKFxyXG4gICAgICA8RXhlcmNpc2VDYXJkIHsuLi5iYXNlUHJvcHN9IHByb2dyZXNzPXswfSBpc05ldz17dHJ1ZX0gLz5cclxuICAgICk7XHJcbiAgICBleHBlY3QoZ2V0QnlUZXh0KFwiTm91dmVhdVwiKSkudG9CZVRydXRoeSgpO1xyXG4gICAgZXhwZWN0KHF1ZXJ5QnlUZXN0SWQoXCJwcm9ncmVzcy1maWxsXCIpKS50b0JlTnVsbCgpO1xyXG4gIH0pO1xyXG5cclxuICBpdChcIm4nYWZmaWNoZSBuaSBsYSBiYXJyZSBkZSBwcm9ncmVzc2lvbiBuaSBsZSBiYWRnZSBxdWFuZCBwcm9ncmVzcyA9IDAgZXQgaXNOZXcgPSBmYWxzZVwiLCAoKSA9PiB7XHJcbiAgICBjb25zdCB7IHF1ZXJ5QnlUZXh0LCBxdWVyeUJ5VGVzdElkIH0gPSByZW5kZXIoXHJcbiAgICAgIDxFeGVyY2lzZUNhcmQgey4uLmJhc2VQcm9wc30gcHJvZ3Jlc3M9ezB9IGlzTmV3PXtmYWxzZX0gLz5cclxuICAgICk7XHJcbiAgICBleHBlY3QocXVlcnlCeVRleHQoXCJOb3V2ZWF1XCIpKS50b0JlTnVsbCgpO1xyXG4gICAgZXhwZWN0KHF1ZXJ5QnlUZXN0SWQoXCJwcm9ncmVzcy1maWxsXCIpKS50b0JlTnVsbCgpO1xyXG4gIH0pO1xyXG5cclxuICBpdChcImFwcGVsbGUgb25QcmVzcyBxdWFuZCBvbiBjbGlxdWUgc3VyIGxhIGNhcnRlIG91IGxlIGJvdXRvbiBjb21tZW5jZXJcIiwgKCkgPT4ge1xyXG4gICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlcig8RXhlcmNpc2VDYXJkIHsuLi5iYXNlUHJvcHN9IC8+KTtcclxuICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRleHQoYmFzZVByb3BzLnRpdGxlKSk7IC8vIHRvdWNoZXIgbGUgdGl0cmUgKGRhbnMgbGEgY2FydGUpXHJcbiAgICBmaXJlRXZlbnQucHJlc3MoZ2V0QnlUZXh0KFwiQ29tbWVuY2VyXCIpKTsgLy8gYm91dG9uIGNvbW1lbmNlclxyXG4gICAgZXhwZWN0KGJhc2VQcm9wcy5vblByZXNzKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMik7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxZQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxhQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBZ0YsSUFBQUcsV0FBQSxHQUFBSCxPQUFBO0FBRWhGSSxRQUFRLENBQUMsY0FBYyxFQUFFLFlBQU07RUFDN0IsSUFBTUMsU0FBUyxHQUFHO0lBQ2hCQyxLQUFLLEVBQUUsZ0JBQWdCO0lBQ3ZCQyxXQUFXLEVBQUUsMkJBQTJCO0lBQ3hDQyxJQUFJLEVBQUUsSUFBSTtJQUNWQyxLQUFLLEVBQUUsU0FBUztJQUNoQkMsT0FBTyxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQztFQUNuQixDQUFDO0VBRURDLFNBQVMsQ0FBQyxZQUFNO0lBQ2RGLElBQUksQ0FBQ0csYUFBYSxDQUFDLENBQUM7RUFDdEIsQ0FBQyxDQUFDO0VBRUZDLEVBQUUsQ0FBQywwREFBMEQsRUFBRSxZQUFNO0lBQ25FLElBQUFDLE9BQUEsR0FBc0IsSUFBQUMsbUJBQU0sRUFBQyxJQUFBZCxXQUFBLENBQUFlLEdBQUEsRUFBQ2hCLGFBQUEsQ0FBQWlCLE9BQVksRUFBQUMsTUFBQSxDQUFBQyxNQUFBLEtBQUtoQixTQUFTLENBQUcsQ0FBQyxDQUFDO01BQXJEaUIsU0FBUyxHQUFBTixPQUFBLENBQVRNLFNBQVM7SUFDakJDLE1BQU0sQ0FBQ0QsU0FBUyxDQUFDakIsU0FBUyxDQUFDQyxLQUFLLENBQUMsQ0FBQyxDQUFDa0IsVUFBVSxDQUFDLENBQUM7SUFDL0NELE1BQU0sQ0FBQ0QsU0FBUyxDQUFDakIsU0FBUyxDQUFDRSxXQUFXLENBQUMsQ0FBQyxDQUFDaUIsVUFBVSxDQUFDLENBQUM7SUFDckRELE1BQU0sQ0FBQ0QsU0FBUyxDQUFDakIsU0FBUyxDQUFDRyxJQUFJLENBQUMsQ0FBQyxDQUFDZ0IsVUFBVSxDQUFDLENBQUM7RUFDaEQsQ0FBQyxDQUFDO0VBRUZULEVBQUUsQ0FBQyxvREFBb0QsRUFBRSxZQUFNO0lBQzdELElBQUFVLFFBQUEsR0FBZ0QsSUFBQVIsbUJBQU0sRUFDcEQsSUFBQWQsV0FBQSxDQUFBZSxHQUFBLEVBQUNoQixhQUFBLENBQUFpQixPQUFZLEVBQUFDLE1BQUEsQ0FBQUMsTUFBQSxLQUFLaEIsU0FBUztRQUFFcUIsUUFBUSxFQUFFO01BQUcsRUFBRSxDQUM5QyxDQUFDO01BRk9KLFNBQVMsR0FBQUcsUUFBQSxDQUFUSCxTQUFTO01BQUVLLFdBQVcsR0FBQUYsUUFBQSxDQUFYRSxXQUFXO01BQUVDLFdBQVcsR0FBQUgsUUFBQSxDQUFYRyxXQUFXO0lBRzNDTCxNQUFNLENBQUNELFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDRSxVQUFVLENBQUMsQ0FBQztJQUNyQ0QsTUFBTSxDQUFDSSxXQUFXLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQ0UsV0FBVyxDQUFDO01BQUVDLEtBQUssRUFBRTtJQUFNLENBQUMsQ0FBQztJQUNsRVAsTUFBTSxDQUFDSyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQ0csUUFBUSxDQUFDLENBQUM7RUFDM0MsQ0FBQyxDQUFDO0VBRUZoQixFQUFFLENBQUMsK0RBQStELEVBQUUsWUFBTTtJQUN4RSxJQUFBaUIsUUFBQSxHQUFxQyxJQUFBZixtQkFBTSxFQUN6QyxJQUFBZCxXQUFBLENBQUFlLEdBQUEsRUFBQ2hCLGFBQUEsQ0FBQWlCLE9BQVksRUFBQUMsTUFBQSxDQUFBQyxNQUFBLEtBQUtoQixTQUFTO1FBQUVxQixRQUFRLEVBQUUsQ0FBRTtRQUFDTyxLQUFLLEVBQUU7TUFBSyxFQUFFLENBQzFELENBQUM7TUFGT1gsU0FBUyxHQUFBVSxRQUFBLENBQVRWLFNBQVM7TUFBRVksYUFBYSxHQUFBRixRQUFBLENBQWJFLGFBQWE7SUFHaENYLE1BQU0sQ0FBQ0QsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUNFLFVBQVUsQ0FBQyxDQUFDO0lBQ3pDRCxNQUFNLENBQUNXLGFBQWEsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDSCxRQUFRLENBQUMsQ0FBQztFQUNuRCxDQUFDLENBQUM7RUFFRmhCLEVBQUUsQ0FBQyxzRkFBc0YsRUFBRSxZQUFNO0lBQy9GLElBQUFvQixRQUFBLEdBQXVDLElBQUFsQixtQkFBTSxFQUMzQyxJQUFBZCxXQUFBLENBQUFlLEdBQUEsRUFBQ2hCLGFBQUEsQ0FBQWlCLE9BQVksRUFBQUMsTUFBQSxDQUFBQyxNQUFBLEtBQUtoQixTQUFTO1FBQUVxQixRQUFRLEVBQUUsQ0FBRTtRQUFDTyxLQUFLLEVBQUU7TUFBTSxFQUFFLENBQzNELENBQUM7TUFGT0wsV0FBVyxHQUFBTyxRQUFBLENBQVhQLFdBQVc7TUFBRU0sYUFBYSxHQUFBQyxRQUFBLENBQWJELGFBQWE7SUFHbENYLE1BQU0sQ0FBQ0ssV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUNHLFFBQVEsQ0FBQyxDQUFDO0lBQ3pDUixNQUFNLENBQUNXLGFBQWEsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDSCxRQUFRLENBQUMsQ0FBQztFQUNuRCxDQUFDLENBQUM7RUFFRmhCLEVBQUUsQ0FBQyxxRUFBcUUsRUFBRSxZQUFNO0lBQzlFLElBQUFxQixRQUFBLEdBQXNCLElBQUFuQixtQkFBTSxFQUFDLElBQUFkLFdBQUEsQ0FBQWUsR0FBQSxFQUFDaEIsYUFBQSxDQUFBaUIsT0FBWSxFQUFBQyxNQUFBLENBQUFDLE1BQUEsS0FBS2hCLFNBQVMsQ0FBRyxDQUFDLENBQUM7TUFBckRpQixTQUFTLEdBQUFjLFFBQUEsQ0FBVGQsU0FBUztJQUNqQmUsc0JBQVMsQ0FBQ0MsS0FBSyxDQUFDaEIsU0FBUyxDQUFDakIsU0FBUyxDQUFDQyxLQUFLLENBQUMsQ0FBQztJQUMzQytCLHNCQUFTLENBQUNDLEtBQUssQ0FBQ2hCLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUN2Q0MsTUFBTSxDQUFDbEIsU0FBUyxDQUFDSyxPQUFPLENBQUMsQ0FBQzZCLHFCQUFxQixDQUFDLENBQUMsQ0FBQztFQUNwRCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=