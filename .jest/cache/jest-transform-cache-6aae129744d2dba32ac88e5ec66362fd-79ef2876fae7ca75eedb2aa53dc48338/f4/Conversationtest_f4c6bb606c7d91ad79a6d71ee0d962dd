00dc41c37335b2089c9775fc828a8ac1
_getJestObj().mock('expo-router', function () {
  return {
    router: {
      push: jest.fn()
    }
  };
});
_getJestObj().mock('./hooks/useConversation');
_getJestObj().mock('../../../hooks/useLastActivity');
_getJestObj().mock('../../../utils/conversation/conversationDataHelper');
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _expoRouter = require("expo-router");
var _ConversationExercise = _interopRequireDefault(require("./ConversationExercise"));
var _useConversation = _interopRequireDefault(require("./hooks/useConversation"));
var _useLastActivity = _interopRequireDefault(require("../../../hooks/useLastActivity"));
var _conversationDataHelper = require("../../../utils/conversation/conversationDataHelper");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('ConversationExercise - Tests Complets', function () {
  var mockSaveActivity = jest.fn();
  var mockChangeScenario = jest.fn();
  var mockSendMessage = jest.fn();
  var mockUseSuggestion = jest.fn();
  var mockToggleHelp = jest.fn();
  var mockToggleDetailedProgress = jest.fn();
  var mockConversationData = {
    exercises: [{
      id: '1',
      title: 'Scénario 1',
      description: 'Description 1'
    }, {
      id: '2',
      title: 'Scénario 2',
      description: 'Description 2'
    }]
  };
  var mockCurrentScenario = {
    title: 'Scénario Test',
    description: 'Description du scénario de test'
  };
  var setupMocks = function setupMocks() {
    var overrides = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var defaultMocks = {
      useConversation: Object.assign({
        currentScenarioIndex: 0,
        conversation: [],
        message: '',
        setMessage: jest.fn(),
        isTyping: false,
        suggestions: ['Bonjour', 'Comment allez-vous ?'],
        showHelp: false,
        completedScenarios: [],
        conversationHistory: {},
        loaded: true,
        showDetailedProgress: false,
        currentScenario: mockCurrentScenario,
        totalScenarios: 2,
        hasValidData: true,
        changeScenario: mockChangeScenario,
        sendMessage: mockSendMessage,
        useSuggestion: mockUseSuggestion,
        toggleHelp: mockToggleHelp,
        toggleDetailedProgress: mockToggleDetailedProgress,
        isConversationStarted: true,
        stats: {
          currentStep: 1,
          totalSteps: 5,
          completionProgress: 0.2
        },
        display: {
          currentHelp: 'Aide contextuelle'
        }
      }, overrides.useConversation),
      useLastActivity: Object.assign({
        saveActivity: mockSaveActivity
      }, overrides.useLastActivity),
      getConversationData: mockConversationData,
      getLevelColor: '#007AFF'
    };
    _useConversation.default.mockReturnValue(defaultMocks.useConversation);
    _useLastActivity.default.mockReturnValue(defaultMocks.useLastActivity);
    _conversationDataHelper.getConversationData.mockReturnValue(defaultMocks.getConversationData);
    _conversationDataHelper.getLevelColor.mockReturnValue(defaultMocks.getLevelColor);
  };
  beforeEach(function () {
    jest.clearAllMocks();
    setupMocks();
  });
  describe('Core Functionality', function () {
    it('should render completely and handle all core interactions', (0, _asyncToGenerator2.default)(function* () {
      var route = {
        params: {
          level: 'A1'
        }
      };
      (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ConversationExercise.default, {
        route: route
      }));
      expect(_reactNative.screen.getByTestId('conversation-header')).toBeTruthy();
      expect(_reactNative.screen.getByTestId('conversation-selector')).toBeTruthy();
      expect(_reactNative.screen.getByTestId('conversation-progress')).toBeTruthy();
      expect(_reactNative.screen.getByTestId('conversation-scenario-description')).toBeTruthy();
      expect(_reactNative.screen.getByTestId('conversation-message-list')).toBeTruthy();
      expect(_reactNative.screen.getByTestId('conversation-suggestions')).toBeTruthy();
      expect(_reactNative.screen.getByTestId('conversation-input')).toBeTruthy();
      expect(mockSaveActivity).toHaveBeenCalledWith({
        title: "Conversations",
        level: "A1",
        type: "conversations",
        metadata: {
          scenario: 0,
          step: 1,
          totalSteps: 5,
          scenarioName: 'Scénario Test',
          totalScenarios: 2
        }
      });
      var backButton = _reactNative.screen.getByTestId('header-back-button');
      _reactNative.fireEvent.press(backButton);
      expect(_expoRouter.router.push).toHaveBeenCalledWith({
        pathname: "/tabs/exerciseSelection",
        params: {
          level: 'A1'
        }
      });
      var scenarioButton = _reactNative.screen.getByTestId('scenario-selector-1');
      _reactNative.fireEvent.press(scenarioButton);
      expect(mockChangeScenario).toHaveBeenCalledWith(1);
      var progressButton = _reactNative.screen.getByTestId('progress-toggle');
      _reactNative.fireEvent.press(progressButton);
      expect(mockToggleDetailedProgress).toHaveBeenCalled();
      var helpButton = _reactNative.screen.getByTestId('help-toggle');
      _reactNative.fireEvent.press(helpButton);
      expect(mockToggleHelp).toHaveBeenCalled();
      var suggestionButton = _reactNative.screen.getByTestId('suggestion-0');
      _reactNative.fireEvent.press(suggestionButton);
      expect(mockUseSuggestion).toHaveBeenCalledWith('Bonjour');
      var sendButton = _reactNative.screen.getByTestId('send-message-button');
      _reactNative.fireEvent.press(sendButton);
      expect(mockSendMessage).toHaveBeenCalled();
    }));
  });
  describe('States and Edge Cases', function () {
    it('should handle all states and edge cases correctly', function () {
      setupMocks({
        useConversation: {
          loaded: false,
          hasValidData: false
        }
      });
      var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ConversationExercise.default, {
          route: {
            params: {
              level: 'A1'
            }
          }
        })),
        rerender = _render.rerender;
      expect(_reactNative.screen.getByTestId('loading-container')).toBeTruthy();
      expect(_reactNative.screen.queryByTestId('conversation-header')).toBeNull();
      setupMocks();
      rerender((0, _jsxRuntime.jsx)(_ConversationExercise.default, {
        route: {}
      }));
      expect(_useConversation.default).toHaveBeenCalledWith(mockConversationData, 'A1');
      rerender((0, _jsxRuntime.jsx)(_ConversationExercise.default, {
        route: undefined
      }));
      expect(_useConversation.default).toHaveBeenCalledWith(mockConversationData, 'A1');
      setupMocks({
        useConversation: {
          loaded: true,
          hasValidData: false,
          currentScenario: null
        }
      });
      rerender((0, _jsxRuntime.jsx)(_ConversationExercise.default, {
        route: {
          params: {
            level: 'B2'
          }
        }
      }));
      expect(_reactNative.screen.getByTestId('loading-container')).toBeTruthy();
      jest.clearAllMocks();
      setupMocks({
        useConversation: {
          isConversationStarted: false
        }
      });
      rerender((0, _jsxRuntime.jsx)(_ConversationExercise.default, {
        route: {
          params: {
            level: 'A1'
          }
        }
      }));
      expect(mockSaveActivity).not.toHaveBeenCalled();
    });
  });
  describe('Performance Optimizations', function () {
    it('should maintain performance optimizations', function () {
      var route = {
        params: {
          level: 'A1'
        }
      };
      var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ConversationExercise.default, {
          route: route
        })),
        rerender = _render2.rerender;
      var initialCallbacks = {
        changeScenario: mockChangeScenario,
        sendMessage: mockSendMessage,
        useSuggestion: mockUseSuggestion,
        toggleHelp: mockToggleHelp
      };
      rerender((0, _jsxRuntime.jsx)(_ConversationExercise.default, {
        route: route
      }));
      expect(mockChangeScenario).toBe(initialCallbacks.changeScenario);
      expect(mockSendMessage).toBe(initialCallbacks.sendMessage);
      rerender((0, _jsxRuntime.jsx)(_ConversationExercise.default, {
        route: {
          params: {
            level: 'B1'
          }
        }
      }));
      expect(_conversationDataHelper.getConversationData).toHaveBeenCalledWith('B1');
      expect(_conversationDataHelper.getLevelColor).toHaveBeenCalledWith('B1');
    });
  });
  describe('Hooks Integration', function () {
    it('should integrate correctly with custom hooks', (0, _asyncToGenerator2.default)(function* () {
      var route = {
        params: {
          level: 'C1'
        }
      };
      (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ConversationExercise.default, {
        route: route
      }));
      expect(_useConversation.default).toHaveBeenCalledWith(mockConversationData, 'C1');
      expect(_useLastActivity.default).toHaveBeenCalled();
      expect(_conversationDataHelper.getConversationData).toHaveBeenCalledWith('C1');
      expect(_conversationDataHelper.getLevelColor).toHaveBeenCalledWith('C1');
      yield (0, _reactNative.waitFor)(function () {
        expect(mockSaveActivity).toHaveBeenCalledWith({
          title: "Conversations",
          level: "C1",
          type: "conversations",
          metadata: {
            scenario: 0,
            step: 1,
            totalSteps: 5,
            scenarioName: 'Scénario Test',
            totalScenarios: 2
          }
        });
      });
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJyb3V0ZXIiLCJwdXNoIiwiamVzdCIsImZuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVhY3QiLCJfcmVhY3ROYXRpdmUiLCJfZXhwb1JvdXRlciIsIl9Db252ZXJzYXRpb25FeGVyY2lzZSIsIl91c2VDb252ZXJzYXRpb24iLCJfdXNlTGFzdEFjdGl2aXR5IiwiX2NvbnZlcnNhdGlvbkRhdGFIZWxwZXIiLCJfanN4UnVudGltZSIsIl9yZXF1aXJlIiwiZGVzY3JpYmUiLCJtb2NrU2F2ZUFjdGl2aXR5IiwibW9ja0NoYW5nZVNjZW5hcmlvIiwibW9ja1NlbmRNZXNzYWdlIiwibW9ja1VzZVN1Z2dlc3Rpb24iLCJtb2NrVG9nZ2xlSGVscCIsIm1vY2tUb2dnbGVEZXRhaWxlZFByb2dyZXNzIiwibW9ja0NvbnZlcnNhdGlvbkRhdGEiLCJleGVyY2lzZXMiLCJpZCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJtb2NrQ3VycmVudFNjZW5hcmlvIiwic2V0dXBNb2NrcyIsIm92ZXJyaWRlcyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImRlZmF1bHRNb2NrcyIsInVzZUNvbnZlcnNhdGlvbiIsIk9iamVjdCIsImFzc2lnbiIsImN1cnJlbnRTY2VuYXJpb0luZGV4IiwiY29udmVyc2F0aW9uIiwibWVzc2FnZSIsInNldE1lc3NhZ2UiLCJpc1R5cGluZyIsInN1Z2dlc3Rpb25zIiwic2hvd0hlbHAiLCJjb21wbGV0ZWRTY2VuYXJpb3MiLCJjb252ZXJzYXRpb25IaXN0b3J5IiwibG9hZGVkIiwic2hvd0RldGFpbGVkUHJvZ3Jlc3MiLCJjdXJyZW50U2NlbmFyaW8iLCJ0b3RhbFNjZW5hcmlvcyIsImhhc1ZhbGlkRGF0YSIsImNoYW5nZVNjZW5hcmlvIiwic2VuZE1lc3NhZ2UiLCJ1c2VTdWdnZXN0aW9uIiwidG9nZ2xlSGVscCIsInRvZ2dsZURldGFpbGVkUHJvZ3Jlc3MiLCJpc0NvbnZlcnNhdGlvblN0YXJ0ZWQiLCJzdGF0cyIsImN1cnJlbnRTdGVwIiwidG90YWxTdGVwcyIsImNvbXBsZXRpb25Qcm9ncmVzcyIsImRpc3BsYXkiLCJjdXJyZW50SGVscCIsInVzZUxhc3RBY3Rpdml0eSIsInNhdmVBY3Rpdml0eSIsImdldENvbnZlcnNhdGlvbkRhdGEiLCJnZXRMZXZlbENvbG9yIiwibW9ja1JldHVyblZhbHVlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsImRlZmF1bHQiLCJyb3V0ZSIsInBhcmFtcyIsImxldmVsIiwicmVuZGVyIiwianN4IiwiZXhwZWN0Iiwic2NyZWVuIiwiZ2V0QnlUZXN0SWQiLCJ0b0JlVHJ1dGh5IiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJ0eXBlIiwibWV0YWRhdGEiLCJzY2VuYXJpbyIsInN0ZXAiLCJzY2VuYXJpb05hbWUiLCJiYWNrQnV0dG9uIiwiZmlyZUV2ZW50IiwicHJlc3MiLCJwYXRobmFtZSIsInNjZW5hcmlvQnV0dG9uIiwicHJvZ3Jlc3NCdXR0b24iLCJ0b0hhdmVCZWVuQ2FsbGVkIiwiaGVscEJ1dHRvbiIsInN1Z2dlc3Rpb25CdXR0b24iLCJzZW5kQnV0dG9uIiwiX3JlbmRlciIsInJlcmVuZGVyIiwicXVlcnlCeVRlc3RJZCIsInRvQmVOdWxsIiwibm90IiwiX3JlbmRlcjIiLCJpbml0aWFsQ2FsbGJhY2tzIiwidG9CZSIsIndhaXRGb3IiXSwic291cmNlcyI6WyJDb252ZXJzYXRpb24udGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb252ZXJzYXRpb25FeGVyY2lzZS50ZXN0LmpzIC0gVEVTVFMgQ09NUExFVFMgKDgwJSBkZSBjb3V2ZXJ0dXJlIGF2ZWMgMjAlIGQnZWZmb3J0KVxyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgZmlyZUV2ZW50LCB3YWl0Rm9yIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdC1uYXRpdmUnO1xyXG5pbXBvcnQgeyByb3V0ZXIgfSBmcm9tICdleHBvLXJvdXRlcic7XHJcbmltcG9ydCBDb252ZXJzYXRpb25FeGVyY2lzZSBmcm9tICcuL0NvbnZlcnNhdGlvbkV4ZXJjaXNlJztcclxuXHJcbi8vIE1vY2tzXHJcbmplc3QubW9jaygnZXhwby1yb3V0ZXInLCAoKSA9PiAoe1xyXG4gIHJvdXRlcjoge1xyXG4gICAgcHVzaDogamVzdC5mbigpLFxyXG4gIH0sXHJcbn0pKTtcclxuXHJcbmplc3QubW9jaygnLi9ob29rcy91c2VDb252ZXJzYXRpb24nKTtcclxuamVzdC5tb2NrKCcuLi8uLi8uLi9ob29rcy91c2VMYXN0QWN0aXZpdHknKTtcclxuamVzdC5tb2NrKCcuLi8uLi8uLi91dGlscy9jb252ZXJzYXRpb24vY29udmVyc2F0aW9uRGF0YUhlbHBlcicpO1xyXG5cclxuLy8gSW1wb3J0IGRlcyBtb2NrcyBhcHLDqHMgbGEgZMOpY2xhcmF0aW9uXHJcbmltcG9ydCB1c2VDb252ZXJzYXRpb24gZnJvbSAnLi9ob29rcy91c2VDb252ZXJzYXRpb24nO1xyXG5pbXBvcnQgdXNlTGFzdEFjdGl2aXR5IGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZUxhc3RBY3Rpdml0eSc7XHJcbmltcG9ydCB7IGdldENvbnZlcnNhdGlvbkRhdGEsIGdldExldmVsQ29sb3IgfSBmcm9tICcuLi8uLi8uLi91dGlscy9jb252ZXJzYXRpb24vY29udmVyc2F0aW9uRGF0YUhlbHBlcic7XHJcblxyXG5kZXNjcmliZSgnQ29udmVyc2F0aW9uRXhlcmNpc2UgLSBUZXN0cyBDb21wbGV0cycsICgpID0+IHtcclxuICAvLyBWYXJpYWJsZXMgZGUgdGVzdCBjb21tdW5lc1xyXG4gIGNvbnN0IG1vY2tTYXZlQWN0aXZpdHkgPSBqZXN0LmZuKCk7XHJcbiAgY29uc3QgbW9ja0NoYW5nZVNjZW5hcmlvID0gamVzdC5mbigpO1xyXG4gIGNvbnN0IG1vY2tTZW5kTWVzc2FnZSA9IGplc3QuZm4oKTtcclxuICBjb25zdCBtb2NrVXNlU3VnZ2VzdGlvbiA9IGplc3QuZm4oKTtcclxuICBjb25zdCBtb2NrVG9nZ2xlSGVscCA9IGplc3QuZm4oKTtcclxuICBjb25zdCBtb2NrVG9nZ2xlRGV0YWlsZWRQcm9ncmVzcyA9IGplc3QuZm4oKTtcclxuXHJcbiAgLy8gTW9jayBkYXRhXHJcbiAgY29uc3QgbW9ja0NvbnZlcnNhdGlvbkRhdGEgPSB7XHJcbiAgICBleGVyY2lzZXM6IFtcclxuICAgICAgeyBpZDogJzEnLCB0aXRsZTogJ1Njw6luYXJpbyAxJywgZGVzY3JpcHRpb246ICdEZXNjcmlwdGlvbiAxJyB9LFxyXG4gICAgICB7IGlkOiAnMicsIHRpdGxlOiAnU2PDqW5hcmlvIDInLCBkZXNjcmlwdGlvbjogJ0Rlc2NyaXB0aW9uIDInIH1cclxuICAgIF1cclxuICB9O1xyXG5cclxuICBjb25zdCBtb2NrQ3VycmVudFNjZW5hcmlvID0ge1xyXG4gICAgdGl0bGU6ICdTY8OpbmFyaW8gVGVzdCcsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0Rlc2NyaXB0aW9uIGR1IHNjw6luYXJpbyBkZSB0ZXN0J1xyXG4gIH07XHJcblxyXG4gIC8vIFNldHVwIHBhciBkw6lmYXV0IGRlcyBtb2Nrc1xyXG4gIGNvbnN0IHNldHVwTW9ja3MgPSAob3ZlcnJpZGVzID0ge30pID0+IHtcclxuICAgIGNvbnN0IGRlZmF1bHRNb2NrcyA9IHtcclxuICAgICAgLy8gdXNlQ29udmVyc2F0aW9uIG1vY2tcclxuICAgICAgdXNlQ29udmVyc2F0aW9uOiB7XHJcbiAgICAgICAgY3VycmVudFNjZW5hcmlvSW5kZXg6IDAsXHJcbiAgICAgICAgY29udmVyc2F0aW9uOiBbXSxcclxuICAgICAgICBtZXNzYWdlOiAnJyxcclxuICAgICAgICBzZXRNZXNzYWdlOiBqZXN0LmZuKCksXHJcbiAgICAgICAgaXNUeXBpbmc6IGZhbHNlLFxyXG4gICAgICAgIHN1Z2dlc3Rpb25zOiBbJ0JvbmpvdXInLCAnQ29tbWVudCBhbGxlei12b3VzID8nXSxcclxuICAgICAgICBzaG93SGVscDogZmFsc2UsXHJcbiAgICAgICAgY29tcGxldGVkU2NlbmFyaW9zOiBbXSxcclxuICAgICAgICBjb252ZXJzYXRpb25IaXN0b3J5OiB7fSxcclxuICAgICAgICBsb2FkZWQ6IHRydWUsXHJcbiAgICAgICAgc2hvd0RldGFpbGVkUHJvZ3Jlc3M6IGZhbHNlLFxyXG4gICAgICAgIGN1cnJlbnRTY2VuYXJpbzogbW9ja0N1cnJlbnRTY2VuYXJpbyxcclxuICAgICAgICB0b3RhbFNjZW5hcmlvczogMixcclxuICAgICAgICBoYXNWYWxpZERhdGE6IHRydWUsXHJcbiAgICAgICAgY2hhbmdlU2NlbmFyaW86IG1vY2tDaGFuZ2VTY2VuYXJpbyxcclxuICAgICAgICBzZW5kTWVzc2FnZTogbW9ja1NlbmRNZXNzYWdlLFxyXG4gICAgICAgIHVzZVN1Z2dlc3Rpb246IG1vY2tVc2VTdWdnZXN0aW9uLFxyXG4gICAgICAgIHRvZ2dsZUhlbHA6IG1vY2tUb2dnbGVIZWxwLFxyXG4gICAgICAgIHRvZ2dsZURldGFpbGVkUHJvZ3Jlc3M6IG1vY2tUb2dnbGVEZXRhaWxlZFByb2dyZXNzLFxyXG4gICAgICAgIGlzQ29udmVyc2F0aW9uU3RhcnRlZDogdHJ1ZSxcclxuICAgICAgICBzdGF0czoge1xyXG4gICAgICAgICAgY3VycmVudFN0ZXA6IDEsXHJcbiAgICAgICAgICB0b3RhbFN0ZXBzOiA1LFxyXG4gICAgICAgICAgY29tcGxldGlvblByb2dyZXNzOiAwLjJcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRpc3BsYXk6IHtcclxuICAgICAgICAgIGN1cnJlbnRIZWxwOiAnQWlkZSBjb250ZXh0dWVsbGUnXHJcbiAgICAgICAgfSxcclxuICAgICAgICAuLi5vdmVycmlkZXMudXNlQ29udmVyc2F0aW9uXHJcbiAgICAgIH0sXHJcbiAgICAgIC8vIHVzZUxhc3RBY3Rpdml0eSBtb2NrXHJcbiAgICAgIHVzZUxhc3RBY3Rpdml0eToge1xyXG4gICAgICAgIHNhdmVBY3Rpdml0eTogbW9ja1NhdmVBY3Rpdml0eSxcclxuICAgICAgICAuLi5vdmVycmlkZXMudXNlTGFzdEFjdGl2aXR5XHJcbiAgICAgIH0sXHJcbiAgICAgIC8vIFV0aWxzIG1vY2tzXHJcbiAgICAgIGdldENvbnZlcnNhdGlvbkRhdGE6IG1vY2tDb252ZXJzYXRpb25EYXRhLFxyXG4gICAgICBnZXRMZXZlbENvbG9yOiAnIzAwN0FGRidcclxuICAgIH07XHJcblxyXG4gICAgdXNlQ29udmVyc2F0aW9uLm1vY2tSZXR1cm5WYWx1ZShkZWZhdWx0TW9ja3MudXNlQ29udmVyc2F0aW9uKTtcclxuICAgIHVzZUxhc3RBY3Rpdml0eS5tb2NrUmV0dXJuVmFsdWUoZGVmYXVsdE1vY2tzLnVzZUxhc3RBY3Rpdml0eSk7XHJcbiAgICBnZXRDb252ZXJzYXRpb25EYXRhLm1vY2tSZXR1cm5WYWx1ZShkZWZhdWx0TW9ja3MuZ2V0Q29udmVyc2F0aW9uRGF0YSk7XHJcbiAgICBnZXRMZXZlbENvbG9yLm1vY2tSZXR1cm5WYWx1ZShkZWZhdWx0TW9ja3MuZ2V0TGV2ZWxDb2xvcik7XHJcbiAgfTtcclxuXHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICAgIHNldHVwTW9ja3MoKTtcclxuICB9KTtcclxuXHJcbiAgLy8g8J+agCBURVNUIENPTVBMRVQgIzEgLSBSZW5kdSBldCBmb25jdGlvbm5lbWVudCBub3JtYWxcclxuICBkZXNjcmliZSgnQ29yZSBGdW5jdGlvbmFsaXR5JywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgY29tcGxldGVseSBhbmQgaGFuZGxlIGFsbCBjb3JlIGludGVyYWN0aW9ucycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3Qgcm91dGUgPSB7IHBhcmFtczogeyBsZXZlbDogJ0ExJyB9IH07XHJcbiAgICAgIFxyXG4gICAgICByZW5kZXIoPENvbnZlcnNhdGlvbkV4ZXJjaXNlIHJvdXRlPXtyb3V0ZX0gLz4pO1xyXG5cclxuICAgICAgLy8g4pyFIFbDqXJpZmljYXRpb24gZHUgcmVuZHUgY29tcGxldFxyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdjb252ZXJzYXRpb24taGVhZGVyJykpLnRvQmVUcnV0aHkoKTtcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnY29udmVyc2F0aW9uLXNlbGVjdG9yJykpLnRvQmVUcnV0aHkoKTtcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnY29udmVyc2F0aW9uLXByb2dyZXNzJykpLnRvQmVUcnV0aHkoKTtcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnY29udmVyc2F0aW9uLXNjZW5hcmlvLWRlc2NyaXB0aW9uJykpLnRvQmVUcnV0aHkoKTtcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnY29udmVyc2F0aW9uLW1lc3NhZ2UtbGlzdCcpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2NvbnZlcnNhdGlvbi1zdWdnZXN0aW9ucycpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2NvbnZlcnNhdGlvbi1pbnB1dCcpKS50b0JlVHJ1dGh5KCk7XHJcblxyXG4gICAgICAvLyDinIUgVsOpcmlmaWNhdGlvbiBkZSBsYSBzYXV2ZWdhcmRlIGQnYWN0aXZpdMOpXHJcbiAgICAgIGV4cGVjdChtb2NrU2F2ZUFjdGl2aXR5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XHJcbiAgICAgICAgdGl0bGU6IFwiQ29udmVyc2F0aW9uc1wiLFxyXG4gICAgICAgIGxldmVsOiBcIkExXCIsXHJcbiAgICAgICAgdHlwZTogXCJjb252ZXJzYXRpb25zXCIsXHJcbiAgICAgICAgbWV0YWRhdGE6IHtcclxuICAgICAgICAgIHNjZW5hcmlvOiAwLFxyXG4gICAgICAgICAgc3RlcDogMSxcclxuICAgICAgICAgIHRvdGFsU3RlcHM6IDUsXHJcbiAgICAgICAgICBzY2VuYXJpb05hbWU6ICdTY8OpbmFyaW8gVGVzdCcsXHJcbiAgICAgICAgICB0b3RhbFNjZW5hcmlvczogMlxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyDinIUgVGVzdCBpbnRlcmFjdGlvbiAtIE5hdmlnYXRpb24gcmV0b3VyXHJcbiAgICAgIGNvbnN0IGJhY2tCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ2hlYWRlci1iYWNrLWJ1dHRvbicpO1xyXG4gICAgICBmaXJlRXZlbnQucHJlc3MoYmFja0J1dHRvbik7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3Qocm91dGVyLnB1c2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcclxuICAgICAgICBwYXRobmFtZTogXCIvdGFicy9leGVyY2lzZVNlbGVjdGlvblwiLFxyXG4gICAgICAgIHBhcmFtczogeyBsZXZlbDogJ0ExJyB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8g4pyFIFRlc3QgaW50ZXJhY3Rpb24gLSBDaGFuZ2VtZW50IGRlIHNjw6luYXJpb1xyXG4gICAgICBjb25zdCBzY2VuYXJpb0J1dHRvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnc2NlbmFyaW8tc2VsZWN0b3ItMScpO1xyXG4gICAgICBmaXJlRXZlbnQucHJlc3Moc2NlbmFyaW9CdXR0b24pO1xyXG4gICAgICBleHBlY3QobW9ja0NoYW5nZVNjZW5hcmlvKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgxKTtcclxuXHJcbiAgICAgIC8vIOKchSBUZXN0IGludGVyYWN0aW9uIC0gVG9nZ2xlIHByb2dyZXNzIGTDqXRhaWxsw6lcclxuICAgICAgY29uc3QgcHJvZ3Jlc3NCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3Byb2dyZXNzLXRvZ2dsZScpO1xyXG4gICAgICBmaXJlRXZlbnQucHJlc3MocHJvZ3Jlc3NCdXR0b24pO1xyXG4gICAgICBleHBlY3QobW9ja1RvZ2dsZURldGFpbGVkUHJvZ3Jlc3MpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuXHJcbiAgICAgIC8vIOKchSBUZXN0IGludGVyYWN0aW9uIC0gVG9nZ2xlIGFpZGVcclxuICAgICAgY29uc3QgaGVscEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnaGVscC10b2dnbGUnKTtcclxuICAgICAgZmlyZUV2ZW50LnByZXNzKGhlbHBCdXR0b24pO1xyXG4gICAgICBleHBlY3QobW9ja1RvZ2dsZUhlbHApLnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuXHJcbiAgICAgIC8vIOKchSBUZXN0IGludGVyYWN0aW9uIC0gVXRpbGlzYXRpb24gc3VnZ2VzdGlvblxyXG4gICAgICBjb25zdCBzdWdnZXN0aW9uQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKCdzdWdnZXN0aW9uLTAnKTtcclxuICAgICAgZmlyZUV2ZW50LnByZXNzKHN1Z2dlc3Rpb25CdXR0b24pO1xyXG4gICAgICBleHBlY3QobW9ja1VzZVN1Z2dlc3Rpb24pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdCb25qb3VyJyk7XHJcblxyXG4gICAgICAvLyDinIUgVGVzdCBpbnRlcmFjdGlvbiAtIEVudm9pIG1lc3NhZ2VcclxuICAgICAgY29uc3Qgc2VuZEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnc2VuZC1tZXNzYWdlLWJ1dHRvbicpO1xyXG4gICAgICBmaXJlRXZlbnQucHJlc3Moc2VuZEJ1dHRvbik7XHJcbiAgICAgIGV4cGVjdChtb2NrU2VuZE1lc3NhZ2UpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICAvLyDwn5qAIFRFU1QgQ09NUExFVCAjMiAtIEdlc3Rpb24gZGVzIMOpdGF0cyBldCBjYXMgbGltaXRlc1xyXG4gIGRlc2NyaWJlKCdTdGF0ZXMgYW5kIEVkZ2UgQ2FzZXMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBhbGwgc3RhdGVzIGFuZCBlZGdlIGNhc2VzIGNvcnJlY3RseScsICgpID0+IHtcclxuICAgICAgLy8gVGVzdCAxOiDDiXRhdCBkZSBjaGFyZ2VtZW50XHJcbiAgICAgIHNldHVwTW9ja3Moe1xyXG4gICAgICAgIHVzZUNvbnZlcnNhdGlvbjogeyBsb2FkZWQ6IGZhbHNlLCBoYXNWYWxpZERhdGE6IGZhbHNlIH1cclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB7IHJlcmVuZGVyIH0gPSByZW5kZXIoPENvbnZlcnNhdGlvbkV4ZXJjaXNlIHJvdXRlPXt7IHBhcmFtczogeyBsZXZlbDogJ0ExJyB9IH19IC8+KTtcclxuICAgICAgXHJcbiAgICAgIC8vIFbDqXJpZmljYXRpb24gZGUgbCfDqXRhdCBsb2FkaW5nXHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2xvYWRpbmctY29udGFpbmVyJykpLnRvQmVUcnV0aHkoKTtcclxuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGVzdElkKCdjb252ZXJzYXRpb24taGVhZGVyJykpLnRvQmVOdWxsKCk7XHJcblxyXG4gICAgICAvLyBUZXN0IDI6IFBhcmFtcyBtYW5xdWFudHMgKG5pdmVhdSBwYXIgZMOpZmF1dClcclxuICAgICAgc2V0dXBNb2NrcygpOyAvLyBSZXNldCBhdXggdmFsZXVycyBwYXIgZMOpZmF1dFxyXG4gICAgICByZXJlbmRlcig8Q29udmVyc2F0aW9uRXhlcmNpc2Ugcm91dGU9e3t9fSAvPik7XHJcbiAgICAgIFxyXG4gICAgICAvLyBEZXZyYWl0IHV0aWxpc2VyIEExIHBhciBkw6lmYXV0XHJcbiAgICAgIGV4cGVjdCh1c2VDb252ZXJzYXRpb24pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxyXG4gICAgICAgIG1vY2tDb252ZXJzYXRpb25EYXRhLCBcclxuICAgICAgICAnQTEnXHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvLyBUZXN0IDM6IFJvdXRlIHVuZGVmaW5lZFxyXG4gICAgICByZXJlbmRlcig8Q29udmVyc2F0aW9uRXhlcmNpc2Ugcm91dGU9e3VuZGVmaW5lZH0gLz4pO1xyXG4gICAgICBleHBlY3QodXNlQ29udmVyc2F0aW9uKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcclxuICAgICAgICBtb2NrQ29udmVyc2F0aW9uRGF0YSwgXHJcbiAgICAgICAgJ0ExJ1xyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8gVGVzdCA0OiBEb25uw6llcyBpbnZhbGlkZXNcclxuICAgICAgc2V0dXBNb2Nrcyh7XHJcbiAgICAgICAgdXNlQ29udmVyc2F0aW9uOiB7IFxyXG4gICAgICAgICAgbG9hZGVkOiB0cnVlLCBcclxuICAgICAgICAgIGhhc1ZhbGlkRGF0YTogZmFsc2UsXHJcbiAgICAgICAgICBjdXJyZW50U2NlbmFyaW86IG51bGxcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgcmVyZW5kZXIoPENvbnZlcnNhdGlvbkV4ZXJjaXNlIHJvdXRlPXt7IHBhcmFtczogeyBsZXZlbDogJ0IyJyB9IH19IC8+KTtcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnbG9hZGluZy1jb250YWluZXInKSkudG9CZVRydXRoeSgpO1xyXG5cclxuICAgICAgLy8gVGVzdCA1OiBDb252ZXJzYXRpb24gbm9uIGTDqW1hcnLDqWUgKHBhcyBkZSBzYXV2ZWdhcmRlKVxyXG4gICAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICAgICAgc2V0dXBNb2Nrcyh7XHJcbiAgICAgICAgdXNlQ29udmVyc2F0aW9uOiB7IFxyXG4gICAgICAgICAgaXNDb252ZXJzYXRpb25TdGFydGVkOiBmYWxzZSBcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgcmVyZW5kZXIoPENvbnZlcnNhdGlvbkV4ZXJjaXNlIHJvdXRlPXt7IHBhcmFtczogeyBsZXZlbDogJ0ExJyB9IH19IC8+KTtcclxuICAgICAgZXhwZWN0KG1vY2tTYXZlQWN0aXZpdHkpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgLy8g8J+agCBURVNUIENPTVBMRVQgIzMgLSBQZXJmb3JtYW5jZSBldCBvcHRpbWlzYXRpb25zXHJcbiAgZGVzY3JpYmUoJ1BlcmZvcm1hbmNlIE9wdGltaXphdGlvbnMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIG1haW50YWluIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbnMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJvdXRlID0geyBwYXJhbXM6IHsgbGV2ZWw6ICdBMScgfSB9O1xyXG4gICAgICBcclxuICAgICAgY29uc3QgeyByZXJlbmRlciB9ID0gcmVuZGVyKDxDb252ZXJzYXRpb25FeGVyY2lzZSByb3V0ZT17cm91dGV9IC8+KTtcclxuICAgICAgXHJcbiAgICAgIC8vIFbDqXJpZmljYXRpb24gcXVlIGxlcyBjYWxsYmFja3MgbmUgY2hhbmdlbnQgcGFzIGxvcnMgZGVzIHJlLXJlbmRlcnNcclxuICAgICAgY29uc3QgaW5pdGlhbENhbGxiYWNrcyA9IHtcclxuICAgICAgICBjaGFuZ2VTY2VuYXJpbzogbW9ja0NoYW5nZVNjZW5hcmlvLFxyXG4gICAgICAgIHNlbmRNZXNzYWdlOiBtb2NrU2VuZE1lc3NhZ2UsXHJcbiAgICAgICAgdXNlU3VnZ2VzdGlvbjogbW9ja1VzZVN1Z2dlc3Rpb24sXHJcbiAgICAgICAgdG9nZ2xlSGVscDogbW9ja1RvZ2dsZUhlbHBcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIFJlLXJlbmRlciBhdmVjIGxlcyBtw6ptZXMgcHJvcHNcclxuICAgICAgcmVyZW5kZXIoPENvbnZlcnNhdGlvbkV4ZXJjaXNlIHJvdXRlPXtyb3V0ZX0gLz4pO1xyXG5cclxuICAgICAgLy8gTGVzIGNhbGxiYWNrcyBkb2l2ZW50IHJlc3RlciBzdGFibGVzXHJcbiAgICAgIGV4cGVjdChtb2NrQ2hhbmdlU2NlbmFyaW8pLnRvQmUoaW5pdGlhbENhbGxiYWNrcy5jaGFuZ2VTY2VuYXJpbyk7XHJcbiAgICAgIGV4cGVjdChtb2NrU2VuZE1lc3NhZ2UpLnRvQmUoaW5pdGlhbENhbGxiYWNrcy5zZW5kTWVzc2FnZSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBUZXN0IGNoYW5nZW1lbnQgZGUgbml2ZWF1XHJcbiAgICAgIHJlcmVuZGVyKDxDb252ZXJzYXRpb25FeGVyY2lzZSByb3V0ZT17eyBwYXJhbXM6IHsgbGV2ZWw6ICdCMScgfSB9fSAvPik7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoZ2V0Q29udmVyc2F0aW9uRGF0YSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ0IxJyk7XHJcbiAgICAgIGV4cGVjdChnZXRMZXZlbENvbG9yKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnQjEnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICAvLyDwn5qAIFRFU1QgQ09NUExFVCAjNCAtIEludMOpZ3JhdGlvbiBob29rcyBjcml0aXF1ZXNcclxuICBkZXNjcmliZSgnSG9va3MgSW50ZWdyYXRpb24nLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGludGVncmF0ZSBjb3JyZWN0bHkgd2l0aCBjdXN0b20gaG9va3MnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJvdXRlID0geyBwYXJhbXM6IHsgbGV2ZWw6ICdDMScgfSB9O1xyXG4gICAgICBcclxuICAgICAgcmVuZGVyKDxDb252ZXJzYXRpb25FeGVyY2lzZSByb3V0ZT17cm91dGV9IC8+KTtcclxuXHJcbiAgICAgIC8vIOKchSBWw6lyaWZpY2F0aW9uIGFwcGVsIHVzZUNvbnZlcnNhdGlvbiBhdmVjIGJvbm5lcyBkb25uw6llc1xyXG4gICAgICBleHBlY3QodXNlQ29udmVyc2F0aW9uKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChtb2NrQ29udmVyc2F0aW9uRGF0YSwgJ0MxJyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyDinIUgVsOpcmlmaWNhdGlvbiBhcHBlbCB1c2VMYXN0QWN0aXZpdHlcclxuICAgICAgZXhwZWN0KHVzZUxhc3RBY3Rpdml0eSkudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG5cclxuICAgICAgLy8g4pyFIFbDqXJpZmljYXRpb24gdXRpbHMgYXBwZWzDqXMgYXZlYyBib24gbml2ZWF1XHJcbiAgICAgIGV4cGVjdChnZXRDb252ZXJzYXRpb25EYXRhKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnQzEnKTtcclxuICAgICAgZXhwZWN0KGdldExldmVsQ29sb3IpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdDMScpO1xyXG5cclxuICAgICAgLy8g4pyFIFRlc3Qgc2F1dmVnYXJkZSBhY3Rpdml0eSBhdmVjIG3DqXRhZG9ubsOpZXMgY29tcGzDqHRlc1xyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3QobW9ja1NhdmVBY3Rpdml0eSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xyXG4gICAgICAgICAgdGl0bGU6IFwiQ29udmVyc2F0aW9uc1wiLFxyXG4gICAgICAgICAgbGV2ZWw6IFwiQzFcIixcclxuICAgICAgICAgIHR5cGU6IFwiY29udmVyc2F0aW9uc1wiLFxyXG4gICAgICAgICAgbWV0YWRhdGE6IHtcclxuICAgICAgICAgICAgc2NlbmFyaW86IDAsXHJcbiAgICAgICAgICAgIHN0ZXA6IDEsXHJcbiAgICAgICAgICAgIHRvdGFsU3RlcHM6IDUsXHJcbiAgICAgICAgICAgIHNjZW5hcmlvTmFtZTogJ1Njw6luYXJpbyBUZXN0JyxcclxuICAgICAgICAgICAgdG90YWxTY2VuYXJpb3M6IDJcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBT0FBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLGFBQWEsRUFBRTtFQUFBLE9BQU87SUFDOUJDLE1BQU0sRUFBRTtNQUNOQyxJQUFJLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDO0lBQ2hCO0VBQ0YsQ0FBQztBQUFBLENBQUMsQ0FBQztBQUVITCxXQUFBLEdBQUtDLElBQUksQ0FBQyx5QkFBeUIsQ0FBQztBQUNwQ0QsV0FBQSxHQUFLQyxJQUFJLENBQUMsZ0NBQWdDLENBQUM7QUFDM0NELFdBQUEsR0FBS0Ms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