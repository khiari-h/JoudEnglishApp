{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_reactNative2","_useModalAnimation","mockStart","jest","fn","spyOn","Animated","mockImplementation","start","stop","describe","beforeEach","mockClear","timing","it","renderHook","useModalAnimation","isVisible","expect","not","toHaveBeenCalled","_renderHook","_ref","initialProps","rerender","toHaveBeenCalledTimes","_renderHook2","_ref2","position","toHaveBeenCalledWith","anything","objectContaining","toValue","duration","_renderHook3","_ref3","_renderHook4","_ref4","_renderHook5","result","current","transformStyle","toEqual","transform","arrayContaining","translateY","any","Object","_renderHook6","_renderHook7","scale"],"sources":["useModalAnimation.test.js"],"sourcesContent":["import React from 'react';\r\nimport { renderHook, act } from '@testing-library/react-native';\r\nimport { Animated } from 'react-native';\r\nimport useModalAnimation from '../../../../src/components/ui/Modal/useModalAnimation';\r\n\r\n// On espionne la fonction Animated.timing pour vérifier son appel\r\nconst mockStart = jest.fn();\r\njest.spyOn(Animated, 'timing').mockImplementation(() => ({\r\n  start: mockStart,\r\n  stop: jest.fn(),\r\n}));\r\n\r\ndescribe('useModalAnimation', () => {\r\n  // Réinitialise les mocks avant chaque test pour éviter les interférences\r\n  beforeEach(() => {\r\n    mockStart.mockClear();\r\n    Animated.timing.mockClear();\r\n  });\r\n\r\n  it('ne devrait pas démarrer d\\'animation si isVisible est faux à l\\'initialisation', () => {\r\n    renderHook(() => useModalAnimation({ isVisible: false }));\r\n    expect(Animated.timing).not.toHaveBeenCalled();\r\n    expect(mockStart).not.toHaveBeenCalled();\r\n  });\r\n\r\n  it('devrait démarrer l\\'animation si isVisible devient vrai', () => {\r\n    const { rerender } = renderHook(({ isVisible }) => useModalAnimation({ isVisible }), {\r\n      initialProps: { isVisible: false },\r\n    });\r\n\r\n    rerender({ isVisible: true });\r\n\r\n    expect(Animated.timing).toHaveBeenCalledTimes(1);\r\n    expect(mockStart).toHaveBeenCalledTimes(1);\r\n  });\r\n\r\n  it('devrait appeler Animated.timing avec les bonnes valeurs pour la position \"top\"', () => {\r\n    const { rerender } = renderHook(({ isVisible, position }) => useModalAnimation({ isVisible, position }), {\r\n      initialProps: { isVisible: false, position: 'top' },\r\n    });\r\n\r\n    rerender({ isVisible: true, position: 'top' });\r\n\r\n    expect(Animated.timing).toHaveBeenCalledWith(\r\n      expect.anything(),\r\n      expect.objectContaining({\r\n        toValue: 1,\r\n        duration: 300,\r\n      })\r\n    );\r\n  });\r\n\r\n  it('devrait appeler Animated.timing avec les bonnes valeurs pour la position \"bottom\"', () => {\r\n    const { rerender } = renderHook(({ isVisible, position }) => useModalAnimation({ isVisible, position }), {\r\n      initialProps: { isVisible: false, position: 'bottom' },\r\n    });\r\n\r\n    rerender({ isVisible: true, position: 'bottom' });\r\n\r\n    expect(Animated.timing).toHaveBeenCalledWith(\r\n      expect.anything(),\r\n      expect.objectContaining({\r\n        toValue: 1,\r\n        duration: 300,\r\n      })\r\n    );\r\n  });\r\n\r\n  it('devrait appeler Animated.timing avec les bonnes valeurs pour la position \"center\"', () => {\r\n    const { rerender } = renderHook(({ isVisible, position }) => useModalAnimation({ isVisible, position }), {\r\n      initialProps: { isVisible: false, position: 'center' },\r\n    });\r\n\r\n    rerender({ isVisible: true, position: 'center' });\r\n\r\n    expect(Animated.timing).toHaveBeenCalledWith(\r\n      expect.anything(),\r\n      expect.objectContaining({\r\n        toValue: 1,\r\n        duration: 300,\r\n      })\r\n    );\r\n  });\r\n\r\n  it('devrait retourner les styles de transformation corrects pour la position \"top\"', () => {\r\n    const { result } = renderHook(() => useModalAnimation({ isVisible: true, position: 'top' }));\r\n    expect(result.current.transformStyle).toEqual(\r\n      expect.objectContaining({\r\n        transform: expect.arrayContaining([\r\n          expect.objectContaining({\r\n            translateY: expect.any(Object),\r\n          }),\r\n        ]),\r\n      })\r\n    );\r\n  });\r\n\r\n  it('devrait retourner les styles de transformation corrects pour la position \"bottom\"', () => {\r\n    const { result } = renderHook(() => useModalAnimation({ isVisible: true, position: 'bottom' }));\r\n    expect(result.current.transformStyle).toEqual(\r\n      expect.objectContaining({\r\n        transform: expect.arrayContaining([\r\n          expect.objectContaining({\r\n            translateY: expect.any(Object),\r\n          }),\r\n        ]),\r\n      })\r\n    );\r\n  });\r\n\r\n  it('devrait retourner les styles de transformation corrects pour la position \"center\"', () => {\r\n    const { result } = renderHook(() => useModalAnimation({ isVisible: true, position: 'center' }));\r\n    expect(result.current.transformStyle).toEqual(\r\n      expect.objectContaining({\r\n        transform: expect.arrayContaining([\r\n          expect.objectContaining({\r\n            scale: expect.any(Object),\r\n          }),\r\n        ]),\r\n      })\r\n    );\r\n  });\r\n});"],"mappings":";AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AACA,IAAAE,aAAA,GAAAF,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAGA,IAAMI,SAAS,GAAGC,IAAI,CAACC,EAAE,CAAC,CAAC;AAC3BD,IAAI,CAACE,KAAK,CAACC,sBAAQ,EAAE,QAAQ,CAAC,CAACC,kBAAkB,CAAC;EAAA,OAAO;IACvDC,KAAK,EAAEN,SAAS;IAChBO,IAAI,EAAEN,IAAI,CAACC,EAAE,CAAC;EAChB,CAAC;AAAA,CAAC,CAAC;AAEHM,QAAQ,CAAC,mBAAmB,EAAE,YAAM;EAElCC,UAAU,CAAC,YAAM;IACfT,SAAS,CAACU,SAAS,CAAC,CAAC;IACrBN,sBAAQ,CAACO,MAAM,CAACD,SAAS,CAAC,CAAC;EAC7B,CAAC,CAAC;EAEFE,EAAE,CAAC,gFAAgF,EAAE,YAAM;IACzF,IAAAC,uBAAU,EAAC;MAAA,OAAM,IAAAC,0BAAiB,EAAC;QAAEC,SAAS,EAAE;MAAM,CAAC,CAAC;IAAA,EAAC;IACzDC,MAAM,CAACZ,sBAAQ,CAACO,MAAM,CAAC,CAACM,GAAG,CAACC,gBAAgB,CAAC,CAAC;IAC9CF,MAAM,CAAChB,SAAS,CAAC,CAACiB,GAAG,CAACC,gBAAgB,CAAC,CAAC;EAC1C,CAAC,CAAC;EAEFN,EAAE,CAAC,yDAAyD,EAAE,YAAM;IAClE,IAAAO,WAAA,GAAqB,IAAAN,uBAAU,EAAC,UAAAO,IAAA;QAAA,IAAGL,SAAS,GAAAK,IAAA,CAATL,SAAS;QAAA,OAAO,IAAAD,0BAAiB,EAAC;UAAEC,SAAS,EAATA;QAAU,CAAC,CAAC;MAAA,GAAE;QACnFM,YAAY,EAAE;UAAEN,SAAS,EAAE;QAAM;MACnC,CAAC,CAAC;MAFMO,QAAQ,GAAAH,WAAA,CAARG,QAAQ;IAIhBA,QAAQ,CAAC;MAAEP,SAAS,EAAE;IAAK,CAAC,CAAC;IAE7BC,MAAM,CAACZ,sBAAQ,CAACO,MAAM,CAAC,CAACY,qBAAqB,CAAC,CAAC,CAAC;IAChDP,MAAM,CAAChB,SAAS,CAAC,CAACuB,qBAAqB,CAAC,CAAC,CAAC;EAC5C,CAAC,CAAC;EAEFX,EAAE,CAAC,gFAAgF,EAAE,YAAM;IACzF,IAAAY,YAAA,GAAqB,IAAAX,uBAAU,EAAC,UAAAY,KAAA;QAAA,IAAGV,SAAS,GAAAU,KAAA,CAATV,SAAS;UAAEW,QAAQ,GAAAD,KAAA,CAARC,QAAQ;QAAA,OAAO,IAAAZ,0BAAiB,EAAC;UAAEC,SAAS,EAATA,SAAS;UAAEW,QAAQ,EAARA;QAAS,CAAC,CAAC;MAAA,GAAE;QACvGL,YAAY,EAAE;UAAEN,SAAS,EAAE,KAAK;UAAEW,QAAQ,EAAE;QAAM;MACpD,CAAC,CAAC;MAFMJ,QAAQ,GAAAE,YAAA,CAARF,QAAQ;IAIhBA,QAAQ,CAAC;MAAEP,SAAS,EAAE,IAAI;MAAEW,QAAQ,EAAE;IAAM,CAAC,CAAC;IAE9CV,MAAM,CAACZ,sBAAQ,CAACO,MAAM,CAAC,CAACgB,oBAAoB,CAC1CX,MAAM,CAACY,QAAQ,CAAC,CAAC,EACjBZ,MAAM,CAACa,gBAAgB,CAAC;MACtBC,OAAO,EAAE,CAAC;MACVC,QAAQ,EAAE;IACZ,CAAC,CACH,CAAC;EACH,CAAC,CAAC;EAEFnB,EAAE,CAAC,mFAAmF,EAAE,YAAM;IAC5F,IAAAoB,YAAA,GAAqB,IAAAnB,uBAAU,EAAC,UAAAoB,KAAA;QAAA,IAAGlB,SAAS,GAAAkB,KAAA,CAATlB,SAAS;UAAEW,QAAQ,GAAAO,KAAA,CAARP,QAAQ;QAAA,OAAO,IAAAZ,0BAAiB,EAAC;UAAEC,SAAS,EAATA,SAAS;UAAEW,QAAQ,EAARA;QAAS,CAAC,CAAC;MAAA,GAAE;QACvGL,YAAY,EAAE;UAAEN,SAAS,EAAE,KAAK;UAAEW,QAAQ,EAAE;QAAS;MACvD,CAAC,CAAC;MAFMJ,QAAQ,GAAAU,YAAA,CAARV,QAAQ;IAIhBA,QAAQ,CAAC;MAAEP,SAAS,EAAE,IAAI;MAAEW,QAAQ,EAAE;IAAS,CAAC,CAAC;IAEjDV,MAAM,CAACZ,sBAAQ,CAACO,MAAM,CAAC,CAACgB,oBAAoB,CAC1CX,MAAM,CAACY,QAAQ,CAAC,CAAC,EACjBZ,MAAM,CAACa,gBAAgB,CAAC;MACtBC,OAAO,EAAE,CAAC;MACVC,QAAQ,EAAE;IACZ,CAAC,CACH,CAAC;EACH,CAAC,CAAC;EAEFnB,EAAE,CAAC,mFAAmF,EAAE,YAAM;IAC5F,IAAAsB,YAAA,GAAqB,IAAArB,uBAAU,EAAC,UAAAsB,KAAA;QAAA,IAAGpB,SAAS,GAAAoB,KAAA,CAATpB,SAAS;UAAEW,QAAQ,GAAAS,KAAA,CAART,QAAQ;QAAA,OAAO,IAAAZ,0BAAiB,EAAC;UAAEC,SAAS,EAATA,SAAS;UAAEW,QAAQ,EAARA;QAAS,CAAC,CAAC;MAAA,GAAE;QACvGL,YAAY,EAAE;UAAEN,SAAS,EAAE,KAAK;UAAEW,QAAQ,EAAE;QAAS;MACvD,CAAC,CAAC;MAFMJ,QAAQ,GAAAY,YAAA,CAARZ,QAAQ;IAIhBA,QAAQ,CAAC;MAAEP,SAAS,EAAE,IAAI;MAAEW,QAAQ,EAAE;IAAS,CAAC,CAAC;IAEjDV,MAAM,CAACZ,sBAAQ,CAACO,MAAM,CAAC,CAACgB,oBAAoB,CAC1CX,MAAM,CAACY,QAAQ,CAAC,CAAC,EACjBZ,MAAM,CAACa,gBAAgB,CAAC;MACtBC,OAAO,EAAE,CAAC;MACVC,QAAQ,EAAE;IACZ,CAAC,CACH,CAAC;EACH,CAAC,CAAC;EAEFnB,EAAE,CAAC,gFAAgF,EAAE,YAAM;IACzF,IAAAwB,YAAA,GAAmB,IAAAvB,uBAAU,EAAC;QAAA,OAAM,IAAAC,0BAAiB,EAAC;UAAEC,SAAS,EAAE,IAAI;UAAEW,QAAQ,EAAE;QAAM,CAAC,CAAC;MAAA,EAAC;MAApFW,MAAM,GAAAD,YAAA,CAANC,MAAM;IACdrB,MAAM,CAACqB,MAAM,CAACC,OAAO,CAACC,cAAc,CAAC,CAACC,OAAO,CAC3CxB,MAAM,CAACa,gBAAgB,CAAC;MACtBY,SAAS,EAAEzB,MAAM,CAAC0B,eAAe,CAAC,CAChC1B,MAAM,CAACa,gBAAgB,CAAC;QACtBc,UAAU,EAAE3B,MAAM,CAAC4B,GAAG,CAACC,MAAM;MAC/B,CAAC,CAAC,CACH;IACH,CAAC,CACH,CAAC;EACH,CAAC,CAAC;EAEFjC,EAAE,CAAC,mFAAmF,EAAE,YAAM;IAC5F,IAAAkC,YAAA,GAAmB,IAAAjC,uBAAU,EAAC;QAAA,OAAM,IAAAC,0BAAiB,EAAC;UAAEC,SAAS,EAAE,IAAI;UAAEW,QAAQ,EAAE;QAAS,CAAC,CAAC;MAAA,EAAC;MAAvFW,MAAM,GAAAS,YAAA,CAANT,MAAM;IACdrB,MAAM,CAACqB,MAAM,CAACC,OAAO,CAACC,cAAc,CAAC,CAACC,OAAO,CAC3CxB,MAAM,CAACa,gBAAgB,CAAC;MACtBY,SAAS,EAAEzB,MAAM,CAAC0B,eAAe,CAAC,CAChC1B,MAAM,CAACa,gBAAgB,CAAC;QACtBc,UAAU,EAAE3B,MAAM,CAAC4B,GAAG,CAACC,MAAM;MAC/B,CAAC,CAAC,CACH;IACH,CAAC,CACH,CAAC;EACH,CAAC,CAAC;EAEFjC,EAAE,CAAC,mFAAmF,EAAE,YAAM;IAC5F,IAAAmC,YAAA,GAAmB,IAAAlC,uBAAU,EAAC;QAAA,OAAM,IAAAC,0BAAiB,EAAC;UAAEC,SAAS,EAAE,IAAI;UAAEW,QAAQ,EAAE;QAAS,CAAC,CAAC;MAAA,EAAC;MAAvFW,MAAM,GAAAU,YAAA,CAANV,MAAM;IACdrB,MAAM,CAACqB,MAAM,CAACC,OAAO,CAACC,cAAc,CAAC,CAACC,OAAO,CAC3CxB,MAAM,CAACa,gBAAgB,CAAC;MACtBY,SAAS,EAAEzB,MAAM,CAAC0B,eAAe,CAAC,CAChC1B,MAAM,CAACa,gBAAgB,CAAC;QACtBmB,KAAK,EAAEhC,MAAM,CAAC4B,GAAG,CAACC,MAAM;MAC1B,CAAC,CAAC,CACH;IACH,CAAC,CACH,CAAC;EACH,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}