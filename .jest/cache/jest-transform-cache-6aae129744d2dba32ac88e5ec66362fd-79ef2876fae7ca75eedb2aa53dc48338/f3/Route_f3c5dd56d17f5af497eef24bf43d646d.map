{"version":3,"names":["react_1","__importStar","require","matchers_1","sortRoutes_1","Object","defineProperty","exports","enumerable","get","sortRoutesWithInitial","sortRoutes","CurrentRouteContext","default","createContext","LocalRouteParamsContext","process","env","NODE_ENV","displayName","useRouteNode","useContext","useContextKey","node","Error","getContextKey","contextKey","Route","_ref","children","route","_jsxRuntime","jsx","Provider","value","params"],"sources":["../src/Route.tsx"],"sourcesContent":["'use client';\n\nimport React, { ReactNode, useContext } from 'react';\n\nimport type { ErrorBoundaryProps } from './exports';\nimport { getContextKey } from './matchers';\nimport { sortRoutesWithInitial, sortRoutes } from './sortRoutes';\n\nexport type DynamicConvention = { name: string; deep: boolean; notFound?: boolean };\n\nexport type LoadedRoute = {\n  ErrorBoundary?: React.ComponentType<ErrorBoundaryProps>;\n  default?: React.ComponentType<any>;\n  unstable_settings?: Record<string, any>;\n  getNavOptions?: (args: any) => any;\n  generateStaticParams?: (props: {\n    params?: Record<string, string | string[]>;\n  }) => Record<string, string | string[]>[];\n};\n\nexport type RouteNode = {\n  /** The type of RouteNode */\n  type: 'route' | 'api' | 'layout';\n  /** Load a route into memory. Returns the exports from a route. */\n  loadRoute: () => Partial<LoadedRoute>;\n  /** Loaded initial route name. */\n  initialRouteName?: string;\n  /** nested routes */\n  children: RouteNode[];\n  /** Is the route a dynamic path */\n  dynamic: null | DynamicConvention[];\n  /** `index`, `error-boundary`, etc. */\n  route: string;\n  /** Context Module ID, used for matching children. */\n  contextKey: string;\n  /** Added in-memory */\n  generated?: boolean;\n  /** Internal screens like the directory or the auto 404 should be marked as internal. */\n  internal?: boolean;\n  /** File paths for async entry modules that should be included in the initial chunk request to ensure the runtime JavaScript matches the statically rendered HTML representation. */\n  entryPoints?: string[];\n};\n\nconst CurrentRouteContext = React.createContext<RouteNode | null>(null);\nexport const LocalRouteParamsContext = React.createContext<\n  Record<string, string | undefined> | undefined\n>({});\n\nif (process.env.NODE_ENV !== 'production') {\n  CurrentRouteContext.displayName = 'RouteNode';\n}\n\n/** Return the RouteNode at the current contextual boundary. */\nexport function useRouteNode(): RouteNode | null {\n  return useContext(CurrentRouteContext);\n}\n\nexport function useContextKey(): string {\n  const node = useRouteNode();\n  if (node == null) {\n    throw new Error('No filename found. This is likely a bug in expo-router.');\n  }\n  return getContextKey(node.contextKey);\n}\n\n/** Provides the matching routes and filename to the children. */\nexport function Route({\n  children,\n  node,\n  route,\n}: {\n  children: ReactNode;\n  node: RouteNode;\n  route?: { params: Record<string, string | undefined> };\n}) {\n  return (\n    <LocalRouteParamsContext.Provider value={route?.params}>\n      <CurrentRouteContext.Provider value={node}>{children}</CurrentRouteContext.Provider>\n    </LocalRouteParamsContext.Provider>\n  );\n}\n\nexport { sortRoutesWithInitial, sortRoutes };\n"],"mappings":"AAAA,YAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEZ,IAAAA,OAAA,GAAAC,YAAA,CAAAC,OAAA;AAGA,IAAAC,UAAA,GAAAD,OAAA;AACA,IAAAE,YAAA,GAAAF,OAAA;AA4ESG,MAAA,CAAAC,cAAA,CAAAC,OAAA;EAAAC,UAAA;EAAAC,GAAA,WAAAA,IAAA;IAAA,OA5EAL,YAAA,CAAAM,qBAAqB;EAAA;AAAA;AA4EEL,MAAA,CAAAC,cAAA,CAAAC,OAAA;EAAAC,UAAA;EAAAC,GAAA,WAAAA,IAAA;IAAA,OA5EAL,YAAA,CAAAO,UAAU;EAAA;AAAA;AAqC1C,IAAMC,mBAAmB,GAAGZ,OAAA,CAAAa,OAAK,CAACC,aAAa,CAAmB,IAAI,CAAC;AAC1DP,OAAA,CAAAQ,uBAAuB,GAAGf,OAAA,CAAAa,OAAK,CAACC,aAAa,CAExD,EAAE,CAAC;AAEL,IAAIE,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;EACzCN,mBAAmB,CAACO,WAAW,GAAG,WAAW;;AAI/C,SAAgBC,YAAYA,CAAA;EAC1B,OAAO,IAAApB,OAAA,CAAAqB,UAAU,EAACT,mBAAmB,CAAC;AACxC;AAFAL,OAAA,CAAAa,YAAA,GAAAA,YAAA;AAIA,SAAgBE,aAAaA,CAAA;EAC3B,IAAMC,IAAI,GAAGH,YAAY,EAAE;EAC3B,IAAIG,IAAI,IAAI,IAAI,EAAE;IAChB,MAAM,IAAIC,KAAK,CAAC,yDAAyD,CAAC;;EAE5E,OAAO,IAAArB,UAAA,CAAAsB,aAAa,EAACF,IAAI,CAACG,UAAU,CAAC;AACvC;AANAnB,OAAA,CAAAe,aAAA,GAAAA,aAAA;AASA,SAAgBK,KAAKA,CAAAC,IAAA,EAQpB;EAAA,IAPCC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;IACRN,IAAI,GAAAK,IAAA,CAAJL,IAAI;IACJO,KAAK,GAAAF,IAAA,CAALE,KAAK;EAML,OACE,IAAAC,WAAA,CAAAC,GAAA,EAACzB,OAAA,CAAAQ,uBAAuB,CAACkB,QAAQ;IAACC,KAAK,EAAEJ,KAAK,oBAALA,KAAK,CAAEK,MAAO;IAAAN,QAAA,EACrD,IAAAE,WAAA,CAAAC,GAAA,EAACpB,mBAAmB,CAACqB,QAAQ;MAACC,KAAK,EAAEX,IAAK;MAAAM,QAAA,EAAEA;IAAQ,CAA+B;EACrF,CAAkC,CAAC;AAEvC;AAdAtB,OAAA,CAAAoB,KAAA,GAAAA,KAAA","ignoreList":[]}