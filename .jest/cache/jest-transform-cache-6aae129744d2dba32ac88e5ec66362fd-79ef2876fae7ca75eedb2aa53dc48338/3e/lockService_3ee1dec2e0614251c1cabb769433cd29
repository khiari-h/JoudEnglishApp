d49137790c49da5b73068978c83ea17f
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.disableLock = disableLock;
exports.emergencyReset = emergencyReset;
exports.enableLock = enableLock;
exports.generateRecoveryCode = generateRecoveryCode;
exports.getAutoLockTimeout = getAutoLockTimeout;
exports.isBiometricsEnabled = isBiometricsEnabled;
exports.isEnabled = isEnabled;
exports.lockStorageKeys = void 0;
exports.setAutoLockTimeout = setAutoLockTimeout;
exports.setBiometricsEnabled = setBiometricsEnabled;
exports.setPin = setPin;
exports.setRecoveryCode = setRecoveryCode;
exports.unlockWithBiometrics = unlockWithBiometrics;
exports.verifyPin = verifyPin;
exports.verifyRecovery = verifyRecovery;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var STORAGE_KEYS = {
  ENABLED: 'app_lock.enabled',
  PIN_HASH: 'app_lock.pin_hash',
  PIN_SALT: 'app_lock.pin_salt',
  BIO_ENABLED: 'app_lock.bio_enabled',
  RECOVERY_HASH: 'app_lock.recovery_hash',
  TIMEOUT_SECONDS: 'app_lock.timeout_seconds',
  LOCKOUT_UNTIL: 'app_lock.lockout_until',
  FAILED_ATTEMPTS: 'app_lock.failed_attempts'
};
function simpleHash(input) {
  var hash = 0;
  var str = String(input);
  for (var i = 0; i < str.length; i += 1) {
    hash = (hash << 5) - hash + str.charCodeAt(i);
    hash |= 0;
  }
  return Math.abs(hash).toString(16);
}
function getSecureRandomBytes(_x) {
  return _getSecureRandomBytes.apply(this, arguments);
}
function _getSecureRandomBytes() {
  _getSecureRandomBytes = (0, _asyncToGenerator2.default)(function* (length) {
    try {
      if (typeof require !== 'undefined') {
        try {
          var _require = require('expo-crypto'),
            getRandomBytes = _require.getRandomBytes;
          return yield getRandomBytes(length);
        } catch (expoError) {
          console.warn('expo-crypto not available:', expoError.message);
        }
      }
      try {
        if (typeof crypto !== 'undefined' && crypto.getRandomValues) {
          var randomValues = new Uint8Array(length);
          crypto.getRandomValues(randomValues);
          return randomValues;
        }
      } catch (webCryptoError) {
        console.warn('Web Crypto API failed:', webCryptoError);
      }
      try {
        if (typeof require !== 'undefined') {
          var nodeCrypto = require('crypto');
          return nodeCrypto.randomBytes(length);
        }
      } catch (nodeCryptoError) {
        console.warn('Node.js crypto failed:', nodeCryptoError);
      }
      throw new Error('No secure random source available');
    } catch (error) {
      console.warn('All secure random methods failed, using fallback:', error.message);
      throw error;
    }
  });
  return _getSecureRandomBytes.apply(this, arguments);
}
function secureRandomSalt() {
  return _secureRandomSalt.apply(this, arguments);
}
function _secureRandomSalt() {
  _secureRandomSalt = (0, _asyncToGenerator2.default)(function* () {
    var length = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 16;
    try {
      var randomBytes = yield getSecureRandomBytes(length);
      var chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
      var out = '';
      for (var i = 0; i < length; i += 1) {
        var randomIndex = randomBytes[i] % chars.length;
        out += chars[randomIndex];
      }
      return out;
    } catch (error) {
      console.warn('Secure random failed, using fallback method:', error.message);
      return fallbackRandomSalt(length);
    }
  });
  return _secureRandomSalt.apply(this, arguments);
}
function fallbackRandomSalt() {
  var length = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 16;
  var chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
  var out = '';
  for (var i = 0; i < length; i += 1) {
    var randomIndex = Math.floor(Math.random() * chars.length);
    out += chars[randomIndex];
  }
  return out;
}
function generateRecoveryCode() {
  return _generateRecoveryCode.apply(this, arguments);
}
function _generateRecoveryCode() {
  _generateRecoveryCode = (0, _asyncToGenerator2.default)(function* () {
    try {
      var randomBytes = yield getSecureRandomBytes(16);
      var chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
      var code = '';
      for (var i = 0; i < 16; i += 1) {
        var randomIndex = randomBytes[i] % chars.length;
        code += chars[randomIndex];
      }
      return code;
    } catch (error) {
      console.warn('Secure random failed, using fallback method:', error.message);
      return fallbackGenerateRecoveryCode();
    }
  });
  return _generateRecoveryCode.apply(this, arguments);
}
function fallbackGenerateRecoveryCode() {
  var chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
  var code = '';
  for (var i = 0; i < 16; i += 1) {
    var randomIndex = Math.floor(Math.random() * chars.length);
    code += chars[randomIndex];
  }
  return code;
}
function isEnabled() {
  return _isEnabled.apply(this, arguments);
}
function _isEnabled() {
  _isEnabled = (0, _asyncToGenerator2.default)(function* () {
    var enabled = yield _asyncStorage.default.getItem(STORAGE_KEYS.ENABLED);
    return enabled === '1';
  });
  return _isEnabled.apply(this, arguments);
}
function enableLock() {
  return _enableLock.apply(this, arguments);
}
function _enableLock() {
  _enableLock = (0, _asyncToGenerator2.default)(function* () {
    yield _asyncStorage.default.setItem(STORAGE_KEYS.ENABLED, '1');
    return true;
  });
  return _enableLock.apply(this, arguments);
}
function disableLock() {
  return _disableLock.apply(this, arguments);
}
function _disableLock() {
  _disableLock = (0, _asyncToGenerator2.default)(function* () {
    yield _asyncStorage.default.multiRemove([STORAGE_KEYS.ENABLED, STORAGE_KEYS.PIN_HASH, STORAGE_KEYS.PIN_SALT, STORAGE_KEYS.BIO_ENABLED, STORAGE_KEYS.RECOVERY_HASH, STORAGE_KEYS.TIMEOUT_SECONDS, STORAGE_KEYS.LOCKOUT_UNTIL, STORAGE_KEYS.FAILED_ATTEMPTS]);
    return true;
  });
  return _disableLock.apply(this, arguments);
}
function setPin(_x2) {
  return _setPin.apply(this, arguments);
}
function _setPin() {
  _setPin = (0, _asyncToGenerator2.default)(function* (pin) {
    var salt = yield secureRandomSalt();
    var pinHash = simpleHash(`${salt}:${pin}`);
    yield _asyncStorage.default.setItem(STORAGE_KEYS.PIN_SALT, salt);
    yield _asyncStorage.default.setItem(STORAGE_KEYS.PIN_HASH, pinHash);
    return true;
  });
  return _setPin.apply(this, arguments);
}
function verifyPin(_x3) {
  return _verifyPin.apply(this, arguments);
}
function _verifyPin() {
  _verifyPin = (0, _asyncToGenerator2.default)(function* (pin) {
    var lockoutUntil = Number((yield _asyncStorage.default.getItem(STORAGE_KEYS.LOCKOUT_UNTIL)) || '0');
    var now = Date.now();
    if (lockoutUntil && now < lockoutUntil) {
      return {
        ok: false,
        reason: 'lockout'
      };
    }
    var salt = yield _asyncStorage.default.getItem(STORAGE_KEYS.PIN_SALT);
    var expected = yield _asyncStorage.default.getItem(STORAGE_KEYS.PIN_HASH);
    if (!salt || !expected) return {
      ok: false
    };
    var given = simpleHash(`${salt}:${pin}`);
    var ok = given === expected;
    var attempts = Number((yield _asyncStorage.default.getItem(STORAGE_KEYS.FAILED_ATTEMPTS)) || '0');
    if (ok) {
      yield _asyncStorage.default.setItem(STORAGE_KEYS.FAILED_ATTEMPTS, '0');
      return {
        ok: true
      };
    }
    attempts += 1;
    yield _asyncStorage.default.setItem(STORAGE_KEYS.FAILED_ATTEMPTS, String(attempts));
    if (attempts >= 5) {
      var lockMs = 30000 * Math.min(4, attempts - 4);
      yield _asyncStorage.default.setItem(STORAGE_KEYS.LOCKOUT_UNTIL, String(now + lockMs));
      return {
        ok: false,
        reason: 'lockout'
      };
    }
    return {
      ok: false
    };
  });
  return _verifyPin.apply(this, arguments);
}
function setBiometricsEnabled(_x4) {
  return _setBiometricsEnabled.apply(this, arguments);
}
function _setBiometricsEnabled() {
  _setBiometricsEnabled = (0, _asyncToGenerator2.default)(function* (enabled) {
    yield _asyncStorage.default.setItem(STORAGE_KEYS.BIO_ENABLED, enabled ? '1' : '0');
    return true;
  });
  return _setBiometricsEnabled.apply(this, arguments);
}
function isBiometricsEnabled() {
  return _isBiometricsEnabled.apply(this, arguments);
}
function _isBiometricsEnabled() {
  _isBiometricsEnabled = (0, _asyncToGenerator2.default)(function* () {
    var v = yield _asyncStorage.default.getItem(STORAGE_KEYS.BIO_ENABLED);
    return v === '1';
  });
  return _isBiometricsEnabled.apply(this, arguments);
}
function unlockWithBiometrics() {
  return _unlockWithBiometrics.apply(this, arguments);
}
function _unlockWithBiometrics() {
  _unlockWithBiometrics = (0, _asyncToGenerator2.default)(function* () {
    var enabled = yield isBiometricsEnabled();
    if (!enabled) return {
      ok: false
    };
    return {
      ok: true
    };
  });
  return _unlockWithBiometrics.apply(this, arguments);
}
function setRecoveryCode(_x5) {
  return _setRecoveryCode.apply(this, arguments);
}
function _setRecoveryCode() {
  _setRecoveryCode = (0, _asyncToGenerator2.default)(function* (code) {
    var hash = simpleHash(code);
    yield _asyncStorage.default.setItem(STORAGE_KEYS.RECOVERY_HASH, hash);
    return true;
  });
  return _setRecoveryCode.apply(this, arguments);
}
function verifyRecovery(_x6) {
  return _verifyRecovery.apply(this, arguments);
}
function _verifyRecovery() {
  _verifyRecovery = (0, _asyncToGenerator2.default)(function* (code) {
    var expected = yield _asyncStorage.default.getItem(STORAGE_KEYS.RECOVERY_HASH);
    if (!expected) return false;
    return simpleHash(code) === expected;
  });
  return _verifyRecovery.apply(this, arguments);
}
function setAutoLockTimeout(_x7) {
  return _setAutoLockTimeout.apply(this, arguments);
}
function _setAutoLockTimeout() {
  _setAutoLockTimeout = (0, _asyncToGenerator2.default)(function* (seconds) {
    yield _asyncStorage.default.setItem(STORAGE_KEYS.TIMEOUT_SECONDS, String(seconds));
    return true;
  });
  return _setAutoLockTimeout.apply(this, arguments);
}
function getAutoLockTimeout() {
  return _getAutoLockTimeout.apply(this, arguments);
}
function _getAutoLockTimeout() {
  _getAutoLockTimeout = (0, _asyncToGenerator2.default)(function* () {
    return Number((yield _asyncStorage.default.getItem(STORAGE_KEYS.TIMEOUT_SECONDS)) || '0');
  });
  return _getAutoLockTimeout.apply(this, arguments);
}
function emergencyReset() {
  return _emergencyReset.apply(this, arguments);
}
function _emergencyReset() {
  _emergencyReset = (0, _asyncToGenerator2.default)(function* () {
    yield disableLock();
    return true;
  });
  return _emergencyReset.apply(this, arguments);
}
var lockStorageKeys = exports.lockStorageKeys = STORAGE_KEYS;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXN5bmNTdG9yYWdlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJTVE9SQUdFX0tFWVMiLCJFTkFCTEVEIiwiUElOX0hBU0giLCJQSU5fU0FMVCIsIkJJT19FTkFCTEVEIiwiUkVDT1ZFUllfSEFTSCIsIlRJTUVPVVRfU0VDT05EUyIsIkxPQ0tPVVRfVU5USUwiLCJGQUlMRURfQVRURU1QVFMiLCJzaW1wbGVIYXNoIiwiaW5wdXQiLCJoYXNoIiwic3RyIiwiU3RyaW5nIiwiaSIsImxlbmd0aCIsImNoYXJDb2RlQXQiLCJNYXRoIiwiYWJzIiwidG9TdHJpbmciLCJnZXRTZWN1cmVSYW5kb21CeXRlcyIsIl94IiwiX2dldFNlY3VyZVJhbmRvbUJ5dGVzIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJkZWZhdWx0IiwiX3JlcXVpcmUiLCJnZXRSYW5kb21CeXRlcyIsImV4cG9FcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwibWVzc2FnZSIsImNyeXB0byIsImdldFJhbmRvbVZhbHVlcyIsInJhbmRvbVZhbHVlcyIsIlVpbnQ4QXJyYXkiLCJ3ZWJDcnlwdG9FcnJvciIsIm5vZGVDcnlwdG8iLCJyYW5kb21CeXRlcyIsIm5vZGVDcnlwdG9FcnJvciIsIkVycm9yIiwiZXJyb3IiLCJzZWN1cmVSYW5kb21TYWx0IiwiX3NlY3VyZVJhbmRvbVNhbHQiLCJ1bmRlZmluZWQiLCJjaGFycyIsIm91dCIsInJhbmRvbUluZGV4IiwiZmFsbGJhY2tSYW5kb21TYWx0IiwiZmxvb3IiLCJyYW5kb20iLCJnZW5lcmF0ZVJlY292ZXJ5Q29kZSIsIl9nZW5lcmF0ZVJlY292ZXJ5Q29kZSIsImNvZGUiLCJmYWxsYmFja0dlbmVyYXRlUmVjb3ZlcnlDb2RlIiwiaXNFbmFibGVkIiwiX2lzRW5hYmxlZCIsImVuYWJsZWQiLCJBc3luY1N0b3JhZ2UiLCJnZXRJdGVtIiwiZW5hYmxlTG9jayIsIl9lbmFibGVMb2NrIiwic2V0SXRlbSIsImRpc2FibGVMb2NrIiwiX2Rpc2FibGVMb2NrIiwibXVsdGlSZW1vdmUiLCJzZXRQaW4iLCJfeDIiLCJfc2V0UGluIiwicGluIiwic2FsdCIsInBpbkhhc2giLCJ2ZXJpZnlQaW4iLCJfeDMiLCJfdmVyaWZ5UGluIiwibG9ja291dFVudGlsIiwiTnVtYmVyIiwibm93IiwiRGF0ZSIsIm9rIiwicmVhc29uIiwiZXhwZWN0ZWQiLCJnaXZlbiIsImF0dGVtcHRzIiwibG9ja01zIiwibWluIiwic2V0QmlvbWV0cmljc0VuYWJsZWQiLCJfeDQiLCJfc2V0QmlvbWV0cmljc0VuYWJsZWQiLCJpc0Jpb21ldHJpY3NFbmFibGVkIiwiX2lzQmlvbWV0cmljc0VuYWJsZWQiLCJ2IiwidW5sb2NrV2l0aEJpb21ldHJpY3MiLCJfdW5sb2NrV2l0aEJpb21ldHJpY3MiLCJzZXRSZWNvdmVyeUNvZGUiLCJfeDUiLCJfc2V0UmVjb3ZlcnlDb2RlIiwidmVyaWZ5UmVjb3ZlcnkiLCJfeDYiLCJfdmVyaWZ5UmVjb3ZlcnkiLCJzZXRBdXRvTG9ja1RpbWVvdXQiLCJfeDciLCJfc2V0QXV0b0xvY2tUaW1lb3V0Iiwic2Vjb25kcyIsImdldEF1dG9Mb2NrVGltZW91dCIsIl9nZXRBdXRvTG9ja1RpbWVvdXQiLCJlbWVyZ2VuY3lSZXNldCIsIl9lbWVyZ2VuY3lSZXNldCIsImxvY2tTdG9yYWdlS2V5cyIsImV4cG9ydHMiXSwic291cmNlcyI6WyJsb2NrU2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvc2VydmljZXMvbG9ja1NlcnZpY2UuanMgLSBTaW1wbGUgb2ZmbGluZSBhcHAgbG9jayBzZXJ2aWNlIChQSU4gKyByZWNvdmVyeSlcclxuaW1wb3J0IEFzeW5jU3RvcmFnZSBmcm9tICdAcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UvYXN5bmMtc3RvcmFnZSc7XHJcblxyXG5jb25zdCBTVE9SQUdFX0tFWVMgPSB7XHJcbiAgRU5BQkxFRDogJ2FwcF9sb2NrLmVuYWJsZWQnLFxyXG4gIFBJTl9IQVNIOiAnYXBwX2xvY2sucGluX2hhc2gnLFxyXG4gIFBJTl9TQUxUOiAnYXBwX2xvY2sucGluX3NhbHQnLFxyXG4gIEJJT19FTkFCTEVEOiAnYXBwX2xvY2suYmlvX2VuYWJsZWQnLFxyXG4gIFJFQ09WRVJZX0hBU0g6ICdhcHBfbG9jay5yZWNvdmVyeV9oYXNoJyxcclxuICBUSU1FT1VUX1NFQ09ORFM6ICdhcHBfbG9jay50aW1lb3V0X3NlY29uZHMnLFxyXG4gIExPQ0tPVVRfVU5USUw6ICdhcHBfbG9jay5sb2Nrb3V0X3VudGlsJyxcclxuICBGQUlMRURfQVRURU1QVFM6ICdhcHBfbG9jay5mYWlsZWRfYXR0ZW1wdHMnLFxyXG59O1xyXG5cclxuLy8gTk9URTogVGhpcyBpcyBub3QgY3J5cHRvZ3JhcGhpY2FsbHkgc3Ryb25nLiBGb3IgbG9jYWwgbG9jayBVWCBvbmx5LlxyXG5mdW5jdGlvbiBzaW1wbGVIYXNoKGlucHV0KSB7XHJcbiAgbGV0IGhhc2ggPSAwO1xyXG4gIGNvbnN0IHN0ciA9IFN0cmluZyhpbnB1dCk7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgIGhhc2ggPSAoaGFzaCA8PCA1KSAtIGhhc2ggKyBzdHIuY2hhckNvZGVBdChpKTtcclxuICAgIGhhc2ggfD0gMDtcclxuICB9XHJcbiAgcmV0dXJuIE1hdGguYWJzKGhhc2gpLnRvU3RyaW5nKDE2KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEfDqW7DqHJlIGRlcyBieXRlcyBhbMOpYXRvaXJlcyBjcnlwdG9ncmFwaGlxdWVtZW50IHPDu3JzXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggLSBOb21icmUgZGUgYnl0ZXMgw6AgZ8OpbsOpcmVyXHJcbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fSBCeXRlcyBhbMOpYXRvaXJlc1xyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gZ2V0U2VjdXJlUmFuZG9tQnl0ZXMobGVuZ3RoKSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIE3DqXRob2RlIDE6IGV4cG8tY3J5cHRvIChyZWNvbW1hbmTDqSkgLSBzZXVsZW1lbnQgc2kgZGlzcG9uaWJsZVxyXG4gICAgaWYgKHR5cGVvZiByZXF1aXJlICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgZ2V0UmFuZG9tQnl0ZXMgfSA9IHJlcXVpcmUoJ2V4cG8tY3J5cHRvJyk7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IGdldFJhbmRvbUJ5dGVzKGxlbmd0aCk7XHJcbiAgICAgIH0gY2F0Y2ggKGV4cG9FcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignZXhwby1jcnlwdG8gbm90IGF2YWlsYWJsZTonLCBleHBvRXJyb3IubWVzc2FnZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gTcOpdGhvZGUgMjogV2ViIENyeXB0byBBUElcclxuICAgICAgaWYgKHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcclxuICAgICAgICBjb25zdCByYW5kb21WYWx1ZXMgPSBuZXcgVWludDhBcnJheShsZW5ndGgpO1xyXG4gICAgICAgIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMocmFuZG9tVmFsdWVzKTtcclxuICAgICAgICByZXR1cm4gcmFuZG9tVmFsdWVzO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoICh3ZWJDcnlwdG9FcnJvcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1dlYiBDcnlwdG8gQVBJIGZhaWxlZDonLCB3ZWJDcnlwdG9FcnJvcik7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIE3DqXRob2RlIDM6IE5vZGUuanMgY3J5cHRvIChzaSBkaXNwb25pYmxlKVxyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKHR5cGVvZiByZXF1aXJlICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGNvbnN0IG5vZGVDcnlwdG8gPSByZXF1aXJlKCdjcnlwdG8nKTtcclxuICAgICAgICByZXR1cm4gbm9kZUNyeXB0by5yYW5kb21CeXRlcyhsZW5ndGgpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChub2RlQ3J5cHRvRXJyb3IpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdOb2RlLmpzIGNyeXB0byBmYWlsZWQ6Jywgbm9kZUNyeXB0b0Vycm9yKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdObyBzZWN1cmUgcmFuZG9tIHNvdXJjZSBhdmFpbGFibGUnKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS53YXJuKCdBbGwgc2VjdXJlIHJhbmRvbSBtZXRob2RzIGZhaWxlZCwgdXNpbmcgZmFsbGJhY2s6JywgZXJyb3IubWVzc2FnZSk7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHw6luw6hyZSB1biBzYWx0IGNyeXB0b2dyYXBoaXF1ZW1lbnQgc8O7clxyXG4gKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIC0gTG9uZ3VldXIgZHUgc2FsdCAoZMOpZmF1dDogMTYpXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFNhbHQgc8OpY3VyaXPDqVxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gc2VjdXJlUmFuZG9tU2FsdChsZW5ndGggPSAxNikge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByYW5kb21CeXRlcyA9IGF3YWl0IGdldFNlY3VyZVJhbmRvbUJ5dGVzKGxlbmd0aCk7XHJcbiAgICBjb25zdCBjaGFycyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMDEyMzQ1Njc4OSc7XHJcbiAgICBsZXQgb3V0ID0gJyc7XHJcbiAgICBcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgY29uc3QgcmFuZG9tSW5kZXggPSByYW5kb21CeXRlc1tpXSAlIGNoYXJzLmxlbmd0aDtcclxuICAgICAgb3V0ICs9IGNoYXJzW3JhbmRvbUluZGV4XTtcclxuICAgIH1cclxuICAgIHJldHVybiBvdXQ7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUud2FybignU2VjdXJlIHJhbmRvbSBmYWlsZWQsIHVzaW5nIGZhbGxiYWNrIG1ldGhvZDonLCBlcnJvci5tZXNzYWdlKTtcclxuICAgIC8vIERlcm5pZXIgcmVjb3VycyA6IG3DqXRob2RlIG1vaW5zIHPDqWN1cmlzw6llIG1haXMgZm9uY3Rpb25uZWxsZVxyXG4gICAgcmV0dXJuIGZhbGxiYWNrUmFuZG9tU2FsdChsZW5ndGgpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEZhbGxiYWNrIG1vaW5zIHPDqWN1cmlzw6kgKHV0aWxpc8OpIHVuaXF1ZW1lbnQgZW4gY2FzIGQnw6ljaGVjIGRlIHRvdXRlcyBsZXMgbcOpdGhvZGVzIHPDqWN1cmlzw6llcylcclxuICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCAtIExvbmd1ZXVyIGR1IHNhbHRcclxuICogQHJldHVybnMge3N0cmluZ30gU2FsdCBtb2lucyBzw6ljdXJpc8OpXHJcbiAqL1xyXG5mdW5jdGlvbiBmYWxsYmFja1JhbmRvbVNhbHQobGVuZ3RoID0gMTYpIHtcclxuICBjb25zdCBjaGFycyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMDEyMzQ1Njc4OSc7XHJcbiAgbGV0IG91dCA9ICcnO1xyXG4gIFxyXG4gIC8vIFV0aWxpc2UgTWF0aC5yYW5kb20gY29tbWUgZGVybmllciByZWNvdXJzXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgY29uc3QgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFycy5sZW5ndGgpO1xyXG4gICAgb3V0ICs9IGNoYXJzW3JhbmRvbUluZGV4XTtcclxuICB9XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEfDqW7DqHJlIHVuIGNvZGUgZGUgcsOpY3Vww6lyYXRpb24gY3J5cHRvZ3JhcGhpcXVlbWVudCBzw7tyXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IENvZGUgZGUgcsOpY3Vww6lyYXRpb24gc8OpY3VyaXPDqVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlUmVjb3ZlcnlDb2RlKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByYW5kb21CeXRlcyA9IGF3YWl0IGdldFNlY3VyZVJhbmRvbUJ5dGVzKDE2KTtcclxuICAgIGNvbnN0IGNoYXJzID0gJ0FCQ0RFRkdISktMTU5QUVJTVFVWV1hZWjIzNDU2Nzg5JztcclxuICAgIGxldCBjb2RlID0gJyc7XHJcbiAgICBcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkgKz0gMSkge1xyXG4gICAgICBjb25zdCByYW5kb21JbmRleCA9IHJhbmRvbUJ5dGVzW2ldICUgY2hhcnMubGVuZ3RoO1xyXG4gICAgICBjb2RlICs9IGNoYXJzW3JhbmRvbUluZGV4XTtcclxuICAgIH1cclxuICAgIHJldHVybiBjb2RlO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLndhcm4oJ1NlY3VyZSByYW5kb20gZmFpbGVkLCB1c2luZyBmYWxsYmFjayBtZXRob2Q6JywgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAvLyBEZXJuaWVyIHJlY291cnMgOiBtw6l0aG9kZSBtb2lucyBzw6ljdXJpc8OpZSBtYWlzIGZvbmN0aW9ubmVsbGVcclxuICAgIHJldHVybiBmYWxsYmFja0dlbmVyYXRlUmVjb3ZlcnlDb2RlKCk7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogRmFsbGJhY2sgbW9pbnMgc8OpY3VyaXPDqSBwb3VyIGxhIGfDqW7DqXJhdGlvbiBkZSBjb2RlIGRlIHLDqWN1cMOpcmF0aW9uXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IENvZGUgZGUgcsOpY3Vww6lyYXRpb24gbW9pbnMgc8OpY3VyaXPDqVxyXG4gKi9cclxuZnVuY3Rpb24gZmFsbGJhY2tHZW5lcmF0ZVJlY292ZXJ5Q29kZSgpIHtcclxuICBjb25zdCBjaGFycyA9ICdBQkNERUZHSEpLTE1OUFFSU1RVVldYWVoyMzQ1Njc4OSc7XHJcbiAgbGV0IGNvZGUgPSAnJztcclxuICBcclxuICAvLyBVdGlsaXNlIE1hdGgucmFuZG9tIGNvbW1lIGRlcm5pZXIgcmVjb3Vyc1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkgKz0gMSkge1xyXG4gICAgY29uc3QgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFycy5sZW5ndGgpO1xyXG4gICAgY29kZSArPSBjaGFyc1tyYW5kb21JbmRleF07XHJcbiAgfVxyXG4gIHJldHVybiBjb2RlO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaXNFbmFibGVkKCkge1xyXG4gIGNvbnN0IGVuYWJsZWQgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWVMuRU5BQkxFRCk7XHJcbiAgcmV0dXJuIGVuYWJsZWQgPT09ICcxJztcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuYWJsZUxvY2soKSB7XHJcbiAgYXdhaXQgQXN5bmNTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVlTLkVOQUJMRUQsICcxJyk7XHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaXNhYmxlTG9jaygpIHtcclxuICBhd2FpdCBBc3luY1N0b3JhZ2UubXVsdGlSZW1vdmUoW1xyXG4gICAgU1RPUkFHRV9LRVlTLkVOQUJMRUQsXHJcbiAgICBTVE9SQUdFX0tFWVMuUElOX0hBU0gsXHJcbiAgICBTVE9SQUdFX0tFWVMuUElOX1NBTFQsXHJcbiAgICBTVE9SQUdFX0tFWVMuQklPX0VOQUJMRUQsXHJcbiAgICBTVE9SQUdFX0tFWVMuUkVDT1ZFUllfSEFTSCxcclxuICAgIFNUT1JBR0VfS0VZUy5USU1FT1VUX1NFQ09ORFMsXHJcbiAgICBTVE9SQUdFX0tFWVMuTE9DS09VVF9VTlRJTCxcclxuICAgIFNUT1JBR0VfS0VZUy5GQUlMRURfQVRURU1QVFMsXHJcbiAgXSk7XHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRQaW4ocGluKSB7XHJcbiAgY29uc3Qgc2FsdCA9IGF3YWl0IHNlY3VyZVJhbmRvbVNhbHQoKTtcclxuICBjb25zdCBwaW5IYXNoID0gc2ltcGxlSGFzaChgJHtzYWx0fToke3Bpbn1gKTtcclxuICBhd2FpdCBBc3luY1N0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWVMuUElOX1NBTFQsIHNhbHQpO1xyXG4gIGF3YWl0IEFzeW5jU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZUy5QSU5fSEFTSCwgcGluSGFzaCk7XHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlQaW4ocGluKSB7XHJcbiAgY29uc3QgbG9ja291dFVudGlsID0gTnVtYmVyKGF3YWl0IEFzeW5jU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZUy5MT0NLT1VUX1VOVElMKSB8fCAnMCcpO1xyXG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgaWYgKGxvY2tvdXRVbnRpbCAmJiBub3cgPCBsb2Nrb3V0VW50aWwpIHtcclxuICAgIHJldHVybiB7IG9rOiBmYWxzZSwgcmVhc29uOiAnbG9ja291dCcgfTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHNhbHQgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWVMuUElOX1NBTFQpO1xyXG4gIGNvbnN0IGV4cGVjdGVkID0gYXdhaXQgQXN5bmNTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVlTLlBJTl9IQVNIKTtcclxuICBpZiAoIXNhbHQgfHwgIWV4cGVjdGVkKSByZXR1cm4geyBvazogZmFsc2UgfTtcclxuICBjb25zdCBnaXZlbiA9IHNpbXBsZUhhc2goYCR7c2FsdH06JHtwaW59YCk7XHJcbiAgY29uc3Qgb2sgPSBnaXZlbiA9PT0gZXhwZWN0ZWQ7XHJcblxyXG4gIGxldCBhdHRlbXB0cyA9IE51bWJlcihhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWVMuRkFJTEVEX0FUVEVNUFRTKSB8fCAnMCcpO1xyXG4gIGlmIChvaykge1xyXG4gICAgYXdhaXQgQXN5bmNTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVlTLkZBSUxFRF9BVFRFTVBUUywgJzAnKTtcclxuICAgIHJldHVybiB7IG9rOiB0cnVlIH07XHJcbiAgfVxyXG4gIGF0dGVtcHRzICs9IDE7XHJcbiAgYXdhaXQgQXN5bmNTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVlTLkZBSUxFRF9BVFRFTVBUUywgU3RyaW5nKGF0dGVtcHRzKSk7XHJcbiAgaWYgKGF0dGVtcHRzID49IDUpIHtcclxuICAgIGNvbnN0IGxvY2tNcyA9IDMwXzAwMCAqIE1hdGgubWluKDQsIGF0dGVtcHRzIC0gNCk7IC8vIDMwcywgNjBzLCA5MHMsIDEyMHNcclxuICAgIGF3YWl0IEFzeW5jU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZUy5MT0NLT1VUX1VOVElMLCBTdHJpbmcobm93ICsgbG9ja01zKSk7XHJcbiAgICByZXR1cm4geyBvazogZmFsc2UsIHJlYXNvbjogJ2xvY2tvdXQnIH07XHJcbiAgfVxyXG4gIHJldHVybiB7IG9rOiBmYWxzZSB9O1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2V0QmlvbWV0cmljc0VuYWJsZWQoZW5hYmxlZCkge1xyXG4gIGF3YWl0IEFzeW5jU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZUy5CSU9fRU5BQkxFRCwgZW5hYmxlZCA/ICcxJyA6ICcwJyk7XHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpc0Jpb21ldHJpY3NFbmFibGVkKCkge1xyXG4gIGNvbnN0IHYgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWVMuQklPX0VOQUJMRUQpO1xyXG4gIHJldHVybiB2ID09PSAnMSc7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1bmxvY2tXaXRoQmlvbWV0cmljcygpIHtcclxuICAvLyBQbGFjZWhvbGRlciBmb3IgcmVhbCBleHBvLWxvY2FsLWF1dGhlbnRpY2F0aW9uIGludGVncmF0aW9uXHJcbiAgY29uc3QgZW5hYmxlZCA9IGF3YWl0IGlzQmlvbWV0cmljc0VuYWJsZWQoKTtcclxuICBpZiAoIWVuYWJsZWQpIHJldHVybiB7IG9rOiBmYWxzZSB9O1xyXG4gIC8vIEluIHJlYWwgYXBwOiBwcm9tcHQgYmlvbWV0cmljIGFuZCByZXR1cm4gcmVzdWx0XHJcbiAgcmV0dXJuIHsgb2s6IHRydWUgfTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNldFJlY292ZXJ5Q29kZShjb2RlKSB7XHJcbiAgY29uc3QgaGFzaCA9IHNpbXBsZUhhc2goY29kZSk7XHJcbiAgYXdhaXQgQXN5bmNTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVlTLlJFQ09WRVJZX0hBU0gsIGhhc2gpO1xyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmVyaWZ5UmVjb3ZlcnkoY29kZSkge1xyXG4gIGNvbnN0IGV4cGVjdGVkID0gYXdhaXQgQXN5bmNTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVlTLlJFQ09WRVJZX0hBU0gpO1xyXG4gIGlmICghZXhwZWN0ZWQpIHJldHVybiBmYWxzZTtcclxuICByZXR1cm4gc2ltcGxlSGFzaChjb2RlKSA9PT0gZXhwZWN0ZWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRBdXRvTG9ja1RpbWVvdXQoc2Vjb25kcykge1xyXG4gIGF3YWl0IEFzeW5jU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZUy5USU1FT1VUX1NFQ09ORFMsIFN0cmluZyhzZWNvbmRzKSk7XHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBdXRvTG9ja1RpbWVvdXQoKSB7XHJcbiAgcmV0dXJuIE51bWJlcihhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWVMuVElNRU9VVF9TRUNPTkRTKSB8fCAnMCcpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZW1lcmdlbmN5UmVzZXQoKSB7XHJcbiAgYXdhaXQgZGlzYWJsZUxvY2soKTtcclxuICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGxvY2tTdG9yYWdlS2V5cyA9IFNUT1JBR0VfS0VZUztcclxuXHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsSUFBQUEsYUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBTUMsWUFBWSxHQUFHO0VBQ25CQyxPQUFPLEVBQUUsa0JBQWtCO0VBQzNCQyxRQUFRLEVBQUUsbUJBQW1CO0VBQzdCQyxRQUFRLEVBQUUsbUJBQW1CO0VBQzdCQyxXQUFXLEVBQUUsc0JBQXNCO0VBQ25DQyxhQUFhLEVBQUUsd0JBQXdCO0VBQ3ZDQyxlQUFlLEVBQUUsMEJBQTBCO0VBQzNDQyxhQUFhLEVBQUUsd0JBQXdCO0VBQ3ZDQyxlQUFlLEVBQUU7QUFDbkIsQ0FBQztBQUdELFNBQVNDLFVBQVVBLENBQUNDLEtBQUssRUFBRTtFQUN6QixJQUFJQyxJQUFJLEdBQUcsQ0FBQztFQUNaLElBQU1DLEdBQUcsR0FBR0MsTUFBTSxDQUFDSCxLQUFLLENBQUM7RUFDekIsS0FBSyxJQUFJSSxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdGLEdBQUcsQ0FBQ0csTUFBTSxFQUFFRCxDQUFDLElBQUksQ0FBQyxFQUFFO0lBQ3RDSCxJQUFJLEdBQUcsQ0FBQ0EsSUFBSSxJQUFJLENBQUMsSUFBSUEsSUFBSSxHQUFHQyxHQUFHLENBQUNJLFVBQVUsQ0FBQ0YsQ0FBQyxDQUFDO0lB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