9486c28415e4e1290a0f5c6dbebf2016
_getJestObj().mock('../../../src/hooks/useRevisionSettings');
_getJestObj().mock('expo-router', function () {
  return {
    router: {
      push: jest.fn()
    }
  };
});
_getJestObj().mock('@react-native-async-storage/async-storage', function () {
  return {
    getItem: jest.fn()
  };
});
_getJestObj().mock('../../../src/screens/Dashboard/components/popup/RevisionPopup', function () {
  var _require = require('react-native'),
    View = _require.View,
    Text = _require.Text,
    Button = _require.Button;
  return function (_ref) {
    var visible = _ref.visible,
      onChoice = _ref.onChoice,
      onDismiss = _ref.onDismiss,
      totalWordsLearned = _ref.totalWordsLearned,
      questionsCount = _ref.questionsCount;
    if (!visible) return null;
    return (0, _jsxRuntime.jsxs)(View, {
      testID: "revision-popup",
      children: [(0, _jsxRuntime.jsxs)(Text, {
        testID: "popup-words",
        children: ["Words: ", totalWordsLearned]
      }), (0, _jsxRuntime.jsxs)(Text, {
        testID: "popup-questions",
        children: ["Questions: ", questionsCount]
      }), (0, _jsxRuntime.jsx)(Button, {
        testID: "popup-now",
        title: "Now",
        onPress: function onPress() {
          return onChoice('now');
        }
      }), (0, _jsxRuntime.jsx)(Button, {
        testID: "popup-later50",
        title: "Later 50",
        onPress: function onPress() {
          return onChoice('later_50');
        }
      }), (0, _jsxRuntime.jsx)(Button, {
        testID: "popup-disable",
        title: "Disable",
        onPress: function onPress() {
          return onChoice('disable');
        }
      }), (0, _jsxRuntime.jsx)(Button, {
        testID: "popup-dismiss",
        title: "Dismiss",
        onPress: onDismiss
      })]
    });
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _RevisionOrchestrator = _interopRequireDefault(require("../../../src/screens/VocabularyRevision/RevisionOrchestrator"));
var RevisionSettingsHook = _interopRequireWildcard(require("../../../src/hooks/useRevisionSettings"));
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _expoRouter = require("expo-router");
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function _getJestObj() {
  var _require2 = require("@jest/globals"),
    jest = _require2.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('RevisionOrchestrator', function () {
  var mockUseRevisionSettings;
  beforeEach(function () {
    jest.clearAllMocks();
    jest.useFakeTimers();
    mockUseRevisionSettings = {
      preferences: {
        isDisabled: false,
        nextRevisionAt: 100,
        questionsCount: 10,
        frequency: 50
      },
      disableRevisions: jest.fn().mockResolvedValue(true),
      resetToNextTarget: jest.fn().mockResolvedValue(true),
      updatePreferences: jest.fn().mockResolvedValue(true)
    };
    RevisionSettingsHook.useRevisionSettings.mockReturnValue(mockUseRevisionSettings);
    _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify({
      completedWords: {
        unit1: ['a', 'b', 'c']
      }
    }));
  });
  afterEach(function () {
    jest.useRealTimers();
  });
  it('renders nothing if revisions are disabled', (0, _asyncToGenerator2.default)(function* () {
    mockUseRevisionSettings.preferences.isDisabled = true;
    RevisionSettingsHook.useRevisionSettings.mockReturnValue(mockUseRevisionSettings);
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      queryByText = _render.queryByText;
    yield (0, _reactNative.waitFor)(function () {
      return expect(_asyncStorage.default.getItem).toHaveBeenCalled();
    });
    expect((0, _reactNative.queryByTestId)('revision-popup')).toBeNull();
  }));
  it('does not show popup if word count is below threshold', (0, _asyncToGenerator2.default)(function* () {
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      queryByText = _render2.queryByText;
    yield (0, _reactNative.waitFor)(function () {
      return expect(_asyncStorage.default.getItem).toHaveBeenCalled();
    });
    jest.advanceTimersByTime(1500);
    expect((0, _reactNative.queryByTestId)('revision-popup')).toBeNull();
  }));
  it('shows the popup when word count reaches the threshold', (0, _asyncToGenerator2.default)(function* () {
    var words = Array.from({
      length: 120
    }, function (_, i) {
      return `word${i}`;
    });
    _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify({
      completedWords: {
        unit1: words
      }
    }));
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      findByText = _render3.findByText;
    jest.advanceTimersByTime(1500);
    var popup = yield findByText('RevisionPopup');
    expect(popup).toBeTruthy();
    expect(yield findByText('Words: 120')).toBeTruthy();
    expect(yield findByText('Questions: 10')).toBeTruthy();
  }));
  it('calls resetToNextTarget and navigates when "now" is chosen', (0, _asyncToGenerator2.default)(function* () {
    var words = Array.from({
      length: 120
    }, function (_, i) {
      return `word${i}`;
    });
    _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify({
      completedWords: {
        unit1: words
      }
    }));
    var _render4 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {
        currentLevel: "A1"
      })),
      findByText = _render4.findByText;
    jest.advanceTimersByTime(1500);
    var nowButton = yield findByText('Now');
    _reactNative.fireEvent.press(nowButton);
    yield (0, _reactNative.waitFor)(function () {
      expect(mockUseRevisionSettings.resetToNextTarget).toHaveBeenCalledWith(120);
      expect(_expoRouter.router.push).toHaveBeenCalledWith({
        pathname: "/tabs/vocabularyRevision",
        params: {
          level: "A1",
          questionsCount: 10,
          source: 'popup_trigger'
        }
      });
    });
  }));
  it('calls updatePreferences when "later_50" is chosen', (0, _asyncToGenerator2.default)(function* () {
    var words = Array.from({
      length: 120
    }, function (_, i) {
      return `word${i}`;
    });
    _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify({
      completedWords: {
        unit1: words
      }
    }));
    var _render5 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      findByText = _render5.findByText;
    jest.advanceTimersByTime(1500);
    var laterButton = yield (0, _reactNative.findByTestId)('popup-later50');
    _reactNative.fireEvent.press(laterButton);
    yield (0, _reactNative.waitFor)(function () {
      expect(mockUseRevisionSettings.updatePreferences).toHaveBeenCalledWith({
        nextRevisionAt: 170
      });
    });
  }));
  it('calls disableRevisions when "disable" is chosen', (0, _asyncToGenerator2.default)(function* () {
    var words = Array.from({
      length: 120
    }, function (_, i) {
      return `word${i}`;
    });
    _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify({
      completedWords: {
        unit1: words
      }
    }));
    var _render6 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      findByText = _render6.findByText;
    jest.advanceTimersByTime(1500);
    var disableButton = yield findByText('Disable');
    _reactNative.fireEvent.press(disableButton);
    yield (0, _reactNative.waitFor)(function () {
      expect(mockUseRevisionSettings.disableRevisions).toHaveBeenCalled();
    });
  }));
  it('handles dismiss by defaulting to "later_50"', (0, _asyncToGenerator2.default)(function* () {
    var words = Array.from({
      length: 120
    }, function (_, i) {
      return `word${i}`;
    });
    _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify({
      completedWords: {
        unit1: words
      }
    }));
    var _render7 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      findByText = _render7.findByText;
    jest.advanceTimersByTime(1500);
    var dismissButton = yield findByText('Dismiss');
    _reactNative.fireEvent.press(dismissButton);
    yield (0, _reactNative.waitFor)(function () {
      expect(mockUseRevisionSettings.updatePreferences).toHaveBeenCalledWith({
        nextRevisionAt: 170
      });
    });
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJyb3V0ZXIiLCJwdXNoIiwiamVzdCIsImZuIiwiZ2V0SXRlbSIsIl9yZXF1aXJlIiwicmVxdWlyZSIsIlZpZXciLCJUZXh0IiwiQnV0dG9uIiwiX3JlZiIsInZpc2libGUiLCJvbkNob2ljZSIsIm9uRGlzbWlzcyIsInRvdGFsV29yZHNMZWFybmVkIiwicXVlc3Rpb25zQ291bnQiLCJfanN4UnVudGltZSIsImpzeHMiLCJ0ZXN0SUQiLCJjaGlsZHJlbiIsImpzeCIsInRpdGxlIiwib25QcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVhY3QiLCJfcmVhY3ROYXRpdmUiLCJfUmV2aXNpb25PcmNoZXN0cmF0b3IiLCJSZXZpc2lvblNldHRpbmdzSG9vayIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX2FzeW5jU3RvcmFnZSIsIl9leHBvUm91dGVyIiwiZSIsInQiLCJXZWFrTWFwIiwiciIsIm4iLCJfX2VzTW9kdWxlIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiZGVmYXVsdCIsImhhcyIsImdldCIsInNldCIsIl90IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJfcmVxdWlyZTIiLCJkZXNjcmliZSIsIm1vY2tVc2VSZXZpc2lvblNldHRpbmdzIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJ1c2VGYWtlVGltZXJzIiwicHJlZmVyZW5jZXMiLCJpc0Rpc2FibGVkIiwibmV4dFJldmlzaW9uQXQiLCJmcmVxdWVuY3kiLCJkaXNhYmxlUmV2aXNpb25zIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJyZXNldFRvTmV4dFRhcmdldCIsInVwZGF0ZVByZWZlcmVuY2VzIiwidXNlUmV2aXNpb25TZXR0aW5ncyIsIm1vY2tSZXR1cm5WYWx1ZSIsIkFzeW5jU3RvcmFnZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb21wbGV0ZWRXb3JkcyIsInVuaXQxIiwiYWZ0ZXJFYWNoIiwidXNlUmVhbFRpbWVycyIsIml0IiwiX3JlbmRlciIsInJlbmRlciIsInF1ZXJ5QnlUZXh0Iiwid2FpdEZvciIsImV4cGVjdCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJxdWVyeUJ5VGVzdElkIiwidG9CZU51bGwiLCJfcmVuZGVyMiIsImFkdmFuY2VUaW1lcnNCeVRpbWUiLCJ3b3JkcyIsIkFycmF5IiwiZnJvbSIsImxlbmd0aCIsIl8iLCJfcmVuZGVyMyIsImZpbmRCeVRleHQiLCJwb3B1cCIsInRvQmVUcnV0aHkiLCJfcmVuZGVyNCIsImN1cnJlbnRMZXZlbCIsIm5vd0J1dHRvbiIsImZpcmVFdmVudCIsInByZXNzIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJwYXRobmFtZSIsInBhcmFtcyIsImxldmVsIiwic291cmNlIiwiX3JlbmRlcjUiLCJsYXRlckJ1dHRvbiIsImZpbmRCeVRlc3RJZCIsIl9yZW5kZXI2IiwiZGlzYWJsZUJ1dHRvbiIsIl9yZW5kZXI3IiwiZGlzbWlzc0J1dHRvbiJdLCJzb3VyY2VzIjpbIlJldmlzaW9uT3JjaGVzdHJhdG9yLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyLCB3YWl0Rm9yLCBmaXJlRXZlbnQsIHF1ZXJ5QnlUZXN0SWQsIGZpbmRCeVRlc3RJZCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtbmF0aXZlJztcbmltcG9ydCBSZXZpc2lvbk9yY2hlc3RyYXRvciBmcm9tICcuLi8uLi8uLi9zcmMvc2NyZWVucy9Wb2NhYnVsYXJ5UmV2aXNpb24vUmV2aXNpb25PcmNoZXN0cmF0b3InO1xuaW1wb3J0ICogYXMgUmV2aXNpb25TZXR0aW5nc0hvb2sgZnJvbSAnLi4vLi4vLi4vc3JjL2hvb2tzL3VzZVJldmlzaW9uU2V0dGluZ3MnO1xuaW1wb3J0IEFzeW5jU3RvcmFnZSBmcm9tICdAcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UvYXN5bmMtc3RvcmFnZSc7XG5pbXBvcnQgeyByb3V0ZXIgfSBmcm9tICdleHBvLXJvdXRlcic7XG5cbi8vIE1vY2tpbmcgZGVwZW5kZW5jaWVzXG5qZXN0Lm1vY2soJy4uLy4uLy4uL3NyYy9ob29rcy91c2VSZXZpc2lvblNldHRpbmdzJyk7XG5qZXN0Lm1vY2soJ2V4cG8tcm91dGVyJywgKCkgPT4gKHtcbiAgcm91dGVyOiB7XG4gICAgcHVzaDogamVzdC5mbigpLFxuICB9LFxufSkpO1xuamVzdC5tb2NrKCdAcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UvYXN5bmMtc3RvcmFnZScsICgpID0+ICh7XG4gIGdldEl0ZW06IGplc3QuZm4oKSxcbn0pKTtcblxuLy8gTW9jayBwb3VyIGxlIGNvbXBvc2FudCBQb3B1cCwgY2FyIG5vdXMgbmUgdGVzdG9ucyBwYXMgc29uIGltcGzDqW1lbnRhdGlvbiBpY2lcbmplc3QubW9jaygnLi4vLi4vLi4vc3JjL3NjcmVlbnMvRGFzaGJvYXJkL2NvbXBvbmVudHMvcG9wdXAvUmV2aXNpb25Qb3B1cCcsICgpID0+IHtcbiAgY29uc3QgeyBWaWV3LCBUZXh0LCBCdXR0b24gfSA9IHJlcXVpcmUoJ3JlYWN0LW5hdGl2ZScpOyAvLyBLZWVwIHJlcXVpcmUgZm9yIEJ1dHRvbiwgVmlldywgVGV4dFxuICByZXR1cm4gKHsgdmlzaWJsZSwgb25DaG9pY2UsIG9uRGlzbWlzcywgdG90YWxXb3Jkc0xlYXJuZWQsIHF1ZXN0aW9uc0NvdW50IH0pID0+IHtcbiAgICBpZiAoIXZpc2libGUpIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoXG4gICAgICA8VmlldyB0ZXN0SUQ9XCJyZXZpc2lvbi1wb3B1cFwiPlxuICAgICAgICA8VGV4dCB0ZXN0SUQ9XCJwb3B1cC13b3Jkc1wiPldvcmRzOiB7dG90YWxXb3Jkc0xlYXJuZWR9PC9UZXh0PlxuICAgICAgICA8VGV4dCB0ZXN0SUQ9XCJwb3B1cC1xdWVzdGlvbnNcIj5RdWVzdGlvbnM6IHtxdWVzdGlvbnNDb3VudH08L1RleHQ+XG4gICAgICAgIDxCdXR0b24gdGVzdElEPVwicG9wdXAtbm93XCIgdGl0bGU9XCJOb3dcIiBvblByZXNzPXsoKSA9PiBvbkNob2ljZSgnbm93Jyl9IC8+XG4gICAgICAgIDxCdXR0b24gdGVzdElEPVwicG9wdXAtbGF0ZXI1MFwiIHRpdGxlPVwiTGF0ZXIgNTBcIiBvblByZXNzPXsoKSA9PiBvbkNob2ljZSgnbGF0ZXJfNTAnKX0gLz5cbiAgICAgICAgPEJ1dHRvbiB0ZXN0SUQ9XCJwb3B1cC1kaXNhYmxlXCIgdGl0bGU9XCJEaXNhYmxlXCIgb25QcmVzcz17KCkgPT4gb25DaG9pY2UoJ2Rpc2FibGUnKX0gLz5cbiAgICAgICAgPEJ1dHRvbiB0ZXN0SUQ9XCJwb3B1cC1kaXNtaXNzXCIgdGl0bGU9XCJEaXNtaXNzXCIgb25QcmVzcz17b25EaXNtaXNzfSAvPlxuICAgICAgPC9WaWV3PlxuICAgICk7XG4gIH07XG59KTtcblxuZGVzY3JpYmUoJ1JldmlzaW9uT3JjaGVzdHJhdG9yJywgKCkgPT4ge1xuICBsZXQgbW9ja1VzZVJldmlzaW9uU2V0dGluZ3M7XG4gIFxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAvLyBSZXNldCBtb2NrcyBiZWZvcmUgZWFjaCB0ZXN0XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gICAgamVzdC51c2VGYWtlVGltZXJzKCk7XG5cbiAgICAvLyBEZWZhdWx0IG1vY2sgaW1wbGVtZW50YXRpb24gZm9yIHRoZSBob29rXG4gICAgbW9ja1VzZVJldmlzaW9uU2V0dGluZ3MgPSB7XG4gICAgICBwcmVmZXJlbmNlczoge1xuICAgICAgICBpc0Rpc2FibGVkOiBmYWxzZSxcbiAgICAgICAgbmV4dFJldmlzaW9uQXQ6IDEwMCxcbiAgICAgICAgcXVlc3Rpb25zQ291bnQ6IDEwLFxuICAgICAgICBmcmVxdWVuY3k6IDUwLFxuICAgICAgfSxcbiAgICAgIGRpc2FibGVSZXZpc2lvbnM6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh0cnVlKSxcbiAgICAgIHJlc2V0VG9OZXh0VGFyZ2V0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodHJ1ZSksXG4gICAgICB1cGRhdGVQcmVmZXJlbmNlczogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHRydWUpLFxuICAgIH07XG4gICAgUmV2aXNpb25TZXR0aW5nc0hvb2sudXNlUmV2aXNpb25TZXR0aW5ncy5tb2NrUmV0dXJuVmFsdWUobW9ja1VzZVJldmlzaW9uU2V0dGluZ3MpO1xuXG4gICAgLy8gRGVmYXVsdCBtb2NrIGZvciBBc3luY1N0b3JhZ2VcbiAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrUmVzb2x2ZWRWYWx1ZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICBjb21wbGV0ZWRXb3JkczogeyB1bml0MTogWydhJywgJ2InLCAnYyddIH0gLy8gMyB3b3Jkc1xuICAgIH0pKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBqZXN0LnVzZVJlYWxUaW1lcnMoKTtcbiAgfSk7XG5cbiAgaXQoJ3JlbmRlcnMgbm90aGluZyBpZiByZXZpc2lvbnMgYXJlIGRpc2FibGVkJywgYXN5bmMgKCkgPT4ge1xuICAgIG1vY2tVc2VSZXZpc2lvblNldHRpbmdzLnByZWZlcmVuY2VzLmlzRGlzYWJsZWQgPSB0cnVlO1xuICAgIFJldmlzaW9uU2V0dGluZ3NIb29rLnVzZVJldmlzaW9uU2V0dGluZ3MubW9ja1JldHVyblZhbHVlKG1vY2tVc2VSZXZpc2lvblNldHRpbmdzKTtcblxuICAgIGNvbnN0IHsgcXVlcnlCeVRleHQgfSA9IHJlbmRlcig8UmV2aXNpb25PcmNoZXN0cmF0b3IgLz4pO1xuICAgIFxuICAgIC8vIFdhaXQgZm9yIGFueSBwb3RlbnRpYWwgc3RhdGUgdXBkYXRlc1xuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4gZXhwZWN0KEFzeW5jU3RvcmFnZS5nZXRJdGVtKS50b0hhdmVCZWVuQ2FsbGVkKCkpO1xuXG4gICAgICAgIGV4cGVjdChxdWVyeUJ5VGVzdElkKCdyZXZpc2lvbi1wb3B1cCcpKS50b0JlTnVsbCgpO1xuICB9KTtcblxuICBpdCgnZG9lcyBub3Qgc2hvdyBwb3B1cCBpZiB3b3JkIGNvdW50IGlzIGJlbG93IHRocmVzaG9sZCcsIGFzeW5jICgpID0+IHtcbiAgICAvLyBUb3RhbCB3b3JkcyBpcyAzIChmcm9tIG1vY2spLCB0aHJlc2hvbGQgaXMgMTAwXG4gICAgY29uc3QgeyBxdWVyeUJ5VGV4dCB9ID0gcmVuZGVyKDxSZXZpc2lvbk9yY2hlc3RyYXRvciAvPik7XG4gICAgXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiBleHBlY3QoQXN5bmNTdG9yYWdlLmdldEl0ZW0pLnRvSGF2ZUJlZW5DYWxsZWQoKSk7XG4gICAgXG4gICAgLy8gQWR2YW5jZSB0aW1lcnMgdG8gdHJpZ2dlciBwb3RlbnRpYWwgcG9wdXBcbiAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMTUwMCk7XG5cbiAgICAgICAgZXhwZWN0KHF1ZXJ5QnlUZXN0SWQoJ3JldmlzaW9uLXBvcHVwJykpLnRvQmVOdWxsKCk7XG4gIH0pO1xuXG4gIGl0KCdzaG93cyB0aGUgcG9wdXAgd2hlbiB3b3JkIGNvdW50IHJlYWNoZXMgdGhlIHRocmVzaG9sZCcsIGFzeW5jICgpID0+IHtcbiAgICAvLyBTZXR1cCB3b3JkIGNvdW50IHRvIGJlIGFib3ZlIHRocmVzaG9sZFxuICAgIGNvbnN0IHdvcmRzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTIwIH0sIChfLCBpKSA9PiBgd29yZCR7aX1gKTtcbiAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrUmVzb2x2ZWRWYWx1ZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICBjb21wbGV0ZWRXb3JkczogeyB1bml0MTogd29yZHMgfVxuICAgIH0pKTtcblxuICAgIGNvbnN0IHsgZmluZEJ5VGV4dCB9ID0gcmVuZGVyKDxSZXZpc2lvbk9yY2hlc3RyYXRvciAvPik7XG4gICAgXG4gICAgLy8gQWR2YW5jZSB0aW1lcnMgdG8gdHJpZ2dlciB0aGUgcG9wdXAncyBhcHBlYXJhbmNlXG4gICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDE1MDApO1xuXG4gICAgY29uc3QgcG9wdXAgPSBhd2FpdCBmaW5kQnlUZXh0KCdSZXZpc2lvblBvcHVwJyk7XG4gICAgZXhwZWN0KHBvcHVwKS50b0JlVHJ1dGh5KCk7XG4gICAgZXhwZWN0KGF3YWl0IGZpbmRCeVRleHQoJ1dvcmRzOiAxMjAnKSkudG9CZVRydXRoeSgpO1xuICAgIGV4cGVjdChhd2FpdCBmaW5kQnlUZXh0KCdRdWVzdGlvbnM6IDEwJykpLnRvQmVUcnV0aHkoKTtcbiAgfSk7XG5cbiAgaXQoJ2NhbGxzIHJlc2V0VG9OZXh0VGFyZ2V0IGFuZCBuYXZpZ2F0ZXMgd2hlbiBcIm5vd1wiIGlzIGNob3NlbicsIGFzeW5jICgpID0+IHtcbiAgICAvLyBTZXR1cCB0byBzaG93IHBvcHVwXG4gICAgY29uc3Qgd29yZHMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMjAgfSwgKF8sIGkpID0+IGB3b3JkJHtpfWApO1xuICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tSZXNvbHZlZFZhbHVlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIGNvbXBsZXRlZFdvcmRzOiB7IHVuaXQxOiB3b3JkcyB9XG4gICAgfSkpO1xuXG4gICAgY29uc3QgeyBmaW5kQnlUZXh0IH0gPSByZW5kZXIoPFJldmlzaW9uT3JjaGVzdHJhdG9yIGN1cnJlbnRMZXZlbD1cIkExXCIgLz4pO1xuICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxNTAwKTtcblxuICAgIGNvbnN0IG5vd0J1dHRvbiA9IGF3YWl0IGZpbmRCeVRleHQoJ05vdycpO1xuICAgIGZpcmVFdmVudC5wcmVzcyhub3dCdXR0b24pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QobW9ja1VzZVJldmlzaW9uU2V0dGluZ3MucmVzZXRUb05leHRUYXJnZXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKDEyMCk7XG4gICAgICBleHBlY3Qocm91dGVyLnB1c2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgcGF0aG5hbWU6IFwiL3RhYnMvdm9jYWJ1bGFyeVJldmlzaW9uXCIsXG4gICAgICAgIHBhcmFtczoge1xuICAgICAgICAgIGxldmVsOiBcIkExXCIsXG4gICAgICAgICAgcXVlc3Rpb25zQ291bnQ6IDEwLFxuICAgICAgICAgIHNvdXJjZTogJ3BvcHVwX3RyaWdnZXInXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBpdCgnY2FsbHMgdXBkYXRlUHJlZmVyZW5jZXMgd2hlbiBcImxhdGVyXzUwXCIgaXMgY2hvc2VuJywgYXN5bmMgKCkgPT4ge1xuICAgIC8vIFNldHVwIHRvIHNob3cgcG9wdXBcbiAgICBjb25zdCB3b3JkcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEyMCB9LCAoXywgaSkgPT4gYHdvcmQke2l9YCk7XG4gICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1Jlc29sdmVkVmFsdWUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgY29tcGxldGVkV29yZHM6IHsgdW5pdDE6IHdvcmRzIH1cbiAgICB9KSk7XG5cbiAgICBjb25zdCB7IGZpbmRCeVRleHQgfSA9IHJlbmRlcig8UmV2aXNpb25PcmNoZXN0cmF0b3IgLz4pO1xuICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxNTAwKTtcblxuICAgIGNvbnN0IGxhdGVyQnV0dG9uID0gYXdhaXQgZmluZEJ5VGVzdElkKCdwb3B1cC1sYXRlcjUwJyk7XG4gICAgZmlyZUV2ZW50LnByZXNzKGxhdGVyQnV0dG9uKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KG1vY2tVc2VSZXZpc2lvblNldHRpbmdzLnVwZGF0ZVByZWZlcmVuY2VzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7IG5leHRSZXZpc2lvbkF0OiAxNzAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdjYWxscyBkaXNhYmxlUmV2aXNpb25zIHdoZW4gXCJkaXNhYmxlXCIgaXMgY2hvc2VuJywgYXN5bmMgKCkgPT4ge1xuICAgIC8vIFNldHVwIHRvIHNob3cgcG9wdXBcbiAgICBjb25zdCB3b3JkcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEyMCB9LCAoXywgaSkgPT4gYHdvcmQke2l9YCk7XG4gICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1Jlc29sdmVkVmFsdWUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgY29tcGxldGVkV29yZHM6IHsgdW5pdDE6IHdvcmRzIH1cbiAgICB9KSk7XG5cbiAgICBjb25zdCB7IGZpbmRCeVRleHQgfSA9IHJlbmRlcig8UmV2aXNpb25PcmNoZXN0cmF0b3IgLz4pO1xuICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxNTAwKTtcblxuICAgIGNvbnN0IGRpc2FibGVCdXR0b24gPSBhd2FpdCBmaW5kQnlUZXh0KCdEaXNhYmxlJyk7XG4gICAgZmlyZUV2ZW50LnByZXNzKGRpc2FibGVCdXR0b24pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QobW9ja1VzZVJldmlzaW9uU2V0dGluZ3MuZGlzYWJsZVJldmlzaW9ucykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBpdCgnaGFuZGxlcyBkaXNtaXNzIGJ5IGRlZmF1bHRpbmcgdG8gXCJsYXRlcl81MFwiJywgYXN5bmMgKCkgPT4ge1xuICAgIC8vIFNldHVwIHRvIHNob3cgcG9wdXBcbiAgICBjb25zdCB3b3JkcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEyMCB9LCAoXywgaSkgPT4gYHdvcmQke2l9YCk7XG4gICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1Jlc29sdmVkVmFsdWUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgY29tcGxldGVkV29yZHM6IHsgdW5pdDE6IHdvcmRzIH1cbiAgICB9KSk7XG5cbiAgICBjb25zdCB7IGZpbmRCeVRleHQgfSA9IHJlbmRlcig8UmV2aXNpb25PcmNoZXN0cmF0b3IgLz4pO1xuICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxNTAwKTtcblxuICAgIGNvbnN0IGRpc21pc3NCdXR0b24gPSBhd2FpdCBmaW5kQnlUZXh0KCdEaXNtaXNzJyk7XG4gICAgZmlyZUV2ZW50LnByZXNzKGRpc21pc3NCdXR0b24pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QobW9ja1VzZVJldmlzaW9uU2V0dGluZ3MudXBkYXRlUHJlZmVyZW5jZXMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHsgbmV4dFJldmlzaW9uQXQ6IDE3MCB9KTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBU0FBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLHdDQUF3QyxDQUFDO0FBQ25ERCxXQUFBLEdBQUtDLElBQUksQ0FBQyxhQUFhLEVBQUU7RUFBQSxPQUFPO0lBQzlCQyxNQUFNLEVBQUU7TUFDTkMsSUFBSSxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQztJQUNoQjtFQUNGLENBQUM7QUFBQSxDQUFDLENBQUM7QUFDSEwsV0FBQSxHQUFLQyxJQUFJLENBQUMsMkNBQTJDLEVBQUU7RUFBQSxPQUFPO0lBQzVESyxPQUFPLEVBQUVGLElBQUksQ0FBQ0MsRUFBRSxDQUFDO0VBQ25CLENBQUM7QUFBQSxDQUFDLENBQUM7QUFHSEwsV0FBQSxHQUFLQyxJQUFJLENBQUMsK0RBQStELEVBQUUsWUFBTTtFQUMvRSxJQUFBTSxRQUFBLEdBQStCQyxPQUFPLENBQUMsY0FBYyxDQUFDO0lBQTlDQyxJQUFJLEdBQUFGLFFBQUEsQ0FBSkUsSUFBSTtJQUFFQyxJQUFJLEdBQUFILFFBQUEsQ0FBSkcsSUFBSTtJQUFFQyxNQUFNLEdBQUFKLFFBQUEsQ0FBTkksTUFBTTtFQUMxQixPQUFPLFVBQUFDLElBQUEsRUFBeUU7SUFBQSxJQUF0RUMsT0FBTyxHQUFBRCxJQUFBLENBQVBDLE9BQU87TUFBRUMsUUFBUSxHQUFBRixJQUFBLENBQVJFLFFBQVE7TUFBRUMsU0FBUyxHQUFBSCxJQUFBLENBQVRHLFNBQVM7TUFBRUMsaUJBQWlCLEdBQUFKLElBQUEsQ0FBakJJLGlCQUFpQjtNQUFFQyxjQUFjLEdBQUFMLElBQUEsQ0FBZEssY0FBYztJQUN2RSxJQUFJLENBQUNKLE9BQU8sRUFBRSxPQUFPLElBQUk7SUFDekIsT0FDRSxJQUFBSyxXQUFBLENBQUFDLElBQUEsRUFBQ1YsSUFBSTtNQUFDVyxNQUFNLEVBQUMsZ0JBQWdCO01BQUFDLFFBQUEsR0FDM0IsSUFBQUgsV0FBQSxDQUFBQyxJQUFBLEVBQUNULElBQUk7UUFBQ1UsTUFBTSxFQUFDLGFBQWE7UUFBQUMsUUFBQSxHQUFDLFNBQU8sRUFBQ0wsaUJBQWlCO01BQUEsQ0FBTyxDQUFDLEVBQzVELElBQUFFLFdBQUEsQ0FBQUMsSUFBQSxFQUFDVCxJQUFJO1FBQUNVLE1BQU0sRUFBQyxpQkFBaUI7UUFBQUMsUUFBQSxHQUFDLGFBQVcsRUFBQ0osY0FBYztNQUFBLENBQU8sQ0FBQyxFQUNqRSxJQUFBQyxXQUFBLENBQUFJLEdBQUEsRUFBQ1gsTUFBTTtRQUFDUyxNQUFNLEVBQUMsV0FBVztRQUFDRyxLQUFLLEVBQUMsS0FBSztRQUFDQyxPQUFPLEVBQUUsU0FBVEEsT0FBT0EsQ0FBQTtVQUFBLE9BQVFWLFFBQVEsQ0FBQyxLQUFLLENBQUM7UUFBQTtNQUFDLENBQUUsQ0FBQyxFQUN6RSxJQUFBSSxXQUFBLENBQUFJLEdBQUEsRUFBQ1gsTUFBTTtRQUFDUyxNQUFNLEVBQUMsZUFBZTtRQUFDRyxLQUFLLEVBQUMsVUFBVTtRQUFDQyxPQUFPLEVBQUUsU0FBVEEsT0FBT0EsQ0FBQTtVQUFBLE9BQVFWLFFBQVEsQ0FBQyxVQUFVLENBQUM7UUFBQTtNQUFDLENBQUUsQ0FBQyxFQUN2RixJQUFBSSxXQUFBLENBQUFJLEdBQUEsRUFBQ1gsTUFBTTtRQUFDUyxNQUFNLEVBQUMsZUFBZTtRQUFDRyxLQUFLLEVBQUMsU0FBUztRQUFDQyxPQUFPLEVBQUUsU0FBVEEsT0FBT0EsQ0FBQTtVQUFBLE9BQVFWLFFBQVEsQ0FBQyxTQUFTLENBQUM7UUFBQTtNQUFDLENBQUUsQ0FBQyxFQUNyRixJQUFBSSxXQUFBLENBQUFJLEdBQUEsRUFBQ1gsTUFBTTtRQUFDUyxNQUFNLEVBQUMsZUFBZTtRQUFDRyxLQUFLLEVBQUMsU0FBUztRQUFDQyxPQUFPLEVBQUVUO01BQVUsQ0FBRSxDQUFDO0lBQUEsQ0FDakUsQ0FBQztFQUVYLENBQUM7QUFDSCxDQUFDLENBQUM7QUFBQyxJQUFBVSxzQkFBQSxHQUFBakIsT0FBQTtBQUFBLElBQUFrQixrQkFBQSxHQUFBRCxzQkFBQSxDQUFBakIsT0FBQTtBQWxDSCxJQUFBbUIsTUFBQSxHQUFBRixzQkFBQSxDQUFBakIsT0FBQTtBQUNBLElBQUFvQixZQUFBLEdBQUFwQixPQUFBO0FBQ0EsSUFBQXFCLHFCQUFBLEdBQUFKLHNCQUFBLENBQUFqQixPQUFBO0FBQ0EsSUFBQXNCLG9CQUFBLEdBQUFDLHVCQUFBLENBQUF2QixPQUFBO0FBQ0EsSUFBQXdCLGFBQUEsR0FBQVAsc0JBQUEsQ0FBQWpCLE9BQUE7QUFDQSxJQUFBeUIsV0FBQSxHQUFBekIsT0FBQTtBQUFxQyxJQUFBVSxXQUFBLEdBQUFWLE9BQUE7QUFBQSxTQUFBdUIsd0JBQUFHLENBQUEsRUFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxNQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFMLHVCQUFBLFlBQUFBLHdCQUFBRyxDQUFBLEVBQUFDLENBQUEsU0FBQUEsQ0FBQSxJQUFBRCxDQUFBLElBQUFBLENBQUEsQ0FBQUssVUFBQSxTQUFBTCxDQUFBLE1BQUFNLENBQUEsRUFBQUMsQ0FBQSxFQUFBQyxDQUFBLEtBQUFDLFNBQUEsUUFBQUMsT0FBQSxFQUFBVixDQUFBLGlCQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFNBQUFRLENBQUEsTUFBQUYsQ0FBQSxHQUFBTCxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxRQUFBRyxDQUFBLENBQUFLLEdBQUEsQ0FBQVgsQ0FBQSxVQUFBTSxDQUFBLENBQUFNLEdBQUEsQ0FBQVosQ0FBQSxHQUFBTSxDQUFBLENBQUFPLEdBQUEsQ0FBQWIsQ0FBQSxFQUFBUSxDQUFBLGNBQUFNLEVBQUEsSUFBQWQsQ0FBQSxnQkFBQWMsRUFBQSxPQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWhCLENBQUEsRUFBQWMsRUFBQSxPQUFBUCxDQUFBLElBQUFELENBQUEsR0FBQVcsTUFBQSxDQUFBQyxjQUFBLEtBQUFELE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQW5CLENBQUEsRUFBQWMsRUFBQSxPQUFBUCxDQUFBLENBQUFLLEdBQUEsSUFBQUwsQ0FBQSxDQUFBTSxHQUFBLElBQUFQLENBQUEsQ0FBQUUsQ0FBQSxFQUFBTSxFQUFBLEVBQUFQLENBQUEsSUFBQUMsQ0FBQSxDQUFBTSxFQUFBLElBQUFkLENBQUEsQ0FBQWMsRUFBQSxXQUFBTixDQUFBLEtBQUFSLENBQUEsRUFBQUMsQ0FBQTtBQUFBLFNBQUFuQyxZQUFBO0VBQUEsSUFBQXNELFNBQUEsR0FBQTlDLE9BQUE7SUFBQUosSUFBQSxHQUFBa0QsU0FBQSxDQUFBbEQsSUFBQTtFQUFBSixXQUFBLFlBQUFBLFlBQUE7SUFBQSxPQUFBSSxJQUFBO0VBQUE7RUFBQSxPQUFBQSxJQUFBO0FBQUE7QUErQnJDbUQsUUFBUSxDQUFDLHNCQUFzQixFQUFFLFlBQU07RUFDckMsSUFBSUMsdUJBQXVCO0VBRTNCQyxVQUFVLENBQUMsWUFBTTtJQUVmckQsSUFBSSxDQUFDc0QsYUFBYSxDQUFDLENBQUM7SUFDcEJ0RCxJQUFJLENBQUN1RCxhQUFhLENBQUMsQ0FBQztJQUdwQkgsdUJBQXVCLEdBQUc7TUFDeEJJLFdBQVcsRUFBRTtRQUNYQyxVQUFVLEVBQUUsS0FBSztRQUNqQkMsY0FBYyxFQUFFLEdBQUc7UUFDbkI3QyxjQUFjLEVBQUUsRUFBRTtRQUNsQjhDLFNBQVMsRUFBRTtNQUNiLENBQUM7TUFDREMsZ0JBQWdCLEVBQUU1RCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUM0RCxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7TUFDbkRDLGlCQUFpQixFQUFFOUQsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDNEQsaUJBQWlCLENBQUMsSUFBSSxDQUFDO01BQ3BERSxpQkFBaUIsRUFBRS9ELElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsQ0FBQzRELGlCQUFpQixDQUFDLElBQUk7SUFDckQsQ0FBQztJQUNEbkMsb0JBQW9CLENBQUNzQyxtQkFBbUIsQ0FBQ0MsZUFBZSxDQUFDYix1QkFBdUIsQ0FBQztJQUdqRmMscUJBQVksQ0FBQ2hFLE9BQU8sQ0FBQzJELGlCQUFpQixDQUFDTSxJQUFJLENBQUNDLFNBQVMsQ0FBQztNQUNwREMsY0FBYyxFQUFFO1FBQUVDLEtBQUssRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRztNQUFFO0lBQzNDLENBQUMsQ0FBQyxDQUFDO0VBQ0wsQ0FBQyxDQUFDO0VBRUZDLFNBQVMsQ0FBQyxZQUFNO0lBQ2R2RSxJQUFJLENBQUN3RSxhQUFhLENBQUMsQ0FBQztFQUN0QixDQUFDLENBQUM7RUFFRkMsRUFBRSxDQUFDLDJDQUEyQyxNQUFBbkQsa0JBQUEsQ0FBQWtCLE9BQUEsRUFBRSxhQUFZO0lBQzFEWSx1QkFBdUIsQ0FBQ0ksV0FBVyxDQUFDQyxVQUFVLEdBQUcsSUFBSTtJQUNyRC9CLG9CQUFvQixDQUFDc0MsbUJBQW1CLENBQUNDLGVBQWUsQ0FBQ2IsdUJBQXVCLENBQUM7SUFFakYsSUFBQXNCLE9BQUEsR0FBd0IsSUFBQUMsbUJBQU0sRUFBQyxJQUFBN0QsV0FBQSxDQUFBSSxHQUFBLEVBQUNPLHFCQUFBLENBQUFlLE9BQW9CLElBQUUsQ0FBQyxDQUFDO01BQWhEb0MsV0FBVyxHQUFBRixPQUFBLENBQVhFLFdBQVc7SUFHbkIsTUFBTSxJQUFBQyxvQkFBTyxFQUFDO01BQUEsT0FBTUMsTUFBTSxDQUFDWixxQkFBWSxDQUFDaEUsT0FBTyxDQUFDLENBQUM2RSxnQkFBZ0IsQ0FBQyxDQUFDO0lBQUEsRUFBQztJQUVoRUQsTUFBTSxDQUFDLElBQUFFLDBCQUFhLEVBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDQyxRQUFRLENBQUMsQ0FBQztFQUN4RCxDQUFDLEVBQUM7RUFFRlIsRUFBRSxDQUFDLHNEQUFzRCxNQUFBbkQsa0JBQUEsQ0FBQWtCLE9BQUEsRUFBRSxhQUFZO0lBRXJFLElBQUEwQyxRQUFBLEdBQXdCLElBQUFQLG1CQUFNLEVBQUMsSUFBQTdELFdBQUEsQ0FBQUksR0FBQSxFQUFDTyxxQkFBQSxDQUFBZSxPQUFvQixJQUFFLENBQUMsQ0FBQztNQUFoRG9DLFdBQVcsR0FBQU0sUUFBQSxDQUFYTixXQUFXO0lBRW5CLE1BQU0sSUFBQUMsb0JBQU8sRUFBQztNQUFBLE9BQU1DLE1BQU0sQ0FBQ1oscUJBQVksQ0FBQ2hFLE9BQU8sQ0FBQyxDQUFDNkUsZ0JBQWdCLENBQUMsQ0FBQztJQUFBLEVBQUM7SUFHcEUvRSxJQUFJLENBQUNtRixtQkFBbUIsQ0FBQyxJQUFJLENBQUM7SUFFMUJMLE1BQU0sQ0FBQyxJQUFBRSwwQkFBYSxFQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQ0MsUUFBUSxDQUFDLENBQUM7RUFDeEQsQ0FBQyxFQUFDO0VBRUZSLEVBQUUsQ0FBQyx1REFBdUQsTUFBQW5ELGtCQUFBLENBQUFrQixPQUFBLEVBQUUsYUFBWTtJQUV0RSxJQUFNNEMsS0FBSyxHQUFHQyxLQUFLLENBQUNDLElBQUksQ0FBQztNQUFFQyxNQUFNLEVBQUU7SUFBSSxDQUFDLEVBQUUsVUFBQ0MsQ0FBQyxFQUFFbkQsQ0FBQztNQUFBLE9BQUssT0FBT0EsQ0FBQyxFQUFFO0lBQUEsRUFBQztJQUMvRDZCLHFCQUFZLENBQUNoRSxPQUFPLENBQUMyRCxpQkFBaUIsQ0FBQ00sSUFBSSxDQUFDQyxTQUFTLENBQUM7TUFDcERDLGNBQWMsRUFBRTtRQUFFQyxLQUFLLEVBQUVjO01BQU07SUFDakMsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFBSyxRQUFBLEdBQXVCLElBQUFkLG1CQUFNLEVBQUMsSUFBQTdELFdBQUEsQ0FBQUksR0FBQSxFQUFDTyxxQkFBQSxDQUFBZSxPQUFvQixJQUFFLENBQUMsQ0FBQztNQUEvQ2tELFVBQVUsR0FBQUQsUUFBQSxDQUFWQyxVQUFVO0lBR2xCMUYsSUFBSSxDQUFDbUYsbUJBQW1CLENBQUMsSUFBSSxDQUFDO0lBRTlCLElBQU1RLEtBQUssU0FBU0QsVUFBVSxDQUFDLGVBQWUsQ0FBQztJQUMvQ1osTUFBTSxDQUFDYSxLQUFLLENBQUMsQ0FBQ0MsVUFBVSxDQUFDLENBQUM7SUFDMUJkLE1BQU0sT0FBT1ksVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUNFLFVBQVUsQ0FBQyxDQUFDO0lBQ25EZCxNQUFNLE9BQU9ZLFVBQVUsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDRSxVQUFVLENBQUMsQ0FBQztFQUN4RCxDQUFDLEVBQUM7RUFFRm5CLEVBQUUsQ0FBQyw0REFBNEQsTUFBQW5ELGtCQUFBLENBQUFrQixPQUFBLEVBQUUsYUFBWTtJQUUzRSxJQUFNNEMsS0FBSyxHQUFHQyxLQUFLLENBQUNDLElBQUksQ0FBQztNQUFFQyxNQUFNLEVBQUU7SUFBSSxDQUFDLEVBQUUsVUFBQ0MsQ0FBQyxFQUFFbkQsQ0FBQztNQUFBLE9BQUssT0FBT0EsQ0FBQyxFQUFFO0lBQUEsRUFBQztJQUMvRDZCLHFCQUFZLENBQUNoRSxPQUFPLENBQUMyRCxpQkFBaUIsQ0FBQ00sSUFBSSxDQUFDQyxTQUFTLENBQUM7TUFDcERDLGNBQWMsRUFBRTtRQUFFQyxLQUFLLEVBQUVjO01BQU07SUFDakMsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFBUyxRQUFBLEdBQXVCLElBQUFsQixtQkFBTSxFQUFDLElBQUE3RCxXQUFBLENBQUFJLEdBQUEsRUFBQ08scUJBQUEsQ0FBQWUsT0FBb0I7UUFBQ3NELFlBQVksRUFBQztNQUFJLENBQUUsQ0FBQyxDQUFDO01BQWpFSixVQUFVLEdBQUFHLFFBQUEsQ0FBVkgsVUFBVTtJQUNsQjFGLElBQUksQ0FBQ21GLG1CQUFtQixDQUFDLElBQUksQ0FBQztJQUU5QixJQUFNWSxTQUFTLFNBQVNMLFVBQVUsQ0FBQyxLQUFLLENBQUM7SUFDekNNLHNCQUFTLENBQUNDLEtBQUssQ0FBQ0YsU0FBUyxDQUFDO0lBRTFCLE1BQU0sSUFBQWxCLG9CQUFPLEVBQUMsWUFBTTtNQUNsQkMsTUFBTSxDQUFDMUIsdUJBQXVCLENBQUNVLGlCQUFpQixDQUFDLENBQUNvQyxvQkFBb0IsQ0FBQyxHQUFHLENBQUM7TUFDM0VwQixNQUFNLENBQUNoRixrQkFBTSxDQUFDQyxJQUFJLENBQUMsQ0FBQ21HLG9CQUFvQixDQUFDO1FBQ3ZDQyxRQUFRLEVBQUUsMEJBQTBCO1FBQ3BDQyxNQUFNLEVBQUU7VUFDTkMsS0FBSyxFQUFFLElBQUk7VUFDWHhGLGNBQWMsRUFBRSxFQUFFO1VBQ2xCeUYsTUFBTSxFQUFFO1FBQ1Y7TUFDRixDQUFDLENBQUM7SUFDSixDQUFDLENBQUM7RUFDSixDQUFDLEVBQUM7RUFFRjdCLEVBQUUsQ0FBQyxtREFBbUQsTUFBQW5ELGtCQUFBLENBQUFrQixPQUFBLEVBQUUsYUFBWTtJQUVsRSxJQUFNNEMsS0FBSyxHQUFHQyxLQUFLLENBQUNDLElBQUksQ0FBQztNQUFFQyxNQUFNLEVBQUU7SUFBSSxDQUFDLEVBQUUsVUFBQ0MsQ0FBQyxFQUFFbkQsQ0FBQztNQUFBLE9BQUssT0FBT0EsQ0FBQyxFQUFFO0lBQUEsRUFBQztJQUMvRDZCLHFCQUFZLENBQUNoRSxPQUFPLENBQUMyRCxpQkFBaUIsQ0FBQ00sSUFBSSxDQUFDQyxTQUFTLENBQUM7TUFDcERDLGNBQWMsRUFBRTtRQUFFQyxLQUFLLEVBQUVjO01BQU07SUFDakMsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFBbUIsUUFBQSxHQUF1QixJQUFBNUIsbUJBQU0sRUFBQyxJQUFBN0QsV0FBQSxDQUFBSSxHQUFBLEVBQUNPLHFCQUFBLENBQUFlLE9BQW9CLElBQUUsQ0FBQyxDQUFDO01BQS9Da0QsVUFBVSxHQUFBYSxRQUFBLENBQVZiLFVBQVU7SUFDbEIxRixJQUFJLENBQUNtRixtQkFBbUIsQ0FBQyxJQUFJLENBQUM7SUFFOUIsSUFBTXFCLFdBQVcsU0FBUyxJQUFBQyx5QkFBWSxFQUFDLGVBQWUsQ0FBQztJQUN2RFQsc0JBQVMsQ0FBQ0MsS0FBSyxDQUFDTyxXQUFXLENBQUM7SUFFNUIsTUFBTSxJQUFBM0Isb0JBQU8sRUFBQyxZQUFNO01BQ2xCQyxNQUFNLENBQUMxQix1QkFBdUIsQ0FBQ1csaUJBQWlCLENBQUMsQ0FBQ21DLG9CQUFvQixDQUFDO1FBQUV4QyxjQUFjLEVBQUU7TUFBSSxDQUFDLENBQUM7SUFDakcsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxFQUFDO0VBRUZlLEVBQUUsQ0FBQyxpREFBaUQsTUFBQW5ELGtCQUFBLENBQUFrQixPQUFBLEVBQUUsYUFBWTtJQUVoRSxJQUFNNEMsS0FBSyxHQUFHQyxLQUFLLENBQUNDLElBQUksQ0FBQztNQUFFQyxNQUFNLEVBQUU7SUFBSSxDQUFDLEVBQUUsVUFBQ0MsQ0FBQyxFQUFFbkQsQ0FBQztNQUFBLE9BQUssT0FBT0EsQ0FBQyxFQUFFO0lBQUEsRUFBQztJQUMvRDZCLHFCQUFZLENBQUNoRSxPQUFPLENBQUMyRCxpQkFBaUIsQ0FBQ00sSUFBSSxDQUFDQyxTQUFTLENBQUM7TUFDcERDLGNBQWMsRUFBRTtRQUFFQyxLQUFLLEVBQUVjO01BQU07SUFDakMsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFBc0IsUUFBQSxHQUF1QixJQUFBL0IsbUJBQU0sRUFBQyxJQUFBN0QsV0FBQSxDQUFBSSxHQUFBLEVBQUNPLHFCQUFBLENBQUFlLE9BQW9CLElBQUUsQ0FBQyxDQUFDO01BQS9Da0QsVUFBVSxHQUFBZ0IsUUFBQSxDQUFWaEIsVUFBVTtJQUNsQjFGLElBQUksQ0FBQ21GLG1CQUFtQixDQUFDLElBQUksQ0FBQztJQUU5QixJQUFNd0IsYUFBYSxTQUFTakIsVUFBVSxDQUFDLFNBQVMsQ0FBQztJQUNqRE0sc0JBQVMsQ0FBQ0MsS0FBSyxDQUFDVSxhQUFhLENBQUM7SUFFOUIsTUFBTSxJQUFBOUIsb0JBQU8sRUFBQyxZQUFNO01BQ2xCQyxNQUFNLENBQUMxQix1QkFBdUIsQ0FBQ1EsZ0JBQWdCLENBQUMsQ0FBQ21CLGdCQUFnQixDQUFDLENBQUM7SUFDckUsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxFQUFDO0VBRUZOLEVBQUUsQ0FBQyw2Q0FBNkMsTUFBQW5ELGtCQUFBLENBQUFrQixPQUFBLEVBQUUsYUFBWTtJQUU1RCxJQUFNNEMsS0FBSyxHQUFHQyxLQUFLLENBQUNDLElBQUksQ0FBQztNQUFFQyxNQUFNLEVBQUU7SUFBSSxDQUFDLEVBQUUsVUFBQ0MsQ0FBQyxFQUFFbkQsQ0FBQztNQUFBLE9BQUssT0FBT0EsQ0FBQyxFQUFFO0lBQUEsRUFBQztJQUMvRDZCLHFCQUFZLENBQUNoRSxPQUFPLENBQUMyRCxpQkFBaUIsQ0FBQ00sSUFBSSxDQUFDQyxTQUFTLENBQUM7TUFDcERDLGNBQWMsRUFBRTtRQUFFQyxLQUFLLEVBQUVjO01BQU07SUFDakMsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFBd0IsUUFBQSxHQUF1QixJQUFBakMsbUJBQU0sRUFBQyxJQUFBN0QsV0FBQSxDQUFBSSxHQUFBLEVBQUNPLHFCQUFBLENBQUFlLE9BQW9CLElBQUUsQ0FBQyxDQUFDO01BQS9Da0QsVUFBVSxHQUFBa0IsUUFBQSxDQUFWbEIsVUFBVTtJQUNsQjFGLElBQUksQ0FBQ21GLG1CQUFtQixDQUFDLElBQUksQ0FBQztJQUU5QixJQUFNMEIsYUFBYSxTQUFTbkIsVUFBVSxDQUFDLFNBQVMsQ0FBQztJQUNqRE0sc0JBQVMsQ0FBQ0MsS0FBSyxDQUFDWSxhQUFhLENBQUM7SUFFOUIsTUFBTSxJQUFBaEMsb0JBQU8sRUFBQyxZQUFNO01BQ2xCQyxNQUFNLENBQUMxQix1QkFBdUIsQ0FBQ1csaUJBQWlCLENBQUMsQ0FBQ21DLG9CQUFvQixDQUFDO1FBQUV4QyxjQUFjLEVBQUU7TUFBSSxDQUFDLENBQUM7SUFDakcsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxFQUFDO0FBQ0osQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119