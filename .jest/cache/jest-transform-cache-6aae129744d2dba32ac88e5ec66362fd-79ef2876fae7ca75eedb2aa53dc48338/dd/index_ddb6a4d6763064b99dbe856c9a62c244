2060cf6d9448d9ddc15fccd4f44e3f55
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = require("react");
var _reactNative = require("react-native");
var _expoLinearGradient = require("expo-linear-gradient");
var _propTypes = _interopRequireDefault(require("prop-types"));
var _style = _interopRequireDefault(require("./style"));
var _jsxRuntime = require("react/jsx-runtime");
var CategorySelector = function CategorySelector(_ref) {
  var _ref$categories = _ref.categories,
    categories = _ref$categories === void 0 ? [] : _ref$categories,
    selectedCategory = _ref.selectedCategory,
    onSelectCategory = _ref.onSelectCategory,
    _ref$primaryColor = _ref.primaryColor,
    primaryColor = _ref$primaryColor === void 0 ? "#5E60CE" : _ref$primaryColor;
  var styles = (0, _style.default)(primaryColor);
  var _useState = (0, _react.useState)(function () {
      return categories.reduce(function (acc, category) {
        acc[category.id] = new _reactNative.Animated.Value(selectedCategory === category.id ? 1 : 0);
        return acc;
      }, {});
    }),
    _useState2 = (0, _slicedToArray2.default)(_useState, 1),
    animations = _useState2[0];
  var animateSelection = function animateSelection(categoryId) {
    if (selectedCategory !== undefined && animations[selectedCategory]) {
      _reactNative.Animated.timing(animations[selectedCategory], {
        toValue: 0,
        duration: 200,
        useNativeDriver: false
      }).start();
    }
    if (animations[categoryId]) {
      _reactNative.Animated.timing(animations[categoryId], {
        toValue: 1,
        duration: 300,
        useNativeDriver: false
      }).start();
    }
    onSelectCategory(categoryId);
  };
  var handleCategoryPress = (0, _react.useCallback)(function (categoryId) {
    return function () {
      return animateSelection(categoryId);
    };
  }, [animateSelection]);
  var renderCategoryPill = function renderCategoryPill(category) {
    var isSelected = selectedCategory === category.id;
    var animation = animations[category.id] || new _reactNative.Animated.Value(0);
    var scale = animation.interpolate({
      inputRange: [0, 1],
      outputRange: [1, 1.05]
    });
    var shadowOpacity = animation.interpolate({
      inputRange: [0, 1],
      outputRange: [0.1, 0.25]
    });
    var borderWidth = animation.interpolate({
      inputRange: [0, 1],
      outputRange: [1, 2]
    });
    return (0, _jsxRuntime.jsx)(_reactNative.Animated.View, {
      style: [styles.categoryItemWrapper, {
        transform: [{
          scale: scale
        }]
      }],
      children: (0, _jsxRuntime.jsx)(_reactNative.TouchableOpacity, {
        style: styles.categoryTouchable,
        onPress: handleCategoryPress(category.id),
        activeOpacity: 0.8,
        accessibilityRole: "button",
        accessibilityLabel: String(category.name),
        accessibilityState: {
          selected: isSelected
        },
        children: isSelected ? (0, _jsxRuntime.jsx)(_expoLinearGradient.LinearGradient, {
          colors: [primaryColor, `${primaryColor}E6`, `${primaryColor}CC`],
          start: {
            x: 0,
            y: 0
          },
          end: {
            x: 1,
            y: 1
          },
          style: styles.selectedCategoryItem,
          children: (0, _jsxRuntime.jsxs)(_reactNative.View, {
            style: styles.selectedInner,
            children: [(0, _jsxRuntime.jsx)(_reactNative.Text, {
              style: styles.selectedCategoryText,
              children: category.name
            }), (0, _jsxRuntime.jsx)(_reactNative.View, {
              style: styles.sparkleContainer,
              children: (0, _jsxRuntime.jsx)(_reactNative.Text, {
                style: styles.sparkle,
                children: "\u2728"
              })
            })]
          })
        }) : (0, _jsxRuntime.jsx)(_reactNative.Animated.View, {
          style: [styles.categoryItem, {
            borderWidth: borderWidth,
            borderColor: `${primaryColor}20`,
            shadowOpacity: shadowOpacity
          }],
          children: (0, _jsxRuntime.jsx)(_reactNative.View, {
            style: [styles.categoryInner, {
              backgroundColor: `${primaryColor}08`
            }],
            children: (0, _jsxRuntime.jsx)(_reactNative.Text, {
              style: [styles.categoryText, {
                color: primaryColor
              }],
              children: category.name
            })
          })
        })
      })
    }, category.id);
  };
  return (0, _jsxRuntime.jsx)(_reactNative.View, {
    style: styles.container,
    children: (0, _jsxRuntime.jsx)(_expoLinearGradient.LinearGradient, {
      colors: [`${primaryColor}04`, 'transparent', `${primaryColor}02`],
      start: {
        x: 0,
        y: 0
      },
      end: {
        x: 1,
        y: 0
      },
      style: styles.backgroundGradient,
      children: (0, _jsxRuntime.jsx)(_reactNative.ScrollView, {
        horizontal: true,
        showsHorizontalScrollIndicator: false,
        contentContainerStyle: styles.scrollContent,
        style: styles.scrollView,
        children: categories.map(function (category) {
          return renderCategoryPill(category);
        })
      })
    })
  });
};
function areEqual(prevProps, nextProps) {
  return prevProps.selectedCategory === nextProps.selectedCategory && prevProps.primaryColor === nextProps.primaryColor && prevProps.categories === nextProps.categories;
}
var _default = exports.default = (0, _react.memo)(CategorySelector, areEqual);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX3JlYWN0TmF0aXZlIiwiX2V4cG9MaW5lYXJHcmFkaWVudCIsIl9wcm9wVHlwZXMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX3N0eWxlIiwiX2pzeFJ1bnRpbWUiLCJDYXRlZ29yeVNlbGVjdG9yIiwiX3JlZiIsIl9yZWYkY2F0ZWdvcmllcyIsImNhdGVnb3JpZXMiLCJzZWxlY3RlZENhdGVnb3J5Iiwib25TZWxlY3RDYXRlZ29yeSIsIl9yZWYkcHJpbWFyeUNvbG9yIiwicHJpbWFyeUNvbG9yIiwic3R5bGVzIiwiY3JlYXRlU3R5bGVzIiwiX3VzZVN0YXRlIiwidXNlU3RhdGUiLCJyZWR1Y2UiLCJhY2MiLCJjYXRlZ29yeSIsImlkIiwiQW5pbWF0ZWQiLCJWYWx1ZSIsIl91c2VTdGF0ZTIiLCJfc2xpY2VkVG9BcnJheTIiLCJkZWZhdWx0IiwiYW5pbWF0aW9ucyIsImFuaW1hdGVTZWxlY3Rpb24iLCJjYXRlZ29yeUlkIiwidW5kZWZpbmVkIiwidGltaW5nIiwidG9WYWx1ZSIsImR1cmF0aW9uIiwidXNlTmF0aXZlRHJpdmVyIiwic3RhcnQiLCJoYW5kbGVDYXRlZ29yeVByZXNzIiwidXNlQ2FsbGJhY2siLCJyZW5kZXJDYXRlZ29yeVBpbGwiLCJpc1NlbGVjdGVkIiwiYW5pbWF0aW9uIiwic2NhbGUiLCJpbnRlcnBvbGF0ZSIsImlucHV0UmFuZ2UiLCJvdXRwdXRSYW5nZSIsInNoYWRvd09wYWNpdHkiLCJib3JkZXJXaWR0aCIsImpzeCIsIlZpZXciLCJzdHlsZSIsImNhdGVnb3J5SXRlbVdyYXBwZXIiLCJ0cmFuc2Zvcm0iLCJjaGlsZHJlbiIsIlRvdWNoYWJsZU9wYWNpdHkiLCJjYXRlZ29yeVRvdWNoYWJsZSIsIm9uUHJlc3MiLCJhY3RpdmVPcGFjaXR5IiwiYWNjZXNzaWJpbGl0eVJvbGUiLCJhY2Nlc3NpYmlsaXR5TGFiZWwiLCJTdHJpbmciLCJuYW1lIiwiYWNjZXNzaWJpbGl0eVN0YXRlIiwic2VsZWN0ZWQiLCJMaW5lYXJHcmFkaWVudCIsImNvbG9ycyIsIngiLCJ5IiwiZW5kIiwic2VsZWN0ZWRDYXRlZ29yeUl0ZW0iLCJqc3hzIiwic2VsZWN0ZWRJbm5lciIsIlRleHQiLCJzZWxlY3RlZENhdGVnb3J5VGV4dCIsInNwYXJrbGVDb250YWluZXIiLCJzcGFya2xlIiwiY2F0ZWdvcnlJdGVtIiwiYm9yZGVyQ29sb3IiLCJjYXRlZ29yeUlubmVyIiwiYmFja2dyb3VuZENvbG9yIiwiY2F0ZWdvcnlUZXh0IiwiY29sb3IiLCJjb250YWluZXIiLCJiYWNrZ3JvdW5kR3JhZGllbnQiLCJTY3JvbGxWaWV3IiwiaG9yaXpvbnRhbCIsInNob3dzSG9yaXpvbnRhbFNjcm9sbEluZGljYXRvciIsImNvbnRlbnRDb250YWluZXJTdHlsZSIsInNjcm9sbENvbnRlbnQiLCJzY3JvbGxWaWV3IiwibWFwIiwiYXJlRXF1YWwiLCJwcmV2UHJvcHMiLCJuZXh0UHJvcHMiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJtZW1vIl0sInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2NvbXBvbmVudHMvZXhlcmNpc2UtY29tbW9uL0NhdGVnb3J5U2VsZWN0b3IvaW5kZXguanNcclxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCBtZW1vIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IFZpZXcsIFNjcm9sbFZpZXcsIFRvdWNoYWJsZU9wYWNpdHksIFRleHQsIEFuaW1hdGVkIH0gZnJvbSBcInJlYWN0LW5hdGl2ZVwiO1xyXG5pbXBvcnQgeyBMaW5lYXJHcmFkaWVudCB9IGZyb20gXCJleHBvLWxpbmVhci1ncmFkaWVudFwiO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgY3JlYXRlU3R5bGVzIGZyb20gXCIuL3N0eWxlXCI7XHJcblxyXG4vKipcclxuICog8J+PhiBDYXRlZ29yeVNlbGVjdG9yIC0gRGVzaWduIE5pdmVhdSBMREMgKFBhcmlzIFNhaW50LUdlcm1haW4pXHJcbiAqIC0gUGlsbHMgbW9kZXJuZXMgYXZlYyBnbGFzc21vcnBoaXNtXHJcbiAqIC0gQW5pbWF0aW9ucyBmbHVpZGVzIGRlIHPDqWxlY3Rpb25cclxuICogLSBHcmFkaWVudHMgZHluYW1pcXVlc1xyXG4gKiAtIE1pY3JvLWludGVyYWN0aW9ucyBwcmVtaXVtXHJcbiAqIC0gVHlwb2dyYXBoeSDDqWzDqWdhbnRlXHJcbiAqL1xyXG5jb25zdCBDYXRlZ29yeVNlbGVjdG9yID0gKHtcclxuICBjYXRlZ29yaWVzID0gW10sXHJcbiAgc2VsZWN0ZWRDYXRlZ29yeSxcclxuICBvblNlbGVjdENhdGVnb3J5LFxyXG4gIHByaW1hcnlDb2xvciA9IFwiIzVFNjBDRVwiLFxyXG59KSA9PiB7XHJcbiAgY29uc3Qgc3R5bGVzID0gY3JlYXRlU3R5bGVzKHByaW1hcnlDb2xvcik7XHJcbiAgY29uc3QgW2FuaW1hdGlvbnNdID0gdXNlU3RhdGUoKCkgPT4gXHJcbiAgICBjYXRlZ29yaWVzLnJlZHVjZSgoYWNjLCBjYXRlZ29yeSkgPT4ge1xyXG4gICAgICBhY2NbY2F0ZWdvcnkuaWRdID0gbmV3IEFuaW1hdGVkLlZhbHVlKHNlbGVjdGVkQ2F0ZWdvcnkgPT09IGNhdGVnb3J5LmlkID8gMSA6IDApO1xyXG4gICAgICByZXR1cm4gYWNjO1xyXG4gICAgfSwge30pXHJcbiAgKTtcclxuXHJcbiAgLy8gQW5pbWF0aW9uIGRlIHPDqWxlY3Rpb25cclxuICBjb25zdCBhbmltYXRlU2VsZWN0aW9uID0gKGNhdGVnb3J5SWQpID0+IHtcclxuICAgIC8vIEFuaW1lciBsYSBkw6lzw6lsZWN0aW9uIGRlIGwnYW5jaWVubmUgY2F0w6lnb3JpZVxyXG4gICAgaWYgKHNlbGVjdGVkQ2F0ZWdvcnkgIT09IHVuZGVmaW5lZCAmJiBhbmltYXRpb25zW3NlbGVjdGVkQ2F0ZWdvcnldKSB7XHJcbiAgICAgIEFuaW1hdGVkLnRpbWluZyhhbmltYXRpb25zW3NlbGVjdGVkQ2F0ZWdvcnldLCB7XHJcbiAgICAgICAgdG9WYWx1ZTogMCxcclxuICAgICAgICBkdXJhdGlvbjogMjAwLFxyXG4gICAgICAgIHVzZU5hdGl2ZURyaXZlcjogZmFsc2UsXHJcbiAgICAgIH0pLnN0YXJ0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQW5pbWVyIGxhIHPDqWxlY3Rpb24gZGUgbGEgbm91dmVsbGUgY2F0w6lnb3JpZVxyXG4gICAgaWYgKGFuaW1hdGlvbnNbY2F0ZWdvcnlJZF0pIHtcclxuICAgICAgQW5pbWF0ZWQudGltaW5nKGFuaW1hdGlvbnNbY2F0ZWdvcnlJZF0sIHtcclxuICAgICAgICB0b1ZhbHVlOiAxLFxyXG4gICAgICAgIGR1cmF0aW9uOiAzMDAsXHJcbiAgICAgICAgdXNlTmF0aXZlRHJpdmVyOiBmYWxzZSxcclxuICAgICAgfSkuc3RhcnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBvblNlbGVjdENhdGVnb3J5KGNhdGVnb3J5SWQpO1xyXG4gIH07XHJcblxyXG4gIC8vIEZhY3RvcnkgZGUgaGFuZGxlciBwb3VyIMOpdml0ZXIgbGEgY3LDqWF0aW9uIGRlIGZvbmN0aW9ucyBpbmxpbmVcclxuICBjb25zdCBoYW5kbGVDYXRlZ29yeVByZXNzID0gdXNlQ2FsbGJhY2soKGNhdGVnb3J5SWQpID0+ICgpID0+IGFuaW1hdGVTZWxlY3Rpb24oY2F0ZWdvcnlJZCksIFthbmltYXRlU2VsZWN0aW9uXSk7XHJcblxyXG4gIC8vIFJlbmR1IGQndW5lIHBpbGwgZGUgY2F0w6lnb3JpZVxyXG4gIGNvbnN0IHJlbmRlckNhdGVnb3J5UGlsbCA9IChjYXRlZ29yeSkgPT4ge1xyXG4gICAgY29uc3QgaXNTZWxlY3RlZCA9IHNlbGVjdGVkQ2F0ZWdvcnkgPT09IGNhdGVnb3J5LmlkO1xyXG4gICAgY29uc3QgYW5pbWF0aW9uID0gYW5pbWF0aW9uc1tjYXRlZ29yeS5pZF0gfHwgbmV3IEFuaW1hdGVkLlZhbHVlKDApO1xyXG5cclxuICAgIC8vIEludGVycG9sYXRpb25zIHBvdXIgbGVzIGFuaW1hdGlvbnNcclxuICAgIGNvbnN0IHNjYWxlID0gYW5pbWF0aW9uLmludGVycG9sYXRlKHtcclxuICAgICAgaW5wdXRSYW5nZTogWzAsIDFdLFxyXG4gICAgICBvdXRwdXRSYW5nZTogWzEsIDEuMDVdLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3Qgc2hhZG93T3BhY2l0eSA9IGFuaW1hdGlvbi5pbnRlcnBvbGF0ZSh7XHJcbiAgICAgIGlucHV0UmFuZ2U6IFswLCAxXSxcclxuICAgICAgb3V0cHV0UmFuZ2U6IFswLjEsIDAuMjVdLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgYm9yZGVyV2lkdGggPSBhbmltYXRpb24uaW50ZXJwb2xhdGUoe1xyXG4gICAgICBpbnB1dFJhbmdlOiBbMCwgMV0sXHJcbiAgICAgIG91dHB1dFJhbmdlOiBbMSwgMl0sXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8QW5pbWF0ZWQuVmlld1xyXG4gICAgICAgIGtleT17Y2F0ZWdvcnkuaWR9XHJcbiAgICAgICAgc3R5bGU9e1tcclxuICAgICAgICAgIHN0eWxlcy5jYXRlZ29yeUl0ZW1XcmFwcGVyLFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IFt7IHNjYWxlIH1dLFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIF19XHJcbiAgICAgID5cclxuICAgICAgICA8VG91Y2hhYmxlT3BhY2l0eVxyXG4gICAgICAgICAgc3R5bGU9e3N0eWxlcy5jYXRlZ29yeVRvdWNoYWJsZX1cclxuICAgICAgICAgIG9uUHJlc3M9e2hhbmRsZUNhdGVnb3J5UHJlc3MoY2F0ZWdvcnkuaWQpfVxyXG4gICAgICAgICAgYWN0aXZlT3BhY2l0eT17MC44fVxyXG4gICAgICAgICAgYWNjZXNzaWJpbGl0eVJvbGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsPXtTdHJpbmcoY2F0ZWdvcnkubmFtZSl9XHJcbiAgICAgICAgICBhY2Nlc3NpYmlsaXR5U3RhdGU9e3sgc2VsZWN0ZWQ6IGlzU2VsZWN0ZWQgfX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICB7aXNTZWxlY3RlZCA/IChcclxuICAgICAgICAgICAgLy8gw4l0YXQgc8OpbGVjdGlvbm7DqSAtIEdyYWRpZW50IHByZW1pdW1cclxuICAgICAgICAgICAgPExpbmVhckdyYWRpZW50XHJcbiAgICAgICAgICAgICAgY29sb3JzPXtbcHJpbWFyeUNvbG9yLCBgJHtwcmltYXJ5Q29sb3J9RTZgLCBgJHtwcmltYXJ5Q29sb3J9Q0NgXX1cclxuICAgICAgICAgICAgICBzdGFydD17eyB4OiAwLCB5OiAwIH19XHJcbiAgICAgICAgICAgICAgZW5kPXt7IHg6IDEsIHk6IDEgfX1cclxuICAgICAgICAgICAgICBzdHlsZT17c3R5bGVzLnNlbGVjdGVkQ2F0ZWdvcnlJdGVtfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgey8qIEVmZmV0IGdsYXNzbW9ycGhpc20gc3VyIGxhIHBpbGwgc8OpbGVjdGlvbm7DqWUgKi99XHJcbiAgICAgICAgICAgICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5zZWxlY3RlZElubmVyfT5cclxuICAgICAgICAgICAgICAgIDxUZXh0IHN0eWxlPXtzdHlsZXMuc2VsZWN0ZWRDYXRlZ29yeVRleHR9PlxyXG4gICAgICAgICAgICAgICAgICB7Y2F0ZWdvcnkubmFtZX1cclxuICAgICAgICAgICAgICAgIDwvVGV4dD5cclxuICAgICAgICAgICAgICAgIHsvKiBFZmZldCBzcGFya2xlIHBvdXIgbGEgc8OpbGVjdGlvbiAqL31cclxuICAgICAgICAgICAgICAgIDxWaWV3IHN0eWxlPXtzdHlsZXMuc3BhcmtsZUNvbnRhaW5lcn0+XHJcbiAgICAgICAgICAgICAgICAgIDxUZXh0IHN0eWxlPXtzdHlsZXMuc3BhcmtsZX0+4pyoPC9UZXh0PlxyXG4gICAgICAgICAgICAgICAgPC9WaWV3PlxyXG4gICAgICAgICAgICAgIDwvVmlldz5cclxuICAgICAgICAgICAgPC9MaW5lYXJHcmFkaWVudD5cclxuICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgIC8vIMOJdGF0IG5vbiBzw6lsZWN0aW9ubsOpIC0gR2xhc3Ntb3JwaGlzbSBzdWJ0aWxcclxuICAgICAgICAgICAgPEFuaW1hdGVkLlZpZXdcclxuICAgICAgICAgICAgICBzdHlsZT17W1xyXG4gICAgICAgICAgICAgICAgc3R5bGVzLmNhdGVnb3J5SXRlbSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgYm9yZGVyV2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiBgJHtwcmltYXJ5Q29sb3J9MjBgLFxyXG4gICAgICAgICAgICAgICAgICBzaGFkb3dPcGFjaXR5LFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIF19XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8VmlldyBzdHlsZT17W3N0eWxlcy5jYXRlZ29yeUlubmVyLCB7IGJhY2tncm91bmRDb2xvcjogYCR7cHJpbWFyeUNvbG9yfTA4YCB9XX0+XHJcbiAgICAgICAgICAgICAgICA8VGV4dCBzdHlsZT17W3N0eWxlcy5jYXRlZ29yeVRleHQsIHsgY29sb3I6IHByaW1hcnlDb2xvciB9XX0+XHJcbiAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeS5uYW1lfVxyXG4gICAgICAgICAgICAgICAgPC9UZXh0PlxyXG4gICAgICAgICAgICAgIDwvVmlldz5cclxuICAgICAgICAgICAgPC9BbmltYXRlZC5WaWV3PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L1RvdWNoYWJsZU9wYWNpdHk+XHJcbiAgICAgIDwvQW5pbWF0ZWQuVmlldz5cclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxWaWV3IHN0eWxlPXtzdHlsZXMuY29udGFpbmVyfT5cclxuICAgICAgey8qIPCfjqggR3JhZGllbnQgZGUgZm9uZCBzdWJ0aWwgKi99XHJcbiAgICAgIDxMaW5lYXJHcmFkaWVudFxyXG4gICAgICAgIGNvbG9ycz17W2Ake3ByaW1hcnlDb2xvcn0wNGAsICd0cmFuc3BhcmVudCcsIGAke3ByaW1hcnlDb2xvcn0wMmBdfVxyXG4gICAgICAgIHN0YXJ0PXt7IHg6IDAsIHk6IDAgfX1cclxuICAgICAgICBlbmQ9e3sgeDogMSwgeTogMCB9fVxyXG4gICAgICAgIHN0eWxlPXtzdHlsZXMuYmFja2dyb3VuZEdyYWRpZW50fVxyXG4gICAgICA+XHJcbiAgICAgICAgPFNjcm9sbFZpZXdcclxuICAgICAgICAgIGhvcml6b250YWxcclxuICAgICAgICAgIHNob3dzSG9yaXpvbnRhbFNjcm9sbEluZGljYXRvcj17ZmFsc2V9XHJcbiAgICAgICAgICBjb250ZW50Q29udGFpbmVyU3R5bGU9e3N0eWxlcy5zY3JvbGxDb250ZW50fVxyXG4gICAgICAgICAgc3R5bGU9e3N0eWxlcy5zY3JvbGxWaWV3fVxyXG4gICAgICAgID5cclxuICAgICAgICAgIHtjYXRlZ29yaWVzLm1hcCgoY2F0ZWdvcnkpID0+IHJlbmRlckNhdGVnb3J5UGlsbChjYXRlZ29yeSkpfVxyXG4gICAgICAgIDwvU2Nyb2xsVmlldz5cclxuICAgICAgPC9MaW5lYXJHcmFkaWVudD5cclxuICAgIDwvVmlldz5cclxuICApO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gYXJlRXF1YWwocHJldlByb3BzLCBuZXh0UHJvcHMpIHtcclxuICByZXR1cm4gKFxyXG4gICAgcHJldlByb3BzLnNlbGVjdGVkQ2F0ZWdvcnkgPT09IG5leHRQcm9wcy5zZWxlY3RlZENhdGVnb3J5ICYmXHJcbiAgICBwcmV2UHJvcHMucHJpbWFyeUNvbG9yID09PSBuZXh0UHJvcHMucHJpbWFyeUNvbG9yICYmXHJcbiAgICBwcmV2UHJvcHMuY2F0ZWdvcmllcyA9PT0gbmV4dFByb3BzLmNhdGVnb3JpZXNcclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtZW1vKENhdGVnb3J5U2VsZWN0b3IsIGFyZUVxdWFsKTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBLElBQUFBLE1BQUEs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