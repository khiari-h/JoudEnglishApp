91f94b06a3d7214956a3dab3809aee2a
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = require("react");
var _expoRouter = require("expo-router");
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _RevisionPopup = _interopRequireDefault(require("../../Dashboard/components/popup/RevisionPopup"));
var _useRevisionSettings2 = require("../../../hooks/useRevisionSettings");
var _jsxRuntime = require("react/jsx-runtime");
var RevisionOrchestrator = function RevisionOrchestrator(_ref) {
  var _ref$currentLevel = _ref.currentLevel,
    currentLevel = _ref$currentLevel === void 0 ? "mixed" : _ref$currentLevel;
  var _useState = (0, _react.useState)(false),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    showPopup = _useState2[0],
    setShowPopup = _useState2[1];
  var _useState3 = (0, _react.useState)(0),
    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
    totalWords = _useState4[0],
    setTotalWords = _useState4[1];
  var _useState5 = (0, _react.useState)(false),
    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),
    isLoaded = _useState6[0],
    setIsLoaded = _useState6[1];
  var _useRevisionSettings = (0, _useRevisionSettings2.useRevisionSettings)(),
    preferences = _useRevisionSettings.preferences,
    disableRevisions = _useRevisionSettings.disableRevisions,
    resetToNextTarget = _useRevisionSettings.resetToNextTarget,
    updatePreferences = _useRevisionSettings.updatePreferences;
  var popupShownRef = (0, _react.useRef)(false);
  var countWords = function () {
    var _ref2 = (0, _asyncToGenerator2.default)(function* () {
      try {
        var total = 0;
        var levels = ['1', '2', '3', '4', '5', '6', 'bonus'];
        var modes = ['classic', 'fast'];
        for (var level of levels) {
          for (var mode of modes) {
            var stored = yield _asyncStorage.default.getItem(`vocabulary_${level}_${mode}`);
            if (stored) {
              var data = JSON.parse(stored);
              var completedWords = data.completedWords || {};
              total += Object.values(completedWords).reduce(function (acc, words) {
                if (Array.isArray(words)) {
                  return acc + words.length;
                }
                return acc;
              }, 0);
            }
          }
        }
        setTotalWords(total);
        return total;
      } catch (error) {
        return 0;
      }
    });
    return function countWords() {
      return _ref2.apply(this, arguments);
    };
  }();
  (0, _react.useEffect)(function () {
    var initializeRevision = function () {
      var _ref3 = (0, _asyncToGenerator2.default)(function* () {
        yield countWords();
        setIsLoaded(true);
      });
      return function initializeRevision() {
        return _ref3.apply(this, arguments);
      };
    }();
    initializeRevision();
  }, []);
  (0, _react.useEffect)(function () {
    if (!isLoaded) return;
    var shouldShow = !preferences.isDisabled && totalWords >= preferences.nextRevisionAt && totalWords > 0 && !showPopup && !popupShownRef.current;
    if (shouldShow) {
      popupShownRef.current = true;
      setTimeout(function () {
        return setShowPopup(true);
      }, 1000);
    }
  }, [isLoaded, preferences.isDisabled, totalWords, preferences.nextRevisionAt, showPopup]);
  var handleChoice = (0, _react.useCallback)(function () {
    var _ref4 = (0, _asyncToGenerator2.default)(function* (choice) {
      setShowPopup(false);
      popupShownRef.current = false;
      switch (choice) {
        case 'now':
          {
            yield resetToNextTarget(totalWords);
            _expoRouter.router.push({
              pathname: "/tabs/vocabularyRevision",
              params: {
                level: currentLevel,
                questionsCount: preferences.questionsCount,
                source: 'popup_trigger'
              }
            });
            break;
          }
        case 'later_50':
          {
            var next50 = totalWords + 50;
            yield updatePreferences({
              nextRevisionAt: next50
            });
            break;
          }
        case 'later_100':
          {
            var next100 = totalWords + 100;
            yield updatePreferences({
              nextRevisionAt: next100
            });
            break;
          }
        case 'disable':
          {
            yield disableRevisions();
            break;
          }
        default:
          {
            var defaultNext = totalWords + 50;
            yield updatePreferences({
              nextRevisionAt: defaultNext
            });
            break;
          }
      }
    });
    return function (_x) {
      return _ref4.apply(this, arguments);
    };
  }(), [totalWords, disableRevisions, resetToNextTarget, updatePreferences, currentLevel, preferences.questionsCount]);
  var handleDismiss = (0, _react.useCallback)(function () {
    return handleChoice('later_50');
  }, [handleChoice]);
  if (preferences.isDisabled) {
    return null;
  }
  return (0, _jsxRuntime.jsx)(_RevisionPopup.default, {
    visible: showPopup,
    totalWordsLearned: totalWords,
    questionsCount: preferences.questionsCount,
    currentLevel: currentLevel,
    onChoice: handleChoice,
    onDismiss: handleDismiss
  });
};
var _default = exports.default = RevisionOrchestrator;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX2V4cG9Sb3V0ZXIiLCJfYXN5bmNTdG9yYWdlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9SZXZpc2lvblBvcHVwIiwiX3VzZVJldmlzaW9uU2V0dGluZ3MyIiwiX2pzeFJ1bnRpbWUiLCJSZXZpc2lvbk9yY2hlc3RyYXRvciIsIl9yZWYiLCJfcmVmJGN1cnJlbnRMZXZlbCIsImN1cnJlbnRMZXZlbCIsIl91c2VTdGF0ZSIsInVzZVN0YXRlIiwiX3VzZVN0YXRlMiIsIl9zbGljZWRUb0FycmF5MiIsImRlZmF1bHQiLCJzaG93UG9wdXAiLCJzZXRTaG93UG9wdXAiLCJfdXNlU3RhdGUzIiwiX3VzZVN0YXRlNCIsInRvdGFsV29yZHMiLCJzZXRUb3RhbFdvcmRzIiwiX3VzZVN0YXRlNSIsIl91c2VTdGF0ZTYiLCJpc0xvYWRlZCIsInNldElzTG9hZGVkIiwiX3VzZVJldmlzaW9uU2V0dGluZ3MiLCJ1c2VSZXZpc2lvblNldHRpbmdzIiwicHJlZmVyZW5jZXMiLCJkaXNhYmxlUmV2aXNpb25zIiwicmVzZXRUb05leHRUYXJnZXQiLCJ1cGRhdGVQcmVmZXJlbmNlcyIsInBvcHVwU2hvd25SZWYiLCJ1c2VSZWYiLCJjb3VudFdvcmRzIiwiX3JlZjIiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJ0b3RhbCIsImxldmVscyIsIm1vZGVzIiwibGV2ZWwiLCJtb2RlIiwic3RvcmVkIiwiQXN5bmNTdG9yYWdlIiwiZ2V0SXRlbSIsImRhdGEiLCJKU09OIiwicGFyc2UiLCJjb21wbGV0ZWRXb3JkcyIsIk9iamVjdCIsInZhbHVlcyIsInJlZHVjZSIsImFjYyIsIndvcmRzIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiZXJyb3IiLCJhcHBseSIsImFyZ3VtZW50cyIsInVzZUVmZmVjdCIsImluaXRpYWxpemVSZXZpc2lvbiIsIl9yZWYzIiwic2hvdWxkU2hvdyIsImlzRGlzYWJsZWQiLCJuZXh0UmV2aXNpb25BdCIsImN1cnJlbnQiLCJzZXRUaW1lb3V0IiwiaGFuZGxlQ2hvaWNlIiwidXNlQ2FsbGJhY2siLCJfcmVmNCIsImNob2ljZSIsInJvdXRlciIsInB1c2giLCJwYXRobmFtZSIsInBhcmFtcyIsInF1ZXN0aW9uc0NvdW50Iiwic291cmNlIiwibmV4dDUwIiwibmV4dDEwMCIsImRlZmF1bHROZXh0IiwiX3giLCJoYW5kbGVEaXNtaXNzIiwianN4IiwidmlzaWJsZSIsInRvdGFsV29yZHNMZWFybmVkIiwib25DaG9pY2UiLCJvbkRpc21pc3MiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvY29tcG9uZW50cy9yZXZpc2lvbi9SZXZpc2lvbk9yY2hlc3RyYXRvci9pbmRleC5qcyAtIFZFUlNJT04gQVZFQyBIT09LIFBBUlRBR8OJXHJcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHJvdXRlciB9IGZyb20gJ2V4cG8tcm91dGVyJztcclxuaW1wb3J0IEFzeW5jU3RvcmFnZSBmcm9tICdAcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UvYXN5bmMtc3RvcmFnZSc7XHJcbmltcG9ydCBSZXZpc2lvblBvcHVwIGZyb20gJy4uLy4uL0Rhc2hib2FyZC9jb21wb25lbnRzL3BvcHVwL1JldmlzaW9uUG9wdXAnO1xyXG5pbXBvcnQgeyB1c2VSZXZpc2lvblNldHRpbmdzIH0gZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlUmV2aXNpb25TZXR0aW5ncyc7IC8vIPCflKUgVVRJTElTRSBMRSBIT09LIEVYSVNUQU5UXHJcblxyXG5jb25zdCBSZXZpc2lvbk9yY2hlc3RyYXRvciA9ICh7IGN1cnJlbnRMZXZlbCA9IFwibWl4ZWRcIiB9KSA9PiB7XHJcbiAgY29uc3QgW3Nob3dQb3B1cCwgc2V0U2hvd1BvcHVwXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbdG90YWxXb3Jkcywgc2V0VG90YWxXb3Jkc10gPSB1c2VTdGF0ZSgwKTtcclxuICBjb25zdCBbaXNMb2FkZWQsIHNldElzTG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBcclxuICAvLyDwn5SlIFVUSUxJU0UgTEUgSE9PSyBQQVJUQUfDiSBBVSBMSUVVIERFIFNBIFBST1BSRSBMT0dJUVVFXHJcbiAgY29uc3QgeyBcclxuICAgIHByZWZlcmVuY2VzLCBcclxuICAgIGRpc2FibGVSZXZpc2lvbnMsIFxyXG4gICAgcmVzZXRUb05leHRUYXJnZXQsXHJcbiAgICB1cGRhdGVQcmVmZXJlbmNlcyBcclxuICB9ID0gdXNlUmV2aXNpb25TZXR0aW5ncygpO1xyXG4gIFxyXG4gIC8vIOKchSBQUk9URUNUSU9OIGNvbnRyZSBkb3VibGUtcG9wdXBcclxuICBjb25zdCBwb3B1cFNob3duUmVmID0gdXNlUmVmKGZhbHNlKTtcclxuXHJcbiAgLy8gPT09PT09PT09PSBDT01QVEFHRSBTSU1QTEUgKElOQ0hBTkfDiSkgPT09PT09PT09PVxyXG4gIGNvbnN0IGNvdW50V29yZHMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgdG90YWwgPSAwO1xyXG4gICAgICBjb25zdCBsZXZlbHMgPSBbJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJ2JvbnVzJ107XHJcbiAgICAgIGNvbnN0IG1vZGVzID0gWydjbGFzc2ljJywgJ2Zhc3QnXTtcclxuXHJcbiAgICAgIGZvciAoY29uc3QgbGV2ZWwgb2YgbGV2ZWxzKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBtb2RlIG9mIG1vZGVzKSB7XHJcbiAgICAgICAgICBjb25zdCBzdG9yZWQgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShgdm9jYWJ1bGFyeV8ke2xldmVsfV8ke21vZGV9YCk7XHJcbiAgICAgICAgICBpZiAoc3RvcmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHN0b3JlZCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRlZFdvcmRzID0gZGF0YS5jb21wbGV0ZWRXb3JkcyB8fCB7fTtcclxuICAgICAgICAgICAgdG90YWwgKz0gT2JqZWN0LnZhbHVlcyhjb21wbGV0ZWRXb3JkcykucmVkdWNlKChhY2MsIHdvcmRzKSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkod29yZHMpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjICsgd29yZHMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNldFRvdGFsV29yZHModG90YWwpO1xyXG4gICAgICByZXR1cm4gdG90YWw7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyA9PT09PT09PT09IENIQVJHRU1FTlQgSU5JVElBTCA9PT09PT09PT09XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGluaXRpYWxpemVSZXZpc2lvbiA9IGFzeW5jICgpID0+IHtcclxuICAgICAgYXdhaXQgY291bnRXb3JkcygpO1xyXG4gICAgICBzZXRJc0xvYWRlZCh0cnVlKTtcclxuICAgIH07XHJcblxyXG4gICAgaW5pdGlhbGl6ZVJldmlzaW9uKCk7XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyA9PT09PT09PT09IFbDiVJJRklDQVRJT04gUsOJVklTSU9OIChBVkVDIEhPT0spID09PT09PT09PT1cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgLy8g4pyFIEFUVEVORFJFIHF1ZSB0b3V0IHNvaXQgY2hhcmfDqVxyXG4gICAgaWYgKCFpc0xvYWRlZCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAvLyDwn5SlIFVUSUxJU0UgTEVTIFBSRUZFUkVOQ0VTIERVIEhPT0tcclxuICAgIGNvbnN0IHNob3VsZFNob3cgPSAhcHJlZmVyZW5jZXMuaXNEaXNhYmxlZCAmJiBcclxuICAgICAgICAgICAgICAgICAgICAgIHRvdGFsV29yZHMgPj0gcHJlZmVyZW5jZXMubmV4dFJldmlzaW9uQXQgJiYgXHJcbiAgICAgICAgICAgICAgICAgICAgICB0b3RhbFdvcmRzID4gMCAmJiBcclxuICAgICAgICAgICAgICAgICAgICAgICFzaG93UG9wdXAgJiYgXHJcbiAgICAgICAgICAgICAgICAgICAgICAhcG9wdXBTaG93blJlZi5jdXJyZW50O1xyXG5cclxuICAgIGlmIChzaG91bGRTaG93KSB7XHJcbiAgICAgIC8vIOKchSBQUk9URUNUSU9OIGRvdWJsZS1wb3B1cFxyXG4gICAgICBwb3B1cFNob3duUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHNldFNob3dQb3B1cCh0cnVlKSwgMTAwMCk7XHJcbiAgICB9XHJcbiAgfSwgW2lzTG9hZGVkLCBwcmVmZXJlbmNlcy5pc0Rpc2FibGVkLCB0b3RhbFdvcmRzLCBwcmVmZXJlbmNlcy5uZXh0UmV2aXNpb25BdCwgc2hvd1BvcHVwXSk7XHJcblxyXG4gIC8vID09PT09PT09PT0gSEFORExFUlMgQVZFQyBIT09LIFBBUlRBR8OJID09PT09PT09PT1cclxuICBjb25zdCBoYW5kbGVDaG9pY2UgPSB1c2VDYWxsYmFjayhhc3luYyAoY2hvaWNlKSA9PiB7XHJcbiAgICBzZXRTaG93UG9wdXAoZmFsc2UpO1xyXG4gICAgcG9wdXBTaG93blJlZi5jdXJyZW50ID0gZmFsc2U7IC8vIOKchSBSZXNldCBwcm90ZWN0aW9uXHJcbiAgICBcclxuICAgIHN3aXRjaCAoY2hvaWNlKSB7XHJcbiAgICAgIGNhc2UgJ25vdyc6IHtcclxuICAgICAgICAvLyDinIUgUHJvZ3JhbW1lciBwcm9jaGFpbmUgcsOpdmlzaW9uIEFWRUMgTEUgSE9PS1xyXG4gICAgICAgIGF3YWl0IHJlc2V0VG9OZXh0VGFyZ2V0KHRvdGFsV29yZHMpO1xyXG4gICAgICAgIC8vIE5hdmlnYXRpb25cclxuICAgICAgICByb3V0ZXIucHVzaCh7XHJcbiAgICAgICAgICBwYXRobmFtZTogXCIvdGFicy92b2NhYnVsYXJ5UmV2aXNpb25cIixcclxuICAgICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgICBsZXZlbDogY3VycmVudExldmVsLFxyXG4gICAgICAgICAgICBxdWVzdGlvbnNDb3VudDogcHJlZmVyZW5jZXMucXVlc3Rpb25zQ291bnQsXHJcbiAgICAgICAgICAgIHNvdXJjZTogJ3BvcHVwX3RyaWdnZXInXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgY2FzZSAnbGF0ZXJfNTAnOiB7XHJcbiAgICAgICAgY29uc3QgbmV4dDUwID0gdG90YWxXb3JkcyArIDUwO1xyXG4gICAgICAgIGF3YWl0IHVwZGF0ZVByZWZlcmVuY2VzKHsgbmV4dFJldmlzaW9uQXQ6IG5leHQ1MCB9KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBjYXNlICdsYXRlcl8xMDAnOiB7XHJcbiAgICAgICAgY29uc3QgbmV4dDEwMCA9IHRvdGFsV29yZHMgKyAxMDA7XHJcbiAgICAgICAgYXdhaXQgdXBkYXRlUHJlZmVyZW5jZXMoeyBuZXh0UmV2aXNpb25BdDogbmV4dDEwMCB9KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBjYXNlICdkaXNhYmxlJzoge1xyXG4gICAgICAgIC8vIPCflKUgVVRJTElTRSBMQSBGT05DVElPTiBEVSBIT09LIC0gTUlTRSDDgCBKT1VSIEFVVE9NQVRJUVVFICFcclxuICAgICAgICBhd2FpdCBkaXNhYmxlUmV2aXNpb25zKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgIC8vIEZlcm1ldHVyZSA9IGxhdGVyXzUwIHBhciBkw6lmYXV0XHJcbiAgICAgICAgY29uc3QgZGVmYXVsdE5leHQgPSB0b3RhbFdvcmRzICsgNTA7XHJcbiAgICAgICAgYXdhaXQgdXBkYXRlUHJlZmVyZW5jZXMoeyBuZXh0UmV2aXNpb25BdDogZGVmYXVsdE5leHQgfSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBbdG90YWxXb3JkcywgZGlzYWJsZVJldmlzaW9ucywgcmVzZXRUb05leHRUYXJnZXQsIHVwZGF0ZVByZWZlcmVuY2VzLCBjdXJyZW50TGV2ZWwsIHByZWZlcmVuY2VzLnF1ZXN0aW9uc0NvdW50XSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZURpc21pc3MgPSB1c2VDYWxsYmFjaygoKSA9PiBoYW5kbGVDaG9pY2UoJ2xhdGVyXzUwJyksIFtoYW5kbGVDaG9pY2VdKTtcclxuXHJcbiAgLy8g4pyFIE5FIFBBUyBSRU5EUkUgU0kgRElTQUJMRUQgKEFWRUMgSE9PSylcclxuICBpZiAocHJlZmVyZW5jZXMuaXNEaXNhYmxlZCkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPFJldmlzaW9uUG9wdXBcclxuICAgICAgdmlzaWJsZT17c2hvd1BvcHVwfVxyXG4gICAgICB0b3RhbFdvcmRzTGVhcm5lZD17dG90YWxXb3Jkc31cclxuICAgICAgcXVlc3Rpb25zQ291bnQ9e3ByZWZlcmVuY2VzLnF1ZXN0aW9uc0NvdW50fSAvLyDwn5SlIFVUSUxJU0UgTEEgVkFMRVVSIERVIEhPT0tcclxuICAgICAgY3VycmVudExldmVsPXtjdXJyZW50TGV2ZWx9XHJcbiAgICAgIG9uQ2hvaWNlPXtoYW5kbGVDaG9pY2V9XHJcbiAgICAgIG9uRGlzbWlzcz17aGFuZGxlRGlzbWlzc31cclxuICAgIC8+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFJldmlzaW9uT3JjaGVzdHJhdG9yOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBLElBQUFBLE1BQUEsR0FBQUMsT0FB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