0b6c8f03c53b83edc6bf39fb0e349d3c
_getJestObj().mock('../../../src/hooks/useRevisionSettings');
_getJestObj().mock('expo-router', function () {
  return {
    router: {
      push: jest.fn()
    }
  };
});
_getJestObj().mock('@react-native-async-storage/async-storage', function () {
  return {
    getItem: jest.fn()
  };
});
_getJestObj().mock('../../../src/screens/Dashboard/components/popup/RevisionPopup', function () {
  var _require = require('react-native'),
    View = _require.View,
    Text = _require.Text,
    Button = _require.Button;
  return function (_ref) {
    var visible = _ref.visible,
      onChoice = _ref.onChoice,
      onDismiss = _ref.onDismiss,
      totalWordsLearned = _ref.totalWordsLearned,
      questionsCount = _ref.questionsCount;
    if (!visible) {
      return null;
    }
    return (0, _jsxRuntime.jsxs)(View, {
      testID: "revision-popup",
      children: [(0, _jsxRuntime.jsxs)(Text, {
        testID: "popup-words",
        children: ["Words: ", totalWordsLearned]
      }), (0, _jsxRuntime.jsxs)(Text, {
        testID: "popup-questions",
        children: ["Questions: ", questionsCount]
      }), (0, _jsxRuntime.jsx)(Button, {
        testID: "popup-now",
        title: "Now",
        onPress: function onPress() {
          return onChoice('now');
        }
      }), (0, _jsxRuntime.jsx)(Button, {
        testID: "popup-later50",
        title: "Later 50",
        onPress: function onPress() {
          return onChoice('later_50');
        }
      }), (0, _jsxRuntime.jsx)(Button, {
        testID: "popup-disable",
        title: "Disable",
        onPress: function onPress() {
          return onChoice('disable');
        }
      }), (0, _jsxRuntime.jsx)(Button, {
        testID: "popup-dismiss",
        title: "Dismiss",
        onPress: onDismiss
      })]
    });
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _reactNative2 = require("react-native");
var _RevisionOrchestrator = _interopRequireDefault(require("../../../src/screens/VocabularyRevision/RevisionOrchestrator"));
var RevisionSettingsHook = _interopRequireWildcard(require("../../../src/hooks/useRevisionSettings"));
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _expoRouter = require("expo-router");
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function _getJestObj() {
  var _require2 = require("@jest/globals"),
    jest = _require2.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('RevisionOrchestrator', function () {
  var mockUseRevisionSettings;
  var createWordsData = function createWordsData(wordCount) {
    var levels = ['1', '2', '3', '4', '5', '6', 'bonus'];
    var modes = ['classic', 'fast'];
    var result = {};
    var totalCreated = 0;
    var _loop = function _loop(level) {
      var _loop2 = function _loop2(mode) {
          if (totalCreated >= wordCount) return 0;
          var wordsForThisSection = Math.min(wordCount - totalCreated, Math.ceil(wordCount / (levels.length * modes.length)));
          result[`vocabulary_${level}_${mode}`] = JSON.stringify({
            completedWords: {
              unit1: Array.from({
                length: wordsForThisSection
              }, function (_, i) {
                return `word_${level}_${mode}_${i}`;
              })
            }
          });
          totalCreated += wordsForThisSection;
          if (totalCreated >= wordCount) return 0;
        },
        _ret;
      for (var mode of modes) {
        _ret = _loop2(mode);
        if (_ret === 0) break;
      }
      if (totalCreated >= wordCount) return 1;
    };
    for (var level of levels) {
      if (_loop(level)) break;
    }
    return result;
  };
  beforeEach(function () {
    jest.clearAllMocks();
    jest.useFakeTimers();
    mockUseRevisionSettings = {
      preferences: {
        isDisabled: false,
        nextRevisionAt: 100,
        questionsCount: 10,
        frequency: 50
      },
      disableRevisions: jest.fn().mockResolvedValue(true),
      resetToNextTarget: jest.fn().mockResolvedValue(true),
      updatePreferences: jest.fn().mockResolvedValue(true)
    };
    RevisionSettingsHook.useRevisionSettings.mockReturnValue(mockUseRevisionSettings);
    var defaultWordsData = createWordsData(3);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(defaultWordsData[key] || null);
    });
    jest.resetModules();
  });
  afterEach(function () {
    jest.useRealTimers();
  });
  it('ne rend rien si les révisions sont désactivées', (0, _asyncToGenerator2.default)(function* () {
    mockUseRevisionSettings.preferences.isDisabled = true;
    RevisionSettingsHook.useRevisionSettings.mockReturnValue(mockUseRevisionSettings);
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      queryByTestId = _render.queryByTestId;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(2000);
    }));
    expect(queryByTestId('revision-popup')).toBeNull();
  }));
  it('ne montre pas la popup si le nombre de mots est inférieur au seuil', (0, _asyncToGenerator2.default)(function* () {
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      queryByTestId = _render2.queryByTestId;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(2000);
    }));
    expect(queryByTestId('revision-popup')).toBeNull();
  }));
  it('montre la popup quand le nombre de mots atteint le seuil', (0, _asyncToGenerator2.default)(function* () {
    var wordsData = createWordsData(120);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(wordsData[key] || null);
    });
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      getByTestId = _render3.getByTestId,
      getByText = _render3.getByText;
    yield (0, _reactNative.waitFor)(function () {
      expect(_asyncStorage.default.getItem).toHaveBeenCalled();
    });
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(2000);
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(getByTestId('revision-popup')).toBeTruthy();
    }, {
      timeout: 3000
    });
    expect(getByText('Words: 120')).toBeTruthy();
    expect(getByText('Questions: 10')).toBeTruthy();
  }));
  it('appelle resetToNextTarget et navigue quand "now" est choisi', (0, _asyncToGenerator2.default)(function* () {
    var RevisionOrchestratorFresh = require('../../../src/screens/VocabularyRevision/RevisionOrchestrator').default;
    var wordsData = createWordsData(120);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(wordsData[key] || null);
    });
    var _render4 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(RevisionOrchestratorFresh, {
        currentLevel: "A1"
      })),
      getByTestId = _render4.getByTestId;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(2000);
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(getByTestId('revision-popup')).toBeTruthy();
    });
    var nowButton = getByTestId('popup-now');
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      _reactNative.fireEvent.press(nowButton);
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockUseRevisionSettings.resetToNextTarget).toHaveBeenCalledWith(120);
      expect(_expoRouter.router.push).toHaveBeenCalledWith({
        pathname: "/tabs/vocabularyRevision",
        params: {
          level: "A1",
          questionsCount: 10,
          source: 'popup_trigger'
        }
      });
    });
  }));
  it('appelle updatePreferences quand "later_50" est choisi', (0, _asyncToGenerator2.default)(function* () {
    var RevisionOrchestratorFresh = require('../../../src/screens/VocabularyRevision/RevisionOrchestrator').default;
    var wordsData = createWordsData(120);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(wordsData[key] || null);
    });
    var _render5 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(RevisionOrchestratorFresh, {})),
      getByTestId = _render5.getByTestId;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(2000);
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(getByTestId('revision-popup')).toBeTruthy();
    });
    var laterButton = getByTestId('popup-later50');
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      _reactNative.fireEvent.press(laterButton);
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockUseRevisionSettings.updatePreferences).toHaveBeenCalledWith({
        nextRevisionAt: 170
      });
    });
  }));
  it('appelle disableRevisions quand "disable" est choisi', (0, _asyncToGenerator2.default)(function* () {
    var RevisionOrchestratorFresh = require('../../../src/screens/VocabularyRevision/RevisionOrchestrator').default;
    var wordsData = createWordsData(120);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(wordsData[key] || null);
    });
    var _render6 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(RevisionOrchestratorFresh, {})),
      getByTestId = _render6.getByTestId;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(2000);
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(getByTestId('revision-popup')).toBeTruthy();
    });
    var disableButton = getByTestId('popup-disable');
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      _reactNative.fireEvent.press(disableButton);
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockUseRevisionSettings.disableRevisions).toHaveBeenCalled();
    });
  }));
  it('gère la fermeture (dismiss) en choisissant "later_50" par défaut', (0, _asyncToGenerator2.default)(function* () {
    var RevisionOrchestratorFresh = require('../../../src/screens/VocabularyRevision/RevisionOrchestrator').default;
    var wordsData = createWordsData(120);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(wordsData[key] || null);
    });
    var _render7 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(RevisionOrchestratorFresh, {})),
      getByTestId = _render7.getByTestId;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(2000);
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(getByTestId('revision-popup')).toBeTruthy();
    });
    var dismissButton = getByTestId('popup-dismiss');
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      _reactNative.fireEvent.press(dismissButton);
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockUseRevisionSettings.updatePreferences).toHaveBeenCalledWith({
        nextRevisionAt: 170
      });
    });
  }));
  it('debug - vérifie les conditions de la popup', (0, _asyncToGenerator2.default)(function* () {
    var wordsData = createWordsData(120);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(wordsData[key] || null);
    });
    var getItemSpy = jest.spyOn(_asyncStorage.default, 'getItem');
    var TestComponent = function TestComponent() {
      var _React$useState = _react.default.useState({}),
        _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),
        debugInfo = _React$useState2[0],
        setDebugInfo = _React$useState2[1];
      var _RevisionSettingsHook = RevisionSettingsHook.useRevisionSettings(),
        preferences = _RevisionSettingsHook.preferences;
      _react.default.useEffect(function () {
        var countWords = function () {
          var _ref19 = (0, _asyncToGenerator2.default)(function* () {
            var total = 0;
            var levels = ['1', '2', '3', '4', '5', '6', 'bonus'];
            var modes = ['classic', 'fast'];
            for (var level of levels) {
              for (var mode of modes) {
                var stored = yield _asyncStorage.default.getItem(`vocabulary_${level}_${mode}`);
                if (stored) {
                  var data = JSON.parse(stored);
                  var completedWords = data.completedWords || {};
                  total += Object.values(completedWords).reduce(function (acc, words) {
                    if (Array.isArray(words)) {
                      return acc + words.length;
                    }
                    return acc;
                  }, 0);
                }
              }
            }
            setDebugInfo({
              totalWords: total,
              isDisabled: preferences.isDisabled,
              nextRevisionAt: preferences.nextRevisionAt,
              shouldShow: !preferences.isDisabled && total >= preferences.nextRevisionAt && total > 0
            });
          });
          return function countWords() {
            return _ref19.apply(this, arguments);
          };
        }();
        countWords();
      }, [preferences]);
      return (0, _jsxRuntime.jsxs)(_reactNative2.View, {
        testID: "debug-info",
        children: [(0, _jsxRuntime.jsx)(_reactNative2.Text, {
          testID: "debug-total",
          children: debugInfo.totalWords
        }), (0, _jsxRuntime.jsx)(_reactNative2.Text, {
          testID: "debug-disabled",
          children: String(debugInfo.isDisabled)
        }), (0, _jsxRuntime.jsx)(_reactNative2.Text, {
          testID: "debug-threshold",
          children: debugInfo.nextRevisionAt
        }), (0, _jsxRuntime.jsx)(_reactNative2.Text, {
          testID: "debug-should-show",
          children: String(debugInfo.shouldShow)
        })]
      });
    };
    var _render8 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(TestComponent, {})),
      getByTestId = _render8.getByTestId;
    yield (0, _reactNative.waitFor)(function () {
      expect(getItemSpy).toHaveBeenCalled();
    });
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(1000);
    }));
    var totalWords = getByTestId('debug-total').children[0];
    var isDisabled = getByTestId('debug-disabled').children[0];
    var threshold = getByTestId('debug-threshold').children[0];
    var shouldShow = getByTestId('debug-should-show').children[0];
    console.log('Debug info:', {
      totalWords: totalWords,
      isDisabled: isDisabled,
      threshold: threshold,
      shouldShow: shouldShow
    });
    expect(totalWords).toBe('120');
    expect(isDisabled).toBe('false');
    expect(threshold).toBe('100');
    expect(shouldShow).toBe('true');
  }));
  it('compte correctement les mots depuis AsyncStorage', (0, _asyncToGenerator2.default)(function* () {
    var wordsData = createWordsData(85);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(wordsData[key] || null);
    });
    var _render9 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      queryByTestId = _render9.queryByTestId;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(2000);
    }));
    expect(queryByTestId('revision-popup')).toBeNull();
    var expectedCalls = ['1', '2', '3', '4', '5', '6', 'bonus'].flatMap(function (level) {
      return ['classic', 'fast'].map(function (mode) {
        return `vocabulary_${level}_${mode}`;
      });
    });
    expectedCalls.forEach(function (key) {
      expect(_asyncStorage.default.getItem).toHaveBeenCalledWith(key);
    });
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJyb3V0ZXIiLCJwdXNoIiwiamVzdCIsImZuIiwiZ2V0SXRlbSIsIl9yZXF1aXJlIiwicmVxdWlyZSIsIlZpZXciLCJUZXh0IiwiQnV0dG9uIiwiX3JlZiIsInZpc2libGUiLCJvbkNob2ljZSIsIm9uRGlzbWlzcyIsInRvdGFsV29yZHNMZWFybmVkIiwicXVlc3Rpb25zQ291bnQiLCJfanN4UnVudGltZSIsImpzeHMiLCJ0ZXN0SUQiLCJjaGlsZHJlbiIsImpzeCIsInRpdGxlIiwib25QcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfc2xpY2VkVG9BcnJheTIiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVhY3QiLCJfcmVhY3ROYXRpdmUiLCJfcmVhY3ROYXRpdmUyIiwiX1JldmlzaW9uT3JjaGVzdHJhdG9yIiwiUmV2aXNpb25TZXR0aW5nc0hvb2siLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9hc3luY1N0b3JhZ2UiLCJfZXhwb1JvdXRlciIsImUiLCJ0IiwiV2Vha01hcCIsInIiLCJuIiwiX19lc01vZHVsZSIsIm8iLCJpIiwiZiIsIl9fcHJvdG9fXyIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJzZXQiLCJfdCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX3JlcXVpcmUyIiwiZGVzY3JpYmUiLCJtb2NrVXNlUmV2aXNpb25TZXR0aW5ncyIsImNyZWF0ZVdvcmRzRGF0YSIsIndvcmRDb3VudCIsImxldmVscyIsIm1vZGVzIiwicmVzdWx0IiwidG90YWxDcmVhdGVkIiwiX2xvb3AiLCJsZXZlbCIsIl9sb29wMiIsIm1vZGUiLCJ3b3Jkc0ZvclRoaXNTZWN0aW9uIiwiTWF0aCIsIm1pbiIsImNlaWwiLCJsZW5ndGgiLCJKU09OIiwic3RyaW5naWZ5IiwiY29tcGxldGVkV29yZHMiLCJ1bml0MSIsIkFycmF5IiwiZnJvbSIsIl8iLCJfcmV0IiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJ1c2VGYWtlVGltZXJzIiwicHJlZmVyZW5jZXMiLCJpc0Rpc2FibGVkIiwibmV4dFJldmlzaW9uQXQiLCJmcmVxdWVuY3kiLCJkaXNhYmxlUmV2aXNpb25zIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJyZXNldFRvTmV4dFRhcmdldCIsInVwZGF0ZVByZWZlcmVuY2VzIiwidXNlUmV2aXNpb25TZXR0aW5ncyIsIm1vY2tSZXR1cm5WYWx1ZSIsImRlZmF1bHRXb3Jkc0RhdGEiLCJBc3luY1N0b3JhZ2UiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJrZXkiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlc2V0TW9kdWxlcyIsImFmdGVyRWFjaCIsInVzZVJlYWxUaW1lcnMiLCJpdCIsIl9yZW5kZXIiLCJyZW5kZXIiLCJxdWVyeUJ5VGVzdElkIiwiYWN0IiwiYWR2YW5jZVRpbWVyc0J5VGltZSIsImV4cGVjdCIsInRvQmVOdWxsIiwiX3JlbmRlcjIiLCJ3b3Jkc0RhdGEiLCJfcmVuZGVyMyIsImdldEJ5VGVzdElkIiwiZ2V0QnlUZXh0Iiwid2FpdEZvciIsInRvSGF2ZUJlZW5DYWxsZWQiLCJ0b0JlVHJ1dGh5IiwidGltZW91dCIsIlJldmlzaW9uT3JjaGVzdHJhdG9yRnJlc2giLCJfcmVuZGVyNCIsImN1cnJlbnRMZXZlbCIsIm5vd0J1dHRvbiIsImZpcmVFdmVudCIsInByZXNzIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJwYXRobmFtZSIsInBhcmFtcyIsInNvdXJjZSIsIl9yZW5kZXI1IiwibGF0ZXJCdXR0b24iLCJfcmVuZGVyNiIsImRpc2FibGVCdXR0b24iLCJfcmVuZGVyNyIsImRpc21pc3NCdXR0b24iLCJnZXRJdGVtU3B5Iiwic3B5T24iLCJUZXN0Q29tcG9uZW50IiwiX1JlYWN0JHVzZVN0YXRlIiwiUmVhY3QiLCJ1c2VTdGF0ZSIsIl9SZWFjdCR1c2VTdGF0ZTIiLCJkZWJ1Z0luZm8iLCJzZXREZWJ1Z0luZm8iLCJfUmV2aXNpb25TZXR0aW5nc0hvb2siLCJ1c2VFZmZlY3QiLCJjb3VudFdvcmRzIiwiX3JlZjE5IiwidG90YWwiLCJzdG9yZWQiLCJkYXRhIiwicGFyc2UiLCJ2YWx1ZXMiLCJyZWR1Y2UiLCJhY2MiLCJ3b3JkcyIsImlzQXJyYXkiLCJ0b3RhbFdvcmRzIiwic2hvdWxkU2hvdyIsImFwcGx5IiwiYXJndW1lbnRzIiwiU3RyaW5nIiwiX3JlbmRlcjgiLCJ0aHJlc2hvbGQiLCJjb25zb2xlIiwibG9nIiwidG9CZSIsIl9yZW5kZXI5IiwiZXhwZWN0ZWRDYWxscyIsImZsYXRNYXAiLCJtYXAiLCJmb3JFYWNoIl0sInNvdXJjZXMiOlsiUmV2aXNpb25PcmNoZXN0cmF0b3IudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyLCB3YWl0Rm9yLCBmaXJlRXZlbnQsIGFjdCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtbmF0aXZlJztcbmltcG9ydCB7IFZpZXcsIFRleHQgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuaW1wb3J0IFJldmlzaW9uT3JjaGVzdHJhdG9yIGZyb20gJy4uLy4uLy4uL3NyYy9zY3JlZW5zL1ZvY2FidWxhcnlSZXZpc2lvbi9SZXZpc2lvbk9yY2hlc3RyYXRvcic7XG5pbXBvcnQgKiBhcyBSZXZpc2lvblNldHRpbmdzSG9vayBmcm9tICcuLi8uLi8uLi9zcmMvaG9va3MvdXNlUmV2aXNpb25TZXR0aW5ncyc7XG5pbXBvcnQgQXN5bmNTdG9yYWdlIGZyb20gJ0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS9hc3luYy1zdG9yYWdlJztcbmltcG9ydCB7IHJvdXRlciB9IGZyb20gJ2V4cG8tcm91dGVyJztcblxuLy8gTW9ja2luZyBkZXBlbmRlbmNpZXNcbmplc3QubW9jaygnLi4vLi4vLi4vc3JjL2hvb2tzL3VzZVJldmlzaW9uU2V0dGluZ3MnKTtcbmplc3QubW9jaygnZXhwby1yb3V0ZXInLCAoKSA9PiAoe1xuICByb3V0ZXI6IHtcbiAgICBwdXNoOiBqZXN0LmZuKCksXG4gIH0sXG59KSk7XG5qZXN0Lm1vY2soJ0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS9hc3luYy1zdG9yYWdlJywgKCkgPT4gKHtcbiAgZ2V0SXRlbTogamVzdC5mbigpLFxufSkpO1xuXG4vLyBNb2NrIHBvdXIgbGUgY29tcG9zYW50IFBvcHVwLlxuamVzdC5tb2NrKCcuLi8uLi8uLi9zcmMvc2NyZWVucy9EYXNoYm9hcmQvY29tcG9uZW50cy9wb3B1cC9SZXZpc2lvblBvcHVwJywgKCkgPT4ge1xuICBjb25zdCB7IFZpZXcsIFRleHQsIEJ1dHRvbiB9ID0gcmVxdWlyZSgncmVhY3QtbmF0aXZlJyk7XG4gIHJldHVybiAoeyB2aXNpYmxlLCBvbkNob2ljZSwgb25EaXNtaXNzLCB0b3RhbFdvcmRzTGVhcm5lZCwgcXVlc3Rpb25zQ291bnQgfSkgPT4ge1xuICAgIGlmICghdmlzaWJsZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8VmlldyB0ZXN0SUQ9XCJyZXZpc2lvbi1wb3B1cFwiPlxuICAgICAgICA8VGV4dCB0ZXN0SUQ9XCJwb3B1cC13b3Jkc1wiPldvcmRzOiB7dG90YWxXb3Jkc0xlYXJuZWR9PC9UZXh0PlxuICAgICAgICA8VGV4dCB0ZXN0SUQ9XCJwb3B1cC1xdWVzdGlvbnNcIj5RdWVzdGlvbnM6IHtxdWVzdGlvbnNDb3VudH08L1RleHQ+XG4gICAgICAgIDxCdXR0b24gdGVzdElEPVwicG9wdXAtbm93XCIgdGl0bGU9XCJOb3dcIiBvblByZXNzPXsoKSA9PiBvbkNob2ljZSgnbm93Jyl9IC8+XG4gICAgICAgIDxCdXR0b24gdGVzdElEPVwicG9wdXAtbGF0ZXI1MFwiIHRpdGxlPVwiTGF0ZXIgNTBcIiBvblByZXNzPXsoKSA9PiBvbkNob2ljZSgnbGF0ZXJfNTAnKX0gLz5cbiAgICAgICAgPEJ1dHRvbiB0ZXN0SUQ9XCJwb3B1cC1kaXNhYmxlXCIgdGl0bGU9XCJEaXNhYmxlXCIgb25QcmVzcz17KCkgPT4gb25DaG9pY2UoJ2Rpc2FibGUnKX0gLz5cbiAgICAgICAgPEJ1dHRvbiB0ZXN0SUQ9XCJwb3B1cC1kaXNtaXNzXCIgdGl0bGU9XCJEaXNtaXNzXCIgb25QcmVzcz17b25EaXNtaXNzfSAvPlxuICAgICAgPC9WaWV3PlxuICAgICk7XG4gIH07XG59KTtcblxuZGVzY3JpYmUoJ1JldmlzaW9uT3JjaGVzdHJhdG9yJywgKCkgPT4ge1xuICBsZXQgbW9ja1VzZVJldmlzaW9uU2V0dGluZ3M7XG5cbiAgLy8gSGVscGVyIHBvdXIgY3LDqWVyIGRlcyBkb25uw6llcyBkZSBtb3RzIGFwcHJpc1xuICBjb25zdCBjcmVhdGVXb3Jkc0RhdGEgPSAod29yZENvdW50KSA9PiB7XG4gICAgY29uc3QgbGV2ZWxzID0gWycxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICdib251cyddO1xuICAgIGNvbnN0IG1vZGVzID0gWydjbGFzc2ljJywgJ2Zhc3QnXTtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBcbiAgICBsZXQgdG90YWxDcmVhdGVkID0gMDtcbiAgICBmb3IgKGNvbnN0IGxldmVsIG9mIGxldmVscykge1xuICAgICAgZm9yIChjb25zdCBtb2RlIG9mIG1vZGVzKSB7XG4gICAgICAgIGlmICh0b3RhbENyZWF0ZWQgPj0gd29yZENvdW50KSBicmVhaztcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHdvcmRzRm9yVGhpc1NlY3Rpb24gPSBNYXRoLm1pbih3b3JkQ291bnQgLSB0b3RhbENyZWF0ZWQsIE1hdGguY2VpbCh3b3JkQ291bnQgLyAobGV2ZWxzLmxlbmd0aCAqIG1vZGVzLmxlbmd0aCkpKTtcbiAgICAgICAgcmVzdWx0W2B2b2NhYnVsYXJ5XyR7bGV2ZWx9XyR7bW9kZX1gXSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBjb21wbGV0ZWRXb3Jkczoge1xuICAgICAgICAgICAgdW5pdDE6IEFycmF5LmZyb20oeyBsZW5ndGg6IHdvcmRzRm9yVGhpc1NlY3Rpb24gfSwgKF8sIGkpID0+IGB3b3JkXyR7bGV2ZWx9XyR7bW9kZX1fJHtpfWApXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdG90YWxDcmVhdGVkICs9IHdvcmRzRm9yVGhpc1NlY3Rpb247XG4gICAgICAgIFxuICAgICAgICBpZiAodG90YWxDcmVhdGVkID49IHdvcmRDb3VudCkgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAodG90YWxDcmVhdGVkID49IHdvcmRDb3VudCkgYnJlYWs7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgLy8gUsOpaW5pdGlhbGlzZXIgdG91cyBsZXMgbW9ja3MgYXZhbnQgY2hhcXVlIHRlc3RcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBqZXN0LnVzZUZha2VUaW1lcnMoKTtcblxuICAgIC8vIE1vY2sgcGFyIGTDqWZhdXQgcG91ciBsZSBob29rIHVzZVJldmlzaW9uU2V0dGluZ3NcbiAgICBtb2NrVXNlUmV2aXNpb25TZXR0aW5ncyA9IHtcbiAgICAgIHByZWZlcmVuY2VzOiB7XG4gICAgICAgIGlzRGlzYWJsZWQ6IGZhbHNlLFxuICAgICAgICBuZXh0UmV2aXNpb25BdDogMTAwLCAvLyBMYSBwb3B1cCBzZSBkw6ljbGVuY2hlIMOgIDEwMCBtb3RzXG4gICAgICAgIHF1ZXN0aW9uc0NvdW50OiAxMCxcbiAgICAgICAgZnJlcXVlbmN5OiA1MCxcbiAgICAgIH0sXG4gICAgICBkaXNhYmxlUmV2aXNpb25zOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodHJ1ZSksXG4gICAgICByZXNldFRvTmV4dFRhcmdldDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHRydWUpLFxuICAgICAgdXBkYXRlUHJlZmVyZW5jZXM6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh0cnVlKSxcbiAgICB9O1xuICAgIFJldmlzaW9uU2V0dGluZ3NIb29rLnVzZVJldmlzaW9uU2V0dGluZ3MubW9ja1JldHVyblZhbHVlKG1vY2tVc2VSZXZpc2lvblNldHRpbmdzKTtcblxuICAgIC8vIE1vY2sgcGFyIGTDqWZhdXQgcG91ciBBc3luY1N0b3JhZ2UgKHBldSBkZSBtb3RzKVxuICAgIGNvbnN0IGRlZmF1bHRXb3Jkc0RhdGEgPSBjcmVhdGVXb3Jkc0RhdGEoMyk7XG4gICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja0ltcGxlbWVudGF0aW9uKChrZXkpID0+IHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZGVmYXVsdFdvcmRzRGF0YVtrZXldIHx8IG51bGwpO1xuICAgIH0pO1xuXG4gICAgLy8gSU1QT1JUQU5UOiBSw6lpbml0aWFsaXNlciBsZSBtb2R1bGUgUmV2aXNpb25PcmNoZXN0cmF0b3IgcG91ciBjaGFxdWUgdGVzdFxuICAgIC8vIENlbGEgw6l2aXRlIHF1ZSBwb3B1cFNob3duUmVmIHJlc3RlIMOgIHRydWUgZW50cmUgbGVzIHRlc3RzXG4gICAgamVzdC5yZXNldE1vZHVsZXMoKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBqZXN0LnVzZVJlYWxUaW1lcnMoKTtcbiAgfSk7XG5cbiAgaXQoJ25lIHJlbmQgcmllbiBzaSBsZXMgcsOpdmlzaW9ucyBzb250IGTDqXNhY3RpdsOpZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgbW9ja1VzZVJldmlzaW9uU2V0dGluZ3MucHJlZmVyZW5jZXMuaXNEaXNhYmxlZCA9IHRydWU7XG4gICAgUmV2aXNpb25TZXR0aW5nc0hvb2sudXNlUmV2aXNpb25TZXR0aW5ncy5tb2NrUmV0dXJuVmFsdWUobW9ja1VzZVJldmlzaW9uU2V0dGluZ3MpO1xuXG4gICAgY29uc3QgeyBxdWVyeUJ5VGVzdElkIH0gPSByZW5kZXIoPFJldmlzaW9uT3JjaGVzdHJhdG9yIC8+KTtcbiAgICBcbiAgICAvLyBBdHRlbmRyZSBxdWUgbGVzIGRvbm7DqWVzIHNvaWVudCBjaGFyZ8OpZXNcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDIwMDApO1xuICAgIH0pO1xuICAgIFxuICAgIGV4cGVjdChxdWVyeUJ5VGVzdElkKCdyZXZpc2lvbi1wb3B1cCcpKS50b0JlTnVsbCgpO1xuICB9KTtcblxuICBpdCgnbmUgbW9udHJlIHBhcyBsYSBwb3B1cCBzaSBsZSBub21icmUgZGUgbW90cyBlc3QgaW5mw6lyaWV1ciBhdSBzZXVpbCcsIGFzeW5jICgpID0+IHtcbiAgICAvLyBMZSBtb2NrIHBhciBkw6lmYXV0IGEgMyBtb3RzLCBsZSBzZXVpbCBlc3Qgw6AgMTAwXG4gICAgY29uc3QgeyBxdWVyeUJ5VGVzdElkIH0gPSByZW5kZXIoPFJldmlzaW9uT3JjaGVzdHJhdG9yIC8+KTtcbiAgICBcbiAgICAvLyBBdHRlbmRyZSBxdWUgbGVzIGRvbm7DqWVzIHNvaWVudCBjaGFyZ8OpZXMgZXQgbGUgdGltZXIgcydleMOpY3V0ZVxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMjAwMCk7XG4gICAgfSk7XG5cbiAgICBleHBlY3QocXVlcnlCeVRlc3RJZCgncmV2aXNpb24tcG9wdXAnKSkudG9CZU51bGwoKTtcbiAgfSk7XG5cbiAgaXQoJ21vbnRyZSBsYSBwb3B1cCBxdWFuZCBsZSBub21icmUgZGUgbW90cyBhdHRlaW50IGxlIHNldWlsJywgYXN5bmMgKCkgPT4ge1xuICAgIC8vIENvbmZpZ3VyZXIgQXN5bmNTdG9yYWdlIHBvdXIgcmV0b3VybmVyIDEyMCBtb3RzXG4gICAgY29uc3Qgd29yZHNEYXRhID0gY3JlYXRlV29yZHNEYXRhKDEyMCk7XG4gICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja0ltcGxlbWVudGF0aW9uKChrZXkpID0+IHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUod29yZHNEYXRhW2tleV0gfHwgbnVsbCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCB7IGdldEJ5VGVzdElkLCBnZXRCeVRleHQgfSA9IHJlbmRlcig8UmV2aXNpb25PcmNoZXN0cmF0b3IgLz4pO1xuICAgIFxuICAgIC8vIEF0dGVuZHJlIHF1ZSBsZXMgZG9ubsOpZXMgQXN5bmNTdG9yYWdlIHNvaWVudCBjaGFyZ8OpZXNcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChBc3luY1N0b3JhZ2UuZ2V0SXRlbSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgLy8gQXR0ZW5kcmUgcXVlIGxlcyBkb25uw6llcyBzb2llbnQgY2hhcmfDqWVzIGV0IGxlIHRpbWVyIHMnZXjDqWN1dGVcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDIwMDApOyAvLyBEw6lwYXNzZSBsZSBkw6lsYWkgZGUgMTAwMG1zIGR1IHNldFRpbWVvdXRcbiAgICB9KTtcblxuICAgIC8vIEF0dGVuZHJlIHVuIHBldSBwbHVzIHBvdXIgcXVlIGxlIHN0YXRlIHNlIG1ldHRlIMOgIGpvdXJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChnZXRCeVRlc3RJZCgncmV2aXNpb24tcG9wdXAnKSkudG9CZVRydXRoeSgpO1xuICAgIH0sIHsgdGltZW91dDogMzAwMCB9KTtcblxuICAgIGV4cGVjdChnZXRCeVRleHQoJ1dvcmRzOiAxMjAnKSkudG9CZVRydXRoeSgpO1xuICAgIGV4cGVjdChnZXRCeVRleHQoJ1F1ZXN0aW9uczogMTAnKSkudG9CZVRydXRoeSgpO1xuICB9KTtcblxuICBpdCgnYXBwZWxsZSByZXNldFRvTmV4dFRhcmdldCBldCBuYXZpZ3VlIHF1YW5kIFwibm93XCIgZXN0IGNob2lzaScsIGFzeW5jICgpID0+IHtcbiAgICAvLyBSw6lpbXBvcnRlciBsZSBjb21wb3NhbnQgcG91ciDDqXZpdGVyIGxlIGNhY2hlIGR1IHBvcHVwU2hvd25SZWZcbiAgICBjb25zdCBSZXZpc2lvbk9yY2hlc3RyYXRvckZyZXNoID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL3NjcmVlbnMvVm9jYWJ1bGFyeVJldmlzaW9uL1JldmlzaW9uT3JjaGVzdHJhdG9yJykuZGVmYXVsdDtcbiAgICBcbiAgICAvLyBDb25maWd1cmVyIEFzeW5jU3RvcmFnZSBwb3VyIHJldG91cm5lciAxMjAgbW90c1xuICAgIGNvbnN0IHdvcmRzRGF0YSA9IGNyZWF0ZVdvcmRzRGF0YSgxMjApO1xuICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tJbXBsZW1lbnRhdGlvbigoa2V5KSA9PiB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHdvcmRzRGF0YVtrZXldIHx8IG51bGwpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgeyBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyKDxSZXZpc2lvbk9yY2hlc3RyYXRvckZyZXNoIGN1cnJlbnRMZXZlbD1cIkExXCIgLz4pO1xuICAgIFxuICAgIC8vIEF0dGVuZHJlIHF1ZSBsYSBwb3B1cCBhcHBhcmFpc3NlXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgyMDAwKTtcbiAgICB9KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KGdldEJ5VGVzdElkKCdyZXZpc2lvbi1wb3B1cCcpKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBub3dCdXR0b24gPSBnZXRCeVRlc3RJZCgncG9wdXAtbm93Jyk7XG4gICAgXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhub3dCdXR0b24pO1xuICAgIH0pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QobW9ja1VzZVJldmlzaW9uU2V0dGluZ3MucmVzZXRUb05leHRUYXJnZXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKDEyMCk7XG4gICAgICBleHBlY3Qocm91dGVyLnB1c2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgcGF0aG5hbWU6IFwiL3RhYnMvdm9jYWJ1bGFyeVJldmlzaW9uXCIsXG4gICAgICAgIHBhcmFtczoge1xuICAgICAgICAgIGxldmVsOiBcIkExXCIsXG4gICAgICAgICAgcXVlc3Rpb25zQ291bnQ6IDEwLFxuICAgICAgICAgIHNvdXJjZTogJ3BvcHVwX3RyaWdnZXInLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdhcHBlbGxlIHVwZGF0ZVByZWZlcmVuY2VzIHF1YW5kIFwibGF0ZXJfNTBcIiBlc3QgY2hvaXNpJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IFJldmlzaW9uT3JjaGVzdHJhdG9yRnJlc2ggPSByZXF1aXJlKCcuLi8uLi8uLi9zcmMvc2NyZWVucy9Wb2NhYnVsYXJ5UmV2aXNpb24vUmV2aXNpb25PcmNoZXN0cmF0b3InKS5kZWZhdWx0O1xuICAgIFxuICAgIGNvbnN0IHdvcmRzRGF0YSA9IGNyZWF0ZVdvcmRzRGF0YSgxMjApO1xuICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tJbXBsZW1lbnRhdGlvbigoa2V5KSA9PiB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHdvcmRzRGF0YVtrZXldIHx8IG51bGwpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgeyBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyKDxSZXZpc2lvbk9yY2hlc3RyYXRvckZyZXNoIC8+KTtcbiAgICBcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDIwMDApO1xuICAgIH0pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QoZ2V0QnlUZXN0SWQoJ3JldmlzaW9uLXBvcHVwJykpLnRvQmVUcnV0aHkoKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGxhdGVyQnV0dG9uID0gZ2V0QnlUZXN0SWQoJ3BvcHVwLWxhdGVyNTAnKTtcbiAgICBcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgZmlyZUV2ZW50LnByZXNzKGxhdGVyQnV0dG9uKTtcbiAgICB9KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgLy8gMTIwIG1vdHMgKyA1MCA9IDE3MFxuICAgICAgZXhwZWN0KG1vY2tVc2VSZXZpc2lvblNldHRpbmdzLnVwZGF0ZVByZWZlcmVuY2VzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7IFxuICAgICAgICBuZXh0UmV2aXNpb25BdDogMTcwIFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdhcHBlbGxlIGRpc2FibGVSZXZpc2lvbnMgcXVhbmQgXCJkaXNhYmxlXCIgZXN0IGNob2lzaScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBSZXZpc2lvbk9yY2hlc3RyYXRvckZyZXNoID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL3NjcmVlbnMvVm9jYWJ1bGFyeVJldmlzaW9uL1JldmlzaW9uT3JjaGVzdHJhdG9yJykuZGVmYXVsdDtcbiAgICBcbiAgICBjb25zdCB3b3Jkc0RhdGEgPSBjcmVhdGVXb3Jkc0RhdGEoMTIwKTtcbiAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrSW1wbGVtZW50YXRpb24oKGtleSkgPT4ge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh3b3Jkc0RhdGFba2V5XSB8fCBudWxsKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcig8UmV2aXNpb25PcmNoZXN0cmF0b3JGcmVzaCAvPik7XG4gICAgXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgyMDAwKTtcbiAgICB9KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KGdldEJ5VGVzdElkKCdyZXZpc2lvbi1wb3B1cCcpKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBkaXNhYmxlQnV0dG9uID0gZ2V0QnlUZXN0SWQoJ3BvcHVwLWRpc2FibGUnKTtcbiAgICBcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgZmlyZUV2ZW50LnByZXNzKGRpc2FibGVCdXR0b24pO1xuICAgIH0pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QobW9ja1VzZVJldmlzaW9uU2V0dGluZ3MuZGlzYWJsZVJldmlzaW9ucykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBpdCgnZ8OocmUgbGEgZmVybWV0dXJlIChkaXNtaXNzKSBlbiBjaG9pc2lzc2FudCBcImxhdGVyXzUwXCIgcGFyIGTDqWZhdXQnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgUmV2aXNpb25PcmNoZXN0cmF0b3JGcmVzaCA9IHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9zY3JlZW5zL1ZvY2FidWxhcnlSZXZpc2lvbi9SZXZpc2lvbk9yY2hlc3RyYXRvcicpLmRlZmF1bHQ7XG4gICAgXG4gICAgY29uc3Qgd29yZHNEYXRhID0gY3JlYXRlV29yZHNEYXRhKDEyMCk7XG4gICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja0ltcGxlbWVudGF0aW9uKChrZXkpID0+IHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUod29yZHNEYXRhW2tleV0gfHwgbnVsbCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCB7IGdldEJ5VGVzdElkIH0gPSByZW5kZXIoPFJldmlzaW9uT3JjaGVzdHJhdG9yRnJlc2ggLz4pO1xuICAgIFxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMjAwMCk7XG4gICAgfSk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChnZXRCeVRlc3RJZCgncmV2aXNpb24tcG9wdXAnKSkudG9CZVRydXRoeSgpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgZGlzbWlzc0J1dHRvbiA9IGdldEJ5VGVzdElkKCdwb3B1cC1kaXNtaXNzJyk7XG4gICAgXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhkaXNtaXNzQnV0dG9uKTtcbiAgICB9KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KG1vY2tVc2VSZXZpc2lvblNldHRpbmdzLnVwZGF0ZVByZWZlcmVuY2VzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7IFxuICAgICAgICBuZXh0UmV2aXNpb25BdDogMTcwIFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIFRlc3QgZGUgZGVidWdnaW5nIHBvdXIgY29tcHJlbmRyZSBsZSBjb21wb3J0ZW1lbnRcbiAgaXQoJ2RlYnVnIC0gdsOpcmlmaWUgbGVzIGNvbmRpdGlvbnMgZGUgbGEgcG9wdXAnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qgd29yZHNEYXRhID0gY3JlYXRlV29yZHNEYXRhKDEyMCk7XG4gICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja0ltcGxlbWVudGF0aW9uKChrZXkpID0+IHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUod29yZHNEYXRhW2tleV0gfHwgbnVsbCk7XG4gICAgfSk7XG5cbiAgICAvLyBFc3Bpb25uZXIgbGVzIGFwcGVscyBBc3luY1N0b3JhZ2VcbiAgICBjb25zdCBnZXRJdGVtU3B5ID0gamVzdC5zcHlPbihBc3luY1N0b3JhZ2UsICdnZXRJdGVtJyk7XG5cbiAgICBjb25zdCBUZXN0Q29tcG9uZW50ID0gKCkgPT4ge1xuICAgICAgY29uc3QgW2RlYnVnSW5mbywgc2V0RGVidWdJbmZvXSA9IFJlYWN0LnVzZVN0YXRlKHt9KTtcbiAgICAgIGNvbnN0IHsgcHJlZmVyZW5jZXMgfSA9IFJldmlzaW9uU2V0dGluZ3NIb29rLnVzZVJldmlzaW9uU2V0dGluZ3MoKTtcbiAgICAgIFxuICAgICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgY291bnRXb3JkcyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBsZXQgdG90YWwgPSAwO1xuICAgICAgICAgIGNvbnN0IGxldmVscyA9IFsnMScsICcyJywgJzMnLCAnNCcsICc1JywgJzYnLCAnYm9udXMnXTtcbiAgICAgICAgICBjb25zdCBtb2RlcyA9IFsnY2xhc3NpYycsICdmYXN0J107XG5cbiAgICAgICAgICBmb3IgKGNvbnN0IGxldmVsIG9mIGxldmVscykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBtb2RlIG9mIG1vZGVzKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHN0b3JlZCA9IGF3YWl0IEFzeW5jU3RvcmFnZS5nZXRJdGVtKGB2b2NhYnVsYXJ5XyR7bGV2ZWx9XyR7bW9kZX1gKTtcbiAgICAgICAgICAgICAgaWYgKHN0b3JlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHN0b3JlZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcGxldGVkV29yZHMgPSBkYXRhLmNvbXBsZXRlZFdvcmRzIHx8IHt9O1xuICAgICAgICAgICAgICAgIHRvdGFsICs9IE9iamVjdC52YWx1ZXMoY29tcGxldGVkV29yZHMpLnJlZHVjZSgoYWNjLCB3b3JkcykgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkod29yZHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2MgKyB3b3Jkcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIHNldERlYnVnSW5mbyh7XG4gICAgICAgICAgICB0b3RhbFdvcmRzOiB0b3RhbCxcbiAgICAgICAgICAgIGlzRGlzYWJsZWQ6IHByZWZlcmVuY2VzLmlzRGlzYWJsZWQsXG4gICAgICAgICAgICBuZXh0UmV2aXNpb25BdDogcHJlZmVyZW5jZXMubmV4dFJldmlzaW9uQXQsXG4gICAgICAgICAgICBzaG91bGRTaG93OiAhcHJlZmVyZW5jZXMuaXNEaXNhYmxlZCAmJiB0b3RhbCA+PSBwcmVmZXJlbmNlcy5uZXh0UmV2aXNpb25BdCAmJiB0b3RhbCA+IDBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb3VudFdvcmRzKCk7XG4gICAgICB9LCBbcHJlZmVyZW5jZXNdKTtcblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFZpZXcgdGVzdElEPVwiZGVidWctaW5mb1wiPlxuICAgICAgICAgIDxUZXh0IHRlc3RJRD1cImRlYnVnLXRvdGFsXCI+e2RlYnVnSW5mby50b3RhbFdvcmRzfTwvVGV4dD5cbiAgICAgICAgICA8VGV4dCB0ZXN0SUQ9XCJkZWJ1Zy1kaXNhYmxlZFwiPntTdHJpbmcoZGVidWdJbmZvLmlzRGlzYWJsZWQpfTwvVGV4dD5cbiAgICAgICAgICA8VGV4dCB0ZXN0SUQ9XCJkZWJ1Zy10aHJlc2hvbGRcIj57ZGVidWdJbmZvLm5leHRSZXZpc2lvbkF0fTwvVGV4dD5cbiAgICAgICAgICA8VGV4dCB0ZXN0SUQ9XCJkZWJ1Zy1zaG91bGQtc2hvd1wiPntTdHJpbmcoZGVidWdJbmZvLnNob3VsZFNob3cpfTwvVGV4dD5cbiAgICAgICAgPC9WaWV3PlxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgY29uc3QgeyBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyKDxUZXN0Q29tcG9uZW50IC8+KTtcbiAgICBcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChnZXRJdGVtU3B5KS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDEwMDApO1xuICAgIH0pO1xuXG4gICAgY29uc3QgdG90YWxXb3JkcyA9IGdldEJ5VGVzdElkKCdkZWJ1Zy10b3RhbCcpLmNoaWxkcmVuWzBdO1xuICAgIGNvbnN0IGlzRGlzYWJsZWQgPSBnZXRCeVRlc3RJZCgnZGVidWctZGlzYWJsZWQnKS5jaGlsZHJlblswXTtcbiAgICBjb25zdCB0aHJlc2hvbGQgPSBnZXRCeVRlc3RJZCgnZGVidWctdGhyZXNob2xkJykuY2hpbGRyZW5bMF07XG4gICAgY29uc3Qgc2hvdWxkU2hvdyA9IGdldEJ5VGVzdElkKCdkZWJ1Zy1zaG91bGQtc2hvdycpLmNoaWxkcmVuWzBdO1xuXG4gICAgY29uc29sZS5sb2coJ0RlYnVnIGluZm86Jywge1xuICAgICAgdG90YWxXb3JkcyxcbiAgICAgIGlzRGlzYWJsZWQsXG4gICAgICB0aHJlc2hvbGQsXG4gICAgICBzaG91bGRTaG93XG4gICAgfSk7XG5cbiAgICBleHBlY3QodG90YWxXb3JkcykudG9CZSgnMTIwJyk7XG4gICAgZXhwZWN0KGlzRGlzYWJsZWQpLnRvQmUoJ2ZhbHNlJyk7XG4gICAgZXhwZWN0KHRocmVzaG9sZCkudG9CZSgnMTAwJyk7XG4gICAgZXhwZWN0KHNob3VsZFNob3cpLnRvQmUoJ3RydWUnKTtcbiAgfSk7XG5cbiAgLy8gVGVzdCBzdXBwbMOpbWVudGFpcmUgcG91ciB2w6lyaWZpZXIgbGUgY29tcHRhZ2UgZGVzIG1vdHNcbiAgaXQoJ2NvbXB0ZSBjb3JyZWN0ZW1lbnQgbGVzIG1vdHMgZGVwdWlzIEFzeW5jU3RvcmFnZScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB3b3Jkc0RhdGEgPSBjcmVhdGVXb3Jkc0RhdGEoODUpO1xuICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tJbXBsZW1lbnRhdGlvbigoa2V5KSA9PiB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHdvcmRzRGF0YVtrZXldIHx8IG51bGwpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgeyBxdWVyeUJ5VGVzdElkIH0gPSByZW5kZXIoPFJldmlzaW9uT3JjaGVzdHJhdG9yIC8+KTtcbiAgICBcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDIwMDApO1xuICAgIH0pO1xuXG4gICAgLy8gQXZlYyA4NSBtb3RzIGV0IHVuIHNldWlsIMOgIDEwMCwgbGEgcG9wdXAgbmUgZG9pdCBwYXMgYXBwYXJhw650cmVcbiAgICBleHBlY3QocXVlcnlCeVRlc3RJZCgncmV2aXNpb24tcG9wdXAnKSkudG9CZU51bGwoKTtcbiAgICBcbiAgICAvLyBWw6lyaWZpZXIgcXVlIEFzeW5jU3RvcmFnZSBhIMOpdMOpIGFwcGVsw6kgcG91ciB0b3VzIGxlcyBuaXZlYXV4L21vZGVzXG4gICAgY29uc3QgZXhwZWN0ZWRDYWxscyA9IFsnMScsICcyJywgJzMnLCAnNCcsICc1JywgJzYnLCAnYm9udXMnXVxuICAgICAgLmZsYXRNYXAobGV2ZWwgPT4gWydjbGFzc2ljJywgJ2Zhc3QnXS5tYXAobW9kZSA9PiBgdm9jYWJ1bGFyeV8ke2xldmVsfV8ke21vZGV9YCkpO1xuICAgIFxuICAgIGV4cGVjdGVkQ2FsbHMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgZXhwZWN0KEFzeW5jU3RvcmFnZS5nZXRJdGVtKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChrZXkpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFTQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsd0NBQXdDLENBQUM7QUFDbkRELFdBQUEsR0FBS0MsSUFBSSxDQUFDLGFBQWEsRUFBRTtFQUFBLE9BQU87SUFDOUJDLE1BQU0sRUFBRTtNQUNOQyxJQUFJLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDO0lBQ2hCO0VBQ0YsQ0FBQztBQUFBLENBQUMsQ0FBQztBQUNITCxXQUFBLEdBQUtDLElBQUksQ0FBQywyQ0FBMkMsRUFBRTtFQUFBLE9BQU87SUFDNURLLE9BQU8sRUFBRUYsSUFBSSxDQUFDQyxFQUFFLENBQUM7RUFDbkIsQ0FBQztBQUFBLENBQUMsQ0FBQztBQUdITCxX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