{"version":3,"names":["_reactNative","require","_vectorIcons","_native","_react","_propTypes","_interopRequireDefault","_constants","_style","_jsxRuntime","ExerciseHeader","_ref","title","level","_ref$exerciseType","exerciseType","onClose","_ref$backIcon","backIcon","navigation","useNavigation","exerciseInfo","EXERCISE_TYPES","vocabulary","exerciseColor","color","exerciseIcon","icon","mapCECRToNumeric","cecrLevel","mapping","A1","A2","B1","B2","C1","C2","numericLevel","levelInfo","LANGUAGE_LEVELS","levelColor","displayLevel","handleClose","useCallback","goBack","jsx","View","style","styles","container","children","jsxs","content","HeaderLeftSection","localStyles","LevelBadge","_ref2","leftSection","TouchableOpacity","testID","backButton","onPress","hitSlop","top","bottom","left","right","activeOpacity","accessibilityRole","Ionicons","name","size","titleSection","Text","propTypes","PropTypes","func","isRequired","string","object","_ref3","levelBadge","backgroundColor","levelText","_default","exports","default"],"sources":["index.js"],"sourcesContent":["// components/exercise-common/ExerciseHeader/index.js - VERSION HUMAINE & Ã‰PURÃ‰E\r\nimport { View, Text, TouchableOpacity } from \"react-native\";\r\nimport { Ionicons } from \"@expo/vector-icons\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\nimport { useCallback } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { EXERCISE_TYPES, LANGUAGE_LEVELS } from \"../../../utils/constants\";\r\nimport styles from \"./style\";\r\n\r\n/**\r\n * ðŸ•Šï¸ ExerciseHeader - Version Humaine & Ã‰purÃ©e\r\n * - Design \"invisible\" qui met en avant le contenu\r\n * - Blanc pur universel\r\n * - SimplicitÃ© et fonctionnalitÃ©\r\n * - ZÃ©ro superflu, zÃ©ro bling-bling\r\n * - Ã‰lÃ©gance dans la sobriÃ©tÃ©\r\n */\r\nconst ExerciseHeader = ({\r\n  title,\r\n  level,\r\n  exerciseType = \"vocabulary\",\r\n  onClose,\r\n  backIcon = \"arrow-back\",\r\n}) => {\r\n  const navigation = useNavigation();\r\n\r\n  // RÃ©cupÃ©rer les infos de l'exercice (seule la couleur nous intÃ©resse)\r\n  const exerciseInfo = EXERCISE_TYPES[exerciseType] || EXERCISE_TYPES.vocabulary;\r\n  const exerciseColor = exerciseInfo.color;\r\n  const exerciseIcon = exerciseInfo.icon;\r\n\r\n  // âœ… MAPPING INVERSE : Convertir niveau CECR (A1, A2, etc.) en niveau numÃ©rique (1, 2, etc.)\r\n  // car LANGUAGE_LEVELS contient des niveaux numÃ©riques mais on reÃ§oit des niveaux CECR\r\n  const mapCECRToNumeric = (cecrLevel) => {\r\n    const mapping = { A1: \"1\", A2: \"2\", B1: \"3\", B2: \"4\", C1: \"5\", C2: \"6\" };\r\n    return mapping[cecrLevel] || \"1\"; // Fallback vers \"1\" si niveau non reconnu\r\n  };\r\n\r\n  // RÃ©cupÃ©rer la couleur du niveau\r\n  const numericLevel = mapCECRToNumeric(level);\r\n  const levelInfo = LANGUAGE_LEVELS[numericLevel] || LANGUAGE_LEVELS[\"1\"];\r\n  const levelColor = levelInfo.color;\r\n\r\n  // Affichage du niveau\r\n  const displayLevel = level === \"bonus\" ? \"B\" : level;\r\n\r\n  const handleClose = useCallback(() => {\r\n    if (onClose) {\r\n      onClose();\r\n    } else {\r\n      navigation.goBack();\r\n    }\r\n  }, [onClose, navigation]);\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={styles.content}>\r\n        {/* =================== SECTION GAUCHE =================== */}\r\n        <HeaderLeftSection\r\n          handleClose={handleClose}\r\n          backIcon={backIcon}\r\n          exerciseIcon={exerciseIcon}\r\n          title={title}\r\n          exerciseColor={exerciseColor}\r\n          localStyles={styles}\r\n        />\r\n\r\n        {/* =================== BADGE NIVEAU - Minimal =================== */}\r\n        <LevelBadge\r\n          displayLevel={displayLevel}\r\n          levelColor={levelColor}\r\n          localStyles={styles}\r\n        />\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst HeaderLeftSection = ({ handleClose, backIcon, exerciseIcon, title, exerciseColor, localStyles }) => (\r\n  <View style={localStyles.leftSection}>\r\n    <TouchableOpacity\r\n      testID=\"back-button\"\r\n      style={localStyles.backButton}\r\n      onPress={handleClose}\r\n      hitSlop={{ top: 12, bottom: 12, left: 12, right: 12 }}\r\n      activeOpacity={0.6}\r\n      accessibilityRole=\"button\"\r\n    >\r\n      <Ionicons name={backIcon} size={22} color=\"#64748b\" />\r\n    </TouchableOpacity>\r\n    <View style={localStyles.titleSection}>\r\n      <Text style={localStyles.exerciseIcon}>{exerciseIcon}</Text>\r\n      <Text style={[localStyles.title, { color: exerciseColor }]}>{title}</Text>\r\n    </View>\r\n  </View>\r\n);\r\n\r\n// PropTypes pour HeaderLeftSection\r\nHeaderLeftSection.propTypes = {\r\n  handleClose: PropTypes.func.isRequired,\r\n  backIcon: PropTypes.string.isRequired,\r\n  exerciseIcon: PropTypes.string.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  exerciseColor: PropTypes.string.isRequired,\r\n  localStyles: PropTypes.object.isRequired,\r\n};\r\n\r\nconst LevelBadge = ({ displayLevel, levelColor, localStyles }) => (\r\n  <View style={[localStyles.levelBadge, { backgroundColor: levelColor }]}> \r\n    <Text style={localStyles.levelText}>{displayLevel}</Text>\r\n  </View>\r\n);\r\n\r\n// PropTypes pour LevelBadge\r\nLevelBadge.propTypes = {\r\n  displayLevel: PropTypes.string.isRequired,\r\n  levelColor: PropTypes.string.isRequired,\r\n  localStyles: PropTypes.object.isRequired,\r\n};\r\n\r\n// PropTypes pour le composant principal ExerciseHeader\r\nExerciseHeader.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  level: PropTypes.string.isRequired,\r\n  exerciseType: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n  backIcon: PropTypes.string,\r\n};\r\n\r\nexport default ExerciseHeader;"],"mappings":";;;;;AACA,IAAAA,YAAA,GAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AACA,IAAAE,OAAA,GAAAF,OAAA;AACA,IAAAG,MAAA,GAAAH,OAAA;AACA,IAAAI,UAAA,GAAAC,sBAAA,CAAAL,OAAA;AACA,IAAAM,UAAA,GAAAN,OAAA;AACA,IAAAO,MAAA,GAAAF,sBAAA,CAAAL,OAAA;AAA6B,IAAAQ,WAAA,GAAAR,OAAA;AAU7B,IAAMS,cAAc,GAAG,SAAjBA,cAAcA,CAAAC,IAAA,EAMd;EAAA,IALJC,KAAK,GAAAD,IAAA,CAALC,KAAK;IACLC,KAAK,GAAAF,IAAA,CAALE,KAAK;IAAAC,iBAAA,GAAAH,IAAA,CACLI,YAAY;IAAZA,YAAY,GAAAD,iBAAA,cAAG,YAAY,GAAAA,iBAAA;IAC3BE,OAAO,GAAAL,IAAA,CAAPK,OAAO;IAAAC,aAAA,GAAAN,IAAA,CACPO,QAAQ;IAARA,QAAQ,GAAAD,aAAA,cAAG,YAAY,GAAAA,aAAA;EAEvB,IAAME,UAAU,GAAG,IAAAC,qBAAa,EAAC,CAAC;EAGlC,IAAMC,YAAY,GAAGC,yBAAc,CAACP,YAAY,CAAC,IAAIO,yBAAc,CAACC,UAAU;EAC9E,IAAMC,aAAa,GAAGH,YAAY,CAACI,KAAK;EACxC,IAAMC,YAAY,GAAGL,YAAY,CAACM,IAAI;EAItC,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIC,SAAS,EAAK;IACtC,IAAMC,OAAO,GAAG;MAAEC,EAAE,EAAE,GAAG;MAAEC,EAAE,EAAE,GAAG;MAAEC,EAAE,EAAE,GAAG;MAAEC,EAAE,EAAE,GAAG;MAAEC,EAAE,EAAE,GAAG;MAAEC,EAAE,EAAE;IAAI,CAAC;IACxE,OAAON,OAAO,CAACD,SAAS,CAAC,IAAI,GAAG;EAClC,CAAC;EAGD,IAAMQ,YAAY,GAAGT,gBAAgB,CAACf,KAAK,CAAC;EAC5C,IAAMyB,SAAS,GAAGC,0BAAe,CAACF,YAAY,CAAC,IAAIE,0BAAe,CAAC,GAAG,CAAC;EACvE,IAAMC,UAAU,GAAGF,SAAS,CAACb,KAAK;EAGlC,IAAMgB,YAAY,GAAG5B,KAAK,KAAK,OAAO,GAAG,GAAG,GAAGA,KAAK;EAEpD,IAAM6B,WAAW,GAAG,IAAAC,kBAAW,EAAC,YAAM;IACpC,IAAI3B,OAAO,EAAE;MACXA,OAAO,CAAC,CAAC;IACX,CAAC,MAAM;MACLG,UAAU,CAACyB,MAAM,CAAC,CAAC;IACrB;EACF,CAAC,EAAE,CAAC5B,OAAO,EAAEG,UAAU,CAAC,CAAC;EAEzB,OACE,IAAAV,WAAA,CAAAoC,GAAA,EAAC7C,YAAA,CAAA8C,IAAI;IAACC,KAAK,EAAEC,cAAM,CAACC,SAAU;IAAAC,QAAA,EAC5B,IAAAzC,WAAA,CAAA0C,IAAA,EAACnD,YAAA,CAAA8C,IAAI;MAACC,KAAK,EAAEC,cAAM,CAACI,OAAQ;MAAAF,QAAA,GAE1B,IAAAzC,WAAA,CAAAoC,GAAA,EAACQ,iBAAiB;QAChBX,WAAW,EAAEA,WAAY;QACzBxB,QAAQ,EAAEA,QAAS;QACnBQ,YAAY,EAAEA,YAAa;QAC3Bd,KAAK,EAAEA,KAAM;QACbY,aAAa,EAAEA,aAAc;QAC7B8B,WAAW,EAAEN;MAAO,CACrB,CAAC,EAGF,IAAAvC,WAAA,CAAAoC,GAAA,EAACU,UAAU;QACTd,YAAY,EAAEA,YAAa;QAC3BD,UAAU,EAAEA,UAAW;QACvBc,WAAW,EAAEN;MAAO,CACrB,CAAC;IAAA,CACE;EAAC,CACH,CAAC;AAEX,CAAC;AAED,IAAMK,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAAG,KAAA;EAAA,IAAMd,WAAW,GAAAc,KAAA,CAAXd,WAAW;IAAExB,QAAQ,GAAAsC,KAAA,CAARtC,QAAQ;IAAEQ,YAAY,GAAA8B,KAAA,CAAZ9B,YAAY;IAAEd,KAAK,GAAA4C,KAAA,CAAL5C,KAAK;IAAEY,aAAa,GAAAgC,KAAA,CAAbhC,aAAa;IAAE8B,WAAW,GAAAE,KAAA,CAAXF,WAAW;EAAA,OACjG,IAAA7C,WAAA,CAAA0C,IAAA,EAACnD,YAAA,CAAA8C,IAAI;IAACC,KAAK,EAAEO,WAAW,CAACG,WAAY;IAAAP,QAAA,GACnC,IAAAzC,WAAA,CAAAoC,GAAA,EAAC7C,YAAA,CAAA0D,gBAAgB;MACfC,MAAM,EAAC,aAAa;MACpBZ,KAAK,EAAEO,WAAW,CAACM,UAAW;MAC9BC,OAAO,EAAEnB,WAAY;MACrBoB,OAAO,EAAE;QAAEC,GAAG,EAAE,EAAE;QAAEC,MAAM,EAAE,EAAE;QAAEC,IAAI,EAAE,EAAE;QAAEC,KAAK,EAAE;MAAG,CAAE;MACtDC,aAAa,EAAE,GAAI;MACnBC,iBAAiB,EAAC,QAAQ;MAAAlB,QAAA,EAE1B,IAAAzC,WAAA,CAAAoC,GAAA,EAAC3C,YAAA,CAAAmE,QAAQ;QAACC,IAAI,EAAEpD,QAAS;QAACqD,IAAI,EAAE,EAAG;QAAC9C,KAAK,EAAC;MAAS,CAAE;IAAC,CACtC,CAAC,EACnB,IAAAhB,WAAA,CAAA0C,IAAA,EAACnD,YAAA,CAAA8C,IAAI;MAACC,KAAK,EAAEO,WAAW,CAACkB,YAAa;MAAAtB,QAAA,GACpC,IAAAzC,WAAA,CAAAoC,GAAA,EAAC7C,YAAA,CAAAyE,IAAI;QAAC1B,KAAK,EAAEO,WAAW,CAAC5B,YAAa;QAAAwB,QAAA,EAAExB;MAAY,CAAO,CAAC,EAC5D,IAAAjB,WAAA,CAAAoC,GAAA,EAAC7C,YAAA,CAAAyE,IAAI;QAAC1B,KAAK,EAAE,CAACO,WAAW,CAAC1C,KAAK,EAAE;UAAEa,KAAK,EAAED;QAAc,CAAC,CAAE;QAAA0B,QAAA,EAAEtC;MAAK,CAAO,CAAC;IAAA,CACtE,CAAC;EAAA,CACH,CAAC;AAAA,CACR;AAGDyC,iBAAiB,CAACqB,SAAS,GAAG;EAC5BhC,WAAW,EAAEiC,kBAAS,CAACC,IAAI,CAACC,UAAU;EACtC3D,QAAQ,EAAEyD,kBAAS,CAACG,MAAM,CAACD,UAAU;EACrCnD,YAAY,EAAEiD,kBAAS,CAACG,MAAM,CAACD,UAAU;EACzCjE,KAAK,EAAE+D,kBAAS,CAACG,MAAM,CAACD,UAAU;EAClCrD,aAAa,EAAEmD,kBAAS,CAACG,MAAM,CAACD,UAAU;EAC1CvB,WAAW,EAAEqB,kBAAS,CAACI,MAAM,CAACF;AAChC,CAAC;AAED,IAAMtB,UAAU,GAAG,SAAbA,UAAUA,CAAAyB,KAAA;EAAA,IAAMvC,YAAY,GAAAuC,KAAA,CAAZvC,YAAY;IAAED,UAAU,GAAAwC,KAAA,CAAVxC,UAAU;IAAEc,WAAW,GAAA0B,KAAA,CAAX1B,WAAW;EAAA,OACzD,IAAA7C,WAAA,CAAAoC,GAAA,EAAC7C,YAAA,CAAA8C,IAAI;IAACC,KAAK,EAAE,CAACO,WAAW,CAAC2B,UAAU,EAAE;MAAEC,eAAe,EAAE1C;IAAW,CAAC,CAAE;IAAAU,QAAA,EACrE,IAAAzC,WAAA,CAAAoC,GAAA,EAAC7C,YAAA,CAAAyE,IAAI;MAAC1B,KAAK,EAAEO,WAAW,CAAC6B,SAAU;MAAAjC,QAAA,EAAET;IAAY,CAAO;EAAC,CACrD,CAAC;AAAA,CACR;AAGDc,UAAU,CAACmB,SAAS,GAAG;EACrBjC,YAAY,EAAEkC,kBAAS,CAACG,MAAM,CAACD,UAAU;EACzCrC,UAAU,EAAEmC,kBAAS,CAACG,MAAM,CAACD,UAAU;EACvCvB,WAAW,EAAEqB,kBAAS,CAACI,MAAM,CAACF;AAChC,CAAC;AAGDnE,cAAc,CAACgE,SAAS,GAAG;EACzB9D,KAAK,EAAE+D,kBAAS,CAACG,MAAM,CAACD,UAAU;EAClChE,KAAK,EAAE8D,kBAAS,CAACG,MAAM,CAACD,UAAU;EAClC9D,YAAY,EAAE4D,kBAAS,CAACG,MAAM;EAC9B9D,OAAO,EAAE2D,kBAAS,CAACC,IAAI;EACvB1D,QAAQ,EAAEyD,kBAAS,CAACG;AACtB,CAAC;AAAC,IAAAM,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEa5E,cAAc","ignoreList":[]}