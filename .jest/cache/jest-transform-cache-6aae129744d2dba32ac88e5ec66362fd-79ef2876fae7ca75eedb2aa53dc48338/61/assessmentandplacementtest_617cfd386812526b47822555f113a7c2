d61dafb42b8bf0d2ff3167327cb1b5ef
_getJestObj().mock('expo-font', function () {
  return {
    useFonts: function useFonts() {
      return [true];
    }
  };
});
_getJestObj().mock('expo-splash-screen', function () {
  return {
    hideAsync: jest.fn().mockResolvedValue(undefined)
  };
});
_getJestObj().mock('../../src/hooks/useRouteActivityTracker', function () {
  return jest.fn().mockImplementation(function () {
    return {};
  });
});
_getJestObj().mock('@react-navigation/native', function () {
  var actualNav = jest.requireActual('@react-navigation/native');
  return Object.assign({}, actualNav, {
    useNavigation: function useNavigation() {
      return {
        navigate: mockNavigate,
        goBack: mockGoBack,
        replace: mockReplace
      };
    },
    useRoute: function useRoute() {
      return {
        params: {},
        name: 'dashboard'
      };
    }
  });
});
_getJestObj().mock('../../src/screens/exercises/level-assessment/index.js', function () {
  return function MockLevelAssessment(_ref) {
    var route = _ref.route;
    var _ref2 = (route == null ? void 0 : route.params) || {},
      _ref2$level = _ref2.level,
      level = _ref2$level === void 0 ? 'A1' : _ref2$level;
    return (0, _jsxRuntime.jsxs)("div", {
      testID: "level-assessment-screen",
      children: [(0, _jsxRuntime.jsx)("div", {
        testID: "assessment-header",
        children: (0, _jsxRuntime.jsxs)("text", {
          testID: "assessment-level",
          children: ["\xC9valuation - Niveau ", level]
        })
      }), (0, _jsxRuntime.jsxs)("div", {
        testID: "assessment-content",
        children: [(0, _jsxRuntime.jsx)("text", {
          testID: "assessment-question",
          children: "Question d'\xE9valuation simul\xE9e"
        }), (0, _jsxRuntime.jsx)("button", {
          testID: "answer-option-a",
          onPress: function onPress() {},
          children: "R\xE9ponse A"
        }), (0, _jsxRuntime.jsx)("button", {
          testID: "answer-option-b",
          onPress: function onPress() {},
          children: "R\xE9ponse B"
        }), (0, _jsxRuntime.jsx)("button", {
          testID: "validate-answer-btn",
          onPress: function onPress() {
            mockNavigate('Dashboard');
          },
          children: "Valider"
        }), (0, _jsxRuntime.jsx)("button", {
          testID: "next-question-btn",
          onPress: function onPress() {
            mockNavigate('Dashboard');
          },
          children: "Question suivante"
        })]
      }), (0, _jsxRuntime.jsx)("div", {
        testID: "assessment-progress",
        children: (0, _jsxRuntime.jsx)("text", {
          testID: "progress-text",
          children: "Question 1 sur 10"
        })
      })]
    });
  };
});
_getJestObj().mock('../../src/screens/exercises/level-assessment/AssessmentHeader', function () {
  return function MockAssessmentHeader(_ref3) {
    var level = _ref3.level,
      onBackPress = _ref3.onBackPress;
    return (0, _jsxRuntime.jsxs)("div", {
      testID: "assessment-header",
      children: [(0, _jsxRuntime.jsx)("button", {
        testID: "back-btn",
        onPress: onBackPress,
        children: "Retour"
      }), (0, _jsxRuntime.jsxs)("text", {
        testID: "header-level",
        children: ["Niveau ", level]
      })]
    });
  };
});
_getJestObj().mock('../../src/screens/exercises/level-assessment/AssessmentResults', function () {
  return function MockAssessmentResults(_ref4) {
    var level = _ref4.level,
      userScore = _ref4.userScore,
      onContinue = _ref4.onContinue,
      onRetry = _ref4.onRetry;
    var getRecommendedLevel = function getRecommendedLevel(score) {
      var percentage = (score == null ? void 0 : score.correctAnswers) / (score == null ? void 0 : score.totalQuestions) * 100 || 50;
      if (percentage >= 85) return 'B2';
      if (percentage >= 70) return 'B1';
      if (percentage >= 50) return 'A2';
      return 'A1';
    };
    var recommendedLevel = getRecommendedLevel(userScore);
    return (0, _jsxRuntime.jsxs)("div", {
      testID: "assessment-results",
      children: [(0, _jsxRuntime.jsxs)("text", {
        testID: "current-level",
        children: ["Niveau test\xE9 : ", level]
      }), (0, _jsxRuntime.jsxs)("text", {
        testID: "recommended-level",
        children: ["Niveau recommand\xE9 : ", recommendedLevel]
      }), (0, _jsxRuntime.jsxs)("text", {
        testID: "score-display",
        children: ["Score : ", (userScore == null ? void 0 : userScore.correctAnswers) || 0, "/", (userScore == null ? void 0 : userScore.totalQuestions) || 0]
      }), (0, _jsxRuntime.jsx)("button", {
        testID: "continue-btn",
        onPress: onContinue,
        children: "Continuer"
      }), (0, _jsxRuntime.jsx)("button", {
        testID: "retry-btn",
        onPress: onRetry,
        children: "Recommencer"
      })]
    });
  };
});
_getJestObj().mock('../../src/screens/exercises/level-assessment/hooks/useAssessment', function () {
  return jest.fn().mockImplementation(function (level) {
    var mockCurrentQuestionIndex = 0;
    var mockSelectedAnswer = null;
    var mockTestCompleted = false;
    return {
      currentSection: {
        id: 'grammar',
        title: 'Grammaire'
      },
      currentQuestionIndex: mockCurrentQuestionIndex,
      selectedAnswer: mockSelectedAnswer,
      showFeedback: false,
      testCompleted: mockTestCompleted,
      userAnswers: [],
      loaded: true,
      currentQuestion: {
        id: 'q1',
        text: 'Question d\'évaluation simulée',
        options: ['A', 'B', 'C', 'D'],
        correct: 'A'
      },
      totalSections: 3,
      totalQuestionsInSection: 10,
      handleSelectAnswer: jest.fn(function (answer) {
        mockSelectedAnswer = answer;
      }),
      validateAnswer: jest.fn(),
      tryAgain: jest.fn(function () {
        mockSelectedAnswer = null;
      }),
      handleNext: jest.fn(function () {
        if (mockCurrentQuestionIndex < 9) {
          mockCurrentQuestionIndex += 1;
          return {
            completed: false
          };
        } else {
          mockTestCompleted = true;
          return {
            completed: true
          };
        }
      }),
      handlePrevious: jest.fn(function () {
        mockCurrentQuestionIndex = Math.max(0, mockCurrentQuestionIndex - 1);
      }),
      saveAssessmentResults: jest.fn(),
      resetAssessment: jest.fn(function () {
        mockCurrentQuestionIndex = 0;
        mockSelectedAnswer = null;
        mockTestCompleted = false;
      }),
      canGoToPrevious: mockCurrentQuestionIndex > 0,
      isLastQuestionInSection: mockCurrentQuestionIndex === 9,
      stats: {
        correctAnswers: 7,
        totalQuestions: 10,
        totalSections: 3,
        answeredInCurrentSection: mockCurrentQuestionIndex + 1
      },
      display: {
        currentSectionIndex: 0,
        sectionTitle: 'Grammaire',
        questionNumber: mockCurrentQuestionIndex + 1
      }
    };
  });
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _native = require("@react-navigation/native");
var _AppProvider = _interopRequireDefault(require("../../src/contexts/AppProvider"));
var _index = _interopRequireDefault(require("../../src/screens/exercises/level-assessment/index.js"));
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockNavigate = jest.fn();
var mockGoBack = jest.fn();
var mockReplace = jest.fn();
var renderWithProviders = function renderWithProviders(component) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var AllTheProviders = function AllTheProviders(_ref5) {
    var children = _ref5.children;
    return (0, _jsxRuntime.jsx)(_native.NavigationContainer, {
      children: (0, _jsxRuntime.jsx)(_AppProvider.default, {
        children: children
      })
    });
  };
  return (0, _reactNative.render)(component, Object.assign({
    wrapper: AllTheProviders
  }, options));
};
var waitForElement = function () {
  var _ref6 = (0, _asyncToGenerator2.default)(function* (testId) {
    var timeout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5000;
    return yield (0, _reactNative.waitFor)(function () {
      var element = _reactNative.screen.getByTestId(testId);
      expect(element).toBeTruthy();
      return element;
    }, {
      timeout: timeout
    });
  });
  return function waitForElement(_x) {
    return _ref6.apply(this, arguments);
  };
}();
describe('Assessment and Placement Integration Test', function () {
  beforeEach(function () {
    jest.clearAllMocks();
  });
  describe('User Assessment Flow', function () {
    it('should successfully complete the full assessment and placement workflow', (0, _asyncToGenerator2.default)(function* () {
      var mockRoute = {
        params: {
          level: 'B1'
        }
      };
      renderWithProviders((0, _jsxRuntime.jsx)(_index.default, {
        route: mockRoute
      }));
      yield waitForElement('level-assessment-screen');
      var levelDisplay = _reactNative.screen.getByTestID('assessment-level');
      expect(levelDisplay.props.children).toContain('Niveau B1');
      var answerOptionA = _reactNative.screen.getByTestID('answer-option-a');
      _reactNative.fireEvent.press(answerOptionA);
      var validateBtn = _reactNative.screen.getByTestID('validate-answer-btn');
      _reactNative.fireEvent.press(validateBtn);
      for (var i = 0; i < 9; i++) {
        var nextBtn = _reactNative.screen.queryByTestID('next-question-btn');
        if (nextBtn) {
          _reactNative.fireEvent.press(nextBtn);
        }
      }
      yield (0, _reactNative.waitFor)(function () {
        expect(_reactNative.screen.getByTestID('assessment-results')).toBeTruthy();
      });
      var recommendedLevel = _reactNative.screen.getByTestID('recommended-level');
      expect(recommendedLevel.props.children).toContain('Niveau recommandé :');
      var scoreDisplay = _reactNative.screen.getByTestID('score-display');
      expect(scoreDisplay.props.children).toContain('Score :');
      var continueBtn = _reactNative.screen.getByTestID('continue-btn');
      _reactNative.fireEvent.press(continueBtn);
      expect(mockNavigate).toHaveBeenCalledWith('Dashboard');
    }));
    it('should handle assessment retry functionality', (0, _asyncToGenerator2.default)(function* () {
      var mockRoute = {
        params: {
          level: 'A2'
        }
      };
      var mockUseAssessment = require('../../src/screens/exercises/level-assessment/hooks/useAssessment');
      mockUseAssessment.mockReturnValueOnce({
        testCompleted: true,
        loaded: true,
        currentSection: null,
        currentQuestion: null,
        stats: {
          correctAnswers: 3,
          totalQuestions: 10
        },
        resetAssessment: jest.fn().mockResolvedValue(undefined)
      });
      renderWithProviders((0, _jsxRuntime.jsx)(_index.default, {
        route: mockRoute
      }));
      yield waitForElement('assessment-results');
      var retryBtn = _reactNative.screen.getByTestID('retry-btn');
      expect(retryBtn).toBeTruthy();
      _reactNative.fireEvent.press(retryBtn);
      yield (0, _reactNative.waitFor)(function () {
        expect(mockUseAssessment().resetAssessment).toHaveBeenCalled();
      });
    }));
    it('should show loading state correctly', (0, _asyncToGenerator2.default)(function* () {
      var mockUseAssessment = require('../../src/screens/exercises/level-assessment/hooks/useAssessment');
      mockUseAssessment.mockReturnValueOnce({
        loaded: false,
        currentSection: null,
        currentQuestion: null,
        testCompleted: false
      });
      var mockRoute = {
        params: {
          level: 'A1'
        }
      };
      renderWithProviders((0, _jsxRuntime.jsx)(_index.default, {
        route: mockRoute
      }));
      var loadingIndicator = yield waitForElement('activity-indicator');
      expect(loadingIndicator).toBeTruthy();
    }));
  });
  describe('Level Placement Scenarios', function () {
    var testCases = [{
      correctAnswers: 9,
      totalQuestions: 10,
      expectedLevel: 'B2',
      description: 'high score (90%)'
    }, {
      correctAnswers: 7,
      totalQuestions: 10,
      expectedLevel: 'B1',
      description: 'good score (70%)'
    }, {
      correctAnswers: 5,
      totalQuestions: 10,
      expectedLevel: 'A2',
      description: 'average score (50%)'
    }, {
      correctAnswers: 3,
      totalQuestions: 10,
      expectedLevel: 'A1',
      description: 'low score (30%)'
    }];
    testCases.forEach(function (_ref0) {
      var correctAnswers = _ref0.correctAnswers,
        totalQuestions = _ref0.totalQuestions,
        expectedLevel = _ref0.expectedLevel,
        description = _ref0.description;
      it(`should place user at ${expectedLevel} level with ${description}`, (0, _asyncToGenerator2.default)(function* () {
        var mockUseAssessment = require('../../src/screens/exercises/level-assessment/hooks/useAssessment');
        mockUseAssessment.mockReturnValueOnce({
          testCompleted: true,
          loaded: true,
          currentSection: null,
          currentQuestion: null,
          stats: {
            correctAnswers: correctAnswers,
            totalQuestions: totalQuestions
          },
          display: {
            currentSectionIndex: 0,
            sectionTitle: 'Test',
            questionNumber: 1
          },
          totalSections: 1,
          totalQuestionsInSection: totalQuestions
        });
        var mockRoute = {
          params: {
            level: 'B1'
          }
        };
        renderWithProviders((0, _jsxRuntime.jsx)(_index.default, {
          route: mockRoute
        }));
        yield waitForElement('assessment-results');
        var recommendedLevel = _reactNative.screen.getByTestID('recommended-level');
        expect(recommendedLevel.props.children).toContain(`Niveau recommandé : ${expectedLevel}`);
        var scoreDisplay = _reactNative.screen.getByTestID('score-display');
        expect(scoreDisplay.props.children).toContain(`Score : ${correctAnswers}/${totalQuestions}`);
      }));
    });
  });
  describe('Navigation Integration', function () {
    it('should handle back navigation correctly', (0, _asyncToGenerator2.default)(function* () {
      var mockRoute = {
        params: {
          level: 'B1'
        }
      };
      renderWithProviders((0, _jsxRuntime.jsx)(_index.default, {
        route: mockRoute
      }));
      yield waitForElement('level-assessment-screen');
      var backBtn = _reactNative.screen.getByTestID('back-btn');
      _reactNative.fireEvent.press(backBtn);
      expect(backBtn).toBeTruthy();
    }));
    it('should maintain proper state during question navigation', (0, _asyncToGenerator2.default)(function* () {
      var mockRoute = {
        params: {
          level: 'A1'
        }
      };
      renderWithProviders((0, _jsxRuntime.jsx)(_index.default, {
        route: mockRoute
      }));
      yield waitForElement('level-assessment-screen');
      var progressText = _reactNative.screen.getByTestID('progress-text');
      expect(progressText.props.children).toContain('Question 1 sur 10');
      var nextBtn = _reactNative.screen.queryByTestID('next-question-btn');
      if (nextBtn) {
        _reactNative.fireEvent.press(nextBtn);
        yield (0, _reactNative.waitFor)(function () {
          expect(_reactNative.screen.getByTestID('progress-text')).toBeTruthy();
        });
      }
    }));
  });
  describe('Performance and Accessibility', function () {
    it('should render assessment components efficiently', (0, _asyncToGenerator2.default)(function* () {
      var startTime = performance.now();
      var mockRoute = {
        params: {
          level: 'B1'
        }
      };
      renderWithProviders((0, _jsxRuntime.jsx)(_index.default, {
        route: mockRoute
      }));
      yield waitForElement('level-assessment-screen');
      var endTime = performance.now();
      var renderTime = endTime - startTime;
      expect(renderTime).toBeLessThan(1000);
    }));
    it('should have proper accessibility and test identifiers', (0, _asyncToGenerator2.default)(function* () {
      var mockRoute = {
        params: {
          level: 'A1'
        }
      };
      renderWithProviders((0, _jsxRuntime.jsx)(_index.default, {
        route: mockRoute
      }));
      var assessmentScreen = yield waitForElement('level-assessment-screen');
      expect(assessmentScreen).toBeTruthy();
      expect(_reactNative.screen.getByTestID('assessment-header')).toBeTruthy();
      expect(_reactNative.screen.getByTestID('assessment-content')).toBeTruthy();
      expect(_reactNative.screen.getByTestID('assessment-progress')).toBeTruthy();
    }));
    it('should handle different level parameters correctly', (0, _asyncToGenerator2.default)(function* () {
      var levels = ['A1', 'A2', 'B1', 'B2'];
      for (var level of levels) {
        var mockRoute = {
          params: {
            level: level
          }
        };
        var _renderWithProviders = renderWithProviders((0, _jsxRuntime.jsx)(_index.default, {
            route: mockRoute
          })),
          unmount = _renderWithProviders.unmount;
        yield waitForElement('level-assessment-screen');
        var levelDisplay = _reactNative.screen.getByTestID('assessment-level');
        expect(levelDisplay.props.children).toContain(`Niveau ${level}`);
        unmount();
      }
    }));
  });
});
afterAll(function () {
  jest.clearAllMocks();
  jest.resetModules();
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ1c2VGb250cyIsImhpZGVBc3luYyIsImplc3QiLCJmbiIsIm1vY2tSZXNvbHZlZFZhbHVlIiwidW5kZWZpbmVkIiwibW9ja0ltcGxlbWVudGF0aW9uIiwiYWN0dWFsTmF2IiwicmVxdWlyZUFjdHVhbCIsIk9iamVjdCIsImFzc2lnbiIsInVzZU5hdmlnYXRpb24iLCJuYXZpZ2F0ZSIsIm1vY2tOYXZpZ2F0ZSIsImdvQmFjayIsIm1vY2tHb0JhY2siLCJyZXBsYWNlIiwibW9ja1JlcGxhY2UiLCJ1c2VSb3V0ZSIsInBhcmFtcyIsIm5hbWUiLCJNb2NrTGV2ZWxBc3Nlc3NtZW50IiwiX3JlZiIsInJvdXRlIiwiX3JlZjIiLCJfcmVmMiRsZXZlbCIsImxldmVsIiwiX2pzeFJ1bnRpbWUiLCJqc3hzIiwidGVzdElEIiwiY2hpbGRyZW4iLCJqc3giLCJvblByZXNzIiwiTW9ja0Fzc2Vzc21lbnRIZWFkZXIiLCJfcmVmMyIsIm9uQmFja1ByZXNzIiwiTW9ja0Fzc2Vzc21lbnRSZXN1bHRzIiwiX3JlZjQiLCJ1c2VyU2NvcmUiLCJvbkNvbnRpbnVlIiwib25SZXRyeSIsImdldFJlY29tbWVuZGVkTGV2ZWwiLCJzY29yZSIsInBlcmNlbnRhZ2UiLCJjb3JyZWN0QW5zd2VycyIsInRvdGFsUXVlc3Rpb25zIiwicmVjb21tZW5kZWRMZXZlbCIsIm1vY2tDdXJyZW50UXVlc3Rpb25JbmRleCIsIm1vY2tTZWxlY3RlZEFuc3dlciIsIm1vY2tUZXN0Q29tcGxldGVkIiwiY3VycmVudFNlY3Rpb24iLCJpZCIsInRpdGxlIiwiY3VycmVudFF1ZXN0aW9uSW5kZXgiLCJzZWxlY3RlZEFuc3dlciIsInNob3dGZWVkYmFjayIsInRlc3RDb21wbGV0ZWQiLCJ1c2VyQW5zd2VycyIsImxvYWRlZCIsImN1cnJlbnRRdWVzdGlvbiIsInRleHQiLCJvcHRpb25zIiwiY29ycmVjdCIsInRvdGFsU2VjdGlvbnMiLCJ0b3RhbFF1ZXN0aW9uc0luU2VjdGlvbiIsImhhbmRsZVNlbGVjdEFuc3dlciIsImFuc3dlciIsInZhbGlkYXRlQW5zd2VyIiwidHJ5QWdhaW4iLCJoYW5kbGVOZXh0IiwiY29tcGxldGVkIiwiaGFuZGxlUHJldmlvdXMiLCJNYXRoIiwibWF4Iiwic2F2ZUFzc2Vzc21lbnRSZXN1bHRzIiwicmVzZXRBc3Nlc3NtZW50IiwiY2FuR29Ub1ByZXZpb3VzIiwiaXNMYXN0UXVlc3Rpb25JblNlY3Rpb24iLCJzdGF0cyIsImFuc3dlcmVkSW5DdXJyZW50U2VjdGlvbiIsImRpc3BsYXkiLCJjdXJyZW50U2VjdGlvbkluZGV4Iiwic2VjdGlvblRpdGxlIiwicXVlc3Rpb25OdW1iZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWFjdCIsIl9yZWFjdE5hdGl2ZSIsIl9uYXRpdmUiLCJfQXBwUHJvdmlkZXIiLCJfaW5kZXgiLCJfcmVxdWlyZSIsInJlbmRlcldpdGhQcm92aWRlcnMiLCJjb21wb25lbnQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJBbGxUaGVQcm92aWRlcnMiLCJfcmVmNSIsIk5hdmlnYXRpb25Db250YWluZXIiLCJkZWZhdWx0IiwicmVuZGVyIiwid3JhcHBlciIsIndhaXRGb3JFbGVtZW50IiwiX3JlZjYiLCJ0ZXN0SWQiLCJ0aW1lb3V0Iiwid2FpdEZvciIsImVsZW1lbnQiLCJzY3JlZW4iLCJnZXRCeVRlc3RJZCIsImV4cGVjdCIsInRvQmVUcnV0aHkiLCJfeCIsImFwcGx5IiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwibW9ja1JvdXRlIiwibGV2ZWxEaXNwbGF5IiwiZ2V0QnlUZXN0SUQiLCJwcm9wcyIsInRvQ29udGFpbiIsImFuc3dlck9wdGlvbkEiLCJmaXJlRXZlbnQiLCJwcmVzcyIsInZhbGlkYXRlQnRuIiwiaSIsIm5leHRCdG4iLCJxdWVyeUJ5VGVzdElEIiwic2NvcmVEaXNwbGF5IiwiY29udGludWVCdG4iLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsIm1vY2tVc2VBc3Nlc3NtZW50IiwibW9ja1JldHVyblZhbHVlT25jZSIsInJldHJ5QnRuIiwidG9IYXZlQmVlbkNhbGxlZCIsImxvYWRpbmdJbmRpY2F0b3IiLCJ0ZXN0Q2FzZXMiLCJleHBlY3RlZExldmVsIiwiZGVzY3JpcHRpb24iLCJmb3JFYWNoIiwiX3JlZjAiLCJiYWNrQnRuIiwicHJvZ3Jlc3NUZXh0Iiwic3RhcnRUaW1lIiwicGVyZm9ybWFuY2UiLCJub3ciLCJlbmRUaW1lIiwicmVuZGVyVGltZSIsInRvQmVMZXNzVGhhbiIsImFzc2Vzc21lbnRTY3JlZW4iLCJsZXZlbHMiLCJfcmVuZGVyV2l0aFByb3ZpZGVycyIsInVubW91bnQiLCJhZnRlckFsbCIsInJlc2V0TW9kdWxlcyJdLCJzb3VyY2VzIjpbImFzc2Vzc21lbnQtYW5kLXBsYWNlbWVudC50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZW5kZXIsIGZpcmVFdmVudCwgd2FpdEZvciwgc2NyZWVuIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdC1uYXRpdmUnO1xuaW1wb3J0IHsgTmF2aWdhdGlvbkNvbnRhaW5lciB9IGZyb20gJ0ByZWFjdC1uYXZpZ2F0aW9uL25hdGl2ZSc7XG5pbXBvcnQgQXBwUHJvdmlkZXIgZnJvbSAnLi4vLi4vc3JjL2NvbnRleHRzL0FwcFByb3ZpZGVyJztcbmltcG9ydCBMZXZlbEFzc2Vzc21lbnQgZnJvbSAnLi4vLi4vc3JjL3NjcmVlbnMvZXhlcmNpc2VzL2xldmVsLWFzc2Vzc21lbnQvaW5kZXguanMnO1xuXG4vLyA9PT0gTU9DS1MgPT09XG4vLyBNb2NrIGRlcyBkw6lwZW5kYW5jZXMgZXh0ZXJuZXNcbmplc3QubW9jaygnZXhwby1mb250JywgKCkgPT4gKHtcbiAgdXNlRm9udHM6ICgpID0+IFt0cnVlXSxcbn0pKTtcblxuamVzdC5tb2NrKCdleHBvLXNwbGFzaC1zY3JlZW4nLCAoKSA9PiAoe1xuICBoaWRlQXN5bmM6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpLFxufSkpO1xuXG5qZXN0Lm1vY2soJy4uLy4uL3NyYy9ob29rcy91c2VSb3V0ZUFjdGl2aXR5VHJhY2tlcicsICgpID0+IFxuICBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7fSkpXG4pO1xuXG4vLyBNb2NrIGRlIGxhIG5hdmlnYXRpb24gYXZlYyBkZXMgbcOpdGhvZGVzIGNvbnRyw7RsYWJsZXNcbmNvbnN0IG1vY2tOYXZpZ2F0ZSA9IGplc3QuZm4oKTtcbmNvbnN0IG1vY2tHb0JhY2sgPSBqZXN0LmZuKCk7XG5jb25zdCBtb2NrUmVwbGFjZSA9IGplc3QuZm4oKTtcblxuamVzdC5tb2NrKCdAcmVhY3QtbmF2aWdhdGlvbi9uYXRpdmUnLCAoKSA9PiB7XG4gIGNvbnN0IGFjdHVhbE5hdiA9IGplc3QucmVxdWlyZUFjdHVhbCgnQHJlYWN0LW5hdmlnYXRpb24vbmF0aXZlJyk7XG4gIHJldHVybiB7XG4gICAgLi4uYWN0dWFsTmF2LFxuICAgIHVzZU5hdmlnYXRpb246ICgpID0+ICh7XG4gICAgICBuYXZpZ2F0ZTogbW9ja05hdmlnYXRlLFxuICAgICAgZ29CYWNrOiBtb2NrR29CYWNrLFxuICAgICAgcmVwbGFjZTogbW9ja1JlcGxhY2UsXG4gICAgfSksXG4gICAgdXNlUm91dGU6ICgpID0+ICh7XG4gICAgICBwYXJhbXM6IHt9LFxuICAgICAgbmFtZTogJ2Rhc2hib2FyZCcsXG4gICAgfSksXG4gIH07XG59KTtcblxuLy8gTW9jayBkdSBjb21wb3NhbnQgTGV2ZWxBc3Nlc3NtZW50IHByaW5jaXBhbFxuamVzdC5tb2NrKCcuLi8uLi9zcmMvc2NyZWVucy9leGVyY2lzZXMvbGV2ZWwtYXNzZXNzbWVudC9pbmRleC5qcycsICgpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIE1vY2tMZXZlbEFzc2Vzc21lbnQoeyByb3V0ZSB9KSB7XG4gICAgY29uc3QgeyBsZXZlbCA9ICdBMScgfSA9IHJvdXRlPy5wYXJhbXMgfHwge307XG4gICAgXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgdGVzdElEPVwibGV2ZWwtYXNzZXNzbWVudC1zY3JlZW5cIj5cbiAgICAgICAgPGRpdiB0ZXN0SUQ9XCJhc3Nlc3NtZW50LWhlYWRlclwiPlxuICAgICAgICAgIDx0ZXh0IHRlc3RJRD1cImFzc2Vzc21lbnQtbGV2ZWxcIj7DiXZhbHVhdGlvbiAtIE5pdmVhdSB7bGV2ZWx9PC90ZXh0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgdGVzdElEPVwiYXNzZXNzbWVudC1jb250ZW50XCI+XG4gICAgICAgICAgPHRleHQgdGVzdElEPVwiYXNzZXNzbWVudC1xdWVzdGlvblwiPlF1ZXN0aW9uIGQnw6l2YWx1YXRpb24gc2ltdWzDqWU8L3RleHQ+XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIEJvdXRvbnMgZGUgcsOpcG9uc2Ugc2ltdWzDqXMgKi99XG4gICAgICAgICAgPGJ1dHRvbiB0ZXN0SUQ9XCJhbnN3ZXItb3B0aW9uLWFcIiBvblByZXNzPXsoKSA9PiB7fX0+XG4gICAgICAgICAgICBSw6lwb25zZSBBXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiB0ZXN0SUQ9XCJhbnN3ZXItb3B0aW9uLWJcIiBvblByZXNzPXsoKSA9PiB7fX0+XG4gICAgICAgICAgICBSw6lwb25zZSBCXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIEJvdXRvbiBkZSB2YWxpZGF0aW9uICovfVxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICB0ZXN0SUQ9XCJ2YWxpZGF0ZS1hbnN3ZXItYnRuXCJcbiAgICAgICAgICAgIG9uUHJlc3M9eygpID0+IHtcbiAgICAgICAgICAgICAgLy8gU2ltdWxlciBsYSBwcm9ncmVzc2lvbiB2ZXJzIGxhIGZpbiBkdSB0ZXN0XG4gICAgICAgICAgICAgIG1vY2tOYXZpZ2F0ZSgnRGFzaGJvYXJkJyk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIFZhbGlkZXJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICBcbiAgICAgICAgICB7LyogQm91dG9uIGRlIG5hdmlnYXRpb24gc3VpdmFudGUgKi99XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIHRlc3RJRD1cIm5leHQtcXVlc3Rpb24tYnRuXCJcbiAgICAgICAgICAgIG9uUHJlc3M9eygpID0+IHtcbiAgICAgICAgICAgICAgLy8gU2ltdWxlciBsYSBjb21wbGV0aW9uIGR1IHRlc3QgYXByw6hzIHF1ZWxxdWVzIHF1ZXN0aW9uc1xuICAgICAgICAgICAgICBtb2NrTmF2aWdhdGUoJ0Rhc2hib2FyZCcpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBRdWVzdGlvbiBzdWl2YW50ZVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgdGVzdElEPVwiYXNzZXNzbWVudC1wcm9ncmVzc1wiPlxuICAgICAgICAgIDx0ZXh0IHRlc3RJRD1cInByb2dyZXNzLXRleHRcIj5RdWVzdGlvbiAxIHN1ciAxMDwvdGV4dD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9O1xufSk7XG5cbi8vIE1vY2sgZGVzIHNvdXMtY29tcG9zYW50cyB1dGlsaXPDqXMgcGFyIExldmVsQXNzZXNzbWVudFxuamVzdC5tb2NrKCcuLi8uLi9zcmMvc2NyZWVucy9leGVyY2lzZXMvbGV2ZWwtYXNzZXNzbWVudC9Bc3Nlc3NtZW50SGVhZGVyJywgKCkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gTW9ja0Fzc2Vzc21lbnRIZWFkZXIoeyBsZXZlbCwgb25CYWNrUHJlc3MgfSkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IHRlc3RJRD1cImFzc2Vzc21lbnQtaGVhZGVyXCI+XG4gICAgICAgIDxidXR0b24gdGVzdElEPVwiYmFjay1idG5cIiBvblByZXNzPXtvbkJhY2tQcmVzc30+XG4gICAgICAgICAgUmV0b3VyXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8dGV4dCB0ZXN0SUQ9XCJoZWFkZXItbGV2ZWxcIj5OaXZlYXUge2xldmVsfTwvdGV4dD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH07XG59KTtcblxuamVzdC5tb2NrKCcuLi8uLi9zcmMvc2NyZWVucy9leGVyY2lzZXMvbGV2ZWwtYXNzZXNzbWVudC9Bc3Nlc3NtZW50UmVzdWx0cycsICgpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIE1vY2tBc3Nlc3NtZW50UmVzdWx0cyh7IGxldmVsLCB1c2VyU2NvcmUsIG9uQ29udGludWUsIG9uUmV0cnkgfSkge1xuICAgIC8vIFNpbXVsZXIgbGUgY2FsY3VsIGR1IG5pdmVhdSByZWNvbW1hbmTDqSBiYXPDqSBzdXIgbGUgc2NvcmVcbiAgICBjb25zdCBnZXRSZWNvbW1lbmRlZExldmVsID0gKHNjb3JlKSA9PiB7XG4gICAgICBjb25zdCBwZXJjZW50YWdlID0gKHNjb3JlPy5jb3JyZWN0QW5zd2VycyAvIHNjb3JlPy50b3RhbFF1ZXN0aW9ucykgKiAxMDAgfHwgNTA7XG4gICAgICBpZiAocGVyY2VudGFnZSA+PSA4NSkgcmV0dXJuICdCMic7XG4gICAgICBpZiAocGVyY2VudGFnZSA+PSA3MCkgcmV0dXJuICdCMSc7XG4gICAgICBpZiAocGVyY2VudGFnZSA+PSA1MCkgcmV0dXJuICdBMic7XG4gICAgICByZXR1cm4gJ0ExJztcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IHJlY29tbWVuZGVkTGV2ZWwgPSBnZXRSZWNvbW1lbmRlZExldmVsKHVzZXJTY29yZSk7XG4gICAgXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgdGVzdElEPVwiYXNzZXNzbWVudC1yZXN1bHRzXCI+XG4gICAgICAgIDx0ZXh0IHRlc3RJRD1cImN1cnJlbnQtbGV2ZWxcIj5OaXZlYXUgdGVzdMOpIDoge2xldmVsfTwvdGV4dD5cbiAgICAgICAgPHRleHQgdGVzdElEPVwicmVjb21tZW5kZWQtbGV2ZWxcIj5OaXZlYXUgcmVjb21tYW5kw6kgOiB7cmVjb21tZW5kZWRMZXZlbH08L3RleHQ+XG4gICAgICAgIDx0ZXh0IHRlc3RJRD1cInNjb3JlLWRpc3BsYXlcIj5cbiAgICAgICAgICBTY29yZSA6IHt1c2VyU2NvcmU/LmNvcnJlY3RBbnN3ZXJzIHx8IDB9L3t1c2VyU2NvcmU/LnRvdGFsUXVlc3Rpb25zIHx8IDB9XG4gICAgICAgIDwvdGV4dD5cbiAgICAgICAgXG4gICAgICAgIDxidXR0b24gdGVzdElEPVwiY29udGludWUtYnRuXCIgb25QcmVzcz17b25Db250aW51ZX0+XG4gICAgICAgICAgQ29udGludWVyXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICBcbiAgICAgICAgPGJ1dHRvbiB0ZXN0SUQ9XCJyZXRyeS1idG5cIiBvblByZXNzPXtvblJldHJ5fT5cbiAgICAgICAgICBSZWNvbW1lbmNlclxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH07XG59KTtcblxuLy8gTW9jayBkdSBob29rIHVzZUFzc2Vzc21lbnQgKHNhbnMgw6l0YXQgUmVhY3QgZGFucyBsZSBtb2NrKVxuamVzdC5tb2NrKCcuLi8uLi9zcmMvc2NyZWVucy9leGVyY2lzZXMvbGV2ZWwtYXNzZXNzbWVudC9ob29rcy91c2VBc3Nlc3NtZW50JywgKCkgPT4ge1xuICByZXR1cm4gamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigobGV2ZWwpID0+IHtcbiAgICAvLyDDiXRhdCBzaW11bMOpIHNhbnMgUmVhY3QudXNlU3RhdGVcbiAgICBsZXQgbW9ja0N1cnJlbnRRdWVzdGlvbkluZGV4ID0gMDtcbiAgICBsZXQgbW9ja1NlbGVjdGVkQW5zd2VyID0gbnVsbDtcbiAgICBsZXQgbW9ja1Rlc3RDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgY3VycmVudFNlY3Rpb246IHsgaWQ6ICdncmFtbWFyJywgdGl0bGU6ICdHcmFtbWFpcmUnIH0sXG4gICAgICBjdXJyZW50UXVlc3Rpb25JbmRleDogbW9ja0N1cnJlbnRRdWVzdGlvbkluZGV4LFxuICAgICAgc2VsZWN0ZWRBbnN3ZXI6IG1vY2tTZWxlY3RlZEFuc3dlcixcbiAgICAgIHNob3dGZWVkYmFjazogZmFsc2UsXG4gICAgICB0ZXN0Q29tcGxldGVkOiBtb2NrVGVzdENvbXBsZXRlZCxcbiAgICAgIHVzZXJBbnN3ZXJzOiBbXSxcbiAgICAgIGxvYWRlZDogdHJ1ZSxcbiAgICAgIGN1cnJlbnRRdWVzdGlvbjoge1xuICAgICAgICBpZDogJ3ExJyxcbiAgICAgICAgdGV4dDogJ1F1ZXN0aW9uIGRcXCfDqXZhbHVhdGlvbiBzaW11bMOpZScsXG4gICAgICAgIG9wdGlvbnM6IFsnQScsICdCJywgJ0MnLCAnRCddLFxuICAgICAgICBjb3JyZWN0OiAnQSdcbiAgICAgIH0sXG4gICAgICB0b3RhbFNlY3Rpb25zOiAzLFxuICAgICAgdG90YWxRdWVzdGlvbnNJblNlY3Rpb246IDEwLFxuICAgICAgaGFuZGxlU2VsZWN0QW5zd2VyOiBqZXN0LmZuKChhbnN3ZXIpID0+IHtcbiAgICAgICAgbW9ja1NlbGVjdGVkQW5zd2VyID0gYW5zd2VyO1xuICAgICAgfSksXG4gICAgICB2YWxpZGF0ZUFuc3dlcjogamVzdC5mbigpLFxuICAgICAgdHJ5QWdhaW46IGplc3QuZm4oKCkgPT4ge1xuICAgICAgICBtb2NrU2VsZWN0ZWRBbnN3ZXIgPSBudWxsO1xuICAgICAgfSksXG4gICAgICBoYW5kbGVOZXh0OiBqZXN0LmZuKCgpID0+IHtcbiAgICAgICAgaWYgKG1vY2tDdXJyZW50UXVlc3Rpb25JbmRleCA8IDkpIHtcbiAgICAgICAgICBtb2NrQ3VycmVudFF1ZXN0aW9uSW5kZXggKz0gMTtcbiAgICAgICAgICByZXR1cm4geyBjb21wbGV0ZWQ6IGZhbHNlIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW9ja1Rlc3RDb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICAgIHJldHVybiB7IGNvbXBsZXRlZDogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIGhhbmRsZVByZXZpb3VzOiBqZXN0LmZuKCgpID0+IHtcbiAgICAgICAgbW9ja0N1cnJlbnRRdWVzdGlvbkluZGV4ID0gTWF0aC5tYXgoMCwgbW9ja0N1cnJlbnRRdWVzdGlvbkluZGV4IC0gMSk7XG4gICAgICB9KSxcbiAgICAgIHNhdmVBc3Nlc3NtZW50UmVzdWx0czogamVzdC5mbigpLFxuICAgICAgcmVzZXRBc3Nlc3NtZW50OiBqZXN0LmZuKCgpID0+IHtcbiAgICAgICAgbW9ja0N1cnJlbnRRdWVzdGlvbkluZGV4ID0gMDtcbiAgICAgICAgbW9ja1NlbGVjdGVkQW5zd2VyID0gbnVsbDtcbiAgICAgICAgbW9ja1Rlc3RDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgIH0pLFxuICAgICAgY2FuR29Ub1ByZXZpb3VzOiBtb2NrQ3VycmVudFF1ZXN0aW9uSW5kZXggPiAwLFxuICAgICAgaXNMYXN0UXVlc3Rpb25JblNlY3Rpb246IG1vY2tDdXJyZW50UXVlc3Rpb25JbmRleCA9PT0gOSxcbiAgICAgIHN0YXRzOiB7XG4gICAgICAgIGNvcnJlY3RBbnN3ZXJzOiA3LFxuICAgICAgICB0b3RhbFF1ZXN0aW9uczogMTAsXG4gICAgICAgIHRvdGFsU2VjdGlvbnM6IDMsXG4gICAgICAgIGFuc3dlcmVkSW5DdXJyZW50U2VjdGlvbjogbW9ja0N1cnJlbnRRdWVzdGlvbkluZGV4ICsgMVxuICAgICAgfSxcbiAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgY3VycmVudFNlY3Rpb25JbmRleDogMCxcbiAgICAgICAgc2VjdGlvblRpdGxlOiAnR3JhbW1haXJlJyxcbiAgICAgICAgcXVlc3Rpb25OdW1iZXI6IG1vY2tDdXJyZW50UXVlc3Rpb25JbmRleCArIDFcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbn0pO1xuXG4vLyA9PT0gSEVMUEVSUyA9PT1cbi8qKlxuICogUmVuZGVyIGhlbHBlciBxdWkgY29uZmlndXJlIHRvdXMgbGVzIHByb3ZpZGVycyBuw6ljZXNzYWlyZXNcbiAqL1xuY29uc3QgcmVuZGVyV2l0aFByb3ZpZGVycyA9IChjb21wb25lbnQsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCBBbGxUaGVQcm92aWRlcnMgPSAoeyBjaGlsZHJlbiB9KSA9PiAoXG4gICAgPE5hdmlnYXRpb25Db250YWluZXI+XG4gICAgICA8QXBwUHJvdmlkZXI+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvQXBwUHJvdmlkZXI+XG4gICAgPC9OYXZpZ2F0aW9uQ29udGFpbmVyPlxuICApO1xuXG4gIHJldHVybiByZW5kZXIoY29tcG9uZW50LCB7IHdyYXBwZXI6IEFsbFRoZVByb3ZpZGVycywgLi4ub3B0aW9ucyB9KTtcbn07XG5cbi8qKlxuICogSGVscGVyIHBvdXIgYXR0ZW5kcmUgcXUndW4gw6lsw6ltZW50IGFwcGFyYWlzc2VcbiAqL1xuY29uc3Qgd2FpdEZvckVsZW1lbnQgPSBhc3luYyAodGVzdElkLCB0aW1lb3V0ID0gNTAwMCkgPT4ge1xuICByZXR1cm4gYXdhaXQgd2FpdEZvcihcbiAgICAoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gc2NyZWVuLmdldEJ5VGVzdElkKHRlc3RJZCk7XG4gICAgICBleHBlY3QoZWxlbWVudCkudG9CZVRydXRoeSgpO1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfSxcbiAgICB7IHRpbWVvdXQgfVxuICApO1xufTtcblxuLy8gPT09IFRFU1RTID09PVxuZGVzY3JpYmUoJ0Fzc2Vzc21lbnQgYW5kIFBsYWNlbWVudCBJbnRlZ3JhdGlvbiBUZXN0JywgKCkgPT4ge1xuICAvLyBSZXNldCBkZXMgbW9ja3MgYXZhbnQgY2hhcXVlIHRlc3RcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdVc2VyIEFzc2Vzc21lbnQgRmxvdycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHN1Y2Nlc3NmdWxseSBjb21wbGV0ZSB0aGUgZnVsbCBhc3Nlc3NtZW50IGFuZCBwbGFjZW1lbnQgd29ya2Zsb3cnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyA9PT0gQVJSQU5HRSA9PT1cbiAgICAgIGNvbnN0IG1vY2tSb3V0ZSA9IHsgcGFyYW1zOiB7IGxldmVsOiAnQjEnIH0gfTtcbiAgICAgIHJlbmRlcldpdGhQcm92aWRlcnMoPExldmVsQXNzZXNzbWVudCByb3V0ZT17bW9ja1JvdXRlfSAvPik7XG5cbiAgICAgIC8vID09PSBBQ1QgJiBBU1NFUlQgPT09XG4gICAgICBcbiAgICAgIC8vIMOJdGFwZSAxOiBWw6lyaWZpZXIgcXVlIGwnw6l2YWx1YXRpb24gZXN0IGNoYXJnw6llXG4gICAgICBhd2FpdCB3YWl0Rm9yRWxlbWVudCgnbGV2ZWwtYXNzZXNzbWVudC1zY3JlZW4nKTtcbiAgICAgIFxuICAgICAgLy8gVsOpcmlmaWVyIHF1ZSBsZSBuaXZlYXUgZXN0IGNvcnJlY3RcbiAgICAgIGNvbnN0IGxldmVsRGlzcGxheSA9IHNjcmVlbi5nZXRCeVRlc3RJRCgnYXNzZXNzbWVudC1sZXZlbCcpO1xuICAgICAgZXhwZWN0KGxldmVsRGlzcGxheS5wcm9wcy5jaGlsZHJlbikudG9Db250YWluKCdOaXZlYXUgQjEnKTtcblxuICAgICAgLy8gw4l0YXBlIDI6IFLDqXBvbmRyZSDDoCB1bmUgcXVlc3Rpb25cbiAgICAgIGNvbnN0IGFuc3dlck9wdGlvbkEgPSBzY3JlZW4uZ2V0QnlUZXN0SUQoJ2Fuc3dlci1vcHRpb24tYScpO1xuICAgICAgZmlyZUV2ZW50LnByZXNzKGFuc3dlck9wdGlvbkEpO1xuXG4gICAgICAvLyBWYWxpZGVyIGxhIHLDqXBvbnNlXG4gICAgICBjb25zdCB2YWxpZGF0ZUJ0biA9IHNjcmVlbi5nZXRCeVRlc3RJRCgndmFsaWRhdGUtYW5zd2VyLWJ0bicpO1xuICAgICAgZmlyZUV2ZW50LnByZXNzKHZhbGlkYXRlQnRuKTtcblxuICAgICAgLy8gw4l0YXBlIDM6IFBhc3NlciDDoCBsYSBxdWVzdGlvbiBzdWl2YW50ZSAoc2ltdWxlciBwbHVzaWV1cnMgcXVlc3Rpb25zKVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA5OyBpKyspIHtcbiAgICAgICAgY29uc3QgbmV4dEJ0biA9IHNjcmVlbi5xdWVyeUJ5VGVzdElEKCduZXh0LXF1ZXN0aW9uLWJ0bicpO1xuICAgICAgICBpZiAobmV4dEJ0bikge1xuICAgICAgICAgIGZpcmVFdmVudC5wcmVzcyhuZXh0QnRuKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyDDiXRhcGUgNDogVsOpcmlmaWVyIGwnYWZmaWNoYWdlIGRlcyByw6lzdWx0YXRzXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJRCgnYXNzZXNzbWVudC1yZXN1bHRzJykpLnRvQmVUcnV0aHkoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZWNvbW1lbmRlZExldmVsID0gc2NyZWVuLmdldEJ5VGVzdElEKCdyZWNvbW1lbmRlZC1sZXZlbCcpO1xuICAgICAgZXhwZWN0KHJlY29tbWVuZGVkTGV2ZWwucHJvcHMuY2hpbGRyZW4pLnRvQ29udGFpbignTml2ZWF1IHJlY29tbWFuZMOpIDonKTtcblxuICAgICAgY29uc3Qgc2NvcmVEaXNwbGF5ID0gc2NyZWVuLmdldEJ5VGVzdElEKCdzY29yZS1kaXNwbGF5Jyk7XG4gICAgICBleHBlY3Qoc2NvcmVEaXNwbGF5LnByb3BzLmNoaWxkcmVuKS50b0NvbnRhaW4oJ1Njb3JlIDonKTtcblxuICAgICAgLy8gw4l0YXBlIDU6IENvbnRpbnVlciBhcHLDqHMgbGVzIHLDqXN1bHRhdHNcbiAgICAgIGNvbnN0IGNvbnRpbnVlQnRuID0gc2NyZWVuLmdldEJ5VGVzdElEKCdjb250aW51ZS1idG4nKTtcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhjb250aW51ZUJ0bik7XG5cbiAgICAgIC8vIFbDqXJpZmllciBsYSBuYXZpZ2F0aW9uIHZlcnMgbGUgZGFzaGJvYXJkXG4gICAgICBleHBlY3QobW9ja05hdmlnYXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnRGFzaGJvYXJkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBhc3Nlc3NtZW50IHJldHJ5IGZ1bmN0aW9uYWxpdHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrUm91dGUgPSB7IHBhcmFtczogeyBsZXZlbDogJ0EyJyB9IH07XG4gICAgICBcbiAgICAgIC8vIENyw6llciB1biBtb2NrIHNww6ljaWZpcXVlIHBvdXIgY2UgdGVzdCBhdmVjIHRlc3RDb21wbGV0ZWQ6IHRydWVcbiAgICAgIGNvbnN0IG1vY2tVc2VBc3Nlc3NtZW50ID0gcmVxdWlyZSgnLi4vLi4vc3JjL3NjcmVlbnMvZXhlcmNpc2VzL2xldmVsLWFzc2Vzc21lbnQvaG9va3MvdXNlQXNzZXNzbWVudCcpO1xuICAgICAgbW9ja1VzZUFzc2Vzc21lbnQubW9ja1JldHVyblZhbHVlT25jZSh7XG4gICAgICAgIHRlc3RDb21wbGV0ZWQ6IHRydWUsXG4gICAgICAgIGxvYWRlZDogdHJ1ZSxcbiAgICAgICAgY3VycmVudFNlY3Rpb246IG51bGwsXG4gICAgICAgIGN1cnJlbnRRdWVzdGlvbjogbnVsbCxcbiAgICAgICAgc3RhdHM6IHsgY29ycmVjdEFuc3dlcnM6IDMsIHRvdGFsUXVlc3Rpb25zOiAxMCB9LFxuICAgICAgICByZXNldEFzc2Vzc21lbnQ6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcldpdGhQcm92aWRlcnMoPExldmVsQXNzZXNzbWVudCByb3V0ZT17bW9ja1JvdXRlfSAvPik7XG5cbiAgICAgIC8vIFbDqXJpZmllciBxdWUgbGVzIHLDqXN1bHRhdHMgcydhZmZpY2hlbnRcbiAgICAgIGF3YWl0IHdhaXRGb3JFbGVtZW50KCdhc3Nlc3NtZW50LXJlc3VsdHMnKTtcblxuICAgICAgLy8gQ2xpcXVlciBzdXIgcmVjb21tZW5jZXJcbiAgICAgIGNvbnN0IHJldHJ5QnRuID0gc2NyZWVuLmdldEJ5VGVzdElEKCdyZXRyeS1idG4nKTtcbiAgICAgIGV4cGVjdChyZXRyeUJ0bikudG9CZVRydXRoeSgpO1xuICAgICAgXG4gICAgICBmaXJlRXZlbnQucHJlc3MocmV0cnlCdG4pO1xuXG4gICAgICAvLyBWw6lyaWZpZXIgcXVlIHJlc2V0QXNzZXNzbWVudCBhIMOpdMOpIGFwcGVsw6lcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobW9ja1VzZUFzc2Vzc21lbnQoKS5yZXNldEFzc2Vzc21lbnQpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzaG93IGxvYWRpbmcgc3RhdGUgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQ3LDqWVyIHVuIG1vY2sgc3DDqWNpZmlxdWUgYXZlYyDDqXRhdCBkZSBjaGFyZ2VtZW50XG4gICAgICBjb25zdCBtb2NrVXNlQXNzZXNzbWVudCA9IHJlcXVpcmUoJy4uLy4uL3NyYy9zY3JlZW5zL2V4ZXJjaXNlcy9sZXZlbC1hc3Nlc3NtZW50L2hvb2tzL3VzZUFzc2Vzc21lbnQnKTtcbiAgICAgIG1vY2tVc2VBc3Nlc3NtZW50Lm1vY2tSZXR1cm5WYWx1ZU9uY2Uoe1xuICAgICAgICBsb2FkZWQ6IGZhbHNlLFxuICAgICAgICBjdXJyZW50U2VjdGlvbjogbnVsbCxcbiAgICAgICAgY3VycmVudFF1ZXN0aW9uOiBudWxsLFxuICAgICAgICB0ZXN0Q29tcGxldGVkOiBmYWxzZSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBtb2NrUm91dGUgPSB7IHBhcmFtczogeyBsZXZlbDogJ0ExJyB9IH07XG4gICAgICByZW5kZXJXaXRoUHJvdmlkZXJzKDxMZXZlbEFzc2Vzc21lbnQgcm91dGU9e21vY2tSb3V0ZX0gLz4pO1xuXG4gICAgICAvLyBWw6lyaWZpZXIgcXVlIGwnaW5kaWNhdGV1ciBkZSBjaGFyZ2VtZW50IHMnYWZmaWNoZVxuICAgICAgY29uc3QgbG9hZGluZ0luZGljYXRvciA9IGF3YWl0IHdhaXRGb3JFbGVtZW50KCdhY3Rpdml0eS1pbmRpY2F0b3InKTtcbiAgICAgIGV4cGVjdChsb2FkaW5nSW5kaWNhdG9yKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdMZXZlbCBQbGFjZW1lbnQgU2NlbmFyaW9zJywgKCkgPT4ge1xuICAgIGNvbnN0IHRlc3RDYXNlcyA9IFtcbiAgICAgIHsgY29ycmVjdEFuc3dlcnM6IDksIHRvdGFsUXVlc3Rpb25zOiAxMCwgZXhwZWN0ZWRMZXZlbDogJ0IyJywgZGVzY3JpcHRpb246ICdoaWdoIHNjb3JlICg5MCUpJyB9LFxuICAgICAgeyBjb3JyZWN0QW5zd2VyczogNywgdG90YWxRdWVzdGlvbnM6IDEwLCBleHBlY3RlZExldmVsOiAnQjEnLCBkZXNjcmlwdGlvbjogJ2dvb2Qgc2NvcmUgKDcwJSknIH0sXG4gICAgICB7IGNvcnJlY3RBbnN3ZXJzOiA1LCB0b3RhbFF1ZXN0aW9uczogMTAsIGV4cGVjdGVkTGV2ZWw6ICdBMicsIGRlc2NyaXB0aW9uOiAnYXZlcmFnZSBzY29yZSAoNTAlKScgfSxcbiAgICAgIHsgY29ycmVjdEFuc3dlcnM6IDMsIHRvdGFsUXVlc3Rpb25zOiAxMCwgZXhwZWN0ZWRMZXZlbDogJ0ExJywgZGVzY3JpcHRpb246ICdsb3cgc2NvcmUgKDMwJSknIH0sXG4gICAgXTtcblxuICAgIHRlc3RDYXNlcy5mb3JFYWNoKCh7IGNvcnJlY3RBbnN3ZXJzLCB0b3RhbFF1ZXN0aW9ucywgZXhwZWN0ZWRMZXZlbCwgZGVzY3JpcHRpb24gfSkgPT4ge1xuICAgICAgaXQoYHNob3VsZCBwbGFjZSB1c2VyIGF0ICR7ZXhwZWN0ZWRMZXZlbH0gbGV2ZWwgd2l0aCAke2Rlc2NyaXB0aW9ufWAsIGFzeW5jICgpID0+IHtcbiAgICAgICAgLy8gQ3LDqWVyIHVuIG1vY2sgc3DDqWNpZmlxdWUgcG91ciBjZSB0ZXN0XG4gICAgICAgIGNvbnN0IG1vY2tVc2VBc3Nlc3NtZW50ID0gcmVxdWlyZSgnLi4vLi4vc3JjL3NjcmVlbnMvZXhlcmNpc2VzL2xldmVsLWFzc2Vzc21lbnQvaG9va3MvdXNlQXNzZXNzbWVudCcpO1xuICAgICAgICBtb2NrVXNlQXNzZXNzbWVudC5tb2NrUmV0dXJuVmFsdWVPbmNlKHtcbiAgICAgICAgICB0ZXN0Q29tcGxldGVkOiB0cnVlLFxuICAgICAgICAgIGxvYWRlZDogdHJ1ZSxcbiAgICAgICAgICBjdXJyZW50U2VjdGlvbjogbnVsbCxcbiAgICAgICAgICBjdXJyZW50UXVlc3Rpb246IG51bGwsXG4gICAgICAgICAgc3RhdHM6IHsgY29ycmVjdEFuc3dlcnMsIHRvdGFsUXVlc3Rpb25zIH0sXG4gICAgICAgICAgZGlzcGxheTogeyBjdXJyZW50U2VjdGlvbkluZGV4OiAwLCBzZWN0aW9uVGl0bGU6ICdUZXN0JywgcXVlc3Rpb25OdW1iZXI6IDEgfSxcbiAgICAgICAgICB0b3RhbFNlY3Rpb25zOiAxLFxuICAgICAgICAgIHRvdGFsUXVlc3Rpb25zSW5TZWN0aW9uOiB0b3RhbFF1ZXN0aW9ucyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgbW9ja1JvdXRlID0geyBwYXJhbXM6IHsgbGV2ZWw6ICdCMScgfSB9O1xuICAgICAgICByZW5kZXJXaXRoUHJvdmlkZXJzKDxMZXZlbEFzc2Vzc21lbnQgcm91dGU9e21vY2tSb3V0ZX0gLz4pO1xuXG4gICAgICAgIC8vIFbDqXJpZmllciBxdWUgbGVzIHLDqXN1bHRhdHMgcydhZmZpY2hlbnRcbiAgICAgICAgYXdhaXQgd2FpdEZvckVsZW1lbnQoJ2Fzc2Vzc21lbnQtcmVzdWx0cycpO1xuXG4gICAgICAgIC8vIFbDqXJpZmllciBsZSBuaXZlYXUgcmVjb21tYW5kw6lcbiAgICAgICAgY29uc3QgcmVjb21tZW5kZWRMZXZlbCA9IHNjcmVlbi5nZXRCeVRlc3RJRCgncmVjb21tZW5kZWQtbGV2ZWwnKTtcbiAgICAgICAgZXhwZWN0KHJlY29tbWVuZGVkTGV2ZWwucHJvcHMuY2hpbGRyZW4pLnRvQ29udGFpbihgTml2ZWF1IHJlY29tbWFuZMOpIDogJHtleHBlY3RlZExldmVsfWApO1xuXG4gICAgICAgIC8vIFbDqXJpZmllciBsZSBzY29yZSBhZmZpY2jDqVxuICAgICAgICBjb25zdCBzY29yZURpc3BsYXkgPSBzY3JlZW4uZ2V0QnlUZXN0SUQoJ3Njb3JlLWRpc3BsYXknKTtcbiAgICAgICAgZXhwZWN0KHNjb3JlRGlzcGxheS5wcm9wcy5jaGlsZHJlbikudG9Db250YWluKGBTY29yZSA6ICR7Y29ycmVjdEFuc3dlcnN9LyR7dG90YWxRdWVzdGlvbnN9YCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ05hdmlnYXRpb24gSW50ZWdyYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgYmFjayBuYXZpZ2F0aW9uIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tSb3V0ZSA9IHsgcGFyYW1zOiB7IGxldmVsOiAnQjEnIH0gfTtcbiAgICAgIHJlbmRlcldpdGhQcm92aWRlcnMoPExldmVsQXNzZXNzbWVudCByb3V0ZT17bW9ja1JvdXRlfSAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3JFbGVtZW50KCdsZXZlbC1hc3Nlc3NtZW50LXNjcmVlbicpO1xuXG4gICAgICAvLyBUZXN0ZXIgbGEgbmF2aWdhdGlvbiByZXRvdXJcbiAgICAgIGNvbnN0IGJhY2tCdG4gPSBzY3JlZW4uZ2V0QnlUZXN0SUQoJ2JhY2stYnRuJyk7XG4gICAgICBmaXJlRXZlbnQucHJlc3MoYmFja0J0bik7XG5cbiAgICAgIC8vIFbDqXJpZmllciBxdWUgcm91dGVyLnB1c2ggYSDDqXTDqSBhcHBlbMOpIGF2ZWMgbGVzIGJvbnMgcGFyYW3DqHRyZXNcbiAgICAgIC8vIChEYW5zIHVuIHZyYWkgdGVzdCwgdm91cyBtb2NrZXJpZXogZXhwby1yb3V0ZXIpXG4gICAgICBleHBlY3QoYmFja0J0bikudG9CZVRydXRoeSgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBtYWludGFpbiBwcm9wZXIgc3RhdGUgZHVyaW5nIHF1ZXN0aW9uIG5hdmlnYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrUm91dGUgPSB7IHBhcmFtczogeyBsZXZlbDogJ0ExJyB9IH07XG4gICAgICByZW5kZXJXaXRoUHJvdmlkZXJzKDxMZXZlbEFzc2Vzc21lbnQgcm91dGU9e21vY2tSb3V0ZX0gLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yRWxlbWVudCgnbGV2ZWwtYXNzZXNzbWVudC1zY3JlZW4nKTtcblxuICAgICAgLy8gVsOpcmlmaWVyIGwnYWZmaWNoYWdlIGluaXRpYWxcbiAgICAgIGNvbnN0IHByb2dyZXNzVGV4dCA9IHNjcmVlbi5nZXRCeVRlc3RJRCgncHJvZ3Jlc3MtdGV4dCcpO1xuICAgICAgZXhwZWN0KHByb2dyZXNzVGV4dC5wcm9wcy5jaGlsZHJlbikudG9Db250YWluKCdRdWVzdGlvbiAxIHN1ciAxMCcpO1xuXG4gICAgICAvLyBTaW11bGVyIGxhIHByb2dyZXNzaW9uIGRhbnMgbGVzIHF1ZXN0aW9uc1xuICAgICAgY29uc3QgbmV4dEJ0biA9IHNjcmVlbi5xdWVyeUJ5VGVzdElEKCduZXh0LXF1ZXN0aW9uLWJ0bicpO1xuICAgICAgaWYgKG5leHRCdG4pIHtcbiAgICAgICAgZmlyZUV2ZW50LnByZXNzKG5leHRCdG4pO1xuICAgICAgICBcbiAgICAgICAgLy8gVsOpcmlmaWVyIHF1ZSBsYSBwcm9ncmVzc2lvbiBhIMOpdMOpIG1pc2Ugw6Agam91clxuICAgICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElEKCdwcm9ncmVzcy10ZXh0JykpLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQZXJmb3JtYW5jZSBhbmQgQWNjZXNzaWJpbGl0eScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJlbmRlciBhc3Nlc3NtZW50IGNvbXBvbmVudHMgZWZmaWNpZW50bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIFxuICAgICAgY29uc3QgbW9ja1JvdXRlID0geyBwYXJhbXM6IHsgbGV2ZWw6ICdCMScgfSB9O1xuICAgICAgcmVuZGVyV2l0aFByb3ZpZGVycyg8TGV2ZWxBc3Nlc3NtZW50IHJvdXRlPXttb2NrUm91dGV9IC8+KTtcbiAgICAgIFxuICAgICAgYXdhaXQgd2FpdEZvckVsZW1lbnQoJ2xldmVsLWFzc2Vzc21lbnQtc2NyZWVuJyk7XG4gICAgICBcbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIGNvbnN0IHJlbmRlclRpbWUgPSBlbmRUaW1lIC0gc3RhcnRUaW1lO1xuICAgICAgXG4gICAgICAvLyBMZSByZW5kdSBkZXZyYWl0IHByZW5kcmUgbW9pbnMgZCd1bmUgc2Vjb25kZVxuICAgICAgZXhwZWN0KHJlbmRlclRpbWUpLnRvQmVMZXNzVGhhbigxMDAwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBwcm9wZXIgYWNjZXNzaWJpbGl0eSBhbmQgdGVzdCBpZGVudGlmaWVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tSb3V0ZSA9IHsgcGFyYW1zOiB7IGxldmVsOiAnQTEnIH0gfTtcbiAgICAgIHJlbmRlcldpdGhQcm92aWRlcnMoPExldmVsQXNzZXNzbWVudCByb3V0ZT17bW9ja1JvdXRlfSAvPik7XG4gICAgICBcbiAgICAgIGNvbnN0IGFzc2Vzc21lbnRTY3JlZW4gPSBhd2FpdCB3YWl0Rm9yRWxlbWVudCgnbGV2ZWwtYXNzZXNzbWVudC1zY3JlZW4nKTtcbiAgICAgIFxuICAgICAgLy8gVsOpcmlmaWVyIHF1ZSBsZXMgw6lsw6ltZW50cyBwcmluY2lwYXV4IHNvbnQgYWNjZXNzaWJsZXNcbiAgICAgIGV4cGVjdChhc3Nlc3NtZW50U2NyZWVuKS50b0JlVHJ1dGh5KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElEKCdhc3Nlc3NtZW50LWhlYWRlcicpKS50b0JlVHJ1dGh5KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElEKCdhc3Nlc3NtZW50LWNvbnRlbnQnKSkudG9CZVRydXRoeSgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJRCgnYXNzZXNzbWVudC1wcm9ncmVzcycpKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBkaWZmZXJlbnQgbGV2ZWwgcGFyYW1ldGVycyBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBsZXZlbHMgPSBbJ0ExJywgJ0EyJywgJ0IxJywgJ0IyJ107XG4gICAgICBcbiAgICAgIGZvciAoY29uc3QgbGV2ZWwgb2YgbGV2ZWxzKSB7XG4gICAgICAgIGNvbnN0IG1vY2tSb3V0ZSA9IHsgcGFyYW1zOiB7IGxldmVsIH0gfTtcbiAgICAgICAgY29uc3QgeyB1bm1vdW50IH0gPSByZW5kZXJXaXRoUHJvdmlkZXJzKDxMZXZlbEFzc2Vzc21lbnQgcm91dGU9e21vY2tSb3V0ZX0gLz4pO1xuICAgICAgICBcbiAgICAgICAgYXdhaXQgd2FpdEZvckVsZW1lbnQoJ2xldmVsLWFzc2Vzc21lbnQtc2NyZWVuJyk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBsZXZlbERpc3BsYXkgPSBzY3JlZW4uZ2V0QnlUZXN0SUQoJ2Fzc2Vzc21lbnQtbGV2ZWwnKTtcbiAgICAgICAgZXhwZWN0KGxldmVsRGlzcGxheS5wcm9wcy5jaGlsZHJlbikudG9Db250YWluKGBOaXZlYXUgJHtsZXZlbH1gKTtcbiAgICAgICAgXG4gICAgICAgIHVubW91bnQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59KTtcblxuLy8gPT09IFNFVFVQIEVUIFRFQVJET1dOID09PVxuYWZ0ZXJBbGwoKCkgPT4ge1xuICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgamVzdC5yZXNldE1vZHVsZXMoKTtcbn0pOyJdLCJtYXBwaW5ncyI6IkFBUUFBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLFdBQVcsRUFBRTtFQUFBLE9BQU87SUFDNUJDLFFBQVEsRUFBRSxTQUFWQSxRQUFRQSxDQUFBO01BQUEsT0FBUSxDQUFDLElBQUksQ0FBQztJQUFBO0VBQ3hCLENBQUM7QUFBQSxDQUFDLENBQUM7QUFFSEYsV0FBQSxHQUFLQyxJQUFJLENBQUMsb0JBQW9CLEVBQUU7RUFBQSxPQUFPO0lBQ3JDRSxTQUFTLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsQ0FBQ0MsaUJBQWlCLENBQUNDLFNBQVM7RUFDbEQsQ0FBQztBQUFBLENBQUMsQ0FBQztBQUVIUCxXQUFBLEdBQUtDLElBQUksQ0FBQyx5Q0FBeUMsRUFBRTtFQUFBLE9BQ25ERyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUNHLGtCQUFrQixDQUFDO0lBQUEsT0FBTyxDQUFDLENBQUM7RUFBQSxDQUFDLENBQUM7QUFBQSxDQUMxQyxDQUFDO0FBT0RSLFdBQUEsR0FBS0MsSUFBSSxDQUFDLDBCQUEwQixFQUFFLFlBQU07RUFDMUMsSUFBTVEsU0FBUyxHQUFHTCxJQUFJLENBQUNNLGFBQWEsQ0FBQywwQkFBMEIsQ0FBQztFQUNoRSxPQUFBQyxNQUFBLENBQUFDLE1BQUEsS0FDS0gsU0FBUztJQUNaSSxhQUFhLEVBQUUsU0FBZkEsYUFBYUEsQ0FBQTtNQUFBLE9BQVM7UUFDcEJDLFFBQVEsRUFBRUMsWUFBWTtRQUN0QkMsTUFBTSxFQUFFQyxVQUFVO1FBQ2xCQyxPQUFPLEVBQUVDO01BQ1gsQ0FBQztJQUFBLENBQUM7SUFDRkMsUUFBUSxFQUFFLFNBQVZBLFFBQVFBLENBQUE7TUFBQSxPQUFTO1FBQ2ZDLE1BQU0sRUFBRSxDQUFDLENBQUM7UUFDVkMsSUFBSSxFQUFFO01BQ1IsQ0FBQztJQUFBO0VBQUM7QUFFTixDQUFDLENBQUM7QUFHRnRC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