fdadd3c7e2a7b99fab14d7be7bd69327
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.withReanimatedTimer = exports.setUpTests = exports.getAnimatedStyle = exports.advanceAnimationByTime = exports.advanceAnimationByFrame = void 0;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _PlatformChecker = require("./PlatformChecker");
var _errors = require("./errors");
var defaultFramerateConfig = {
  fps: 60
};
var isEmpty = function isEmpty(obj) {
  return Object.keys(obj).length === 0;
};
var getStylesFromObject = function getStylesFromObject(obj) {
  return obj === undefined ? {} : Object.fromEntries(Object.entries(obj).map(function (_ref) {
    var _ref2 = (0, _slicedToArray2.default)(_ref, 2),
      property = _ref2[0],
      value = _ref2[1];
    return [property, value._isReanimatedSharedValue ? value.value : value];
  }));
};
var getCurrentStyle = function getCurrentStyle(component) {
  var _component$props$jest;
  var styleObject = component.props.style;
  var currentStyle = {};
  if (Array.isArray(styleObject)) {
    styleObject.forEach(function (style) {
      currentStyle = Object.assign({}, currentStyle, style);
    });
    return currentStyle;
  }
  var jestInlineStyles = component.props.jestInlineStyle;
  var jestAnimatedStyleValue = (_component$props$jest = component.props.jestAnimatedStyle) == null ? void 0 : _component$props$jest.value;
  if (Array.isArray(jestInlineStyles)) {
    for (var obj of jestInlineStyles) {
      if ('jestAnimatedStyle' in obj) {
        continue;
      }
      var _inlineStyles = getStylesFromObject(obj);
      currentStyle = Object.assign({}, currentStyle, _inlineStyles);
    }
    currentStyle = Object.assign({}, styleObject, currentStyle, jestAnimatedStyleValue);
    return currentStyle;
  }
  var inlineStyles = getStylesFromObject(jestInlineStyles);
  currentStyle = isEmpty(jestAnimatedStyleValue) ? Object.assign({}, styleObject, inlineStyles) : Object.assign({}, styleObject, jestAnimatedStyleValue);
  return currentStyle;
};
var _checkEqual = function checkEqual(current, expected) {
  if (Array.isArray(expected)) {
    if (!Array.isArray(current) || expected.length !== current.length) {
      return false;
    }
    for (var i = 0; i < current.length; i++) {
      if (!_checkEqual(current[i], expected[i])) {
        return false;
      }
    }
  } else if (typeof current === 'object' && current) {
    if (typeof expected !== 'object' || !expected) {
      return false;
    }
    for (var property in expected) {
      if (!_checkEqual(current[property], expected[property])) {
        return false;
      }
    }
  } else {
    return current === expected;
  }
  return true;
};
var findStyleDiff = function findStyleDiff(current, expected, shouldMatchAllProps) {
  var diffs = [];
  var isEqual = true;
  var property;
  for (property in expected) {
    if (!_checkEqual(current[property], expected[property])) {
      isEqual = false;
      diffs.push({
        property: property,
        current: current[property],
        expect: expected[property]
      });
    }
  }
  if (shouldMatchAllProps && Object.keys(current).length !== Object.keys(expected).length) {
    isEqual = false;
    var _property;
    for (_property in current) {
      if (expected[_property] === undefined) {
        diffs.push({
          property: _property,
          current: current[_property],
          expect: expected[_property]
        });
      }
    }
  }
  return {
    isEqual: isEqual,
    diffs: diffs
  };
};
var compareStyle = function compareStyle(component, expectedStyle, config) {
  if (!component.props.style) {
    return {
      message: function message() {
        return `Component doesn't have a style.`;
      },
      pass: false
    };
  }
  var shouldMatchAllProps = config.shouldMatchAllProps;
  var currentStyle = getCurrentStyle(component);
  var _findStyleDiff = findStyleDiff(currentStyle, expectedStyle, shouldMatchAllProps),
    isEqual = _findStyleDiff.isEqual,
    diffs = _findStyleDiff.diffs;
  if (isEqual) {
    return {
      message: function message() {
        return 'ok';
      },
      pass: true
    };
  }
  var currentStyleStr = JSON.stringify(currentStyle);
  var expectedStyleStr = JSON.stringify(expectedStyle);
  var differences = diffs.map(function (diff) {
    return `- '${diff.property}' should be ${JSON.stringify(diff.expect)}, but is ${JSON.stringify(diff.current)}`;
  }).join('\n');
  return {
    message: function message() {
      return `Expected: ${expectedStyleStr}\nReceived: ${currentStyleStr}\n\nDifferences:\n${differences}`;
    },
    pass: false
  };
};
var frameTime = Math.round(1000 / defaultFramerateConfig.fps);
var beforeTest = function beforeTest() {
  jest.useFakeTimers();
};
var afterTest = function afterTest() {
  jest.runOnlyPendingTimers();
  jest.useRealTimers();
};
var withReanimatedTimer = exports.withReanimatedTimer = function withReanimatedTimer(animationTest) {
  console.warn('This method is deprecated, you should define your own before and after test hooks to enable jest.useFakeTimers(). Check out the documentation for details on testing');
  beforeTest();
  animationTest();
  afterTest();
};
var advanceAnimationByTime = exports.advanceAnimationByTime = function advanceAnimationByTime() {
  var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : frameTime;
  console.warn('This method is deprecated, use jest.advanceTimersByTime directly');
  jest.advanceTimersByTime(time);
  jest.runOnlyPendingTimers();
};
var advanceAnimationByFrame = exports.advanceAnimationByFrame = function advanceAnimationByFrame(count) {
  console.warn('This method is deprecated, use jest.advanceTimersByTime directly');
  jest.advanceTimersByTime(count * frameTime);
  jest.runOnlyPendingTimers();
};
var requireFunction = (0, _PlatformChecker.isJest)() ? require : function () {
  throw new _errors.ReanimatedError('`setUpTests` is available only in Jest environment.');
};
var setUpTests = exports.setUpTests = function setUpTests() {
  var userFramerateConfig = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var expect = global.expect;
  if (expect === undefined) {
    var expectModule = requireFunction('expect');
    expect = expectModule;
    if (typeof expect === 'object') {
      var jestGlobals = requireFunction('@jest/globals');
      expect = jestGlobals.expect;
    }
    if (expect === undefined || expect.extend === undefined) {
      expect = expectModule.default;
    }
  }
  var framerateConfig = Object.assign({}, defaultFramerateConfig, userFramerateConfig);
  frameTime = Math.round(1000 / framerateConfig.fps);
  expect.extend({
    toHaveAnimatedStyle: function toHaveAnimatedStyle(component, expectedStyle) {
      var config = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      return compareStyle(component, expectedStyle, config);
    }
  });
};
var getAnimatedStyle = exports.getAnimatedStyle = function getAnimatedStyle(component) {
  return getCurrentStyle(component);
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwid2l0aFJlYW5pbWF0ZWRUaW1lciIsInNldFVwVGVzdHMiLCJnZXRBbmltYXRlZFN0eWxlIiwiYWR2YW5jZUFuaW1hdGlvbkJ5VGltZSIsImFkdmFuY2VBbmltYXRpb25CeUZyYW1lIiwiX3NsaWNlZFRvQXJyYXkyIiwiX1BsYXRmb3JtQ2hlY2tlciIsIl9lcnJvcnMiLCJkZWZhdWx0RnJhbWVyYXRlQ29uZmlnIiwiZnBzIiwiaXNFbXB0eSIsIm9iaiIsImtleXMiLCJsZW5ndGgiLCJnZXRTdHlsZXNGcm9tT2JqZWN0IiwidW5kZWZpbmVkIiwiZnJvbUVudHJpZXMiLCJlbnRyaWVzIiwibWFwIiwiX3JlZiIsIl9yZWYyIiwiZGVmYXVsdCIsInByb3BlcnR5IiwiX2lzUmVhbmltYXRlZFNoYXJlZFZhbHVlIiwiZ2V0Q3VycmVudFN0eWxlIiwiY29tcG9uZW50IiwiX2NvbXBvbmVudCRwcm9wcyRqZXN0Iiwic3R5bGVPYmplY3QiLCJwcm9wcyIsInN0eWxlIiwiY3VycmVudFN0eWxlIiwiQXJyYXkiLCJpc0FycmF5IiwiZm9yRWFjaCIsImFzc2lnbiIsImplc3RJbmxpbmVTdHlsZXMiLCJqZXN0SW5saW5lU3R5bGUiLCJqZXN0QW5pbWF0ZWRTdHlsZVZhbHVlIiwiamVzdEFuaW1hdGVkU3R5bGUiLCJpbmxpbmVTdHlsZXMiLCJjaGVja0VxdWFsIiwiY3VycmVudCIsImV4cGVjdGVkIiwiaSIsImZpbmRTdHlsZURpZmYiLCJzaG91bGRNYXRjaEFsbFByb3BzIiwiZGlmZnMiLCJpc0VxdWFsIiwicHVzaCIsImV4cGVjdCIsImNvbXBhcmVTdHlsZSIsImV4cGVjdGVkU3R5bGUiLCJjb25maWciLCJtZXNzYWdlIiwicGFzcyIsIl9maW5kU3R5bGVEaWZmIiwiY3VycmVudFN0eWxlU3RyIiwiSlNPTiIsInN0cmluZ2lmeSIsImV4cGVjdGVkU3R5bGVTdHIiLCJkaWZmZXJlbmNlcyIsImRpZmYiLCJqb2luIiwiZnJhbWVUaW1lIiwiTWF0aCIsInJvdW5kIiwiYmVmb3JlVGVzdCIsImplc3QiLCJ1c2VGYWtlVGltZXJzIiwiYWZ0ZXJUZXN0IiwicnVuT25seVBlbmRpbmdUaW1lcnMiLCJ1c2VSZWFsVGltZXJzIiwiYW5pbWF0aW9uVGVzdCIsImNvbnNvbGUiLCJ3YXJuIiwidGltZSIsImFyZ3VtZW50cyIsImFkdmFuY2VUaW1lcnNCeVRpbWUiLCJjb3VudCIsInJlcXVpcmVGdW5jdGlvbiIsImlzSmVzdCIsIlJlYW5pbWF0ZWRFcnJvciIsInVzZXJGcmFtZXJhdGVDb25maWciLCJnbG9iYWwiLCJleHBlY3RNb2R1bGUiLCJqZXN0R2xvYmFscyIsImV4dGVuZCIsImZyYW1lcmF0ZUNvbmZpZyIsInRvSGF2ZUFuaW1hdGVkU3R5bGUiXSwic291cmNlcyI6WyJqZXN0VXRpbHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5hbWVzcGFjZSAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdHlwZSB7IFJlYWN0VGVzdEluc3RhbmNlIH0gZnJvbSAncmVhY3QtdGVzdC1yZW5kZXJlcic7XG5pbXBvcnQgdHlwZSB7XG4gIEFuaW1hdGVkQ29tcG9uZW50UHJvcHMsXG4gIElBbmltYXRlZENvbXBvbmVudEludGVybmFsLFxuICBJbml0aWFsQ29tcG9uZW50UHJvcHMsXG59IGZyb20gJy4vY3JlYXRlQW5pbWF0ZWRDb21wb25lbnQvY29tbW9uVHlwZXMnO1xuaW1wb3J0IHsgaXNKZXN0IH0gZnJvbSAnLi9QbGF0Zm9ybUNoZWNrZXInO1xuaW1wb3J0IHR5cGUgeyBEZWZhdWx0U3R5bGUgfSBmcm9tICcuL2hvb2svY29tbW9uVHlwZXMnO1xuaW1wb3J0IHsgUmVhbmltYXRlZEVycm9yIH0gZnJvbSAnLi9lcnJvcnMnO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIG5hbWVzcGFjZSBqZXN0IHtcbiAgICBpbnRlcmZhY2UgTWF0Y2hlcnM8Uj4ge1xuICAgICAgdG9IYXZlQW5pbWF0ZWRTdHlsZShcbiAgICAgICAgc3R5bGU6IFJlY29yZDxzdHJpbmcsIHVua25vd24+W10gfCBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICAgY29uZmlnPzoge1xuICAgICAgICAgIHNob3VsZE1hdGNoQWxsUHJvcHM/OiBib29sZWFuO1xuICAgICAgICB9XG4gICAgICApOiBSO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBkZWZhdWx0RnJhbWVyYXRlQ29uZmlnID0ge1xuICBmcHM6IDYwLFxufTtcblxuY29uc3QgaXNFbXB0eSA9IChvYmo6IG9iamVjdCkgPT4gT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDA7XG5jb25zdCBnZXRTdHlsZXNGcm9tT2JqZWN0ID0gKG9iajogb2JqZWN0KSA9PiB7XG4gIHJldHVybiBvYmogPT09IHVuZGVmaW5lZFxuICAgID8ge31cbiAgICA6IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgT2JqZWN0LmVudHJpZXMob2JqKS5tYXAoKFtwcm9wZXJ0eSwgdmFsdWVdKSA9PiBbXG4gICAgICAgICAgcHJvcGVydHksXG4gICAgICAgICAgdmFsdWUuX2lzUmVhbmltYXRlZFNoYXJlZFZhbHVlID8gdmFsdWUudmFsdWUgOiB2YWx1ZSxcbiAgICAgICAgXSlcbiAgICAgICk7XG59O1xuXG50eXBlIFN0eWxlVmFsdWUgPSB7IHZhbHVlOiB1bmtub3duIH07XG50eXBlIEplc3RJbmxpbmVTdHlsZSA9XG4gIHwge1xuICAgICAgW3M6IHN0cmluZ106IFN0eWxlVmFsdWU7XG4gICAgfVxuICB8IEFycmF5TGlrZTxTdHlsZVZhbHVlPjtcblxuY29uc3QgZ2V0Q3VycmVudFN0eWxlID0gKGNvbXBvbmVudDogVGVzdENvbXBvbmVudCk6IERlZmF1bHRTdHlsZSA9PiB7XG4gIGNvbnN0IHN0eWxlT2JqZWN0ID0gY29tcG9uZW50LnByb3BzLnN0eWxlO1xuXG4gIGxldCBjdXJyZW50U3R5bGUgPSB7fTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShzdHlsZU9iamVjdCkpIHtcbiAgICAvLyBJdCBpcyBwb3NzaWJsZSB0aGF0IHN0eWxlIG1heSBjb250YWluIG5lc3RlZCBhcnJheXMuIEN1cnJlbnRseSwgbmVpdGhlciBgU3R5bGVTaGVldC5mbGF0dGVuYCBub3IgYGZsYXR0ZW5BcnJheWAgc29sdmUgdGhpcyBpc3N1ZS5cbiAgICAvLyBIZW5jZSwgd2UncmUgbm90IGhhbmRsaW5nIG5lc3RlZCBhcnJheXMgYXQgdGhlIG1vbWVudCAtIHRoaXMgaXMgYSBrbm93biBsaW1pdGF0aW9uIG9mIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uLlxuICAgIHN0eWxlT2JqZWN0LmZvckVhY2goKHN0eWxlKSA9PiB7XG4gICAgICBjdXJyZW50U3R5bGUgPSB7XG4gICAgICAgIC4uLmN1cnJlbnRTdHlsZSxcbiAgICAgICAgLi4uc3R5bGUsXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGN1cnJlbnRTdHlsZTtcbiAgfVxuXG4gIGNvbnN0IGplc3RJbmxpbmVTdHlsZXMgPSBjb21wb25lbnQucHJvcHMuamVzdElubGluZVN0eWxlIGFzIEplc3RJbmxpbmVTdHlsZTtcbiAgY29uc3QgamVzdEFuaW1hdGVkU3R5bGVWYWx1ZSA9IGNvbXBvbmVudC5wcm9wcy5qZXN0QW5pbWF0ZWRTdHlsZT8udmFsdWU7XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoamVzdElubGluZVN0eWxlcykpIHtcbiAgICBmb3IgKGNvbnN0IG9iaiBvZiBqZXN0SW5saW5lU3R5bGVzKSB7XG4gICAgICBpZiAoJ2plc3RBbmltYXRlZFN0eWxlJyBpbiBvYmopIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGlubGluZVN0eWxlcyA9IGdldFN0eWxlc0Zyb21PYmplY3Qob2JqKTtcblxuICAgICAgY3VycmVudFN0eWxlID0ge1xuICAgICAgICAuLi5jdXJyZW50U3R5bGUsXG4gICAgICAgIC4uLmlubGluZVN0eWxlcyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY3VycmVudFN0eWxlID0ge1xuICAgICAgLi4uc3R5bGVPYmplY3QsXG4gICAgICAuLi5jdXJyZW50U3R5bGUsXG4gICAgICAuLi5qZXN0QW5pbWF0ZWRTdHlsZVZhbHVlLFxuICAgIH07XG5cbiAgICByZXR1cm4gY3VycmVudFN0eWxlO1xuICB9XG5cbiAgY29uc3QgaW5saW5lU3R5bGVzID0gZ2V0U3R5bGVzRnJvbU9iamVjdChqZXN0SW5saW5lU3R5bGVzKTtcblxuICBjdXJyZW50U3R5bGUgPSBpc0VtcHR5KGplc3RBbmltYXRlZFN0eWxlVmFsdWUgYXMgb2JqZWN0KVxuICAgID8geyAuLi5zdHlsZU9iamVjdCwgLi4uaW5saW5lU3R5bGVzIH1cbiAgICA6IHsgLi4uc3R5bGVPYmplY3QsIC4uLmplc3RBbmltYXRlZFN0eWxlVmFsdWUgfTtcblxuICByZXR1cm4gY3VycmVudFN0eWxlO1xufTtcblxuY29uc3QgY2hlY2tFcXVhbCA9IDxWYWx1ZT4oY3VycmVudDogVmFsdWUsIGV4cGVjdGVkOiBWYWx1ZSkgPT4ge1xuICBpZiAoQXJyYXkuaXNBcnJheShleHBlY3RlZCkpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY3VycmVudCkgfHwgZXhwZWN0ZWQubGVuZ3RoICE9PSBjdXJyZW50Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghY2hlY2tFcXVhbChjdXJyZW50W2ldLCBleHBlY3RlZFtpXSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgY3VycmVudCA9PT0gJ29iamVjdCcgJiYgY3VycmVudCkge1xuICAgIGlmICh0eXBlb2YgZXhwZWN0ZWQgIT09ICdvYmplY3QnIHx8ICFleHBlY3RlZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHByb3BlcnR5IGluIGV4cGVjdGVkKSB7XG4gICAgICBpZiAoIWNoZWNrRXF1YWwoY3VycmVudFtwcm9wZXJ0eV0sIGV4cGVjdGVkW3Byb3BlcnR5XSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY3VycmVudCA9PT0gZXhwZWN0ZWQ7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBmaW5kU3R5bGVEaWZmID0gKFxuICBjdXJyZW50OiBEZWZhdWx0U3R5bGUsXG4gIGV4cGVjdGVkOiBEZWZhdWx0U3R5bGUsXG4gIHNob3VsZE1hdGNoQWxsUHJvcHM/OiBib29sZWFuXG4pID0+IHtcbiAgY29uc3QgZGlmZnMgPSBbXTtcbiAgbGV0IGlzRXF1YWwgPSB0cnVlO1xuICBsZXQgcHJvcGVydHk6IGtleW9mIERlZmF1bHRTdHlsZTtcbiAgZm9yIChwcm9wZXJ0eSBpbiBleHBlY3RlZCkge1xuICAgIGlmICghY2hlY2tFcXVhbChjdXJyZW50W3Byb3BlcnR5XSwgZXhwZWN0ZWRbcHJvcGVydHldKSkge1xuICAgICAgaXNFcXVhbCA9IGZhbHNlO1xuICAgICAgZGlmZnMucHVzaCh7XG4gICAgICAgIHByb3BlcnR5LFxuICAgICAgICBjdXJyZW50OiBjdXJyZW50W3Byb3BlcnR5XSxcbiAgICAgICAgZXhwZWN0OiBleHBlY3RlZFtwcm9wZXJ0eV0sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpZiAoXG4gICAgc2hvdWxkTWF0Y2hBbGxQcm9wcyAmJlxuICAgIE9iamVjdC5rZXlzKGN1cnJlbnQpLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMoZXhwZWN0ZWQpLmxlbmd0aFxuICApIHtcbiAgICBpc0VxdWFsID0gZmFsc2U7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1zaGFkb3dcbiAgICBsZXQgcHJvcGVydHk6IGtleW9mIERlZmF1bHRTdHlsZTtcbiAgICBmb3IgKHByb3BlcnR5IGluIGN1cnJlbnQpIHtcbiAgICAgIGlmIChleHBlY3RlZFtwcm9wZXJ0eV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkaWZmcy5wdXNoKHtcbiAgICAgICAgICBwcm9wZXJ0eSxcbiAgICAgICAgICBjdXJyZW50OiBjdXJyZW50W3Byb3BlcnR5XSxcbiAgICAgICAgICBleHBlY3Q6IGV4cGVjdGVkW3Byb3BlcnR5XSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHsgaXNFcXVhbCwgZGlmZnMgfTtcbn07XG5cbmNvbnN0IGNvbXBhcmVTdHlsZSA9IChcbiAgY29tcG9uZW50OiBUZXN0Q29tcG9uZW50LFxuICBleHBlY3RlZFN0eWxlOiBEZWZhdWx0U3R5bGUsXG4gIGNvbmZpZzogVG9IYXZlQW5pbWF0ZWRTdHlsZUNvbmZpZ1xuKSA9PiB7XG4gIGlmICghY29tcG9uZW50LnByb3BzLnN0eWxlKSB7XG4gICAgcmV0dXJuIHsgbWVzc2FnZTogKCkgPT4gYENvbXBvbmVudCBkb2Vzbid0IGhhdmUgYSBzdHlsZS5gLCBwYXNzOiBmYWxzZSB9O1xuICB9XG4gIGNvbnN0IHsgc2hvdWxkTWF0Y2hBbGxQcm9wcyB9ID0gY29uZmlnO1xuICBjb25zdCBjdXJyZW50U3R5bGUgPSBnZXRDdXJyZW50U3R5bGUoY29tcG9uZW50KTtcbiAgY29uc3QgeyBpc0VxdWFsLCBkaWZmcyB9ID0gZmluZFN0eWxlRGlmZihcbiAgICBjdXJyZW50U3R5bGUsXG4gICAgZXhwZWN0ZWRTdHlsZSxcbiAgICBzaG91bGRNYXRjaEFsbFByb3BzXG4gICk7XG5cbiAgaWYgKGlzRXF1YWwpIHtcbiAgICByZXR1cm4geyBtZXNzYWdlOiAoKSA9PiAnb2snLCBwYXNzOiB0cnVlIH07XG4gIH1cblxuICBjb25zdCBjdXJyZW50U3R5bGVTdHIgPSBKU09OLnN0cmluZ2lmeShjdXJyZW50U3R5bGUpO1xuICBjb25zdCBleHBlY3RlZFN0eWxlU3RyID0gSlNPTi5zdHJpbmdpZnkoZXhwZWN0ZWRTdHlsZSk7XG4gIGNvbnN0IGRpZmZlcmVuY2VzID0gZGlmZnNcbiAgICAubWFwKFxuICAgICAgKGRpZmYpID0+XG4gICAgICAgIGAtICcke2RpZmYucHJvcGVydHl9JyBzaG91bGQgYmUgJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICBkaWZmLmV4cGVjdFxuICAgICAgICApfSwgYnV0IGlzICR7SlNPTi5zdHJpbmdpZnkoZGlmZi5jdXJyZW50KX1gXG4gICAgKVxuICAgIC5qb2luKCdcXG4nKTtcblxuICByZXR1cm4ge1xuICAgIG1lc3NhZ2U6ICgpID0+XG4gICAgICBgRXhwZWN0ZWQ6ICR7ZXhwZWN0ZWRTdHlsZVN0cn1cXG5SZWNlaXZlZDogJHtjdXJyZW50U3R5bGVTdHJ9XFxuXFxuRGlmZmVyZW5jZXM6XFxuJHtkaWZmZXJlbmNlc31gLFxuICAgIHBhc3M6IGZhbHNlLFxuICB9O1xufTtcblxubGV0IGZyYW1lVGltZSA9IE1hdGgucm91bmQoMTAwMCAvIGRlZmF1bHRGcmFtZXJhdGVDb25maWcuZnBzKTtcblxuY29uc3QgYmVmb3JlVGVzdCA9ICgpID0+IHtcbiAgamVzdC51c2VGYWtlVGltZXJzKCk7XG59O1xuXG5jb25zdCBhZnRlclRlc3QgPSAoKSA9PiB7XG4gIGplc3QucnVuT25seVBlbmRpbmdUaW1lcnMoKTtcbiAgamVzdC51c2VSZWFsVGltZXJzKCk7XG59O1xuXG5leHBvcnQgY29uc3Qgd2l0aFJlYW5pbWF0ZWRUaW1lciA9IChhbmltYXRpb25UZXN0OiAoKSA9PiB2b2lkKSA9PiB7XG4gIGNvbnNvbGUud2FybihcbiAgICAnVGhpcyBtZXRob2QgaXMgZGVwcmVjYXRlZCwgeW91IHNob3VsZCBkZWZpbmUgeW91ciBvd24gYmVmb3JlIGFuZCBhZnRlciB0ZXN0IGhvb2tzIHRvIGVuYWJsZSBqZXN0LnVzZUZha2VUaW1lcnMoKS4gQ2hlY2sgb3V0IHRoZSBkb2N1bWVudGF0aW9uIGZvciBkZXRhaWxzIG9uIHRlc3RpbmcnXG4gICk7XG4gIGJlZm9yZVRlc3QoKTtcbiAgYW5pbWF0aW9uVGVzdCgpO1xuICBhZnRlclRlc3QoKTtcbn07XG5cbmV4cG9ydCBjb25zdCBhZHZhbmNlQW5pbWF0aW9uQnlUaW1lID0gKHRpbWUgPSBmcmFtZVRpbWUpID0+IHtcbiAgY29uc29sZS53YXJuKFxuICAgICdUaGlzIG1ldGhvZCBpcyBkZXByZWNhdGVkLCB1c2UgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lIGRpcmVjdGx5J1xuICApO1xuICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUodGltZSk7XG4gIGplc3QucnVuT25seVBlbmRpbmdUaW1lcnMoKTtcbn07XG5cbmV4cG9ydCBjb25zdCBhZHZhbmNlQW5pbWF0aW9uQnlGcmFtZSA9IChjb3VudDogbnVtYmVyKSA9PiB7XG4gIGNvbnNvbGUud2FybihcbiAgICAnVGhpcyBtZXRob2QgaXMgZGVwcmVjYXRlZCwgdXNlIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSBkaXJlY3RseSdcbiAgKTtcbiAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKGNvdW50ICogZnJhbWVUaW1lKTtcbiAgamVzdC5ydW5Pbmx5UGVuZGluZ1RpbWVycygpO1xufTtcblxuY29uc3QgcmVxdWlyZUZ1bmN0aW9uID0gaXNKZXN0KClcbiAgPyByZXF1aXJlXG4gIDogKCkgPT4ge1xuICAgICAgdGhyb3cgbmV3IFJlYW5pbWF0ZWRFcnJvcihcbiAgICAgICAgJ2BzZXRVcFRlc3RzYCBpcyBhdmFpbGFibGUgb25seSBpbiBKZXN0IGVudmlyb25tZW50LidcbiAgICAgICk7XG4gICAgfTtcblxudHlwZSBUb0hhdmVBbmltYXRlZFN0eWxlQ29uZmlnID0ge1xuICBzaG91bGRNYXRjaEFsbFByb3BzPzogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCBjb25zdCBzZXRVcFRlc3RzID0gKHVzZXJGcmFtZXJhdGVDb25maWcgPSB7fSkgPT4ge1xuICBsZXQgZXhwZWN0OiBqZXN0LkV4cGVjdCA9IChnbG9iYWwgYXMgdHlwZW9mIGdsb2JhbCAmIHsgZXhwZWN0OiBqZXN0LkV4cGVjdCB9KVxuICAgIC5leHBlY3Q7XG4gIGlmIChleHBlY3QgPT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IGV4cGVjdE1vZHVsZSA9IHJlcXVpcmVGdW5jdGlvbignZXhwZWN0Jyk7XG4gICAgZXhwZWN0ID0gZXhwZWN0TW9kdWxlO1xuICAgIC8vIFN0YXJ0aW5nIGZyb20gSmVzdCAyOCwgXCJleHBlY3RcIiBwYWNrYWdlIHVzZXMgbmFtZWQgZXhwb3J0cyBpbnN0ZWFkIG9mIGRlZmF1bHQgZXhwb3J0LlxuICAgIC8vIFNvLCByZXF1aXJpbmcgXCJleHBlY3RcIiBwYWNrYWdlIGRvZXNuJ3QgZ2l2ZSBkaXJlY3QgYWNjZXNzIHRvIFwiZXhwZWN0XCIgZnVuY3Rpb24gYW55bW9yZS5cbiAgICAvLyBJdCBnaXZlcyBhY2Nlc3MgdG8gdGhlIG1vZHVsZSBvYmplY3QgaW5zdGVhZC5cbiAgICAvLyBXZSB1c2UgdGhpcyBpbmZvIHRvIGRldGVjdCBpZiB0aGUgcHJvamVjdCB1c2VzIEplc3QgMjggb3IgaGlnaGVyLlxuICAgIGlmICh0eXBlb2YgZXhwZWN0ID09PSAnb2JqZWN0Jykge1xuICAgICAgY29uc3QgamVzdEdsb2JhbHMgPSByZXF1aXJlRnVuY3Rpb24oJ0BqZXN0L2dsb2JhbHMnKTtcbiAgICAgIGV4cGVjdCA9IGplc3RHbG9iYWxzLmV4cGVjdDtcbiAgICB9XG4gICAgaWYgKGV4cGVjdCA9PT0gdW5kZWZpbmVkIHx8IGV4cGVjdC5leHRlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZXhwZWN0ID0gZXhwZWN0TW9kdWxlLmRlZmF1bHQ7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJhbWVyYXRlQ29uZmlnID0ge1xuICAgIC4uLmRlZmF1bHRGcmFtZXJhdGVDb25maWcsXG4gICAgLi4udXNlckZyYW1lcmF0ZUNvbmZpZyxcbiAgfTtcbiAgZnJhbWVUaW1lID0gTWF0aC5yb3VuZCgxMDAwIC8gZnJhbWVyYXRlQ29uZmlnLmZwcyk7XG5cbiAgZXhwZWN0LmV4dGVuZCh7XG4gICAgdG9IYXZlQW5pbWF0ZWRTdHlsZShcbiAgICAgIGNvbXBvbmVudDogUmVhY3QuQ29tcG9uZW50PFxuICAgICAgICBBbmltYXRlZENvbXBvbmVudFByb3BzPEluaXRpYWxDb21wb25lbnRQcm9wcz5cbiAgICAgID4gJlxuICAgICAgICBJQW5pbWF0ZWRDb21wb25lbnRJbnRlcm5hbCxcbiAgICAgIGV4cGVjdGVkU3R5bGU6IERlZmF1bHRTdHlsZSxcbiAgICAgIGNvbmZpZzogVG9IYXZlQW5pbWF0ZWRTdHlsZUNvbmZpZyA9IHt9XG4gICAgKSB7XG4gICAgICByZXR1cm4gY29tcGFyZVN0eWxlKGNvbXBvbmVudCwgZXhwZWN0ZWRTdHlsZSwgY29uZmlnKTtcbiAgICB9LFxuICB9KTtcbn07XG5cbnR5cGUgVGVzdENvbXBvbmVudCA9IFJlYWN0LkNvbXBvbmVudDxcbiAgQW5pbWF0ZWRDb21wb25lbnRQcm9wczxJbml0aWFsQ29tcG9uZW50UHJvcHM+ICYge1xuICAgIGplc3RBbmltYXRlZFN0eWxlPzogeyB2YWx1ZTogRGVmYXVsdFN0eWxlIH07XG4gIH1cbj47XG5cbmV4cG9ydCBjb25zdCBnZXRBbmltYXRlZFN0eWxlID0gKGNvbXBvbmVudDogUmVhY3RUZXN0SW5zdGFuY2UpID0+IHtcbiAgcmV0dXJuIGdldEN1cnJlbnRTdHlsZShcbiAgICAvLyBUaGlzIHR5cGUgYXNzZXJ0aW9uIGlzIG5lZWRlZCB0byBnZXQgdHlwZSBjaGVja2luZyBpbiB0aGUgZm9sbG93aW5nXG4gICAgLy8gZnVuY3Rpb25zIHNpbmNlIGBSZWFjdFRlc3RJbnN0YW5jZWAgaGFzIGl0cyBgcHJvcHNgIGRlZmluZWQgYXMgYGFueWAuXG4gICAgY29tcG9uZW50IGFzIHVua25vd24gYXMgVGVzdENvbXBvbmVudFxuICApO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQ0EsWUFBWTs7QUFBQyxJQUFBQSxzQkFBQSxHQUFBQyxPQUFBO0FBQUFDLE1BQUEsQ0FBQUMsY0FBQSxD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