94fde87449e135aacd3f9183c42a0be0
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = require("react");
var _expoRouter = require("expo-router");
var _useActivityMetrics2 = _interopRequireDefault(require("./useActivityMetrics"));
var useRouteActivityTracker = function useRouteActivityTracker() {
  var segments = (0, _expoRouter.useSegments)();
  var pathname = (0, _expoRouter.usePathname)();
  var _useActivityMetrics = (0, _useActivityMetrics2.default)(),
    startSession = _useActivityMetrics.startSession,
    endSession = _useActivityMetrics.endSession,
    updateStreak = _useActivityMetrics.updateStreak;
  var currentSessionRef = (0, _react.useRef)(null);
  var isTrackingRef = (0, _react.useRef)(false);
  var lastPathnameRef = (0, _react.useRef)(null);
  var safeExecute = function safeExecute(fn, errorMessage) {
    try {
      return fn();
    } catch (error) {
      console.warn(errorMessage, error);
      return false;
    }
  };
  var detectExercise = function detectExercise(segments) {
    return segments.some(function (segment) {
      return segment.includes('Exercise') || segment.includes('exercise') || segment.includes('Assessment') || segment.includes('assessment');
    });
  };
  var handleExerciseStart = function handleExerciseStart(exerciseType) {
    if (isTrackingRef.current && currentSessionRef.current === exerciseType) {
      return;
    }
    if (isTrackingRef.current) {
      safeExecute(function () {
        endSession();
        updateStreak();
      }, 'Erreur lors de la fin de session:');
    }
    var success = safeExecute(function () {
      startSession(exerciseType);
    }, 'Erreur lors du d√©marrage de session:');
    if (success) {
      isTrackingRef.current = true;
      currentSessionRef.current = exerciseType;
    } else {
      isTrackingRef.current = false;
      currentSessionRef.current = null;
    }
  };
  var handleExerciseEnd = function handleExerciseEnd() {
    if (!isTrackingRef.current) {
      return;
    }
    safeExecute(function () {
      endSession();
      updateStreak();
    }, 'Erreur lors de la fin de session:');
    isTrackingRef.current = false;
    currentSessionRef.current = null;
  };
  var cleanup = function () {
    var _ref = (0, _asyncToGenerator2.default)(function* () {
      if (isTrackingRef.current) {
        try {
          yield endSession();
        } catch (error) {
          console.warn('Erreur lors du cleanup:', error);
        }
        isTrackingRef.current = false;
        currentSessionRef.current = null;
      }
    });
    return function cleanup() {
      return _ref.apply(this, arguments);
    };
  }();
  (0, _react.useEffect)(function () {
    if (lastPathnameRef.current === pathname) {
      return;
    }
    lastPathnameRef.current = pathname;
    var isExercise = detectExercise(segments);
    if (isExercise) {
      var exerciseType = segments[segments.length - 1];
      handleExerciseStart(exerciseType);
    } else {
      handleExerciseEnd();
    }
    return cleanup;
  }, [segments, pathname, startSession, endSession, updateStreak]);
  (0, _react.useEffect)(function () {
    return function () {
      if (isTrackingRef.current) {
        (0, _asyncToGenerator2.default)(function* () {
          try {
            yield endSession();
          } catch (error) {
            console.warn('Erreur lors du cleanup final:', error);
          }
        })();
        isTrackingRef.current = false;
        currentSessionRef.current = null;
      }
    };
  }, []);
};
var _default = exports.default = useRouteActivityTracker;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX2V4cG9Sb3V0ZXIiLCJfdXNlQWN0aXZpdHlNZXRyaWNzMiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJ1c2VSb3V0ZUFjdGl2aXR5VHJhY2tlciIsInNlZ21lbnRzIiwidXNlU2VnbWVudHMiLCJwYXRobmFtZSIsInVzZVBhdGhuYW1lIiwiX3VzZUFjdGl2aXR5TWV0cmljcyIsInVzZUFjdGl2aXR5TWV0cmljcyIsInN0YXJ0U2Vzc2lvbiIsImVuZFNlc3Npb24iLCJ1cGRhdGVTdHJlYWsiLCJjdXJyZW50U2Vzc2lvblJlZiIsInVzZVJlZiIsImlzVHJhY2tpbmdSZWYiLCJsYXN0UGF0aG5hbWVSZWYiLCJzYWZlRXhlY3V0ZSIsImZuIiwiZXJyb3JNZXNzYWdlIiwiZXJyb3IiLCJjb25zb2xlIiwid2FybiIsImRldGVjdEV4ZXJjaXNlIiwic29tZSIsInNlZ21lbnQiLCJpbmNsdWRlcyIsImhhbmRsZUV4ZXJjaXNlU3RhcnQiLCJleGVyY2lzZVR5cGUiLCJjdXJyZW50Iiwic3VjY2VzcyIsImhhbmRsZUV4ZXJjaXNlRW5kIiwiY2xlYW51cCIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJkZWZhdWx0IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJ1c2VFZmZlY3QiLCJpc0V4ZXJjaXNlIiwibGVuZ3RoIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsidXNlUm91dGVBY3Rpdml0eVRyYWNrZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2hvb2tzL3VzZVJvdXRlQWN0aXZpdHlUcmFja2VyLmpzIC0gUkVGQUNUT1JJU8OJIHBvdXIgcsOpZHVpcmUgbGEgY29tcGxleGl0w6kgY29nbml0aXZlXHJcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB1c2VTZWdtZW50cywgdXNlUGF0aG5hbWUgfSBmcm9tICdleHBvLXJvdXRlcic7XHJcbmltcG9ydCB1c2VBY3Rpdml0eU1ldHJpY3MgZnJvbSAnLi91c2VBY3Rpdml0eU1ldHJpY3MnO1xyXG5cclxuY29uc3QgdXNlUm91dGVBY3Rpdml0eVRyYWNrZXIgPSAoKSA9PiB7XHJcbiAgY29uc3Qgc2VnbWVudHMgPSB1c2VTZWdtZW50cygpO1xyXG4gIGNvbnN0IHBhdGhuYW1lID0gdXNlUGF0aG5hbWUoKTtcclxuICBjb25zdCB7IHN0YXJ0U2Vzc2lvbiwgZW5kU2Vzc2lvbiwgdXBkYXRlU3RyZWFrIH0gPSB1c2VBY3Rpdml0eU1ldHJpY3MoKTtcclxuICBcclxuICAvLyBSZWZzIHBvdXIgw6l2aXRlciBsZXMgYXBwZWxzIGVuIGJvdWNsZVxyXG4gIGNvbnN0IGN1cnJlbnRTZXNzaW9uUmVmID0gdXNlUmVmKG51bGwpO1xyXG4gIGNvbnN0IGlzVHJhY2tpbmdSZWYgPSB1c2VSZWYoZmFsc2UpO1xyXG4gIGNvbnN0IGxhc3RQYXRobmFtZVJlZiA9IHVzZVJlZihudWxsKTtcclxuXHJcbiAgLy8gRm9uY3Rpb24gdXRpbGl0YWlyZSBwb3VyIGV4w6ljdXRlciBkZXMgZm9uY3Rpb25zIGRlIG1hbmnDqHJlIHPDqWN1cmlzw6llXHJcbiAgY29uc3Qgc2FmZUV4ZWN1dGUgPSAoZm4sIGVycm9yTWVzc2FnZSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgcmV0dXJuIGZuKCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oZXJyb3JNZXNzYWdlLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBGb25jdGlvbiBwb3VyIGTDqXRlY3RlciBzaSBvbiBlc3Qgc3VyIHVuIGV4ZXJjaWNlXHJcbiAgY29uc3QgZGV0ZWN0RXhlcmNpc2UgPSAoc2VnbWVudHMpID0+IHtcclxuICAgIHJldHVybiBzZWdtZW50cy5zb21lKHNlZ21lbnQgPT4gXHJcbiAgICAgIHNlZ21lbnQuaW5jbHVkZXMoJ0V4ZXJjaXNlJykgfHxcclxuICAgICAgc2VnbWVudC5pbmNsdWRlcygnZXhlcmNpc2UnKSB8fFxyXG4gICAgICBzZWdtZW50LmluY2x1ZGVzKCdBc3Nlc3NtZW50JykgfHxcclxuICAgICAgc2VnbWVudC5pbmNsdWRlcygnYXNzZXNzbWVudCcpXHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gIC8vIEZvbmN0aW9uIHBvdXIgZ8OpcmVyIGxlIGTDqW1hcnJhZ2UgZCd1biBleGVyY2ljZVxyXG4gIGNvbnN0IGhhbmRsZUV4ZXJjaXNlU3RhcnQgPSAoZXhlcmNpc2VUeXBlKSA9PiB7XHJcbiAgICBpZiAoaXNUcmFja2luZ1JlZi5jdXJyZW50ICYmIGN1cnJlbnRTZXNzaW9uUmVmLmN1cnJlbnQgPT09IGV4ZXJjaXNlVHlwZSkge1xyXG4gICAgICByZXR1cm47IC8vIETDqWrDoCBlbiBjb3VycyBkZSB0cmFja2luZ1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFycsOqdGVyIGxhIHNlc3Npb24gcHLDqWPDqWRlbnRlIHNpIGVsbGUgZXhpc3RlXHJcbiAgICBpZiAoaXNUcmFja2luZ1JlZi5jdXJyZW50KSB7XHJcbiAgICAgIHNhZmVFeGVjdXRlKCgpID0+IHtcclxuICAgICAgICBlbmRTZXNzaW9uKCk7XHJcbiAgICAgICAgdXBkYXRlU3RyZWFrKCk7XHJcbiAgICAgIH0sICdFcnJldXIgbG9ycyBkZSBsYSBmaW4gZGUgc2Vzc2lvbjonKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gRMOpbWFycmVyIGxhIG5vdXZlbGxlIHNlc3Npb25cclxuICAgIGNvbnN0IHN1Y2Nlc3MgPSBzYWZlRXhlY3V0ZSgoKSA9PiB7XHJcbiAgICAgIHN0YXJ0U2Vzc2lvbihleGVyY2lzZVR5cGUpO1xyXG4gICAgfSwgJ0VycmV1ciBsb3JzIGR1IGTDqW1hcnJhZ2UgZGUgc2Vzc2lvbjonKTtcclxuXHJcbiAgICBpZiAoc3VjY2Vzcykge1xyXG4gICAgICBpc1RyYWNraW5nUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgICBjdXJyZW50U2Vzc2lvblJlZi5jdXJyZW50ID0gZXhlcmNpc2VUeXBlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaXNUcmFja2luZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgIGN1cnJlbnRTZXNzaW9uUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIEZvbmN0aW9uIHBvdXIgZ8OpcmVyIGxhIGZpbiBkJ3VuIGV4ZXJjaWNlXHJcbiAgY29uc3QgaGFuZGxlRXhlcmNpc2VFbmQgPSAoKSA9PiB7XHJcbiAgICBpZiAoIWlzVHJhY2tpbmdSZWYuY3VycmVudCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgc2FmZUV4ZWN1dGUoKCkgPT4ge1xyXG4gICAgICBlbmRTZXNzaW9uKCk7XHJcbiAgICAgIHVwZGF0ZVN0cmVhaygpO1xyXG4gICAgfSwgJ0VycmV1ciBsb3JzIGRlIGxhIGZpbiBkZSBzZXNzaW9uOicpO1xyXG5cclxuICAgIGlzVHJhY2tpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgY3VycmVudFNlc3Npb25SZWYuY3VycmVudCA9IG51bGw7XHJcbiAgfTtcclxuXHJcbiAgLy8gRm9uY3Rpb24gcG91ciBuZXR0b3llciBsJ8OpdGF0IC0gc2ltcGxpZmnDqWUgcG91ciDDqXZpdGVyIGxlcyBwcm9ibMOobWVzXHJcbiAgY29uc3QgY2xlYW51cCA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmIChpc1RyYWNraW5nUmVmLmN1cnJlbnQpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBhd2FpdCBlbmRTZXNzaW9uKCk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdFcnJldXIgbG9ycyBkdSBjbGVhbnVwOicsIGVycm9yKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaXNUcmFja2luZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgIGN1cnJlbnRTZXNzaW9uUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAvLyDDiXZpdGVyIGxlcyByZS1kw6ljbGVuY2hlbWVudHMgaW51dGlsZXNcclxuICAgIGlmIChsYXN0UGF0aG5hbWVSZWYuY3VycmVudCA9PT0gcGF0aG5hbWUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbGFzdFBhdGhuYW1lUmVmLmN1cnJlbnQgPSBwYXRobmFtZTtcclxuXHJcbiAgICBjb25zdCBpc0V4ZXJjaXNlID0gZGV0ZWN0RXhlcmNpc2Uoc2VnbWVudHMpO1xyXG5cclxuICAgIGlmIChpc0V4ZXJjaXNlKSB7XHJcbiAgICAgIGNvbnN0IGV4ZXJjaXNlVHlwZSA9IHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtIDFdO1xyXG4gICAgICBoYW5kbGVFeGVyY2lzZVN0YXJ0KGV4ZXJjaXNlVHlwZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBoYW5kbGVFeGVyY2lzZUVuZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENsZWFudXAgcXVhbmQgbGVzIHNlZ21lbnRzL3BhdGhuYW1lIGNoYW5nZW50XHJcbiAgICByZXR1cm4gY2xlYW51cDtcclxuICB9LCBbc2VnbWVudHMsIHBhdGhuYW1lLCBzdGFydFNlc3Npb24sIGVuZFNlc3Npb24sIHVwZGF0ZVN0cmVha10pO1xyXG5cclxuICAvLyBDbGVhbnVwIGZpbmFsIGF1IGTDqW1vbnRhZ2UgLSBzaW1wbGlmacOpIGV0IGRpcmVjdFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBpZiAoaXNUcmFja2luZ1JlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgLy8gVXRpbGlzZXIgdW5lIElJRkUgYXN5bmMgcG91ciBnw6lyZXIgbGEgUHJvbWlzZVxyXG4gICAgICAgIChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCBlbmRTZXNzaW9uKCk7XHJcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0VycmV1ciBsb3JzIGR1IGNsZWFudXAgZmluYWw6JywgZXJyb3IpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaXNUcmFja2luZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgICAgY3VycmVudFNlc3Npb25SZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSwgW10pOyAvLyBBdWN1bmUgZMOpcGVuZGFuY2UgPSBzZXVsZW1lbnQgYXUgZMOpbW9udGFnZVxyXG5cclxuICAvLyBQYXMgZGUgcmVuZHVcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHVzZVJvdXRlQWN0aXZpdHlUcmFja2VyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0EsSUFBQUEsTUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsV0FBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsb0JBQUEsR0FBQUMsc0JBQUEsQ0FBQUgsT0FBQTtBQUVBLElBQU1JLHVCQUF1QixHQUFHLFNBQTFCQSx1QkFBdUJBLENBQUEsRUFBUztFQUNwQyxJQUFNQyxRQUFRLEdBQUcsSUFBQUMsdUJBQVcsRUFBQyxDQUFDO0VBQzlCLElBQU1DLFFBQVEsR0FBRyxJQUFBQyx1QkFBVyxFQUFDLENBQUM7RUFDOUIsSUFBQUMsbUJBQUEsR0FBbUQsSUFBQUMsNEJBQWtCLEVBQUMsQ0FBQztJQUEvREMsWUFBWSxHQUFBRixtQkFBQSxDQUFaRSxZQUFZO0lBQUVDLFVBQVUsR0FBQUgsbUJBQUEsQ0FBVkcsVUFBVTtJQUFFQyxZQUFZLEdBQUFKLG1CQUFBLENBQVpJLFlBQVk7RUFHOUMsSUFBTUMsaUJBQWlCLEdBQUcsSUFBQUMsYUFBTSxFQUFDLElBQUksQ0FBQztFQUN0QyxJQUFNQyxhQUFhLEdBQUcsSUFBQUQsYUFBTSxFQUFDLEtBQUssQ0FBQztFQUNu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