77e1f481cba099f1b9ff7eea16b3700b
_getJestObj().mock('@react-native-async-storage/async-storage', function () {
  return {
    getItem: jest.fn(),
    setItem: jest.fn(),
    removeItem: jest.fn()
  };
});
_getJestObj().mock('../../src/utils/constants', function () {
  return {
    STORAGE_KEYS: {
      LAST_ACTIVITY: 'last_activity'
    }
  };
});
_getJestObj().mock('../../src/utils/eventBus', function () {
  return {
    emit: jest.fn()
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _reactHooks = require("@testing-library/react-hooks");
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _useLastActivity = _interopRequireDefault(require("../../src/hooks/useLastActivity"));
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('useLastActivity', function () {
  beforeEach(function () {
    jest.clearAllMocks();
    jest.spyOn(Date, 'now').mockReturnValue(1640995200000);
  });
  afterEach(function () {
    jest.restoreAllMocks();
  });
  describe('Chargement initial', function () {
    it('devrait charger la dernière activité depuis AsyncStorage', (0, _asyncToGenerator2.default)(function* () {
      var mockActivity = {
        type: 'vocabulary',
        level: '1',
        category: 'Animals',
        timestamp: 1640995200000 - 300000
      };
      _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify(mockActivity));
      var _renderHook = (0, _reactHooks.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook.result,
        waitForNextUpdate = _renderHook.waitForNextUpdate;
      yield waitForNextUpdate();
      expect(result.current.lastActivity).toEqual(Object.assign({}, mockActivity, {
        timeElapsed: 'Il y a 5 min'
      }));
      expect(result.current.isLoading).toBe(false);
    }));
    it('devrait retourner null si aucune activité n\'est stockée', (0, _asyncToGenerator2.default)(function* () {
      _asyncStorage.default.getItem.mockResolvedValue(null);
      var _renderHook2 = (0, _reactHooks.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook2.result,
        waitForNextUpdate = _renderHook2.waitForNextUpdate;
      yield waitForNextUpdate();
      expect(result.current.lastActivity).toBeNull();
      expect(result.current.isLoading).toBe(false);
    }));
    it('devrait gérer les erreurs de chargement', (0, _asyncToGenerator2.default)(function* () {
      _asyncStorage.default.getItem.mockRejectedValue(new Error('Storage error'));
      var _renderHook3 = (0, _reactHooks.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook3.result,
        waitForNextUpdate = _renderHook3.waitForNextUpdate;
      yield waitForNextUpdate();
      expect(result.current.lastActivity).toBeNull();
      expect(result.current.isLoading).toBe(false);
    }));
  });
  describe('Calcul du temps écoulé', function () {
    it('devrait afficher "À l\'instant" pour une activité récente', (0, _asyncToGenerator2.default)(function* () {
      var mockActivity = {
        type: 'grammar',
        timestamp: 1640995200000
      };
      _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify(mockActivity));
      var _renderHook4 = (0, _reactHooks.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook4.result,
        waitForNextUpdate = _renderHook4.waitForNextUpdate;
      yield waitForNextUpdate();
      expect(result.current.lastActivity.timeElapsed).toBe('À l\'instant');
    }));
    it('devrait calculer les minutes correctement', (0, _asyncToGenerator2.default)(function* () {
      var testCases = [{
        minutesAgo: 0,
        expected: 'À l\'instant'
      }, {
        minutesAgo: 1,
        expected: 'Il y a 1 min'
      }, {
        minutesAgo: 30,
        expected: 'Il y a 30 min'
      }, {
        minutesAgo: 59,
        expected: 'Il y a 59 min'
      }];
      for (var testCase of testCases) {
        var mockActivity = {
          type: 'test',
          timestamp: 1640995200000 - testCase.minutesAgo * 60 * 1000
        };
        _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify(mockActivity));
        var _renderHook5 = (0, _reactHooks.renderHook)(function () {
            return (0, _useLastActivity.default)();
          }),
          result = _renderHook5.result,
          waitForNextUpdate = _renderHook5.waitForNextUpdate;
        yield waitForNextUpdate();
        expect(result.current.lastActivity.timeElapsed).toBe(testCase.expected);
      }
    }));
    it('devrait calculer les heures correctement', (0, _asyncToGenerator2.default)(function* () {
      var testCases = [{
        hoursAgo: 1,
        expected: 'Il y a 1h'
      }, {
        hoursAgo: 5,
        expected: 'Il y a 5h'
      }, {
        hoursAgo: 23,
        expected: 'Il y a 23h'
      }];
      for (var testCase of testCases) {
        var mockActivity = {
          type: 'test',
          timestamp: 1640995200000 - testCase.hoursAgo * 60 * 60 * 1000
        };
        _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify(mockActivity));
        var _renderHook6 = (0, _reactHooks.renderHook)(function () {
            return (0, _useLastActivity.default)();
          }),
          result = _renderHook6.result,
          waitForNextUpdate = _renderHook6.waitForNextUpdate;
        yield waitForNextUpdate();
        expect(result.current.lastActivity.timeElapsed).toBe(testCase.expected);
      }
    }));
    it('devrait calculer les jours correctement', (0, _asyncToGenerator2.default)(function* () {
      var testCases = [{
        daysAgo: 1,
        expected: 'Il y a 1j'
      }, {
        daysAgo: 3,
        expected: 'Il y a 3j'
      }, {
        daysAgo: 30,
        expected: 'Il y a 30j'
      }];
      for (var testCase of testCases) {
        var mockActivity = {
          type: 'test',
          timestamp: 1640995200000 - testCase.daysAgo * 24 * 60 * 60 * 1000
        };
        _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify(mockActivity));
        var _renderHook7 = (0, _reactHooks.renderHook)(function () {
            return (0, _useLastActivity.default)();
          }),
          result = _renderHook7.result,
          waitForNextUpdate = _renderHook7.waitForNextUpdate;
        yield waitForNextUpdate();
        expect(result.current.lastActivity.timeElapsed).toBe(testCase.expected);
      }
    }));
  });
  describe('Sauvegarde d\'activité', function () {
    it('devrait sauvegarder une nouvelle activité', (0, _asyncToGenerator2.default)(function* () {
      _asyncStorage.default.getItem.mockResolvedValue(null);
      var _renderHook8 = (0, _reactHooks.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook8.result,
        waitForNextUpdate = _renderHook8.waitForNextUpdate;
      yield waitForNextUpdate();
      var activityData = {
        type: 'vocabulary',
        level: '2',
        category: 'Food',
        score: 85
      };
      yield (0, _reactHooks.act)((0, _asyncToGenerator2.default)(function* () {
        yield result.current.saveActivity(activityData);
      }));
      expect(_asyncStorage.default.setItem).toHaveBeenCalledWith('last_activity', JSON.stringify(Object.assign({}, activityData, {
        timestamp: 1640995200000
      })));
      expect(result.current.lastActivity).toEqual(Object.assign({}, activityData, {
        timestamp: 1640995200000,
        timeElapsed: 'À l\'instant'
      }));
    }));
    it('devrait émettre un événement de progression', (0, _asyncToGenerator2.default)(function* () {
      _asyncStorage.default.getItem.mockResolvedValue(null);
      var _renderHook9 = (0, _reactHooks.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook9.result,
        waitForNextUpdate = _renderHook9.waitForNextUpdate;
      yield waitForNextUpdate();
      var activityData = {
        type: 'test'
      };
      yield (0, _reactHooks.act)((0, _asyncToGenerator2.default)(function* () {
        yield result.current.saveActivity(activityData);
      }));
      var eventBus = require('../../src/utils/eventBus');
      expect(eventBus.emit).toHaveBeenCalledWith('progress-updated', Object.assign({}, activityData, {
        timestamp: 1640995200000
      }));
    }));
    it('devrait gérer les erreurs de sauvegarde', (0, _asyncToGenerator2.default)(function* () {
      _asyncStorage.default.getItem.mockResolvedValue(null);
      _asyncStorage.default.setItem.mockRejectedValue(new Error('Save error'));
      var _renderHook0 = (0, _reactHooks.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook0.result,
        waitForNextUpdate = _renderHook0.waitForNextUpdate;
      yield waitForNextUpdate();
      var activityData = {
        type: 'test'
      };
      yield (0, _reactHooks.act)((0, _asyncToGenerator2.default)(function* () {
        yield result.current.saveActivity(activityData);
      }));
      expect(result.current.lastActivity).toBeNull();
    }));
  });
  describe('Suppression d\'activité', function () {
    it('devrait supprimer l\'activité stockée', (0, _asyncToGenerator2.default)(function* () {
      var mockActivity = {
        type: 'test',
        timestamp: 1640995200000
      };
      _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify(mockActivity));
      var _renderHook1 = (0, _reactHooks.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook1.result,
        waitForNextUpdate = _renderHook1.waitForNextUpdate;
      yield waitForNextUpdate();
      expect(result.current.lastActivity).not.toBeNull();
      yield (0, _reactHooks.act)((0, _asyncToGenerator2.default)(function* () {
        yield result.current.clearActivity();
      }));
      expect(_asyncStorage.default.removeItem).toHaveBeenCalledWith('last_activity');
      expect(result.current.lastActivity).toBeNull();
    }));
    it('devrait gérer les erreurs de suppression', (0, _asyncToGenerator2.default)(function* () {
      _asyncStorage.default.getItem.mockResolvedValue(null);
      _asyncStorage.default.removeItem.mockRejectedValue(new Error('Remove error'));
      var _renderHook10 = (0, _reactHooks.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook10.result,
        waitForNextUpdate = _renderHook10.waitForNextUpdate;
      yield waitForNextUpdate();
      yield (0, _reactHooks.act)((0, _asyncToGenerator2.default)(function* () {
        yield result.current.clearActivity();
      }));
      expect(result.current.lastActivity).toBeNull();
    }));
  });
  describe('Rechargement', function () {
    it('devrait permettre de recharger les données', (0, _asyncToGenerator2.default)(function* () {
      _asyncStorage.default.getItem.mockResolvedValue(null);
      var _renderHook11 = (0, _reactHooks.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook11.result,
        waitForNextUpdate = _renderHook11.waitForNextUpdate;
      yield waitForNextUpdate();
      expect(result.current.lastActivity).toBeNull();
      var mockActivity = {
        type: 'new',
        timestamp: 1640995200000
      };
      _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify(mockActivity));
      yield (0, _reactHooks.act)((0, _asyncToGenerator2.default)(function* () {
        yield result.current.reload();
      }));
      expect(result.current.lastActivity).toEqual(Object.assign({}, mockActivity, {
        timeElapsed: 'À l\'instant'
      }));
    }));
  });
  describe('Stabilité des fonctions', function () {
    it('devrait maintenir la stabilité des fonctions entre les renders', (0, _asyncToGenerator2.default)(function* () {
      _asyncStorage.default.getItem.mockResolvedValue(null);
      var _renderHook12 = (0, _reactHooks.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook12.result,
        waitForNextUpdate = _renderHook12.waitForNextUpdate,
        rerender = _renderHook12.rerender;
      yield waitForNextUpdate();
      var initialSaveActivity = result.current.saveActivity;
      var initialClearActivity = result.current.clearActivity;
      var initialReload = result.current.reload;
      rerender();
      expect(result.current.saveActivity).toBe(initialSaveActivity);
      expect(result.current.clearActivity).toBe(initialClearActivity);
      expect(result.current.reload).toBe(initialReload);
    }));
  });
  describe('Gestion des données corrompues', function () {
    it('devrait gérer les données JSON invalides', (0, _asyncToGenerator2.default)(function* () {
      _asyncStorage.default.getItem.mockResolvedValue('invalid json');
      var _renderHook13 = (0, _reactHooks.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook13.result,
        waitForNextUpdate = _renderHook13.waitForNextUpdate;
      yield waitForNextUpdate();
      expect(result.current.lastActivity).toBeNull();
      expect(result.current.isLoading).toBe(false);
    }));
    it('devrait gérer les activités sans timestamp', (0, _asyncToGenerator2.default)(function* () {
      var mockActivity = {
        type: 'test'
      };
      _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify(mockActivity));
      var _renderHook14 = (0, _reactHooks.renderHook)(function () {
          return (0, _useLastActivity.default)();
        }),
        result = _renderHook14.result,
        waitForNextUpdate = _renderHook14.waitForNextUpdate;
      yield waitForNextUpdate();
      expect(result.current.lastActivity).toBeDefined();
      expect(result.current.lastActivity.timeElapsed).toBeDefined();
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJnZXRJdGVtIiwiamVzdCIsImZuIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJTVE9SQUdFX0tFWVMiLCJMQVNUX0FDVElWSVRZIiwiZW1pdCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlYWN0SG9va3MiLCJfYXN5bmNTdG9yYWdlIiwiX3VzZUxhc3RBY3Rpdml0eSIsIl9yZXF1aXJlIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsInNweU9uIiwiRGF0ZSIsIm1vY2tSZXR1cm5WYWx1ZSIsImFmdGVyRWFjaCIsInJlc3RvcmVBbGxNb2NrcyIsIml0IiwiZGVmYXVsdCIsIm1vY2tBY3Rpdml0eSIsInR5cGUiLCJsZXZlbCIsImNhdGVnb3J5IiwidGltZXN0YW1wIiwiQXN5bmNTdG9yYWdlIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJKU09OIiwic3RyaW5naWZ5IiwiX3JlbmRlckhvb2siLCJyZW5kZXJIb29rIiwidXNlTGFzdEFjdGl2aXR5IiwicmVzdWx0Iiwid2FpdEZvck5leHRVcGRhdGUiLCJleHBlY3QiLCJjdXJyZW50IiwibGFzdEFjdGl2aXR5IiwidG9FcXVhbCIsIk9iamVjdCIsImFzc2lnbiIsInRpbWVFbGFwc2VkIiwiaXNMb2FkaW5nIiwidG9CZSIsIl9yZW5kZXJIb29rMiIsInRvQmVOdWxsIiwibW9ja1JlamVjdGVkVmFsdWUiLCJFcnJvciIsIl9yZW5kZXJIb29rMyIsIl9yZW5kZXJIb29rNCIsInRlc3RDYXNlcyIsIm1pbnV0ZXNBZ28iLCJleHBlY3RlZCIsInRlc3RDYXNlIiwiX3JlbmRlckhvb2s1IiwiaG91cnNBZ28iLCJfcmVuZGVySG9vazYiLCJkYXlzQWdvIiwiX3JlbmRlckhvb2s3IiwiX3JlbmRlckhvb2s4IiwiYWN0aXZpdHlEYXRhIiwic2NvcmUiLCJhY3QiLCJzYXZlQWN0aXZpdHkiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsIl9yZW5kZXJIb29rOSIsImV2ZW50QnVzIiwiX3JlbmRlckhvb2swIiwiX3JlbmRlckhvb2sxIiwibm90IiwiY2xlYXJBY3Rpdml0eSIsIl9yZW5kZXJIb29rMTAiLCJfcmVuZGVySG9vazExIiwicmVsb2FkIiwiX3JlbmRlckhvb2sxMiIsInJlcmVuZGVyIiwiaW5pdGlhbFNhdmVBY3Rpdml0eSIsImluaXRpYWxDbGVhckFjdGl2aXR5IiwiaW5pdGlhbFJlbG9hZCIsIl9yZW5kZXJIb29rMTMiLCJfcmVuZGVySG9vazE0IiwidG9CZURlZmluZWQiXSwic291cmNlcyI6WyJ1c2VMYXN0QWN0aXZpdHkudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBfX3Rlc3RzX18vaG9va3MvdXNlTGFzdEFjdGl2aXR5LnRlc3QuanNcbmltcG9ydCB7IHJlbmRlckhvb2ssIGFjdCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtaG9va3MnO1xuaW1wb3J0IEFzeW5jU3RvcmFnZSBmcm9tICdAcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UvYXN5bmMtc3RvcmFnZSc7XG5pbXBvcnQgdXNlTGFzdEFjdGl2aXR5IGZyb20gJy4uLy4uL3NyYy9ob29rcy91c2VMYXN0QWN0aXZpdHknO1xuXG4vLyBNb2NrIEFzeW5jU3RvcmFnZVxuamVzdC5tb2NrKCdAcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UvYXN5bmMtc3RvcmFnZScsICgpID0+ICh7XG4gIGdldEl0ZW06IGplc3QuZm4oKSxcbiAgc2V0SXRlbTogamVzdC5mbigpLFxuICByZW1vdmVJdGVtOiBqZXN0LmZuKCksXG59KSk7XG5cbi8vIE1vY2sgY29uc3RhbnRzXG5qZXN0Lm1vY2soJy4uLy4uL3NyYy91dGlscy9jb25zdGFudHMnLCAoKSA9PiAoe1xuICBTVE9SQUdFX0tFWVM6IHtcbiAgICBMQVNUX0FDVElWSVRZOiAnbGFzdF9hY3Rpdml0eSdcbiAgfVxufSkpO1xuXG4vLyBNb2NrIGV2ZW50QnVzXG5qZXN0Lm1vY2soJy4uLy4uL3NyYy91dGlscy9ldmVudEJ1cycsICgpID0+ICh7XG4gIGVtaXQ6IGplc3QuZm4oKVxufSkpO1xuXG5kZXNjcmliZSgndXNlTGFzdEFjdGl2aXR5JywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBqZXN0LnNweU9uKERhdGUsICdub3cnKS5tb2NrUmV0dXJuVmFsdWUoMTY0MDk5NTIwMDAwMCk7IC8vIDIwMjItMDEtMDEgMDA6MDA6MDBcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBqZXN0LnJlc3RvcmVBbGxNb2NrcygpO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ2hhcmdlbWVudCBpbml0aWFsJywgKCkgPT4ge1xuICAgIGl0KCdkZXZyYWl0IGNoYXJnZXIgbGEgZGVybmnDqHJlIGFjdGl2aXTDqSBkZXB1aXMgQXN5bmNTdG9yYWdlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0FjdGl2aXR5ID0ge1xuICAgICAgICB0eXBlOiAndm9jYWJ1bGFyeScsXG4gICAgICAgIGxldmVsOiAnMScsXG4gICAgICAgIGNhdGVnb3J5OiAnQW5pbWFscycsXG4gICAgICAgIHRpbWVzdGFtcDogMTY0MDk5NTIwMDAwMCAtIDMwMDAwMCAvLyBJbCB5IGEgNSBtaW51dGVzXG4gICAgICB9O1xuXG4gICAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrUmVzb2x2ZWRWYWx1ZShKU09OLnN0cmluZ2lmeShtb2NrQWN0aXZpdHkpKTtcblxuICAgICAgY29uc3QgeyByZXN1bHQsIHdhaXRGb3JOZXh0VXBkYXRlIH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUxhc3RBY3Rpdml0eSgpKTtcblxuICAgICAgYXdhaXQgd2FpdEZvck5leHRVcGRhdGUoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmxhc3RBY3Rpdml0eSkudG9FcXVhbCh7XG4gICAgICAgIC4uLm1vY2tBY3Rpdml0eSxcbiAgICAgICAgdGltZUVsYXBzZWQ6ICdJbCB5IGEgNSBtaW4nXG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc0xvYWRpbmcpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RldnJhaXQgcmV0b3VybmVyIG51bGwgc2kgYXVjdW5lIGFjdGl2aXTDqSBuXFwnZXN0IHN0b2Nrw6llJywgYXN5bmMgKCkgPT4ge1xuICAgICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1Jlc29sdmVkVmFsdWUobnVsbCk7XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0LCB3YWl0Rm9yTmV4dFVwZGF0ZSB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMYXN0QWN0aXZpdHkoKSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3JOZXh0VXBkYXRlKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sYXN0QWN0aXZpdHkpLnRvQmVOdWxsKCk7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNMb2FkaW5nKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGl0KCdkZXZyYWl0IGfDqXJlciBsZXMgZXJyZXVycyBkZSBjaGFyZ2VtZW50JywgYXN5bmMgKCkgPT4ge1xuICAgICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdTdG9yYWdlIGVycm9yJykpO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCwgd2FpdEZvck5leHRVcGRhdGUgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGFzdEFjdGl2aXR5KCkpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yTmV4dFVwZGF0ZSgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubGFzdEFjdGl2aXR5KS50b0JlTnVsbCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzTG9hZGluZykudG9CZShmYWxzZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDYWxjdWwgZHUgdGVtcHMgw6ljb3Vsw6knLCAoKSA9PiB7XG4gICAgaXQoJ2RldnJhaXQgYWZmaWNoZXIgXCLDgCBsXFwnaW5zdGFudFwiIHBvdXIgdW5lIGFjdGl2aXTDqSByw6ljZW50ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tBY3Rpdml0eSA9IHtcbiAgICAgICAgdHlwZTogJ2dyYW1tYXInLFxuICAgICAgICB0aW1lc3RhbXA6IDE2NDA5OTUyMDAwMDAgLy8gTWFpbnRlbmFudFxuICAgICAgfTtcblxuICAgICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1Jlc29sdmVkVmFsdWUoSlNPTi5zdHJpbmdpZnkobW9ja0FjdGl2aXR5KSk7XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0LCB3YWl0Rm9yTmV4dFVwZGF0ZSB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMYXN0QWN0aXZpdHkoKSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3JOZXh0VXBkYXRlKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sYXN0QWN0aXZpdHkudGltZUVsYXBzZWQpLnRvQmUoJ8OAIGxcXCdpbnN0YW50Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGV2cmFpdCBjYWxjdWxlciBsZXMgbWludXRlcyBjb3JyZWN0ZW1lbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB0ZXN0Q2FzZXMgPSBbXG4gICAgICAgIHsgbWludXRlc0FnbzogMCwgZXhwZWN0ZWQ6ICfDgCBsXFwnaW5zdGFudCcgfSxcbiAgICAgICAgeyBtaW51dGVzQWdvOiAxLCBleHBlY3RlZDogJ0lsIHkgYSAxIG1pbicgfSxcbiAgICAgICAgeyBtaW51dGVzQWdvOiAzMCwgZXhwZWN0ZWQ6ICdJbCB5IGEgMzAgbWluJyB9LFxuICAgICAgICB7IG1pbnV0ZXNBZ286IDU5LCBleHBlY3RlZDogJ0lsIHkgYSA1OSBtaW4nIH1cbiAgICAgIF07XG5cbiAgICAgIGZvciAoY29uc3QgdGVzdENhc2Ugb2YgdGVzdENhc2VzKSB7XG4gICAgICAgIGNvbnN0IG1vY2tBY3Rpdml0eSA9IHtcbiAgICAgICAgICB0eXBlOiAndGVzdCcsXG4gICAgICAgICAgdGltZXN0YW1wOiAxNjQwOTk1MjAwMDAwIC0gKHRlc3RDYXNlLm1pbnV0ZXNBZ28gKiA2MCAqIDEwMDApXG4gICAgICAgIH07XG5cbiAgICAgICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1Jlc29sdmVkVmFsdWUoSlNPTi5zdHJpbmdpZnkobW9ja0FjdGl2aXR5KSk7XG5cbiAgICAgICAgY29uc3QgeyByZXN1bHQsIHdhaXRGb3JOZXh0VXBkYXRlIH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUxhc3RBY3Rpdml0eSgpKTtcbiAgICAgICAgYXdhaXQgd2FpdEZvck5leHRVcGRhdGUoKTtcblxuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubGFzdEFjdGl2aXR5LnRpbWVFbGFwc2VkKS50b0JlKHRlc3RDYXNlLmV4cGVjdGVkKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdkZXZyYWl0IGNhbGN1bGVyIGxlcyBoZXVyZXMgY29ycmVjdGVtZW50JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdGVzdENhc2VzID0gW1xuICAgICAgICB7IGhvdXJzQWdvOiAxLCBleHBlY3RlZDogJ0lsIHkgYSAxaCcgfSxcbiAgICAgICAgeyBob3Vyc0FnbzogNSwgZXhwZWN0ZWQ6ICdJbCB5IGEgNWgnIH0sXG4gICAgICAgIHsgaG91cnNBZ286IDIzLCBleHBlY3RlZDogJ0lsIHkgYSAyM2gnIH1cbiAgICAgIF07XG5cbiAgICAgIGZvciAoY29uc3QgdGVzdENhc2Ugb2YgdGVzdENhc2VzKSB7XG4gICAgICAgIGNvbnN0IG1vY2tBY3Rpdml0eSA9IHtcbiAgICAgICAgICB0eXBlOiAndGVzdCcsXG4gICAgICAgICAgdGltZXN0YW1wOiAxNjQwOTk1MjAwMDAwIC0gKHRlc3RDYXNlLmhvdXJzQWdvICogNjAgKiA2MCAqIDEwMDApXG4gICAgICAgIH07XG5cbiAgICAgICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1Jlc29sdmVkVmFsdWUoSlNPTi5zdHJpbmdpZnkobW9ja0FjdGl2aXR5KSk7XG5cbiAgICAgICAgY29uc3QgeyByZXN1bHQsIHdhaXRGb3JOZXh0VXBkYXRlIH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUxhc3RBY3Rpdml0eSgpKTtcbiAgICAgICAgYXdhaXQgd2FpdEZvck5leHRVcGRhdGUoKTtcblxuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubGFzdEFjdGl2aXR5LnRpbWVFbGFwc2VkKS50b0JlKHRlc3RDYXNlLmV4cGVjdGVkKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdkZXZyYWl0IGNhbGN1bGVyIGxlcyBqb3VycyBjb3JyZWN0ZW1lbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB0ZXN0Q2FzZXMgPSBbXG4gICAgICAgIHsgZGF5c0FnbzogMSwgZXhwZWN0ZWQ6ICdJbCB5IGEgMWonIH0sXG4gICAgICAgIHsgZGF5c0FnbzogMywgZXhwZWN0ZWQ6ICdJbCB5IGEgM2onIH0sXG4gICAgICAgIHsgZGF5c0FnbzogMzAsIGV4cGVjdGVkOiAnSWwgeSBhIDMwaicgfVxuICAgICAgXTtcblxuICAgICAgZm9yIChjb25zdCB0ZXN0Q2FzZSBvZiB0ZXN0Q2FzZXMpIHtcbiAgICAgICAgY29uc3QgbW9ja0FjdGl2aXR5ID0ge1xuICAgICAgICAgIHR5cGU6ICd0ZXN0JyxcbiAgICAgICAgICB0aW1lc3RhbXA6IDE2NDA5OTUyMDAwMDAgLSAodGVzdENhc2UuZGF5c0FnbyAqIDI0ICogNjAgKiA2MCAqIDEwMDApXG4gICAgICAgIH07XG5cbiAgICAgICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1Jlc29sdmVkVmFsdWUoSlNPTi5zdHJpbmdpZnkobW9ja0FjdGl2aXR5KSk7XG5cbiAgICAgICAgY29uc3QgeyByZXN1bHQsIHdhaXRGb3JOZXh0VXBkYXRlIH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUxhc3RBY3Rpdml0eSgpKTtcbiAgICAgICAgYXdhaXQgd2FpdEZvck5leHRVcGRhdGUoKTtcblxuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubGFzdEFjdGl2aXR5LnRpbWVFbGFwc2VkKS50b0JlKHRlc3RDYXNlLmV4cGVjdGVkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1NhdXZlZ2FyZGUgZFxcJ2FjdGl2aXTDqScsICgpID0+IHtcbiAgICBpdCgnZGV2cmFpdCBzYXV2ZWdhcmRlciB1bmUgbm91dmVsbGUgYWN0aXZpdMOpJywgYXN5bmMgKCkgPT4ge1xuICAgICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1Jlc29sdmVkVmFsdWUobnVsbCk7XG4gICAgICBjb25zdCB7IHJlc3VsdCwgd2FpdEZvck5leHRVcGRhdGUgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGFzdEFjdGl2aXR5KCkpO1xuICAgICAgYXdhaXQgd2FpdEZvck5leHRVcGRhdGUoKTtcblxuICAgICAgY29uc3QgYWN0aXZpdHlEYXRhID0ge1xuICAgICAgICB0eXBlOiAndm9jYWJ1bGFyeScsXG4gICAgICAgIGxldmVsOiAnMicsXG4gICAgICAgIGNhdGVnb3J5OiAnRm9vZCcsXG4gICAgICAgIHNjb3JlOiA4NVxuICAgICAgfTtcblxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuc2F2ZUFjdGl2aXR5KGFjdGl2aXR5RGF0YSk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KEFzeW5jU3RvcmFnZS5zZXRJdGVtKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgJ2xhc3RfYWN0aXZpdHknLFxuICAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgLi4uYWN0aXZpdHlEYXRhLFxuICAgICAgICAgIHRpbWVzdGFtcDogMTY0MDk5NTIwMDAwMFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmxhc3RBY3Rpdml0eSkudG9FcXVhbCh7XG4gICAgICAgIC4uLmFjdGl2aXR5RGF0YSxcbiAgICAgICAgdGltZXN0YW1wOiAxNjQwOTk1MjAwMDAwLFxuICAgICAgICB0aW1lRWxhcHNlZDogJ8OAIGxcXCdpbnN0YW50J1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGV2cmFpdCDDqW1ldHRyZSB1biDDqXbDqW5lbWVudCBkZSBwcm9ncmVzc2lvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tSZXNvbHZlZFZhbHVlKG51bGwpO1xuICAgICAgY29uc3QgeyByZXN1bHQsIHdhaXRGb3JOZXh0VXBkYXRlIH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUxhc3RBY3Rpdml0eSgpKTtcbiAgICAgIGF3YWl0IHdhaXRGb3JOZXh0VXBkYXRlKCk7XG5cbiAgICAgIGNvbnN0IGFjdGl2aXR5RGF0YSA9IHsgdHlwZTogJ3Rlc3QnIH07XG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LnNhdmVBY3Rpdml0eShhY3Rpdml0eURhdGEpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGV2ZW50QnVzID0gcmVxdWlyZSgnLi4vLi4vc3JjL3V0aWxzL2V2ZW50QnVzJyk7XG4gICAgICBleHBlY3QoZXZlbnRCdXMuZW1pdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3Byb2dyZXNzLXVwZGF0ZWQnLCB7XG4gICAgICAgIC4uLmFjdGl2aXR5RGF0YSxcbiAgICAgICAgdGltZXN0YW1wOiAxNjQwOTk1MjAwMDAwXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdkZXZyYWl0IGfDqXJlciBsZXMgZXJyZXVycyBkZSBzYXV2ZWdhcmRlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1Jlc29sdmVkVmFsdWUobnVsbCk7XG4gICAgICBBc3luY1N0b3JhZ2Uuc2V0SXRlbS5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ1NhdmUgZXJyb3InKSk7XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0LCB3YWl0Rm9yTmV4dFVwZGF0ZSB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMYXN0QWN0aXZpdHkoKSk7XG4gICAgICBhd2FpdCB3YWl0Rm9yTmV4dFVwZGF0ZSgpO1xuXG4gICAgICBjb25zdCBhY3Rpdml0eURhdGEgPSB7IHR5cGU6ICd0ZXN0JyB9O1xuXG4gICAgICAvLyBOZSBkZXZyYWl0IHBhcyBwbGFudGVyXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5zYXZlQWN0aXZpdHkoYWN0aXZpdHlEYXRhKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubGFzdEFjdGl2aXR5KS50b0JlTnVsbCgpOyAvLyDDiXRhdCBub24gbWlzIMOgIGpvdXIgZW4gY2FzIGQnZXJyZXVyXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTdXBwcmVzc2lvbiBkXFwnYWN0aXZpdMOpJywgKCkgPT4ge1xuICAgIGl0KCdkZXZyYWl0IHN1cHByaW1lciBsXFwnYWN0aXZpdMOpIHN0b2Nrw6llJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0FjdGl2aXR5ID0geyB0eXBlOiAndGVzdCcsIHRpbWVzdGFtcDogMTY0MDk5NTIwMDAwMCB9O1xuICAgICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1Jlc29sdmVkVmFsdWUoSlNPTi5zdHJpbmdpZnkobW9ja0FjdGl2aXR5KSk7XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0LCB3YWl0Rm9yTmV4dFVwZGF0ZSB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMYXN0QWN0aXZpdHkoKSk7XG4gICAgICBhd2FpdCB3YWl0Rm9yTmV4dFVwZGF0ZSgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubGFzdEFjdGl2aXR5KS5ub3QudG9CZU51bGwoKTtcblxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuY2xlYXJBY3Rpdml0eSgpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChBc3luY1N0b3JhZ2UucmVtb3ZlSXRlbSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2xhc3RfYWN0aXZpdHknKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sYXN0QWN0aXZpdHkpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGV2cmFpdCBnw6lyZXIgbGVzIGVycmV1cnMgZGUgc3VwcHJlc3Npb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrUmVzb2x2ZWRWYWx1ZShudWxsKTtcbiAgICAgIEFzeW5jU3RvcmFnZS5yZW1vdmVJdGVtLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignUmVtb3ZlIGVycm9yJykpO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCwgd2FpdEZvck5leHRVcGRhdGUgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGFzdEFjdGl2aXR5KCkpO1xuICAgICAgYXdhaXQgd2FpdEZvck5leHRVcGRhdGUoKTtcblxuICAgICAgLy8gTmUgZGV2cmFpdCBwYXMgcGxhbnRlclxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuY2xlYXJBY3Rpdml0eSgpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sYXN0QWN0aXZpdHkpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSZWNoYXJnZW1lbnQnLCAoKSA9PiB7XG4gICAgaXQoJ2RldnJhaXQgcGVybWV0dHJlIGRlIHJlY2hhcmdlciBsZXMgZG9ubsOpZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrUmVzb2x2ZWRWYWx1ZShudWxsKTtcbiAgICAgIGNvbnN0IHsgcmVzdWx0LCB3YWl0Rm9yTmV4dFVwZGF0ZSB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMYXN0QWN0aXZpdHkoKSk7XG4gICAgICBhd2FpdCB3YWl0Rm9yTmV4dFVwZGF0ZSgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubGFzdEFjdGl2aXR5KS50b0JlTnVsbCgpO1xuXG4gICAgICAvLyBDaGFuZ2VyIGxlcyBkb25uw6llcyBtb2Nrw6llc1xuICAgICAgY29uc3QgbW9ja0FjdGl2aXR5ID0geyB0eXBlOiAnbmV3JywgdGltZXN0YW1wOiAxNjQwOTk1MjAwMDAwIH07XG4gICAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrUmVzb2x2ZWRWYWx1ZShKU09OLnN0cmluZ2lmeShtb2NrQWN0aXZpdHkpKTtcblxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQucmVsb2FkKCk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmxhc3RBY3Rpdml0eSkudG9FcXVhbCh7XG4gICAgICAgIC4uLm1vY2tBY3Rpdml0eSxcbiAgICAgICAgdGltZUVsYXBzZWQ6ICfDgCBsXFwnaW5zdGFudCdcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU3RhYmlsaXTDqSBkZXMgZm9uY3Rpb25zJywgKCkgPT4ge1xuICAgIGl0KCdkZXZyYWl0IG1haW50ZW5pciBsYSBzdGFiaWxpdMOpIGRlcyBmb25jdGlvbnMgZW50cmUgbGVzIHJlbmRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrUmVzb2x2ZWRWYWx1ZShudWxsKTtcbiAgICAgIGNvbnN0IHsgcmVzdWx0LCB3YWl0Rm9yTmV4dFVwZGF0ZSwgcmVyZW5kZXIgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGFzdEFjdGl2aXR5KCkpO1xuICAgICAgYXdhaXQgd2FpdEZvck5leHRVcGRhdGUoKTtcblxuICAgICAgY29uc3QgaW5pdGlhbFNhdmVBY3Rpdml0eSA9IHJlc3VsdC5jdXJyZW50LnNhdmVBY3Rpdml0eTtcbiAgICAgIGNvbnN0IGluaXRpYWxDbGVhckFjdGl2aXR5ID0gcmVzdWx0LmN1cnJlbnQuY2xlYXJBY3Rpdml0eTtcbiAgICAgIGNvbnN0IGluaXRpYWxSZWxvYWQgPSByZXN1bHQuY3VycmVudC5yZWxvYWQ7XG5cbiAgICAgIHJlcmVuZGVyKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zYXZlQWN0aXZpdHkpLnRvQmUoaW5pdGlhbFNhdmVBY3Rpdml0eSk7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuY2xlYXJBY3Rpdml0eSkudG9CZShpbml0aWFsQ2xlYXJBY3Rpdml0eSk7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQucmVsb2FkKS50b0JlKGluaXRpYWxSZWxvYWQpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnR2VzdGlvbiBkZXMgZG9ubsOpZXMgY29ycm9tcHVlcycsICgpID0+IHtcbiAgICBpdCgnZGV2cmFpdCBnw6lyZXIgbGVzIGRvbm7DqWVzIEpTT04gaW52YWxpZGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1Jlc29sdmVkVmFsdWUoJ2ludmFsaWQganNvbicpO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCwgd2FpdEZvck5leHRVcGRhdGUgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGFzdEFjdGl2aXR5KCkpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yTmV4dFVwZGF0ZSgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubGFzdEFjdGl2aXR5KS50b0JlTnVsbCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzTG9hZGluZykudG9CZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGV2cmFpdCBnw6lyZXIgbGVzIGFjdGl2aXTDqXMgc2FucyB0aW1lc3RhbXAnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrQWN0aXZpdHkgPSB7IHR5cGU6ICd0ZXN0JyB9OyAvLyBQYXMgZGUgdGltZXN0YW1wXG4gICAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrUmVzb2x2ZWRWYWx1ZShKU09OLnN0cmluZ2lmeShtb2NrQWN0aXZpdHkpKTtcblxuICAgICAgY29uc3QgeyByZXN1bHQsIHdhaXRGb3JOZXh0VXBkYXRlIH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUxhc3RBY3Rpdml0eSgpKTtcblxuICAgICAgYXdhaXQgd2FpdEZvck5leHRVcGRhdGUoKTtcblxuICAgICAgLy8gRGV2cmFpdCBjYWxjdWxlciBsZSB0ZW1wcyDDqWNvdWzDqSBtw6ptZSBzYW5zIHRpbWVzdGFtcFxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmxhc3RBY3Rpdml0eSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sYXN0QWN0aXZpdHkudGltZUVsYXBzZWQpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm1hcHBpbmdzIjoiQUFNQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsMkNBQTJDLEVBQUU7RUFBQSxPQUFPO0lBQzVEQyxPQUFPLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDbEJDLE9BQU8sRUFBRUYsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztJQUNsQkUsVUFBVSxFQUFFSCxJQUFJLENBQUNDLEVBQUUsQ0FBQztFQUN0QixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBR0hKLFdBQUEsR0FBS0MsSUFBSSxDQUFDLDJCQUEyQixFQUFFO0VBQUEsT0FBTztJQUM1Q00sWUFBWSxFQUFFO01BQ1pDLGFBQWEsRUFBRTtJQUNqQjtFQUNGLENBQUM7QUFBQSxDQUFDLENBQUM7QUFHSFIsV0FBQSxHQUFLQyxJQUFJLENBQUMsMEJBQTBCLEVBQUU7RUFBQSxPQUFPO0lBQzND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