b1c580a1dbaa1ac6500e4dec4326f75e
_getJestObj().mock('@react-native-async-storage/async-storage', function () {
  return {
    setItem: jest.fn(function () {
      return Promise.resolve();
    }),
    getItem: jest.fn(function () {
      return Promise.resolve(null);
    }),
    removeItem: jest.fn(function () {
      return Promise.resolve();
    })
  };
});
_getJestObj().mock('../../src/utils/constants', function () {
  return {
    STORAGE_KEYS: {
      LAST_ACTIVITY: 'last_activity'
    }
  };
});
_getJestObj().mock('../../src/utils/eventBus', function () {
  return {
    emit: jest.fn()
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _reactHooks = require("@testing-library/react-hooks");
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _useLastActivity = _interopRequireDefault(require("../../src/hooks/useLastActivity"));
var _constants = require("../../src/utils/constants");
var _eventBus = require("../../src/utils/eventBus");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('useLastActivity', function () {
  var MOCK_NOW = new Date('2025-01-01T12:00:00.000Z').getTime();
  beforeEach(function () {
    jest.useFakeTimers();
    jest.setSystemTime(MOCK_NOW);
    _asyncStorage.default.getItem.mockClear();
    _asyncStorage.default.setItem.mockClear();
    _asyncStorage.default.removeItem.mockClear();
    _eventBus.emit.mockClear();
  });
  afterEach(function () {
    jest.runOnlyPendingTimers();
    jest.useRealTimers();
  });
  it('initializes with null lastActivity and isLoading true, then false', (0, _asyncToGenerator2.default)(function* () {
    var _renderHook = (0, _reactHooks.renderHook)(function () {
        return (0, _useLastActivity.default)();
      }),
      result = _renderHook.result,
      waitForNextUpdate = _renderHook.waitForNextUpdate;
    expect(result.current.lastActivity).toBeNull();
    expect(result.current.isLoading).toBe(true);
    yield waitForNextUpdate();
    expect(result.current.isLoading).toBe(false);
    expect(_asyncStorage.default.getItem).toHaveBeenCalledWith(_constants.STORAGE_KEYS.LAST_ACTIVITY);
  }));
  it('loads last activity from AsyncStorage and calculates timeElapsed', (0, _asyncToGenerator2.default)(function* () {
    var mockActivity = {
      type: 'exercise',
      level: '1',
      timestamp: MOCK_NOW - 5 * 60 * 1000
    };
    _asyncStorage.default.getItem.mockResolvedValueOnce(JSON.stringify(mockActivity));
    var _renderHook2 = (0, _reactHooks.renderHook)(function () {
        return (0, _useLastActivity.default)();
      }),
      result = _renderHook2.result,
      waitForNextUpdate = _renderHook2.waitForNextUpdate;
    yield waitForNextUpdate();
    expect(result.current.lastActivity).toEqual(Object.assign({}, mockActivity, {
      timeElapsed: 'Il y a 5 min'
    }));
  }));
  it('saves new activity and updates state', (0, _asyncToGenerator2.default)(function* () {
    var _renderHook3 = (0, _reactHooks.renderHook)(function () {
        return (0, _useLastActivity.default)();
      }),
      result = _renderHook3.result,
      waitForNextUpdate = _renderHook3.waitForNextUpdate;
    yield waitForNextUpdate();
    var newActivityData = {
      type: 'quiz',
      level: '2'
    };
    yield (0, _reactHooks.act)((0, _asyncToGenerator2.default)(function* () {
      yield result.current.saveActivity(newActivityData);
    }));
    expect(_asyncStorage.default.setItem).toHaveBeenCalledWith(_constants.STORAGE_KEYS.LAST_ACTIVITY, JSON.stringify(Object.assign({}, newActivityData, {
      timestamp: MOCK_NOW
    })));
    expect(result.current.lastActivity).toEqual(Object.assign({}, newActivityData, {
      timestamp: MOCK_NOW,
      timeElapsed: 'À l\'instant'
    }));
    expect(_eventBus.emit).toHaveBeenCalledWith('progress-updated', Object.assign({}, newActivityData, {
      timestamp: MOCK_NOW
    }));
  }));
  it('clears activity from AsyncStorage and state', (0, _asyncToGenerator2.default)(function* () {
    _asyncStorage.default.getItem.mockResolvedValueOnce(JSON.stringify({
      type: 'exercise',
      level: '1',
      timestamp: MOCK_NOW
    }));
    var _renderHook4 = (0, _reactHooks.renderHook)(function () {
        return (0, _useLastActivity.default)();
      }),
      result = _renderHook4.result,
      waitForNextUpdate = _renderHook4.waitForNextUpdate;
    yield waitForNextUpdate();
    expect(result.current.lastActivity).not.toBeNull();
    yield (0, _reactHooks.act)((0, _asyncToGenerator2.default)(function* () {
      yield result.current.clearActivity();
    }));
    expect(_asyncStorage.default.removeItem).toHaveBeenCalledWith(_constants.STORAGE_KEYS.LAST_ACTIVITY);
    expect(result.current.lastActivity).toBeNull();
  }));
  it('reloads activity when reload is called', (0, _asyncToGenerator2.default)(function* () {
    var _renderHook5 = (0, _reactHooks.renderHook)(function () {
        return (0, _useLastActivity.default)();
      }),
      result = _renderHook5.result,
      waitForNextUpdate = _renderHook5.waitForNextUpdate;
    yield waitForNextUpdate();
    _asyncStorage.default.getItem.mockClear();
    var updatedActivity = {
      type: 'reading',
      level: '3',
      timestamp: MOCK_NOW - 10 * 60 * 1000
    };
    _asyncStorage.default.getItem.mockResolvedValueOnce(JSON.stringify(updatedActivity));
    yield (0, _reactHooks.act)((0, _asyncToGenerator2.default)(function* () {
      yield result.current.reload();
    }));
    expect(_asyncStorage.default.getItem).toHaveBeenCalledWith(_constants.STORAGE_KEYS.LAST_ACTIVITY);
    expect(result.current.lastActivity).toEqual(Object.assign({}, updatedActivity, {
      timeElapsed: 'Il y a 10 min'
    }));
  }));
  it('calculates timeElapsed correctly for different durations', (0, _asyncToGenerator2.default)(function* () {
    var _renderHook6 = (0, _reactHooks.renderHook)(function () {
        return (0, _useLastActivity.default)();
      }),
      result = _renderHook6.result,
      waitForNextUpdate = _renderHook6.waitForNextUpdate;
    yield waitForNextUpdate();
    yield (0, _reactHooks.act)((0, _asyncToGenerator2.default)(function* () {
      yield result.current.saveActivity({
        type: 'test',
        timestamp: MOCK_NOW
      });
    }));
    expect(result.current.lastActivity.timeElapsed).toBe('À l\'instant');
    jest.setSystemTime(MOCK_NOW + 30 * 60 * 1000);
    yield (0, _reactHooks.act)((0, _asyncToGenerator2.default)(function* () {
      yield result.current.reload();
    }));
    expect(result.current.lastActivity.timeElapsed).toBe('Il y a 30 min');
    jest.setSystemTime(MOCK_NOW + 60 * 60 * 1000);
    yield (0, _reactHooks.act)((0, _asyncToGenerator2.default)(function* () {
      yield result.current.reload();
    }));
    expect(result.current.lastActivity.timeElapsed).toBe('Il y a 1h');
    jest.setSystemTime(MOCK_NOW + 120 * 60 * 1000);
    yield (0, _reactHooks.act)((0, _asyncToGenerator2.default)(function* () {
      yield result.current.reload();
    }));
    expect(result.current.lastActivity.timeElapsed).toBe('Il y a 2h');
    jest.setSystemTime(MOCK_NOW + 24 * 60 * 60 * 1000);
    yield (0, _reactHooks.act)((0, _asyncToGenerator2.default)(function* () {
      yield result.current.reload();
    }));
    expect(result.current.lastActivity.timeElapsed).toBe('Il y a 1j');
    jest.setSystemTime(MOCK_NOW + 5 * 24 * 60 * 60 * 1000);
    yield (0, _reactHooks.act)((0, _asyncToGenerator2.default)(function* () {
      yield result.current.reload();
    }));
    expect(result.current.lastActivity.timeElapsed).toBe('Il y a 5j');
  }));
  it('handles AsyncStorage errors gracefully during load', (0, _asyncToGenerator2.default)(function* () {
    _asyncStorage.default.getItem.mockRejectedValueOnce(new Error('Load error'));
    var _renderHook7 = (0, _reactHooks.renderHook)(function () {
        return (0, _useLastActivity.default)();
      }),
      result = _renderHook7.result,
      waitForNextUpdate = _renderHook7.waitForNextUpdate;
    yield waitForNextUpdate();
    expect(result.current.isLoading).toBe(false);
    expect(result.current.lastActivity).toBeNull();
  }));
  it('handles AsyncStorage errors gracefully during save', (0, _asyncToGenerator2.default)(function* () {
    var _renderHook8 = (0, _reactHooks.renderHook)(function () {
        return (0, _useLastActivity.default)();
      }),
      result = _renderHook8.result,
      waitForNextUpdate = _renderHook8.waitForNextUpdate;
    yield waitForNextUpdate();
    _asyncStorage.default.setItem.mockRejectedValueOnce(new Error('Save error'));
    var newActivityData = {
      type: 'quiz',
      level: '2'
    };
    yield (0, _reactHooks.act)((0, _asyncToGenerator2.default)(function* () {
      yield result.current.saveActivity(newActivityData);
    }));
    expect(_asyncStorage.default.setItem).toHaveBeenCalledTimes(1);
  }));
  it('handles AsyncStorage errors gracefully during clear', (0, _asyncToGenerator2.default)(function* () {
    var _renderHook9 = (0, _reactHooks.renderHook)(function () {
        return (0, _useLastActivity.default)();
      }),
      result = _renderHook9.result,
      waitForNextUpdate = _renderHook9.waitForNextUpdate;
    yield waitForNextUpdate();
    _asyncStorage.default.removeItem.mockRejectedValueOnce(new Error('Clear error'));
    yield (0, _reactHooks.act)((0, _asyncToGenerator2.default)(function* () {
      yield result.current.clearActivity();
    }));
    expect(_asyncStorage.default.removeItem).toHaveBeenCalledTimes(1);
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJzZXRJdGVtIiwiamVzdCIsImZuIiwiUHJvbWlzZSIsInJlc29sdmUiLCJnZXRJdGVtIiwicmVtb3ZlSXRlbSIsIlNUT1JBR0VfS0VZUyIsIkxBU1RfQUNUSVZJVFkiLCJlbWl0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVhY3RIb29rcyIsIl9hc3luY1N0b3JhZ2UiLCJfdXNlTGFzdEFjdGl2aXR5IiwiX2NvbnN0YW50cyIsIl9ldmVudEJ1cyIsIl9yZXF1aXJlIiwiZGVzY3JpYmUiLCJNT0NLX05PVyIsIkRhdGUiLCJnZXRUaW1lIiwiYmVmb3JlRWFjaCIsInVzZUZha2VUaW1lcnMiLCJzZXRTeXN0ZW1UaW1lIiwiQXN5bmNTdG9yYWdlIiwibW9ja0NsZWFyIiwiYWZ0ZXJFYWNoIiwicnVuT25seVBlbmRpbmdUaW1lcnMiLCJ1c2VSZWFsVGltZXJzIiwiaXQiLCJkZWZhdWx0IiwiX3JlbmRlckhvb2siLCJyZW5kZXJIb29rIiwidXNlTGFzdEFjdGl2aXR5IiwicmVzdWx0Iiwid2FpdEZvck5leHRVcGRhdGUiLCJleHBlY3QiLCJjdXJyZW50IiwibGFzdEFjdGl2aXR5IiwidG9CZU51bGwiLCJpc0xvYWRpbmciLCJ0b0JlIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJtb2NrQWN0aXZpdHkiLCJ0eXBlIiwibGV2ZWwiLCJ0aW1lc3RhbXAiLCJtb2NrUmVzb2x2ZWRWYWx1ZU9uY2UiLCJKU09OIiwic3RyaW5naWZ5IiwiX3JlbmRlckhvb2syIiwidG9FcXVhbCIsIk9iamVjdCIsImFzc2lnbiIsInRpbWVFbGFwc2VkIiwiX3JlbmRlckhvb2szIiwibmV3QWN0aXZpdHlEYXRhIiwiYWN0Iiwic2F2ZUFjdGl2aXR5IiwiX3JlbmRlckhvb2s0Iiwibm90IiwiY2xlYXJBY3Rpdml0eSIsIl9yZW5kZXJIb29rNSIsInVwZGF0ZWRBY3Rpdml0eSIsInJlbG9hZCIsIl9yZW5kZXJIb29rNiIsIm1vY2tSZWplY3RlZFZhbHVlT25jZSIsIkVycm9yIiwiX3JlbmRlckhvb2s3IiwiX3JlbmRlckhvb2s4IiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwiX3JlbmRlckhvb2s5Il0sInNvdXJjZXMiOlsidXNlTGFzdEFjdGl2aXR5LnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVuZGVySG9vaywgYWN0IH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdC1ob29rcyc7XG5pbXBvcnQgQXN5bmNTdG9yYWdlIGZyb20gJ0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS9hc3luYy1zdG9yYWdlJztcbmltcG9ydCB1c2VMYXN0QWN0aXZpdHkgZnJvbSAnLi4vLi4vc3JjL2hvb2tzL3VzZUxhc3RBY3Rpdml0eSc7XG5cbi8vIE1vY2sgQXN5bmNTdG9yYWdlXG5qZXN0Lm1vY2soJ0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS9hc3luYy1zdG9yYWdlJywgKCkgPT4gKHtcbiAgc2V0SXRlbTogamVzdC5mbigoKSA9PiBQcm9taXNlLnJlc29sdmUoKSksXG4gIGdldEl0ZW06IGplc3QuZm4oKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG51bGwpKSxcbiAgcmVtb3ZlSXRlbTogamVzdC5mbigoKSA9PiBQcm9taXNlLnJlc29sdmUoKSksXG59KSk7XG5cbi8vIE1vY2sgU1RPUkFHRV9LRVlTXG5qZXN0Lm1vY2soJy4uLy4uL3NyYy91dGlscy9jb25zdGFudHMnLCAoKSA9PiAoe1xuICBTVE9SQUdFX0tFWVM6IHtcbiAgICBMQVNUX0FDVElWSVRZOiAnbGFzdF9hY3Rpdml0eScsXG4gIH0sXG59KSk7XG5cbi8vIE1vY2sgZXZlbnRCdXNcbmplc3QubW9jaygnLi4vLi4vc3JjL3V0aWxzL2V2ZW50QnVzJywgKCkgPT4gKHtcbiAgZW1pdDogamVzdC5mbigpLFxufSkpO1xuXG5pbXBvcnQgeyBTVE9SQUdFX0tFWVMgfSBmcm9tICcuLi8uLi9zcmMvdXRpbHMvY29uc3RhbnRzJztcbmltcG9ydCB7IGVtaXQgfSBmcm9tICcuLi8uLi9zcmMvdXRpbHMvZXZlbnRCdXMnO1xuXG5kZXNjcmliZSgndXNlTGFzdEFjdGl2aXR5JywgKCkgPT4ge1xuICBjb25zdCBNT0NLX05PVyA9IG5ldyBEYXRlKCcyMDI1LTAxLTAxVDEyOjAwOjAwLjAwMFonKS5nZXRUaW1lKCk7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC51c2VGYWtlVGltZXJzKCk7XG4gICAgamVzdC5zZXRTeXN0ZW1UaW1lKE1PQ0tfTk9XKTtcbiAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrQ2xlYXIoKTtcbiAgICBBc3luY1N0b3JhZ2Uuc2V0SXRlbS5tb2NrQ2xlYXIoKTtcbiAgICBBc3luY1N0b3JhZ2UucmVtb3ZlSXRlbS5tb2NrQ2xlYXIoKTtcbiAgICBlbWl0Lm1vY2tDbGVhcigpO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QucnVuT25seVBlbmRpbmdUaW1lcnMoKTtcbiAgICBqZXN0LnVzZVJlYWxUaW1lcnMoKTtcbiAgfSk7XG5cbiAgaXQoJ2luaXRpYWxpemVzIHdpdGggbnVsbCBsYXN0QWN0aXZpdHkgYW5kIGlzTG9hZGluZyB0cnVlLCB0aGVuIGZhbHNlJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0LCB3YWl0Rm9yTmV4dFVwZGF0ZSB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMYXN0QWN0aXZpdHkoKSk7XG5cbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubGFzdEFjdGl2aXR5KS50b0JlTnVsbCgpO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc0xvYWRpbmcpLnRvQmUodHJ1ZSk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yTmV4dFVwZGF0ZSgpO1xuXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzTG9hZGluZykudG9CZShmYWxzZSk7XG4gICAgZXhwZWN0KEFzeW5jU3RvcmFnZS5nZXRJdGVtKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChTVE9SQUdFX0tFWVMuTEFTVF9BQ1RJVklUWSk7XG4gIH0pO1xuXG4gIGl0KCdsb2FkcyBsYXN0IGFjdGl2aXR5IGZyb20gQXN5bmNTdG9yYWdlIGFuZCBjYWxjdWxhdGVzIHRpbWVFbGFwc2VkJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tBY3Rpdml0eSA9IHtcbiAgICAgIHR5cGU6ICdleGVyY2lzZScsXG4gICAgICBsZXZlbDogJzEnLFxuICAgICAgdGltZXN0YW1wOiBNT0NLX05PVyAtICg1ICogNjAgKiAxMDAwKSwgLy8gNSBtaW51dGVzIGFnb1xuICAgIH07XG4gICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1Jlc29sdmVkVmFsdWVPbmNlKEpTT04uc3RyaW5naWZ5KG1vY2tBY3Rpdml0eSkpO1xuXG4gICAgY29uc3QgeyByZXN1bHQsIHdhaXRGb3JOZXh0VXBkYXRlIH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUxhc3RBY3Rpdml0eSgpKTtcbiAgICBhd2FpdCB3YWl0Rm9yTmV4dFVwZGF0ZSgpO1xuXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmxhc3RBY3Rpdml0eSkudG9FcXVhbCh7XG4gICAgICAuLi5tb2NrQWN0aXZpdHksXG4gICAgICB0aW1lRWxhcHNlZDogJ0lsIHkgYSA1IG1pbicsXG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdzYXZlcyBuZXcgYWN0aXZpdHkgYW5kIHVwZGF0ZXMgc3RhdGUnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQsIHdhaXRGb3JOZXh0VXBkYXRlIH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUxhc3RBY3Rpdml0eSgpKTtcbiAgICBhd2FpdCB3YWl0Rm9yTmV4dFVwZGF0ZSgpOyAvLyBJbml0aWFsIGxvYWRcblxuICAgIGNvbnN0IG5ld0FjdGl2aXR5RGF0YSA9IHsgdHlwZTogJ3F1aXonLCBsZXZlbDogJzInIH07XG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LnNhdmVBY3Rpdml0eShuZXdBY3Rpdml0eURhdGEpO1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KEFzeW5jU3RvcmFnZS5zZXRJdGVtKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgIFNUT1JBR0VfS0VZUy5MQVNUX0FDVElWSVRZLFxuICAgICAgSlNPTi5zdHJpbmdpZnkoeyAuLi5uZXdBY3Rpdml0eURhdGEsIHRpbWVzdGFtcDogTU9DS19OT1cgfSlcbiAgICApO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sYXN0QWN0aXZpdHkpLnRvRXF1YWwoe1xuICAgICAgLi4ubmV3QWN0aXZpdHlEYXRhLFxuICAgICAgdGltZXN0YW1wOiBNT0NLX05PVyxcbiAgICAgIHRpbWVFbGFwc2VkOiAnw4AgbFxcJ2luc3RhbnQnLFxuICAgIH0pO1xuICAgIGV4cGVjdChlbWl0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgncHJvZ3Jlc3MtdXBkYXRlZCcsIHsgLi4ubmV3QWN0aXZpdHlEYXRhLCB0aW1lc3RhbXA6IE1PQ0tfTk9XIH0pO1xuICB9KTtcblxuICBpdCgnY2xlYXJzIGFjdGl2aXR5IGZyb20gQXN5bmNTdG9yYWdlIGFuZCBzdGF0ZScsIGFzeW5jICgpID0+IHtcbiAgICAvLyBQcmUtbG9hZCBzb21lIGFjdGl2aXR5IHRvIGNsZWFyXG4gICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1Jlc29sdmVkVmFsdWVPbmNlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHR5cGU6ICdleGVyY2lzZScsIGxldmVsOiAnMScsIHRpbWVzdGFtcDogTU9DS19OT1dcbiAgICB9KSk7XG5cbiAgICBjb25zdCB7IHJlc3VsdCwgd2FpdEZvck5leHRVcGRhdGUgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGFzdEFjdGl2aXR5KCkpO1xuICAgIGF3YWl0IHdhaXRGb3JOZXh0VXBkYXRlKCk7IC8vIEluaXRpYWwgbG9hZFxuXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmxhc3RBY3Rpdml0eSkubm90LnRvQmVOdWxsKCk7XG5cbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuY2xlYXJBY3Rpdml0eSgpO1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KEFzeW5jU3RvcmFnZS5yZW1vdmVJdGVtKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChTVE9SQUdFX0tFWVMuTEFTVF9BQ1RJVklUWSk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmxhc3RBY3Rpdml0eSkudG9CZU51bGwoKTtcbiAgfSk7XG5cbiAgaXQoJ3JlbG9hZHMgYWN0aXZpdHkgd2hlbiByZWxvYWQgaXMgY2FsbGVkJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0LCB3YWl0Rm9yTmV4dFVwZGF0ZSB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMYXN0QWN0aXZpdHkoKSk7XG4gICAgYXdhaXQgd2FpdEZvck5leHRVcGRhdGUoKTsgLy8gSW5pdGlhbCBsb2FkXG5cbiAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrQ2xlYXIoKTtcbiAgICBjb25zdCB1cGRhdGVkQWN0aXZpdHkgPSB7IHR5cGU6ICdyZWFkaW5nJywgbGV2ZWw6ICczJywgdGltZXN0YW1wOiBNT0NLX05PVyAtICgxMCAqIDYwICogMTAwMCkgfTsgLy8gMTAgbWlucyBhZ29cbiAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoSlNPTi5zdHJpbmdpZnkodXBkYXRlZEFjdGl2aXR5KSk7XG5cbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQucmVsb2FkKCk7XG4gICAgfSk7XG5cbiAgICBleHBlY3QoQXN5bmNTdG9yYWdlLmdldEl0ZW0pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFNUT1JBR0VfS0VZUy5MQVNUX0FDVElWSVRZKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubGFzdEFjdGl2aXR5KS50b0VxdWFsKHtcbiAgICAgIC4uLnVwZGF0ZWRBY3Rpdml0eSxcbiAgICAgIHRpbWVFbGFwc2VkOiAnSWwgeSBhIDEwIG1pbicsXG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdjYWxjdWxhdGVzIHRpbWVFbGFwc2VkIGNvcnJlY3RseSBmb3IgZGlmZmVyZW50IGR1cmF0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCwgd2FpdEZvck5leHRVcGRhdGUgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGFzdEFjdGl2aXR5KCkpO1xuICAgIGF3YWl0IHdhaXRGb3JOZXh0VXBkYXRlKCk7IC8vIEluaXRpYWwgbG9hZFxuXG4gICAgLy8gw4AgbCdpbnN0YW50XG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LnNhdmVBY3Rpdml0eSh7IHR5cGU6ICd0ZXN0JywgdGltZXN0YW1wOiBNT0NLX05PVyB9KTtcbiAgICB9KTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubGFzdEFjdGl2aXR5LnRpbWVFbGFwc2VkKS50b0JlKCfDgCBsXFwnaW5zdGFudCcpO1xuXG4gICAgLy8gMzAgbWludXRlcyBhZ29cbiAgICBqZXN0LnNldFN5c3RlbVRpbWUoTU9DS19OT1cgKyAoMzAgKiA2MCAqIDEwMDApKTtcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQucmVsb2FkKCk7XG4gICAgfSk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmxhc3RBY3Rpdml0eS50aW1lRWxhcHNlZCkudG9CZSgnSWwgeSBhIDMwIG1pbicpO1xuXG4gICAgLy8gMSBob3VyIGFnb1xuICAgIGplc3Quc2V0U3lzdGVtVGltZShNT0NLX05PVyArICg2MCAqIDYwICogMTAwMCkpO1xuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5yZWxvYWQoKTtcbiAgICB9KTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubGFzdEFjdGl2aXR5LnRpbWVFbGFwc2VkKS50b0JlKCdJbCB5IGEgMWgnKTtcblxuICAgIC8vIDIgaG91cnMgYWdvXG4gICAgamVzdC5zZXRTeXN0ZW1UaW1lKE1PQ0tfTk9XICsgKDEyMCAqIDYwICogMTAwMCkpO1xuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5yZWxvYWQoKTtcbiAgICB9KTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubGFzdEFjdGl2aXR5LnRpbWVFbGFwc2VkKS50b0JlKCdJbCB5IGEgMmgnKTtcblxuICAgIC8vIDEgZGF5IGFnb1xuICAgIGplc3Quc2V0U3lzdGVtVGltZShNT0NLX05PVyArICgyNCAqIDYwICogNjAgKiAxMDAwKSk7XG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LnJlbG9hZCgpO1xuICAgIH0pO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sYXN0QWN0aXZpdHkudGltZUVsYXBzZWQpLnRvQmUoJ0lsIHkgYSAxaicpO1xuXG4gICAgLy8gNSBkYXlzIGFnb1xuICAgIGplc3Quc2V0U3lzdGVtVGltZShNT0NLX05PVyArICg1ICogMjQgKiA2MCAqIDYwICogMTAwMCkpO1xuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5yZWxvYWQoKTtcbiAgICB9KTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubGFzdEFjdGl2aXR5LnRpbWVFbGFwc2VkKS50b0JlKCdJbCB5IGEgNWonKTtcbiAgfSk7XG5cbiAgaXQoJ2hhbmRsZXMgQXN5bmNTdG9yYWdlIGVycm9ycyBncmFjZWZ1bGx5IGR1cmluZyBsb2FkJywgYXN5bmMgKCkgPT4ge1xuICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tSZWplY3RlZFZhbHVlT25jZShuZXcgRXJyb3IoJ0xvYWQgZXJyb3InKSk7XG5cbiAgICBjb25zdCB7IHJlc3VsdCwgd2FpdEZvck5leHRVcGRhdGUgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGFzdEFjdGl2aXR5KCkpO1xuICAgIGF3YWl0IHdhaXRGb3JOZXh0VXBkYXRlKCk7XG5cbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNMb2FkaW5nKS50b0JlKGZhbHNlKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubGFzdEFjdGl2aXR5KS50b0JlTnVsbCgpO1xuICB9KTtcblxuICBpdCgnaGFuZGxlcyBBc3luY1N0b3JhZ2UgZXJyb3JzIGdyYWNlZnVsbHkgZHVyaW5nIHNhdmUnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQsIHdhaXRGb3JOZXh0VXBkYXRlIH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUxhc3RBY3Rpdml0eSgpKTtcbiAgICBhd2FpdCB3YWl0Rm9yTmV4dFVwZGF0ZSgpO1xuXG4gICAgQXN5bmNTdG9yYWdlLnNldEl0ZW0ubW9ja1JlamVjdGVkVmFsdWVPbmNlKG5ldyBFcnJvcignU2F2ZSBlcnJvcicpKTtcblxuICAgIGNvbnN0IG5ld0FjdGl2aXR5RGF0YSA9IHsgdHlwZTogJ3F1aXonLCBsZXZlbDogJzInIH07XG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LnNhdmVBY3Rpdml0eShuZXdBY3Rpdml0eURhdGEpO1xuICAgIH0pO1xuXG4gICAgLy8gU2hvdWxkIG5vdCB0aHJvdywgYnV0IGxhc3RBY3Rpdml0eSBtaWdodCBub3QgYmUgdXBkYXRlZCBpZiBzYXZlIGZhaWxlZFxuICAgIC8vIEZvciB0aGlzIHRlc3QsIHdlIGp1c3QgZW5zdXJlIG5vIGNyYXNoIGFuZCBzZXRJdGVtIHdhcyBjYWxsZWQuXG4gICAgZXhwZWN0KEFzeW5jU3RvcmFnZS5zZXRJdGVtKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG4gIH0pO1xuXG4gIGl0KCdoYW5kbGVzIEFzeW5jU3RvcmFnZSBlcnJvcnMgZ3JhY2VmdWxseSBkdXJpbmcgY2xlYXInLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQsIHdhaXRGb3JOZXh0VXBkYXRlIH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUxhc3RBY3Rpdml0eSgpKTtcbiAgICBhd2FpdCB3YWl0Rm9yTmV4dFVwZGF0ZSgpO1xuXG4gICAgQXN5bmNTdG9yYWdlLnJlbW92ZUl0ZW0ubW9ja1JlamVjdGVkVmFsdWVPbmNlKG5ldyBFcnJvcignQ2xlYXIgZXJyb3InKSk7XG5cbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuY2xlYXJBY3Rpdml0eSgpO1xuICAgIH0pO1xuXG4gICAgLy8gU2hvdWxkIG5vdCB0aHJvdywgYnV0IHJlbW92ZUl0ZW0gd2FzIGNhbGxlZC5cbiAgICBleHBlY3QoQXN5bmNTdG9yYWdlLnJlbW92ZUl0ZW0pLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgfSk7XG59KTsiXSwibWFwcGluZ3MiOiJBQUtBQSxXQUFBLEdBQUtDLElBQUksQ0FBQywyQ0FBMkMsRUFBRTtFQUFBLE9BQU87SUFDNURDLE9BQU8sRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUM7TUFBQSxPQUFNQyxPQUFPLENBQUNDLE9BQU8sQ0FBQyxDQUFDO0lBQUEsRUFBQztJQUN6Q0MsT0FBTyxFQUFFSixJQUFJLENBQUNDLEVBQUUsQ0FBQztNQUFBLE9BQU1DLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDLElBQUksQ0FBQztJQUFBLEVBQUM7SUFDN0NFLFVBQVUsRUFBRUwsSUFBSSxDQUFDQyxFQUFFLENBQUM7TUFBQSxPQUFNQyxPQUFPLENBQUNDLE9BQU8sQ0FBQyxDQUFDO0lBQUE7RUFDN0MsQ0FBQztBQUFBLENBQUMsQ0FBQztBQUdITixXQUFBLEdBQUtDLElBQUksQ0FBQywyQkFBMkIsRUFBRTtFQUFBLE9BQU87SUFDNUNRLFlBQVksRUFBRTtNQUNaQyxhQUFhLEVBQUU7SUFDakI7RUFDRixDQUFDO0FBQUEs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QUUsYUFBWTtJQUNuRSxJQUFBdUMsWUFBQSxHQUFzQyxJQUFBckMsc0JBQVUsRUFBQztRQUFBLE9BQU0sSUFBQUMsd0JBQWUsRUFBQyxDQUFDO01BQUEsRUFBQztNQUFqRUMsTUFBTSxHQUFBbUMsWUFBQSxDQUFObkMsTUFBTTtNQUFFQyxpQkFBaUIsR0FBQWtDLFlBQUEsQ0FBakJsQyxpQkFBaUI7SUFDakMsTUFBTUEsaUJBQWlCLENBQUMsQ0FBQztJQUV6QlgscUJBQVksQ0FBQzFCLE9BQU8sQ0FBQ29FLHFCQUFxQixDQUFDLElBQUlDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUVuRSxJQUFNWCxlQUFlLEdBQUc7TUFBRVosSUFBSSxFQUFFLE1BQU07TUFBRUMsS0FBSyxFQUFFO0lBQUksQ0FBQztJQUNwRCxNQUFNLElBQUFZLGVBQUcsTUFBQS9DLGtCQUFBLENBQUFvQixPQUFBLEVBQUMsYUFBWTtNQUNwQixNQUFNSSxNQUFNLENBQUNHLE9BQU8sQ0FBQ3FCLFlBQVksQ0FBQ0YsZUFBZSxDQUFDO0lBQ3BELENBQUMsRUFBQztJQUlGcEIsTUFBTSxDQUFDWixxQkFBWSxDQUFDMUIsT0FBTyxDQUFDLENBQUN3RSxxQkFBcUIsQ0FBQyxDQUFDLENBQUM7RUFDdkQsQ0FBQyxFQUFDO0VBRUZ6QyxFQUFFLENBQUMscURBQXFELE1BQUFuQixrQkFBQSxDQUFBb0IsT0FBQSxFQUFFLGFBQVk7SUFDcEUsSUFBQXlDLFlBQUEsR0FBc0MsSUFBQXZDLHNCQUFVLEVBQUM7UUFBQSxPQUFNLElBQUFDLHdCQUFlLEVBQUMsQ0FBQztNQUFBLEVBQUM7TUFBakVDLE1BQU0sR0FBQXFDLFlBQUEsQ0FBTnJDLE1BQU07TUFBRUMsaUJBQWlCLEdBQUFvQyxZQUFBLENBQWpCcEMsaUJBQWlCO0lBQ2pDLE1BQU1BLGlCQUFpQixDQUFDLENBQUM7SUFFekJYLHFCQUFZLENBQUNwQixVQUFVLENBQUM4RCxxQkFBcUIsQ0FBQyxJQUFJQyxLQUFLLENBQUMsYUFBYSxDQUFDLENBQUM7SUFFdkUsTUFBTSxJQUFBVixlQUFHLE1BQUEvQyxrQkFBQSxDQUFBb0IsT0FBQSxFQUFDLGFBQVk7TUFDcEIsTUFBTUksTUFBTSxDQUFDRyxPQUFPLENBQUN3QixhQUFhLENBQUMsQ0FBQztJQUN0QyxDQUFDLEVBQUM7SUFHRnpCLE1BQU0sQ0FBQ1oscUJBQVksQ0FBQ3BCLFVBQVUsQ0FBQyxDQUFDa0UscUJBQXFCLENBQUMsQ0FBQyxDQUFDO0VBQzFELENBQUMsRUFBQztBQUNKLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==