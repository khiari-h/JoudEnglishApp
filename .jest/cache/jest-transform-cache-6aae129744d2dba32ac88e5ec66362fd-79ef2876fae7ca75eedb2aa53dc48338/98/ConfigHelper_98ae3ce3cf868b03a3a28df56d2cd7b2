e97e449a20ff3f4b132c73a02d01f6f9
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.adaptViewConfig = adaptViewConfig;
exports.addWhitelistedNativeProps = addWhitelistedNativeProps;
exports.addWhitelistedUIProps = addWhitelistedUIProps;
exports.configureProps = configureProps;
exports.configureReanimatedLogger = configureReanimatedLogger;
var _propsAllowlists = require("./propsAllowlists");
var _core = require("./core");
var _errors = require("./errors");
var _logger = require("./logger");
var _PlatformChecker = require("./PlatformChecker");
var SHOULD_BE_USE_WEB = (0, _PlatformChecker.shouldBeUseWeb)();
function assertNoOverlapInLists() {
  for (var key in _propsAllowlists.PropsAllowlists.NATIVE_THREAD_PROPS_WHITELIST) {
    if (key in _propsAllowlists.PropsAllowlists.UI_THREAD_PROPS_WHITELIST) {
      throw new _errors.ReanimatedError(`Property \`${key}\` was whitelisted both as UI and native prop. Please remove it from one of the lists.`);
    }
  }
}
function configureProps() {
  assertNoOverlapInLists();
  (0, _core.jsiConfigureProps)(Object.keys(_propsAllowlists.PropsAllowlists.UI_THREAD_PROPS_WHITELIST), Object.keys(_propsAllowlists.PropsAllowlists.NATIVE_THREAD_PROPS_WHITELIST));
}
function addWhitelistedNativeProps(props) {
  var oldSize = Object.keys(_propsAllowlists.PropsAllowlists.NATIVE_THREAD_PROPS_WHITELIST).length;
  _propsAllowlists.PropsAllowlists.NATIVE_THREAD_PROPS_WHITELIST = Object.assign({}, _propsAllowlists.PropsAllowlists.NATIVE_THREAD_PROPS_WHITELIST, props);
  if (oldSize !== Object.keys(_propsAllowlists.PropsAllowlists.NATIVE_THREAD_PROPS_WHITELIST).length) {
    configureProps();
  }
}
function addWhitelistedUIProps(props) {
  var oldSize = Object.keys(_propsAllowlists.PropsAllowlists.UI_THREAD_PROPS_WHITELIST).length;
  _propsAllowlists.PropsAllowlists.UI_THREAD_PROPS_WHITELIST = Object.assign({}, _propsAllowlists.PropsAllowlists.UI_THREAD_PROPS_WHITELIST, props);
  if (oldSize !== Object.keys(_propsAllowlists.PropsAllowlists.UI_THREAD_PROPS_WHITELIST).length) {
    configureProps();
  }
}
function configureReanimatedLogger(config) {
  (0, _logger.updateLoggerConfig)(config);
  if (!SHOULD_BE_USE_WEB) {
    (0, _core.executeOnUIRuntimeSync)(_logger.updateLoggerConfig)(config);
  }
}
var PROCESSED_VIEW_NAMES = new Set();
function adaptViewConfig(viewConfig) {
  var viewName = viewConfig.uiViewClassName;
  var props = viewConfig.validAttributes;
  if (!PROCESSED_VIEW_NAMES.has(viewName)) {
    var propsToAdd = {};
    Object.keys(props).forEach(function (key) {
      if (!(key in _propsAllowlists.PropsAllowlists.NATIVE_THREAD_PROPS_WHITELIST) && !(key in _propsAllowlists.PropsAllowlists.UI_THREAD_PROPS_WHITELIST)) {
        propsToAdd[key] = true;
      }
    });
    addWhitelistedUIProps(propsToAdd);
    PROCESSED_VIEW_NAMES.add(viewName);
  }
}
configureProps();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImFkYXB0Vmlld0NvbmZpZyIsImFkZFdoaXRlbGlzdGVkTmF0aXZlUHJvcHMiLCJhZGRXaGl0ZWxpc3RlZFVJUHJvcHMiLCJjb25maWd1cmVQcm9wcyIsImNvbmZpZ3VyZVJlYW5pbWF0ZWRMb2dnZXIiLCJfcHJvcHNBbGxvd2xpc3RzIiwicmVxdWlyZSIsIl9jb3JlIiwiX2Vycm9ycyIsIl9sb2dnZXIiLCJfUGxhdGZvcm1DaGVja2VyIiwiU0hPVUxEX0JFX1VTRV9XRUIiLCJzaG91bGRCZVVzZVdlYiIsImFzc2VydE5vT3ZlcmxhcEluTGlzdHMiLCJrZXkiLCJQcm9wc0FsbG93bGlzdHMiLCJOQVRJVkVfVEhSRUFEX1BST1BTX1dISVRFTElTVCIsIlVJX1RIUkVBRF9QUk9QU19XSElURUxJU1QiLCJSZWFuaW1hdGVkRXJyb3IiLCJqc2lDb25maWd1cmVQcm9wcyIsImtleXMiLCJwcm9wcyIsIm9sZFNpemUiLCJsZW5ndGgiLCJhc3NpZ24iLCJjb25maWciLCJ1cGRhdGVMb2dnZXJDb25maWciLCJleGVjdXRlT25VSVJ1bnRpbWVTeW5jIiwiUFJPQ0VTU0VEX1ZJRVdfTkFNRVMiLCJTZXQiLCJ2aWV3Q29uZmlnIiwidmlld05hbWUiLCJ1aVZpZXdDbGFzc05hbWUiLCJ2YWxpZEF0dHJpYnV0ZXMiLCJoYXMiLCJwcm9wc1RvQWRkIiwiZm9yRWFjaCIsImFkZCJdLCJzb3VyY2VzIjpbIkNvbmZpZ0hlbHBlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBQcm9wc0FsbG93bGlzdHMgfSBmcm9tICcuL3Byb3BzQWxsb3dsaXN0cyc7XG5pbXBvcnQgeyBleGVjdXRlT25VSVJ1bnRpbWVTeW5jLCBqc2lDb25maWd1cmVQcm9wcyB9IGZyb20gJy4vY29yZSc7XG5pbXBvcnQgeyBSZWFuaW1hdGVkRXJyb3IgfSBmcm9tICcuL2Vycm9ycyc7XG5pbXBvcnQgeyB1cGRhdGVMb2dnZXJDb25maWcgfSBmcm9tICcuL2xvZ2dlcic7XG5pbXBvcnQgdHlwZSB7IExvZ2dlckNvbmZpZyB9IGZyb20gJy4vbG9nZ2VyJztcbmltcG9ydCB7IHNob3VsZEJlVXNlV2ViIH0gZnJvbSAnLi9QbGF0Zm9ybUNoZWNrZXInO1xuXG5jb25zdCBTSE9VTERfQkVfVVNFX1dFQiA9IHNob3VsZEJlVXNlV2ViKCk7XG5cbmZ1bmN0aW9uIGFzc2VydE5vT3ZlcmxhcEluTGlzdHMoKSB7XG4gIGZvciAoY29uc3Qga2V5IGluIFByb3BzQWxsb3dsaXN0cy5OQVRJVkVfVEhSRUFEX1BST1BTX1dISVRFTElTVCkge1xuICAgIGlmIChrZXkgaW4gUHJvcHNBbGxvd2xpc3RzLlVJX1RIUkVBRF9QUk9QU19XSElURUxJU1QpIHtcbiAgICAgIHRocm93IG5ldyBSZWFuaW1hdGVkRXJyb3IoXG4gICAgICAgIGBQcm9wZXJ0eSBcXGAke2tleX1cXGAgd2FzIHdoaXRlbGlzdGVkIGJvdGggYXMgVUkgYW5kIG5hdGl2ZSBwcm9wLiBQbGVhc2UgcmVtb3ZlIGl0IGZyb20gb25lIG9mIHRoZSBsaXN0cy5gXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29uZmlndXJlUHJvcHMoKTogdm9pZCB7XG4gIGFzc2VydE5vT3ZlcmxhcEluTGlzdHMoKTtcbiAganNpQ29uZmlndXJlUHJvcHMoXG4gICAgT2JqZWN0LmtleXMoUHJvcHNBbGxvd2xpc3RzLlVJX1RIUkVBRF9QUk9QU19XSElURUxJU1QpLFxuICAgIE9iamVjdC5rZXlzKFByb3BzQWxsb3dsaXN0cy5OQVRJVkVfVEhSRUFEX1BST1BTX1dISVRFTElTVClcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFdoaXRlbGlzdGVkTmF0aXZlUHJvcHMoXG4gIHByb3BzOiBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPlxuKTogdm9pZCB7XG4gIGNvbnN0IG9sZFNpemUgPSBPYmplY3Qua2V5cyhcbiAgICBQcm9wc0FsbG93bGlzdHMuTkFUSVZFX1RIUkVBRF9QUk9QU19XSElURUxJU1RcbiAgKS5sZW5ndGg7XG4gIFByb3BzQWxsb3dsaXN0cy5OQVRJVkVfVEhSRUFEX1BST1BTX1dISVRFTElTVCA9IHtcbiAgICAuLi5Qcm9wc0FsbG93bGlzdHMuTkFUSVZFX1RIUkVBRF9QUk9QU19XSElURUxJU1QsXG4gICAgLi4ucHJvcHMsXG4gIH07XG4gIGlmIChcbiAgICBvbGRTaXplICE9PVxuICAgIE9iamVjdC5rZXlzKFByb3BzQWxsb3dsaXN0cy5OQVRJVkVfVEhSRUFEX1BST1BTX1dISVRFTElTVCkubGVuZ3RoXG4gICkge1xuICAgIGNvbmZpZ3VyZVByb3BzKCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFdoaXRlbGlzdGVkVUlQcm9wcyhwcm9wczogUmVjb3JkPHN0cmluZywgYm9vbGVhbj4pOiB2b2lkIHtcbiAgY29uc3Qgb2xkU2l6ZSA9IE9iamVjdC5rZXlzKFByb3BzQWxsb3dsaXN0cy5VSV9USFJFQURfUFJPUFNfV0hJVEVMSVNUKS5sZW5ndGg7XG4gIFByb3BzQWxsb3dsaXN0cy5VSV9USFJFQURfUFJPUFNfV0hJVEVMSVNUID0ge1xuICAgIC4uLlByb3BzQWxsb3dsaXN0cy5VSV9USFJFQURfUFJPUFNfV0hJVEVMSVNULFxuICAgIC4uLnByb3BzLFxuICB9O1xuICBpZiAoXG4gICAgb2xkU2l6ZSAhPT0gT2JqZWN0LmtleXMoUHJvcHNBbGxvd2xpc3RzLlVJX1RIUkVBRF9QUk9QU19XSElURUxJU1QpLmxlbmd0aFxuICApIHtcbiAgICBjb25maWd1cmVQcm9wcygpO1xuICB9XG59XG5cbi8qKlxuICogVXBkYXRlcyBSZWFuaW1hdGVkIGxvZ2dlciBjb25maWcgd2l0aCB0aGUgdXNlci1wcm92aWRlZCBjb25maWd1cmF0aW9uLiBXaWxsXG4gKiBhZmZlY3QgUmVhbmltYXRlZCBjb2RlIGV4ZWN1dGVkIGFmdGVyIGNhbGwgdG8gdGhpcyBmdW5jdGlvbiBzbyBpdCBzaG91bGQgYmVcbiAqIGNhbGxlZCBiZWZvcmUgYW55IFJlYW5pbWF0ZWQgY29kZSBpcyBleGVjdXRlZCB0byB0YWtlIGVmZmVjdC4gRWFjaCBjYWxsIHRvXG4gKiB0aGlzIGZ1bmN0aW9uIHdpbGwgb3ZlcnJpZGUgdGhlIHByZXZpb3VzIGNvbmZpZ3VyYXRpb24gKGl0J3MgcmVjb21tZW5kZWQgdG9cbiAqIGNhbGwgaXQgb25seSBvbmNlKS5cbiAqXG4gKiBAcGFyYW0gY29uZmlnIC0gVGhlIG5ldyBsb2dnZXIgY29uZmlndXJhdGlvbiB0byBhcHBseS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmZpZ3VyZVJlYW5pbWF0ZWRMb2dnZXIoY29uZmlnOiBMb2dnZXJDb25maWcpIHtcbiAgLy8gVXBkYXRlIHRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBpbiB0aGUgUmVhY3QgcnVudGltZVxuICB1cGRhdGVMb2dnZXJDb25maWcoY29uZmlnKTtcbiAgLy8gUmVnaXN0ZXIgdGhlIHVwZGF0ZWQgY29uZmlndXJhdGlvbiBpbiB0aGUgVUkgcnVudGltZVxuICBpZiAoIVNIT1VMRF9CRV9VU0VfV0VCKSB7XG4gICAgZXhlY3V0ZU9uVUlSdW50aW1lU3luYyh1cGRhdGVMb2dnZXJDb25maWcpKGNvbmZpZyk7XG4gIH1cbn1cblxuY29uc3QgUFJPQ0VTU0VEX1ZJRVdfTkFNRVMgPSBuZXcgU2V0KCk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmlld0NvbmZpZyB7XG4gIHVpVmlld0NsYXNzTmFtZTogc3RyaW5nO1xuICB2YWxpZEF0dHJpYnV0ZXM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xufVxuLyoqXG4gKiBVcGRhdGVzIFVJIHByb3BzIHdoaXRlbGlzdCBmb3IgZ2l2ZW4gdmlldyBob3N0IGluc3RhbmNlIHRoaXMgd2lsbCB3b3JrIGp1c3RcbiAqIG9uY2UgZm9yIGV2ZXJ5IHZpZXcgbmFtZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGFwdFZpZXdDb25maWcodmlld0NvbmZpZzogVmlld0NvbmZpZyk6IHZvaWQge1xuICBjb25zdCB2aWV3TmFtZSA9IHZpZXdDb25maWcudWlWaWV3Q2xhc3NOYW1lO1xuICBjb25zdCBwcm9wcyA9IHZpZXdDb25maWcudmFsaWRBdHRyaWJ1dGVzO1xuXG4gIC8vIHVwZGF0ZSB3aGl0ZWxpc3Qgb2YgVUkgcHJvcHMgZm9yIHRoaXMgdmlldyBuYW1lIG9ubHkgb25jZVxuICBpZiAoIVBST0NFU1NFRF9WSUVXX05BTUVTLmhhcyh2aWV3TmFtZSkpIHtcbiAgICBjb25zdCBwcm9wc1RvQWRkOiBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPiA9IHt9O1xuICAgIE9iamVjdC5rZXlzKHByb3BzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIC8vIHdlIGRvbid0IHdhbnQgdG8gYWRkIG5hdGl2ZSBwcm9wcyBhcyB0aGV5IGFmZmVjdCBsYXlvdXRcbiAgICAgIC8vIHdlIGFsc28gc2tpcCBwcm9wcyB3aGljaCByZXBlYXQgaGVyZVxuICAgICAgaWYgKFxuICAgICAgICAhKGtleSBpbiBQcm9wc0FsbG93bGlzdHMuTkFUSVZFX1RIUkVBRF9QUk9QU19XSElURUxJU1QpICYmXG4gICAgICAgICEoa2V5IGluIFByb3BzQWxsb3dsaXN0cy5VSV9USFJFQURfUFJPUFNfV0hJVEVMSVNUKVxuICAgICAgKSB7XG4gICAgICAgIHByb3BzVG9BZGRba2V5XSA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYWRkV2hpdGVsaXN0ZWRVSVByb3BzKHByb3BzVG9BZGQpO1xuXG4gICAgUFJPQ0VTU0VEX1ZJRVdfTkFNRVMuYWRkKHZpZXdOYW1lKTtcbiAgfVxufVxuXG5jb25maWd1cmVQcm9wcygpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUFDQSxNQUFBLENBQUFDLGNBQUEsQ0FBQUMsT0FBQTtFQUFBQyxLQUFBO0FBQUE7QUFBQUQsT0FBQSxDQUFBRSxlQUFBLEdBQUFBLGVBQUE7QUFBQUYsT0FBQSxDQUFBRyx5QkFBQSxHQUFBQSx5QkFBQTtBQUFBSCxPQUFBLENBQUFJLHFCQUFBLEdBQUFBLHFCQUFBO0FBQUFKLE9BQUEsQ0FBQUssY0FBQSxHQUFBQSxjQUFBO0FBQUFMLE9BQUEsQ0FBQU0seUJBQUEsR0FBQUEseUJBQUE7QUFDYixJQUFBQyxnQkFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsT0FBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsT0FBQSxHQUFBSCxPQUFBO0FBRUEsSUFBQUksZ0JBQUEsR0FBQUosT0FBQTtBQUVBLElBQU1LLGlCQUFpQixHQUFHLElBQUFDLCtCQUFjLEVBQUMsQ0FBQztBQUUxQyxTQUFTQyxzQkFBc0JBLENBQUEsRUFBRztFQUNoQyxLQUFLLElBQU1DLEdBQUcsSUFBSUMsZ0NBQWUsQ0FBQ0MsNkJBQTZCLEVBQUU7SUFDL0QsSUFBSUYsR0FBRyxJQUFJQyxnQ0FBZSxDQUFDRSx5QkFBeUIsRUFBRTtNQUNwRCxNQUFNLElBQUlDLHVCQUFlLENBQ3ZCLGNBQWNKLEdBQUcsd0ZBQ25CLENBQUM7SUFDSDtFQUNGO0FBQ0Y7QUFFTyxTQUFTWCxjQUFjQSxDQUFBLEVBQVM7RUFDckNVLHNCQUFzQixDQUFDLENBQUM7RUFDeEIsSUFBQU0sdUJBQWlCLEVBQ2Z2QixNQUFNLENBQUN3QixJQUFJLENBQUNMLGdDQUFlLENBQUNFLHlCQUF5QixDQUFDLEVBQ3REckIsTUFBTSxDQUFDd0IsSUFBSSxDQUFDTCxnQ0FBZSxDQUFDQyw2QkFBNkIsQ0FDM0QsQ0FBQztBQUNIO0FBRU8sU0FBU2YseUJBQXlCQSxDQUN2Q29CLEtBQThCLEVBQ3hCO0VBQ04sSUFBTUMsT0FBTyxHQUFHMUIsTUFBTSxDQUFDd0IsSUFBSSxDQUN6QkwsZ0NBQWUsQ0FBQ0MsNkJBQ2xCLENBQUMsQ0FBQ08sTUFBTTtFQUNSUixnQ0FBZSxDQUFDQyw2QkFBNkIsR0FBQXBCLE1BQUEsQ0FBQTRCLE1BQUEsS0FDeENULGdDQUFlLENBQUNDLDZCQUE2QixFQUM3Q0ssS0FBSyxDQUNUO0VBQ0QsSUFDRUMsT0FBTyxLQUNQMUIsTUFBTSxDQUFDd0IsSUFBSSxDQUFDTCxnQ0FBZSxDQUFDQyw2QkFBNkIsQ0FBQyxDQUFDTyxNQUFNLEVBQ2pFO0lBQ0FwQixjQUFjLENBQUMsQ0FBQztFQUNsQjtBQUNGO0FBRU8sU0FBU0QscUJBQXFCQSxDQUFDbUIsS0FBOEIsRUFBUTtFQUMxRSxJQUFNQyxPQUFPLEdBQUcxQixNQUFNLENBQUN3QixJQUFJLENBQUNMLGdDQUFlLENBQUNFLHlCQUF5QixDQUFDLENBQUNNLE1BQU07RUFDN0VSLGdDQUFlLENBQUNFLHlCQUF5QixHQUFBckIsTUFBQSxDQUFBNEIsTUFBQSxLQUNwQ1QsZ0NBQWUsQ0FBQ0UseUJBQXlCLEVBQ3pDSSxLQUFLLENBQ1Q7RUFDRCxJQUNFQyxPQUFPLEtBQUsxQixNQUFNLENBQUN3QixJQUFJLENBQUNMLGdDQUFlLENBQUNFLHlCQUF5QixDQUFDLENBQUNNLE1BQU0sRUFDekU7SUFDQXBCLGNBQWMsQ0FBQyxDQUFDO0VBQ2xCO0FBQ0Y7QUFXTyxTQUFTQyx5QkFBeUJBLENBQUNxQixNQUFvQixFQUFFO0VBRTlELElBQUFDLDBCQUFrQixFQUFDRCxNQUFNLENBQUM7RUFFMUIsSUFBSSxDQUFDZCxpQkFBaUIsRUFBRTtJQUN0QixJQUFBZ0IsNEJBQXNCLEVBQUNELDBCQUFrQixDQUFDLENBQUNELE1BQU0sQ0FBQztFQUNwRDtBQUNGO0FBRUEsSUFBTUcsb0JBQW9CLEdBQUcsSUFBSUMsR0FBRyxDQUFDLENBQUM7QUFXL0IsU0FBUzdCLGVBQWVBLENBQUM4QixVQUFzQixFQUFRO0VBQzVELElBQU1DLFFBQVEsR0FBR0QsVUFBVSxDQUFDRSxlQUFlO0VBQzNDLElBQU1YLEtBQUssR0FBR1MsVUFBVSxDQUFDRyxlQUFlO0VBR3hDLElBQUksQ0FBQ0wsb0JBQW9CLENBQUNNLEdBQUcsQ0FBQ0gsUUFBUSxDQUFDLEVBQUU7SUFDdkMsSUFBTUksVUFBbUMsR0FBRyxDQUFDLENBQUM7SUFDOUN2QyxNQUFNLENBQUN3QixJQUFJLENBQUNDLEtBQUssQ0FBQyxDQUFDZSxPQUFPLENBQUMsVUFBQ3RCLEdBQUcsRUFBSztNQUdsQyxJQUNFLEVBQUVBLEdBQUcsSUFBSUMsZ0NBQWUsQ0FBQ0MsNkJBQTZCLENBQUMsSUFDdkQsRUFBRUYsR0FBRyxJQUFJQyxnQ0FBZSxDQUFDRSx5QkFBeUIsQ0FBQyxFQUNuRDtRQUNBa0IsVUFBVSxDQUFDckIsR0FBRyxDQUFDLEdBQUcsSUFBSTtNQUN4QjtJQUNGLENBQUMsQ0FBQztJQUNGWixxQkFBcUIsQ0FBQ2lDLFVBQVUsQ0FBQztJQUVqQ1Asb0JBQW9CLENBQUNTLEdBQUcsQ0FBQ04sUUFBUSxDQUFDO0VBQ3BDO0FBQ0Y7QUFFQTVCLGNBQWMsQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119