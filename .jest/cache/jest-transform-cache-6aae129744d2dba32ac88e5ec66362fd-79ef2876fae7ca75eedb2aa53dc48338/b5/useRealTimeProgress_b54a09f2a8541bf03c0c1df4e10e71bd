b9318fb76ca0ad6710aaf2da8a883e98
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = require("react");
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _vocabularyDataHelper = require("../utils/vocabulary/vocabularyDataHelper");
var useRealTimeProgress = function useRealTimeProgress() {
  var _useState = (0, _react.useState)({}),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    levelProgress = _useState2[0],
    setLevelProgress = _useState2[1];
  var _useState3 = (0, _react.useState)({}),
    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
    exerciseProgress = _useState4[0],
    setExerciseProgress = _useState4[1];
  var _useState5 = (0, _react.useState)(true),
    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),
    isLoading = _useState6[0],
    setIsLoading = _useState6[1];
  var handleProgressError = function handleProgressError(error, operation, level) {
    var fallback = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
    console.warn(`Progress calculation error in ${operation} for level ${level}:`, error);
    return fallback;
  };
  var calculateVocabularyProgress = function () {
    var _ref = (0, _asyncToGenerator2.default)(function* (level) {
      try {
        var storageKey = `vocabulary_${level}_classic`;
        var savedData = yield _asyncStorage.default.getItem(storageKey);
        if (!savedData) return 0;
        var data = JSON.parse(savedData);
        var completedWords = data.completedWords || {};
        var vocabularyData = (0, _vocabularyDataHelper.getVocabularyData)(level, 'classic');
        if (!(vocabularyData != null && vocabularyData.exercises)) return 0;
        var totalWords = vocabularyData.exercises.reduce(function (sum, cat) {
          var _cat$words;
          return sum + (((_cat$words = cat.words) == null ? void 0 : _cat$words.length) || 0);
        }, 0);
        var completedCount = 0;
        Object.values(completedWords).forEach(function (categoryWords) {
          if (Array.isArray(categoryWords)) {
            completedCount += categoryWords.length;
          }
        });
        var percentage = totalWords > 0 ? completedCount / totalWords * 100 : 0;
        return Math.min(Math.round(percentage), 100);
      } catch (error) {
        return handleProgressError(error, 'calculateVocabularyProgress', level, 0);
      }
    });
    return function calculateVocabularyProgress(_x) {
      return _ref.apply(this, arguments);
    };
  }();
  var calculateVocabularyFastProgress = function () {
    var _ref2 = (0, _asyncToGenerator2.default)(function* (level) {
      try {
        var storageKey = `vocabulary_${level}_fast`;
        var savedData = yield _asyncStorage.default.getItem(storageKey);
        if (!savedData) return 0;
        var data = JSON.parse(savedData);
        var completedWords = data.completedWords || {};
        var vocabularyData = (0, _vocabularyDataHelper.getVocabularyData)(level, 'fast');
        if (!(vocabularyData != null && vocabularyData.exercises)) return 0;
        var totalWords = vocabularyData.exercises.reduce(function (sum, cat) {
          var _cat$words2;
          return sum + (((_cat$words2 = cat.words) == null ? void 0 : _cat$words2.length) || 0);
        }, 0);
        var completedCount = 0;
        Object.values(completedWords).forEach(function (categoryWords) {
          if (Array.isArray(categoryWords)) {
            completedCount += categoryWords.length;
          }
        });
        var percentage = totalWords > 0 ? completedCount / totalWords * 100 : 0;
        return Math.min(Math.round(percentage), 100);
      } catch (error) {
        return handleProgressError(error, 'calculateVocabularyFastProgress', level, 0);
      }
    });
    return function calculateVocabularyFastProgress(_x2) {
      return _ref2.apply(this, arguments);
    };
  }();
  var calculateGrammarProgress = function () {
    var _ref3 = (0, _asyncToGenerator2.default)(function* (level) {
      try {
        var storageKey = `grammar_${level}`;
        var savedData = yield _asyncStorage.default.getItem(storageKey);
        if (!savedData) return 0;
        var data = JSON.parse(savedData);
        var completedExercises = data.completedExercises || {};
        var completedCount = 0;
        Object.values(completedExercises).forEach(function (exerciseIndices) {
          if (Array.isArray(exerciseIndices)) {
            completedCount += exerciseIndices.length;
          }
        });
        var EXERCISES_PER_LEVEL = 20;
        var percentage = completedCount / EXERCISES_PER_LEVEL * 100;
        return Math.min(Math.round(percentage), 100);
      } catch (error) {
        return handleProgressError(error, 'calculateGrammarProgress', level, 0);
      }
    });
    return function calculateGrammarProgress(_x3) {
      return _ref3.apply(this, arguments);
    };
  }();
  var calculateReadingProgress = function () {
    var _ref4 = (0, _asyncToGenerator2.default)(function* (level) {
      try {
        var storageKey = `reading_${level}`;
        var savedData = yield _asyncStorage.default.getItem(storageKey);
        if (!savedData) return 0;
        var data = JSON.parse(savedData);
        var completedQuestions = data.completedQuestions || {};
        var completedCount = 0;
        Object.values(completedQuestions).forEach(function (questionIndices) {
          if (Array.isArray(questionIndices)) {
            completedCount += questionIndices.length;
          }
        });
        var QUESTIONS_PER_LEVEL = 15;
        var percentage = completedCount / QUESTIONS_PER_LEVEL * 100;
        return Math.min(Math.round(percentage), 100);
      } catch (error) {
        return handleProgressError(error, 'calculateReadingProgress', level, 0);
      }
    });
    return function calculateReadingProgress(_x4) {
      return _ref4.apply(this, arguments);
    };
  }();
  var calculateSpellingProgress = function () {
    var _ref5 = (0, _asyncToGenerator2.default)(function* (level) {
      try {
        var storageKey = `spelling_${level}_correction`;
        var savedData = yield _asyncStorage.default.getItem(storageKey);
        if (!savedData) return 0;
        var data = JSON.parse(savedData);
        var completedExercises = data.completedExercises || [];
        var EXERCISES_PER_LEVEL = 25;
        var percentage = completedExercises.length / EXERCISES_PER_LEVEL * 100;
        return Math.min(Math.round(percentage), 100);
      } catch (error) {
        return handleProgressError(error, 'calculateSpellingProgress', level, 0);
      }
    });
    return function calculateSpellingProgress(_x5) {
      return _ref5.apply(this, arguments);
    };
  }();
  var calculatePhrasesProgress = function () {
    var _ref6 = (0, _asyncToGenerator2.default)(function* (level) {
      try {
        var storageKey = `phrases_${level}`;
        var savedData = yield _asyncStorage.default.getItem(storageKey);
        if (!savedData) return 0;
        var data = JSON.parse(savedData);
        var completedPhrases = data.completedPhrases || {};
        var completedCount = 0;
        Object.values(completedPhrases).forEach(function (phraseIndices) {
          if (Array.isArray(phraseIndices)) {
            completedCount += phraseIndices.length;
          }
        });
        var PHRASES_PER_LEVEL = 30;
        var percentage = completedCount / PHRASES_PER_LEVEL * 100;
        return Math.min(Math.round(percentage), 100);
      } catch (error) {
        return handleProgressError(error, 'calculatePhrasesProgress', level, 0);
      }
    });
    return function calculatePhrasesProgress(_x6) {
      return _ref6.apply(this, arguments);
    };
  }();
  var calculateConversationsProgress = function () {
    var _ref7 = (0, _asyncToGenerator2.default)(function* (level) {
      try {
        var storageKey = `conversation_${level}`;
        var savedData = yield _asyncStorage.default.getItem(storageKey);
        if (!savedData) return 0;
        var data = JSON.parse(savedData);
        var completedScenarios = data.completedScenarios || {};
        var completedCount = Object.values(completedScenarios).filter(function (scenario) {
          return scenario && (scenario.completed || scenario.completedAt);
        }).length;
        var CONVERSATIONS_PER_LEVEL = 8;
        var percentage = completedCount / CONVERSATIONS_PER_LEVEL * 100;
        return Math.min(Math.round(percentage), 100);
      } catch (error) {
        return handleProgressError(error, 'calculateConversationsProgress', level, 0);
      }
    });
    return function calculateConversationsProgress(_x7) {
      return _ref7.apply(this, arguments);
    };
  }();
  var calculateErrorCorrectionProgress = function () {
    var _ref8 = (0, _asyncToGenerator2.default)(function* (level) {
      try {
        var storageKey = `error_correction_${level}`;
        var savedData = yield _asyncStorage.default.getItem(storageKey);
        if (!savedData) return 0;
        var data = JSON.parse(savedData);
        var completedExercises = data.completedExercises || {};
        var completedCount = 0;
        Object.values(completedExercises).forEach(function (exerciseIndices) {
          if (Array.isArray(exerciseIndices)) {
            completedCount += exerciseIndices.length;
          }
        });
        var EXERCISES_PER_LEVEL = 20;
        var percentage = completedCount / EXERCISES_PER_LEVEL * 100;
        return Math.min(Math.round(percentage), 100);
      } catch (error) {
        return handleProgressError(error, 'calculateErrorCorrectionProgress', level, 0);
      }
    });
    return function calculateErrorCorrectionProgress(_x8) {
      return _ref8.apply(this, arguments);
    };
  }();
  var calculateWordGamesProgress = function () {
    var _ref9 = (0, _asyncToGenerator2.default)(function* (level) {
      try {
        var storageKey = `word_games_completed_${level}`;
        var savedData = yield _asyncStorage.default.getItem(storageKey);
        if (!savedData) return 0;
        var data = JSON.parse(savedData);
        var completedCount = Object.values(data).filter(function (game) {
          return game == null ? void 0 : game.completed;
        }).length;
        var GAMES_PER_LEVEL = 10;
        var percentage = completedCount / GAMES_PER_LEVEL * 100;
        return Math.min(Math.round(percentage), 100);
      } catch (error) {
        return handleProgressError(error, 'calculateWordGamesProgress', level, 0);
      }
    });
    return function calculateWordGamesProgress(_x9) {
      return _ref9.apply(this, arguments);
    };
  }();
  var calculateAssessmentProgress = function () {
    var _ref0 = (0, _asyncToGenerator2.default)(function* (level) {
      try {
        var storageKey = `assessment_results_${level}`;
        var savedData = yield _asyncStorage.default.getItem(storageKey);
        if (!savedData) return 0;
        var data = JSON.parse(savedData);
        return data.completedAt ? 100 : 0;
      } catch (error) {
        return handleProgressError(error, 'calculateAssessmentProgress', level, 0);
      }
    });
    return function calculateAssessmentProgress(_x0) {
      return _ref0.apply(this, arguments);
    };
  }();
  var calculateProgress = (0, _react.useCallback)((0, _asyncToGenerator2.default)(function* () {
    try {
      setIsLoading(true);
      var newLevelProgress = {};
      var newExerciseProgress = {};
      var levels = ['1', '2', '3', '4', '5', '6', 'bonus'];
      var exerciseCalculators = {
        vocabulary: calculateVocabularyProgress,
        vocabulary_fast: calculateVocabularyFastProgress,
        grammar: calculateGrammarProgress,
        reading: calculateReadingProgress,
        spelling: calculateSpellingProgress,
        phrases: calculatePhrasesProgress,
        conversations: calculateConversationsProgress,
        errorCorrection: calculateErrorCorrectionProgress,
        wordGames: calculateWordGamesProgress,
        assessment: calculateAssessmentProgress
      };
      yield Promise.all(levels.map(function () {
        var _ref10 = (0, _asyncToGenerator2.default)(function* (level) {
          var availableExercises = level === 'bonus' ? ['reading', 'vocabulary', 'phrases'] : Object.keys(exerciseCalculators);
          var results = yield Promise.all(availableExercises.map(function () {
            var _ref11 = (0, _asyncToGenerator2.default)(function* (exerciseType) {
              try {
                var calculator = exerciseCalculators[exerciseType];
                var value = yield calculator(level);
                return {
                  exerciseType: exerciseType,
                  value: value
                };
              } catch (e) {
                console.warn(`Erreur calcul ${exerciseType} niveau ${level}:`, e);
                return {
                  exerciseType: exerciseType,
                  value: 0
                };
              }
            });
            return function (_x10) {
              return _ref11.apply(this, arguments);
            };
          }()));
          var levelTotal = 0;
          var levelCompleted = 0;
          results.forEach(function (_ref12) {
            var exerciseType = _ref12.exerciseType,
              value = _ref12.value;
            if (!newExerciseProgress[exerciseType]) newExerciseProgress[exerciseType] = {};
            newExerciseProgress[exerciseType][level] = value;
            levelTotal += 100;
            levelCompleted += value;
          });
          newLevelProgress[level] = levelTotal > 0 ? Math.round(levelCompleted / levelTotal * 100) : 0;
        });
        return function (_x1) {
          return _ref10.apply(this, arguments);
        };
      }()));
      setLevelProgress(newLevelProgress);
      setExerciseProgress(newExerciseProgress);
    } catch (error) {
      console.error('Erreur calcul progression:', error);
    } finally {
      setIsLoading(false);
    }
  }), []);
  var getLevelProgress = (0, _react.useCallback)(function (level) {
    return levelProgress[level] || 0;
  }, [levelProgress]);
  var getExerciseProgress = (0, _react.useCallback)(function (exerciseType, level) {
    var _exerciseProgress$exe;
    return ((_exerciseProgress$exe = exerciseProgress[exerciseType]) == null ? void 0 : _exerciseProgress$exe[level]) || 0;
  }, [exerciseProgress]);
  var hasProgress = (0, _react.useCallback)(function (exerciseType, level) {
    return getExerciseProgress(exerciseType, level) > 0;
  }, [getExerciseProgress]);
  var hasVocabularyStarted = (0, _react.useCallback)(function (level) {
    return hasProgress('vocabulary', level);
  }, [hasProgress]);
  var hasVocabularyFastStarted = (0, _react.useCallback)(function (level) {
    return hasProgress('vocabulary_fast', level);
  }, [hasProgress]);
  (0, _react.useEffect)(function () {
    calculateProgress();
  }, [calculateProgress]);
  var refresh = (0, _react.useCallback)(function () {
    calculateProgress();
  }, [calculateProgress]);
  return {
    levelProgress: levelProgress,
    exerciseProgress: exerciseProgress,
    isLoading: isLoading,
    getLevelProgress: getLevelProgress,
    getExerciseProgress: getExerciseProgress,
    hasProgress: hasProgress,
    hasVocabularyStarted: hasVocabularyStarted,
    hasVocabularyFastStarted: hasVocabularyFastStarted,
    refresh: refresh
  };
};
var _default = exports.default = useRealTimeProgress;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX2FzeW5jU3RvcmFnZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfdm9jYWJ1bGFyeURhdGFIZWxwZXIiLCJ1c2VSZWFsVGltZVByb2dyZXNzIiwiX3VzZVN0YXRlIiwidXNlU3RhdGUiLCJfdXNlU3RhdGUyIiwiX3NsaWNlZFRvQXJyYXkyIiwiZGVmYXVsdCIsImxldmVsUHJvZ3Jlc3MiLCJzZXRMZXZlbFByb2dyZXNzIiwiX3VzZVN0YXRlMyIsIl91c2VTdGF0ZTQiLCJleGVyY2lzZVByb2dyZXNzIiwic2V0RXhlcmNpc2VQcm9ncmVzcyIsIl91c2VTdGF0ZTUiLCJfdXNlU3RhdGU2IiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiaGFuZGxlUHJvZ3Jlc3NFcnJvciIsImVycm9yIiwib3BlcmF0aW9uIiwibGV2ZWwiLCJmYWxsYmFjayIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImNvbnNvbGUiLCJ3YXJuIiwiY2FsY3VsYXRlVm9jYWJ1bGFyeVByb2dyZXNzIiwiX3JlZiIsIl9hc3luY1RvR2VuZXJhdG9yMiIsInN0b3JhZ2VLZXkiLCJzYXZlZERhdGEiLCJBc3luY1N0b3JhZ2UiLCJnZXRJdGVtIiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsImNvbXBsZXRlZFdvcmRzIiwidm9jYWJ1bGFyeURhdGEiLCJnZXRWb2NhYnVsYXJ5RGF0YSIsImV4ZXJjaXNlcyIsInRvdGFsV29yZHMiLCJyZWR1Y2UiLCJzdW0iLCJjYXQiLCJfY2F0JHdvcmRzIiwid29yZHMiLCJjb21wbGV0ZWRDb3VudCIsIk9iamVjdCIsInZhbHVlcyIsImZvckVhY2giLCJjYXRlZ29yeVdvcmRzIiwiQXJyYXkiLCJpc0FycmF5IiwicGVyY2VudGFnZSIsIk1hdGgiLCJtaW4iLCJyb3VuZCIsIl94IiwiYXBwbHkiLCJjYWxjdWxhdGVWb2NhYnVsYXJ5RmFzdFByb2dyZXNzIiwiX3JlZjIiLCJfY2F0JHdvcmRzMiIsIl94MiIsImNhbGN1bGF0ZUdyYW1tYXJQcm9ncmVzcyIsIl9yZWYzIiwiY29tcGxldGVkRXhlcmNpc2VzIiwiZXhlcmNpc2VJbmRpY2VzIiwiRVhFUkNJU0VTX1BFUl9MRVZFTCIsIl94MyIsImNhbGN1bGF0ZVJlYWRpbmdQcm9ncmVzcyIsIl9yZWY0IiwiY29tcGxldGVkUXVlc3Rpb25zIiwicXVlc3Rpb25JbmRpY2VzIiwiUVVFU1RJT05TX1BFUl9MRVZFTCIsIl94NCIsImNhbGN1bGF0ZVNwZWxsaW5nUHJvZ3Jlc3MiLCJfcmVmNSIsIl94NSIsImNhbGN1bGF0ZVBocmFzZXNQcm9ncmVzcyIsIl9yZWY2IiwiY29tcGxldGVkUGhyYXNlcyIsInBocmFzZUluZGljZXMiLCJQSFJBU0VTX1BFUl9MRVZFTCIsIl94NiIsImNhbGN1bGF0ZUNvbnZlcnNhdGlvbnNQcm9ncmVzcyIsIl9yZWY3IiwiY29tcGxldGVkU2NlbmFyaW9zIiwiZmlsdGVyIiwic2NlbmFyaW8iLCJjb21wbGV0ZWQiLCJjb21wbGV0ZWRBdCIsIkNPTlZFUlNBVElPTlNfUEVSX0xFVkVMIiwiX3g3IiwiY2FsY3VsYXRlRXJyb3JDb3JyZWN0aW9uUHJvZ3Jlc3MiLCJfcmVmOCIsIl94OCIsImNhbGN1bGF0ZVdvcmRHYW1lc1Byb2dyZXNzIiwiX3JlZjkiLCJnYW1lIiwiR0FNRVNfUEVSX0xFVkVMIiwiX3g5IiwiY2FsY3VsYXRlQXNzZXNzbWVudFByb2dyZXNzIiwiX3JlZjAiLCJfeDAiLCJjYWxjdWxhdGVQcm9ncmVzcyIsInVzZUNhbGxiYWNrIiwibmV3TGV2ZWxQcm9ncmVzcyIsIm5ld0V4ZXJjaXNlUHJvZ3Jlc3MiLCJsZXZlbHMiLCJleGVyY2lzZUNhbGN1bGF0b3JzIiwidm9jYWJ1bGFyeSIsInZvY2FidWxhcnlfZmFzdCIsImdyYW1tYXIiLCJyZWFkaW5nIiwic3BlbGxpbmciLCJwaHJhc2VzIiwiY29udmVyc2F0aW9ucyIsImVycm9yQ29ycmVjdGlvbiIsIndvcmRHYW1lcyIsImFzc2Vzc21lbnQiLCJQcm9taXNlIiwiYWxsIiwibWFwIiwiX3JlZjEwIiwiYXZhaWxhYmxlRXhlcmNpc2VzIiwia2V5cyIsInJlc3VsdHMiLCJfcmVmMTEiLCJleGVyY2lzZVR5cGUiLCJjYWxjdWxhdG9yIiwidmFsdWUiLCJlIiwiX3gxMCIsImxldmVsVG90YWwiLCJsZXZlbENvbXBsZXRlZCIsIl9yZWYxMiIsIl94MSIsImdldExldmVsUHJvZ3Jlc3MiLCJnZXRFeGVyY2lzZVByb2dyZXNzIiwiX2V4ZXJjaXNlUHJvZ3Jlc3MkZXhlIiwiaGFzUHJvZ3Jlc3MiLCJoYXNWb2NhYnVsYXJ5U3RhcnRlZCIsImhhc1ZvY2FidWxhcnlGYXN0U3RhcnRlZCIsInVzZUVmZmVjdCIsInJlZnJlc2giLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlcyI6WyJ1c2VSZWFsVGltZVByb2dyZXNzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9ob29rcy91c2VSZWFsVGltZVByb2dyZXNzLmpzIC0gVkVSU0lPTiBDT1JSSUfDiUUgQVZFQyBHRVNUSU9OIEQnRVJSRVVSXHJcblxyXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IEFzeW5jU3RvcmFnZSBmcm9tICdAcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UvYXN5bmMtc3RvcmFnZSc7XHJcbmltcG9ydCB7IGdldFZvY2FidWxhcnlEYXRhIH0gZnJvbSAnLi4vdXRpbHMvdm9jYWJ1bGFyeS92b2NhYnVsYXJ5RGF0YUhlbHBlcic7XHJcblxyXG5jb25zdCB1c2VSZWFsVGltZVByb2dyZXNzID0gKCkgPT4ge1xyXG4gIGNvbnN0IFtsZXZlbFByb2dyZXNzLCBzZXRMZXZlbFByb2dyZXNzXSA9IHVzZVN0YXRlKHt9KTtcclxuICBjb25zdCBbZXhlcmNpc2VQcm9ncmVzcywgc2V0RXhlcmNpc2VQcm9ncmVzc10gPSB1c2VTdGF0ZSh7fSk7XHJcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09IEVSUk9SIEhBTkRMSU5HIEhFTFBFUiA9PT09PT09PT09PT09PT09PT09XHJcbiAgY29uc3QgaGFuZGxlUHJvZ3Jlc3NFcnJvciA9IChlcnJvciwgb3BlcmF0aW9uLCBsZXZlbCwgZmFsbGJhY2sgPSAwKSA9PiB7XHJcbiAgICBjb25zb2xlLndhcm4oYFByb2dyZXNzIGNhbGN1bGF0aW9uIGVycm9yIGluICR7b3BlcmF0aW9ufSBmb3IgbGV2ZWwgJHtsZXZlbH06YCwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGZhbGxiYWNrO1xyXG4gIH07XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT0gVk9DQUJVTEFJUkUgLSBDT1JSRUNUSU9OIFBSSU5DSVBBTEUgPT09PT09PT09PT09PT09PT09PVxyXG4gIFxyXG4gIGNvbnN0IGNhbGN1bGF0ZVZvY2FidWxhcnlQcm9ncmVzcyA9IGFzeW5jIChsZXZlbCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgc3RvcmFnZUtleSA9IGB2b2NhYnVsYXJ5XyR7bGV2ZWx9X2NsYXNzaWNgO1xyXG4gICAgICBjb25zdCBzYXZlZERhdGEgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5KTtcclxuICAgICAgXHJcbiAgICAgIGlmICghc2F2ZWREYXRhKSByZXR1cm4gMDtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHNhdmVkRGF0YSk7XHJcbiAgICAgIGNvbnN0IGNvbXBsZXRlZFdvcmRzID0gZGF0YS5jb21wbGV0ZWRXb3JkcyB8fCB7fTtcclxuICAgICAgXHJcbiAgICAgIC8vIOKchSBGSVggOiBSw6ljdXDDqXJlciBsZXMgVlJBSUVTIGRvbm7DqWVzIGNvbW1lIHVzZVZvY2FidWxhcnkuanNcclxuICAgICAgY29uc3Qgdm9jYWJ1bGFyeURhdGEgPSBnZXRWb2NhYnVsYXJ5RGF0YShsZXZlbCwgJ2NsYXNzaWMnKTtcclxuICAgICAgaWYgKCF2b2NhYnVsYXJ5RGF0YT8uZXhlcmNpc2VzKSByZXR1cm4gMDtcclxuICAgICAgXHJcbiAgICAgIC8vIOKchSBGSVggOiBDYWxjdWwgcsOpZWwgZHUgdG90YWwgY29tbWUgbGlnbmUgMTY4IGRlIHVzZVZvY2FidWxhcnkuanNcclxuICAgICAgY29uc3QgdG90YWxXb3JkcyA9IHZvY2FidWxhcnlEYXRhLmV4ZXJjaXNlcy5yZWR1Y2UoKHN1bSwgY2F0KSA9PiBcclxuICAgICAgICBzdW0gKyAoY2F0LndvcmRzPy5sZW5ndGggfHwgMCksIDBcclxuICAgICAgKTtcclxuICAgICAgXHJcbiAgICAgIC8vIENvbXB0ZXIgbW90cyBjb21wbMOpdMOpc1xyXG4gICAgICBsZXQgY29tcGxldGVkQ291bnQgPSAwO1xyXG4gICAgICBPYmplY3QudmFsdWVzKGNvbXBsZXRlZFdvcmRzKS5mb3JFYWNoKGNhdGVnb3J5V29yZHMgPT4ge1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNhdGVnb3J5V29yZHMpKSB7XHJcbiAgICAgICAgICBjb21wbGV0ZWRDb3VudCArPSBjYXRlZ29yeVdvcmRzLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgLy8g4pyFIEZJWCA6IENhbGN1bCBjb3JyZWN0IGF1IGxpZXUgZGUgY29uc3RhbnRlIGJpZG9uXHJcbiAgICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSB0b3RhbFdvcmRzID4gMCA/IChjb21wbGV0ZWRDb3VudCAvIHRvdGFsV29yZHMpICogMTAwIDogMDtcclxuICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgucm91bmQocGVyY2VudGFnZSksIDEwMCk7XHJcbiAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgLy8g4pyFIEdlc3Rpb24gZCdlcnJldXIgYXBwcm9wcmnDqWVcclxuICAgICAgcmV0dXJuIGhhbmRsZVByb2dyZXNzRXJyb3IoZXJyb3IsICdjYWxjdWxhdGVWb2NhYnVsYXJ5UHJvZ3Jlc3MnLCBsZXZlbCwgMCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gVk9DQUJVTEFSWSBGQVNUXHJcbiAgY29uc3QgY2FsY3VsYXRlVm9jYWJ1bGFyeUZhc3RQcm9ncmVzcyA9IGFzeW5jIChsZXZlbCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgc3RvcmFnZUtleSA9IGB2b2NhYnVsYXJ5XyR7bGV2ZWx9X2Zhc3RgO1xyXG4gICAgICBjb25zdCBzYXZlZERhdGEgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5KTtcclxuICAgICAgXHJcbiAgICAgIGlmICghc2F2ZWREYXRhKSByZXR1cm4gMDtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHNhdmVkRGF0YSk7XHJcbiAgICAgIGNvbnN0IGNvbXBsZXRlZFdvcmRzID0gZGF0YS5jb21wbGV0ZWRXb3JkcyB8fCB7fTtcclxuICAgICAgXHJcbiAgICAgIC8vIOKchSBNw6ptZSBmaXggcG91ciBmYXN0XHJcbiAgICAgIGNvbnN0IHZvY2FidWxhcnlEYXRhID0gZ2V0Vm9jYWJ1bGFyeURhdGEobGV2ZWwsICdmYXN0Jyk7XHJcbiAgICAgIGlmICghdm9jYWJ1bGFyeURhdGE/LmV4ZXJjaXNlcykgcmV0dXJuIDA7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB0b3RhbFdvcmRzID0gdm9jYWJ1bGFyeURhdGEuZXhlcmNpc2VzLnJlZHVjZSgoc3VtLCBjYXQpID0+IFxyXG4gICAgICAgIHN1bSArIChjYXQud29yZHM/Lmxlbmd0aCB8fCAwKSwgMFxyXG4gICAgICApO1xyXG4gICAgICBcclxuICAgICAgbGV0IGNvbXBsZXRlZENvdW50ID0gMDtcclxuICAgICAgT2JqZWN0LnZhbHVlcyhjb21wbGV0ZWRXb3JkcykuZm9yRWFjaChjYXRlZ29yeVdvcmRzID0+IHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjYXRlZ29yeVdvcmRzKSkge1xyXG4gICAgICAgICAgY29tcGxldGVkQ291bnQgKz0gY2F0ZWdvcnlXb3Jkcy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSB0b3RhbFdvcmRzID4gMCA/IChjb21wbGV0ZWRDb3VudCAvIHRvdGFsV29yZHMpICogMTAwIDogMDtcclxuICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgucm91bmQocGVyY2VudGFnZSksIDEwMCk7XHJcbiAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgLy8g4pyFIEdlc3Rpb24gZCdlcnJldXIgYXBwcm9wcmnDqWVcclxuICAgICAgcmV0dXJuIGhhbmRsZVByb2dyZXNzRXJyb3IoZXJyb3IsICdjYWxjdWxhdGVWb2NhYnVsYXJ5RmFzdFByb2dyZXNzJywgbGV2ZWwsIDApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIEdSQU1NQVJcclxuICBjb25zdCBjYWxjdWxhdGVHcmFtbWFyUHJvZ3Jlc3MgPSBhc3luYyAobGV2ZWwpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHN0b3JhZ2VLZXkgPSBgZ3JhbW1hcl8ke2xldmVsfWA7XHJcbiAgICAgIGNvbnN0IHNhdmVkRGF0YSA9IGF3YWl0IEFzeW5jU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkpO1xyXG4gICAgICBcclxuICAgICAgaWYgKCFzYXZlZERhdGEpIHJldHVybiAwO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2Uoc2F2ZWREYXRhKTtcclxuICAgICAgY29uc3QgY29tcGxldGVkRXhlcmNpc2VzID0gZGF0YS5jb21wbGV0ZWRFeGVyY2lzZXMgfHwge307XHJcbiAgICAgIFxyXG4gICAgICBsZXQgY29tcGxldGVkQ291bnQgPSAwO1xyXG4gICAgICBPYmplY3QudmFsdWVzKGNvbXBsZXRlZEV4ZXJjaXNlcykuZm9yRWFjaChleGVyY2lzZUluZGljZXMgPT4ge1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGV4ZXJjaXNlSW5kaWNlcykpIHtcclxuICAgICAgICAgIGNvbXBsZXRlZENvdW50ICs9IGV4ZXJjaXNlSW5kaWNlcy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIC8vIEVzdGltYXRpb24gcsOpYWxpc3RlICjDoCBhanVzdGVyIHNlbG9uIHZvcyB2cmFpZXMgZG9ubsOpZXMpXHJcbiAgICAgIGNvbnN0IEVYRVJDSVNFU19QRVJfTEVWRUwgPSAyMDtcclxuICAgICAgY29uc3QgcGVyY2VudGFnZSA9IChjb21wbGV0ZWRDb3VudCAvIEVYRVJDSVNFU19QRVJfTEVWRUwpICogMTAwO1xyXG4gICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5yb3VuZChwZXJjZW50YWdlKSwgMTAwKTtcclxuICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAvLyDinIUgR2VzdGlvbiBkJ2VycmV1ciBhcHByb3ByacOpZVxyXG4gICAgICByZXR1cm4gaGFuZGxlUHJvZ3Jlc3NFcnJvcihlcnJvciwgJ2NhbGN1bGF0ZUdyYW1tYXJQcm9ncmVzcycsIGxldmVsLCAwKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBSRUFESU5HXHJcbiAgY29uc3QgY2FsY3VsYXRlUmVhZGluZ1Byb2dyZXNzID0gYXN5bmMgKGxldmVsKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBzdG9yYWdlS2V5ID0gYHJlYWRpbmdfJHtsZXZlbH1gO1xyXG4gICAgICBjb25zdCBzYXZlZERhdGEgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5KTtcclxuICAgICAgXHJcbiAgICAgIGlmICghc2F2ZWREYXRhKSByZXR1cm4gMDtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHNhdmVkRGF0YSk7XHJcbiAgICAgIGNvbnN0IGNvbXBsZXRlZFF1ZXN0aW9ucyA9IGRhdGEuY29tcGxldGVkUXVlc3Rpb25zIHx8IHt9O1xyXG4gICAgICBcclxuICAgICAgbGV0IGNvbXBsZXRlZENvdW50ID0gMDtcclxuICAgICAgT2JqZWN0LnZhbHVlcyhjb21wbGV0ZWRRdWVzdGlvbnMpLmZvckVhY2gocXVlc3Rpb25JbmRpY2VzID0+IHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShxdWVzdGlvbkluZGljZXMpKSB7XHJcbiAgICAgICAgICBjb21wbGV0ZWRDb3VudCArPSBxdWVzdGlvbkluZGljZXMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBRVUVTVElPTlNfUEVSX0xFVkVMID0gMTU7XHJcbiAgICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSAoY29tcGxldGVkQ291bnQgLyBRVUVTVElPTlNfUEVSX0xFVkVMKSAqIDEwMDtcclxuICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgucm91bmQocGVyY2VudGFnZSksIDEwMCk7XHJcbiAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgLy8g4pyFIEdlc3Rpb24gZCdlcnJldXIgYXBwcm9wcmnDqWVcclxuICAgICAgcmV0dXJuIGhhbmRsZVByb2dyZXNzRXJyb3IoZXJyb3IsICdjYWxjdWxhdGVSZWFkaW5nUHJvZ3Jlc3MnLCBsZXZlbCwgMCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gU1BFTExJTkdcclxuICBjb25zdCBjYWxjdWxhdGVTcGVsbGluZ1Byb2dyZXNzID0gYXN5bmMgKGxldmVsKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBzdG9yYWdlS2V5ID0gYHNwZWxsaW5nXyR7bGV2ZWx9X2NvcnJlY3Rpb25gO1xyXG4gICAgICBjb25zdCBzYXZlZERhdGEgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5KTtcclxuICAgICAgXHJcbiAgICAgIGlmICghc2F2ZWREYXRhKSByZXR1cm4gMDtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHNhdmVkRGF0YSk7XHJcbiAgICAgIGNvbnN0IGNvbXBsZXRlZEV4ZXJjaXNlcyA9IGRhdGEuY29tcGxldGVkRXhlcmNpc2VzIHx8IFtdO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgRVhFUkNJU0VTX1BFUl9MRVZFTCA9IDI1O1xyXG4gICAgICBjb25zdCBwZXJjZW50YWdlID0gKGNvbXBsZXRlZEV4ZXJjaXNlcy5sZW5ndGggLyBFWEVSQ0lTRVNfUEVSX0xFVkVMKSAqIDEwMDtcclxuICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgucm91bmQocGVyY2VudGFnZSksIDEwMCk7XHJcbiAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIGhhbmRsZVByb2dyZXNzRXJyb3IoZXJyb3IsICdjYWxjdWxhdGVTcGVsbGluZ1Byb2dyZXNzJywgbGV2ZWwsIDApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIFBIUkFTRVNcclxuICBjb25zdCBjYWxjdWxhdGVQaHJhc2VzUHJvZ3Jlc3MgPSBhc3luYyAobGV2ZWwpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHN0b3JhZ2VLZXkgPSBgcGhyYXNlc18ke2xldmVsfWA7XHJcbiAgICAgIGNvbnN0IHNhdmVkRGF0YSA9IGF3YWl0IEFzeW5jU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkpO1xyXG4gICAgICBcclxuICAgICAgaWYgKCFzYXZlZERhdGEpIHJldHVybiAwO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2Uoc2F2ZWREYXRhKTtcclxuICAgICAgY29uc3QgY29tcGxldGVkUGhyYXNlcyA9IGRhdGEuY29tcGxldGVkUGhyYXNlcyB8fCB7fTtcclxuICAgICAgXHJcbiAgICAgIGxldCBjb21wbGV0ZWRDb3VudCA9IDA7XHJcbiAgICAgIE9iamVjdC52YWx1ZXMoY29tcGxldGVkUGhyYXNlcykuZm9yRWFjaChwaHJhc2VJbmRpY2VzID0+IHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwaHJhc2VJbmRpY2VzKSkge1xyXG4gICAgICAgICAgY29tcGxldGVkQ291bnQgKz0gcGhyYXNlSW5kaWNlcy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IFBIUkFTRVNfUEVSX0xFVkVMID0gMzA7XHJcbiAgICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSAoY29tcGxldGVkQ291bnQgLyBQSFJBU0VTX1BFUl9MRVZFTCkgKiAxMDA7XHJcbiAgICAgIHJldHVybiBNYXRoLm1pbihNYXRoLnJvdW5kKHBlcmNlbnRhZ2UpLCAxMDApO1xyXG4gICAgICBcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiBoYW5kbGVQcm9ncmVzc0Vycm9yKGVycm9yLCAnY2FsY3VsYXRlUGhyYXNlc1Byb2dyZXNzJywgbGV2ZWwsIDApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIENPTlZFUlNBVElPTlNcclxuICBjb25zdCBjYWxjdWxhdGVDb252ZXJzYXRpb25zUHJvZ3Jlc3MgPSBhc3luYyAobGV2ZWwpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHN0b3JhZ2VLZXkgPSBgY29udmVyc2F0aW9uXyR7bGV2ZWx9YDtcclxuICAgICAgY29uc3Qgc2F2ZWREYXRhID0gYXdhaXQgQXN5bmNTdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleSk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXNhdmVkRGF0YSkgcmV0dXJuIDA7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShzYXZlZERhdGEpO1xyXG4gICAgICBjb25zdCBjb21wbGV0ZWRTY2VuYXJpb3MgPSBkYXRhLmNvbXBsZXRlZFNjZW5hcmlvcyB8fCB7fTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGNvbXBsZXRlZENvdW50ID0gT2JqZWN0LnZhbHVlcyhjb21wbGV0ZWRTY2VuYXJpb3MpLmZpbHRlcihzY2VuYXJpbyA9PiBcclxuICAgICAgICBzY2VuYXJpbyAmJiAoc2NlbmFyaW8uY29tcGxldGVkIHx8IHNjZW5hcmlvLmNvbXBsZXRlZEF0KVxyXG4gICAgICApLmxlbmd0aDtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IENPTlZFUlNBVElPTlNfUEVSX0xFVkVMID0gODtcclxuICAgICAgY29uc3QgcGVyY2VudGFnZSA9IChjb21wbGV0ZWRDb3VudCAvIENPTlZFUlNBVElPTlNfUEVSX0xFVkVMKSAqIDEwMDtcclxuICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgucm91bmQocGVyY2VudGFnZSksIDEwMCk7XHJcbiAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIGhhbmRsZVByb2dyZXNzRXJyb3IoZXJyb3IsICdjYWxjdWxhdGVDb252ZXJzYXRpb25zUHJvZ3Jlc3MnLCBsZXZlbCwgMCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gRVJST1IgQ09SUkVDVElPTlxyXG4gIGNvbnN0IGNhbGN1bGF0ZUVycm9yQ29ycmVjdGlvblByb2dyZXNzID0gYXN5bmMgKGxldmVsKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBzdG9yYWdlS2V5ID0gYGVycm9yX2NvcnJlY3Rpb25fJHtsZXZlbH1gO1xyXG4gICAgICBjb25zdCBzYXZlZERhdGEgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5KTtcclxuICAgICAgXHJcbiAgICAgIGlmICghc2F2ZWREYXRhKSByZXR1cm4gMDtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHNhdmVkRGF0YSk7XHJcbiAgICAgIGNvbnN0IGNvbXBsZXRlZEV4ZXJjaXNlcyA9IGRhdGEuY29tcGxldGVkRXhlcmNpc2VzIHx8IHt9O1xyXG4gICAgICBcclxuICAgICAgbGV0IGNvbXBsZXRlZENvdW50ID0gMDtcclxuICAgICAgT2JqZWN0LnZhbHVlcyhjb21wbGV0ZWRFeGVyY2lzZXMpLmZvckVhY2goZXhlcmNpc2VJbmRpY2VzID0+IHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShleGVyY2lzZUluZGljZXMpKSB7XHJcbiAgICAgICAgICBjb21wbGV0ZWRDb3VudCArPSBleGVyY2lzZUluZGljZXMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBFWEVSQ0lTRVNfUEVSX0xFVkVMID0gMjA7XHJcbiAgICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSAoY29tcGxldGVkQ291bnQgLyBFWEVSQ0lTRVNfUEVSX0xFVkVMKSAqIDEwMDtcclxuICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgucm91bmQocGVyY2VudGFnZSksIDEwMCk7XHJcbiAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIGhhbmRsZVByb2dyZXNzRXJyb3IoZXJyb3IsICdjYWxjdWxhdGVFcnJvckNvcnJlY3Rpb25Qcm9ncmVzcycsIGxldmVsLCAwKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBXT1JEIEdBTUVTXHJcbiAgY29uc3QgY2FsY3VsYXRlV29yZEdhbWVzUHJvZ3Jlc3MgPSBhc3luYyAobGV2ZWwpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHN0b3JhZ2VLZXkgPSBgd29yZF9nYW1lc19jb21wbGV0ZWRfJHtsZXZlbH1gO1xyXG4gICAgICBjb25zdCBzYXZlZERhdGEgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5KTtcclxuICAgICAgXHJcbiAgICAgIGlmICghc2F2ZWREYXRhKSByZXR1cm4gMDtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHNhdmVkRGF0YSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjb21wbGV0ZWRDb3VudCA9IE9iamVjdC52YWx1ZXMoZGF0YSkuZmlsdGVyKGdhbWUgPT4gXHJcbiAgICAgICAgZ2FtZT8uY29tcGxldGVkXHJcbiAgICAgICkubGVuZ3RoO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgR0FNRVNfUEVSX0xFVkVMID0gMTA7XHJcbiAgICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSAoY29tcGxldGVkQ291bnQgLyBHQU1FU19QRVJfTEVWRUwpICogMTAwO1xyXG4gICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5yb3VuZChwZXJjZW50YWdlKSwgMTAwKTtcclxuICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZXR1cm4gaGFuZGxlUHJvZ3Jlc3NFcnJvcihlcnJvciwgJ2NhbGN1bGF0ZVdvcmRHYW1lc1Byb2dyZXNzJywgbGV2ZWwsIDApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIEFTU0VTU01FTlRcclxuICBjb25zdCBjYWxjdWxhdGVBc3Nlc3NtZW50UHJvZ3Jlc3MgPSBhc3luYyAobGV2ZWwpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHN0b3JhZ2VLZXkgPSBgYXNzZXNzbWVudF9yZXN1bHRzXyR7bGV2ZWx9YDtcclxuICAgICAgY29uc3Qgc2F2ZWREYXRhID0gYXdhaXQgQXN5bmNTdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleSk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXNhdmVkRGF0YSkgcmV0dXJuIDA7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShzYXZlZERhdGEpO1xyXG4gICAgICByZXR1cm4gZGF0YS5jb21wbGV0ZWRBdCA/IDEwMCA6IDA7XHJcbiAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIGhhbmRsZVByb2dyZXNzRXJyb3IoZXJyb3IsICdjYWxjdWxhdGVBc3Nlc3NtZW50UHJvZ3Jlc3MnLCBsZXZlbCwgMCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PSBDQUxDVUwgR0xPQkFMID09PT09PT09PT09PT09PT09PT1cclxuICBjb25zdCBjYWxjdWxhdGVQcm9ncmVzcyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IG5ld0xldmVsUHJvZ3Jlc3MgPSB7fTtcclxuICAgICAgY29uc3QgbmV3RXhlcmNpc2VQcm9ncmVzcyA9IHt9O1xyXG5cclxuICAgICAgY29uc3QgbGV2ZWxzID0gWycxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICdib251cyddO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgZXhlcmNpc2VDYWxjdWxhdG9ycyA9IHtcclxuICAgICAgICB2b2NhYnVsYXJ5OiBjYWxjdWxhdGVWb2NhYnVsYXJ5UHJvZ3Jlc3MsXHJcbiAgICAgICAgdm9jYWJ1bGFyeV9mYXN0OiBjYWxjdWxhdGVWb2NhYnVsYXJ5RmFzdFByb2dyZXNzLFxyXG4gICAgICAgIGdyYW1tYXI6IGNhbGN1bGF0ZUdyYW1tYXJQcm9ncmVzcyxcclxuICAgICAgICByZWFkaW5nOiBjYWxjdWxhdGVSZWFkaW5nUHJvZ3Jlc3MsXHJcbiAgICAgICAgc3BlbGxpbmc6IGNhbGN1bGF0ZVNwZWxsaW5nUHJvZ3Jlc3MsXHJcbiAgICAgICAgcGhyYXNlczogY2FsY3VsYXRlUGhyYXNlc1Byb2dyZXNzLFxyXG4gICAgICAgIGNvbnZlcnNhdGlvbnM6IGNhbGN1bGF0ZUNvbnZlcnNhdGlvbnNQcm9ncmVzcyxcclxuICAgICAgICBlcnJvckNvcnJlY3Rpb246IGNhbGN1bGF0ZUVycm9yQ29ycmVjdGlvblByb2dyZXNzLFxyXG4gICAgICAgIHdvcmRHYW1lczogY2FsY3VsYXRlV29yZEdhbWVzUHJvZ3Jlc3MsXHJcbiAgICAgICAgYXNzZXNzbWVudDogY2FsY3VsYXRlQXNzZXNzbWVudFByb2dyZXNzLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXHJcbiAgICAgICAgbGV2ZWxzLm1hcChhc3luYyAobGV2ZWwpID0+IHtcclxuICAgICAgICAgIGNvbnN0IGF2YWlsYWJsZUV4ZXJjaXNlcyA9IGxldmVsID09PSAnYm9udXMnXHJcbiAgICAgICAgICAgID8gWydyZWFkaW5nJywgJ3ZvY2FidWxhcnknLCAncGhyYXNlcyddXHJcbiAgICAgICAgICAgIDogT2JqZWN0LmtleXMoZXhlcmNpc2VDYWxjdWxhdG9ycyk7XHJcblxyXG4gICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKFxyXG4gICAgICAgICAgICBhdmFpbGFibGVFeGVyY2lzZXMubWFwKGFzeW5jIChleGVyY2lzZVR5cGUpID0+IHtcclxuICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2FsY3VsYXRvciA9IGV4ZXJjaXNlQ2FsY3VsYXRvcnNbZXhlcmNpc2VUeXBlXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgY2FsY3VsYXRvcihsZXZlbCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyBleGVyY2lzZVR5cGUsIHZhbHVlIH07XHJcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBFcnJldXIgY2FsY3VsICR7ZXhlcmNpc2VUeXBlfSBuaXZlYXUgJHtsZXZlbH06YCwgZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyBleGVyY2lzZVR5cGUsIHZhbHVlOiAwIH07XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICBsZXQgbGV2ZWxUb3RhbCA9IDA7XHJcbiAgICAgICAgICBsZXQgbGV2ZWxDb21wbGV0ZWQgPSAwO1xyXG4gICAgICAgICAgcmVzdWx0cy5mb3JFYWNoKCh7IGV4ZXJjaXNlVHlwZSwgdmFsdWUgfSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIW5ld0V4ZXJjaXNlUHJvZ3Jlc3NbZXhlcmNpc2VUeXBlXSkgbmV3RXhlcmNpc2VQcm9ncmVzc1tleGVyY2lzZVR5cGVdID0ge307XHJcbiAgICAgICAgICAgIG5ld0V4ZXJjaXNlUHJvZ3Jlc3NbZXhlcmNpc2VUeXBlXVtsZXZlbF0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgbGV2ZWxUb3RhbCArPSAxMDA7XHJcbiAgICAgICAgICAgIGxldmVsQ29tcGxldGVkICs9IHZhbHVlO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgbmV3TGV2ZWxQcm9ncmVzc1tsZXZlbF0gPSBsZXZlbFRvdGFsID4gMFxyXG4gICAgICAgICAgICA/IE1hdGgucm91bmQoKGxldmVsQ29tcGxldGVkIC8gbGV2ZWxUb3RhbCkgKiAxMDApXHJcbiAgICAgICAgICAgIDogMDtcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG5cclxuICAgICAgc2V0TGV2ZWxQcm9ncmVzcyhuZXdMZXZlbFByb2dyZXNzKTtcclxuICAgICAgc2V0RXhlcmNpc2VQcm9ncmVzcyhuZXdFeGVyY2lzZVByb2dyZXNzKTtcclxuICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJldXIgY2FsY3VsIHByb2dyZXNzaW9uOicsIGVycm9yKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09IEdFVFRFUlMgPT09PT09PT09PT09PT09PT09PVxyXG4gIFxyXG4gIGNvbnN0IGdldExldmVsUHJvZ3Jlc3MgPSB1c2VDYWxsYmFjaygobGV2ZWwpID0+IHtcclxuICAgIHJldHVybiBsZXZlbFByb2dyZXNzW2xldmVsXSB8fCAwO1xyXG4gIH0sIFtsZXZlbFByb2dyZXNzXSk7XHJcblxyXG4gIGNvbnN0IGdldEV4ZXJjaXNlUHJvZ3Jlc3MgPSB1c2VDYWxsYmFjaygoZXhlcmNpc2VUeXBlLCBsZXZlbCkgPT4ge1xyXG4gICAgcmV0dXJuIGV4ZXJjaXNlUHJvZ3Jlc3NbZXhlcmNpc2VUeXBlXT8uW2xldmVsXSB8fCAwO1xyXG4gIH0sIFtleGVyY2lzZVByb2dyZXNzXSk7XHJcblxyXG4gIGNvbnN0IGhhc1Byb2dyZXNzID0gdXNlQ2FsbGJhY2soKGV4ZXJjaXNlVHlwZSwgbGV2ZWwpID0+IHtcclxuICAgIHJldHVybiBnZXRFeGVyY2lzZVByb2dyZXNzKGV4ZXJjaXNlVHlwZSwgbGV2ZWwpID4gMDtcclxuICB9LCBbZ2V0RXhlcmNpc2VQcm9ncmVzc10pO1xyXG5cclxuICBjb25zdCBoYXNWb2NhYnVsYXJ5U3RhcnRlZCA9IHVzZUNhbGxiYWNrKChsZXZlbCkgPT4ge1xyXG4gICAgcmV0dXJuIGhhc1Byb2dyZXNzKCd2b2NhYnVsYXJ5JywgbGV2ZWwpO1xyXG4gIH0sIFtoYXNQcm9ncmVzc10pO1xyXG5cclxuICBjb25zdCBoYXNWb2NhYnVsYXJ5RmFzdFN0YXJ0ZWQgPSB1c2VDYWxsYmFjaygobGV2ZWwpID0+IHtcclxuICAgIHJldHVybiBoYXNQcm9ncmVzcygndm9jYWJ1bGFyeV9mYXN0JywgbGV2ZWwpO1xyXG4gIH0sIFtoYXNQcm9ncmVzc10pO1xyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09IElOSVQgPT09PT09PT09PT09PT09PT09PVxyXG4gIFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjYWxjdWxhdGVQcm9ncmVzcygpO1xyXG4gIH0sIFtjYWxjdWxhdGVQcm9ncmVzc10pO1xyXG5cclxuICBjb25zdCByZWZyZXNoID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgY2FsY3VsYXRlUHJvZ3Jlc3MoKTtcclxuICB9LCBbY2FsY3VsYXRlUHJvZ3Jlc3NdKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGxldmVsUHJvZ3Jlc3MsXHJcbiAgICBleGVyY2lzZVByb2dyZXNzLFxyXG4gICAgaXNMb2FkaW5nLFxyXG4gICAgZ2V0TGV2ZWxQcm9ncmVzcyxcclxuICAgIGdldEV4ZXJjaXNlUHJvZ3Jlc3MsXHJcbiAgICBoYXNQcm9ncmVzcyxcclxuICAgIGhhc1ZvY2FidWxhcnlTdGFydGVkLFxyXG4gICAgaGFzVm9jYWJ1bGFyeUZhc3RTdGFydGVkLFxyXG4gICAgcmVmcmVzaCxcclxuICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlUmVhbFRpbWVQcm9ncmVzczsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFQSxJQUFBQSxNQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxhQUFBLEdBQUFDLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBRyxxQkFBQSxHQUFBSCxPQUFBO0FBRUEsSUFBTUksbUJBQW1CLEdBQUcsU0FBdEJBLG1CQUFtQkEsQ0FBQSxFQUFTO0VBQ2hDLElBQUFDLFNBQUEsR0FBMEMsSUFBQUMsZUFBUSxFQUFDLENBQUMsQ0FBQyxDQUFDO0lBQUFDLFVBQUEsT0FBQUMsZUFBQSxDQUFBQyxPQUFBLEVBQUFKLFNBQUE7SUFBL0NLLGFBQWEsR0FBQUgsVUFBQTtJQUFFSSxnQkFBZ0IsR0FBQUosVUFBQTtFQUN0QyxJQUFBSyxVQUFBLEdBQWdELElBQUFOLGVBQVEsRUFBQyxDQUFDLENBQUMsQ0FBQztJQUFBTyxVQUFBLE9BQUFMLGVBQUEsQ0FBQUMsT0FBQSxFQUFBRyxVQUFBO0lBQXJERSxnQkFBZ0IsR0FBQUQsVUFBQTtJQUFFRSxtQkFBbUIsR0FBQUYsVUFBQTtFQUM1QyxJQUFBRyxVQUFBLEdBQWtDLElBQUFWLGVBQVEsRUFBQyxJQUFJLENBQUM7SUFBQVcsVUFBQSxPQUFBVCxlQUFBLENBQUFDLE9BQUEsRUFBQU8sVUFBQTtJQUF6Q0UsU0FBUyxHQUFBRCxVQUFBO0lBQUVFLFlBQVksR0FBQUYsVUFBQTtFQUc5QixJQUFNRyxtQkFBbUIsR0FBRyxTQUF0QkEsbUJBQW1CQSxDQUFJQyxLQUFLLEVBQUVDLFNBQVMsRUFBRUMsS0FBSyxFQUFtQjtJQUFBLElBQWpCQyxRQUFRLEdBQUFDLFNBQUEs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QUMscUJBQTlCVyxxQkFBQSxDQUFpQ3hILEtBQUssQ0FBQyxLQUFJLENBQUM7RUFDckQsQ0FBQyxFQUFFLENBQUNULGdCQUFnQixDQUFDLENBQUM7RUFFdEIsSUFBTWtJLFdBQVcsR0FBRyxJQUFBbkMsa0JBQVcsRUFBQyxVQUFDdUIsWUFBWSxFQUFFN0csS0FBSyxFQUFLO0lBQ3ZELE9BQU91SCxtQkFBbUIsQ0FBQ1YsWUFBWSxFQUFFN0csS0FBSyxDQUFDLEdBQUcsQ0FBQztFQUNyRCxDQUFDLEVBQUUsQ0FBQ3VILG1CQUFtQixDQUFDLENBQUM7RUFFekIsSUFBTUcsb0JBQW9CLEdBQUcsSUFBQXBDLGtCQUFXLEVBQUMsVUFBQ3RGLEtBQUssRUFBSztJQUNsRCxPQUFPeUgsV0FBVyxDQUFDLFlBQVksRUFBRXpILEtBQUssQ0FBQztFQUN6QyxDQUFDLEVBQUUsQ0FBQ3lILFdBQVcsQ0FBQyxDQUFDO0VBRWpCLElBQU1FLHdCQUF3QixHQUFHLElBQUFyQyxrQkFBVyxFQUFDLFVBQUN0RixLQUFLLEVBQUs7SUFDdEQsT0FBT3lILFdBQVcsQ0FBQyxpQkFBaUIsRUFBRXpILEtBQUssQ0FBQztFQUM5QyxDQUFDLEVBQUUsQ0FBQ3lILFdBQVcsQ0FBQyxDQUFDO0VBSWpCLElBQUFHLGdCQUFTLEVBQUMsWUFBTTtJQUNkdkMsaUJBQWlCLENBQUMsQ0FBQztFQUNyQixDQUFDLEVBQUUsQ0FBQ0EsaUJBQWlCLENBQUMsQ0FBQztFQUV2QixJQUFNd0MsT0FBTyxHQUFHLElBQUF2QyxrQkFBVyxFQUFDLFlBQU07SUFDaENELGlCQUFpQixDQUFDLENBQUM7RUFDckIsQ0FBQyxFQUFFLENBQUNBLGlCQUFpQixDQUFDLENBQUM7RUFFdkIsT0FBTztJQUNMbEcsYUFBYSxFQUFiQSxhQUFhO0lBQ2JJLGdCQUFnQixFQUFoQkEsZ0JBQWdCO0lBQ2hCSSxTQUFTLEVBQVRBLFNBQVM7SUFDVDJILGdCQUFnQixFQUFoQkEsZ0JBQWdCO0lBQ2hCQyxtQkFBbUIsRUFBbkJBLG1CQUFtQjtJQUNuQkUsV0FBVyxFQUFYQSxXQUFXO0lBQ1hDLG9CQUFvQixFQUFwQkEsb0JBQW9CO0lBQ3BCQyx3QkFBd0IsRUFBeEJBLHdCQUF3QjtJQUN4QkUsT0FBTyxFQUFQQTtFQUNGLENBQUM7QUFDSCxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUE3SSxPQUFBLEdBRWFMLG1CQUFtQiIsImlnbm9yZUxpc3QiOltdfQ==