706a3d57f488571ffdc9756a7e30dd5b
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.disableLock = disableLock;
exports.emergencyReset = emergencyReset;
exports.enableLock = enableLock;
exports.generateRecoveryCode = generateRecoveryCode;
exports.getAutoLockTimeout = getAutoLockTimeout;
exports.isBiometricsEnabled = isBiometricsEnabled;
exports.isEnabled = isEnabled;
exports.lockStorageKeys = void 0;
exports.setAutoLockTimeout = setAutoLockTimeout;
exports.setBiometricsEnabled = setBiometricsEnabled;
exports.setPin = setPin;
exports.setRecoveryCode = setRecoveryCode;
exports.unlockWithBiometrics = unlockWithBiometrics;
exports.verifyPin = verifyPin;
exports.verifyRecovery = verifyRecovery;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _expoCrypto = require("expo-crypto");
var STORAGE_KEYS = {
  ENABLED: 'app_lock.enabled',
  PIN_HASH: 'app_lock.pin_hash',
  PIN_SALT: 'app_lock.pin_salt',
  BIO_ENABLED: 'app_lock.bio_enabled',
  RECOVERY_HASH: 'app_lock.recovery_hash',
  TIMEOUT_SECONDS: 'app_lock.timeout_seconds',
  LOCKOUT_UNTIL: 'app_lock.lockout_until',
  FAILED_ATTEMPTS: 'app_lock.failed_attempts'
};
function simpleHash(input) {
  var hash = 0;
  var str = String(input);
  for (var i = 0; i < str.length; i += 1) {
    hash = (hash << 5) - hash + str.charCodeAt(i);
    hash |= 0;
  }
  return Math.abs(hash).toString(16);
}
function getSecureRandomBytes(_x) {
  return _getSecureRandomBytes.apply(this, arguments);
}
function _getSecureRandomBytes() {
  _getSecureRandomBytes = (0, _asyncToGenerator2.default)(function* (length) {
    try {
      return yield (0, _expoCrypto.getRandomBytes)(length);
    } catch (error) {
      console.warn('expo-crypto failed, trying Web Crypto API:', error);
      try {
        if (typeof crypto !== 'undefined' && crypto.getRandomValues) {
          var randomValues = new Uint8Array(length);
          crypto.getRandomValues(randomValues);
          return randomValues;
        }
      } catch (webCryptoError) {
        console.warn('Web Crypto API failed:', webCryptoError);
      }
      try {
        if (typeof require !== 'undefined') {
          var nodeCrypto = require('crypto');
          return nodeCrypto.randomBytes(length);
        }
      } catch (nodeCryptoError) {
        console.warn('Node.js crypto failed:', nodeCryptoError);
      }
      throw new Error('No secure random source available');
    }
  });
  return _getSecureRandomBytes.apply(this, arguments);
}
function secureRandomSalt() {
  return _secureRandomSalt.apply(this, arguments);
}
function _secureRandomSalt() {
  _secureRandomSalt = (0, _asyncToGenerator2.default)(function* () {
    var length = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 16;
    try {
      var randomBytes = yield getSecureRandomBytes(length);
      var chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
      var out = '';
      for (var i = 0; i < length; i += 1) {
        var randomIndex = randomBytes[i] % chars.length;
        out += chars[randomIndex];
      }
      return out;
    } catch (error) {
      console.error('All secure random methods failed, using Math.random as last resort:', error);
      return fallbackRandomSalt(length);
    }
  });
  return _secureRandomSalt.apply(this, arguments);
}
function fallbackRandomSalt() {
  var length = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 16;
  var chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
  var out = '';
  for (var i = 0; i < length; i += 1) {
    var randomIndex = Math.floor(Math.random() * chars.length);
    out += chars[randomIndex];
  }
  return out;
}
function generateRecoveryCode() {
  return _generateRecoveryCode.apply(this, arguments);
}
function _generateRecoveryCode() {
  _generateRecoveryCode = (0, _asyncToGenerator2.default)(function* () {
    try {
      var randomBytes = yield getSecureRandomBytes(16);
      var chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
      var code = '';
      for (var i = 0; i < 16; i += 1) {
        var randomIndex = randomBytes[i] % chars.length;
        code += chars[randomIndex];
      }
      return code;
    } catch (error) {
      console.error('All secure random methods failed, using Math.random as last resort:', error);
      return fallbackGenerateRecoveryCode();
    }
  });
  return _generateRecoveryCode.apply(this, arguments);
}
function fallbackGenerateRecoveryCode() {
  var chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
  var code = '';
  for (var i = 0; i < 16; i += 1) {
    var randomIndex = Math.floor(Math.random() * chars.length);
    code += chars[randomIndex];
  }
  return code;
}
function isEnabled() {
  return _isEnabled.apply(this, arguments);
}
function _isEnabled() {
  _isEnabled = (0, _asyncToGenerator2.default)(function* () {
    var enabled = yield _asyncStorage.default.getItem(STORAGE_KEYS.ENABLED);
    return enabled === '1';
  });
  return _isEnabled.apply(this, arguments);
}
function enableLock() {
  return _enableLock.apply(this, arguments);
}
function _enableLock() {
  _enableLock = (0, _asyncToGenerator2.default)(function* () {
    yield _asyncStorage.default.setItem(STORAGE_KEYS.ENABLED, '1');
    return true;
  });
  return _enableLock.apply(this, arguments);
}
function disableLock() {
  return _disableLock.apply(this, arguments);
}
function _disableLock() {
  _disableLock = (0, _asyncToGenerator2.default)(function* () {
    yield _asyncStorage.default.multiRemove([STORAGE_KEYS.ENABLED, STORAGE_KEYS.PIN_HASH, STORAGE_KEYS.PIN_SALT, STORAGE_KEYS.BIO_ENABLED, STORAGE_KEYS.RECOVERY_HASH, STORAGE_KEYS.TIMEOUT_SECONDS, STORAGE_KEYS.LOCKOUT_UNTIL, STORAGE_KEYS.FAILED_ATTEMPTS]);
    return true;
  });
  return _disableLock.apply(this, arguments);
}
function setPin(_x2) {
  return _setPin.apply(this, arguments);
}
function _setPin() {
  _setPin = (0, _asyncToGenerator2.default)(function* (pin) {
    var salt = yield secureRandomSalt();
    var pinHash = simpleHash(`${salt}:${pin}`);
    yield _asyncStorage.default.setItem(STORAGE_KEYS.PIN_SALT, salt);
    yield _asyncStorage.default.setItem(STORAGE_KEYS.PIN_HASH, pinHash);
    return true;
  });
  return _setPin.apply(this, arguments);
}
function verifyPin(_x3) {
  return _verifyPin.apply(this, arguments);
}
function _verifyPin() {
  _verifyPin = (0, _asyncToGenerator2.default)(function* (pin) {
    var lockoutUntil = Number((yield _asyncStorage.default.getItem(STORAGE_KEYS.LOCKOUT_UNTIL)) || '0');
    var now = Date.now();
    if (lockoutUntil && now < lockoutUntil) {
      return {
        ok: false,
        reason: 'lockout'
      };
    }
    var salt = yield _asyncStorage.default.getItem(STORAGE_KEYS.PIN_SALT);
    var expected = yield _asyncStorage.default.getItem(STORAGE_KEYS.PIN_HASH);
    if (!salt || !expected) return {
      ok: false
    };
    var given = simpleHash(`${salt}:${pin}`);
    var ok = given === expected;
    var attempts = Number((yield _asyncStorage.default.getItem(STORAGE_KEYS.FAILED_ATTEMPTS)) || '0');
    if (ok) {
      yield _asyncStorage.default.setItem(STORAGE_KEYS.FAILED_ATTEMPTS, '0');
      return {
        ok: true
      };
    }
    attempts += 1;
    yield _asyncStorage.default.setItem(STORAGE_KEYS.FAILED_ATTEMPTS, String(attempts));
    if (attempts >= 5) {
      var lockMs = 30000 * Math.min(4, attempts - 4);
      yield _asyncStorage.default.setItem(STORAGE_KEYS.LOCKOUT_UNTIL, String(now + lockMs));
      return {
        ok: false,
        reason: 'lockout'
      };
    }
    return {
      ok: false
    };
  });
  return _verifyPin.apply(this, arguments);
}
function setBiometricsEnabled(_x4) {
  return _setBiometricsEnabled.apply(this, arguments);
}
function _setBiometricsEnabled() {
  _setBiometricsEnabled = (0, _asyncToGenerator2.default)(function* (enabled) {
    yield _asyncStorage.default.setItem(STORAGE_KEYS.BIO_ENABLED, enabled ? '1' : '0');
    return true;
  });
  return _setBiometricsEnabled.apply(this, arguments);
}
function isBiometricsEnabled() {
  return _isBiometricsEnabled.apply(this, arguments);
}
function _isBiometricsEnabled() {
  _isBiometricsEnabled = (0, _asyncToGenerator2.default)(function* () {
    var v = yield _asyncStorage.default.getItem(STORAGE_KEYS.BIO_ENABLED);
    return v === '1';
  });
  return _isBiometricsEnabled.apply(this, arguments);
}
function unlockWithBiometrics() {
  return _unlockWithBiometrics.apply(this, arguments);
}
function _unlockWithBiometrics() {
  _unlockWithBiometrics = (0, _asyncToGenerator2.default)(function* () {
    var enabled = yield isBiometricsEnabled();
    if (!enabled) return {
      ok: false
    };
    return {
      ok: true
    };
  });
  return _unlockWithBiometrics.apply(this, arguments);
}
function setRecoveryCode(_x5) {
  return _setRecoveryCode.apply(this, arguments);
}
function _setRecoveryCode() {
  _setRecoveryCode = (0, _asyncToGenerator2.default)(function* (code) {
    var hash = simpleHash(code);
    yield _asyncStorage.default.setItem(STORAGE_KEYS.RECOVERY_HASH, hash);
    return true;
  });
  return _setRecoveryCode.apply(this, arguments);
}
function verifyRecovery(_x6) {
  return _verifyRecovery.apply(this, arguments);
}
function _verifyRecovery() {
  _verifyRecovery = (0, _asyncToGenerator2.default)(function* (code) {
    var expected = yield _asyncStorage.default.getItem(STORAGE_KEYS.RECOVERY_HASH);
    if (!expected) return false;
    return simpleHash(code) === expected;
  });
  return _verifyRecovery.apply(this, arguments);
}
function setAutoLockTimeout(_x7) {
  return _setAutoLockTimeout.apply(this, arguments);
}
function _setAutoLockTimeout() {
  _setAutoLockTimeout = (0, _asyncToGenerator2.default)(function* (seconds) {
    yield _asyncStorage.default.setItem(STORAGE_KEYS.TIMEOUT_SECONDS, String(seconds));
    return true;
  });
  return _setAutoLockTimeout.apply(this, arguments);
}
function getAutoLockTimeout() {
  return _getAutoLockTimeout.apply(this, arguments);
}
function _getAutoLockTimeout() {
  _getAutoLockTimeout = (0, _asyncToGenerator2.default)(function* () {
    return Number((yield _asyncStorage.default.getItem(STORAGE_KEYS.TIMEOUT_SECONDS)) || '0');
  });
  return _getAutoLockTimeout.apply(this, arguments);
}
function emergencyReset() {
  return _emergencyReset.apply(this, arguments);
}
function _emergencyReset() {
  _emergencyReset = (0, _asyncToGenerator2.default)(function* () {
    yield disableLock();
    return true;
  });
  return _emergencyReset.apply(this, arguments);
}
var lockStorageKeys = exports.lockStorageKeys = STORAGE_KEYS;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXN5bmNTdG9yYWdlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZXhwb0NyeXB0byIsIlNUT1JBR0VfS0VZUyIsIkVOQUJMRUQiLCJQSU5fSEFTSCIsIlBJTl9TQUxUIiwiQklPX0VOQUJMRUQiLCJSRUNPVkVSWV9IQVNIIiwiVElNRU9VVF9TRUNPTkRTIiwiTE9DS09VVF9VTlRJTCIsIkZBSUxFRF9BVFRFTVBUUyIsInNpbXBsZUhhc2giLCJpbnB1dCIsImhhc2giLCJzdHIiLCJTdHJpbmciLCJpIiwibGVuZ3RoIiwiY2hhckNvZGVBdCIsIk1hdGgiLCJhYnMiLCJ0b1N0cmluZyIsImdldFNlY3VyZVJhbmRvbUJ5dGVzIiwiX3giLCJfZ2V0U2VjdXJlUmFuZG9tQnl0ZXMiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9hc3luY1RvR2VuZXJhdG9yMiIsImRlZmF1bHQiLCJnZXRSYW5kb21CeXRlcyIsImVycm9yIiwiY29uc29sZSIsIndhcm4iLCJjcnlwdG8iLCJnZXRSYW5kb21WYWx1ZXMiLCJyYW5kb21WYWx1ZXMiLCJVaW50OEFycmF5Iiwid2ViQ3J5cHRvRXJyb3IiLCJub2RlQ3J5cHRvIiwicmFuZG9tQnl0ZXMiLCJub2RlQ3J5cHRvRXJyb3IiLCJFcnJvciIsInNlY3VyZVJhbmRvbVNhbHQiLCJfc2VjdXJlUmFuZG9tU2FsdCIsInVuZGVmaW5lZCIsImNoYXJzIiwib3V0IiwicmFuZG9tSW5kZXgiLCJmYWxsYmFja1JhbmRvbVNhbHQiLCJmbG9vciIsInJhbmRvbSIsImdlbmVyYXRlUmVjb3ZlcnlDb2RlIiwiX2dlbmVyYXRlUmVjb3ZlcnlDb2RlIiwiY29kZSIsImZhbGxiYWNrR2VuZXJhdGVSZWNvdmVyeUNvZGUiLCJpc0VuYWJsZWQiLCJfaXNFbmFibGVkIiwiZW5hYmxlZCIsIkFzeW5jU3RvcmFnZSIsImdldEl0ZW0iLCJlbmFibGVMb2NrIiwiX2VuYWJsZUxvY2siLCJzZXRJdGVtIiwiZGlzYWJsZUxvY2siLCJfZGlzYWJsZUxvY2siLCJtdWx0aVJlbW92ZSIsInNldFBpbiIsIl94MiIsIl9zZXRQaW4iLCJwaW4iLCJzYWx0IiwicGluSGFzaCIsInZlcmlmeVBpbiIsIl94MyIsIl92ZXJpZnlQaW4iLCJsb2Nrb3V0VW50aWwiLCJOdW1iZXIiLCJub3ciLCJEYXRlIiwib2siLCJyZWFzb24iLCJleHBlY3RlZCIsImdpdmVuIiwiYXR0ZW1wdHMiLCJsb2NrTXMiLCJtaW4iLCJzZXRCaW9tZXRyaWNzRW5hYmxlZCIsIl94NCIsIl9zZXRCaW9tZXRyaWNzRW5hYmxlZCIsImlzQmlvbWV0cmljc0VuYWJsZWQiLCJfaXNCaW9tZXRyaWNzRW5hYmxlZCIsInYiLCJ1bmxvY2tXaXRoQmlvbWV0cmljcyIsIl91bmxvY2tXaXRoQmlvbWV0cmljcyIsInNldFJlY292ZXJ5Q29kZSIsIl94NSIsIl9zZXRSZWNvdmVyeUNvZGUiLCJ2ZXJpZnlSZWNvdmVyeSIsIl94NiIsIl92ZXJpZnlSZWNvdmVyeSIsInNldEF1dG9Mb2NrVGltZW91dCIsIl94NyIsIl9zZXRBdXRvTG9ja1RpbWVvdXQiLCJzZWNvbmRzIiwiZ2V0QXV0b0xvY2tUaW1lb3V0IiwiX2dldEF1dG9Mb2NrVGltZW91dCIsImVtZXJnZW5jeVJlc2V0IiwiX2VtZXJnZW5jeVJlc2V0IiwibG9ja1N0b3JhZ2VLZXlzIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImxvY2tTZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9zZXJ2aWNlcy9sb2NrU2VydmljZS5qcyAtIFNpbXBsZSBvZmZsaW5lIGFwcCBsb2NrIHNlcnZpY2UgKFBJTiArIHJlY292ZXJ5KVxyXG5pbXBvcnQgQXN5bmNTdG9yYWdlIGZyb20gJ0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS9hc3luYy1zdG9yYWdlJztcclxuaW1wb3J0IHsgZ2V0UmFuZG9tQnl0ZXMgfSBmcm9tICdleHBvLWNyeXB0byc7XHJcblxyXG5jb25zdCBTVE9SQUdFX0tFWVMgPSB7XHJcbiAgRU5BQkxFRDogJ2FwcF9sb2NrLmVuYWJsZWQnLFxyXG4gIFBJTl9IQVNIOiAnYXBwX2xvY2sucGluX2hhc2gnLFxyXG4gIFBJTl9TQUxUOiAnYXBwX2xvY2sucGluX3NhbHQnLFxyXG4gIEJJT19FTkFCTEVEOiAnYXBwX2xvY2suYmlvX2VuYWJsZWQnLFxyXG4gIFJFQ09WRVJZX0hBU0g6ICdhcHBfbG9jay5yZWNvdmVyeV9oYXNoJyxcclxuICBUSU1FT1VUX1NFQ09ORFM6ICdhcHBfbG9jay50aW1lb3V0X3NlY29uZHMnLFxyXG4gIExPQ0tPVVRfVU5USUw6ICdhcHBfbG9jay5sb2Nrb3V0X3VudGlsJyxcclxuICBGQUlMRURfQVRURU1QVFM6ICdhcHBfbG9jay5mYWlsZWRfYXR0ZW1wdHMnLFxyXG59O1xyXG5cclxuLy8gTk9URTogVGhpcyBpcyBub3QgY3J5cHRvZ3JhcGhpY2FsbHkgc3Ryb25nLiBGb3IgbG9jYWwgbG9jayBVWCBvbmx5LlxyXG5mdW5jdGlvbiBzaW1wbGVIYXNoKGlucHV0KSB7XHJcbiAgbGV0IGhhc2ggPSAwO1xyXG4gIGNvbnN0IHN0ciA9IFN0cmluZyhpbnB1dCk7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgIGhhc2ggPSAoaGFzaCA8PCA1KSAtIGhhc2ggKyBzdHIuY2hhckNvZGVBdChpKTtcclxuICAgIGhhc2ggfD0gMDtcclxuICB9XHJcbiAgcmV0dXJuIE1hdGguYWJzKGhhc2gpLnRvU3RyaW5nKDE2KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEfDqW7DqHJlIGRlcyBieXRlcyBhbMOpYXRvaXJlcyBjcnlwdG9ncmFwaGlxdWVtZW50IHPDu3JzXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggLSBOb21icmUgZGUgYnl0ZXMgw6AgZ8OpbsOpcmVyXHJcbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fSBCeXRlcyBhbMOpYXRvaXJlc1xyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gZ2V0U2VjdXJlUmFuZG9tQnl0ZXMobGVuZ3RoKSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIE3DqXRob2RlIDE6IGV4cG8tY3J5cHRvIChyZWNvbW1hbmTDqSlcclxuICAgIHJldHVybiBhd2FpdCBnZXRSYW5kb21CeXRlcyhsZW5ndGgpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLndhcm4oJ2V4cG8tY3J5cHRvIGZhaWxlZCwgdHJ5aW5nIFdlYiBDcnlwdG8gQVBJOicsIGVycm9yKTtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gTcOpdGhvZGUgMjogV2ViIENyeXB0byBBUElcclxuICAgICAgaWYgKHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcclxuICAgICAgICBjb25zdCByYW5kb21WYWx1ZXMgPSBuZXcgVWludDhBcnJheShsZW5ndGgpO1xyXG4gICAgICAgIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMocmFuZG9tVmFsdWVzKTtcclxuICAgICAgICByZXR1cm4gcmFuZG9tVmFsdWVzO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoICh3ZWJDcnlwdG9FcnJvcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1dlYiBDcnlwdG8gQVBJIGZhaWxlZDonLCB3ZWJDcnlwdG9FcnJvcik7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIE3DqXRob2RlIDM6IE5vZGUuanMgY3J5cHRvIChzaSBkaXNwb25pYmxlKVxyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKHR5cGVvZiByZXF1aXJlICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGNvbnN0IG5vZGVDcnlwdG8gPSByZXF1aXJlKCdjcnlwdG8nKTtcclxuICAgICAgICByZXR1cm4gbm9kZUNyeXB0by5yYW5kb21CeXRlcyhsZW5ndGgpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChub2RlQ3J5cHRvRXJyb3IpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdOb2RlLmpzIGNyeXB0byBmYWlsZWQ6Jywgbm9kZUNyeXB0b0Vycm9yKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdObyBzZWN1cmUgcmFuZG9tIHNvdXJjZSBhdmFpbGFibGUnKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHw6luw6hyZSB1biBzYWx0IGNyeXB0b2dyYXBoaXF1ZW1lbnQgc8O7clxyXG4gKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIC0gTG9uZ3VldXIgZHUgc2FsdCAoZMOpZmF1dDogMTYpXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFNhbHQgc8OpY3VyaXPDqVxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gc2VjdXJlUmFuZG9tU2FsdChsZW5ndGggPSAxNikge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByYW5kb21CeXRlcyA9IGF3YWl0IGdldFNlY3VyZVJhbmRvbUJ5dGVzKGxlbmd0aCk7XHJcbiAgICBjb25zdCBjaGFycyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMDEyMzQ1Njc4OSc7XHJcbiAgICBsZXQgb3V0ID0gJyc7XHJcbiAgICBcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgY29uc3QgcmFuZG9tSW5kZXggPSByYW5kb21CeXRlc1tpXSAlIGNoYXJzLmxlbmd0aDtcclxuICAgICAgb3V0ICs9IGNoYXJzW3JhbmRvbUluZGV4XTtcclxuICAgIH1cclxuICAgIHJldHVybiBvdXQ7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0FsbCBzZWN1cmUgcmFuZG9tIG1ldGhvZHMgZmFpbGVkLCB1c2luZyBNYXRoLnJhbmRvbSBhcyBsYXN0IHJlc29ydDonLCBlcnJvcik7XHJcbiAgICAvLyBEZXJuaWVyIHJlY291cnMgOiBNYXRoLnJhbmRvbSAobW9pbnMgc8OpY3VyaXPDqSBtYWlzIGZvbmN0aW9ubmVsKVxyXG4gICAgcmV0dXJuIGZhbGxiYWNrUmFuZG9tU2FsdChsZW5ndGgpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEZhbGxiYWNrIG1vaW5zIHPDqWN1cmlzw6kgKHV0aWxpc8OpIHVuaXF1ZW1lbnQgZW4gY2FzIGQnw6ljaGVjIGRlIHRvdXRlcyBsZXMgbcOpdGhvZGVzIHPDqWN1cmlzw6llcylcclxuICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCAtIExvbmd1ZXVyIGR1IHNhbHRcclxuICogQHJldHVybnMge3N0cmluZ30gU2FsdCBtb2lucyBzw6ljdXJpc8OpXHJcbiAqL1xyXG5mdW5jdGlvbiBmYWxsYmFja1JhbmRvbVNhbHQobGVuZ3RoID0gMTYpIHtcclxuICBjb25zdCBjaGFycyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMDEyMzQ1Njc4OSc7XHJcbiAgbGV0IG91dCA9ICcnO1xyXG4gIFxyXG4gIC8vIFV0aWxpc2UgTWF0aC5yYW5kb20gY29tbWUgZGVybmllciByZWNvdXJzXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgY29uc3QgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFycy5sZW5ndGgpO1xyXG4gICAgb3V0ICs9IGNoYXJzW3JhbmRvbUluZGV4XTtcclxuICB9XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEfDqW7DqHJlIHVuIGNvZGUgZGUgcsOpY3Vww6lyYXRpb24gY3J5cHRvZ3JhcGhpcXVlbWVudCBzw7tyXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IENvZGUgZGUgcsOpY3Vww6lyYXRpb24gc8OpY3VyaXPDqVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlUmVjb3ZlcnlDb2RlKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByYW5kb21CeXRlcyA9IGF3YWl0IGdldFNlY3VyZVJhbmRvbUJ5dGVzKDE2KTtcclxuICAgIGNvbnN0IGNoYXJzID0gJ0FCQ0RFRkdISktMTU5QUVJTVFVWV1hZWjIzNDU2Nzg5JztcclxuICAgIGxldCBjb2RlID0gJyc7XHJcbiAgICBcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkgKz0gMSkge1xyXG4gICAgICBjb25zdCByYW5kb21JbmRleCA9IHJhbmRvbUJ5dGVzW2ldICUgY2hhcnMubGVuZ3RoO1xyXG4gICAgICBjb2RlICs9IGNoYXJzW3JhbmRvbUluZGV4XTtcclxuICAgIH1cclxuICAgIHJldHVybiBjb2RlO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdBbGwgc2VjdXJlIHJhbmRvbSBtZXRob2RzIGZhaWxlZCwgdXNpbmcgTWF0aC5yYW5kb20gYXMgbGFzdCByZXNvcnQ6JywgZXJyb3IpO1xyXG4gICAgLy8gRGVybmllciByZWNvdXJzIDogTWF0aC5yYW5kb20gKG1vaW5zIHPDqWN1cmlzw6kgbWFpcyBmb25jdGlvbm5lbClcclxuICAgIHJldHVybiBmYWxsYmFja0dlbmVyYXRlUmVjb3ZlcnlDb2RlKCk7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogRmFsbGJhY2sgbW9pbnMgc8OpY3VyaXPDqSBwb3VyIGxhIGfDqW7DqXJhdGlvbiBkZSBjb2RlIGRlIHLDqWN1cMOpcmF0aW9uXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IENvZGUgZGUgcsOpY3Vww6lyYXRpb24gbW9pbnMgc8OpY3VyaXPDqVxyXG4gKi9cclxuZnVuY3Rpb24gZmFsbGJhY2tHZW5lcmF0ZVJlY292ZXJ5Q29kZSgpIHtcclxuICBjb25zdCBjaGFycyA9ICdBQkNERUZHSEpLTE1OUFFSU1RVVldYWVoyMzQ1Njc4OSc7XHJcbiAgbGV0IGNvZGUgPSAnJztcclxuICBcclxuICAvLyBVdGlsaXNlIE1hdGgucmFuZG9tIGNvbW1lIGRlcm5pZXIgcmVjb3Vyc1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkgKz0gMSkge1xyXG4gICAgY29uc3QgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFycy5sZW5ndGgpO1xyXG4gICAgY29kZSArPSBjaGFyc1tyYW5kb21JbmRleF07XHJcbiAgfVxyXG4gIHJldHVybiBjb2RlO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaXNFbmFibGVkKCkge1xyXG4gIGNvbnN0IGVuYWJsZWQgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWVMuRU5BQkxFRCk7XHJcbiAgcmV0dXJuIGVuYWJsZWQgPT09ICcxJztcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuYWJsZUxvY2soKSB7XHJcbiAgYXdhaXQgQXN5bmNTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVlTLkVOQUJMRUQsICcxJyk7XHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaXNhYmxlTG9jaygpIHtcclxuICBhd2FpdCBBc3luY1N0b3JhZ2UubXVsdGlSZW1vdmUoW1xyXG4gICAgU1RPUkFHRV9LRVlTLkVOQUJMRUQsXHJcbiAgICBTVE9SQUdFX0tFWVMuUElOX0hBU0gsXHJcbiAgICBTVE9SQUdFX0tFWVMuUElOX1NBTFQsXHJcbiAgICBTVE9SQUdFX0tFWVMuQklPX0VOQUJMRUQsXHJcbiAgICBTVE9SQUdFX0tFWVMuUkVDT1ZFUllfSEFTSCxcclxuICAgIFNUT1JBR0VfS0VZUy5USU1FT1VUX1NFQ09ORFMsXHJcbiAgICBTVE9SQUdFX0tFWVMuTE9DS09VVF9VTlRJTCxcclxuICAgIFNUT1JBR0VfS0VZUy5GQUlMRURfQVRURU1QVFMsXHJcbiAgXSk7XHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRQaW4ocGluKSB7XHJcbiAgY29uc3Qgc2FsdCA9IGF3YWl0IHNlY3VyZVJhbmRvbVNhbHQoKTtcclxuICBjb25zdCBwaW5IYXNoID0gc2ltcGxlSGFzaChgJHtzYWx0fToke3Bpbn1gKTtcclxuICBhd2FpdCBBc3luY1N0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWVMuUElOX1NBTFQsIHNhbHQpO1xyXG4gIGF3YWl0IEFzeW5jU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZUy5QSU5fSEFTSCwgcGluSGFzaCk7XHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlQaW4ocGluKSB7XHJcbiAgY29uc3QgbG9ja291dFVudGlsID0gTnVtYmVyKGF3YWl0IEFzeW5jU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZUy5MT0NLT1VUX1VOVElMKSB8fCAnMCcpO1xyXG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgaWYgKGxvY2tvdXRVbnRpbCAmJiBub3cgPCBsb2Nrb3V0VW50aWwpIHtcclxuICAgIHJldHVybiB7IG9rOiBmYWxzZSwgcmVhc29uOiAnbG9ja291dCcgfTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHNhbHQgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWVMuUElOX1NBTFQpO1xyXG4gIGNvbnN0IGV4cGVjdGVkID0gYXdhaXQgQXN5bmNTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVlTLlBJTl9IQVNIKTtcclxuICBpZiAoIXNhbHQgfHwgIWV4cGVjdGVkKSByZXR1cm4geyBvazogZmFsc2UgfTtcclxuICBjb25zdCBnaXZlbiA9IHNpbXBsZUhhc2goYCR7c2FsdH06JHtwaW59YCk7XHJcbiAgY29uc3Qgb2sgPSBnaXZlbiA9PT0gZXhwZWN0ZWQ7XHJcblxyXG4gIGxldCBhdHRlbXB0cyA9IE51bWJlcihhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWVMuRkFJTEVEX0FUVEVNUFRTKSB8fCAnMCcpO1xyXG4gIGlmIChvaykge1xyXG4gICAgYXdhaXQgQXN5bmNTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVlTLkZBSUxFRF9BVFRFTVBUUywgJzAnKTtcclxuICAgIHJldHVybiB7IG9rOiB0cnVlIH07XHJcbiAgfVxyXG4gIGF0dGVtcHRzICs9IDE7XHJcbiAgYXdhaXQgQXN5bmNTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVlTLkZBSUxFRF9BVFRFTVBUUywgU3RyaW5nKGF0dGVtcHRzKSk7XHJcbiAgaWYgKGF0dGVtcHRzID49IDUpIHtcclxuICAgIGNvbnN0IGxvY2tNcyA9IDMwXzAwMCAqIE1hdGgubWluKDQsIGF0dGVtcHRzIC0gNCk7IC8vIDMwcywgNjBzLCA5MHMsIDEyMHNcclxuICAgIGF3YWl0IEFzeW5jU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZUy5MT0NLT1VUX1VOVElMLCBTdHJpbmcobm93ICsgbG9ja01zKSk7XHJcbiAgICByZXR1cm4geyBvazogZmFsc2UsIHJlYXNvbjogJ2xvY2tvdXQnIH07XHJcbiAgfVxyXG4gIHJldHVybiB7IG9rOiBmYWxzZSB9O1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2V0QmlvbWV0cmljc0VuYWJsZWQoZW5hYmxlZCkge1xyXG4gIGF3YWl0IEFzeW5jU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZUy5CSU9fRU5BQkxFRCwgZW5hYmxlZCA/ICcxJyA6ICcwJyk7XHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpc0Jpb21ldHJpY3NFbmFibGVkKCkge1xyXG4gIGNvbnN0IHYgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWVMuQklPX0VOQUJMRUQpO1xyXG4gIHJldHVybiB2ID09PSAnMSc7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1bmxvY2tXaXRoQmlvbWV0cmljcygpIHtcclxuICAvLyBQbGFjZWhvbGRlciBmb3IgcmVhbCBleHBvLWxvY2FsLWF1dGhlbnRpY2F0aW9uIGludGVncmF0aW9uXHJcbiAgY29uc3QgZW5hYmxlZCA9IGF3YWl0IGlzQmlvbWV0cmljc0VuYWJsZWQoKTtcclxuICBpZiAoIWVuYWJsZWQpIHJldHVybiB7IG9rOiBmYWxzZSB9O1xyXG4gIC8vIEluIHJlYWwgYXBwOiBwcm9tcHQgYmlvbWV0cmljIGFuZCByZXR1cm4gcmVzdWx0XHJcbiAgcmV0dXJuIHsgb2s6IHRydWUgfTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNldFJlY292ZXJ5Q29kZShjb2RlKSB7XHJcbiAgY29uc3QgaGFzaCA9IHNpbXBsZUhhc2goY29kZSk7XHJcbiAgYXdhaXQgQXN5bmNTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVlTLlJFQ09WRVJZX0hBU0gsIGhhc2gpO1xyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmVyaWZ5UmVjb3ZlcnkoY29kZSkge1xyXG4gIGNvbnN0IGV4cGVjdGVkID0gYXdhaXQgQXN5bmNTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVlTLlJFQ09WRVJZX0hBU0gpO1xyXG4gIGlmICghZXhwZWN0ZWQpIHJldHVybiBmYWxzZTtcclxuICByZXR1cm4gc2ltcGxlSGFzaChjb2RlKSA9PT0gZXhwZWN0ZWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRBdXRvTG9ja1RpbWVvdXQoc2Vjb25kcykge1xyXG4gIGF3YWl0IEFzeW5jU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZUy5USU1FT1VUX1NFQ09ORFMsIFN0cmluZyhzZWNvbmRzKSk7XHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBdXRvTG9ja1RpbWVvdXQoKSB7XHJcbiAgcmV0dXJuIE51bWJlcihhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWVMuVElNRU9VVF9TRUNPTkRTKSB8fCAnMCcpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZW1lcmdlbmN5UmVzZXQoKSB7XHJcbiAgYXdhaXQgZGlzYWJsZUxvY2soKTtcclxuICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGxvY2tTdG9yYWdlS2V5cyA9IFNUT1JBR0VfS0VZUztcclxuXHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsSUFBQUEsYUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsV0FBQSxHQUFBRCxPQUFBO0FBRUEsSUFBTUUsWUFBWSxHQUFHO0VBQ25CQyxPQUFPLEVBQUUsa0JBQWtCO0VBQzNCQyxRQUFRLEVBQUUsbUJBQW1CO0VBQzdCQyxRQUFRLEVBQUUsbUJBQW1CO0VBQzdCQyxXQUFXLEVBQUUsc0JBQXNCO0VBQ25DQyxhQUFhLEVBQUUsd0JBQXdCO0VBQ3ZDQyxlQUFlLEVBQUUsMEJBQTBCO0VBQzNDQyxhQUFhLEVBQUUsd0JBQXdCO0VBQ3ZDQyxlQUFlLEVBQUU7QUFDbkIsQ0FBQztBQUdELFNBQVNDLFVBQVVBLENBQUNDLEtBQUssRUFBRTtFQUN6QixJQUFJQyxJQUFJLEdBQUcsQ0FBQztFQUNaLElBQU1DLEdBQUcsR0FBR0MsTUFBTSxDQUFDSCxLQUFLLENBQUM7RUFDekIsS0FBSyxJQUFJSSxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdGLEdBQUcsQ0FBQ0csTUFBTSxFQUFFRCxDQUFDLElBQUksQ0FBQyxFQUFFO0lBQ3RDSCxJQUFJLEdBQUcsQ0FBQ0EsSUFBSSxJQUFJLENBQUMsSUFBSUEsSUFBSSxHQUFHQyxHQUFHLENBQUNJLFVBQVUsQ0FBQ0YsQ0FBQyxDQUFDO0lBQzdDSCxJQUFJLElBQUksQ0FBQztFQUNYO0VBQ0EsT0FBT00sSUFBSSxDQUFDQyxHQUFHLENBQUNQLElBQUksQ0FBQyxDQUFDUSxRQUFRLENBQUMsRUFBRSxDQUFDO0FBQ3BDO0FBQUMsU0FPY0Msb0JBQW9CQSxDQUFBQyxFQUFBO0VBQUEsT0FBQUMscUJBQUEsQ0FBQUMsS0FBQSxPQUFBQyxTQUFBO0FBQUE7QUFBQSxTQUFBRixzQkFBQTtFQUFBQSxxQkFBQSxPQUFBRyxrQkFBQSxDQUFB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SUFDekMsSUFBTTRCLFFBQVEsU0FBU3ZCLHFCQUFZLENBQUNDLE9BQU8sQ0FBQ3pELFlBQVksQ0FBQ0ssYUFBYSxDQUFDO0lBQ3ZFLElBQUksQ0FBQzBFLFFBQVEsRUFBRSxPQUFPLEtBQUs7SUFDM0IsT0FBT3RFLFVBQVUsQ0FBQzBDLElBQUksQ0FBQyxLQUFLNEIsUUFBUTtFQUN0QyxDQUFDO0VBQUEsT0FBQWtCLGVBQUEsQ0FBQTFFLEtBQUEsT0FBQUMsU0FBQTtBQUFBO0FBQUEsU0FFcUIwRSxrQkFBa0JBLENBQUFDLEdBQUE7RUFBQSxPQUFBQyxtQkFBQSxDQUFBN0UsS0FBQSxPQUFBQyxTQUFBO0FBQUE7QUFBQSxTQUFBNEUsb0JBQUE7RUFBQUEsbUJBQUEsT0FBQTNFLGtCQUFBLENBQUFDLE9BQUEsRUFBakMsV0FBa0MyRSxPQUFPLEVBQUU7SUFDaEQsTUFBTTdDLHFCQUFZLENBQUNJLE9BQU8sQ0FBQzVELFlBQVksQ0FBQ00sZUFBZSxFQUFFTyxNQUFNLENBQUN3RixPQUFPLENBQUMsQ0FBQztJQUN6RSxPQUFPLElBQUk7RUFDYixDQUFDO0VBQUEsT0FBQUQsbUJBQUEsQ0FBQTdFLEtBQUEsT0FBQUMsU0FBQTtBQUFBO0FBQUEsU0FFcUI4RSxrQkFBa0JBLENBQUE7RUFBQSxPQUFBQyxtQkFBQSxDQUFBaEYsS0FBQSxPQUFBQyxTQUFBO0FBQUE7QUFBQSxTQUFBK0Usb0JBQUE7RUFBQUEsbUJBQUEsT0FBQTlFLGtCQUFBLENBQUFDLE9BQUEsRUFBakMsYUFBb0M7SUFDekMsT0FBT2dELE1BQU0sQ0FBQyxPQUFNbEIscUJBQVksQ0FBQ0MsT0FBTyxDQUFDekQsWUFBWSxDQUFDTSxlQUFlLENBQUMsS0FBSSxHQUFHLENBQUM7RUFDaEYsQ0FBQztFQUFBLE9BQUFpRyxtQkFBQSxDQUFBaEYsS0FBQSxPQUFBQyxTQUFBO0FBQUE7QUFBQSxTQUVxQmdGLGNBQWNBLENBQUE7RUFBQSxPQUFBQyxlQUFBLENBQUFsRixLQUFBLE9BQUFDLFNBQUE7QUFBQTtBQUFBLFNBQUFpRixnQkFBQTtFQUFBQSxlQUFBLE9BQUFoRixrQkFBQSxDQUFBQyxPQUFBLEVBQTdCLGFBQWdDO0lBQ3JDLE1BQU1tQyxXQUFXLENBQUMsQ0FBQztJQUNuQixPQUFPLElBQUk7RUFDYixDQUFDO0VBQUEsT0FBQTRDLGVBQUEsQ0FBQWxGLEtBQUEsT0FBQUMsU0FBQTtBQUFBO0FBRU0sSUFBTWtGLGVBQWUsR0FBQUMsT0FBQSxDQUFBRCxlQUFBLEdBQUcxRyxZQUFZIiwiaWdub3JlTGlzdCI6W119