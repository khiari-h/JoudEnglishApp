82fb1efe6653d46550899e544b69c028
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = require("react");
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _vocabularyDataHelper = require("../utils/vocabulary/vocabularyDataHelper");
var useRealTimeProgress = function useRealTimeProgress() {
  var _useState = (0, _react.useState)({}),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    levelProgress = _useState2[0],
    setLevelProgress = _useState2[1];
  var _useState3 = (0, _react.useState)({}),
    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
    exerciseProgress = _useState4[0],
    setExerciseProgress = _useState4[1];
  var _useState5 = (0, _react.useState)(true),
    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),
    isLoading = _useState6[0],
    setIsLoading = _useState6[1];
  var handleProgressError = function handleProgressError(error, operation, level) {
    var fallback = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
    console.warn(`Progress calculation error in ${operation} for level ${level}:`, error);
    return fallback;
  };
  var calculateVocabularyProgress = function () {
    var _ref = (0, _asyncToGenerator2.default)(function* (level) {
      try {
        var storageKey = `vocabulary_${level}_classic`;
        var savedData = yield _asyncStorage.default.getItem(storageKey);
        if (!savedData) return 0;
        var data = JSON.parse(savedData);
        var completedWords = data.completedWords || {};
        var vocabularyData = (0, _vocabularyDataHelper.getVocabularyData)(level, 'classic');
        if (!(vocabularyData != null && vocabularyData.exercises)) return 0;
        var totalWords = vocabularyData.exercises.reduce(function (sum, cat) {
          var _cat$words;
          return sum + (((_cat$words = cat.words) == null ? void 0 : _cat$words.length) || 0);
        }, 0);
        var completedCount = 0;
        Object.values(completedWords).forEach(function (categoryWords) {
          if (Array.isArray(categoryWords)) {
            completedCount += categoryWords.length;
          }
        });
        var percentage = totalWords > 0 ? completedCount / totalWords * 100 : 0;
        return Math.min(Math.round(percentage), 100);
      } catch (error) {
        return handleProgressError(error, 'calculateVocabularyProgress', level, 0);
      }
    });
    return function calculateVocabularyProgress(_x) {
      return _ref.apply(this, arguments);
    };
  }();
  var calculateVocabularyFastProgress = function () {
    var _ref2 = (0, _asyncToGenerator2.default)(function* (level) {
      try {
        var storageKey = `vocabulary_${level}_fast`;
        var savedData = yield _asyncStorage.default.getItem(storageKey);
        if (!savedData) return 0;
        var data = JSON.parse(savedData);
        var completedWords = data.completedWords || {};
        var vocabularyData = (0, _vocabularyDataHelper.getVocabularyData)(level, 'fast');
        if (!(vocabularyData != null && vocabularyData.exercises)) return 0;
        var totalWords = vocabularyData.exercises.reduce(function (sum, cat) {
          var _cat$words2;
          return sum + (((_cat$words2 = cat.words) == null ? void 0 : _cat$words2.length) || 0);
        }, 0);
        var completedCount = 0;
        Object.values(completedWords).forEach(function (categoryWords) {
          if (Array.isArray(categoryWords)) {
            completedCount += categoryWords.length;
          }
        });
        var percentage = totalWords > 0 ? completedCount / totalWords * 100 : 0;
        return Math.min(Math.round(percentage), 100);
      } catch (error) {
        return handleProgressError(error, 'calculateVocabularyFastProgress', level, 0);
      }
    });
    return function calculateVocabularyFastProgress(_x2) {
      return _ref2.apply(this, arguments);
    };
  }();
  var calculateGrammarProgress = function () {
    var _ref3 = (0, _asyncToGenerator2.default)(function* (level) {
      try {
        var storageKey = `grammar_${level}`;
        var savedData = yield _asyncStorage.default.getItem(storageKey);
        if (!savedData) return 0;
        var data = JSON.parse(savedData);
        var completedExercises = data.completedExercises || {};
        var completedCount = 0;
        Object.values(completedExercises).forEach(function (exerciseIndices) {
          if (Array.isArray(exerciseIndices)) {
            completedCount += exerciseIndices.length;
          }
        });
        var EXERCISES_PER_LEVEL = 20;
        var percentage = completedCount / EXERCISES_PER_LEVEL * 100;
        return Math.min(Math.round(percentage), 100);
      } catch (error) {
        return handleProgressError(error, 'calculateGrammarProgress', level, 0);
      }
    });
    return function calculateGrammarProgress(_x3) {
      return _ref3.apply(this, arguments);
    };
  }();
  var calculateReadingProgress = function () {
    var _ref4 = (0, _asyncToGenerator2.default)(function* (level) {
      try {
        var storageKey = `reading_${level}`;
        var savedData = yield _asyncStorage.default.getItem(storageKey);
        if (!savedData) return 0;
        var data = JSON.parse(savedData);
        var completedQuestions = data.completedQuestions || {};
        var completedCount = 0;
        Object.values(completedQuestions).forEach(function (questionIndices) {
          if (Array.isArray(questionIndices)) {
            completedCount += questionIndices.length;
          }
        });
        var QUESTIONS_PER_LEVEL = 15;
        var percentage = completedCount / QUESTIONS_PER_LEVEL * 100;
        return Math.min(Math.round(percentage), 100);
      } catch (error) {
        return handleProgressError(error, 'calculateReadingProgress', level, 0);
      }
    });
    return function calculateReadingProgress(_x4) {
      return _ref4.apply(this, arguments);
    };
  }();
  var calculatePhrasesProgress = function () {
    var _ref5 = (0, _asyncToGenerator2.default)(function* (level) {
      try {
        var storageKey = `phrases_${level}`;
        var savedData = yield _asyncStorage.default.getItem(storageKey);
        if (!savedData) return 0;
        var data = JSON.parse(savedData);
        var completedPhrases = data.completedPhrases || {};
        var completedCount = 0;
        Object.values(completedPhrases).forEach(function (phraseIndices) {
          if (Array.isArray(phraseIndices)) {
            completedCount += phraseIndices.length;
          }
        });
        var PHRASES_PER_LEVEL = 30;
        var percentage = completedCount / PHRASES_PER_LEVEL * 100;
        return Math.min(Math.round(percentage), 100);
      } catch (error) {
        return handleProgressError(error, 'calculatePhrasesProgress', level, 0);
      }
    });
    return function calculatePhrasesProgress(_x5) {
      return _ref5.apply(this, arguments);
    };
  }();
  var calculateConversationsProgress = function () {
    var _ref6 = (0, _asyncToGenerator2.default)(function* (level) {
      try {
        var storageKey = `conversation_${level}`;
        var savedData = yield _asyncStorage.default.getItem(storageKey);
        if (!savedData) return 0;
        var data = JSON.parse(savedData);
        var completedScenarios = data.completedScenarios || {};
        var completedCount = Object.values(completedScenarios).filter(function (scenario) {
          return scenario && (scenario.completed || scenario.completedAt);
        }).length;
        var CONVERSATIONS_PER_LEVEL = 8;
        var percentage = completedCount / CONVERSATIONS_PER_LEVEL * 100;
        return Math.min(Math.round(percentage), 100);
      } catch (error) {
        return handleProgressError(error, 'calculateConversationsProgress', level, 0);
      }
    });
    return function calculateConversationsProgress(_x6) {
      return _ref6.apply(this, arguments);
    };
  }();
  var calculateErrorCorrectionProgress = function () {
    var _ref7 = (0, _asyncToGenerator2.default)(function* (level) {
      try {
        var storageKey = `error_correction_${level}`;
        var savedData = yield _asyncStorage.default.getItem(storageKey);
        if (!savedData) return 0;
        var data = JSON.parse(savedData);
        var completedExercises = data.completedExercises || {};
        var completedCount = 0;
        Object.values(completedExercises).forEach(function (exerciseIndices) {
          if (Array.isArray(exerciseIndices)) {
            completedCount += exerciseIndices.length;
          }
        });
        var EXERCISES_PER_LEVEL = 20;
        var percentage = completedCount / EXERCISES_PER_LEVEL * 100;
        return Math.min(Math.round(percentage), 100);
      } catch (error) {
        return handleProgressError(error, 'calculateErrorCorrectionProgress', level, 0);
      }
    });
    return function calculateErrorCorrectionProgress(_x7) {
      return _ref7.apply(this, arguments);
    };
  }();
  var calculateWordGamesProgress = function () {
    var _ref8 = (0, _asyncToGenerator2.default)(function* (level) {
      try {
        var storageKey = `word_games_completed_${level}`;
        var savedData = yield _asyncStorage.default.getItem(storageKey);
        if (!savedData) return 0;
        var data = JSON.parse(savedData);
        var completedCount = Object.values(data).filter(function (game) {
          return game == null ? void 0 : game.completed;
        }).length;
        var GAMES_PER_LEVEL = 10;
        var percentage = completedCount / GAMES_PER_LEVEL * 100;
        return Math.min(Math.round(percentage), 100);
      } catch (error) {
        return handleProgressError(error, 'calculateWordGamesProgress', level, 0);
      }
    });
    return function calculateWordGamesProgress(_x8) {
      return _ref8.apply(this, arguments);
    };
  }();
  var calculateAssessmentProgress = function () {
    var _ref9 = (0, _asyncToGenerator2.default)(function* (level) {
      try {
        var storageKey = `assessment_results_${level}`;
        var savedData = yield _asyncStorage.default.getItem(storageKey);
        if (!savedData) return 0;
        var data = JSON.parse(savedData);
        return data.completedAt ? 100 : 0;
      } catch (error) {
        return handleProgressError(error, 'calculateAssessmentProgress', level, 0);
      }
    });
    return function calculateAssessmentProgress(_x9) {
      return _ref9.apply(this, arguments);
    };
  }();
  var calculateProgress = (0, _react.useCallback)((0, _asyncToGenerator2.default)(function* () {
    try {
      setIsLoading(true);
      var newLevelProgress = {};
      var newExerciseProgress = {};
      var levels = ['1', '2', '3', '4', '5', '6', 'bonus'];
      var exerciseCalculators = {
        vocabulary: calculateVocabularyProgress,
        vocabulary_fast: calculateVocabularyFastProgress,
        grammar: calculateGrammarProgress,
        reading: calculateReadingProgress,
        phrases: calculatePhrasesProgress,
        conversations: calculateConversationsProgress,
        errorCorrection: calculateErrorCorrectionProgress,
        wordGames: calculateWordGamesProgress,
        assessment: calculateAssessmentProgress
      };
      yield Promise.all(levels.map(function () {
        var _ref1 = (0, _asyncToGenerator2.default)(function* (level) {
          var availableExercises = level === 'bonus' ? ['reading', 'vocabulary', 'phrases'] : Object.keys(exerciseCalculators);
          var results = yield Promise.all(availableExercises.map(function () {
            var _ref10 = (0, _asyncToGenerator2.default)(function* (exerciseType) {
              try {
                var calculator = exerciseCalculators[exerciseType];
                var value = yield calculator(level);
                return {
                  exerciseType: exerciseType,
                  value: value
                };
              } catch (e) {
                console.warn(`Erreur calcul ${exerciseType} niveau ${level}:`, e);
                return {
                  exerciseType: exerciseType,
                  value: 0
                };
              }
            });
            return function (_x1) {
              return _ref10.apply(this, arguments);
            };
          }()));
          var levelTotal = 0;
          var levelCompleted = 0;
          results.forEach(function (_ref11) {
            var exerciseType = _ref11.exerciseType,
              value = _ref11.value;
            if (!newExerciseProgress[exerciseType]) newExerciseProgress[exerciseType] = {};
            newExerciseProgress[exerciseType][level] = value;
            levelTotal += 100;
            levelCompleted += value;
          });
          newLevelProgress[level] = levelTotal > 0 ? Math.round(levelCompleted / levelTotal * 100) : 0;
        });
        return function (_x0) {
          return _ref1.apply(this, arguments);
        };
      }()));
      setLevelProgress(newLevelProgress);
      setExerciseProgress(newExerciseProgress);
    } catch (error) {
      console.error('Erreur calcul progression:', error);
    } finally {
      setIsLoading(false);
    }
  }), []);
  var getLevelProgress = (0, _react.useCallback)(function (level) {
    return levelProgress[level] || 0;
  }, [levelProgress]);
  var getExerciseProgress = (0, _react.useCallback)(function (exerciseType, level) {
    var _exerciseProgress$exe;
    return ((_exerciseProgress$exe = exerciseProgress[exerciseType]) == null ? void 0 : _exerciseProgress$exe[level]) || 0;
  }, [exerciseProgress]);
  var hasProgress = (0, _react.useCallback)(function (exerciseType, level) {
    return getExerciseProgress(exerciseType, level) > 0;
  }, [getExerciseProgress]);
  var hasVocabularyStarted = (0, _react.useCallback)(function (level) {
    return hasProgress('vocabulary', level);
  }, [hasProgress]);
  var hasVocabularyFastStarted = (0, _react.useCallback)(function (level) {
    return hasProgress('vocabulary_fast', level);
  }, [hasProgress]);
  (0, _react.useEffect)(function () {
    calculateProgress();
  }, [calculateProgress]);
  var refresh = (0, _react.useCallback)(function () {
    calculateProgress();
  }, [calculateProgress]);
  return {
    levelProgress: levelProgress,
    exerciseProgress: exerciseProgress,
    isLoading: isLoading,
    getLevelProgress: getLevelProgress,
    getExerciseProgress: getExerciseProgress,
    hasProgress: hasProgress,
    hasVocabularyStarted: hasVocabularyStarted,
    hasVocabularyFastStarted: hasVocabularyFastStarted,
    refresh: refresh
  };
};
var _default = exports.default = useRealTimeProgress;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX2FzeW5jU3RvcmFnZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfdm9jYWJ1bGFyeURhdGFIZWxwZXIiLCJ1c2VSZWFsVGltZVByb2dyZXNzIiwiX3VzZVN0YXRlIiwidXNlU3RhdGUiLCJfdXNlU3RhdGUyIiwiX3NsaWNlZFRvQXJyYXkyIiwiZGVmYXVsdCIsImxldmVsUHJvZ3Jlc3MiLCJzZXRMZXZlbFByb2dyZXNzIiwiX3VzZVN0YXRlMyIsIl91c2VTdGF0ZTQiLCJleGVyY2lzZVByb2dyZXNzIiwic2V0RXhlcmNpc2VQcm9ncmVzcyIsIl91c2VTdGF0ZTUiLCJfdXNlU3RhdGU2IiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiaGFuZGxlUHJvZ3Jlc3NFcnJvciIsImVycm9yIiwib3BlcmF0aW9uIiwibGV2ZWwiLCJmYWxsYmFjayIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImNvbnNvbGUiLCJ3YXJuIiwiY2FsY3VsYXRlVm9jYWJ1bGFyeVByb2dyZXNzIiwiX3JlZiIsIl9hc3luY1RvR2VuZXJhdG9yMiIsInN0b3JhZ2VLZXkiLCJzYXZlZERhdGEiLCJBc3luY1N0b3JhZ2UiLCJnZXRJdGVtIiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsImNvbXBsZXRlZFdvcmRzIiwidm9jYWJ1bGFyeURhdGEiLCJnZXRWb2NhYnVsYXJ5RGF0YSIsImV4ZXJjaXNlcyIsInRvdGFsV29yZHMiLCJyZWR1Y2UiLCJzdW0iLCJjYXQiLCJfY2F0JHdvcmRzIiwid29yZHMiLCJjb21wbGV0ZWRDb3VudCIsIk9iamVjdCIsInZhbHVlcyIsImZvckVhY2giLCJjYXRlZ29yeVdvcmRzIiwiQXJyYXkiLCJpc0FycmF5IiwicGVyY2VudGFnZSIsIk1hdGgiLCJtaW4iLCJyb3VuZCIsIl94IiwiYXBwbHkiLCJjYWxjdWxhdGVWb2NhYnVsYXJ5RmFzdFByb2dyZXNzIiwiX3JlZjIiLCJfY2F0JHdvcmRzMiIsIl94MiIsImNhbGN1bGF0ZUdyYW1tYXJQcm9ncmVzcyIsIl9yZWYzIiwiY29tcGxldGVkRXhlcmNpc2VzIiwiZXhlcmNpc2VJbmRpY2VzIiwiRVhFUkNJU0VTX1BFUl9MRVZFTCIsIl94MyIsImNhbGN1bGF0ZVJlYWRpbmdQcm9ncmVzcyIsIl9yZWY0IiwiY29tcGxldGVkUXVlc3Rpb25zIiwicXVlc3Rpb25JbmRpY2VzIiwiUVVFU1RJT05TX1BFUl9MRVZFTCIsIl94NCIsImNhbGN1bGF0ZVBocmFzZXNQcm9ncmVzcyIsIl9yZWY1IiwiY29tcGxldGVkUGhyYXNlcyIsInBocmFzZUluZGljZXMiLCJQSFJBU0VTX1BFUl9MRVZFTCIsIl94NSIsImNhbGN1bGF0ZUNvbnZlcnNhdGlvbnNQcm9ncmVzcyIsIl9yZWY2IiwiY29tcGxldGVkU2NlbmFyaW9zIiwiZmlsdGVyIiwic2NlbmFyaW8iLCJjb21wbGV0ZWQiLCJjb21wbGV0ZWRBdCIsIkNPTlZFUlNBVElPTlNfUEVSX0xFVkVMIiwiX3g2IiwiY2FsY3VsYXRlRXJyb3JDb3JyZWN0aW9uUHJvZ3Jlc3MiLCJfcmVmNyIsIl94NyIsImNhbGN1bGF0ZVdvcmRHYW1lc1Byb2dyZXNzIiwiX3JlZjgiLCJnYW1lIiwiR0FNRVNfUEVSX0xFVkVMIiwiX3g4IiwiY2FsY3VsYXRlQXNzZXNzbWVudFByb2dyZXNzIiwiX3JlZjkiLCJfeDkiLCJjYWxjdWxhdGVQcm9ncmVzcyIsInVzZUNhbGxiYWNrIiwibmV3TGV2ZWxQcm9ncmVzcyIsIm5ld0V4ZXJjaXNlUHJvZ3Jlc3MiLCJsZXZlbHMiLCJleGVyY2lzZUNhbGN1bGF0b3JzIiwidm9jYWJ1bGFyeSIsInZvY2FidWxhcnlfZmFzdCIsImdyYW1tYXIiLCJyZWFkaW5nIiwicGhyYXNlcyIsImNvbnZlcnNhdGlvbnMiLCJlcnJvckNvcnJlY3Rpb24iLCJ3b3JkR2FtZXMiLCJhc3Nlc3NtZW50IiwiUHJvbWlzZSIsImFsbCIsIm1hcCIsIl9yZWYxIiwiYXZhaWxhYmxlRXhlcmNpc2VzIiwia2V5cyIsInJlc3VsdHMiLCJfcmVmMTAiLCJleGVyY2lzZVR5cGUiLCJjYWxjdWxhdG9yIiwidmFsdWUiLCJlIiwiX3gxIiwibGV2ZWxUb3RhbCIsImxldmVsQ29tcGxldGVkIiwiX3JlZjExIiwiX3gwIiwiZ2V0TGV2ZWxQcm9ncmVzcyIsImdldEV4ZXJjaXNlUHJvZ3Jlc3MiLCJfZXhlcmNpc2VQcm9ncmVzcyRleGUiLCJoYXNQcm9ncmVzcyIsImhhc1ZvY2FidWxhcnlTdGFydGVkIiwiaGFzVm9jYWJ1bGFyeUZhc3RTdGFydGVkIiwidXNlRWZmZWN0IiwicmVmcmVzaCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbInVzZVJlYWxUaW1lUHJvZ3Jlc3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2hvb2tzL3VzZVJlYWxUaW1lUHJvZ3Jlc3MuanMgLSBWRVJTSU9OIENPUlJJR8OJRSBBVkVDIEdFU1RJT04gRCdFUlJFVVJcclxuXHJcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgQXN5bmNTdG9yYWdlIGZyb20gJ0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS9hc3luYy1zdG9yYWdlJztcclxuaW1wb3J0IHsgZ2V0Vm9jYWJ1bGFyeURhdGEgfSBmcm9tICcuLi91dGlscy92b2NhYnVsYXJ5L3ZvY2FidWxhcnlEYXRhSGVscGVyJztcclxuXHJcbmNvbnN0IHVzZVJlYWxUaW1lUHJvZ3Jlc3MgPSAoKSA9PiB7XHJcbiAgY29uc3QgW2xldmVsUHJvZ3Jlc3MsIHNldExldmVsUHJvZ3Jlc3NdID0gdXNlU3RhdGUoe30pO1xyXG4gIGNvbnN0IFtleGVyY2lzZVByb2dyZXNzLCBzZXRFeGVyY2lzZVByb2dyZXNzXSA9IHVzZVN0YXRlKHt9KTtcclxuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT0gRVJST1IgSEFORExJTkcgSEVMUEVSID09PT09PT09PT09PT09PT09PT1cclxuICBjb25zdCBoYW5kbGVQcm9ncmVzc0Vycm9yID0gKGVycm9yLCBvcGVyYXRpb24sIGxldmVsLCBmYWxsYmFjayA9IDApID0+IHtcclxuICAgIGNvbnNvbGUud2FybihgUHJvZ3Jlc3MgY2FsY3VsYXRpb24gZXJyb3IgaW4gJHtvcGVyYXRpb259IGZvciBsZXZlbCAke2xldmVsfTpgLCBlcnJvcik7XHJcbiAgICByZXR1cm4gZmFsbGJhY2s7XHJcbiAgfTtcclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PSBWT0NBQlVMQUlSRSAtIENPUlJFQ1RJT04gUFJJTkNJUEFMRSA9PT09PT09PT09PT09PT09PT09XHJcbiAgXHJcbiAgY29uc3QgY2FsY3VsYXRlVm9jYWJ1bGFyeVByb2dyZXNzID0gYXN5bmMgKGxldmVsKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBzdG9yYWdlS2V5ID0gYHZvY2FidWxhcnlfJHtsZXZlbH1fY2xhc3NpY2A7XHJcbiAgICAgIGNvbnN0IHNhdmVkRGF0YSA9IGF3YWl0IEFzeW5jU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkpO1xyXG4gICAgICBcclxuICAgICAgaWYgKCFzYXZlZERhdGEpIHJldHVybiAwO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2Uoc2F2ZWREYXRhKTtcclxuICAgICAgY29uc3QgY29tcGxldGVkV29yZHMgPSBkYXRhLmNvbXBsZXRlZFdvcmRzIHx8IHt9O1xyXG4gICAgICBcclxuICAgICAgLy8g4pyFIEZJWCA6IFLDqWN1cMOpcmVyIGxlcyBWUkFJRVMgZG9ubsOpZXMgY29tbWUgdXNlVm9jYWJ1bGFyeS5qc1xyXG4gICAgICBjb25zdCB2b2NhYnVsYXJ5RGF0YSA9IGdldFZvY2FidWxhcnlEYXRhKGxldmVsLCAnY2xhc3NpYycpO1xyXG4gICAgICBpZiAoIXZvY2FidWxhcnlEYXRhPy5leGVyY2lzZXMpIHJldHVybiAwO1xyXG4gICAgICBcclxuICAgICAgLy8g4pyFIEZJWCA6IENhbGN1bCByw6llbCBkdSB0b3RhbCBjb21tZSBsaWduZSAxNjggZGUgdXNlVm9jYWJ1bGFyeS5qc1xyXG4gICAgICBjb25zdCB0b3RhbFdvcmRzID0gdm9jYWJ1bGFyeURhdGEuZXhlcmNpc2VzLnJlZHVjZSgoc3VtLCBjYXQpID0+IFxyXG4gICAgICAgIHN1bSArIChjYXQud29yZHM/Lmxlbmd0aCB8fCAwKSwgMFxyXG4gICAgICApO1xyXG4gICAgICBcclxuICAgICAgLy8gQ29tcHRlciBtb3RzIGNvbXBsw6l0w6lzXHJcbiAgICAgIGxldCBjb21wbGV0ZWRDb3VudCA9IDA7XHJcbiAgICAgIE9iamVjdC52YWx1ZXMoY29tcGxldGVkV29yZHMpLmZvckVhY2goY2F0ZWdvcnlXb3JkcyA9PiB7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2F0ZWdvcnlXb3JkcykpIHtcclxuICAgICAgICAgIGNvbXBsZXRlZENvdW50ICs9IGNhdGVnb3J5V29yZHMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyDinIUgRklYIDogQ2FsY3VsIGNvcnJlY3QgYXUgbGlldSBkZSBjb25zdGFudGUgYmlkb25cclxuICAgICAgY29uc3QgcGVyY2VudGFnZSA9IHRvdGFsV29yZHMgPiAwID8gKGNvbXBsZXRlZENvdW50IC8gdG90YWxXb3JkcykgKiAxMDAgOiAwO1xyXG4gICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5yb3VuZChwZXJjZW50YWdlKSwgMTAwKTtcclxuICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAvLyDinIUgR2VzdGlvbiBkJ2VycmV1ciBhcHByb3ByacOpZVxyXG4gICAgICByZXR1cm4gaGFuZGxlUHJvZ3Jlc3NFcnJvcihlcnJvciwgJ2NhbGN1bGF0ZVZvY2FidWxhcnlQcm9ncmVzcycsIGxldmVsLCAwKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBWT0NBQlVMQVJZIEZBU1RcclxuICBjb25zdCBjYWxjdWxhdGVWb2NhYnVsYXJ5RmFzdFByb2dyZXNzID0gYXN5bmMgKGxldmVsKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBzdG9yYWdlS2V5ID0gYHZvY2FidWxhcnlfJHtsZXZlbH1fZmFzdGA7XHJcbiAgICAgIGNvbnN0IHNhdmVkRGF0YSA9IGF3YWl0IEFzeW5jU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkpO1xyXG4gICAgICBcclxuICAgICAgaWYgKCFzYXZlZERhdGEpIHJldHVybiAwO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2Uoc2F2ZWREYXRhKTtcclxuICAgICAgY29uc3QgY29tcGxldGVkV29yZHMgPSBkYXRhLmNvbXBsZXRlZFdvcmRzIHx8IHt9O1xyXG4gICAgICBcclxuICAgICAgLy8g4pyFIE3Dqm1lIGZpeCBwb3VyIGZhc3RcclxuICAgICAgY29uc3Qgdm9jYWJ1bGFyeURhdGEgPSBnZXRWb2NhYnVsYXJ5RGF0YShsZXZlbCwgJ2Zhc3QnKTtcclxuICAgICAgaWYgKCF2b2NhYnVsYXJ5RGF0YT8uZXhlcmNpc2VzKSByZXR1cm4gMDtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHRvdGFsV29yZHMgPSB2b2NhYnVsYXJ5RGF0YS5leGVyY2lzZXMucmVkdWNlKChzdW0sIGNhdCkgPT4gXHJcbiAgICAgICAgc3VtICsgKGNhdC53b3Jkcz8ubGVuZ3RoIHx8IDApLCAwXHJcbiAgICAgICk7XHJcbiAgICAgIFxyXG4gICAgICBsZXQgY29tcGxldGVkQ291bnQgPSAwO1xyXG4gICAgICBPYmplY3QudmFsdWVzKGNvbXBsZXRlZFdvcmRzKS5mb3JFYWNoKGNhdGVnb3J5V29yZHMgPT4ge1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNhdGVnb3J5V29yZHMpKSB7XHJcbiAgICAgICAgICBjb21wbGV0ZWRDb3VudCArPSBjYXRlZ29yeVdvcmRzLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgcGVyY2VudGFnZSA9IHRvdGFsV29yZHMgPiAwID8gKGNvbXBsZXRlZENvdW50IC8gdG90YWxXb3JkcykgKiAxMDAgOiAwO1xyXG4gICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5yb3VuZChwZXJjZW50YWdlKSwgMTAwKTtcclxuICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAvLyDinIUgR2VzdGlvbiBkJ2VycmV1ciBhcHByb3ByacOpZVxyXG4gICAgICByZXR1cm4gaGFuZGxlUHJvZ3Jlc3NFcnJvcihlcnJvciwgJ2NhbGN1bGF0ZVZvY2FidWxhcnlGYXN0UHJvZ3Jlc3MnLCBsZXZlbCwgMCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gR1JBTU1BUlxyXG4gIGNvbnN0IGNhbGN1bGF0ZUdyYW1tYXJQcm9ncmVzcyA9IGFzeW5jIChsZXZlbCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgc3RvcmFnZUtleSA9IGBncmFtbWFyXyR7bGV2ZWx9YDtcclxuICAgICAgY29uc3Qgc2F2ZWREYXRhID0gYXdhaXQgQXN5bmNTdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleSk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXNhdmVkRGF0YSkgcmV0dXJuIDA7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShzYXZlZERhdGEpO1xyXG4gICAgICBjb25zdCBjb21wbGV0ZWRFeGVyY2lzZXMgPSBkYXRhLmNvbXBsZXRlZEV4ZXJjaXNlcyB8fCB7fTtcclxuICAgICAgXHJcbiAgICAgIGxldCBjb21wbGV0ZWRDb3VudCA9IDA7XHJcbiAgICAgIE9iamVjdC52YWx1ZXMoY29tcGxldGVkRXhlcmNpc2VzKS5mb3JFYWNoKGV4ZXJjaXNlSW5kaWNlcyA9PiB7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZXhlcmNpc2VJbmRpY2VzKSkge1xyXG4gICAgICAgICAgY29tcGxldGVkQ291bnQgKz0gZXhlcmNpc2VJbmRpY2VzLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgLy8gRXN0aW1hdGlvbiByw6lhbGlzdGUgKMOgIGFqdXN0ZXIgc2Vsb24gdm9zIHZyYWllcyBkb25uw6llcylcclxuICAgICAgY29uc3QgRVhFUkNJU0VTX1BFUl9MRVZFTCA9IDIwO1xyXG4gICAgICBjb25zdCBwZXJjZW50YWdlID0gKGNvbXBsZXRlZENvdW50IC8gRVhFUkNJU0VTX1BFUl9MRVZFTCkgKiAxMDA7XHJcbiAgICAgIHJldHVybiBNYXRoLm1pbihNYXRoLnJvdW5kKHBlcmNlbnRhZ2UpLCAxMDApO1xyXG4gICAgICBcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIC8vIOKchSBHZXN0aW9uIGQnZXJyZXVyIGFwcHJvcHJpw6llXHJcbiAgICAgIHJldHVybiBoYW5kbGVQcm9ncmVzc0Vycm9yKGVycm9yLCAnY2FsY3VsYXRlR3JhbW1hclByb2dyZXNzJywgbGV2ZWwsIDApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIFJFQURJTkdcclxuICBjb25zdCBjYWxjdWxhdGVSZWFkaW5nUHJvZ3Jlc3MgPSBhc3luYyAobGV2ZWwpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHN0b3JhZ2VLZXkgPSBgcmVhZGluZ18ke2xldmVsfWA7XHJcbiAgICAgIGNvbnN0IHNhdmVkRGF0YSA9IGF3YWl0IEFzeW5jU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkpO1xyXG4gICAgICBcclxuICAgICAgaWYgKCFzYXZlZERhdGEpIHJldHVybiAwO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2Uoc2F2ZWREYXRhKTtcclxuICAgICAgY29uc3QgY29tcGxldGVkUXVlc3Rpb25zID0gZGF0YS5jb21wbGV0ZWRRdWVzdGlvbnMgfHwge307XHJcbiAgICAgIFxyXG4gICAgICBsZXQgY29tcGxldGVkQ291bnQgPSAwO1xyXG4gICAgICBPYmplY3QudmFsdWVzKGNvbXBsZXRlZFF1ZXN0aW9ucykuZm9yRWFjaChxdWVzdGlvbkluZGljZXMgPT4ge1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHF1ZXN0aW9uSW5kaWNlcykpIHtcclxuICAgICAgICAgIGNvbXBsZXRlZENvdW50ICs9IHF1ZXN0aW9uSW5kaWNlcy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IFFVRVNUSU9OU19QRVJfTEVWRUwgPSAxNTtcclxuICAgICAgY29uc3QgcGVyY2VudGFnZSA9IChjb21wbGV0ZWRDb3VudCAvIFFVRVNUSU9OU19QRVJfTEVWRUwpICogMTAwO1xyXG4gICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5yb3VuZChwZXJjZW50YWdlKSwgMTAwKTtcclxuICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAvLyDinIUgR2VzdGlvbiBkJ2VycmV1ciBhcHByb3ByacOpZVxyXG4gICAgICByZXR1cm4gaGFuZGxlUHJvZ3Jlc3NFcnJvcihlcnJvciwgJ2NhbGN1bGF0ZVJlYWRpbmdQcm9ncmVzcycsIGxldmVsLCAwKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuXHJcblxyXG4gIC8vIFBIUkFTRVNcclxuICBjb25zdCBjYWxjdWxhdGVQaHJhc2VzUHJvZ3Jlc3MgPSBhc3luYyAobGV2ZWwpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHN0b3JhZ2VLZXkgPSBgcGhyYXNlc18ke2xldmVsfWA7XHJcbiAgICAgIGNvbnN0IHNhdmVkRGF0YSA9IGF3YWl0IEFzeW5jU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkpO1xyXG4gICAgICBcclxuICAgICAgaWYgKCFzYXZlZERhdGEpIHJldHVybiAwO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2Uoc2F2ZWREYXRhKTtcclxuICAgICAgY29uc3QgY29tcGxldGVkUGhyYXNlcyA9IGRhdGEuY29tcGxldGVkUGhyYXNlcyB8fCB7fTtcclxuICAgICAgXHJcbiAgICAgIGxldCBjb21wbGV0ZWRDb3VudCA9IDA7XHJcbiAgICAgIE9iamVjdC52YWx1ZXMoY29tcGxldGVkUGhyYXNlcykuZm9yRWFjaChwaHJhc2VJbmRpY2VzID0+IHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwaHJhc2VJbmRpY2VzKSkge1xyXG4gICAgICAgICAgY29tcGxldGVkQ291bnQgKz0gcGhyYXNlSW5kaWNlcy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IFBIUkFTRVNfUEVSX0xFVkVMID0gMzA7XHJcbiAgICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSAoY29tcGxldGVkQ291bnQgLyBQSFJBU0VTX1BFUl9MRVZFTCkgKiAxMDA7XHJcbiAgICAgIHJldHVybiBNYXRoLm1pbihNYXRoLnJvdW5kKHBlcmNlbnRhZ2UpLCAxMDApO1xyXG4gICAgICBcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiBoYW5kbGVQcm9ncmVzc0Vycm9yKGVycm9yLCAnY2FsY3VsYXRlUGhyYXNlc1Byb2dyZXNzJywgbGV2ZWwsIDApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIENPTlZFUlNBVElPTlNcclxuICBjb25zdCBjYWxjdWxhdGVDb252ZXJzYXRpb25zUHJvZ3Jlc3MgPSBhc3luYyAobGV2ZWwpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHN0b3JhZ2VLZXkgPSBgY29udmVyc2F0aW9uXyR7bGV2ZWx9YDtcclxuICAgICAgY29uc3Qgc2F2ZWREYXRhID0gYXdhaXQgQXN5bmNTdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleSk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXNhdmVkRGF0YSkgcmV0dXJuIDA7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShzYXZlZERhdGEpO1xyXG4gICAgICBjb25zdCBjb21wbGV0ZWRTY2VuYXJpb3MgPSBkYXRhLmNvbXBsZXRlZFNjZW5hcmlvcyB8fCB7fTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGNvbXBsZXRlZENvdW50ID0gT2JqZWN0LnZhbHVlcyhjb21wbGV0ZWRTY2VuYXJpb3MpLmZpbHRlcihzY2VuYXJpbyA9PiBcclxuICAgICAgICBzY2VuYXJpbyAmJiAoc2NlbmFyaW8uY29tcGxldGVkIHx8IHNjZW5hcmlvLmNvbXBsZXRlZEF0KVxyXG4gICAgICApLmxlbmd0aDtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IENPTlZFUlNBVElPTlNfUEVSX0xFVkVMID0gODtcclxuICAgICAgY29uc3QgcGVyY2VudGFnZSA9IChjb21wbGV0ZWRDb3VudCAvIENPTlZFUlNBVElPTlNfUEVSX0xFVkVMKSAqIDEwMDtcclxuICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgucm91bmQocGVyY2VudGFnZSksIDEwMCk7XHJcbiAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIGhhbmRsZVByb2dyZXNzRXJyb3IoZXJyb3IsICdjYWxjdWxhdGVDb252ZXJzYXRpb25zUHJvZ3Jlc3MnLCBsZXZlbCwgMCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gRVJST1IgQ09SUkVDVElPTlxyXG4gIGNvbnN0IGNhbGN1bGF0ZUVycm9yQ29ycmVjdGlvblByb2dyZXNzID0gYXN5bmMgKGxldmVsKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBzdG9yYWdlS2V5ID0gYGVycm9yX2NvcnJlY3Rpb25fJHtsZXZlbH1gO1xyXG4gICAgICBjb25zdCBzYXZlZERhdGEgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5KTtcclxuICAgICAgXHJcbiAgICAgIGlmICghc2F2ZWREYXRhKSByZXR1cm4gMDtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHNhdmVkRGF0YSk7XHJcbiAgICAgIGNvbnN0IGNvbXBsZXRlZEV4ZXJjaXNlcyA9IGRhdGEuY29tcGxldGVkRXhlcmNpc2VzIHx8IHt9O1xyXG4gICAgICBcclxuICAgICAgbGV0IGNvbXBsZXRlZENvdW50ID0gMDtcclxuICAgICAgT2JqZWN0LnZhbHVlcyhjb21wbGV0ZWRFeGVyY2lzZXMpLmZvckVhY2goZXhlcmNpc2VJbmRpY2VzID0+IHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShleGVyY2lzZUluZGljZXMpKSB7XHJcbiAgICAgICAgICBjb21wbGV0ZWRDb3VudCArPSBleGVyY2lzZUluZGljZXMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBFWEVSQ0lTRVNfUEVSX0xFVkVMID0gMjA7XHJcbiAgICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSAoY29tcGxldGVkQ291bnQgLyBFWEVSQ0lTRVNfUEVSX0xFVkVMKSAqIDEwMDtcclxuICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgucm91bmQocGVyY2VudGFnZSksIDEwMCk7XHJcbiAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIGhhbmRsZVByb2dyZXNzRXJyb3IoZXJyb3IsICdjYWxjdWxhdGVFcnJvckNvcnJlY3Rpb25Qcm9ncmVzcycsIGxldmVsLCAwKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBXT1JEIEdBTUVTXHJcbiAgY29uc3QgY2FsY3VsYXRlV29yZEdhbWVzUHJvZ3Jlc3MgPSBhc3luYyAobGV2ZWwpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHN0b3JhZ2VLZXkgPSBgd29yZF9nYW1lc19jb21wbGV0ZWRfJHtsZXZlbH1gO1xyXG4gICAgICBjb25zdCBzYXZlZERhdGEgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5KTtcclxuICAgICAgXHJcbiAgICAgIGlmICghc2F2ZWREYXRhKSByZXR1cm4gMDtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHNhdmVkRGF0YSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjb21wbGV0ZWRDb3VudCA9IE9iamVjdC52YWx1ZXMoZGF0YSkuZmlsdGVyKGdhbWUgPT4gXHJcbiAgICAgICAgZ2FtZT8uY29tcGxldGVkXHJcbiAgICAgICkubGVuZ3RoO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgR0FNRVNfUEVSX0xFVkVMID0gMTA7XHJcbiAgICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSAoY29tcGxldGVkQ291bnQgLyBHQU1FU19QRVJfTEVWRUwpICogMTAwO1xyXG4gICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5yb3VuZChwZXJjZW50YWdlKSwgMTAwKTtcclxuICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZXR1cm4gaGFuZGxlUHJvZ3Jlc3NFcnJvcihlcnJvciwgJ2NhbGN1bGF0ZVdvcmRHYW1lc1Byb2dyZXNzJywgbGV2ZWwsIDApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIEFTU0VTU01FTlRcclxuICBjb25zdCBjYWxjdWxhdGVBc3Nlc3NtZW50UHJvZ3Jlc3MgPSBhc3luYyAobGV2ZWwpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHN0b3JhZ2VLZXkgPSBgYXNzZXNzbWVudF9yZXN1bHRzXyR7bGV2ZWx9YDtcclxuICAgICAgY29uc3Qgc2F2ZWREYXRhID0gYXdhaXQgQXN5bmNTdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleSk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXNhdmVkRGF0YSkgcmV0dXJuIDA7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShzYXZlZERhdGEpO1xyXG4gICAgICByZXR1cm4gZGF0YS5jb21wbGV0ZWRBdCA/IDEwMCA6IDA7XHJcbiAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIGhhbmRsZVByb2dyZXNzRXJyb3IoZXJyb3IsICdjYWxjdWxhdGVBc3Nlc3NtZW50UHJvZ3Jlc3MnLCBsZXZlbCwgMCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PSBDQUxDVUwgR0xPQkFMID09PT09PT09PT09PT09PT09PT1cclxuICBjb25zdCBjYWxjdWxhdGVQcm9ncmVzcyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IG5ld0xldmVsUHJvZ3Jlc3MgPSB7fTtcclxuICAgICAgY29uc3QgbmV3RXhlcmNpc2VQcm9ncmVzcyA9IHt9O1xyXG5cclxuICAgICAgY29uc3QgbGV2ZWxzID0gWycxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICdib251cyddO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgZXhlcmNpc2VDYWxjdWxhdG9ycyA9IHtcclxuICAgICAgICB2b2NhYnVsYXJ5OiBjYWxjdWxhdGVWb2NhYnVsYXJ5UHJvZ3Jlc3MsXHJcbiAgICAgICAgdm9jYWJ1bGFyeV9mYXN0OiBjYWxjdWxhdGVWb2NhYnVsYXJ5RmFzdFByb2dyZXNzLFxyXG4gICAgICAgIGdyYW1tYXI6IGNhbGN1bGF0ZUdyYW1tYXJQcm9ncmVzcyxcclxuICAgICAgICByZWFkaW5nOiBjYWxjdWxhdGVSZWFkaW5nUHJvZ3Jlc3MsXHJcblxyXG4gICAgICAgIHBocmFzZXM6IGNhbGN1bGF0ZVBocmFzZXNQcm9ncmVzcyxcclxuICAgICAgICBjb252ZXJzYXRpb25zOiBjYWxjdWxhdGVDb252ZXJzYXRpb25zUHJvZ3Jlc3MsXHJcbiAgICAgICAgZXJyb3JDb3JyZWN0aW9uOiBjYWxjdWxhdGVFcnJvckNvcnJlY3Rpb25Qcm9ncmVzcyxcclxuICAgICAgICB3b3JkR2FtZXM6IGNhbGN1bGF0ZVdvcmRHYW1lc1Byb2dyZXNzLFxyXG4gICAgICAgIGFzc2Vzc21lbnQ6IGNhbGN1bGF0ZUFzc2Vzc21lbnRQcm9ncmVzcyxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxyXG4gICAgICAgIGxldmVscy5tYXAoYXN5bmMgKGxldmVsKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBhdmFpbGFibGVFeGVyY2lzZXMgPSBsZXZlbCA9PT0gJ2JvbnVzJ1xyXG4gICAgICAgICAgICA/IFsncmVhZGluZycsICd2b2NhYnVsYXJ5JywgJ3BocmFzZXMnXVxyXG4gICAgICAgICAgICA6IE9iamVjdC5rZXlzKGV4ZXJjaXNlQ2FsY3VsYXRvcnMpO1xyXG5cclxuICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChcclxuICAgICAgICAgICAgYXZhaWxhYmxlRXhlcmNpc2VzLm1hcChhc3luYyAoZXhlcmNpc2VUeXBlKSA9PiB7XHJcbiAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNhbGN1bGF0b3IgPSBleGVyY2lzZUNhbGN1bGF0b3JzW2V4ZXJjaXNlVHlwZV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IGNhbGN1bGF0b3IobGV2ZWwpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZXhlcmNpc2VUeXBlLCB2YWx1ZSB9O1xyXG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgRXJyZXVyIGNhbGN1bCAke2V4ZXJjaXNlVHlwZX0gbml2ZWF1ICR7bGV2ZWx9OmAsIGUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZXhlcmNpc2VUeXBlLCB2YWx1ZTogMCB9O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgbGV0IGxldmVsVG90YWwgPSAwO1xyXG4gICAgICAgICAgbGV0IGxldmVsQ29tcGxldGVkID0gMDtcclxuICAgICAgICAgIHJlc3VsdHMuZm9yRWFjaCgoeyBleGVyY2lzZVR5cGUsIHZhbHVlIH0pID0+IHtcclxuICAgICAgICAgICAgaWYgKCFuZXdFeGVyY2lzZVByb2dyZXNzW2V4ZXJjaXNlVHlwZV0pIG5ld0V4ZXJjaXNlUHJvZ3Jlc3NbZXhlcmNpc2VUeXBlXSA9IHt9O1xyXG4gICAgICAgICAgICBuZXdFeGVyY2lzZVByb2dyZXNzW2V4ZXJjaXNlVHlwZV1bbGV2ZWxdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGxldmVsVG90YWwgKz0gMTAwO1xyXG4gICAgICAgICAgICBsZXZlbENvbXBsZXRlZCArPSB2YWx1ZTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIG5ld0xldmVsUHJvZ3Jlc3NbbGV2ZWxdID0gbGV2ZWxUb3RhbCA+IDBcclxuICAgICAgICAgICAgPyBNYXRoLnJvdW5kKChsZXZlbENvbXBsZXRlZCAvIGxldmVsVG90YWwpICogMTAwKVxyXG4gICAgICAgICAgICA6IDA7XHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIHNldExldmVsUHJvZ3Jlc3MobmV3TGV2ZWxQcm9ncmVzcyk7XHJcbiAgICAgIHNldEV4ZXJjaXNlUHJvZ3Jlc3MobmV3RXhlcmNpc2VQcm9ncmVzcyk7XHJcbiAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyZXVyIGNhbGN1bCBwcm9ncmVzc2lvbjonLCBlcnJvcik7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PSBHRVRURVJTID09PT09PT09PT09PT09PT09PT1cclxuICBcclxuICBjb25zdCBnZXRMZXZlbFByb2dyZXNzID0gdXNlQ2FsbGJhY2soKGxldmVsKSA9PiB7XHJcbiAgICByZXR1cm4gbGV2ZWxQcm9ncmVzc1tsZXZlbF0gfHwgMDtcclxuICB9LCBbbGV2ZWxQcm9ncmVzc10pO1xyXG5cclxuICBjb25zdCBnZXRFeGVyY2lzZVByb2dyZXNzID0gdXNlQ2FsbGJhY2soKGV4ZXJjaXNlVHlwZSwgbGV2ZWwpID0+IHtcclxuICAgIHJldHVybiBleGVyY2lzZVByb2dyZXNzW2V4ZXJjaXNlVHlwZV0/LltsZXZlbF0gfHwgMDtcclxuICB9LCBbZXhlcmNpc2VQcm9ncmVzc10pO1xyXG5cclxuICBjb25zdCBoYXNQcm9ncmVzcyA9IHVzZUNhbGxiYWNrKChleGVyY2lzZVR5cGUsIGxldmVsKSA9PiB7XHJcbiAgICByZXR1cm4gZ2V0RXhlcmNpc2VQcm9ncmVzcyhleGVyY2lzZVR5cGUsIGxldmVsKSA+IDA7XHJcbiAgfSwgW2dldEV4ZXJjaXNlUHJvZ3Jlc3NdKTtcclxuXHJcbiAgY29uc3QgaGFzVm9jYWJ1bGFyeVN0YXJ0ZWQgPSB1c2VDYWxsYmFjaygobGV2ZWwpID0+IHtcclxuICAgIHJldHVybiBoYXNQcm9ncmVzcygndm9jYWJ1bGFyeScsIGxldmVsKTtcclxuICB9LCBbaGFzUHJvZ3Jlc3NdKTtcclxuXHJcbiAgY29uc3QgaGFzVm9jYWJ1bGFyeUZhc3RTdGFydGVkID0gdXNlQ2FsbGJhY2soKGxldmVsKSA9PiB7XHJcbiAgICByZXR1cm4gaGFzUHJvZ3Jlc3MoJ3ZvY2FidWxhcnlfZmFzdCcsIGxldmVsKTtcclxuICB9LCBbaGFzUHJvZ3Jlc3NdKTtcclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PSBJTklUID09PT09PT09PT09PT09PT09PT1cclxuICBcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY2FsY3VsYXRlUHJvZ3Jlc3MoKTtcclxuICB9LCBbY2FsY3VsYXRlUHJvZ3Jlc3NdKTtcclxuXHJcbiAgY29uc3QgcmVmcmVzaCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGNhbGN1bGF0ZVByb2dyZXNzKCk7XHJcbiAgfSwgW2NhbGN1bGF0ZVByb2dyZXNzXSk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBsZXZlbFByb2dyZXNzLFxyXG4gICAgZXhlcmNpc2VQcm9ncmVzcyxcclxuICAgIGlzTG9hZGluZyxcclxuICAgIGdldExldmVsUHJvZ3Jlc3MsXHJcbiAgICBnZXRFeGVyY2lzZVByb2dyZXNzLFxyXG4gICAgaGFzUHJvZ3Jlc3MsXHJcbiAgICBoYXNWb2NhYnVsYXJ5U3RhcnRlZCxcclxuICAgIGhhc1ZvY2FidWxhcnlGYXN0U3RhcnRlZCxcclxuICAgIHJlZnJlc2gsXHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHVzZVJlYWxUaW1lUHJvZ3Jlc3M7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRUEsSUFBQUEsTUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsYUFBQSxHQUFBQyxzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQUcscUJBQUEsR0FBQUgsT0FBQTtBQUVBLElBQU1JLG1CQUFtQixHQUFHLFNBQXRCQSxtQkFBbUJBLENBQUEsRUFBUztFQUNoQyxJQUFBQyxTQUFBLEdBQTBDLElBQUFDLGVBQVEsRUFBQyxDQUFDLENBQUMsQ0FBQztJQUFBQyxVQUFBLE9BQUFDLGVBQUEsQ0FBQUMsT0FBQSxFQUFBSixTQUFBO0lBQS9DSyxhQUFhLEdBQUFILFVBQUE7SUFBRUksZ0JBQWdCLEdBQUFKLFVBQUE7RUFDdEMsSUFBQUssVUFBQSxHQUFnRCxJQUFBTixlQUFRLEVBQUMsQ0FBQyxDQUFDLENBQUM7SUFBQU8sVUFBQSxPQUFBTCxlQUFBLENBQUFDLE9BQUEsRUFBQUcsVUFBQTtJQUFyREUsZ0JBQWdCLEdBQUFELFVBQUE7SUFBRUUsbUJBQW1CLEdBQUFGLFVBQUE7RUFDNUMsSUFBQUcsVUFBQSxHQUFrQyxJQUFBVixlQUFRLEVBQUMsSUFBSSxDQUFDO0lBQUFXLFVBQUEsT0FBQVQsZUFBQSxDQUFBQyxPQUFBLEVBQUFPLFVBQUE7SUFBekNFLFNBQVMsR0FBQUQsVUFBQTtJQUFFRSxZQUFZLEdBQUFGLFVBQUE7RUFHOUIsSUFB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