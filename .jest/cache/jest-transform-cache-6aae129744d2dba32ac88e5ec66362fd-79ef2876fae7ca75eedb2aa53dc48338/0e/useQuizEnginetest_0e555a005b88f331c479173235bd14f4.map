{"version":3,"names":["_reactHooks","require","_useQuizEngine","_interopRequireDefault","describe","mockQuestions","id","word","choices","correctAnswer","it","_renderHook","renderHook","useQuizEngine","result","expect","current","currentQuestionIndex","toBe","score","selectedChoice","toBeNull","showResult","isFinished","userAnswers","toEqual","totalQuestions","length","currentQuestion","progress","_renderHook2","act","handleAnswer","question","choice","isCorrect","_renderHook3","_renderHook4","goToNextQuestion","toBeCloseTo","_renderHook5","_renderHook6","handleRestart","_renderHook7","_renderHook8","_renderHook9"],"sources":["useQuizEngine.test.js"],"sourcesContent":["import { renderHook, act } from '@testing-library/react-hooks';\nimport useQuizEngine from '../../../src/hooks/useQuizEngine';\n\ndescribe('useQuizEngine', () => {\n  const mockQuestions = [\n    { id: 1, word: 'Hello', choices: ['Bonjour', 'Au revoir'], correctAnswer: 'Bonjour' },\n    { id: 2, word: 'World', choices: ['Monde', 'Terre'], correctAnswer: 'Monde' },\n    { id: 3, word: 'Cat', choices: ['Chat', 'Chien'], correctAnswer: 'Chat' },\n  ];\n\n  it('initializes with correct default values', () => {\n    const { result } = renderHook(() => useQuizEngine(mockQuestions));\n\n    expect(result.current.currentQuestionIndex).toBe(0);\n    expect(result.current.score).toBe(0);\n    expect(result.current.selectedChoice).toBeNull();\n    expect(result.current.showResult).toBe(false);\n    expect(result.current.isFinished).toBe(false);\n    expect(result.current.userAnswers).toEqual([]);\n    expect(result.current.totalQuestions).toBe(mockQuestions.length);\n    expect(result.current.currentQuestion).toEqual(mockQuestions[0]);\n    expect(result.current.progress).toBe(0);\n  });\n\n  it('handles a correct answer', () => {\n    const { result } = renderHook(() => useQuizEngine(mockQuestions));\n\n    act(() => {\n      result.current.handleAnswer('Bonjour');\n    });\n\n    expect(result.current.score).toBe(1);\n    expect(result.current.selectedChoice).toBe('Bonjour');\n    expect(result.current.showResult).toBe(true);\n    expect(result.current.userAnswers).toEqual([\n      { question: 'Hello', choice: 'Bonjour', isCorrect: true },\n    ]);\n  });\n\n  it('handles an incorrect answer', () => {\n    const { result } = renderHook(() => useQuizEngine(mockQuestions));\n\n    act(() => {\n      result.current.handleAnswer('Au revoir');\n    });\n\n    expect(result.current.score).toBe(0);\n    expect(result.current.selectedChoice).toBe('Au revoir');\n    expect(result.current.showResult).toBe(true);\n    expect(result.current.userAnswers).toEqual([\n      { question: 'Hello', choice: 'Au revoir', isCorrect: false },\n    ]);\n  });\n\n  it('moves to the next question', () => {\n    const { result } = renderHook(() => useQuizEngine(mockQuestions));\n\n    act(() => {\n      result.current.handleAnswer('Bonjour'); // Answer first question\n    });\n\n    act(() => {\n      result.current.goToNextQuestion();\n    });\n\n    expect(result.current.currentQuestionIndex).toBe(1);\n    expect(result.current.selectedChoice).toBeNull();\n    expect(result.current.showResult).toBe(false);\n    expect(result.current.currentQuestion).toEqual(mockQuestions[1]);\n    expect(result.current.progress).toBeCloseTo((1 / 3) * 100); // 1 question answered out of 3\n  });\n\n  it('finishes the quiz when all questions are answered', () => {\n    const { result } = renderHook(() => useQuizEngine(mockQuestions));\n\n    act(() => { result.current.handleAnswer('Bonjour'); });\n    act(() => { result.current.goToNextQuestion(); });\n    act(() => { result.current.handleAnswer('Monde'); });\n    act(() => { result.current.goToNextQuestion(); });\n    act(() => { result.current.handleAnswer('Chat'); });\n    act(() => { result.current.goToNextQuestion(); });\n\n    expect(result.current.isFinished).toBe(true);\n    expect(result.current.currentQuestion).toBeNull();\n    expect(result.current.progress).toBe(100);\n  });\n\n  it('restarts the quiz', () => {\n    const { result } = renderHook(() => useQuizEngine(mockQuestions));\n\n    act(() => { result.current.handleAnswer('Bonjour'); });\n    act(() => { result.current.goToNextQuestion(); });\n    act(() => { result.current.handleAnswer('Monde'); });\n    act(() => { result.current.goToNextQuestion(); });\n    act(() => { result.current.handleAnswer('Chat'); });\n    act(() => { result.current.goToNextQuestion(); });\n\n    expect(result.current.isFinished).toBe(true);\n\n    act(() => {\n      result.current.handleRestart();\n    });\n\n    expect(result.current.currentQuestionIndex).toBe(0);\n    expect(result.current.score).toBe(0);\n    expect(result.current.selectedChoice).toBeNull();\n    expect(result.current.showResult).toBe(false);\n    expect(result.current.isFinished).toBe(false);\n    expect(result.current.userAnswers).toEqual([]);\n    expect(result.current.currentQuestion).toEqual(mockQuestions[0]);\n    expect(result.current.progress).toBe(0);\n  });\n\n  it('does not allow answering if showResult is true', () => {\n    const { result } = renderHook(() => useQuizEngine(mockQuestions));\n\n    act(() => {\n      result.current.handleAnswer('Bonjour'); // Correct answer\n    });\n\n    expect(result.current.score).toBe(1);\n    expect(result.current.showResult).toBe(true);\n\n    act(() => {\n      result.current.handleAnswer('Au revoir'); // Try to answer again\n    });\n\n    // Score should not change, as answering is blocked\n    expect(result.current.score).toBe(1);\n    expect(result.current.selectedChoice).toBe('Bonjour'); // Should remain the first choice\n  });\n\n  it('returns null for currentQuestion if no questions are provided', () => {\n    const { result } = renderHook(() => useQuizEngine([]));\n    expect(result.current.currentQuestion).toBeNull();\n    expect(result.current.totalQuestions).toBe(0);\n    expect(result.current.progress).toBe(0);\n  });\n\n  it('returns null for currentQuestion if index is out of bounds', () => {\n    const { result } = renderHook(() => useQuizEngine(mockQuestions));\n    act(() => {\n      result.current.goToNextQuestion();\n      result.current.goToNextQuestion();\n      result.current.goToNextQuestion();\n      result.current.goToNextQuestion(); // Go past the last question\n    });\n    expect(result.current.currentQuestion).toBeNull();\n    expect(result.current.isFinished).toBe(true);\n  });\n});\n"],"mappings":"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","ignoreList":[]}