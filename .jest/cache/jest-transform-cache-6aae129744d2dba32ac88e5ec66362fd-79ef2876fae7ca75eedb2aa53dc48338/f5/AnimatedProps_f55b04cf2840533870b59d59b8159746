b85061da8e4eb8467501a23d58bdd678
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _get2 = _interopRequireDefault(require("@babel/runtime/helpers/get"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _classPrivateFieldLooseBase2 = _interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldLooseBase"));
var _classPrivateFieldLooseKey2 = _interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldLooseKey"));
var _RendererProxy = require("../../ReactNative/RendererProxy");
var _AnimatedEvent = require("../AnimatedEvent");
var _NativeAnimatedHelper = _interopRequireDefault(require("../../../src/private/animated/NativeAnimatedHelper"));
var _AnimatedNode2 = _interopRequireDefault(require("./AnimatedNode"));
var _AnimatedObject = _interopRequireDefault(require("./AnimatedObject"));
var _AnimatedStyle = _interopRequireDefault(require("./AnimatedStyle"));
var _invariant = _interopRequireDefault(require("invariant"));
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = (0, _get2.default)((0, _getPrototypeOf2.default)(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function createAnimatedProps(inputProps) {
  var nodeKeys = [];
  var nodes = [];
  var props = {};
  var keys = Object.keys(inputProps);
  for (var ii = 0, length = keys.length; ii < length; ii++) {
    var key = keys[ii];
    var value = inputProps[key];
    if (key === 'style') {
      var node = new _AnimatedStyle.default(value);
      nodeKeys.push(key);
      nodes.push(node);
      props[key] = node;
    } else if (value instanceof _AnimatedNode2.default) {
      var _node = value;
      nodeKeys.push(key);
      nodes.push(_node);
      props[key] = _node;
    } else {
      var _node2 = _AnimatedObject.default.from(value);
      if (_node2 == null) {
        props[key] = value;
      } else {
        nodeKeys.push(key);
        nodes.push(_node2);
        props[key] = _node2;
      }
    }
  }
  return [nodeKeys, nodes, props];
}
var _nodeKeys = (0, _classPrivateFieldLooseKey2.default)("nodeKeys");
var _nodes = (0, _classPrivateFieldLooseKey2.default)("nodes");
var AnimatedProps = exports.default = function (_AnimatedNode) {
  function AnimatedProps(inputProps, callback) {
    var _this;
    (0, _classCallCheck2.default)(this, AnimatedProps);
    _this = _callSuper(this, AnimatedProps);
    Object.defineProperty(_this, _nodeKeys, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(_this, _nodes, {
      writable: true,
      value: void 0
    });
    _this._animatedView = null;
    var _createAnimatedProps = createAnimatedProps(inputProps),
      _createAnimatedProps2 = (0, _slicedToArray2.default)(_createAnimatedProps, 3),
      nodeKeys = _createAnimatedProps2[0],
      nodes = _createAnimatedProps2[1],
      props = _createAnimatedProps2[2];
    (0, _classPrivateFieldLooseBase2.default)(_this, _nodeKeys)[_nodeKeys] = nodeKeys;
    (0, _classPrivateFieldLooseBase2.default)(_this, _nodes)[_nodes] = nodes;
    _this._props = props;
    _this._callback = callback;
    return _this;
  }
  (0, _inherits2.default)(AnimatedProps, _AnimatedNode);
  return (0, _createClass2.default)(AnimatedProps, [{
    key: "__getValue",
    value: function __getValue() {
      var props = {};
      var keys = Object.keys(this._props);
      for (var ii = 0, length = keys.length; ii < length; ii++) {
        var key = keys[ii];
        var value = this._props[key];
        if (value instanceof _AnimatedNode2.default) {
          props[key] = value.__getValue();
        } else if (value instanceof _AnimatedEvent.AnimatedEvent) {
          props[key] = value.__getHandler();
        } else {
          props[key] = value;
        }
      }
      return props;
    }
  }, {
    key: "__getAnimatedValue",
    value: function __getAnimatedValue() {
      var props = {};
      var nodeKeys = (0, _classPrivateFieldLooseBase2.default)(this, _nodeKeys)[_nodeKeys];
      var nodes = (0, _classPrivateFieldLooseBase2.default)(this, _nodes)[_nodes];
      for (var ii = 0, length = nodes.length; ii < length; ii++) {
        var key = nodeKeys[ii];
        var node = nodes[ii];
        props[key] = node.__getAnimatedValue();
      }
      return props;
    }
  }, {
    key: "__attach",
    value: function __attach() {
      var nodes = (0, _classPrivateFieldLooseBase2.default)(this, _nodes)[_nodes];
      for (var ii = 0, length = nodes.length; ii < length; ii++) {
        var node = nodes[ii];
        node.__addChild(this);
      }
    }
  }, {
    key: "__detach",
    value: function __detach() {
      if (this.__isNative && this._animatedView) {
        this.__disconnectAnimatedView();
      }
      this._animatedView = null;
      var nodes = (0, _classPrivateFieldLooseBase2.default)(this, _nodes)[_nodes];
      for (var ii = 0, length = nodes.length; ii < length; ii++) {
        var node = nodes[ii];
        node.__removeChild(this);
      }
      _superPropGet(AnimatedProps, "__detach", this, 3)([]);
    }
  }, {
    key: "update",
    value: function update() {
      this._callback();
    }
  }, {
    key: "__makeNative",
    value: function __makeNative(platformConfig) {
      var nodes = (0, _classPrivateFieldLooseBase2.default)(this, _nodes)[_nodes];
      for (var ii = 0, length = nodes.length; ii < length; ii++) {
        var node = nodes[ii];
        node.__makeNative(platformConfig);
      }
      if (!this.__isNative) {
        this.__isNative = true;
        _superPropGet(AnimatedProps, "__setPlatformConfig", this, 3)([platformConfig]);
        if (this._animatedView) {
          this.__connectAnimatedView();
        }
      }
    }
  }, {
    key: "setNativeView",
    value: function setNativeView(animatedView) {
      if (this._animatedView === animatedView) {
        return;
      }
      this._animatedView = animatedView;
      if (this.__isNative) {
        this.__connectAnimatedView();
      }
    }
  }, {
    key: "__connectAnimatedView",
    value: function __connectAnimatedView() {
      (0, _invariant.default)(this.__isNative, 'Expected node to be marked as "native"');
      var nativeViewTag = (0, _RendererProxy.findNodeHandle)(this._animatedView);
      (0, _invariant.default)(nativeViewTag != null, 'Unable to locate attached view in the native tree');
      _NativeAnimatedHelper.default.API.connectAnimatedNodeToView(this.__getNativeTag(), nativeViewTag);
    }
  }, {
    key: "__disconnectAnimatedView",
    value: function __disconnectAnimatedView() {
      (0, _invariant.default)(this.__isNative, 'Expected node to be marked as "native"');
      var nativeViewTag = (0, _RendererProxy.findNodeHandle)(this._animatedView);
      (0, _invariant.default)(nativeViewTag != null, 'Unable to locate attached view in the native tree');
      _NativeAnimatedHelper.default.API.disconnectAnimatedNodeFromView(this.__getNativeTag(), nativeViewTag);
    }
  }, {
    key: "__restoreDefaultValues",
    value: function __restoreDefaultValues() {
      if (this.__isNative) {
        _NativeAnimatedHelper.default.API.restoreDefaultValues(this.__getNativeTag());
      }
    }
  }, {
    key: "__getNativeConfig",
    value: function __getNativeConfig() {
      var platformConfig = this.__getPlatformConfig();
      var propsConfig = {};
      var nodeKeys = (0, _classPrivateFieldLooseBase2.default)(this, _nodeKeys)[_nodeKeys];
      var nodes = (0, _classPrivateFieldLooseBase2.default)(this, _nodes)[_nodes];
      for (var ii = 0, length = nodes.length; ii < length; ii++) {
        var key = nodeKeys[ii];
        var node = nodes[ii];
        node.__makeNative(platformConfig);
        propsConfig[key] = node.__getNativeTag();
      }
      return {
        type: 'props',
        props: propsConfig
      };
    }
  }]);
}(_AnimatedNode2.default);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZGVmYXVsdCIsIl9zbGljZWRUb0FycmF5MiIsIl9jbGFzc0NhbGxDaGVjazIiLCJfY3JlYXRlQ2xhc3MyIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwiX2dldFByb3RvdHlwZU9mMiIsIl9nZXQyIiwiX2luaGVyaXRzMiIsIl9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZTIiLCJfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleTIiLCJfUmVuZGVyZXJQcm94eSIsIl9BbmltYXRlZEV2ZW50IiwiX05hdGl2ZUFuaW1hdGVkSGVscGVyIiwiX0FuaW1hdGVkTm9kZTIiLCJfQW5pbWF0ZWRPYmplY3QiLCJfQW5pbWF0ZWRTdHlsZSIsIl9pbnZhcmlhbnQiLCJfY2FsbFN1cGVyIiwidCIsIm8iLCJlIiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIlJlZmxlY3QiLCJjb25zdHJ1Y3QiLCJjb25zdHJ1Y3RvciIsImFwcGx5IiwiQm9vbGVhbiIsInByb3RvdHlwZSIsInZhbHVlT2YiLCJjYWxsIiwiX3N1cGVyUHJvcEdldCIsInIiLCJwIiwiY3JlYXRlQW5pbWF0ZWRQcm9wcyIsImlucHV0UHJvcHMiLCJub2RlS2V5cyIsIm5vZGVzIiwicHJvcHMiLCJrZXlzIiwiaWkiLCJsZW5ndGgiLCJrZXkiLCJub2RlIiwiQW5pbWF0ZWRTdHlsZSIsInB1c2giLCJBbmltYXRlZE5vZGUiLCJBbmltYXRlZE9iamVjdCIsImZyb20iLCJfbm9kZUtleXMiLCJfbm9kZXMiLCJBbmltYXRlZFByb3BzIiwiX0FuaW1hdGVkTm9kZSIsImNhbGxiYWNrIiwiX3RoaXMiLCJ3cml0YWJsZSIsIl9hbmltYXRlZFZpZXciLCJfY3JlYXRlQW5pbWF0ZWRQcm9wcyIsIl9jcmVhdGVBbmltYXRlZFByb3BzMiIsIl9wcm9wcyIsIl9jYWxsYmFjayIsIl9fZ2V0VmFsdWUiLCJBbmltYXRlZEV2ZW50IiwiX19nZXRIYW5kbGVyIiwiX19nZXRBbmltYXRlZFZhbHVlIiwiX19hdHRhY2giLCJfX2FkZENoaWxkIiwiX19kZXRhY2giLCJfX2lzTmF0aXZlIiwiX19kaXNjb25uZWN0QW5pbWF0ZWRWaWV3IiwiX19yZW1vdmVDaGlsZCIsInVwZGF0ZSIsIl9fbWFrZU5hdGl2ZSIsInBsYXRmb3JtQ29uZmlnIiwiX19jb25uZWN0QW5pbWF0ZWRWaWV3Iiwic2V0TmF0aXZlVmlldyIsImFuaW1hdGVkVmlldyIsImludmFyaWFudCIsIm5hdGl2ZVZpZXdUYWciLCJmaW5kTm9kZUhhbmRsZSIsIk5hdGl2ZUFuaW1hdGVkSGVscGVyIiwiQVBJIiwiY29ubmVjdEFuaW1hdGVkTm9kZVRvVmlldyIsIl9fZ2V0TmF0aXZlVGFnIiwiZGlzY29ubmVjdEFuaW1hdGVkTm9kZUZyb21WaWV3IiwiX19yZXN0b3JlRGVmYXVsdFZhbHVlcyIsInJlc3RvcmVEZWZhdWx0VmFsdWVzIiwiX19nZXROYXRpdmVDb25maWciLCJfX2dldFBsYXRmb3JtQ29uZmlnIiwicHJvcHNDb25maWciLCJ0eXBlIl0sInNvdXJjZXMiOlsiQW5pbWF0ZWRQcm9wcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB0eXBlIHtQbGF0Zm9ybUNvbmZpZ30gZnJvbSAnLi4vQW5pbWF0ZWRQbGF0Zm9ybUNvbmZpZyc7XG5cbmltcG9ydCB7ZmluZE5vZGVIYW5kbGV9IGZyb20gJy4uLy4uL1JlYWN0TmF0aXZlL1JlbmRlcmVyUHJveHknO1xuaW1wb3J0IHtBbmltYXRlZEV2ZW50fSBmcm9tICcuLi9BbmltYXRlZEV2ZW50JztcbmltcG9ydCBOYXRpdmVBbmltYXRlZEhlbHBlciBmcm9tICcuLi8uLi8uLi9zcmMvcHJpdmF0ZS9hbmltYXRlZC9OYXRpdmVBbmltYXRlZEhlbHBlcic7XG5pbXBvcnQgQW5pbWF0ZWROb2RlIGZyb20gJy4vQW5pbWF0ZWROb2RlJztcbmltcG9ydCBBbmltYXRlZE9iamVjdCBmcm9tICcuL0FuaW1hdGVkT2JqZWN0JztcbmltcG9ydCBBbmltYXRlZFN0eWxlIGZyb20gJy4vQW5pbWF0ZWRTdHlsZSc7XG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ2ludmFyaWFudCc7XG5cbmZ1bmN0aW9uIGNyZWF0ZUFuaW1hdGVkUHJvcHMoXG4gIGlucHV0UHJvcHM6IE9iamVjdCxcbik6IFskUmVhZE9ubHlBcnJheTxzdHJpbmc+LCAkUmVhZE9ubHlBcnJheTxBbmltYXRlZE5vZGU+LCBPYmplY3RdIHtcbiAgY29uc3Qgbm9kZUtleXM6IEFycmF5PHN0cmluZz4gPSBbXTtcbiAgY29uc3Qgbm9kZXM6IEFycmF5PEFuaW1hdGVkTm9kZT4gPSBbXTtcbiAgY29uc3QgcHJvcHM6IE9iamVjdCA9IHt9O1xuXG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhpbnB1dFByb3BzKTtcbiAgZm9yIChsZXQgaWkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaWkgPCBsZW5ndGg7IGlpKyspIHtcbiAgICBjb25zdCBrZXkgPSBrZXlzW2lpXTtcbiAgICBjb25zdCB2YWx1ZSA9IGlucHV0UHJvcHNba2V5XTtcblxuICAgIGlmIChrZXkgPT09ICdzdHlsZScpIHtcbiAgICAgIGNvbnN0IG5vZGUgPSBuZXcgQW5pbWF0ZWRTdHlsZSh2YWx1ZSk7XG4gICAgICBub2RlS2V5cy5wdXNoKGtleSk7XG4gICAgICBub2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgcHJvcHNba2V5XSA9IG5vZGU7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFuaW1hdGVkTm9kZSkge1xuICAgICAgY29uc3Qgbm9kZSA9IHZhbHVlO1xuICAgICAgbm9kZUtleXMucHVzaChrZXkpO1xuICAgICAgbm9kZXMucHVzaChub2RlKTtcbiAgICAgIHByb3BzW2tleV0gPSBub2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBub2RlID0gQW5pbWF0ZWRPYmplY3QuZnJvbSh2YWx1ZSk7XG4gICAgICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgICAgIHByb3BzW2tleV0gPSB2YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGVLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgbm9kZXMucHVzaChub2RlKTtcbiAgICAgICAgcHJvcHNba2V5XSA9IG5vZGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFtub2RlS2V5cywgbm9kZXMsIHByb3BzXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQW5pbWF0ZWRQcm9wcyBleHRlbmRzIEFuaW1hdGVkTm9kZSB7XG4gICNub2RlS2V5czogJFJlYWRPbmx5QXJyYXk8c3RyaW5nPjtcbiAgI25vZGVzOiAkUmVhZE9ubHlBcnJheTxBbmltYXRlZE5vZGU+O1xuXG4gIF9hbmltYXRlZFZpZXc6IGFueSA9IG51bGw7XG4gIF9wcm9wczogT2JqZWN0O1xuICBfY2FsbGJhY2s6ICgpID0+IHZvaWQ7XG5cbiAgY29uc3RydWN0b3IoaW5wdXRQcm9wczogT2JqZWN0LCBjYWxsYmFjazogKCkgPT4gdm9pZCkge1xuICAgIHN1cGVyKCk7XG4gICAgY29uc3QgW25vZGVLZXlzLCBub2RlcywgcHJvcHNdID0gY3JlYXRlQW5pbWF0ZWRQcm9wcyhpbnB1dFByb3BzKTtcbiAgICB0aGlzLiNub2RlS2V5cyA9IG5vZGVLZXlzO1xuICAgIHRoaXMuI25vZGVzID0gbm9kZXM7XG4gICAgdGhpcy5fcHJvcHMgPSBwcm9wcztcbiAgICB0aGlzLl9jYWxsYmFjayA9IGNhbGxiYWNrO1xuICB9XG5cbiAgX19nZXRWYWx1ZSgpOiBPYmplY3Qge1xuICAgIGNvbnN0IHByb3BzOiB7W3N0cmluZ106IGFueSB8ICgoLi4uYXJnczogYW55KSA9PiB2b2lkKX0gPSB7fTtcblxuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl9wcm9wcyk7XG4gICAgZm9yIChsZXQgaWkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaWkgPCBsZW5ndGg7IGlpKyspIHtcbiAgICAgIGNvbnN0IGtleSA9IGtleXNbaWldO1xuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLl9wcm9wc1trZXldO1xuXG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBbmltYXRlZE5vZGUpIHtcbiAgICAgICAgcHJvcHNba2V5XSA9IHZhbHVlLl9fZ2V0VmFsdWUoKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBBbmltYXRlZEV2ZW50KSB7XG4gICAgICAgIHByb3BzW2tleV0gPSB2YWx1ZS5fX2dldEhhbmRsZXIoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb3BzW2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcHJvcHM7XG4gIH1cblxuICBfX2dldEFuaW1hdGVkVmFsdWUoKTogT2JqZWN0IHtcbiAgICBjb25zdCBwcm9wczoge1tzdHJpbmddOiBhbnl9ID0ge307XG5cbiAgICBjb25zdCBub2RlS2V5cyA9IHRoaXMuI25vZGVLZXlzO1xuICAgIGNvbnN0IG5vZGVzID0gdGhpcy4jbm9kZXM7XG4gICAgZm9yIChsZXQgaWkgPSAwLCBsZW5ndGggPSBub2Rlcy5sZW5ndGg7IGlpIDwgbGVuZ3RoOyBpaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSBub2RlS2V5c1tpaV07XG4gICAgICBjb25zdCBub2RlID0gbm9kZXNbaWldO1xuICAgICAgcHJvcHNba2V5XSA9IG5vZGUuX19nZXRBbmltYXRlZFZhbHVlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb3BzO1xuICB9XG5cbiAgX19hdHRhY2goKTogdm9pZCB7XG4gICAgY29uc3Qgbm9kZXMgPSB0aGlzLiNub2RlcztcbiAgICBmb3IgKGxldCBpaSA9IDAsIGxlbmd0aCA9IG5vZGVzLmxlbmd0aDsgaWkgPCBsZW5ndGg7IGlpKyspIHtcbiAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1tpaV07XG4gICAgICBub2RlLl9fYWRkQ2hpbGQodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgX19kZXRhY2goKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX19pc05hdGl2ZSAmJiB0aGlzLl9hbmltYXRlZFZpZXcpIHtcbiAgICAgIHRoaXMuX19kaXNjb25uZWN0QW5pbWF0ZWRWaWV3KCk7XG4gICAgfVxuICAgIHRoaXMuX2FuaW1hdGVkVmlldyA9IG51bGw7XG5cbiAgICBjb25zdCBub2RlcyA9IHRoaXMuI25vZGVzO1xuICAgIGZvciAobGV0IGlpID0gMCwgbGVuZ3RoID0gbm9kZXMubGVuZ3RoOyBpaSA8IGxlbmd0aDsgaWkrKykge1xuICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2lpXTtcbiAgICAgIG5vZGUuX19yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICB9XG5cbiAgICBzdXBlci5fX2RldGFjaCgpO1xuICB9XG5cbiAgdXBkYXRlKCk6IHZvaWQge1xuICAgIHRoaXMuX2NhbGxiYWNrKCk7XG4gIH1cblxuICBfX21ha2VOYXRpdmUocGxhdGZvcm1Db25maWc6ID9QbGF0Zm9ybUNvbmZpZyk6IHZvaWQge1xuICAgIGNvbnN0IG5vZGVzID0gdGhpcy4jbm9kZXM7XG4gICAgZm9yIChsZXQgaWkgPSAwLCBsZW5ndGggPSBub2Rlcy5sZW5ndGg7IGlpIDwgbGVuZ3RoOyBpaSsrKSB7XG4gICAgICBjb25zdCBub2RlID0gbm9kZXNbaWldO1xuICAgICAgbm9kZS5fX21ha2VOYXRpdmUocGxhdGZvcm1Db25maWcpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5fX2lzTmF0aXZlKSB7XG4gICAgICB0aGlzLl9faXNOYXRpdmUgPSB0cnVlO1xuXG4gICAgICAvLyBTaW5jZSB0aGlzIGRvZXMgbm90IGNhbGwgdGhlIHN1cGVyLl9fbWFrZU5hdGl2ZSwgd2UgbmVlZCB0byBzdG9yZSB0aGVcbiAgICAgIC8vIHN1cHBsaWVkIHBsYXRmb3JtQ29uZmlnIGhlcmUsIGJlZm9yZSBjYWxsaW5nIF9fY29ubmVjdEFuaW1hdGVkVmlld1xuICAgICAgLy8gd2hlcmUgaXQgd2lsbCBiZSBuZWVkZWQgdG8gdHJhdmVyc2UgdGhlIGdyYXBoIG9mIGF0dGFjaGVkIHZhbHVlcy5cbiAgICAgIHN1cGVyLl9fc2V0UGxhdGZvcm1Db25maWcocGxhdGZvcm1Db25maWcpO1xuXG4gICAgICBpZiAodGhpcy5fYW5pbWF0ZWRWaWV3KSB7XG4gICAgICAgIHRoaXMuX19jb25uZWN0QW5pbWF0ZWRWaWV3KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2V0TmF0aXZlVmlldyhhbmltYXRlZFZpZXc6IGFueSk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9hbmltYXRlZFZpZXcgPT09IGFuaW1hdGVkVmlldykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9hbmltYXRlZFZpZXcgPSBhbmltYXRlZFZpZXc7XG4gICAgaWYgKHRoaXMuX19pc05hdGl2ZSkge1xuICAgICAgdGhpcy5fX2Nvbm5lY3RBbmltYXRlZFZpZXcoKTtcbiAgICB9XG4gIH1cblxuICBfX2Nvbm5lY3RBbmltYXRlZFZpZXcoKTogdm9pZCB7XG4gICAgaW52YXJpYW50KHRoaXMuX19pc05hdGl2ZSwgJ0V4cGVjdGVkIG5vZGUgdG8gYmUgbWFya2VkIGFzIFwibmF0aXZlXCInKTtcbiAgICBjb25zdCBuYXRpdmVWaWV3VGFnOiA/bnVtYmVyID0gZmluZE5vZGVIYW5kbGUodGhpcy5fYW5pbWF0ZWRWaWV3KTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBuYXRpdmVWaWV3VGFnICE9IG51bGwsXG4gICAgICAnVW5hYmxlIHRvIGxvY2F0ZSBhdHRhY2hlZCB2aWV3IGluIHRoZSBuYXRpdmUgdHJlZScsXG4gICAgKTtcbiAgICBOYXRpdmVBbmltYXRlZEhlbHBlci5BUEkuY29ubmVjdEFuaW1hdGVkTm9kZVRvVmlldyhcbiAgICAgIHRoaXMuX19nZXROYXRpdmVUYWcoKSxcbiAgICAgIG5hdGl2ZVZpZXdUYWcsXG4gICAgKTtcbiAgfVxuXG4gIF9fZGlzY29ubmVjdEFuaW1hdGVkVmlldygpOiB2b2lkIHtcbiAgICBpbnZhcmlhbnQodGhpcy5fX2lzTmF0aXZlLCAnRXhwZWN0ZWQgbm9kZSB0byBiZSBtYXJrZWQgYXMgXCJuYXRpdmVcIicpO1xuICAgIGNvbnN0IG5hdGl2ZVZpZXdUYWc6ID9udW1iZXIgPSBmaW5kTm9kZUhhbmRsZSh0aGlzLl9hbmltYXRlZFZpZXcpO1xuICAgIGludmFyaWFudChcbiAgICAgIG5hdGl2ZVZpZXdUYWcgIT0gbnVsbCxcbiAgICAgICdVbmFibGUgdG8gbG9jYXRlIGF0dGFjaGVkIHZpZXcgaW4gdGhlIG5hdGl2ZSB0cmVlJyxcbiAgICApO1xuICAgIE5hdGl2ZUFuaW1hdGVkSGVscGVyLkFQSS5kaXNjb25uZWN0QW5pbWF0ZWROb2RlRnJvbVZpZXcoXG4gICAgICB0aGlzLl9fZ2V0TmF0aXZlVGFnKCksXG4gICAgICBuYXRpdmVWaWV3VGFnLFxuICAgICk7XG4gIH1cblxuICBfX3Jlc3RvcmVEZWZhdWx0VmFsdWVzKCk6IHZvaWQge1xuICAgIC8vIFdoZW4gdXNpbmcgdGhlIG5hdGl2ZSBkcml2ZXIsIHZpZXcgcHJvcGVydGllcyBuZWVkIHRvIGJlIHJlc3RvcmVkIHRvXG4gICAgLy8gdGhlaXIgZGVmYXVsdCB2YWx1ZXMgbWFudWFsbHkgc2luY2UgcmVhY3Qgbm8gbG9uZ2VyIHRyYWNrcyB0aGVtLiBUaGlzXG4gICAgLy8gaXMgbmVlZGVkIHRvIGhhbmRsZSBjYXNlcyB3aGVyZSBhIHByb3AgZHJpdmVuIGJ5IG5hdGl2ZSBhbmltYXRlZCBpcyByZW1vdmVkXG4gICAgLy8gYWZ0ZXIgaGF2aW5nIGJlZW4gY2hhbmdlZCBuYXRpdmVseSBieSBhbiBhbmltYXRpb24uXG4gICAgaWYgKHRoaXMuX19pc05hdGl2ZSkge1xuICAgICAgTmF0aXZlQW5pbWF0ZWRIZWxwZXIuQVBJLnJlc3RvcmVEZWZhdWx0VmFsdWVzKHRoaXMuX19nZXROYXRpdmVUYWcoKSk7XG4gICAgfVxuICB9XG5cbiAgX19nZXROYXRpdmVDb25maWcoKTogT2JqZWN0IHtcbiAgICBjb25zdCBwbGF0Zm9ybUNvbmZpZyA9IHRoaXMuX19nZXRQbGF0Zm9ybUNvbmZpZygpO1xuICAgIGNvbnN0IHByb3BzQ29uZmlnOiB7W3N0cmluZ106IG51bWJlcn0gPSB7fTtcblxuICAgIGNvbnN0IG5vZGVLZXlzID0gdGhpcy4jbm9kZUtleXM7XG4gICAgY29uc3Qgbm9kZXMgPSB0aGlzLiNub2RlcztcbiAgICBmb3IgKGxldCBpaSA9IDAsIGxlbmd0aCA9IG5vZGVzLmxlbmd0aDsgaWkgPCBsZW5ndGg7IGlpKyspIHtcbiAgICAgIGNvbnN0IGtleSA9IG5vZGVLZXlzW2lpXTtcbiAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1tpaV07XG4gICAgICBub2RlLl9fbWFrZU5hdGl2ZShwbGF0Zm9ybUNvbmZpZyk7XG4gICAgICBwcm9wc0NvbmZpZ1trZXldID0gbm9kZS5fX2dldE5hdGl2ZVRhZygpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAncHJvcHMnLFxuICAgICAgcHJvcHM6IHByb3BzQ29uZmlnLFxuICAgIH07XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBVUEsWUFBWTs7QUFBQyxJQUFBQSxzQkFBQSxHQUFBQyxPQUFBO0FBQUFDLE1BQUEsQ0FBQUMsY0FBQSxDQUFBQyxPQUFBO0VBQUFDLEtBQUE7QUFBQTtBQUFBRCxPQUFBLENBQUFFLE9BQUE7QUFBQSxJQUFBQyxlQUFBLEdBQUFQLHNCQUFBLENBQUFDLE9BQUE7QUFBQSxJQUFBTyxnQkFBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQVEsYUFBQSxHQUFBVCxzQkFB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