{"version":3,"names":["_asyncStorage","_interopRequireDefault","require","STORAGE_KEYS","ENABLED","PIN_HASH","PIN_SALT","BIO_ENABLED","RECOVERY_HASH","TIMEOUT_SECONDS","LOCKOUT_UNTIL","FAILED_ATTEMPTS","simpleHash","input","hash","str","String","i","length","charCodeAt","Math","abs","toString","getSecureRandomBytes","_x","_getSecureRandomBytes","apply","arguments","_asyncToGenerator2","default","_require","getRandomBytes","expoError","console","warn","message","crypto","getRandomValues","randomValues","Uint8Array","webCryptoError","nodeCrypto","randomBytes","nodeCryptoError","Error","error","secureRandomSalt","_secureRandomSalt","undefined","chars","out","randomIndex","fallbackRandomSalt","_fallbackRandomSalt","_performance","_crypto","entropySources","Date","now","process","hrtime","floor","performance","entropy","reduce","acc","source","index","generateRecoveryCode","_generateRecoveryCode","code","fallbackGenerateRecoveryCode","_fallbackGenerateRecoveryCode","_performance2","_crypto2","isEnabled","_isEnabled","enabled","AsyncStorage","getItem","enableLock","_enableLock","setItem","disableLock","_disableLock","multiRemove","setPin","_x2","_setPin","pin","salt","pinHash","verifyPin","_x3","_verifyPin","lockoutUntil","Number","ok","reason","expected","given","attempts","lockMs","min","setBiometricsEnabled","_x4","_setBiometricsEnabled","isBiometricsEnabled","_isBiometricsEnabled","v","unlockWithBiometrics","_unlockWithBiometrics","setRecoveryCode","_x5","_setRecoveryCode","verifyRecovery","_x6","_verifyRecovery","setAutoLockTimeout","_x7","_setAutoLockTimeout","seconds","getAutoLockTimeout","_getAutoLockTimeout","emergencyReset","_emergencyReset","lockStorageKeys","exports"],"sources":["lockService.js"],"sourcesContent":["// src/services/lockService.js - Simple offline app lock service (PIN + recovery)\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nconst STORAGE_KEYS = {\r\n  ENABLED: 'app_lock.enabled',\r\n  PIN_HASH: 'app_lock.pin_hash',\r\n  PIN_SALT: 'app_lock.pin_salt',\r\n  BIO_ENABLED: 'app_lock.bio_enabled',\r\n  RECOVERY_HASH: 'app_lock.recovery_hash',\r\n  TIMEOUT_SECONDS: 'app_lock.timeout_seconds',\r\n  LOCKOUT_UNTIL: 'app_lock.lockout_until',\r\n  FAILED_ATTEMPTS: 'app_lock.failed_attempts',\r\n};\r\n\r\n// NOTE: This is not cryptographically strong. For local lock UX only.\r\nfunction simpleHash(input) {\r\n  let hash = 0;\r\n  const str = String(input);\r\n  for (let i = 0; i < str.length; i += 1) {\r\n    hash = (hash << 5) - hash + str.charCodeAt(i);\r\n    hash |= 0;\r\n  }\r\n  return Math.abs(hash).toString(16);\r\n}\r\n\r\n/**\r\n * Génère des bytes aléatoires cryptographiquement sûrs\r\n * @param {number} length - Nombre de bytes à générer\r\n * @returns {Uint8Array} Bytes aléatoires\r\n */\r\nasync function getSecureRandomBytes(length) {\r\n  try {\r\n    // Méthode 1: expo-crypto (recommandé) - seulement si disponible\r\n    if (typeof require !== 'undefined') {\r\n      try {\r\n        const { getRandomBytes } = require('expo-crypto');\r\n        return await getRandomBytes(length);\r\n      } catch (expoError) {\r\n        console.warn('expo-crypto not available:', expoError.message);\r\n      }\r\n    }\r\n    \r\n    try {\r\n      // Méthode 2: Web Crypto API\r\n      if (typeof crypto !== 'undefined' && crypto.getRandomValues) {\r\n        const randomValues = new Uint8Array(length);\r\n        crypto.getRandomValues(randomValues);\r\n        return randomValues;\r\n      }\r\n    } catch (webCryptoError) {\r\n      console.warn('Web Crypto API failed:', webCryptoError);\r\n    }\r\n    \r\n    // Méthode 3: Node.js crypto (si disponible)\r\n    try {\r\n      if (typeof require !== 'undefined') {\r\n        const nodeCrypto = require('crypto');\r\n        return nodeCrypto.randomBytes(length);\r\n      }\r\n    } catch (nodeCryptoError) {\r\n      console.warn('Node.js crypto failed:', nodeCryptoError);\r\n    }\r\n    \r\n    throw new Error('No secure random source available');\r\n  } catch (error) {\r\n    console.warn('All secure random methods failed, using fallback:', error.message);\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Génère un salt cryptographiquement sûr\r\n * @param {number} length - Longueur du salt (défaut: 16)\r\n * @returns {string} Salt sécurisé\r\n */\r\nasync function secureRandomSalt(length = 16) {\r\n  try {\r\n    const randomBytes = await getSecureRandomBytes(length);\r\n    const chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n    let out = '';\r\n    \r\n    for (let i = 0; i < length; i += 1) {\r\n      const randomIndex = randomBytes[i] % chars.length;\r\n      out += chars[randomIndex];\r\n    }\r\n    return out;\r\n  } catch (error) {\r\n    console.warn('Secure random failed, using fallback method:', error.message);\r\n    // Dernier recours : méthode moins sécurisée mais fonctionnelle\r\n    return fallbackRandomSalt(length);\r\n  }\r\n}\r\n\r\n/**\r\n * Fallback moins sécurisé (utilisé uniquement en cas d'échec de toutes les méthodes sécurisées)\r\n * @param {number} length - Longueur du salt\r\n * @returns {string} Salt moins sécurisé\r\n */\r\nasync function fallbackRandomSalt(length = 16) {\r\n  const chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n  let out = '';\r\n  \r\n  // Utilise une combinaison d'entropie système au lieu de Math.random\r\n  const entropySources = [\r\n    Date.now() % 1000000,\r\n    process.hrtime ? process.hrtime()[1] : 0,\r\n    Math.floor(performance?.now() || 0),\r\n    crypto?.getRandomValues ? crypto.getRandomValues(new Uint8Array(1))[0] : 0\r\n  ];\r\n  \r\n  for (let i = 0; i < length; i += 1) {\r\n    // Combine plusieurs sources d'entropie pour améliorer la qualité\r\n    const entropy = entropySources.reduce((acc, source, index) => {\r\n      return acc + (source * (index + 1)) % chars.length;\r\n    }, i);\r\n    const randomIndex = entropy % chars.length;\r\n    out += chars[randomIndex];\r\n  }\r\n  return out;\r\n}\r\n\r\n/**\r\n * Génère un code de récupération cryptographiquement sûr\r\n * @returns {string} Code de récupération sécurisé\r\n */\r\nexport async function generateRecoveryCode() {\r\n  try {\r\n    const randomBytes = await getSecureRandomBytes(16);\r\n    const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';\r\n    let code = '';\r\n    \r\n    for (let i = 0; i < 16; i += 1) {\r\n      const randomIndex = randomBytes[i] % chars.length;\r\n      code += chars[randomIndex];\r\n    }\r\n    return code;\r\n  } catch (error) {\r\n    console.warn('Secure random failed, using fallback method:', error.message);\r\n    // Dernier recours : méthode moins sécurisée mais fonctionnelle\r\n    return fallbackGenerateRecoveryCode();\r\n  }\r\n}\r\n\r\n/**\r\n * Fallback moins sécurisé pour la génération de code de récupération\r\n * @returns {string} Code de récupération moins sécurisé\r\n */\r\nasync function fallbackGenerateRecoveryCode() {\r\n  const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';\r\n  let code = '';\r\n  \r\n  // Utilise une combinaison d'entropie système au lieu de Math.random\r\n  const entropySources = [\r\n    Date.now() % 1000000,\r\n    process.hrtime ? process.hrtime()[1] : 0,\r\n    Math.floor(performance?.now() || 0),\r\n    crypto?.getRandomValues ? crypto.getRandomValues(new Uint8Array(1))[0] : 0\r\n  ];\r\n  \r\n  for (let i = 0; i < 16; i += 1) {\r\n    // Combine plusieurs sources d'entropie pour améliorer la qualité\r\n    const entropy = entropySources.reduce((acc, source, index) => {\r\n      return acc + (source * (index + 1)) % chars.length;\r\n    }, i);\r\n    const randomIndex = entropy % chars.length;\r\n    code += chars[randomIndex];\r\n  }\r\n  return code;\r\n}\r\n\r\nexport async function isEnabled() {\r\n  const enabled = await AsyncStorage.getItem(STORAGE_KEYS.ENABLED);\r\n  return enabled === '1';\r\n}\r\n\r\nexport async function enableLock() {\r\n  await AsyncStorage.setItem(STORAGE_KEYS.ENABLED, '1');\r\n  return true;\r\n}\r\n\r\nexport async function disableLock() {\r\n  await AsyncStorage.multiRemove([\r\n    STORAGE_KEYS.ENABLED,\r\n    STORAGE_KEYS.PIN_HASH,\r\n    STORAGE_KEYS.PIN_SALT,\r\n    STORAGE_KEYS.BIO_ENABLED,\r\n    STORAGE_KEYS.RECOVERY_HASH,\r\n    STORAGE_KEYS.TIMEOUT_SECONDS,\r\n    STORAGE_KEYS.LOCKOUT_UNTIL,\r\n    STORAGE_KEYS.FAILED_ATTEMPTS,\r\n  ]);\r\n  return true;\r\n}\r\n\r\nexport async function setPin(pin) {\r\n  const salt = await secureRandomSalt();\r\n  const pinHash = simpleHash(`${salt}:${pin}`);\r\n  await AsyncStorage.setItem(STORAGE_KEYS.PIN_SALT, salt);\r\n  await AsyncStorage.setItem(STORAGE_KEYS.PIN_HASH, pinHash);\r\n  return true;\r\n}\r\n\r\nexport async function verifyPin(pin) {\r\n  const lockoutUntil = Number(await AsyncStorage.getItem(STORAGE_KEYS.LOCKOUT_UNTIL) || '0');\r\n  const now = Date.now();\r\n  if (lockoutUntil && now < lockoutUntil) {\r\n    return { ok: false, reason: 'lockout' };\r\n  }\r\n\r\n  const salt = await AsyncStorage.getItem(STORAGE_KEYS.PIN_SALT);\r\n  const expected = await AsyncStorage.getItem(STORAGE_KEYS.PIN_HASH);\r\n  if (!salt || !expected) return { ok: false };\r\n  const given = simpleHash(`${salt}:${pin}`);\r\n  const ok = given === expected;\r\n\r\n  let attempts = Number(await AsyncStorage.getItem(STORAGE_KEYS.FAILED_ATTEMPTS) || '0');\r\n  if (ok) {\r\n    await AsyncStorage.setItem(STORAGE_KEYS.FAILED_ATTEMPTS, '0');\r\n    return { ok: true };\r\n  }\r\n  attempts += 1;\r\n  await AsyncStorage.setItem(STORAGE_KEYS.FAILED_ATTEMPTS, String(attempts));\r\n  if (attempts >= 5) {\r\n    const lockMs = 30_000 * Math.min(4, attempts - 4); // 30s, 60s, 90s, 120s\r\n    await AsyncStorage.setItem(STORAGE_KEYS.LOCKOUT_UNTIL, String(now + lockMs));\r\n    return { ok: false, reason: 'lockout' };\r\n  }\r\n  return { ok: false };\r\n}\r\n\r\nexport async function setBiometricsEnabled(enabled) {\r\n  await AsyncStorage.setItem(STORAGE_KEYS.BIO_ENABLED, enabled ? '1' : '0');\r\n  return true;\r\n}\r\n\r\nexport async function isBiometricsEnabled() {\r\n  const v = await AsyncStorage.getItem(STORAGE_KEYS.BIO_ENABLED);\r\n  return v === '1';\r\n}\r\n\r\nexport async function unlockWithBiometrics() {\r\n  // Placeholder for real expo-local-authentication integration\r\n  const enabled = await isBiometricsEnabled();\r\n  if (!enabled) return { ok: false };\r\n  // In real app: prompt biometric and return result\r\n  return { ok: true };\r\n}\r\n\r\nexport async function setRecoveryCode(code) {\r\n  const hash = simpleHash(code);\r\n  await AsyncStorage.setItem(STORAGE_KEYS.RECOVERY_HASH, hash);\r\n  return true;\r\n}\r\n\r\nexport async function verifyRecovery(code) {\r\n  const expected = await AsyncStorage.getItem(STORAGE_KEYS.RECOVERY_HASH);\r\n  if (!expected) return false;\r\n  return simpleHash(code) === expected;\r\n}\r\n\r\nexport async function setAutoLockTimeout(seconds) {\r\n  await AsyncStorage.setItem(STORAGE_KEYS.TIMEOUT_SECONDS, String(seconds));\r\n  return true;\r\n}\r\n\r\nexport async function getAutoLockTimeout() {\r\n  return Number(await AsyncStorage.getItem(STORAGE_KEYS.TIMEOUT_SECONDS) || '0');\r\n}\r\n\r\nexport async function emergencyReset() {\r\n  await disableLock();\r\n  return true;\r\n}\r\n\r\nexport const lockStorageKeys = STORAGE_KEYS;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]}