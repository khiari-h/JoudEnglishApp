{"version":3,"names":["_getJestObj","mock","getItem","jest","fn","setItem","LinearGradient","_ref","children","props","_objectWithoutProperties2","default","_excluded","_require","require","View","_jsxRuntime","jsx","Object","assign","router","push","__esModule","getLevelProgress","level","progressMap","refresh","mockResolvedValue","lastActivity","type","title","metadata","word","totalWords","categoryIndex","isLoading","reload","LANGUAGE_LEVELS","color","icon","EXERCISES","vocabulary","id","route","grammar","assessment","_require2","ScrollView","RefreshControl","_ref2","_ref2$withScrollView","withScrollView","_excluded2","refreshControl","refreshing","onRefresh","_require3","testID","_interopRequireDefault","_asyncToGenerator2","_react","_reactNative","_asyncStorage","_Dashboard","_ThemeContext","_ProgressContext","_CurrentLevelContext","_require5","_require4","describe","mockThemeContext","colors","background","primary","surface","text","textSecondary","mockProgressContext","progress","level1","level2","currentLevel","calculateGlobalProgress","calculateLevelProgress","mockCurrentLevelContext","setCurrentLevel","beforeEach","clearAllMocks","useProgress","mockReturnValue","useCurrentLevel","AsyncStorage","mockClear","renderDashboard","render","ThemeContext","Provider","value","it","_renderDashboard","getByText","waitFor","expect","toBeTruthy","continueButton","fireEvent","press","toHaveBeenCalledWith","pathname","params","_renderDashboard2","vocabularyButton","mode","_renderDashboard3","level2Button","_renderDashboard4","_renderDashboard5","_renderDashboard6","getByTestId","levelButton","mockReturnValueOnce","_render","rerender","doMock","_renderDashboard7","startButton","mockRejectedValue","Error","consoleSpy","spyOn","console","mockImplementation","_renderDashboard8","changeButton","any","mockRestore","mockReload","mockRefresh","_renderDashboard9","scrollView","toHaveBeenCalled","_renderDashboard0","_renderDashboard1","_renderDashboard10","toHaveBeenCalledTimes"],"sources":["Dashboard.integration.test.js"],"sourcesContent":["// __tests__/screens/Dashboard/Dashboard.integration.test.js\nimport React from 'react';\nimport { render, fireEvent, waitFor, act } from '@testing-library/react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport Dashboard from '../../../src/screens/Dashboard';\nimport { ThemeContext } from '../../../src/contexts/ThemeContext';\nimport { useProgress } from '../../../src/contexts/ProgressContext';\nimport { useCurrentLevel } from '../../../src/contexts/CurrentLevelContext';\n\n// Mock des dépendances\njest.mock('@react-native-async-storage/async-storage', () => ({\n  getItem: jest.fn(),\n  setItem: jest.fn(),\n}));\n\njest.mock('expo-linear-gradient', () => ({\n  LinearGradient: ({ children, ...props }) => {\n    const { View } = require('react-native');\n    return <View {...props}>{children}</View>;\n  }\n}));\n\njest.mock('expo-router', () => ({\n  router: {\n    push: jest.fn(),\n  },\n}));\n\n// Mock des contextes\njest.mock('../../../src/contexts/ProgressContext');\njest.mock('../../../src/contexts/CurrentLevelContext');\n\n// Mock des hooks avec des implémentations plus réalistes\njest.mock('../../../src/hooks/useRealTimeProgress', () => ({\n  __esModule: true,\n  default: () => ({\n    getLevelProgress: jest.fn((level) => {\n      const progressMap = { \n        '1': 25, '2': 50, '3': 75, '4': 30, '5': 10, '6': 0, 'bonus': 5 \n      };\n      return progressMap[level] || 0;\n    }),\n    refresh: jest.fn().mockResolvedValue()\n  })\n}));\n\njest.mock('../../../src/hooks/useLastActivity', () => ({\n  __esModule: true,\n  default: () => ({\n    lastActivity: {\n      type: 'vocabulary',\n      level: '2',\n      title: 'Vocabulaire Famille',\n      metadata: { \n        word: 8, \n        totalWords: 20,\n        categoryIndex: 2\n      }\n    },\n    isLoading: false,\n    reload: jest.fn().mockResolvedValue()\n  })\n}));\n\n// Mock des constantes\njest.mock('../../../src/utils/constants', () => ({\n  LANGUAGE_LEVELS: {\n    '1': { title: 'Débutant', color: '#10B981', icon: '🌱' },\n    '2': { title: 'Élémentaire', color: '#3B82F6', icon: '📚' },\n    '3': { title: 'Intermédiaire', color: '#8B5CF6', icon: '🎯' },\n    '4': { title: 'Intermédiaire+', color: '#F59E0B', icon: '🚀' },\n    '5': { title: 'Avancé', color: '#EF4444', icon: '⭐' },\n    '6': { title: 'Expert', color: '#EC4899', icon: '👑' },\n    'bonus': { title: 'Bonus', color: '#6366F1', icon: '🎁' }\n  },\n  EXERCISES: {\n    vocabulary: { \n      id: 'vocabulary',\n      route: '/tabs/vocabulary',\n      title: 'Vocabulaire',\n      icon: '📚',\n      color: '#3B82F6'\n    },\n    grammar: { \n      id: 'grammar',\n      route: '/tabs/grammar',\n      title: 'Grammaire',\n      icon: '📝',\n      color: '#8B5CF6'\n    },\n    assessment: {\n      id: 'assessment',\n      route: '/tabs/assessment',\n      title: 'Test',\n      icon: '🎯',\n      color: '#EF4444'\n    }\n  }\n}));\n\n// Mock du Container\njest.mock('../../../src/components/layout/Container', () => {\n  const { ScrollView, View, RefreshControl } = require('react-native');\n  return ({ children, withScrollView = true, ...props }) => {\n    if (withScrollView === false) {\n      return <View {...props}>{children}</View>;\n    }\n    return (\n      <ScrollView \n        {...props}\n        refreshControl={<RefreshControl refreshing={false} onRefresh={() => {}} />}\n      >\n        {children}\n      </ScrollView>\n    );\n  };\n});\n\n// Mock du RevisionOrchestrator\njest.mock('../../../src/screens/VocabularyRevision/RevisionOrchestrator', () => {\n  const { View } = require('react-native');\n  return () => <View testID=\"revision-orchestrator\" />;\n});\n\nconst { router } = require('expo-router');\n\ndescribe('Dashboard - Tests d\\'intégration', () => {\n  const mockThemeContext = {\n    colors: {\n      background: '#F8FAFC',\n      primary: '#3B82F6',\n      surface: '#FFFFFF',\n      text: '#1F2937',\n      textSecondary: '#6B7280'\n    }\n  };\n\n  const mockProgressContext = {\n    progress: { \n      level1: 50, \n      level2: 30,\n      currentLevel: '1'\n    },\n    isLoading: false,\n    calculateGlobalProgress: jest.fn(() => 65),\n    calculateLevelProgress: jest.fn((level) => {\n      const progressMap = { '1': 25, '2': 50, '3': 75 };\n      return progressMap[level] || 0;\n    })\n  };\n\n  const mockCurrentLevelContext = {\n    setCurrentLevel: jest.fn()\n  };\n\n  beforeEach(() => {\n    jest.clearAllMocks();\n    useProgress.mockReturnValue(mockProgressContext);\n    useCurrentLevel.mockReturnValue(mockCurrentLevelContext);\n    AsyncStorage.getItem.mockResolvedValue(null);\n    AsyncStorage.setItem.mockResolvedValue();\n    router.push.mockClear();\n  });\n\n  const renderDashboard = () => {\n    return render(\n      <ThemeContext.Provider value={mockThemeContext}>\n        <Dashboard />\n      </ThemeContext.Provider>\n    );\n  };\n\n  describe('Flux complet de navigation', () => {\n    it('devrait permettre de continuer une activité existante', async () => {\n      const { getByText } = renderDashboard();\n\n      await waitFor(() => {\n        expect(getByText('Vocabulaire Famille')).toBeTruthy();\n      });\n\n      const continueButton = getByText('Continuer ▶️');\n      fireEvent.press(continueButton);\n\n      expect(router.push).toHaveBeenCalledWith({\n        pathname: '/tabs/vocabulary',\n        params: { level: '2' }\n      });\n    });\n\n    it('devrait permettre de démarrer un nouvel exercice via QuickActions', async () => {\n      const { getByText } = renderDashboard();\n\n      await waitFor(() => {\n        expect(getByText('Vocabulaire')).toBeTruthy();\n      });\n\n      const vocabularyButton = getByText('Vocabulaire');\n      fireEvent.press(vocabularyButton);\n\n      expect(router.push).toHaveBeenCalledWith({\n        pathname: '/tabs/vocabulary',\n        params: { level: '1', mode: 'classic' }\n      });\n    });\n\n    it('devrait permettre de changer de niveau et naviguer', async () => {\n      const { getByText } = renderDashboard();\n\n      await waitFor(() => {\n        expect(getByText('📚 Élémentaire')).toBeTruthy();\n      });\n\n      // Cliquer sur un niveau pour le sélectionner\n      const level2Button = getByText('📚 Élémentaire');\n      fireEvent.press(level2Button);\n\n      expect(mockCurrentLevelContext.setCurrentLevel).toHaveBeenCalledWith('2');\n      expect(router.push).toHaveBeenCalledWith('/tabs/exerciseSelection?level=2');\n    });\n  });\n\n  describe('Synchronisation des données', () => {\n    it('devrait synchroniser le niveau entre les composants', async () => {\n      AsyncStorage.getItem.mockResolvedValue('3'); // Niveau sauvegardé\n\n      const { getByText } = renderDashboard();\n\n      await waitFor(() => {\n        expect(getByText('3')).toBeTruthy(); // Badge niveau dans header\n      });\n    });\n\n    it('devrait mettre à jour la progression en temps réel', async () => {\n      const { getByText } = renderDashboard();\n\n      await waitFor(() => {\n        // Vérifier que la progression du niveau 1 (25%) est affichée\n        expect(getByText('25%')).toBeTruthy();\n      });\n    });\n\n    it('devrait gérer le changement de niveau actif', async () => {\n      const { getByTestId } = renderDashboard();\n\n      await waitFor(() => {\n        const levelButton = getByTestId('level-selector-2');\n        if (levelButton) {\n          fireEvent.press(levelButton);\n        }\n      });\n\n      // Vérifier que le niveau a été sauvegardé\n      expect(AsyncStorage.setItem).toHaveBeenCalledWith('user_active_level', '2');\n    });\n  });\n\n  describe('Gestion des états de chargement', () => {\n    it('devrait afficher le chargement puis les données', async () => {\n      // Simuler un chargement initial\n      useProgress.mockReturnValueOnce({ ...mockProgressContext, isLoading: true });\n\n      const { getByText, rerender } = render(\n        <ThemeContext.Provider value={mockThemeContext}>\n          <Dashboard />\n        </ThemeContext.Provider>\n      );\n\n      expect(getByText('Chargement du tableau de bord...')).toBeTruthy();\n\n      // Simuler la fin du chargement\n      useProgress.mockReturnValue({ ...mockProgressContext, isLoading: false });\n\n      rerender(\n        <ThemeContext.Provider value={mockThemeContext}>\n          <Dashboard />\n        </ThemeContext.Provider>\n      );\n\n      await waitFor(() => {\n        expect(getByText('🎓')).toBeTruthy(); // Logo dans header\n        expect(getByText('Vocabulaire Famille')).toBeTruthy(); // Activité\n      });\n    });\n  });\n\n  describe('Gestion des erreurs et cas limites', () => {\n    it('devrait gérer l\\'absence d\\'activité récente', async () => {\n      // Mock sans activité récente\n      jest.doMock('../../../src/hooks/useLastActivity', () => ({\n        __esModule: true,\n        default: () => ({\n          lastActivity: null,\n          isLoading: false,\n          reload: jest.fn().mockResolvedValue()\n        })\n      }));\n\n      const { getByText } = renderDashboard();\n\n      await waitFor(() => {\n        expect(getByText('Commencer l\\'apprentissage')).toBeTruthy();\n      });\n\n      const startButton = getByText('Commencer >');\n      fireEvent.press(startButton);\n\n      expect(router.push).toHaveBeenCalledWith('/(tabs)/levelSelection');\n    });\n\n    it('devrait gérer les erreurs de sauvegarde AsyncStorage', async () => {\n      AsyncStorage.setItem.mockRejectedValue(new Error('Storage error'));\n      const consoleSpy = jest.spyOn(console, 'error').mockImplementation();\n\n      const { getByTestId } = renderDashboard();\n\n      await waitFor(() => {\n        // Simuler un changement de niveau qui déclenche une sauvegarde\n        const changeButton = getByTestId('level-change-button');\n        if (changeButton) {\n          fireEvent.press(changeButton);\n        }\n      });\n\n      // L'erreur devrait être gérée gracieusement\n      expect(consoleSpy).toHaveBeenCalledWith(\n        'Erreur sauvegarde niveau actif:',\n        expect.any(Error)\n      );\n\n      consoleSpy.mockRestore();\n    });\n  });\n\n  describe('Pull-to-refresh et actualisation', () => {\n    it('devrait actualiser les données lors du pull-to-refresh', async () => {\n      const mockReload = jest.fn().mockResolvedValue();\n      const mockRefresh = jest.fn().mockResolvedValue();\n\n      // Mock avec fonctions de reload\n      jest.doMock('../../../src/hooks/useLastActivity', () => ({\n        __esModule: true,\n        default: () => ({\n          lastActivity: null,\n          isLoading: false,\n          reload: mockReload\n        })\n      }));\n\n      jest.doMock('../../../src/hooks/useRealTimeProgress', () => ({\n        __esModule: true,\n        default: () => ({\n          getLevelProgress: jest.fn(() => 25),\n          refresh: mockRefresh\n        })\n      }));\n\n      const { getByTestId } = renderDashboard();\n\n      await waitFor(() => {\n        // Simuler un pull-to-refresh\n        const scrollView = getByTestId('dashboard-scroll');\n        if (scrollView) {\n          fireEvent(scrollView, 'refresh');\n        }\n      });\n\n      // Les fonctions de reload devraient être appelées\n      expect(mockReload).toHaveBeenCalled();\n      expect(mockRefresh).toHaveBeenCalled();\n    });\n  });\n\n  describe('Révision automatique', () => {\n    it('devrait afficher le système de révision', async () => {\n      const { getByTestId } = renderDashboard();\n\n      await waitFor(() => {\n        expect(getByTestId('revision-orchestrator')).toBeTruthy();\n      });\n    });\n  });\n\n  describe('Responsive et adaptation', () => {\n    it('devrait s\\'adapter aux différentes tailles d\\'écran', async () => {\n      // Test basique - vérifier que tous les composants sont présents\n      const { getByText, getByTestId } = renderDashboard();\n\n      await waitFor(() => {\n        expect(getByText('🎓')).toBeTruthy(); // Header\n        expect(getByText('Vocabulaire Famille')).toBeTruthy(); // Hero section\n        expect(getByText('⚡ Actions rapides')).toBeTruthy(); // Quick actions\n        expect(getByTestId('revision-orchestrator')).toBeTruthy(); // Revision\n      });\n    });\n  });\n\n  describe('Performance et optimisation', () => {\n    it('ne devrait pas recalculer inutilement les données', async () => {\n      const { rerender } = renderDashboard();\n\n      // Premier rendu\n      await waitFor(() => {\n        expect(mockProgressContext.calculateLevelProgress).toHaveBeenCalledTimes(7); // 7 niveaux\n      });\n\n      // Rerender sans changement de props\n      rerender(\n        <ThemeContext.Provider value={mockThemeContext}>\n          <Dashboard />\n        </ThemeContext.Provider>\n      );\n\n      // Ne devrait pas recalculer\n      expect(mockProgressContext.calculateLevelProgress).toHaveBeenCalledTimes(7);\n    });\n  });\n});"],"mappings":"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","ignoreList":[]}