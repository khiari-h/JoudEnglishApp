60eafe3f7d60b3f4d4ece55f5a8bcdee
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = require("react");
var _reactNative = require("react-native");
var _native = require("@react-navigation/native");
var _expoRouter = require("expo-router");
var _propTypes = _interopRequireDefault(require("prop-types"));
var _Container = _interopRequireWildcard(require("../../../components/layout/Container"));
var _PhrasesHeader = _interopRequireDefault(require("./PhrasesHeader"));
var _PhrasesCategorySelector = _interopRequireDefault(require("./PhrasesCategorySelector"));
var _PhrasesProgress = _interopRequireDefault(require("./PhrasesProgress"));
var _PhraseCard = _interopRequireDefault(require("./PhraseCard"));
var _PhrasesNavigation = _interopRequireDefault(require("./PhrasesNavigation"));
var _usePhrases2 = _interopRequireDefault(require("./hooks/usePhrases"));
var _useLastActivity2 = _interopRequireDefault(require("../../../hooks/useLastActivity"));
var _phrasesDataHelper = require("../../../utils/phrases/phrasesDataHelper");
var _style = _interopRequireDefault(require("./style"));
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
var PhrasesExercise = function PhrasesExercise(_ref) {
  var _phrasesData$categori3;
  var route = _ref.route;
  var navigation = (0, _native.useNavigation)();
  var _ref2 = (route == null ? void 0 : route.params) || {},
    _ref2$level = _ref2.level,
    level = _ref2$level === void 0 ? "A1" : _ref2$level;
  var styles = (0, _style.default)();
  var _useLastActivity = (0, _useLastActivity2.default)(),
    saveActivity = _useLastActivity.saveActivity;
  var levelColor = (0, _phrasesDataHelper.getLevelColor)(level);
  var _useState = (0, _react.useState)(null),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    phrasesData = _useState2[0],
    setPhrasesData = _useState2[1];
  var _useState3 = (0, _react.useState)(true),
    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
    isDataLoading = _useState4[0],
    setIsDataLoading = _useState4[1];
  (0, _react.useEffect)(function () {
    var isMounted = true;
    var load = function () {
      var _ref3 = (0, _asyncToGenerator2.default)(function* () {
        setIsDataLoading(true);
        try {
          if (process.env.JEST_WORKER_ID) {
            var _data = (0, _phrasesDataHelper.getPhrasesData)(level);
            if (isMounted) {
              setPhrasesData(_data);
              setIsDataLoading(false);
            }
            return;
          }
          var data = yield (0, _phrasesDataHelper.loadPhrasesData)(level);
          if (isMounted) {
            setPhrasesData(data);
            setIsDataLoading(false);
          }
        } catch (error) {
          console.error('Erreur chargement donnÃ©es phrases:', error);
          if (isMounted) {
            setIsDataLoading(false);
          }
        }
      });
      return function load() {
        return _ref3.apply(this, arguments);
      };
    }();
    load();
    return function () {
      isMounted = false;
    };
  }, [level]);
  var _usePhrases = (0, _usePhrases2.default)(phrasesData, level),
    categoryIndex = _usePhrases.categoryIndex,
    phraseIndex = _usePhrases.phraseIndex,
    showTranslation = _usePhrases.showTranslation,
    completedPhrases = _usePhrases.completedPhrases,
    loaded = _usePhrases.loaded,
    showDetailedProgress = _usePhrases.showDetailedProgress,
    currentPhrase = _usePhrases.currentPhrase,
    currentPhrases = _usePhrases.currentPhrases,
    totalPhrasesInCategory = _usePhrases.totalPhrasesInCategory,
    hasValidData = _usePhrases.hasValidData,
    changeCategory = _usePhrases.changeCategory,
    toggleTranslation = _usePhrases.toggleTranslation,
    toggleDetailedProgress = _usePhrases.toggleDetailedProgress,
    handleNext = _usePhrases.handleNext,
    handlePrevious = _usePhrases.handlePrevious,
    canGoToPrevious = _usePhrases.canGoToPrevious,
    isLastPhraseInCategory = _usePhrases.isLastPhraseInCategory,
    stats = _usePhrases.stats,
    display = _usePhrases.display;
  (0, _react.useEffect)(function () {
    if (loaded && hasValidData && currentPhrase && currentPhrases.length > 0 && phraseIndex < 100) {
      var _phrasesData$categori, _phrasesData$categori2;
      var currentCategory = phrasesData == null || (_phrasesData$categori = phrasesData.categories) == null ? void 0 : _phrasesData$categori[categoryIndex];
      var activityData = {
        title: "Expressions",
        level: level,
        type: "phrases",
        metadata: {
          phrase: phraseIndex,
          totalPhrases: totalPhrasesInCategory || currentPhrases.length,
          category: (currentCategory == null ? void 0 : currentCategory.name) || "GÃ©nÃ©ral",
          categoryIndex: categoryIndex,
          totalCategories: (phrasesData == null || (_phrasesData$categori2 = phrasesData.categories) == null ? void 0 : _phrasesData$categori2.length) || 1
        }
      };
      saveActivity(activityData);
    }
  }, [loaded, hasValidData, currentPhrase, currentPhrases.length, phraseIndex, totalPhrasesInCategory, categoryIndex, level]);
  var handleBackPress = (0, _react.useCallback)(function () {
    _expoRouter.router.push({
      pathname: "/tabs/exerciseSelection",
      params: {
        level: level
      }
    });
  }, [level]);
  var handleCategoryChange = (0, _react.useCallback)(function (index) {
    return changeCategory(index);
  }, [changeCategory]);
  var handleToggleProgressDetails = (0, _react.useCallback)(function () {
    return toggleDetailedProgress();
  }, [toggleDetailedProgress]);
  var handleNextPhrase = (0, _react.useCallback)(function () {
    var result = handleNext();
    if (result.completed) {
      navigation.goBack();
    }
  }, [handleNext, navigation]);
  var handlePreviousPhrase = (0, _react.useCallback)(function () {
    return handlePrevious();
  }, [handlePrevious]);
  console.log('ðŸ” DEBUG Phrases:', {
    isDataLoading: isDataLoading,
    loaded: loaded,
    hasValidData: hasValidData,
    phrasesData: !!phrasesData,
    phrasesDataLength: (phrasesData == null || (_phrasesData$categori3 = phrasesData.categories) == null ? void 0 : _phrasesData$categori3.length) || 0
  });
  if (isDataLoading || !loaded || !hasValidData) {
    return (0, _jsxRuntime.jsx)(_Container.default, {
      safeArea: true,
      safeAreaEdges: _Container.CONTAINER_SAFE_EDGES.ALL,
      backgroundColor: "#f8fafc",
      statusBarStyle: "dark-content",
      children: (0, _jsxRuntime.jsx)(_reactNative.View, {
        style: styles.loadingContainer,
        children: (0, _jsxRuntime.jsx)(_reactNative.ActivityIndicator, {
          size: "large",
          color: levelColor,
          testID: "activity-indicator"
        })
      })
    });
  }
  if (currentPhrases.length === 0) {
    return (0, _jsxRuntime.jsxs)(_Container.default, {
      safeArea: true,
      safeAreaEdges: _Container.CONTAINER_SAFE_EDGES.ALL,
      backgroundColor: "#f8fafc",
      statusBarStyle: "dark-content",
      children: [(0, _jsxRuntime.jsx)(_PhrasesHeader.default, {
        level: level,
        onBackPress: handleBackPress
      }), (0, _jsxRuntime.jsx)(_reactNative.View, {
        style: styles.emptyStateContainer,
        children: (0, _jsxRuntime.jsx)(_reactNative.ActivityIndicator, {
          size: "large",
          color: levelColor,
          testID: "activity-indicator"
        })
      })]
    });
  }
  return (0, _jsxRuntime.jsxs)(_Container.default, {
    safeArea: true,
    safeAreaEdges: _Container.CONTAINER_SAFE_EDGES.ALL,
    withScrollView: true,
    backgroundColor: "#f8fafc",
    statusBarStyle: "dark-content",
    withPadding: false,
    scrollViewProps: {
      showsVerticalScrollIndicator: false,
      contentContainerStyle: styles.scrollContent
    },
    children: [(0, _jsxRuntime.jsx)(_PhrasesHeader.default, {
      level: level,
      onBackPress: handleBackPress
    }), (0, _jsxRuntime.jsx)(_PhrasesProgress.default, {
      progress: stats.completionProgress,
      currentPhrase: phraseIndex + 1,
      totalPhrases: totalPhrasesInCategory,
      completedCount: stats.completedPhrasesCount,
      levelColor: levelColor,
      phrasesData: phrasesData,
      completedPhrases: completedPhrases,
      expanded: showDetailedProgress,
      onToggleExpand: handleToggleProgressDetails,
      onCategoryPress: handleCategoryChange
    }), (0, _jsxRuntime.jsx)(_PhrasesCategorySelector.default, {
      categories: display.categories,
      selectedIndex: categoryIndex,
      onSelectCategory: handleCategoryChange,
      levelColor: levelColor
    }), (0, _jsxRuntime.jsx)(_PhraseCard.default, {
      phraseData: currentPhrase,
      showTranslation: showTranslation,
      onToggleTranslation: toggleTranslation,
      levelColor: levelColor
    }), (0, _jsxRuntime.jsx)(_PhrasesNavigation.default, {
      onNext: handleNextPhrase,
      onPrevious: handlePreviousPhrase,
      disablePrevious: !canGoToPrevious,
      disableNext: false,
      isLast: isLastPhraseInCategory,
      levelColor: levelColor
    })]
  });
};
var _default = exports.default = PhrasesExercise;
PhrasesExercise.propTypes = {
  route: _propTypes.default.shape({
    params: _propTypes.default.shape({
      level: _propTypes.default.string
    })
  }).isRequired
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX3JlYWN0TmF0aXZlIiwiX25hdGl2ZSIsIl9leHBvUm91dGVyIiwiX3Byb3BUeXBlcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfQ29udGFpbmVyIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfUGhyYXNlc0hlYWRlciIsIl9QaHJhc2VzQ2F0ZWdvcnlTZWxlY3RvciIsIl9QaHJhc2VzUHJvZ3Jlc3MiLCJfUGhyYXNlQ2FyZCIsIl9QaHJhc2VzTmF2aWdhdGlvbiIsIl91c2VQaHJhc2VzMiIsIl91c2VMYXN0QWN0aXZpdHkyIiwiX3BocmFzZXNEYXRhSGVscGVyIiwiX3N0eWxlIiwiX2pzeFJ1bnRpbWUiLCJlIiwidCIsIldlYWtNYXAiLCJyIiwibiIsIl9fZXNNb2R1bGUiLCJvIiwiaSIsImYiLCJfX3Byb3RvX18iLCJkZWZhdWx0IiwiaGFzIiwiZ2V0Iiwic2V0IiwiX3QiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIlBocmFzZXNFeGVyY2lzZSIsIl9yZWYiLCJfcGhyYXNlc0RhdGEkY2F0ZWdvcmkzIiwicm91dGUiLCJuYXZpZ2F0aW9uIiwidXNlTmF2aWdhdGlvbiIsIl9yZWYyIiwicGFyYW1zIiwiX3JlZjIkbGV2ZWwiLCJsZXZlbCIsInN0eWxlcyIsImNyZWF0ZVN0eWxlcyIsIl91c2VMYXN0QWN0aXZpdHkiLCJ1c2VMYXN0QWN0aXZpdHkiLCJzYXZlQWN0aXZpdHkiLCJsZXZlbENvbG9yIiwiZ2V0TGV2ZWxDb2xvciIsIl91c2VTdGF0ZSIsInVzZVN0YXRlIiwiX3VzZVN0YXRlMiIsIl9zbGljZWRUb0FycmF5MiIsInBocmFzZXNEYXRhIiwic2V0UGhyYXNlc0RhdGEiLCJfdXNlU3RhdGUzIiwiX3VzZVN0YXRlNCIsImlzRGF0YUxvYWRpbmciLCJzZXRJc0RhdGFMb2FkaW5nIiwidXNlRWZmZWN0IiwiaXNNb3VudGVkIiwibG9hZCIsIl9yZWYzIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwicHJvY2VzcyIsImVudiIsIkpFU1RfV09SS0VSX0lEIiwiZGF0YSIsImdldFBocmFzZXNEYXRhIiwibG9hZFBocmFzZXNEYXRhIiwiZXJyb3IiLCJjb25zb2xlIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfdXNlUGhyYXNlcyIsInVzZVBocmFzZXMiLCJjYXRlZ29yeUluZGV4IiwicGhyYXNlSW5kZXgiLCJzaG93VHJhbnNsYXRpb24iLCJjb21wbGV0ZWRQaHJhc2VzIiwibG9hZGVkIiwic2hvd0RldGFpbGVkUHJvZ3Jlc3MiLCJjdXJyZW50UGhyYXNlIiwiY3VycmVudFBocmFzZXMiLCJ0b3RhbFBocmFzZXNJbkNhdGVnb3J5IiwiaGFzVmFsaWREYXRhIiwiY2hhbmdlQ2F0ZWdvcnkiLCJ0b2dnbGVUcmFuc2xhdGlvbiIsInRvZ2dsZURldGFpbGVkUHJvZ3Jlc3MiLCJoYW5kbGVOZXh0IiwiaGFuZGxlUHJldmlvdXMiLCJjYW5Hb1RvUHJldmlvdXMiLCJpc0xhc3RQaHJhc2VJbkNhdGVnb3J5Iiwic3RhdHMiLCJkaXNwbGF5IiwibGVuZ3RoIiwiX3BocmFzZXNEYXRhJGNhdGVnb3JpIiwiX3BocmFzZXNEYXRhJGNhdGVnb3JpMiIsImN1cnJlbnRDYXRlZ29yeSIsImNhdGVnb3JpZXMiLCJhY3Rpdml0eURhdGEiLCJ0aXRsZSIsInR5cGUiLCJtZXRhZGF0YSIsInBocmFzZSIsInRvdGFsUGhyYXNlcyIsImNhdGVnb3J5IiwibmFtZSIsInRvdGFsQ2F0ZWdvcmllcyIsImhhbmRsZUJhY2tQcmVzcyIsInVzZUNhbGxiYWNrIiwicm91dGVyIiwicHVzaCIsInBhdGhuYW1lIiwiaGFuZGxlQ2F0ZWdvcnlDaGFuZ2UiLCJpbmRleCIsImhhbmRsZVRvZ2dsZVByb2dyZXNzRGV0YWlscyIsImhhbmRsZU5leHRQaHJhc2UiLCJyZXN1bHQiLCJjb21wbGV0ZWQiLCJnb0JhY2siLCJoYW5kbGVQcmV2aW91c1BocmFzZSIsImxvZyIsInBocmFzZXNEYXRhTGVuZ3RoIiwianN4Iiwic2FmZUFyZWEiLCJzYWZlQXJlYUVkZ2VzIiwiQ09OVEFJTkVSX1NBRkVfRURHRVMiLCJBTEwiLCJiYWNrZ3JvdW5kQ29sb3IiLCJzdGF0dXNCYXJTdHlsZSIsImNoaWxkcmVuIiwiVmlldyIsInN0eWxlIiwibG9hZGluZ0NvbnRhaW5lciIsIkFjdGl2aXR5SW5kaWNhdG9yIiwic2l6ZSIsImNvbG9yIiwidGVzdElEIiwianN4cyIsIm9uQmFja1ByZXNzIiwiZW1wdHlTdGF0ZUNvbnRhaW5lciIsIndpdGhTY3JvbGxWaWV3Iiwid2l0aFBhZGRpbmciLCJzY3JvbGxWaWV3UHJvcHMiLCJzaG93c1ZlcnRpY2FsU2Nyb2xsSW5kaWNhdG9yIiwiY29udGVudENvbnRhaW5lclN0eWxlIiwic2Nyb2xsQ29udGVudCIsInByb2dyZXNzIiwiY29tcGxldGlvblByb2dyZXNzIiwiY29tcGxldGVkQ291bnQiLCJjb21wbGV0ZWRQaHJhc2VzQ291bnQiLCJleHBhbmRlZCIsIm9uVG9nZ2xlRXhwYW5kIiwib25DYXRlZ29yeVByZXNzIiwic2VsZWN0ZWRJbmRleCIsIm9uU2VsZWN0Q2F0ZWdvcnkiLCJwaHJhc2VEYXRhIiwib25Ub2dnbGVUcmFuc2xhdGlvbiIsIm9uTmV4dCIsIm9uUHJldmlvdXMiLCJkaXNhYmxlUHJldmlvdXMiLCJkaXNhYmxlTmV4dCIsImlzTGFzdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsInNoYXBlIiwic3RyaW5nIiwiaXNSZXF1aXJlZCJdLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFBocmFzZXNFeGVyY2lzZS9pbmRleC5qcyAtIFZFUlNJT04gQVZFQyBTQVVWRUdBUkRFIEFDVElWSVTDiVxyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyBWaWV3LCBBY3Rpdml0eUluZGljYXRvciB9IGZyb20gXCJyZWFjdC1uYXRpdmVcIjtcclxuaW1wb3J0IHsgdXNlTmF2aWdhdGlvbiB9IGZyb20gXCJAcmVhY3QtbmF2aWdhdGlvbi9uYXRpdmVcIjtcclxuaW1wb3J0IHsgcm91dGVyIH0gZnJvbSBcImV4cG8tcm91dGVyXCI7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcblxyXG4vLyBMYXlvdXRcclxuaW1wb3J0IENvbnRhaW5lciwgeyBDT05UQUlORVJfU0FGRV9FREdFUyB9IGZyb20gXCIuLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC9Db250YWluZXJcIjtcclxuXHJcbi8vIENvbXBvbmVudHNcclxuaW1wb3J0IFBocmFzZXNIZWFkZXIgZnJvbSBcIi4vUGhyYXNlc0hlYWRlclwiO1xyXG5pbXBvcnQgUGhyYXNlc0NhdGVnb3J5U2VsZWN0b3IgZnJvbSBcIi4vUGhyYXNlc0NhdGVnb3J5U2VsZWN0b3JcIjtcclxuaW1wb3J0IFBocmFzZXNQcm9ncmVzcyBmcm9tIFwiLi9QaHJhc2VzUHJvZ3Jlc3NcIjtcclxuaW1wb3J0IFBocmFzZUNhcmQgZnJvbSBcIi4vUGhyYXNlQ2FyZFwiO1xyXG5pbXBvcnQgUGhyYXNlc05hdmlnYXRpb24gZnJvbSBcIi4vUGhyYXNlc05hdmlnYXRpb25cIjtcclxuXHJcbi8vIEhvb2sgJiBVdGlsc1xyXG5pbXBvcnQgdXNlUGhyYXNlcyBmcm9tIFwiLi9ob29rcy91c2VQaHJhc2VzXCI7XHJcbmltcG9ydCB1c2VMYXN0QWN0aXZpdHkgZnJvbSBcIi4uLy4uLy4uL2hvb2tzL3VzZUxhc3RBY3Rpdml0eVwiOyAvLyDinIUgQUpPVVTDiVxyXG5pbXBvcnQgeyBnZXRQaHJhc2VzRGF0YSwgbG9hZFBocmFzZXNEYXRhLCBnZXRMZXZlbENvbG9yIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL3BocmFzZXMvcGhyYXNlc0RhdGFIZWxwZXJcIjtcclxuaW1wb3J0IGNyZWF0ZVN0eWxlcyBmcm9tIFwiLi9zdHlsZVwiO1xyXG5cclxuLyoqXHJcbiAqIPCfjq8gUGhyYXNlc0V4ZXJjaXNlIC0gVkVSU0lPTiBBVkVDIFNBVVZFR0FSREUgQUNUSVZJVMOJXHJcbiAqL1xyXG5jb25zdCBQaHJhc2VzRXhlcmNpc2UgPSAoeyByb3V0ZSB9KSA9PiB7XHJcbiAgY29uc3QgbmF2aWdhdGlvbiA9IHVzZU5hdmlnYXRpb24oKTtcclxuICBjb25zdCB7IGxldmVsID0gXCJBMVwiIH0gPSByb3V0ZT8ucGFyYW1zIHx8IHt9O1xyXG4gIGNvbnN0IHN0eWxlcyA9IGNyZWF0ZVN0eWxlcygpO1xyXG5cclxuICAvLyDinIUgQUpPVVTDiSA6IEhvb2sgcG91ciBzYXV2ZWdhcmRlciBsJ2FjdGl2aXTDqVxyXG4gIGNvbnN0IHsgc2F2ZUFjdGl2aXR5IH0gPSB1c2VMYXN0QWN0aXZpdHkoKTtcclxuXHJcbiAgLy8gRGF0YVxyXG4gIGNvbnN0IGxldmVsQ29sb3IgPSBnZXRMZXZlbENvbG9yKGxldmVsKTtcclxuICBjb25zdCBbcGhyYXNlc0RhdGEsIHNldFBocmFzZXNEYXRhXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFtpc0RhdGFMb2FkaW5nLCBzZXRJc0RhdGFMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpOyAvLyDinIUgQUpPVVTDiSA6IMOJdGF0IGRlIGNoYXJnZW1lbnQgZGVzIGRvbm7DqWVzXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBsZXQgaXNNb3VudGVkID0gdHJ1ZTtcclxuICAgIGNvbnN0IGxvYWQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgIHNldElzRGF0YUxvYWRpbmcodHJ1ZSk7IC8vIOKchSBBSk9VVMOJIDogRMOpbWFycmVyIGxlIGNoYXJnZW1lbnRcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuSkVTVF9XT1JLRVJfSUQpIHtcclxuICAgICAgICAgIGNvbnN0IGRhdGEgPSBnZXRQaHJhc2VzRGF0YShsZXZlbCk7XHJcbiAgICAgICAgICBpZiAoaXNNb3VudGVkKSB7XHJcbiAgICAgICAgICAgIHNldFBocmFzZXNEYXRhKGRhdGEpO1xyXG4gICAgICAgICAgICBzZXRJc0RhdGFMb2FkaW5nKGZhbHNlKTsgLy8g4pyFIEFKT1VUw4kgOiBGaW4gZHUgY2hhcmdlbWVudFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgbG9hZFBocmFzZXNEYXRhKGxldmVsKTtcclxuICAgICAgICBpZiAoaXNNb3VudGVkKSB7XHJcbiAgICAgICAgICBzZXRQaHJhc2VzRGF0YShkYXRhKTtcclxuICAgICAgICAgIHNldElzRGF0YUxvYWRpbmcoZmFsc2UpOyAvLyDinIUgQUpPVVTDiSA6IEZpbiBkdSBjaGFyZ2VtZW50XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0VycmV1ciBjaGFyZ2VtZW50IGRvbm7DqWVzIHBocmFzZXM6JywgZXJyb3IpO1xyXG4gICAgICAgIGlmIChpc01vdW50ZWQpIHtcclxuICAgICAgICAgIHNldElzRGF0YUxvYWRpbmcoZmFsc2UpOyAvLyDinIUgQUpPVVTDiSA6IEZpbiBkdSBjaGFyZ2VtZW50IG3Dqm1lIGVuIGNhcyBkJ2VycmV1clxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIGxvYWQoKTtcclxuICAgIHJldHVybiAoKSA9PiB7IGlzTW91bnRlZCA9IGZhbHNlOyB9O1xyXG4gIH0sIFtsZXZlbF0pO1xyXG5cclxuICAvLyBIb29rIHVuaWZpw6kgLSBHYXJkZSBzZXVsZW1lbnQgbGVzIHZhcmlhYmxlcyB1dGlsaXPDqWVzXHJcbiAgY29uc3Qge1xyXG4gICAgY2F0ZWdvcnlJbmRleCxcclxuICAgIHBocmFzZUluZGV4LFxyXG4gICAgc2hvd1RyYW5zbGF0aW9uLFxyXG4gICAgY29tcGxldGVkUGhyYXNlcyxcclxuICAgIGxvYWRlZCxcclxuICAgIHNob3dEZXRhaWxlZFByb2dyZXNzLFxyXG4gICAgY3VycmVudFBocmFzZSxcclxuICAgIGN1cnJlbnRQaHJhc2VzLFxyXG4gICAgdG90YWxQaHJhc2VzSW5DYXRlZ29yeSxcclxuICAgIGhhc1ZhbGlkRGF0YSxcclxuICAgIGNoYW5nZUNhdGVnb3J5LFxyXG4gICAgdG9nZ2xlVHJhbnNsYXRpb24sXHJcbiAgICB0b2dnbGVEZXRhaWxlZFByb2dyZXNzLFxyXG4gICAgaGFuZGxlTmV4dCxcclxuICAgIGhhbmRsZVByZXZpb3VzLFxyXG4gICAgY2FuR29Ub1ByZXZpb3VzLFxyXG4gICAgaXNMYXN0UGhyYXNlSW5DYXRlZ29yeSxcclxuICAgIHN0YXRzLFxyXG4gICAgZGlzcGxheSxcclxuICB9ID0gdXNlUGhyYXNlcyhwaHJhc2VzRGF0YSwgbGV2ZWwpO1xyXG5cclxuICAvLyDinIUgQUpPVVTDiSA6IFNhdXZlZ2FyZGVyIGwnYWN0aXZpdMOpIMOgIGNoYXF1ZSBjaGFuZ2VtZW50IGRlIHBocmFzZS9jYXTDqWdvcmllXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChsb2FkZWQgJiYgaGFzVmFsaWREYXRhICYmIGN1cnJlbnRQaHJhc2UgJiYgY3VycmVudFBocmFzZXMubGVuZ3RoID4gMCAmJiBwaHJhc2VJbmRleCA8IDEwMCkgeyAvLyDinIUgUHJvdGVjdGlvbiBib3VjbGVcclxuICAgICAgY29uc3QgY3VycmVudENhdGVnb3J5ID0gcGhyYXNlc0RhdGE/LmNhdGVnb3JpZXM/LltjYXRlZ29yeUluZGV4XTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGFjdGl2aXR5RGF0YSA9IHtcclxuICAgICAgICB0aXRsZTogXCJFeHByZXNzaW9uc1wiLFxyXG4gICAgICAgIGxldmVsLFxyXG4gICAgICAgIHR5cGU6IFwicGhyYXNlc1wiLFxyXG4gICAgICAgIG1ldGFkYXRhOiB7XHJcbiAgICAgICAgICBwaHJhc2U6IHBocmFzZUluZGV4LFxyXG4gICAgICAgICAgdG90YWxQaHJhc2VzOiB0b3RhbFBocmFzZXNJbkNhdGVnb3J5IHx8IGN1cnJlbnRQaHJhc2VzLmxlbmd0aCwgLy8g4pyFIEZhbGxiYWNrXHJcbiAgICAgICAgICBjYXRlZ29yeTogY3VycmVudENhdGVnb3J5Py5uYW1lIHx8IFwiR8OpbsOpcmFsXCIsXHJcbiAgICAgICAgICBjYXRlZ29yeUluZGV4LFxyXG4gICAgICAgICAgdG90YWxDYXRlZ29yaWVzOiBwaHJhc2VzRGF0YT8uY2F0ZWdvcmllcz8ubGVuZ3RoIHx8IDFcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBzYXZlQWN0aXZpdHkoYWN0aXZpdHlEYXRhKTtcclxuICAgIH1cclxuICB9LCBbbG9hZGVkLCBoYXNWYWxpZERhdGEsIGN1cnJlbnRQaHJhc2UsIGN1cnJlbnRQaHJhc2VzLmxlbmd0aCwgcGhyYXNlSW5kZXgsIHRvdGFsUGhyYXNlc0luQ2F0ZWdvcnksIGNhdGVnb3J5SW5kZXgsIGxldmVsXSk7IC8vIOKchSBDT1JSSUfDiSA6IFN1cHByaW3DqSBwaHJhc2VzRGF0YSBkZXMgZMOpcGVuZGFuY2VzXHJcblxyXG4gIC8vIEhhbmRsZXJzXHJcbiAgY29uc3QgaGFuZGxlQmFja1ByZXNzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgcm91dGVyLnB1c2goe1xyXG4gICAgICBwYXRobmFtZTogXCIvdGFicy9leGVyY2lzZVNlbGVjdGlvblwiLFxyXG4gICAgICBwYXJhbXM6IHsgbGV2ZWwgfVxyXG4gICAgfSk7XHJcbiAgfSwgW2xldmVsXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZUNhdGVnb3J5Q2hhbmdlID0gdXNlQ2FsbGJhY2soKGluZGV4KSA9PiBjaGFuZ2VDYXRlZ29yeShpbmRleCksIFtjaGFuZ2VDYXRlZ29yeV0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVUb2dnbGVQcm9ncmVzc0RldGFpbHMgPSB1c2VDYWxsYmFjaygoKSA9PiB0b2dnbGVEZXRhaWxlZFByb2dyZXNzKCksIFt0b2dnbGVEZXRhaWxlZFByb2dyZXNzXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZU5leHRQaHJhc2UgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBoYW5kbGVOZXh0KCk7XHJcbiAgICBpZiAocmVzdWx0LmNvbXBsZXRlZCkge1xyXG4gICAgICBuYXZpZ2F0aW9uLmdvQmFjaygpO1xyXG4gICAgfVxyXG4gIH0sIFtoYW5kbGVOZXh0LCBuYXZpZ2F0aW9uXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZVByZXZpb3VzUGhyYXNlID0gdXNlQ2FsbGJhY2soKCkgPT4gaGFuZGxlUHJldmlvdXMoKSwgW2hhbmRsZVByZXZpb3VzXSk7XHJcblxyXG4gIC8vIExvYWRpbmcgc3RhdGVcclxuICBjb25zb2xlLmxvZygn8J+UjSBERUJVRyBQaHJhc2VzOicsIHsgXHJcbiAgICBpc0RhdGFMb2FkaW5nLCBcclxuICAgIGxvYWRlZCwgXHJcbiAgICBoYXNWYWxpZERhdGEsIFxyXG4gICAgcGhyYXNlc0RhdGE6ICEhcGhyYXNlc0RhdGEsXHJcbiAgICBwaHJhc2VzRGF0YUxlbmd0aDogcGhyYXNlc0RhdGE/LmNhdGVnb3JpZXM/Lmxlbmd0aCB8fCAwXHJcbiAgfSk7XHJcbiAgXHJcbiAgaWYgKGlzRGF0YUxvYWRpbmcgfHwgIWxvYWRlZCB8fCAhaGFzVmFsaWREYXRhKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8Q29udGFpbmVyXHJcbiAgICAgICAgc2FmZUFyZWFcclxuICAgICAgICBzYWZlQXJlYUVkZ2VzPXtDT05UQUlORVJfU0FGRV9FREdFUy5BTEx9XHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yPVwiI2Y4ZmFmY1wiXHJcbiAgICAgICAgc3RhdHVzQmFyU3R5bGU9XCJkYXJrLWNvbnRlbnRcIlxyXG4gICAgICA+XHJcbiAgICAgICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5sb2FkaW5nQ29udGFpbmVyfT5cclxuICAgICAgICAgIDxBY3Rpdml0eUluZGljYXRvciBzaXplPVwibGFyZ2VcIiBjb2xvcj17bGV2ZWxDb2xvcn0gdGVzdElEPVwiYWN0aXZpdHktaW5kaWNhdG9yXCIgLz5cclxuICAgICAgICA8L1ZpZXc+XHJcbiAgICAgIDwvQ29udGFpbmVyPlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIEVtcHR5IHN0YXRlXHJcbiAgaWYgKGN1cnJlbnRQaHJhc2VzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPENvbnRhaW5lclxyXG4gICAgICAgIHNhZmVBcmVhXHJcbiAgICAgICAgc2FmZUFyZWFFZGdlcz17Q09OVEFJTkVSX1NBRkVfRURHRVMuQUxMfVxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcj1cIiNmOGZhZmNcIlxyXG4gICAgICAgIHN0YXR1c0JhclN0eWxlPVwiZGFyay1jb250ZW50XCJcclxuICAgICAgPlxyXG4gICAgICAgIDxQaHJhc2VzSGVhZGVyXHJcbiAgICAgICAgICBsZXZlbD17bGV2ZWx9XHJcbiAgICAgICAgICBvbkJhY2tQcmVzcz17aGFuZGxlQmFja1ByZXNzfVxyXG4gICAgICAgIC8+XHJcbiAgICAgICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5lbXB0eVN0YXRlQ29udGFpbmVyfT5cclxuICAgICAgICAgIDxBY3Rpdml0eUluZGljYXRvciBzaXplPVwibGFyZ2VcIiBjb2xvcj17bGV2ZWxDb2xvcn0gdGVzdElEPVwiYWN0aXZpdHktaW5kaWNhdG9yXCIgLz5cclxuICAgICAgICA8L1ZpZXc+XHJcbiAgICAgIDwvQ29udGFpbmVyPlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8Q29udGFpbmVyXHJcbiAgICAgIHNhZmVBcmVhXHJcbiAgICAgIHNhZmVBcmVhRWRnZXM9e0NPTlRBSU5FUl9TQUZFX0VER0VTLkFMTH1cclxuICAgICAgd2l0aFNjcm9sbFZpZXdcclxuICAgICAgYmFja2dyb3VuZENvbG9yPVwiI2Y4ZmFmY1wiXHJcbiAgICAgIHN0YXR1c0JhclN0eWxlPVwiZGFyay1jb250ZW50XCJcclxuICAgICAgd2l0aFBhZGRpbmc9e2ZhbHNlfVxyXG4gICAgICBzY3JvbGxWaWV3UHJvcHM9e3tcclxuICAgICAgICBzaG93c1ZlcnRpY2FsU2Nyb2xsSW5kaWNhdG9yOiBmYWxzZSxcclxuICAgICAgICBjb250ZW50Q29udGFpbmVyU3R5bGU6IHN0eWxlcy5zY3JvbGxDb250ZW50LFxyXG4gICAgICB9fVxyXG4gICAgPlxyXG4gICAgICB7LyogSGVhZGVyICovfVxyXG4gICAgICA8UGhyYXNlc0hlYWRlclxyXG4gICAgICAgIGxldmVsPXtsZXZlbH1cclxuICAgICAgICBvbkJhY2tQcmVzcz17aGFuZGxlQmFja1ByZXNzfVxyXG4gICAgICAvPlxyXG5cclxuICAgICAgey8qIFByb2dyZXNzIC0gTUFJTlRFTkFOVCBDT0xMw4kgQVUgSEVBREVSICovfVxyXG4gICAgICA8UGhyYXNlc1Byb2dyZXNzXHJcbiAgICAgICAgcHJvZ3Jlc3M9e3N0YXRzLmNvbXBsZXRpb25Qcm9ncmVzc31cclxuICAgICAgICBjdXJyZW50UGhyYXNlPXtwaHJhc2VJbmRleCArIDF9XHJcbiAgICAgICAgdG90YWxQaHJhc2VzPXt0b3RhbFBocmFzZXNJbkNhdGVnb3J5fVxyXG4gICAgICAgIGNvbXBsZXRlZENvdW50PXtzdGF0cy5jb21wbGV0ZWRQaHJhc2VzQ291bnR9XHJcbiAgICAgICAgbGV2ZWxDb2xvcj17bGV2ZWxDb2xvcn1cclxuICAgICAgICBwaHJhc2VzRGF0YT17cGhyYXNlc0RhdGF9XHJcbiAgICAgICAgY29tcGxldGVkUGhyYXNlcz17Y29tcGxldGVkUGhyYXNlc31cclxuICAgICAgICBleHBhbmRlZD17c2hvd0RldGFpbGVkUHJvZ3Jlc3N9XHJcbiAgICAgICAgb25Ub2dnbGVFeHBhbmQ9e2hhbmRsZVRvZ2dsZVByb2dyZXNzRGV0YWlsc31cclxuICAgICAgICBvbkNhdGVnb3J5UHJlc3M9e2hhbmRsZUNhdGVnb3J5Q2hhbmdlfVxyXG4gICAgICAvPlxyXG5cclxuICAgICAgey8qIENhdGVnb3J5IFNlbGVjdG9yIC0gQVBSw4hTIFBST0dSRVNTIGNvbW1lIGxlcyBhdXRyZXMgZXhlcmNpY2VzICovfVxyXG4gICAgICA8UGhyYXNlc0NhdGVnb3J5U2VsZWN0b3JcclxuICAgICAgICBjYXRlZ29yaWVzPXtkaXNwbGF5LmNhdGVnb3JpZXN9XHJcbiAgICAgICAgc2VsZWN0ZWRJbmRleD17Y2F0ZWdvcnlJbmRleH1cclxuICAgICAgICBvblNlbGVjdENhdGVnb3J5PXtoYW5kbGVDYXRlZ29yeUNoYW5nZX1cclxuICAgICAgICBsZXZlbENvbG9yPXtsZXZlbENvbG9yfVxyXG4gICAgICAvPlxyXG5cclxuICAgICAgey8qIFBocmFzZSBDYXJkICovfVxyXG4gICAgICA8UGhyYXNlQ2FyZFxyXG4gICAgICAgIHBocmFzZURhdGE9e2N1cnJlbnRQaHJhc2V9XHJcbiAgICAgICAgc2hvd1RyYW5zbGF0aW9uPXtzaG93VHJhbnNsYXRpb259XHJcbiAgICAgICAgb25Ub2dnbGVUcmFuc2xhdGlvbj17dG9nZ2xlVHJhbnNsYXRpb259XHJcbiAgICAgICAgbGV2ZWxDb2xvcj17bGV2ZWxDb2xvcn1cclxuICAgICAgLz5cclxuXHJcbiAgICAgIHsvKiBOYXZpZ2F0aW9uICovfVxyXG4gICAgICA8UGhyYXNlc05hdmlnYXRpb25cclxuICAgICAgICBvbk5leHQ9e2hhbmRsZU5leHRQaHJhc2V9XHJcbiAgICAgICAgb25QcmV2aW91cz17aGFuZGxlUHJldmlvdXNQaHJhc2V9XHJcbiAgICAgICAgZGlzYWJsZVByZXZpb3VzPXshY2FuR29Ub1ByZXZpb3VzfVxyXG4gICAgICAgIGRpc2FibGVOZXh0PXtmYWxzZX1cclxuICAgICAgICBpc0xhc3Q9e2lzTGFzdFBocmFzZUluQ2F0ZWdvcnl9XHJcbiAgICAgICAgbGV2ZWxDb2xvcj17bGV2ZWxDb2xvcn1cclxuICAgICAgLz5cclxuICAgIDwvQ29udGFpbmVyPlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQaHJhc2VzRXhlcmNpc2U7XHJcblxyXG4vLyDinIUgQWpvdXQgZGUgbGEgdmFsaWRhdGlvbiBkZXMgcHJvcHNcclxuUGhyYXNlc0V4ZXJjaXNlLnByb3BUeXBlcyA9IHtcclxuICByb3V0ZTogUHJvcFR5cGVzLnNoYXBlKHtcclxuICAgIHBhcmFtczogUHJvcFR5cGVzLnNoYXBlKHtcclxuICAgICAgbGV2ZWw6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICB9KSxcclxuICB9KS5pc1JlcXVpcmVkLFxyXG59OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBLElBQUFBLE1BQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLFlBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLE9BQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLFdBQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLFVBQUEsR0FBQUMsc0JBQUEsQ0FBQUwsT0FBQTtBQUdBLElBQUFNLFVBQUEsR0FBQUMsdUJBQUEsQ0FBQVAsT0FBQTtBQUdBLElBQUFRLGNBQUEsR0FBQUgsc0JBQUEsQ0FBQUwsT0FBQTtBQUNBLElBQUFTLHdCQUFBLEdBQUFKLHNCQUFBLENBQUFMLE9BQUE7QUFDQSxJQUFBVSxnQkFBQSxHQUFBTCxzQkFBQSxDQUFBTCxPQUFBO0FBQ0EsSUFBQVcsV0FBQSxHQUFBTixzQkFBQSxDQUFBTCxPQUFBO0FBQ0EsSUFBQVksa0JBQUEsR0FBQVAsc0JBQUEsQ0FBQUwsT0FBQTtBQUdBLElBQUFhLFlBQUEsR0FBQVIsc0JBQUEsQ0FBQUwsT0FBQTtBQUNBLElBQUFjLGlCQUFBLEdBQUFULHNCQUFBLENBQUFMLE9BQUE7QUFDQSxJQUFBZSxrQkFBQSxHQUFBZixPQUFBO0FBQ0EsSUFBQWdCLE1BQUEsR0FBQVgsc0JBQUEsQ0FBQUwsT0FBQTtBQUFtQyxJQUFBaUIsV0FBQSxHQUFBakIsT0FBQTtBQUFBLFNBQUFPLHdCQUFBVyxDQUFBLEVBQUFDLENBQUEsNkJBQUFDLE9BQUEsTUFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBYix1QkFBQSxZQUFBQSx3QkFBQVcsQ0FBQSxFQUFBQyxDQUFBLFNBQUFBLENBQUEsSUFBQUQsQ0FBQSxJQUFBQSxDQUFB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QjRCLFlBQVksRUFBRXJCLHNCQUF1QjtNQUNyQ2tFLGNBQWMsRUFBRXpELEtBQUssQ0FBQzBELHFCQUFzQjtNQUM1Q3hHLFVBQVUsRUFBRUEsVUFBVztNQUN2Qk0sV0FBVyxFQUFFQSxXQUFZO01BQ3pCMEIsZ0JBQWdCLEVBQUVBLGdCQUFpQjtNQUNuQ3lFLFFBQVEsRUFBRXZFLG9CQUFxQjtNQUMvQndFLGNBQWMsRUFBRXJDLDJCQUE0QjtNQUM1Q3NDLGVBQWUsRUFBRXhDO0lBQXFCLENBQ3ZDLENBQUMsRUFHRixJQUFBdkcsV0FBQSxDQUFBaUgsR0FBQSxFQUFDekgsd0JBQUEsQ0FBQW1CLE9BQXVCO01BQ3RCNkUsVUFBVSxFQUFFTCxPQUFPLENBQUNLLFVBQVc7TUFDL0J3RCxhQUFhLEVBQUUvRSxhQUFjO01BQzdCZ0YsZ0JBQWdCLEVBQUUxQyxvQkFBcUI7TUFDdkNuRSxVQUFVLEVBQUVBO0lBQVcsQ0FDeEIsQ0FBQyxFQUdGLElBQUFwQyxXQUFBLENBQUFpSCxHQUFBLEVBQUN2SCxXQUFBLENBQUFpQixPQUFVO01BQ1R1SSxVQUFVLEVBQUUzRSxhQUFjO01BQzFCSixlQUFlLEVBQUVBLGVBQWdCO01BQ2pDZ0YsbUJBQW1CLEVBQUV2RSxpQkFBa0I7TUFDdkN4QyxVQUFVLEVBQUVBO0lBQVcsQ0FDeEIsQ0FBQyxFQUdGLElBQUFwQyxXQUFBLENBQUFpSCxHQUFBLEVBQUN0SCxrQkFBQSxDQUFBZ0IsT0FBaUI7TUFDaEJ5SSxNQUFNLEVBQUUxQyxnQkFBaUI7TUFDekIyQyxVQUFVLEVBQUV2QyxvQkFBcUI7TUFDakN3QyxlQUFlLEVBQUUsQ0FBQ3RFLGVBQWdCO01BQ2xDdUUsV0FBVyxFQUFFLEtBQU07TUFDbkJDLE1BQU0sRUFBRXZFLHNCQUF1QjtNQUMvQjdDLFVBQVUsRUFBRUE7SUFBVyxDQUN4QixDQUFDO0VBQUEsQ0FDTyxDQUFDO0FBRWhCLENBQUM7QUFBQyxJQUFBcUgsUUFBQSxHQUFBQyxPQUFBLENBQUEvSSxPQUFBLEdBRWFVLGVBQWU7QUFHOUJBLGVBQWUsQ0FBQ3NJLFNBQVMsR0FBRztFQUMxQm5JLEtBQUssRUFBRW9JLGtCQUFTLENBQUNDLEtBQUssQ0FBQztJQUNyQmpJLE1BQU0sRUFBRWdJLGtCQUFTLENBQUNDLEtBQUssQ0FBQztNQUN0Qi9ILEtBQUssRUFBRThILGtCQUFTLENBQUNFO0lBQ25CLENBQUM7RUFDSCxDQUFDLENBQUMsQ0FBQ0M7QUFDTCxDQUFDIiwiaWdub3JlTGlzdCI6W119