22b4e55101dc9e4e1c500c5fedc4e064
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = require("react");
var _reactNative = require("react-native");
var _expoRouter = require("expo-router");
var _propTypes = _interopRequireDefault(require("prop-types"));
var _Container = _interopRequireWildcard(require("../../../components/layout/Container"));
var _ConversationHeader = _interopRequireDefault(require("./ConversationHeader"));
var _ConversationSelector = _interopRequireDefault(require("./ConversationSelector"));
var _ConversationProgress = _interopRequireDefault(require("./ConversationProgress"));
var _ConversationScenarioDescription = _interopRequireDefault(require("./ConversationScenarioDescription"));
var _ConversationMessageList = _interopRequireDefault(require("./ConversationMessageList"));
var _ConversationSuggestions = _interopRequireDefault(require("./ConversationSuggestions"));
var _ConversationInput = _interopRequireDefault(require("./ConversationInput"));
var _useConversation2 = _interopRequireDefault(require("./hooks/useConversation"));
var _useLastActivity2 = _interopRequireDefault(require("../../../hooks/useLastActivity"));
var _conversationDataHelper = require("../../../utils/conversation/conversationDataHelper");
var _style = _interopRequireDefault(require("./style"));
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
var ConversationExercise = function ConversationExercise(_ref) {
  var route = _ref.route;
  var _ref2 = (route == null ? void 0 : route.params) || {},
    _ref2$level = _ref2.level,
    level = _ref2$level === void 0 ? "A1" : _ref2$level;
  var _useLastActivity = (0, _useLastActivity2.default)(),
    saveActivity = _useLastActivity.saveActivity;
  var levelColor = (0, _conversationDataHelper.getLevelColor)(level);
  var conversationData = (0, _react.useMemo)(function () {
    return (0, _conversationDataHelper.getConversationData)(level);
  }, [level]);
  var _useConversation = (0, _useConversation2.default)(conversationData, level),
    currentScenarioIndex = _useConversation.currentScenarioIndex,
    conversation = _useConversation.conversation,
    message = _useConversation.message,
    setMessage = _useConversation.setMessage,
    isTyping = _useConversation.isTyping,
    suggestions = _useConversation.suggestions,
    showHelp = _useConversation.showHelp,
    completedScenarios = _useConversation.completedScenarios,
    conversationHistory = _useConversation.conversationHistory,
    loaded = _useConversation.loaded,
    showDetailedProgress = _useConversation.showDetailedProgress,
    currentScenario = _useConversation.currentScenario,
    totalScenarios = _useConversation.totalScenarios,
    hasValidData = _useConversation.hasValidData,
    changeScenario = _useConversation.changeScenario,
    sendMessage = _useConversation.sendMessage,
    useSuggestion = _useConversation.useSuggestion,
    toggleHelp = _useConversation.toggleHelp,
    toggleDetailedProgress = _useConversation.toggleDetailedProgress,
    isConversationStarted = _useConversation.isConversationStarted,
    stats = _useConversation.stats,
    display = _useConversation.display;
  var activityMetadata = (0, _react.useMemo)(function () {
    return {
      scenario: currentScenarioIndex,
      step: stats.currentStep || 0,
      totalSteps: stats.totalSteps || 1,
      scenarioName: (currentScenario == null ? void 0 : currentScenario.title) || `Sc√©nario ${currentScenarioIndex + 1}`,
      totalScenarios: totalScenarios
    };
  }, [currentScenarioIndex, stats.currentStep, stats.totalSteps, currentScenario == null ? void 0 : currentScenario.title, totalScenarios]);
  var handleSaveActivity = (0, _react.useCallback)(function () {
    if (loaded && hasValidData && currentScenario && isConversationStarted) {
      saveActivity({
        title: "Conversations",
        level: level,
        type: "conversations",
        metadata: activityMetadata
      });
    }
  }, [loaded, hasValidData, currentScenario, isConversationStarted, level, saveActivity, activityMetadata]);
  (0, _react.useEffect)(function () {
    handleSaveActivity();
  }, [handleSaveActivity]);
  var handleBackPress = (0, _react.useCallback)(function () {
    _expoRouter.router.push({
      pathname: "/tabs/exerciseSelection",
      params: {
        level: level
      }
    });
  }, [level]);
  var handleScenarioChange = (0, _react.useCallback)(function (index) {
    return changeScenario(index);
  }, [changeScenario]);
  var handleSendMessage = (0, _react.useCallback)(function () {
    return sendMessage();
  }, [sendMessage]);
  var handleUseSuggestion = (0, _react.useCallback)(function (suggestion) {
    return useSuggestion(suggestion);
  }, [useSuggestion]);
  var handleToggleHelp = (0, _react.useCallback)(function () {
    return toggleHelp();
  }, [toggleHelp]);
  var handleToggleProgressDetails = (0, _react.useCallback)(function () {
    return toggleDetailedProgress();
  }, [toggleDetailedProgress]);
  var handleScenarioChangeCb = (0, _react.useCallback)(function () {
    return handleScenarioChange.apply(void 0, arguments);
  }, [handleScenarioChange]);
  var handleToggleProgressDetailsCb = (0, _react.useCallback)(function () {
    return handleToggleProgressDetails();
  }, [handleToggleProgressDetails]);
  var handleToggleHelpCb = (0, _react.useCallback)(function () {
    return handleToggleHelp();
  }, [handleToggleHelp]);
  var handleBackPressCb = (0, _react.useCallback)(function () {
    return handleBackPress();
  }, [handleBackPress]);
  if (!loaded || !hasValidData) {
    return (0, _jsxRuntime.jsx)(_Container.default, {
      testID: "conversation-container",
      safeArea: true,
      safeAreaEdges: _Container.CONTAINER_SAFE_EDGES.ALL,
      backgroundColor: "#FAFBFC",
      statusBarStyle: "dark-content"
    });
  }
  return (0, _jsxRuntime.jsxs)(_Container.default, {
    testID: "conversation-container",
    safeArea: true,
    safeAreaEdges: _Container.CONTAINER_SAFE_EDGES.ALL,
    backgroundColor: "#FAFBFC",
    statusBarStyle: "dark-content",
    withPadding: false,
    style: _style.default.safeArea,
    children: [(0, _jsxRuntime.jsx)(_ConversationHeader.default, {
      level: level,
      onBackPress: handleBackPressCb,
      levelColor: levelColor
    }), (0, _jsxRuntime.jsx)(_ConversationSelector.default, {
      scenarios: conversationData.exercises,
      selectedIndex: currentScenarioIndex,
      onSelectScenario: handleScenarioChangeCb,
      levelColor: levelColor
    }), (0, _jsxRuntime.jsx)(_ConversationProgress.default, {
      progress: stats.completionProgress,
      currentStep: stats.currentStep,
      totalSteps: stats.totalSteps,
      levelColor: levelColor,
      conversationData: conversationData.exercises,
      completedScenarios: completedScenarios,
      conversationHistory: conversationHistory,
      expanded: showDetailedProgress,
      onToggleExpand: handleToggleProgressDetailsCb,
      onScenarioPress: handleScenarioChangeCb
    }), (0, _jsxRuntime.jsx)(_ConversationScenarioDescription.default, {
      description: currentScenario.description,
      helpText: display.currentHelp,
      showHelp: showHelp,
      toggleHelp: handleToggleHelpCb,
      levelColor: levelColor
    }), (0, _jsxRuntime.jsxs)(_reactNative.KeyboardAvoidingView, {
      style: _style.default.chatContainer,
      behavior: _reactNative.Platform.OS === "ios" ? "padding" : "height",
      keyboardVerticalOffset: _reactNative.Platform.OS === "ios" ? 90 : 0,
      children: [(0, _jsxRuntime.jsx)(_ConversationMessageList.default, {
        messages: conversation,
        isTyping: isTyping,
        levelColor: levelColor
      }), (0, _jsxRuntime.jsx)(_ConversationSuggestions.default, {
        suggestions: suggestions,
        onPressSuggestion: handleUseSuggestion,
        levelColor: levelColor
      }), (0, _jsxRuntime.jsx)(_ConversationInput.default, {
        message: message,
        onChangeMessage: setMessage,
        onSendMessage: handleSendMessage,
        levelColor: levelColor
      })]
    })]
  });
};
ConversationExercise.propTypes = {
  route: _propTypes.default.shape({
    params: _propTypes.default.shape({
      level: _propTypes.default.string
    })
  }).isRequired
};
var _default = exports.default = ConversationExercise;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX3JlYWN0TmF0aXZlIiwiX2V4cG9Sb3V0ZXIiLCJfcHJvcFR5cGVzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9Db250YWluZXIiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9Db252ZXJzYXRpb25IZWFkZXIiLCJfQ29udmVyc2F0aW9uU2VsZWN0b3IiLCJfQ29udmVyc2F0aW9uUHJvZ3Jlc3MiLCJfQ29udmVyc2F0aW9uU2NlbmFyaW9EZXNjcmlwdGlvbiIsIl9Db252ZXJzYXRpb25NZXNzYWdlTGlzdCIsIl9Db252ZXJzYXRpb25TdWdnZXN0aW9ucyIsIl9Db252ZXJzYXRpb25JbnB1dCIsIl91c2VDb252ZXJzYXRpb24yIiwiX3VzZUxhc3RBY3Rpdml0eTIiLCJfY29udmVyc2F0aW9uRGF0YUhlbHBlciIsIl9zdHlsZSIsIl9qc3hSdW50aW1lIiwiZSIsInQiLCJXZWFrTWFwIiwiciIsIm4iLCJfX2VzTW9kdWxlIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiZGVmYXVsdCIsImhhcyIsImdldCIsInNldCIsIl90IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJDb252ZXJzYXRpb25FeGVyY2lzZSIsIl9yZWYiLCJyb3V0ZSIsIl9yZWYyIiwicGFyYW1zIiwiX3JlZjIkbGV2ZWwiLCJsZXZlbCIsIl91c2VMYXN0QWN0aXZpdHkiLCJ1c2VMYXN0QWN0aXZpdHkiLCJzYXZlQWN0aXZpdHkiLCJsZXZlbENvbG9yIiwiZ2V0TGV2ZWxDb2xvciIsImNvbnZlcnNhdGlvbkRhdGEiLCJ1c2VNZW1vIiwiZ2V0Q29udmVyc2F0aW9uRGF0YSIsIl91c2VDb252ZXJzYXRpb24iLCJ1c2VDb252ZXJzYXRpb24iLCJjdXJyZW50U2NlbmFyaW9JbmRleCIsImNvbnZlcnNhdGlvbiIsIm1lc3NhZ2UiLCJzZXRNZXNzYWdlIiwiaXNUeXBpbmciLCJzdWdnZXN0aW9ucyIsInNob3dIZWxwIiwiY29tcGxldGVkU2NlbmFyaW9zIiwiY29udmVyc2F0aW9uSGlzdG9yeSIsImxvYWRlZCIsInNob3dEZXRhaWxlZFByb2dyZXNzIiwiY3VycmVudFNjZW5hcmlvIiwidG90YWxTY2VuYXJpb3MiLCJoYXNWYWxpZERhdGEiLCJjaGFuZ2VTY2VuYXJpbyIsInNlbmRNZXNzYWdlIiwidXNlU3VnZ2VzdGlvbiIsInRvZ2dsZUhlbHAiLCJ0b2dnbGVEZXRhaWxlZFByb2dyZXNzIiwiaXNDb252ZXJzYXRpb25TdGFydGVkIiwic3RhdHMiLCJkaXNwbGF5IiwiYWN0aXZpdHlNZXRhZGF0YSIsInNjZW5hcmlvIiwic3RlcCIsImN1cnJlbnRTdGVwIiwidG90YWxTdGVwcyIsInNjZW5hcmlvTmFtZSIsInRpdGxlIiwiaGFuZGxlU2F2ZUFjdGl2aXR5IiwidXNlQ2FsbGJhY2siLCJ0eXBlIiwibWV0YWRhdGEiLCJ1c2VFZmZlY3QiLCJoYW5kbGVCYWNrUHJlc3MiLCJyb3V0ZXIiLCJwdXNoIiwicGF0aG5hbWUiLCJoYW5kbGVTY2VuYXJpb0NoYW5nZSIsImluZGV4IiwiaGFuZGxlU2VuZE1lc3NhZ2UiLCJoYW5kbGVVc2VTdWdnZXN0aW9uIiwic3VnZ2VzdGlvbiIsImhhbmRsZVRvZ2dsZUhlbHAiLCJoYW5kbGVUb2dnbGVQcm9ncmVzc0RldGFpbHMiLCJoYW5kbGVTY2VuYXJpb0NoYW5nZUNiIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJoYW5kbGVUb2dnbGVQcm9ncmVzc0RldGFpbHNDYiIsImhhbmRsZVRvZ2dsZUhlbHBDYiIsImhhbmRsZUJhY2tQcmVzc0NiIiwianN4IiwidGVzdElEIiwic2FmZUFyZWEiLCJzYWZlQXJlYUVkZ2VzIiwiQ09OVEFJTkVSX1NBRkVfRURHRVMiLCJBTEwiLCJiYWNrZ3JvdW5kQ29sb3IiLCJzdGF0dXNCYXJTdHlsZSIsImpzeHMiLCJ3aXRoUGFkZGluZyIsInN0eWxlIiwic3R5bGVzIiwiY2hpbGRyZW4iLCJvbkJhY2tQcmVzcyIsInNjZW5hcmlvcyIsImV4ZXJjaXNlcyIsInNlbGVjdGVkSW5kZXgiLCJvblNlbGVjdFNjZW5hcmlvIiwicHJvZ3Jlc3MiLCJjb21wbGV0aW9uUHJvZ3Jlc3MiLCJleHBhbmRlZCIsIm9uVG9nZ2xlRXhwYW5kIiwib25TY2VuYXJpb1ByZXNzIiwiZGVzY3JpcHRpb24iLCJoZWxwVGV4dCIsImN1cnJlbnRIZWxwIiwiS2V5Ym9hcmRBdm9pZGluZ1ZpZXciLCJjaGF0Q29udGFpbmVyIiwiYmVoYXZpb3IiLCJQbGF0Zm9ybSIsIk9TIiwia2V5Ym9hcmRWZXJ0aWNhbE9mZnNldCIsIm1lc3NhZ2VzIiwib25QcmVzc1N1Z2dlc3Rpb24iLCJvbkNoYW5nZU1lc3NhZ2UiLCJvblNlbmRNZXNzYWdlIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwic2hhcGUiLCJzdHJpbmciLCJpc1JlcXVpcmVkIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29udmVyc2F0aW9uRXhlcmNpc2UvaW5kZXguanMgLSBWRVJTSU9OIENPUlJJR8OJRVxyXG5pbXBvcnQgeyB1c2VNZW1vLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IEtleWJvYXJkQXZvaWRpbmdWaWV3LCBQbGF0Zm9ybSB9IGZyb20gXCJyZWFjdC1uYXRpdmVcIjtcclxuaW1wb3J0IHsgcm91dGVyIH0gZnJvbSBcImV4cG8tcm91dGVyXCI7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcblxyXG4vLyBMYXlvdXRcclxuaW1wb3J0IENvbnRhaW5lciwgeyBDT05UQUlORVJfU0FGRV9FREdFUyB9IGZyb20gXCIuLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC9Db250YWluZXJcIjtcclxuXHJcbi8vIENvbXBvbmVudHNcclxuaW1wb3J0IENvbnZlcnNhdGlvbkhlYWRlciBmcm9tIFwiLi9Db252ZXJzYXRpb25IZWFkZXJcIjtcclxuaW1wb3J0IENvbnZlcnNhdGlvblNlbGVjdG9yIGZyb20gXCIuL0NvbnZlcnNhdGlvblNlbGVjdG9yXCI7XHJcbmltcG9ydCBDb252ZXJzYXRpb25Qcm9ncmVzcyBmcm9tIFwiLi9Db252ZXJzYXRpb25Qcm9ncmVzc1wiO1xyXG5pbXBvcnQgQ29udmVyc2F0aW9uU2NlbmFyaW9EZXNjcmlwdGlvbiBmcm9tIFwiLi9Db252ZXJzYXRpb25TY2VuYXJpb0Rlc2NyaXB0aW9uXCI7XHJcbmltcG9ydCBDb252ZXJzYXRpb25NZXNzYWdlTGlzdCBmcm9tIFwiLi9Db252ZXJzYXRpb25NZXNzYWdlTGlzdFwiO1xyXG5pbXBvcnQgQ29udmVyc2F0aW9uU3VnZ2VzdGlvbnMgZnJvbSBcIi4vQ29udmVyc2F0aW9uU3VnZ2VzdGlvbnNcIjtcclxuaW1wb3J0IENvbnZlcnNhdGlvbklucHV0IGZyb20gXCIuL0NvbnZlcnNhdGlvbklucHV0XCI7XHJcblxyXG4vLyBIb29rICYgVXRpbHNcclxuaW1wb3J0IHVzZUNvbnZlcnNhdGlvbiBmcm9tIFwiLi9ob29rcy91c2VDb252ZXJzYXRpb25cIjtcclxuaW1wb3J0IHVzZUxhc3RBY3Rpdml0eSBmcm9tIFwiLi4vLi4vLi4vaG9va3MvdXNlTGFzdEFjdGl2aXR5XCI7XHJcbmltcG9ydCB7IGdldENvbnZlcnNhdGlvbkRhdGEsIGdldExldmVsQ29sb3IgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvY29udmVyc2F0aW9uL2NvbnZlcnNhdGlvbkRhdGFIZWxwZXJcIjtcclxuaW1wb3J0IHN0eWxlcyBmcm9tIFwiLi9zdHlsZVwiO1xyXG5cclxuLyoqXHJcbiAqIPCfjq8gQ29udmVyc2F0aW9uRXhlcmNpc2UgLSBWRVJTSU9OIENPUlJJR8OJRVxyXG4gKi9cclxuY29uc3QgQ29udmVyc2F0aW9uRXhlcmNpc2UgPSAoeyByb3V0ZSB9KSA9PiB7XHJcbiAgLy8gY29uc3QgbmF2aWdhdGlvbiA9IHVzZU5hdmlnYXRpb24oKTsgLy8gc3VwcHJpbcOpIGNhciBpbnV0aWxpc8OpXHJcbiAgY29uc3QgeyBsZXZlbCA9IFwiQTFcIiB9ID0gcm91dGU/LnBhcmFtcyB8fCB7fTtcclxuXHJcbiAgLy8gSG9vayBwb3VyIHNhdXZlZ2FyZGVyIGwnYWN0aXZpdMOpXHJcbiAgY29uc3QgeyBzYXZlQWN0aXZpdHkgfSA9IHVzZUxhc3RBY3Rpdml0eSgpO1xyXG5cclxuICAvLyBEYXRhXHJcbiAgY29uc3QgbGV2ZWxDb2xvciA9IGdldExldmVsQ29sb3IobGV2ZWwpO1xyXG4gIGNvbnN0IGNvbnZlcnNhdGlvbkRhdGEgPSB1c2VNZW1vKCgpID0+IGdldENvbnZlcnNhdGlvbkRhdGEobGV2ZWwpLCBbbGV2ZWxdKTtcclxuXHJcbiAgLy8gSG9vayB1bmlmacOpXHJcbiAgY29uc3Qge1xyXG4gICAgY3VycmVudFNjZW5hcmlvSW5kZXgsXHJcbiAgICBjb252ZXJzYXRpb24sXHJcbiAgICBtZXNzYWdlLFxyXG4gICAgc2V0TWVzc2FnZSxcclxuICAgIGlzVHlwaW5nLFxyXG4gICAgc3VnZ2VzdGlvbnMsXHJcbiAgICBzaG93SGVscCxcclxuICAgIGNvbXBsZXRlZFNjZW5hcmlvcyxcclxuICAgIGNvbnZlcnNhdGlvbkhpc3RvcnksXHJcbiAgICBsb2FkZWQsXHJcbiAgICBzaG93RGV0YWlsZWRQcm9ncmVzcyxcclxuICAgIGN1cnJlbnRTY2VuYXJpbyxcclxuICAgIHRvdGFsU2NlbmFyaW9zLFxyXG4gICAgaGFzVmFsaWREYXRhLFxyXG4gICAgY2hhbmdlU2NlbmFyaW8sXHJcbiAgICBzZW5kTWVzc2FnZSxcclxuICAgIHVzZVN1Z2dlc3Rpb24sXHJcbiAgICB0b2dnbGVIZWxwLFxyXG4gICAgdG9nZ2xlRGV0YWlsZWRQcm9ncmVzcyxcclxuICAgIGlzQ29udmVyc2F0aW9uU3RhcnRlZCxcclxuICAgIHN0YXRzLFxyXG4gICAgZGlzcGxheSxcclxuICB9ID0gdXNlQ29udmVyc2F0aW9uKGNvbnZlcnNhdGlvbkRhdGEsIGxldmVsKTtcclxuXHJcbiAgLy8g4pyFIENPUlJFQ1RJT04gOiBNw6ltb3Jpc2VyIGxlcyBtw6l0YWRvbm7DqWVzXHJcbiAgY29uc3QgYWN0aXZpdHlNZXRhZGF0YSA9IHVzZU1lbW8oKCkgPT4gKHtcclxuICAgIHNjZW5hcmlvOiBjdXJyZW50U2NlbmFyaW9JbmRleCxcclxuICAgIHN0ZXA6IHN0YXRzLmN1cnJlbnRTdGVwIHx8IDAsXHJcbiAgICB0b3RhbFN0ZXBzOiBzdGF0cy50b3RhbFN0ZXBzIHx8IDEsXHJcbiAgICBzY2VuYXJpb05hbWU6IGN1cnJlbnRTY2VuYXJpbz8udGl0bGUgfHwgYFNjw6luYXJpbyAke2N1cnJlbnRTY2VuYXJpb0luZGV4ICsgMX1gLFxyXG4gICAgdG90YWxTY2VuYXJpb3NcclxuICB9KSwgW2N1cnJlbnRTY2VuYXJpb0luZGV4LCBzdGF0cy5jdXJyZW50U3RlcCwgc3RhdHMudG90YWxTdGVwcywgY3VycmVudFNjZW5hcmlvPy50aXRsZSwgdG90YWxTY2VuYXJpb3NdKTtcclxuXHJcbiAgLy8g4pyFIENPUlJFQ1RJT04gOiBDYWxsYmFjayBtw6ltb3Jpc8OpIHBvdXIgc2F2ZUFjdGl2aXR5XHJcbiAgY29uc3QgaGFuZGxlU2F2ZUFjdGl2aXR5ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgaWYgKGxvYWRlZCAmJiBoYXNWYWxpZERhdGEgJiYgY3VycmVudFNjZW5hcmlvICYmIGlzQ29udmVyc2F0aW9uU3RhcnRlZCkge1xyXG4gICAgICBzYXZlQWN0aXZpdHkoe1xyXG4gICAgICAgIHRpdGxlOiBcIkNvbnZlcnNhdGlvbnNcIixcclxuICAgICAgICBsZXZlbCxcclxuICAgICAgICB0eXBlOiBcImNvbnZlcnNhdGlvbnNcIixcclxuICAgICAgICBtZXRhZGF0YTogYWN0aXZpdHlNZXRhZGF0YVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9LCBbbG9hZGVkLCBoYXNWYWxpZERhdGEsIGN1cnJlbnRTY2VuYXJpbywgaXNDb252ZXJzYXRpb25TdGFydGVkLCBsZXZlbCwgc2F2ZUFjdGl2aXR5LCBhY3Rpdml0eU1ldGFkYXRhXSk7XHJcblxyXG4gIC8vIOKchSBDT1JSRUNUSU9OIDogdXNlRWZmZWN0IG9wdGltaXPDqVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBoYW5kbGVTYXZlQWN0aXZpdHkoKTtcclxuICB9LCBbaGFuZGxlU2F2ZUFjdGl2aXR5XSk7XHJcblxyXG4gIC8vIEhhbmRsZXJzXHJcbiAgY29uc3QgaGFuZGxlQmFja1ByZXNzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgcm91dGVyLnB1c2goe1xyXG4gICAgICBwYXRobmFtZTogXCIvdGFicy9leGVyY2lzZVNlbGVjdGlvblwiLFxyXG4gICAgICBwYXJhbXM6IHsgbGV2ZWwgfVxyXG4gICAgfSk7XHJcbiAgfSwgW2xldmVsXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZVNjZW5hcmlvQ2hhbmdlID0gdXNlQ2FsbGJhY2soKGluZGV4KSA9PiBjaGFuZ2VTY2VuYXJpbyhpbmRleCksIFtjaGFuZ2VTY2VuYXJpb10pO1xyXG5cclxuICBjb25zdCBoYW5kbGVTZW5kTWVzc2FnZSA9IHVzZUNhbGxiYWNrKCgpID0+IHNlbmRNZXNzYWdlKCksIFtzZW5kTWVzc2FnZV0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVVc2VTdWdnZXN0aW9uID0gdXNlQ2FsbGJhY2soKHN1Z2dlc3Rpb24pID0+IHVzZVN1Z2dlc3Rpb24oc3VnZ2VzdGlvbiksIFt1c2VTdWdnZXN0aW9uXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZUhlbHAgPSB1c2VDYWxsYmFjaygoKSA9PiB0b2dnbGVIZWxwKCksIFt0b2dnbGVIZWxwXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZVByb2dyZXNzRGV0YWlscyA9IHVzZUNhbGxiYWNrKCgpID0+IHRvZ2dsZURldGFpbGVkUHJvZ3Jlc3MoKSwgW3RvZ2dsZURldGFpbGVkUHJvZ3Jlc3NdKTtcclxuXHJcbiAgLy8gQ2FsbGJhY2tzIG3DqW1vcmlzw6lzIHBvdXIgw6l2aXRlciBsZXMgYXJyb3cgZnVuY3Rpb25zIGRhbnMgbGUgSlNYXHJcbiAgY29uc3QgaGFuZGxlU2NlbmFyaW9DaGFuZ2VDYiA9IHVzZUNhbGxiYWNrKCguLi5hcmdzKSA9PiBoYW5kbGVTY2VuYXJpb0NoYW5nZSguLi5hcmdzKSwgW2hhbmRsZVNjZW5hcmlvQ2hhbmdlXSk7XHJcbiAgY29uc3QgaGFuZGxlVG9nZ2xlUHJvZ3Jlc3NEZXRhaWxzQ2IgPSB1c2VDYWxsYmFjaygoKSA9PiBoYW5kbGVUb2dnbGVQcm9ncmVzc0RldGFpbHMoKSwgW2hhbmRsZVRvZ2dsZVByb2dyZXNzRGV0YWlsc10pO1xyXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZUhlbHBDYiA9IHVzZUNhbGxiYWNrKCgpID0+IGhhbmRsZVRvZ2dsZUhlbHAoKSwgW2hhbmRsZVRvZ2dsZUhlbHBdKTtcclxuICBjb25zdCBoYW5kbGVCYWNrUHJlc3NDYiA9IHVzZUNhbGxiYWNrKCgpID0+IGhhbmRsZUJhY2tQcmVzcygpLCBbaGFuZGxlQmFja1ByZXNzXSk7XHJcblxyXG4gIC8vIExvYWRpbmcgc3RhdGVcclxuICBpZiAoIWxvYWRlZCB8fCAhaGFzVmFsaWREYXRhKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8Q29udGFpbmVyXHJcbiAgICAgICAgdGVzdElEPVwiY29udmVyc2F0aW9uLWNvbnRhaW5lclwiXHJcbiAgICAgICAgc2FmZUFyZWFcclxuICAgICAgICBzYWZlQXJlYUVkZ2VzPXtDT05UQUlORVJfU0FGRV9FREdFUy5BTEx9XHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yPVwiI0ZBRkJGQ1wiXHJcbiAgICAgICAgc3RhdHVzQmFyU3R5bGU9XCJkYXJrLWNvbnRlbnRcIlxyXG4gICAgICA+XHJcbiAgICAgICAgey8qIExvYWRpbmcgY29udGVudCBjYW4gYmUgYWRkZWQgaGVyZSAqL31cclxuICAgICAgPC9Db250YWluZXI+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxDb250YWluZXJcclxuICAgICAgdGVzdElEPVwiY29udmVyc2F0aW9uLWNvbnRhaW5lclwiIFxyXG4gICAgICBzYWZlQXJlYVxyXG4gICAgICBzYWZlQXJlYUVkZ2VzPXtDT05UQUlORVJfU0FGRV9FREdFUy5BTEx9XHJcbiAgICAgIGJhY2tncm91bmRDb2xvcj1cIiNGQUZCRkNcIlxyXG4gICAgICBzdGF0dXNCYXJTdHlsZT1cImRhcmstY29udGVudFwiXHJcbiAgICAgIHdpdGhQYWRkaW5nPXtmYWxzZX1cclxuICAgICAgc3R5bGU9e3N0eWxlcy5zYWZlQXJlYX1cclxuICAgID5cclxuICAgICAgey8qIEhlYWRlciAqL31cclxuICAgICAgPENvbnZlcnNhdGlvbkhlYWRlclxyXG4gICAgICAgIGxldmVsPXtsZXZlbH1cclxuICAgICAgICBvbkJhY2tQcmVzcz17aGFuZGxlQmFja1ByZXNzQ2J9XHJcbiAgICAgICAgbGV2ZWxDb2xvcj17bGV2ZWxDb2xvcn1cclxuICAgICAgLz5cclxuXHJcbiAgICAgIHsvKiBTY2VuYXJpbyBTZWxlY3RvciAqL31cclxuICAgICAgPENvbnZlcnNhdGlvblNlbGVjdG9yXHJcbiAgICAgICAgc2NlbmFyaW9zPXtjb252ZXJzYXRpb25EYXRhLmV4ZXJjaXNlc31cclxuICAgICAgICBzZWxlY3RlZEluZGV4PXtjdXJyZW50U2NlbmFyaW9JbmRleH1cclxuICAgICAgICBvblNlbGVjdFNjZW5hcmlvPXtoYW5kbGVTY2VuYXJpb0NoYW5nZUNifVxyXG4gICAgICAgIGxldmVsQ29sb3I9e2xldmVsQ29sb3J9XHJcbiAgICAgIC8+XHJcblxyXG4gICAgICB7LyogUHJvZ3Jlc3MgKi99XHJcbiAgICAgIDxDb252ZXJzYXRpb25Qcm9ncmVzc1xyXG4gICAgICAgIHByb2dyZXNzPXtzdGF0cy5jb21wbGV0aW9uUHJvZ3Jlc3N9XHJcbiAgICAgICAgY3VycmVudFN0ZXA9e3N0YXRzLmN1cnJlbnRTdGVwfVxyXG4gICAgICAgIHRvdGFsU3RlcHM9e3N0YXRzLnRvdGFsU3RlcHN9XHJcbiAgICAgICAgbGV2ZWxDb2xvcj17bGV2ZWxDb2xvcn1cclxuICAgICAgICBjb252ZXJzYXRpb25EYXRhPXtjb252ZXJzYXRpb25EYXRhLmV4ZXJjaXNlc31cclxuICAgICAgICBjb21wbGV0ZWRTY2VuYXJpb3M9e2NvbXBsZXRlZFNjZW5hcmlvc31cclxuICAgICAgICBjb252ZXJzYXRpb25IaXN0b3J5PXtjb252ZXJzYXRpb25IaXN0b3J5fVxyXG4gICAgICAgIGV4cGFuZGVkPXtzaG93RGV0YWlsZWRQcm9ncmVzc31cclxuICAgICAgICBvblRvZ2dsZUV4cGFuZD17aGFuZGxlVG9nZ2xlUHJvZ3Jlc3NEZXRhaWxzQ2J9XHJcbiAgICAgICAgb25TY2VuYXJpb1ByZXNzPXtoYW5kbGVTY2VuYXJpb0NoYW5nZUNifVxyXG4gICAgICAvPlxyXG5cclxuICAgICAgey8qIFNjZW5hcmlvIERlc2NyaXB0aW9uICovfVxyXG4gICAgICA8Q29udmVyc2F0aW9uU2NlbmFyaW9EZXNjcmlwdGlvblxyXG4gICAgICAgIGRlc2NyaXB0aW9uPXtjdXJyZW50U2NlbmFyaW8uZGVzY3JpcHRpb259XHJcbiAgICAgICAgaGVscFRleHQ9e2Rpc3BsYXkuY3VycmVudEhlbHB9XHJcbiAgICAgICAgc2hvd0hlbHA9e3Nob3dIZWxwfVxyXG4gICAgICAgIHRvZ2dsZUhlbHA9e2hhbmRsZVRvZ2dsZUhlbHBDYn1cclxuICAgICAgICBsZXZlbENvbG9yPXtsZXZlbENvbG9yfVxyXG4gICAgICAvPlxyXG5cclxuICAgICAgey8qIENoYXQgQXJlYSAqL31cclxuICAgICAgPEtleWJvYXJkQXZvaWRpbmdWaWV3XHJcbiAgICAgICAgc3R5bGU9e3N0eWxlcy5jaGF0Q29udGFpbmVyfVxyXG4gICAgICAgIGJlaGF2aW9yPXtQbGF0Zm9ybS5PUyA9PT0gXCJpb3NcIiA/IFwicGFkZGluZ1wiIDogXCJoZWlnaHRcIn1cclxuICAgICAgICBrZXlib2FyZFZlcnRpY2FsT2Zmc2V0PXtQbGF0Zm9ybS5PUyA9PT0gXCJpb3NcIiA/IDkwIDogMH1cclxuICAgICAgPlxyXG4gICAgICAgIHsvKiBNZXNzYWdlIExpc3QgKi99XHJcbiAgICAgICAgPENvbnZlcnNhdGlvbk1lc3NhZ2VMaXN0XHJcbiAgICAgICAgICBtZXNzYWdlcz17Y29udmVyc2F0aW9ufVxyXG4gICAgICAgICAgaXNUeXBpbmc9e2lzVHlwaW5nfVxyXG4gICAgICAgICAgbGV2ZWxDb2xvcj17bGV2ZWxDb2xvcn1cclxuICAgICAgICAvPlxyXG5cclxuICAgICAgICB7LyogU3VnZ2VzdGlvbnMgKi99XHJcbiAgICAgICAgPENvbnZlcnNhdGlvblN1Z2dlc3Rpb25zXHJcbiAgICAgICAgICBzdWdnZXN0aW9ucz17c3VnZ2VzdGlvbnN9XHJcbiAgICAgICAgICBvblByZXNzU3VnZ2VzdGlvbj17aGFuZGxlVXNlU3VnZ2VzdGlvbn1cclxuICAgICAgICAgIGxldmVsQ29sb3I9e2xldmVsQ29sb3J9XHJcbiAgICAgICAgLz5cclxuXHJcbiAgICAgICAgey8qIElucHV0ICovfVxyXG4gICAgICAgIDxDb252ZXJzYXRpb25JbnB1dFxyXG4gICAgICAgICAgbWVzc2FnZT17bWVzc2FnZX1cclxuICAgICAgICAgIG9uQ2hhbmdlTWVzc2FnZT17c2V0TWVzc2FnZX1cclxuICAgICAgICAgIG9uU2VuZE1lc3NhZ2U9e2hhbmRsZVNlbmRNZXNzYWdlfVxyXG4gICAgICAgICAgbGV2ZWxDb2xvcj17bGV2ZWxDb2xvcn1cclxuICAgICAgICAvPlxyXG4gICAgICA8L0tleWJvYXJkQXZvaWRpbmdWaWV3PlxyXG4gICAgPC9Db250YWluZXI+XHJcbiAgKTtcclxufTtcclxuXHJcbi8vIOKchSBBam91dCBkZSBsYSB2YWxpZGF0aW9uIGRlcyBwcm9wc1xyXG5Db252ZXJzYXRpb25FeGVyY2lzZS5wcm9wVHlwZXMgPSB7XHJcbiAgcm91dGU6IFByb3BUeXBlcy5zaGFwZSh7XHJcbiAgICBwYXJhbXM6IFByb3BUeXBlcy5zaGFwZSh7XHJcbiAgICAgIGxldmVsOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgfSksXHJcbiAgfSkuaXNSZXF1aXJlZCxcclxufTtcclxuXHJcbmV4cG9ydCBkZWZh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