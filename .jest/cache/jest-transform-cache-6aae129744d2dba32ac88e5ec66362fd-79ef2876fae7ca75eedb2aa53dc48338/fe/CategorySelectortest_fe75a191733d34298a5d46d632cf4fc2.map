{"version":3,"names":["_getJestObj","mock","RN","jest","requireActual","Object","assign","Animated","timing","fn","start","mockTimingStart","View","Text","TouchableOpacity","ScrollView","_require","require","LinearGradient","props","_jsxRuntime","jsx","_require2","StyleSheet","create","container","backgroundGradient","scrollView","scrollContent","categoryItemWrapper","categoryTouchable","selectedCategoryItem","selectedInner","selectedCategoryText","sparkleContainer","sparkle","categoryItem","categoryInner","categoryText","_interopRequireDefault","_react","_reactNative","_CategorySelector","_require3","describe","categories","id","name","beforeEach","clearAllMocks","it","_render","render","default","getByText","expect","toBeTruthy","_render2","queryByText","toBeNull","_render3","selectedCategory","onSelectCategory","_render4","fireEvent","press","toHaveBeenCalledWith","_render5","toHaveBeenCalledTimes"],"sources":["CategorySelector.test.js"],"sourcesContent":["// __tests__/components/exercise-common/CategorySelector.test.js\nimport React from 'react';\nimport { render, fireEvent } from '@testing-library/react-native';\nimport CategorySelector from '../../../src/components/exercise-common/CategorySelector';\n\n// Crée un mock pour Animated.timing.start() avant de charger le composant\nconst mockTimingStart = jest.fn();\njest.mock('react-native', () => {\n  const RN = jest.requireActual('react-native');\n  return {\n    ...RN,\n    Animated: {\n      ...RN.Animated,\n      timing: jest.fn(() => ({\n        start: mockTimingStart,\n      })),\n    },\n    // Assurez-vous d'inclure les autres composants que le mock pourrait remplacer\n    View: RN.View,\n    Text: RN.Text,\n    TouchableOpacity: RN.TouchableOpacity,\n    ScrollView: RN.ScrollView,\n  };\n});\n\n// Mock d'expo-linear-gradient corrigé\njest.mock('expo-linear-gradient', () => {\n  // On importe View ici, à l'intérieur de la fonction, comme l'exige Jest\n  const { View } = require('react-native');\n  return {\n    LinearGradient: (props) => <View {...props} />,\n  };\n});\n\n// Mock du fichier de style\njest.mock('../../../src/components/exercise-common/CategorySelector/style', () => {\n  const { StyleSheet } = require('react-native');\n  return () => StyleSheet.create({\n    container: {},\n    backgroundGradient: {},\n    scrollView: {},\n    scrollContent: {},\n    categoryItemWrapper: {},\n    categoryTouchable: {},\n    selectedCategoryItem: {},\n    selectedInner: {},\n    selectedCategoryText: {},\n    sparkleContainer: {},\n    sparkle: {},\n    categoryItem: {},\n    categoryInner: {},\n    categoryText: {},\n  });\n});\n\ndescribe('CategorySelector', () => {\n  const categories = [\n    { id: '1', name: 'Grammar' },\n    { id: '2', name: 'Vocabulary' },\n    { id: '3', name: 'Reading' },\n  ];\n\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  it('should render all categories correctly with minimum props', () => {\n    const { getByText } = render(<CategorySelector categories={categories} />);\n    expect(getByText('Grammar')).toBeTruthy();\n    expect(getByText('Vocabulary')).toBeTruthy();\n    expect(getByText('Reading')).toBeTruthy();\n  });\n\n  it('should render nothing when the categories array is empty', () => {\n    const { queryByText } = render(<CategorySelector categories={[]} />);\n    expect(queryByText('Grammar')).toBeNull();\n  });\n\n  it('should display the selected category with the sparkle emoji', () => {\n    const { getByText } = render(\n      <CategorySelector\n        categories={categories}\n        selectedCategory=\"1\"\n        onSelectCategory={() => {}}\n      />\n    );\n    expect(getByText('✨')).toBeTruthy();\n  });\n\n  it('should call onSelectCategory with the correct category id when a category is pressed', () => {\n    const onSelectCategory = jest.fn();\n    const { getByText } = render(\n      <CategorySelector\n        categories={categories}\n        onSelectCategory={onSelectCategory}\n      />\n    );\n    fireEvent.press(getByText('Vocabulary'));\n    expect(onSelectCategory).toHaveBeenCalledWith('2');\n  });\n\n  it('should deselect the previous category when a new one is selected and trigger two animations', () => {\n    const onSelectCategory = jest.fn();\n    // Rend le composant avec une catégorie déjà sélectionnée\n    const { getByText } = render(\n      <CategorySelector\n        categories={categories}\n        selectedCategory=\"1\"\n        onSelectCategory={onSelectCategory}\n      />\n    );\n\n    fireEvent.press(getByText('Vocabulary'));\n    \n    expect(onSelectCategory).toHaveBeenCalledWith('2');\n    expect(mockTimingStart).toHaveBeenCalledTimes(2);\n  });\n});"],"mappings":"AAOAA,WAAA,GAAKC,IAAI,CAAC,cAAc,EAAE,YAAM;EAC9B,IAAMC,EAAE,GAAGC,IAAI,CAACC,aAAa,CAAC,cAAc,CAAC;EAC7C,OAAAC,MAAA,CAAAC,MAAA,KACKJ,EAAE;IACLK,QAAQ,EAAAF,MAAA,CAAAC,MAAA,KACHJ,EAAE,CAACK,QAAQ;MACdC,MAAM,EAAEL,IAAI,CAACM,EAAE,CAAC;QAAA,OAAO;UACrBC,KAAK,EAAEC;QACT,CAAC;MAAA,CAAC;IAAC,EACJ;IAEDC,IAAI,EAAEV,EAAE,CAACU,IAAI;IACbC,IAAI,EAAEX,EAAE,CAACW,IAAI;IACbC,gBAAgB,EAAEZ,EAAE,CAACY,gBAAgB;IACrCC,UAAU,EAAEb,EAAE,CAACa;EAAU;AAE7B,CAAC,CAAC;AAGFf,WAAA,GAAKC,IAAI,CAAC,sBAAsB,EAAE,YAAM;EAEtC,IAAAe,QAAA,GAAiBC,OAAO,CAAC,cAAc,CAAC;IAAhCL,IAAI,GAAAI,QAAA,CAAJJ,IAAI;EACZ,OAAO;IACLM,cAAc,EAAE,SAAhBA,cAAcA,CAAGC,KAAK;MAAA,OAAK,IAAAC,WAAA,CAAAC,GAAA,EAACT,IAAI,EAAAP,MAAA,CAAAC,MAAA,KAAKa,KAAK,CAAG,CAAC;IAAA;EAChD,CAAC;AACH,CAAC,CAAC;AAGFnB,WAAA,GAAKC,IAAI,CAAC,gEAAgE,EAAE,YAAM;EAChF,IAAAqB,SAAA,GAAuBL,OAAO,CAAC,cAAc,CAAC;IAAtCM,UAAU,GAAAD,SAAA,CAAVC,UAAU;EAClB,OAAO;IAAA,OAAMA,UAAU,CAACC,MAAM,CAAC;MAC7BC,SAAS,EAAE,CAAC,CAAC;MACbC,kBAAkB,EAAE,CAAC,CAAC;MACtBC,UAAU,EAAE,CAAC,CAAC;MACdC,aAAa,EAAE,CAAC,CAAC;MACjBC,mBAAmB,EAAE,CAAC,CAAC;MACvBC,iBAAiB,EAAE,CAAC,CAAC;MACrBC,oBAAoB,EAAE,CAAC,CAAC;MACxBC,aAAa,EAAE,CAAC,CAAC;MACjBC,oBAAoB,EAAE,CAAC,CAAC;MACxBC,gBAAgB,EAAE,CAAC,CAAC;MACpBC,OAAO,EAAE,CAAC,CAAC;MACXC,YAAY,EAAE,CAAC,CAAC;MAChBC,aAAa,EAAE,CAAC,CAAC;MACjBC,YAAY,EAAE,CAAC;IACjB,CAAC,CAAC;EAAA;AACJ,CAAC,CAAC;AAAC,IAAAC,sBAAA,GAAAtB,OAAA;AApDH,IAAAuB,MAAA,GAAAD,sBAAA,CAAAtB,OAAA;AACA,IAAAwB,YAAA,GAAAxB,OAAA;AACA,IAAAyB,iBAAA,GAAAH,sBAAA,CAAAtB,OAAA;AAAwF,IAAAG,WAAA,GAAAH,OAAA;AAAA,SAAAjB,YAAA;EAAA,IAAA2C,SAAA,GAAA1B,OAAA;IAAAd,IAAA,GAAAwC,SAAA,CAAAxC,IAAA;EAAAH,WAAA,YAAAA,YAAA;IAAA,OAAAG,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAGxF,IAAMQ,eAAe,GAAGR,IAAI,CAACM,EAAE,CAAC,CAAC;AAiDjCmC,QAAQ,CAAC,kBAAkB,EAAE,YAAM;EACjC,IAAMC,UAAU,GAAG,CACjB;IAAEC,EAAE,EAAE,GAAG;IAAEC,IAAI,EAAE;EAAU,CAAC,EAC5B;IAAED,EAAE,EAAE,GAAG;IAAEC,IAAI,EAAE;EAAa,CAAC,EAC/B;IAAED,EAAE,EAAE,GAAG;IAAEC,IAAI,EAAE;EAAU,CAAC,CAC7B;EAEDC,UAAU,CAAC,YAAM;IACf7C,IAAI,CAAC8C,aAAa,CAAC,CAAC;EACtB,CAAC,CAAC;EAEFC,EAAE,CAAC,2DAA2D,EAAE,YAAM;IACpE,IAAAC,OAAA,GAAsB,IAAAC,mBAAM,EAAC,IAAAhC,WAAA,CAAAC,GAAA,EAACqB,iBAAA,CAAAW,OAAgB;QAACR,UAAU,EAAEA;MAAW,CAAE,CAAC,CAAC;MAAlES,SAAS,GAAAH,OAAA,CAATG,SAAS;IACjBC,MAAM,CAACD,SAAS,CAAC,SAAS,CAAC,CAAC,CAACE,UAAU,CAAC,CAAC;IACzCD,MAAM,CAACD,SAAS,CAAC,YAAY,CAAC,CAAC,CAACE,UAAU,CAAC,CAAC;IAC5CD,MAAM,CAACD,SAAS,CAAC,SAAS,CAAC,CAAC,CAACE,UAAU,CAAC,CAAC;EAC3C,CAAC,CAAC;EAEFN,EAAE,CAAC,0DAA0D,EAAE,YAAM;IACnE,IAAAO,QAAA,GAAwB,IAAAL,mBAAM,EAAC,IAAAhC,WAAA,CAAAC,GAAA,EAACqB,iBAAA,CAAAW,OAAgB;QAACR,UAAU,EAAE;MAAG,CAAE,CAAC,CAAC;MAA5Da,WAAW,GAAAD,QAAA,CAAXC,WAAW;IACnBH,MAAM,CAACG,WAAW,CAAC,SAAS,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;EAC3C,CAAC,CAAC;EAEFT,EAAE,CAAC,6DAA6D,EAAE,YAAM;IACtE,IAAAU,QAAA,GAAsB,IAAAR,mBAAM,EAC1B,IAAAhC,WAAA,CAAAC,GAAA,EAACqB,iBAAA,CAAAW,OAAgB;QACfR,UAAU,EAAEA,UAAW;QACvBgB,gBAAgB,EAAC,GAAG;QACpBC,gBAAgB,EAAE,SAAlBA,gBAAgBA,CAAA,EAAQ,CAAC;MAAE,CAC5B,CACH,CAAC;MANOR,SAAS,GAAAM,QAAA,CAATN,SAAS;IAOjBC,MAAM,CAACD,SAAS,CAAC,GAAG,CAAC,CAAC,CAACE,UAAU,CAAC,CAAC;EACrC,CAAC,CAAC;EAEFN,EAAE,CAAC,sFAAsF,EAAE,YAAM;IAC/F,IAAMY,gBAAgB,GAAG3D,IAAI,CAACM,EAAE,CAAC,CAAC;IAClC,IAAAsD,QAAA,GAAsB,IAAAX,mBAAM,EAC1B,IAAAhC,WAAA,CAAAC,GAAA,EAACqB,iBAAA,CAAAW,OAAgB;QACfR,UAAU,EAAEA,UAAW;QACvBiB,gBAAgB,EAAEA;MAAiB,CACpC,CACH,CAAC;MALOR,SAAS,GAAAS,QAAA,CAATT,SAAS;IAMjBU,sBAAS,CAACC,KAAK,CAACX,SAAS,CAAC,YAAY,CAAC,CAAC;IACxCC,MAAM,CAACO,gBAAgB,CAAC,CAACI,oBAAoB,CAAC,GAAG,CAAC;EACpD,CAAC,CAAC;EAEFhB,EAAE,CAAC,6FAA6F,EAAE,YAAM;IACtG,IAAMY,gBAAgB,GAAG3D,IAAI,CAACM,EAAE,CAAC,CAAC;IAElC,IAAA0D,QAAA,GAAsB,IAAAf,mBAAM,EAC1B,IAAAhC,WAAA,CAAAC,GAAA,EAACqB,iBAAA,CAAAW,OAAgB;QACfR,UAAU,EAAEA,UAAW;QACvBgB,gBAAgB,EAAC,GAAG;QACpBC,gBAAgB,EAAEA;MAAiB,CACpC,CACH,CAAC;MANOR,SAAS,GAAAa,QAAA,CAATb,SAAS;IAQjBU,sBAAS,CAACC,KAAK,CAACX,SAAS,CAAC,YAAY,CAAC,CAAC;IAExCC,MAAM,CAACO,gBAAgB,CAAC,CAACI,oBAAoB,CAAC,GAAG,CAAC;IAClDX,MAAM,CAAC5C,eAAe,CAAC,CAACyD,qBAAqB,CAAC,CAAC,CAAC;EAClD,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}