8c2eb4fefb16679146990f5d0d21c84f
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _classPrivateFieldLooseBase2 = _interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldLooseBase"));
var _classPrivateFieldLooseKey2 = _interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldLooseKey"));
var _HScrollViewNativeComponents = require("../../../src/private/components/HScrollViewNativeComponents");
var _VScrollViewNativeComponents = require("../../../src/private/components/VScrollViewNativeComponents");
var _AnimatedImplementation = _interopRequireDefault(require("../../Animated/AnimatedImplementation"));
var _FrameRateLogger = _interopRequireDefault(require("../../Interaction/FrameRateLogger"));
var _RendererProxy = require("../../ReactNative/RendererProxy");
var _UIManager = _interopRequireDefault(require("../../ReactNative/UIManager"));
var _flattenStyle = _interopRequireDefault(require("../../StyleSheet/flattenStyle"));
var _splitLayoutProps2 = _interopRequireDefault(require("../../StyleSheet/splitLayoutProps"));
var _StyleSheet = _interopRequireDefault(require("../../StyleSheet/StyleSheet"));
var _Dimensions = _interopRequireDefault(require("../../Utilities/Dimensions"));
var _dismissKeyboard = _interopRequireDefault(require("../../Utilities/dismissKeyboard"));
var _Platform = _interopRequireDefault(require("../../Utilities/Platform"));
var _EventEmitter = _interopRequireDefault(require("../../vendor/emitter/EventEmitter"));
var _Keyboard = _interopRequireDefault(require("../Keyboard/Keyboard"));
var _TextInputState = _interopRequireDefault(require("../TextInput/TextInputState"));
var _processDecelerationRate = _interopRequireDefault(require("./processDecelerationRate"));
var _ScrollViewCommands = _interopRequireDefault(require("./ScrollViewCommands"));
var _ScrollViewContext = _interopRequireWildcard(require("./ScrollViewContext"));
var _ScrollViewStickyHeader = _interopRequireDefault(require("./ScrollViewStickyHeader"));
var _invariant = _interopRequireDefault(require("invariant"));
var _memoizeOne = _interopRequireDefault(require("memoize-one"));
var _nullthrows = _interopRequireDefault(require("nullthrows"));
var React = _interopRequireWildcard(require("react"));
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["experimental_endDraggingSensitivityMultiplier"];
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
var IS_ANIMATING_TOUCH_START_THRESHOLD_MS = 16;
var _onScrollEmitter = (0, _classPrivateFieldLooseKey2.default)("onScrollEmitter");
var ScrollView = function (_React$Component) {
  function ScrollView(props) {
    var _this$props$contentOf, _this$props$contentOf2, _this$props$contentIn, _this$props$contentIn2;
    var _this;
    (0, _classCallCheck2.default)(this, ScrollView);
    _this = _callSuper(this, ScrollView, [props]);
    _this._scrollAnimatedValueAttachment = null;
    _this._stickyHeaderRefs = new Map();
    _this._headerLayoutYs = new Map();
    _this._keyboardMetrics = null;
    _this._additionalScrollOffset = 0;
    _this._isTouching = false;
    _this._lastMomentumScrollBeginTime = 0;
    _this._lastMomentumScrollEndTime = 0;
    _this._observedScrollSinceBecomingResponder = false;
    _this._becameResponderWhileAnimating = false;
    _this._preventNegativeScrollOffset = null;
    _this._animated = null;
    _this._subscriptionKeyboardWillShow = null;
    _this._subscriptionKeyboardWillHide = null;
    _this._subscriptionKeyboardDidShow = null;
    _this._subscriptionKeyboardDidHide = null;
    Object.defineProperty(_this, _onScrollEmitter, {
      writable: true,
      value: null
    });
    _this.state = {
      layoutHeight: null
    };
    _this.getScrollResponder = function () {
      return _this;
    };
    _this.getScrollableNode = function () {
      return (0, _RendererProxy.findNodeHandle)(_this.getNativeScrollRef());
    };
    _this.getInnerViewNode = function () {
      return (0, _RendererProxy.findNodeHandle)(_this._innerView.nativeInstance);
    };
    _this.getInnerViewRef = function () {
      return _this._innerView.nativeInstance;
    };
    _this.getNativeScrollRef = function () {
      var nativeInstance = _this._scrollView.nativeInstance;
      return nativeInstance == null ? null : nativeInstance.componentRef.current;
    };
    _this.scrollTo = function (options, deprecatedX, deprecatedAnimated) {
      var x, y, animated;
      if (typeof options === 'number') {
        console.warn('`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, ' + 'animated: true})` instead.');
        y = options;
        x = deprecatedX;
        animated = deprecatedAnimated;
      } else if (options) {
        y = options.y;
        x = options.x;
        animated = options.animated;
      }
      var component = _this.getNativeScrollRef();
      if (component == null) {
        return;
      }
      _ScrollViewCommands.default.scrollTo(component, x || 0, y || 0, animated !== false);
    };
    _this.scrollToEnd = function (options) {
      var animated = (options && options.animated) !== false;
      var component = _this.getNativeScrollRef();
      if (component == null) {
        return;
      }
      _ScrollViewCommands.default.scrollToEnd(component, animated);
    };
    _this.flashScrollIndicators = function () {
      var component = _this.getNativeScrollRef();
      if (component == null) {
        return;
      }
      _ScrollViewCommands.default.flashScrollIndicators(component);
    };
    _this._subscribeToOnScroll = function (callback) {
      var onScrollEmitter = (0, _classPrivateFieldLooseBase2.default)(_this, _onScrollEmitter)[_onScrollEmitter];
      if (onScrollEmitter == null) {
        var _this$_scrollView$nat;
        onScrollEmitter = new _EventEmitter.default();
        (0, _classPrivateFieldLooseBase2.default)(_this, _onScrollEmitter)[_onScrollEmitter] = onScrollEmitter;
        (_this$_scrollView$nat = _this._scrollView.nativeInstance) == null || _this$_scrollView$nat.unstable_setEnableSyncOnScroll(true);
      }
      return onScrollEmitter.addListener('scroll', callback);
    };
    _this.scrollResponderScrollNativeHandleToKeyboard = function (nodeHandle, additionalOffset, preventNegativeScrollOffset) {
      _this._additionalScrollOffset = additionalOffset || 0;
      _this._preventNegativeScrollOffset = !!preventNegativeScrollOffset;
      if (_this._innerView.nativeInstance == null) {
        return;
      }
      if (typeof nodeHandle === 'number') {
        _UIManager.default.measureLayout(nodeHandle, (0, _nullthrows.default)((0, _RendererProxy.findNodeHandle)(_this)), _this._textInputFocusError, _this._inputMeasureAndScrollToKeyboard);
      } else {
        nodeHandle.measureLayout(_this._innerView.nativeInstance, _this._inputMeasureAndScrollToKeyboard, _this._textInputFocusError);
      }
    };
    _this.scrollResponderZoomTo = function (rect, animated) {
      (0, _invariant.default)(_Platform.default.OS === 'ios', 'zoomToRect is not implemented');
      if ('animated' in rect) {
        _this._animated = rect.animated;
        delete rect.animated;
      } else if (typeof animated !== 'undefined') {
        console.warn('`scrollResponderZoomTo` `animated` argument is deprecated. Use `options.animated` instead');
      }
      var component = _this.getNativeScrollRef();
      if (component == null) {
        return;
      }
      _ScrollViewCommands.default.zoomToRect(component, rect, animated !== false);
    };
    _this._inputMeasureAndScrollToKeyboard = function (left, top, width, height) {
      var keyboardScreenY = _Dimensions.default.get('window').height;
      var scrollTextInputIntoVisibleRect = function scrollTextInputIntoVisibleRect() {
        if (_this._keyboardMetrics != null) {
          keyboardScreenY = _this._keyboardMetrics.screenY;
        }
        var scrollOffsetY = top - keyboardScreenY + height + _this._additionalScrollOffset;
        if (_this._preventNegativeScrollOffset === true) {
          scrollOffsetY = Math.max(0, scrollOffsetY);
        }
        _this.scrollTo({
          x: 0,
          y: scrollOffsetY,
          animated: true
        });
        _this._additionalScrollOffset = 0;
        _this._preventNegativeScrollOffset = false;
      };
      if (_this._keyboardMetrics == null) {
        setTimeout(function () {
          scrollTextInputIntoVisibleRect();
        }, 0);
      } else {
        scrollTextInputIntoVisibleRect();
      }
    };
    _this._handleScroll = function (e) {
      var _classPrivateFieldLoo;
      _this._observedScrollSinceBecomingResponder = true;
      _this.props.onScroll && _this.props.onScroll(e);
      (_classPrivateFieldLoo = (0, _classPrivateFieldLooseBase2.default)(_this, _onScrollEmitter)[_onScrollEmitter]) == null || _classPrivateFieldLoo.emit('scroll', {
        x: e.nativeEvent.contentOffset.x,
        y: e.nativeEvent.contentOffset.y
      });
    };
    _this._handleLayout = function (e) {
      if (_this.props.invertStickyHeaders === true) {
        _this.setState({
          layoutHeight: e.nativeEvent.layout.height
        });
      }
      if (_this.props.onLayout) {
        _this.props.onLayout(e);
      }
    };
    _this._handleContentOnLayout = function (e) {
      var _e$nativeEvent$layout = e.nativeEvent.layout,
        width = _e$nativeEvent$layout.width,
        height = _e$nativeEvent$layout.height;
      _this.props.onContentSizeChange && _this.props.onContentSizeChange(width, height);
    };
    _this._innerView = createRefForwarder(function (instance) {
      return instance;
    });
    _this._scrollView = createRefForwarder(function (nativeImperativeHandle) {
      var nativeInstance = nativeImperativeHandle.componentRef.current;
      if (nativeInstance == null) {
        return null;
      }
      var publicInstance = Object.assign(nativeInstance, {
        getScrollResponder: _this.getScrollResponder,
        getScrollableNode: _this.getScrollableNode,
        getInnerViewNode: _this.getInnerViewNode,
        getInnerViewRef: _this.getInnerViewRef,
        getNativeScrollRef: _this.getNativeScrollRef,
        scrollTo: _this.scrollTo,
        scrollToEnd: _this.scrollToEnd,
        flashScrollIndicators: _this.flashScrollIndicators,
        scrollResponderZoomTo: _this.scrollResponderZoomTo,
        unstable_subscribeToOnScroll: _this._subscribeToOnScroll,
        scrollResponderScrollNativeHandleToKeyboard: _this.scrollResponderScrollNativeHandleToKeyboard
      });
      return publicInstance;
    });
    _this.scrollResponderKeyboardWillShow = function (e) {
      _this._keyboardMetrics = e.endCoordinates;
      _this.props.onKeyboardWillShow && _this.props.onKeyboardWillShow(e);
    };
    _this.scrollResponderKeyboardWillHide = function (e) {
      _this._keyboardMetrics = null;
      _this.props.onKeyboardWillHide && _this.props.onKeyboardWillHide(e);
    };
    _this.scrollResponderKeyboardDidShow = function (e) {
      _this._keyboardMetrics = e.endCoordinates;
      _this.props.onKeyboardDidShow && _this.props.onKeyboardDidShow(e);
    };
    _this.scrollResponderKeyboardDidHide = function (e) {
      _this._keyboardMetrics = null;
      _this.props.onKeyboardDidHide && _this.props.onKeyboardDidHide(e);
    };
    _this._handleMomentumScrollBegin = function (e) {
      _this._lastMomentumScrollBeginTime = global.performance.now();
      _this.props.onMomentumScrollBegin && _this.props.onMomentumScrollBegin(e);
    };
    _this._handleMomentumScrollEnd = function (e) {
      _FrameRateLogger.default.endScroll();
      _this._lastMomentumScrollEndTime = global.performance.now();
      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };
    _this._handleScrollBeginDrag = function (e) {
      _FrameRateLogger.default.beginScroll();
      if (_Platform.default.OS === 'android' && _this.props.keyboardDismissMode === 'on-drag') {
        (0, _dismissKeyboard.default)();
      }
      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };
    _this._handleScrollEndDrag = function (e) {
      var velocity = e.nativeEvent.velocity;
      if (!_this._isAnimating() && (!velocity || velocity.x === 0 && velocity.y === 0)) {
        _FrameRateLogger.default.endScroll();
      }
      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };
    _this._isAnimating = function () {
      var now = global.performance.now();
      var timeSinceLastMomentumScrollEnd = now - _this._lastMomentumScrollEndTime;
      var isAnimating = timeSinceLastMomentumScrollEnd < IS_ANIMATING_TOUCH_START_THRESHOLD_MS || _this._lastMomentumScrollEndTime < _this._lastMomentumScrollBeginTime;
      return isAnimating;
    };
    _this._handleResponderGrant = function (e) {
      _this._observedScrollSinceBecomingResponder = false;
      _this.props.onResponderGrant && _this.props.onResponderGrant(e);
      _this._becameResponderWhileAnimating = _this._isAnimating();
    };
    _this._handleResponderReject = function () {};
    _this._handleResponderRelease = function (e) {
      _this._isTouching = e.nativeEvent.touches.length !== 0;
      _this.props.onResponderRelease && _this.props.onResponderRelease(e);
      if (typeof e.target === 'number') {
        if (__DEV__) {
          console.error('Did not expect event target to be a number. Should have been a native component');
        }
        return;
      }
      var currentlyFocusedTextInput = _TextInputState.default.currentlyFocusedInput();
      if (currentlyFocusedTextInput != null && _this.props.keyboardShouldPersistTaps !== true && _this.props.keyboardShouldPersistTaps !== 'always' && _this._keyboardIsDismissible() && e.target !== currentlyFocusedTextInput && !_this._observedScrollSinceBecomingResponder && !_this._becameResponderWhileAnimating) {
        _TextInputState.default.blurTextInput(currentlyFocusedTextInput);
      }
    };
    _this._handleResponderTerminationRequest = function () {
      return !_this._observedScrollSinceBecomingResponder;
    };
    _this._handleScrollShouldSetResponder = function () {
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }
      return _this._isTouching;
    };
    _this._handleStartShouldSetResponder = function (e) {
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }
      var currentlyFocusedInput = _TextInputState.default.currentlyFocusedInput();
      if (_this.props.keyboardShouldPersistTaps === 'handled' && _this._keyboardIsDismissible() && e.target !== currentlyFocusedInput) {
        return true;
      }
      return false;
    };
    _this._handleStartShouldSetResponderCapture = function (e) {
      if (_this._isAnimating()) {
        return true;
      }
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }
      var keyboardShouldPersistTaps = _this.props.keyboardShouldPersistTaps;
      var keyboardNeverPersistTaps = !keyboardShouldPersistTaps || keyboardShouldPersistTaps === 'never';
      if (typeof e.target === 'number') {
        if (__DEV__) {
          console.error('Did not expect event target to be a number. Should have been a native component');
        }
        return false;
      }
      if (_this._softKeyboardIsDetached()) {
        return false;
      }
      if (keyboardNeverPersistTaps && _this._keyboardIsDismissible() && e.target != null && !_TextInputState.default.isTextInput(e.target)) {
        return true;
      }
      return false;
    };
    _this._keyboardIsDismissible = function () {
      var currentlyFocusedInput = _TextInputState.default.currentlyFocusedInput();
      var hasFocusedTextInput = currentlyFocusedInput != null && _TextInputState.default.isTextInput(currentlyFocusedInput);
      var softKeyboardMayBeOpen = _this._keyboardMetrics != null || _this._keyboardEventsAreUnreliable();
      return hasFocusedTextInput && softKeyboardMayBeOpen;
    };
    _this._softKeyboardIsDetached = function () {
      return _this._keyboardMetrics != null && _this._keyboardMetrics.height === 0;
    };
    _this._keyboardEventsAreUnreliable = function () {
      return _Platform.default.OS === 'android' && _Platform.default.Version < 30;
    };
    _this._handleTouchEnd = function (e) {
      var nativeEvent = e.nativeEvent;
      _this._isTouching = nativeEvent.touches.length !== 0;
      var keyboardShouldPersistTaps = _this.props.keyboardShouldPersistTaps;
      var keyboardNeverPersistsTaps = !keyboardShouldPersistTaps || keyboardShouldPersistTaps === 'never';
      var currentlyFocusedTextInput = _TextInputState.default.currentlyFocusedInput();
      if (currentlyFocusedTextInput != null && e.target !== currentlyFocusedTextInput && _this._softKeyboardIsDetached() && _this._keyboardIsDismissible() && keyboardNeverPersistsTaps) {
        _TextInputState.default.blurTextInput(currentlyFocusedTextInput);
      }
      _this.props.onTouchEnd && _this.props.onTouchEnd(e);
    };
    _this._handleTouchCancel = function (e) {
      _this._isTouching = false;
      _this.props.onTouchCancel && _this.props.onTouchCancel(e);
    };
    _this._handleTouchStart = function (e) {
      _this._isTouching = true;
      _this.props.onTouchStart && _this.props.onTouchStart(e);
    };
    _this._handleTouchMove = function (e) {
      _this.props.onTouchMove && _this.props.onTouchMove(e);
    };
    _this._scrollAnimatedValue = new _AnimatedImplementation.default.Value((_this$props$contentOf = (_this$props$contentOf2 = _this.props.contentOffset) == null ? void 0 : _this$props$contentOf2.y) != null ? _this$props$contentOf : 0);
    _this._scrollAnimatedValue.setOffset((_this$props$contentIn = (_this$props$contentIn2 = _this.props.contentInset) == null ? void 0 : _this$props$contentIn2.top) != null ? _this$props$contentIn : 0);
    return _this;
  }
  (0, _inherits2.default)(ScrollView, _React$Component);
  return (0, _createClass2.default)(ScrollView, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (typeof this.props.keyboardShouldPersistTaps === 'boolean') {
        console.warn(`'keyboardShouldPersistTaps={${this.props.keyboardShouldPersistTaps === true ? 'true' : 'false'}}' is deprecated. ` + `Use 'keyboardShouldPersistTaps="${this.props.keyboardShouldPersistTaps ? 'always' : 'never'}"' instead`);
      }
      this._keyboardMetrics = _Keyboard.default.metrics();
      this._additionalScrollOffset = 0;
      this._subscriptionKeyboardWillShow = _Keyboard.default.addListener('keyboardWillShow', this.scrollResponderKeyboardWillShow);
      this._subscriptionKeyboardWillHide = _Keyboard.default.addListener('keyboardWillHide', this.scrollResponderKeyboardWillHide);
      this._subscriptionKeyboardDidShow = _Keyboard.default.addListener('keyboardDidShow', this.scrollResponderKeyboardDidShow);
      this._subscriptionKeyboardDidHide = _Keyboard.default.addListener('keyboardDidHide', this.scrollResponderKeyboardDidHide);
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var prevContentInsetTop = prevProps.contentInset ? prevProps.contentInset.top : 0;
      var newContentInsetTop = this.props.contentInset ? this.props.contentInset.top : 0;
      if (prevContentInsetTop !== newContentInsetTop) {
        this._scrollAnimatedValue.setOffset(newContentInsetTop || 0);
      }
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      var _classPrivateFieldLoo2;
      if (this._subscriptionKeyboardWillShow != null) {
        this._subscriptionKeyboardWillShow.remove();
      }
      if (this._subscriptionKeyboardWillHide != null) {
        this._subscriptionKeyboardWillHide.remove();
      }
      if (this._subscriptionKeyboardDidShow != null) {
        this._subscriptionKeyboardDidShow.remove();
      }
      if (this._subscriptionKeyboardDidHide != null) {
        this._subscriptionKeyboardDidHide.remove();
      }
      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }
      (_classPrivateFieldLoo2 = (0, _classPrivateFieldLooseBase2.default)(this, _onScrollEmitter)[_onScrollEmitter]) == null || _classPrivateFieldLoo2.removeAllListeners();
    }
  }, {
    key: "_textInputFocusError",
    value: function _textInputFocusError() {
      console.warn('Error measuring text field.');
    }
  }, {
    key: "_getKeyForIndex",
    value: function _getKeyForIndex(index, childArray) {
      var child = childArray[index];
      return child && child.key;
    }
  }, {
    key: "_updateAnimatedNodeAttachment",
    value: function _updateAnimatedNodeAttachment() {
      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }
      if (this.props.stickyHeaderIndices && this.props.stickyHeaderIndices.length > 0) {
        this._scrollAnimatedValueAttachment = _AnimatedImplementation.default.attachNativeEvent(this.getNativeScrollRef(), 'onScroll', [{
          nativeEvent: {
            contentOffset: {
              y: this._scrollAnimatedValue
            }
          }
        }]);
      }
    }
  }, {
    key: "_setStickyHeaderRef",
    value: function _setStickyHeaderRef(key, ref) {
      if (ref) {
        this._stickyHeaderRefs.set(key, ref);
      } else {
        this._stickyHeaderRefs.delete(key);
      }
    }
  }, {
    key: "_onStickyHeaderLayout",
    value: function _onStickyHeaderLayout(index, event, key) {
      var stickyHeaderIndices = this.props.stickyHeaderIndices;
      if (!stickyHeaderIndices) {
        return;
      }
      var childArray = React.Children.toArray(this.props.children);
      if (key !== this._getKeyForIndex(index, childArray)) {
        return;
      }
      var layoutY = event.nativeEvent.layout.y;
      this._headerLayoutYs.set(key, layoutY);
      var indexOfIndex = stickyHeaderIndices.indexOf(index);
      var previousHeaderIndex = stickyHeaderIndices[indexOfIndex - 1];
      if (previousHeaderIndex != null) {
        var previousHeader = this._stickyHeaderRefs.get(this._getKeyForIndex(previousHeaderIndex, childArray));
        previousHeader && previousHeader.setNextHeaderY && previousHeader.setNextHeaderY(layoutY);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;
      var horizontal = this.props.horizontal === true;
      var NativeScrollView = horizontal ? _HScrollViewNativeComponents.HScrollViewNativeComponent : _VScrollViewNativeComponents.VScrollViewNativeComponent;
      var NativeScrollContentView = horizontal ? _HScrollViewNativeComponents.HScrollContentViewNativeComponent : _VScrollViewNativeComponents.VScrollContentViewNativeComponent;
      var contentContainerStyle = [horizontal && styles.contentContainerHorizontal, this.props.contentContainerStyle];
      if (__DEV__ && this.props.style !== undefined) {
        var style = (0, _flattenStyle.default)(this.props.style);
        var childLayoutProps = ['alignItems', 'justifyContent'].filter(function (prop) {
          return style && style[prop] !== undefined;
        });
        (0, _invariant.default)(childLayoutProps.length === 0, 'ScrollView child layout (' + JSON.stringify(childLayoutProps) + ') must be applied through the contentContainerStyle prop.');
      }
      var contentSizeChangeProps = this.props.onContentSizeChange == null ? null : {
        onLayout: this._handleContentOnLayout
      };
      var stickyHeaderIndices = this.props.stickyHeaderIndices;
      var children = this.props.children;
      children = React.Children.toArray(children);
      if (stickyHeaderIndices != null && stickyHeaderIndices.length > 0) {
        children = children.map(function (child, index) {
          var indexOfIndex = child ? stickyHeaderIndices.indexOf(index) : -1;
          if (indexOfIndex > -1) {
            var key = child.key;
            var nextIndex = stickyHeaderIndices[indexOfIndex + 1];
            var StickyHeaderComponent = _this2.props.StickyHeaderComponent || _ScrollViewStickyHeader.default;
            return (0, _jsxRuntime.jsx)(StickyHeaderComponent, {
              ref: function ref(_ref) {
                return _this2._setStickyHeaderRef(key, _ref);
              },
              nextHeaderLayoutY: _this2._headerLayoutYs.get(_this2._getKeyForIndex(nextIndex, children)),
              onLayout: function onLayout(event) {
                return _this2._onStickyHeaderLayout(index, event, key);
              },
              scrollAnimatedValue: _this2._scrollAnimatedValue,
              inverted: _this2.props.invertStickyHeaders,
              hiddenOnScroll: _this2.props.stickyHeaderHiddenOnScroll,
              scrollViewHeight: _this2.state.layoutHeight,
              children: child
            }, key);
          } else {
            return child;
          }
        });
      }
      children = (0, _jsxRuntime.jsx)(_ScrollViewContext.default.Provider, {
        value: horizontal ? _ScrollViewContext.HORIZONTAL : _ScrollViewContext.VERTICAL,
        children: children
      });
      var hasStickyHeaders = Array.isArray(stickyHeaderIndices) && stickyHeaderIndices.length > 0;
      var preserveChildren = this.props.maintainVisibleContentPosition != null || _Platform.default.OS === 'android' && this.props.snapToAlignment != null;
      var contentContainer = (0, _jsxRuntime.jsx)(NativeScrollContentView, Object.assign({}, contentSizeChangeProps, {
        ref: this._innerView.getForwardingRef(this.props.innerViewRef),
        style: contentContainerStyle,
        removeClippedSubviews: _Platform.default.OS === 'android' && hasStickyHeaders ? false : this.props.removeClippedSubviews,
        collapsable: false,
        collapsableChildren: !preserveChildren,
        children: children
      }));
      var alwaysBounceHorizontal = this.props.alwaysBounceHorizontal !== undefined ? this.props.alwaysBounceHorizontal : this.props.horizontal;
      var alwaysBounceVertical = this.props.alwaysBounceVertical !== undefined ? this.props.alwaysBounceVertical : !this.props.horizontal;
      var baseStyle = horizontal ? styles.baseHorizontal : styles.baseVertical;
      var _this$props = this.props,
        experimental_endDraggingSensitivityMultiplier = _this$props.experimental_endDraggingSensitivityMultiplier,
        otherProps = (0, _objectWithoutProperties2.default)(_this$props, _excluded);
      var props = Object.assign({}, otherProps, {
        alwaysBounceHorizontal: alwaysBounceHorizontal,
        alwaysBounceVertical: alwaysBounceVertical,
        style: _StyleSheet.default.compose(baseStyle, this.props.style),
        onContentSizeChange: null,
        onLayout: this._handleLayout,
        onMomentumScrollBegin: this._handleMomentumScrollBegin,
        onMomentumScrollEnd: this._handleMomentumScrollEnd,
        onResponderGrant: this._handleResponderGrant,
        onResponderReject: this._handleResponderReject,
        onResponderRelease: this._handleResponderRelease,
        onResponderTerminationRequest: this._handleResponderTerminationRequest,
        onScrollBeginDrag: this._handleScrollBeginDrag,
        onScrollEndDrag: this._handleScrollEndDrag,
        onScrollShouldSetResponder: this._handleScrollShouldSetResponder,
        onStartShouldSetResponder: this._handleStartShouldSetResponder,
        onStartShouldSetResponderCapture: this._handleStartShouldSetResponderCapture,
        onTouchEnd: this._handleTouchEnd,
        onTouchMove: this._handleTouchMove,
        onTouchStart: this._handleTouchStart,
        onTouchCancel: this._handleTouchCancel,
        onScroll: this._handleScroll,
        endDraggingSensitivityMultiplier: experimental_endDraggingSensitivityMultiplier,
        scrollEventThrottle: hasStickyHeaders ? 1 : this.props.scrollEventThrottle,
        sendMomentumEvents: this.props.onMomentumScrollBegin || this.props.onMomentumScrollEnd ? true : false,
        snapToStart: this.props.snapToStart !== false,
        snapToEnd: this.props.snapToEnd !== false,
        pagingEnabled: _Platform.default.select({
          ios: this.props.pagingEnabled === true && this.props.snapToInterval == null && this.props.snapToOffsets == null,
          android: this.props.pagingEnabled === true || this.props.snapToInterval != null || this.props.snapToOffsets != null
        })
      });
      var decelerationRate = this.props.decelerationRate;
      if (decelerationRate != null) {
        props.decelerationRate = (0, _processDecelerationRate.default)(decelerationRate);
      }
      var refreshControl = this.props.refreshControl;
      var scrollViewRef = this._scrollView.getForwardingRef(this.props.scrollViewRef);
      if (refreshControl) {
        if (_Platform.default.OS === 'ios') {
          return (0, _jsxRuntime.jsxs)(NativeScrollView, Object.assign({}, props, {
            ref: scrollViewRef,
            children: [refreshControl, contentContainer]
          }));
        } else if (_Platform.default.OS === 'android') {
          var _splitLayoutProps = (0, _splitLayoutProps2.default)((0, _flattenStyle.default)(props.style)),
            outer = _splitLayoutProps.outer,
            inner = _splitLayoutProps.inner;
          return React.cloneElement(refreshControl, {
            style: _StyleSheet.default.compose(baseStyle, outer)
          }, (0, _jsxRuntime.jsx)(NativeScrollView, Object.assign({}, props, {
            style: _StyleSheet.default.compose(baseStyle, inner),
            ref: scrollViewRef,
            children: contentContainer
          })));
        }
      }
      return (0, _jsxRuntime.jsx)(NativeScrollView, Object.assign({}, props, {
        ref: scrollViewRef,
        children: contentContainer
      }));
    }
  }]);
}(React.Component);
ScrollView.Context = _ScrollViewContext.default;
var styles = _StyleSheet.default.create({
  baseVertical: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'column',
    overflow: 'scroll'
  },
  baseHorizontal: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'row',
    overflow: 'scroll'
  },
  contentContainerHorizontal: {
    flexDirection: 'row'
  }
});
function createRefForwarder(mutator) {
  var state = {
    getForwardingRef: (0, _memoizeOne.default)(function (forwardedRef) {
      return function (nativeInstance) {
        var publicInstance = nativeInstance == null ? null : mutator(nativeInstance);
        state.nativeInstance = nativeInstance;
        state.publicInstance = publicInstance;
        if (forwardedRef != null) {
          if (typeof forwardedRef === 'function') {
            forwardedRef(publicInstance);
          } else {
            forwardedRef.current = publicInstance;
          }
        }
      };
    }),
    nativeInstance: null,
    publicInstance: null
  };
  return state;
}
var Wrapper = React.forwardRef(function Wrapper(props, ref) {
  return ref == null ? (0, _jsxRuntime.jsx)(ScrollView, Object.assign({}, props)) : (0, _jsxRuntime.jsx)(ScrollView, Object.assign({}, props, {
    scrollViewRef: ref
  }));
});
Wrapper.displayName = 'ScrollView';
Wrapper.Context = _ScrollViewContext.default;
module.exports = Wrapper;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfSFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnRzIiwicmVxdWlyZSIsIl9WU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudHMiLCJfQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfRnJhbWVSYXRlTG9nZ2VyIiwiX1JlbmRlcmVyUHJveHkiLCJfVUlNYW5hZ2VyIiwiX2ZsYXR0ZW5TdHlsZSIsIl9zcGxpdExheW91dFByb3BzMiIsIl9TdHlsZVNoZWV0IiwiX0RpbWVuc2lvbnMiLCJfZGlzbWlzc0tleWJvYXJkIiwiX1BsYXRmb3JtIiwiX0V2ZW50RW1pdHRlciIsIl9LZXlib2FyZCIsIl9UZXh0SW5wdXRTdGF0ZSIsIl9wcm9jZXNzRGVjZWxlcmF0aW9uUmF0ZSIsIl9TY3JvbGxWaWV3Q29tbWFuZHMiLCJfU2Nyb2xsVmlld0NvbnRleHQiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9TY3JvbGxWaWV3U3RpY2t5SGVhZGVyIiwiX2ludmFyaWFudCIsIl9tZW1vaXplT25lIiwiX251bGx0aHJvd3MiLCJSZWFjdCIsIl9qc3hSdW50aW1lIiwiX2V4Y2x1ZGVkIiwiZSIsInQiLCJXZWFrTWFwIiwiciIsIm4iLCJfX2VzTW9kdWxlIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiZGVmYXVsdCIsImhhcyIsImdldCIsInNldCIsIl90IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJfY2FsbFN1cGVyIiwiX2dldFByb3RvdHlwZU9mMiIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiIsIl9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJSZWZsZWN0IiwiY29uc3RydWN0IiwiY29uc3RydWN0b3IiLCJhcHBseSIsIkJvb2xlYW4iLCJwcm90b3R5cGUiLCJ2YWx1ZU9mIiwiSVNfQU5JTUFUSU5HX1RPVUNIX1NUQVJUX1RIUkVTSE9MRF9NUyIsIl9vblNjcm9sbEVtaXR0ZXIiLCJfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleTIiLCJTY3JvbGxWaWV3IiwiX1JlYWN0JENvbXBvbmVudCIsInByb3BzIiwiX3RoaXMkcHJvcHMkY29udGVudE9mIiwiX3RoaXMkcHJvcHMkY29udGVudE9mMiIsIl90aGlzJHByb3BzJGNvbnRlbnRJbiIsIl90aGlzJHByb3BzJGNvbnRlbnRJbjIiLCJfdGhpcyIsIl9jbGFzc0NhbGxDaGVjazIiLCJfc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQiLCJfc3RpY2t5SGVhZGVyUmVmcyIsIk1hcCIsIl9oZWFkZXJMYXlvdXRZcyIsIl9rZXlib2FyZE1ldHJpY3MiLCJfYWRkaXRpb25hbFNjcm9sbE9mZnNldCIsIl9pc1RvdWNoaW5nIiwiX2xhc3RNb21lbnR1bVNjcm9sbEJlZ2luVGltZSIsIl9sYXN0TW9tZW50dW1TY3JvbGxFbmRUaW1lIiwiX29ic2VydmVkU2Nyb2xsU2luY2VCZWNvbWluZ1Jlc3BvbmRlciIsIl9iZWNhbWVSZXNwb25kZXJXaGlsZUFuaW1hdGluZyIsIl9wcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQiLCJfYW5pbWF0ZWQiLCJfc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsU2hvdyIsIl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxIaWRlIiwiX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkU2hvdyIsIl9zdWJzY3JpcHRpb25LZXlib2FyZERpZEhpZGUiLCJ3cml0YWJsZSIsInZhbHVlIiwic3RhdGUiLCJsYXlvdXRIZWlnaHQiLCJnZXRTY3JvbGxSZXNwb25kZXIiLCJnZXRTY3JvbGxhYmxlTm9kZSIsImZpbmROb2RlSGFuZGxlIiwiZ2V0TmF0aXZlU2Nyb2xsUmVmIiwiZ2V0SW5uZXJWaWV3Tm9kZSIsIl9pbm5lclZpZXciLCJuYXRpdmVJbnN0YW5jZSIsImdldElubmVyVmlld1JlZiIsIl9zY3JvbGxWaWV3IiwiY29tcG9uZW50UmVmIiwiY3VycmVudCIsInNjcm9sbFRvIiwib3B0aW9ucyIsImRlcHJlY2F0ZWRYIiwiZGVwcmVjYXRlZEFuaW1hdGVkIiwieCIsInkiLCJhbmltYXRlZCIsImNvbnNvbGUiLCJ3YXJuIiwiY29tcG9uZW50IiwiQ29tbWFuZHMiLCJzY3JvbGxUb0VuZCIsImZsYXNoU2Nyb2xsSW5kaWNhdG9ycyIsIl9zdWJzY3JpYmVUb09uU2Nyb2xsIiwiY2FsbGJhY2siLCJvblNjcm9sbEVtaXR0ZXIiLCJfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UyIiwiX3RoaXMkX3Njcm9sbFZpZXckbmF0IiwiRXZlbnRFbWl0dGVyIiwidW5zdGFibGVfc2V0RW5hYmxlU3luY09uU2Nyb2xsIiwiYWRkTGlzdGVuZXIiLCJzY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkIiwibm9kZUhhbmRsZSIsImFkZGl0aW9uYWxPZmZzZXQiLCJwcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQiLCJVSU1hbmFnZXIiLCJtZWFzdXJlTGF5b3V0IiwibnVsbHRocm93cyIsIl90ZXh0SW5wdXRGb2N1c0Vycm9yIiwiX2lucHV0TWVhc3VyZUFuZFNjcm9sbFRvS2V5Ym9hcmQiLCJzY3JvbGxSZXNwb25kZXJab29tVG8iLCJyZWN0IiwiaW52YXJpYW50IiwiUGxhdGZvcm0iLCJPUyIsInpvb21Ub1JlY3QiLCJsZWZ0IiwidG9wIiwid2lkdGgiLCJoZWlnaHQiLCJrZXlib2FyZFNjcmVlblkiLCJEaW1lbnNpb25zIiwic2Nyb2xsVGV4dElucHV0SW50b1Zpc2libGVSZWN0Iiwic2NyZWVuWSIsInNjcm9sbE9mZnNldFkiLCJNYXRoIiwibWF4Iiwic2V0VGltZW91dCIsIl9oYW5kbGVTY3JvbGwiLCJfY2xhc3NQcml2YXRlRmllbGRMb28iLCJvblNjcm9sbCIsImVtaXQiLCJuYXRpdmVFdmVudCIsImNvbnRlbnRPZmZzZXQiLCJfaGFuZGxlTGF5b3V0IiwiaW52ZXJ0U3RpY2t5SGVhZGVycyIsInNldFN0YXRlIiwibGF5b3V0Iiwib25MYXlvdXQiLCJfaGFuZGxlQ29udGVudE9uTGF5b3V0IiwiX2UkbmF0aXZlRXZlbnQkbGF5b3V0Iiwib25Db250ZW50U2l6ZUNoYW5nZSIsImNyZWF0ZVJlZkZvcndhcmRlciIsImluc3RhbmNlIiwibmF0aXZlSW1wZXJhdGl2ZUhhbmRsZSIsInB1YmxpY0luc3RhbmNlIiwiYXNzaWduIiwidW5zdGFibGVfc3Vic2NyaWJlVG9PblNjcm9sbCIsInNjcm9sbFJlc3BvbmRlcktleWJvYXJkV2lsbFNob3ciLCJlbmRDb29yZGluYXRlcyIsIm9uS2V5Ym9hcmRXaWxsU2hvdyIsInNjcm9sbFJlc3BvbmRlcktleWJvYXJkV2lsbEhpZGUiLCJvbktleWJvYXJkV2lsbEhpZGUiLCJzY3JvbGxSZXNwb25kZXJLZXlib2FyZERpZFNob3ciLCJvbktleWJvYXJkRGlkU2hvdyIsInNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlkSGlkZSIsIm9uS2V5Ym9hcmREaWRIaWRlIiwiX2hhbmRsZU1vbWVudHVtU2Nyb2xsQmVnaW4iLCJnbG9iYWwiLCJwZXJmb3JtYW5jZSIsIm5vdyIsIm9uTW9tZW50dW1TY3JvbGxCZWdpbiIsIl9oYW5kbGVNb21lbnR1bVNjcm9sbEVuZCIsIkZyYW1lUmF0ZUxvZ2dlciIsImVuZFNjcm9sbCIsIm9uTW9tZW50dW1TY3JvbGxFbmQiLCJfaGFuZGxlU2Nyb2xsQmVnaW5EcmFnIiwiYmVnaW5TY3JvbGwiLCJrZXlib2FyZERpc21pc3NNb2RlIiwiZGlzbWlzc0tleWJvYXJkIiwib25TY3JvbGxCZWdpbkRyYWciLCJfaGFuZGxlU2Nyb2xsRW5kRHJhZyIsInZlbG9jaXR5IiwiX2lzQW5pbWF0aW5nIiwib25TY3JvbGxFbmREcmFnIiwidGltZVNpbmNlTGFzdE1vbWVudHVtU2Nyb2xsRW5kIiwiaXNBbmltYXRpbmciLCJfaGFuZGxlUmVzcG9uZGVyR3JhbnQiLCJvblJlc3BvbmRlckdyYW50IiwiX2hhbmRsZVJlc3BvbmRlclJlamVjdCIsIl9oYW5kbGVSZXNwb25kZXJSZWxlYXNlIiwidG91Y2hlcyIsImxlbmd0aCIsIm9uUmVzcG9uZGVyUmVsZWFzZSIsInRhcmdldCIsIl9fREVWX18iLCJlcnJvciIsImN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQiLCJUZXh0SW5wdXRTdGF0ZSIsImN1cnJlbnRseUZvY3VzZWRJbnB1dCIsImtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMiLCJfa2V5Ym9hcmRJc0Rpc21pc3NpYmxlIiwiYmx1clRleHRJbnB1dCIsIl9oYW5kbGVSZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QiLCJfaGFuZGxlU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyIiwiZGlzYWJsZVNjcm9sbFZpZXdQYW5SZXNwb25kZXIiLCJfaGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXIiLCJfaGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlIiwia2V5Ym9hcmROZXZlclBlcnNpc3RUYXBzIiwiX3NvZnRLZXlib2FyZElzRGV0YWNoZWQiLCJpc1RleHRJbnB1dCIsImhhc0ZvY3VzZWRUZXh0SW5wdXQiLCJzb2Z0S2V5Ym9hcmRNYXlCZU9wZW4iLCJfa2V5Ym9hcmRFdmVudHNBcmVVbnJlbGlhYmxlIiwiVmVyc2lvbiIsIl9oYW5kbGVUb3VjaEVuZCIsImtleWJvYXJkTmV2ZXJQZXJzaXN0c1RhcHMiLCJvblRvdWNoRW5kIiwiX2hhbmRsZVRvdWNoQ2FuY2VsIiwib25Ub3VjaENhbmNlbCIsIl9oYW5kbGVUb3VjaFN0YXJ0Iiwib25Ub3VjaFN0YXJ0IiwiX2hhbmRsZVRvdWNoTW92ZSIsIm9uVG91Y2hNb3ZlIiwiX3Njcm9sbEFuaW1hdGVkVmFsdWUiLCJBbmltYXRlZEltcGxlbWVudGF0aW9uIiwiVmFsdWUiLCJzZXRPZmZzZXQiLCJjb250ZW50SW5zZXQiLCJfaW5oZXJpdHMyIiwiX2NyZWF0ZUNsYXNzMiIsImtleSIsImNvbXBvbmVudERpZE1vdW50IiwiS2V5Ym9hcmQiLCJtZXRyaWNzIiwiX3VwZGF0ZUFuaW1hdGVkTm9kZUF0dGFjaG1lbnQiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcmV2UHJvcHMiLCJwcmV2Q29udGVudEluc2V0VG9wIiwibmV3Q29udGVudEluc2V0VG9wIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJfY2xhc3NQcml2YXRlRmllbGRMb28yIiwicmVtb3ZlIiwiZGV0YWNoIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiX2dldEtleUZvckluZGV4IiwiaW5kZXgiLCJjaGlsZEFycmF5IiwiY2hpbGQiLCJzdGlja3lIZWFkZXJJbmRpY2VzIiwiYXR0YWNoTmF0aXZlRXZlbnQiLCJfc2V0U3RpY2t5SGVhZGVyUmVmIiwicmVmIiwiZGVsZXRlIiwiX29uU3RpY2t5SGVhZGVyTGF5b3V0IiwiZXZlbnQiLCJDaGlsZHJlbiIsInRvQXJyYXkiLCJjaGlsZHJlbiIsImxheW91dFkiLCJpbmRleE9mSW5kZXgiLCJpbmRleE9mIiwicHJldmlvdXNIZWFkZXJJbmRleCIsInByZXZpb3VzSGVhZGVyIiwic2V0TmV4dEhlYWRlclkiLCJyZW5kZXIiLCJfdGhpczIiLCJob3Jpem9udGFsIiwiTmF0aXZlU2Nyb2xsVmlldyIsIkhTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50IiwiVlNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQiLCJOYXRpdmVTY3JvbGxDb250ZW50VmlldyIsIkhTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCIsIlZTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCIsImNvbnRlbnRDb250YWluZXJTdHlsZSIsInN0eWxlcyIsImNvbnRlbnRDb250YWluZXJIb3Jpem9udGFsIiwic3R5bGUiLCJ1bmRlZmluZWQiLCJmbGF0dGVuU3R5bGUiLCJjaGlsZExheW91dFByb3BzIiwiZmlsdGVyIiwicHJvcCIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb250ZW50U2l6ZUNoYW5nZVByb3BzIiwibWFwIiwibmV4dEluZGV4IiwiU3RpY2t5SGVhZGVyQ29tcG9uZW50IiwiU2Nyb2xsVmlld1N0aWNreUhlYWRlciIsImpzeCIsIm5leHRIZWFkZXJMYXlvdXRZIiwic2Nyb2xsQW5pbWF0ZWRWYWx1ZSIsImludmVydGVkIiwiaGlkZGVuT25TY3JvbGwiLCJzdGlja3lIZWFkZXJIaWRkZW5PblNjcm9sbCIsInNjcm9sbFZpZXdIZWlnaHQiLCJQcm92aWRlciIsIkhPUklaT05UQUwiLCJWRVJUSUNBTCIsImhhc1N0aWNreUhlYWRlcnMiLCJBcnJheSIsImlzQXJyYXkiLCJwcmVzZXJ2ZUNoaWxkcmVuIiwibWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uIiwic25hcFRvQWxpZ25tZW50IiwiY29udGVudENvbnRhaW5lciIsImdldEZvcndhcmRpbmdSZWYiLCJpbm5lclZpZXdSZWYiLCJyZW1vdmVDbGlwcGVkU3Vidmlld3MiLCJjb2xsYXBzYWJsZSIsImNvbGxhcHNhYmxlQ2hpbGRyZW4iLCJhbHdheXNCb3VuY2VIb3Jpem9udGFsIiwiYWx3YXlzQm91bmNlVmVydGljYWwiLCJiYXNlU3R5bGUiLCJiYXNlSG9yaXpvbnRhbCIsImJhc2VWZXJ0aWNhbCIsIl90aGlzJHByb3BzIiwiZXhwZXJpbWVudGFsX2VuZERyYWdnaW5nU2Vuc2l0aXZpdHlNdWx0aXBsaWVyIiwib3RoZXJQcm9wcyIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllczIiLCJTdHlsZVNoZWV0IiwiY29tcG9zZSIsIm9uUmVzcG9uZGVyUmVqZWN0Iiwib25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QiLCJvblNjcm9sbFNob3VsZFNldFJlc3BvbmRlciIsIm9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXIiLCJvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZSIsImVuZERyYWdnaW5nU2Vuc2l0aXZpdHlNdWx0aXBsaWVyIiwic2Nyb2xsRXZlbnRUaHJvdHRsZSIsInNlbmRNb21lbnR1bUV2ZW50cyIsInNuYXBUb1N0YXJ0Iiwic25hcFRvRW5kIiwicGFnaW5nRW5hYmxlZCIsInNlbGVjdCIsImlvcyIsInNuYXBUb0ludGVydmFsIiwic25hcFRvT2Zmc2V0cyIsImFuZHJvaWQiLCJkZWNlbGVyYXRpb25SYXRlIiwicHJvY2Vzc0RlY2VsZXJhdGlvblJhdGUiLCJyZWZyZXNoQ29udHJvbCIsInNjcm9sbFZpZXdSZWYiLCJqc3hzIiwiX3NwbGl0TGF5b3V0UHJvcHMiLCJzcGxpdExheW91dFByb3BzIiwib3V0ZXIiLCJpbm5lciIsImNsb25lRWxlbWVudCIsIkNvbXBvbmVudCIsIkNvbnRleHQiLCJTY3JvbGxWaWV3Q29udGV4dCIsImNyZWF0ZSIsImZsZXhHcm93IiwiZmxleFNocmluayIsImZsZXhEaXJlY3Rpb24iLCJvdmVyZmxvdyIsIm11dGF0b3IiLCJtZW1vaXplIiwiZm9yd2FyZGVkUmVmIiwiV3JhcHBlciIsImZvcndhcmRSZWYiLCJkaXNwbGF5TmFtZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJTY3JvbGxWaWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZm9ybWF0XG4gKiBAZmxvdyBzdHJpY3QtbG9jYWxcbiAqL1xuXG5pbXBvcnQgdHlwZSB7XG4gIFRTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50SW5zdGFuY2UsXG4gIFRTY3JvbGxWaWV3TmF0aXZlSW1wZXJhdGl2ZUhhbmRsZSxcbn0gZnJvbSAnLi4vLi4vLi4vc3JjL3ByaXZhdGUvY29tcG9uZW50cy91c2VTeW5jT25TY3JvbGwnO1xuaW1wb3J0IHR5cGUge0hvc3RDb21wb25lbnR9IGZyb20gJy4uLy4uL1JlbmRlcmVyL3NoaW1zL1JlYWN0TmF0aXZlVHlwZXMnO1xuaW1wb3J0IHR5cGUge0VkZ2VJbnNldHNQcm9wfSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L0VkZ2VJbnNldHNQcm9wVHlwZSc7XG5pbXBvcnQgdHlwZSB7UG9pbnRQcm9wfSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L1BvaW50UHJvcFR5cGUnO1xuaW1wb3J0IHR5cGUge1ZpZXdTdHlsZVByb3B9IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgdHlwZSB7Q29sb3JWYWx1ZX0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0JztcbmltcG9ydCB0eXBlIHtcbiAgTGF5b3V0RXZlbnQsXG4gIFByZXNzRXZlbnQsXG4gIFNjcm9sbEV2ZW50LFxufSBmcm9tICcuLi8uLi9UeXBlcy9Db3JlRXZlbnRUeXBlcyc7XG5pbXBvcnQgdHlwZSB7RXZlbnRTdWJzY3JpcHRpb259IGZyb20gJy4uLy4uL3ZlbmRvci9lbWl0dGVyL0V2ZW50RW1pdHRlcic7XG5pbXBvcnQgdHlwZSB7S2V5Ym9hcmRFdmVudCwgS2V5Ym9hcmRNZXRyaWNzfSBmcm9tICcuLi9LZXlib2FyZC9LZXlib2FyZCc7XG5pbXBvcnQgdHlwZW9mIFZpZXcgZnJvbSAnLi4vVmlldy9WaWV3JztcbmltcG9ydCB0eXBlIHtWaWV3UHJvcHN9IGZyb20gJy4uL1ZpZXcvVmlld1Byb3BUeXBlcyc7XG5pbXBvcnQgdHlwZSB7UHJvcHMgYXMgU2Nyb2xsVmlld1N0aWNreUhlYWRlclByb3BzfSBmcm9tICcuL1Njcm9sbFZpZXdTdGlja3lIZWFkZXInO1xuXG5pbXBvcnQge1xuICBIU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQsXG4gIEhTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50LFxufSBmcm9tICcuLi8uLi8uLi9zcmMvcHJpdmF0ZS9jb21wb25lbnRzL0hTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50cyc7XG5pbXBvcnQge1xuICBWU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQsXG4gIFZTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50LFxufSBmcm9tICcuLi8uLi8uLi9zcmMvcHJpdmF0ZS9jb21wb25lbnRzL1ZTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50cyc7XG5pbXBvcnQgQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbiBmcm9tICcuLi8uLi9BbmltYXRlZC9BbmltYXRlZEltcGxlbWVudGF0aW9uJztcbmltcG9ydCBGcmFtZVJhdGVMb2dnZXIgZnJvbSAnLi4vLi4vSW50ZXJhY3Rpb24vRnJhbWVSYXRlTG9nZ2VyJztcbmltcG9ydCB7ZmluZE5vZGVIYW5kbGV9IGZyb20gJy4uLy4uL1JlYWN0TmF0aXZlL1JlbmRlcmVyUHJveHknO1xuaW1wb3J0IFVJTWFuYWdlciBmcm9tICcuLi8uLi9SZWFjdE5hdGl2ZS9VSU1hbmFnZXInO1xuaW1wb3J0IGZsYXR0ZW5TdHlsZSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L2ZsYXR0ZW5TdHlsZSc7XG5pbXBvcnQgc3BsaXRMYXlvdXRQcm9wcyBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L3NwbGl0TGF5b3V0UHJvcHMnO1xuaW1wb3J0IFN0eWxlU2hlZXQgZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0JztcbmltcG9ydCBEaW1lbnNpb25zIGZyb20gJy4uLy4uL1V0aWxpdGllcy9EaW1lbnNpb25zJztcbmltcG9ydCBkaXNtaXNzS2V5Ym9hcmQgZnJvbSAnLi4vLi4vVXRpbGl0aWVzL2Rpc21pc3NLZXlib2FyZCc7XG5pbXBvcnQgUGxhdGZvcm0gZnJvbSAnLi4vLi4vVXRpbGl0aWVzL1BsYXRmb3JtJztcbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnLi4vLi4vdmVuZG9yL2VtaXR0ZXIvRXZlbnRFbWl0dGVyJztcbmltcG9ydCBLZXlib2FyZCBmcm9tICcuLi9LZXlib2FyZC9LZXlib2FyZCc7XG5pbXBvcnQgVGV4dElucHV0U3RhdGUgZnJvbSAnLi4vVGV4dElucHV0L1RleHRJbnB1dFN0YXRlJztcbmltcG9ydCBwcm9jZXNzRGVjZWxlcmF0aW9uUmF0ZSBmcm9tICcuL3Byb2Nlc3NEZWNlbGVyYXRpb25SYXRlJztcbmltcG9ydCBDb21tYW5kcyBmcm9tICcuL1Njcm9sbFZpZXdDb21tYW5kcyc7XG5pbXBvcnQgU2Nyb2xsVmlld0NvbnRleHQsIHtIT1JJWk9OVEFMLCBWRVJUSUNBTH0gZnJvbSAnLi9TY3JvbGxWaWV3Q29udGV4dCc7XG5pbXBvcnQgU2Nyb2xsVmlld1N0aWNreUhlYWRlciBmcm9tICcuL1Njcm9sbFZpZXdTdGlja3lIZWFkZXInO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICdpbnZhcmlhbnQnO1xuaW1wb3J0IG1lbW9pemUgZnJvbSAnbWVtb2l6ZS1vbmUnO1xuaW1wb3J0IG51bGx0aHJvd3MgZnJvbSAnbnVsbHRocm93cyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qXG4gKiBpT1Mgc2Nyb2xsIGV2ZW50IHRpbWluZyBudWFuY2VzOlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICpcbiAqXG4gKiBTY3JvbGxpbmcgd2l0aG91dCBib3VuY2luZywgaWYgeW91IHRvdWNoIGRvd246XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICogMS4gYG9uTW9tZW50dW1TY3JvbGxCZWdpbmAgKHdoZW4gYW5pbWF0aW9uIGJlZ2lucyBhZnRlciBsZXR0aW5nIHVwKVxuICogICAgLi4uIHBoeXNpY2FsIHRvdWNoIHN0YXJ0cyAuLi5cbiAqIDIuIGBvblRvdWNoU3RhcnRDYXB0dXJlYCAgICh3aGVuIHlvdSBwcmVzcyBkb3duIHRvIHN0b3AgdGhlIHNjcm9sbClcbiAqIDMuIGBvblRvdWNoU3RhcnRgICAgICAgICAgIChzYW1lLCBidXQgYnViYmxlIHBoYXNlKVxuICogNC4gYG9uUmVzcG9uZGVyUmVsZWFzZWAgICAgKHdoZW4gbGlmdGluZyB1cCAtIHlvdSBjb3VsZCBwYXVzZSBmb3JldmVyIGJlZm9yZSAqIGxpZnRpbmcpXG4gKiA1LiBgb25Nb21lbnR1bVNjcm9sbEVuZGBcbiAqXG4gKlxuICogU2Nyb2xsaW5nIHdpdGggYm91bmNpbmcsIGlmIHlvdSB0b3VjaCBkb3duOlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIDEuIGBvbk1vbWVudHVtU2Nyb2xsQmVnaW5gICh3aGVuIGFuaW1hdGlvbiBiZWdpbnMgYWZ0ZXIgbGV0dGluZyB1cClcbiAqICAgIC4uLiBib3VuY2UgYmVnaW5zIC4uLlxuICogICAgLi4uIHNvbWUgdGltZSBlbGFwc2VzIC4uLlxuICogICAgLi4uIHBoeXNpY2FsIHRvdWNoIGR1cmluZyBib3VuY2UgLi4uXG4gKiAyLiBgb25Nb21lbnR1bVNjcm9sbEVuZGAgICAoTWFrZXMgbm8gc2Vuc2Ugd2h5IHRoaXMgb2NjdXJzIGZpcnN0IGR1cmluZyBib3VuY2UpXG4gKiAzLiBgb25Ub3VjaFN0YXJ0Q2FwdHVyZWAgICAoaW1tZWRpYXRlbHkgYWZ0ZXIgYG9uTW9tZW50dW1TY3JvbGxFbmRgKVxuICogNC4gYG9uVG91Y2hTdGFydGAgICAgICAgICAgKHNhbWUsIGJ1dCBidWJibGUgcGhhc2UpXG4gKiA1LiBgb25Ub3VjaEVuZGAgICAgICAgICAgICAoWW91IGNvdWxkIGhvbGQgdGhlIHRvdWNoIHN0YXJ0IGZvciBhIGxvbmcgdGltZSlcbiAqIDYuIGBvbk1vbWVudHVtU2Nyb2xsQmVnaW5gIChXaGVuIHJlbGVhc2luZyB0aGUgdmlldyBzdGFydHMgYm91bmNpbmcgYmFjaylcbiAqXG4gKiBTbyB3aGVuIHdlIHJlY2VpdmUgYW4gYG9uVG91Y2hTdGFydGAsIGhvdyBjYW4gd2UgdGVsbCBpZiB3ZSBhcmUgdG91Y2hpbmdcbiAqICpkdXJpbmcqIGFuIGFuaW1hdGlvbiAod2hpY2ggdGhlbiBjYXVzZXMgdGhlIGFuaW1hdGlvbiB0byBzdG9wKT8gVGhlIG9ubHkgd2F5XG4gKiB0byB0ZWxsIGlzIGlmIHRoZSBgdG91Y2hTdGFydGAgb2NjdXJyZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlXG4gKiBgb25Nb21lbnR1bVNjcm9sbEVuZGAuXG4gKlxuICogVGhpcyBpcyBhYnN0cmFjdGVkIG91dCBmb3IgeW91LCBzbyB5b3UgY2FuIGp1c3QgY2FsbCB0aGlzLnNjcm9sbFJlc3BvbmRlcklzQW5pbWF0aW5nKCkgaWZcbiAqIG5lY2Vzc2FyeVxuICpcbiAqIGBTY3JvbGxWaWV3YCBhbHNvIGluY2x1ZGVzIGxvZ2ljIGZvciBibHVycmluZyBhIGN1cnJlbnRseSBmb2N1c2VkIGlucHV0XG4gKiBpZiBvbmUgaXMgZm9jdXNlZCB3aGlsZSBzY3JvbGxpbmcuIFRoaXMgaXMgYSBuYXR1cmFsIHBsYWNlXG4gKiB0byBwdXQgdGhpcyBsb2dpYyBzaW5jZSBpdCBjYW4gc3VwcG9ydCBub3QgZGlzbWlzc2luZyB0aGUga2V5Ym9hcmQgd2hpbGVcbiAqIHNjcm9sbGluZywgdW5sZXNzIGEgcmVjb2duaXplZCBcInRhcFwiLWxpa2UgZ2VzdHVyZSBoYXMgb2NjdXJyZWQuXG4gKlxuICogVGhlIHB1YmxpYyBsaWZlY3ljbGUgQVBJIGluY2x1ZGVzIGV2ZW50cyBmb3Iga2V5Ym9hcmQgaW50ZXJhY3Rpb24sIHJlc3BvbmRlclxuICogaW50ZXJhY3Rpb24sIGFuZCBzY3JvbGxpbmcgKGFtb25nIG90aGVycykuIFRoZSBrZXlib2FyZCBjYWxsYmFja3NcbiAqIGBvbktleWJvYXJkV2lsbC9EaWQvKmAgYXJlICpnbG9iYWwqIGV2ZW50cywgYnV0IGFyZSBpbnZva2VkIG9uIHNjcm9sbFxuICogcmVzcG9uZGVyJ3MgcHJvcHMgc28gdGhhdCB5b3UgY2FuIGd1YXJhbnRlZSB0aGF0IHRoZSBzY3JvbGwgcmVzcG9uZGVyJ3NcbiAqIGludGVybmFsIHN0YXRlIGhhcyBiZWVuIHVwZGF0ZWQgYWNjb3JkaW5nbHkgKGFuZCBkZXRlcm1pbmlzdGljYWxseSkgYnlcbiAqIHRoZSB0aW1lIHRoZSBwcm9wcyBjYWxsYmFja3MgYXJlIGludm9rZS4gT3RoZXJ3aXNlLCB5b3Ugd291bGQgYWx3YXlzIHdvbmRlclxuICogaWYgdGhlIHNjcm9sbCByZXNwb25kZXIgaXMgY3VycmVudGx5IGluIGEgc3RhdGUgd2hlcmUgaXQgcmVjb2duaXplcyBuZXdcbiAqIGtleWJvYXJkIHBvc2l0aW9ucyBldGMuIElmIGNvb3JkaW5hdGluZyBzY3JvbGxpbmcgd2l0aCBrZXlib2FyZCBtb3ZlbWVudCxcbiAqICphbHdheXMqIHVzZSB0aGVzZSBob29rcyBpbnN0ZWFkIG9mIGxpc3RlbmluZyB0byB5b3VyIG93biBnbG9iYWwga2V5Ym9hcmRcbiAqIGV2ZW50cy5cbiAqXG4gKiBQdWJsaWMga2V5Ym9hcmQgbGlmZWN5Y2xlIEFQSTogKHByb3BzIGNhbGxiYWNrcylcbiAqXG4gKiBTdGFuZGFyZCBLZXlib2FyZCBBcHBlYXJhbmNlIFNlcXVlbmNlOlxuICpcbiAqICAgdGhpcy5wcm9wcy5vbktleWJvYXJkV2lsbFNob3dcbiAqICAgdGhpcy5wcm9wcy5vbktleWJvYXJkRGlkU2hvd1xuICpcbiAqIGBvblNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlzbWlzc2VkYCB3aWxsIGJlIGludm9rZWQgaWYgYW4gYXBwcm9wcmlhdGVcbiAqIHRhcCBpbnNpZGUgdGhlIHNjcm9sbCByZXNwb25kZXIncyBzY3JvbGxhYmxlIHJlZ2lvbiB3YXMgcmVzcG9uc2libGVcbiAqIGZvciB0aGUgZGlzbWlzc2FsIG9mIHRoZSBrZXlib2FyZC4gVGhlcmUgYXJlIG90aGVyIHJlYXNvbnMgd2h5IHRoZVxuICoga2V5Ym9hcmQgY291bGQgYmUgZGlzbWlzc2VkLlxuICpcbiAqICAgdGhpcy5wcm9wcy5vblNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlzbWlzc2VkXG4gKlxuICogU3RhbmRhcmQgS2V5Ym9hcmQgSGlkZSBTZXF1ZW5jZTpcbiAqXG4gKiAgIHRoaXMucHJvcHMub25LZXlib2FyZFdpbGxIaWRlXG4gKiAgIHRoaXMucHJvcHMub25LZXlib2FyZERpZEhpZGVcbiAqL1xuXG4vLyBQdWJsaWMgbWV0aG9kcyBmb3IgU2Nyb2xsVmlld1xuZXhwb3J0IHR5cGUgU2Nyb2xsVmlld0ltcGVyYXRpdmVNZXRob2RzID0gJFJlYWRPbmx5PHt8XG4gIGdldFNjcm9sbFJlc3BvbmRlcjogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnZ2V0U2Nyb2xsUmVzcG9uZGVyJz4sXG4gIGdldFNjcm9sbGFibGVOb2RlOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdnZXRTY3JvbGxhYmxlTm9kZSc+LFxuICBnZXRJbm5lclZpZXdOb2RlOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdnZXRJbm5lclZpZXdOb2RlJz4sXG4gIGdldElubmVyVmlld1JlZjogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnZ2V0SW5uZXJWaWV3UmVmJz4sXG4gIGdldE5hdGl2ZVNjcm9sbFJlZjogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnZ2V0TmF0aXZlU2Nyb2xsUmVmJz4sXG4gIHNjcm9sbFRvOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdzY3JvbGxUbyc+LFxuICBzY3JvbGxUb0VuZDogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnc2Nyb2xsVG9FbmQnPixcbiAgZmxhc2hTY3JvbGxJbmRpY2F0b3JzOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdmbGFzaFNjcm9sbEluZGljYXRvcnMnPixcbiAgc2Nyb2xsUmVzcG9uZGVyWm9vbVRvOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdzY3JvbGxSZXNwb25kZXJab29tVG8nPixcbiAgc2Nyb2xsUmVzcG9uZGVyU2Nyb2xsTmF0aXZlSGFuZGxlVG9LZXlib2FyZDogJFByb3BlcnR5VHlwZTxcbiAgICBTY3JvbGxWaWV3LFxuICAgICdzY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkJyxcbiAgPixcbnx9PjtcblxuZXhwb3J0IHR5cGUgRGVjZWxlcmF0aW9uUmF0ZVR5cGUgPSAnZmFzdCcgfCAnbm9ybWFsJyB8IG51bWJlcjtcbmV4cG9ydCB0eXBlIFNjcm9sbFJlc3BvbmRlclR5cGUgPSBTY3JvbGxWaWV3SW1wZXJhdGl2ZU1ldGhvZHM7XG5cbnR5cGUgUHVibGljU2Nyb2xsVmlld0luc3RhbmNlID0gJFJlYWRPbmx5PHt8XG4gIC4uLiRFeGFjdDxUU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudEluc3RhbmNlPixcbiAgLi4uU2Nyb2xsVmlld0ltcGVyYXRpdmVNZXRob2RzLFxufH0+O1xuXG50eXBlIElubmVyVmlld0luc3RhbmNlID0gUmVhY3QuRWxlbWVudFJlZjxWaWV3PjtcblxudHlwZSBJT1NQcm9wcyA9ICRSZWFkT25seTx7fFxuICAvKipcbiAgICogQ29udHJvbHMgd2hldGhlciBpT1Mgc2hvdWxkIGF1dG9tYXRpY2FsbHkgYWRqdXN0IHRoZSBjb250ZW50IGluc2V0XG4gICAqIGZvciBzY3JvbGwgdmlld3MgdGhhdCBhcmUgcGxhY2VkIGJlaGluZCBhIG5hdmlnYXRpb24gYmFyIG9yXG4gICAqIHRhYiBiYXIvIHRvb2xiYXIuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGF1dG9tYXRpY2FsbHlBZGp1c3RDb250ZW50SW5zZXRzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBDb250cm9scyB3aGV0aGVyIHRoZSBTY3JvbGxWaWV3IHNob3VsZCBhdXRvbWF0aWNhbGx5IGFkanVzdCBpdHMgYGNvbnRlbnRJbnNldGBcbiAgICogYW5kIGBzY3JvbGxWaWV3SW5zZXRzYCB3aGVuIHRoZSBLZXlib2FyZCBjaGFuZ2VzIGl0cyBzaXplLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYXV0b21hdGljYWxseUFkanVzdEtleWJvYXJkSW5zZXRzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBDb250cm9scyB3aGV0aGVyIGlPUyBzaG91bGQgYXV0b21hdGljYWxseSBhZGp1c3QgdGhlIHNjcm9sbCBpbmRpY2F0b3JcbiAgICogaW5zZXRzLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLiBBdmFpbGFibGUgb24gaU9TIDEzIGFuZCBsYXRlci5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYXV0b21hdGljYWxseUFkanVzdHNTY3JvbGxJbmRpY2F0b3JJbnNldHM/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoZSBhbW91bnQgYnkgd2hpY2ggdGhlIHNjcm9sbCB2aWV3IGNvbnRlbnQgaXMgaW5zZXQgZnJvbSB0aGUgZWRnZXNcbiAgICogb2YgdGhlIHNjcm9sbCB2aWV3LiBEZWZhdWx0cyB0byBge3RvcDogMCwgbGVmdDogMCwgYm90dG9tOiAwLCByaWdodDogMH1gLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBjb250ZW50SW5zZXQ/OiA/RWRnZUluc2V0c1Byb3AsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBib3VuY2VzIHdoZW4gaXQgcmVhY2hlcyB0aGUgZW5kIG9mIHRoZVxuICAgKiBjb250ZW50IGlmIHRoZSBjb250ZW50IGlzIGxhcmdlciB0aGVuIHRoZSBzY3JvbGwgdmlldyBhbG9uZyB0aGUgYXhpcyBvZlxuICAgKiB0aGUgc2Nyb2xsIGRpcmVjdGlvbi4gV2hlbiBmYWxzZSwgaXQgZGlzYWJsZXMgYWxsIGJvdW5jaW5nIGV2ZW4gaWZcbiAgICogdGhlIGBhbHdheXNCb3VuY2UqYCBwcm9wcyBhcmUgdHJ1ZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYm91bmNlcz86ID9ib29sZWFuLFxuICAvKipcbiAgICogQnkgZGVmYXVsdCwgU2Nyb2xsVmlldyBoYXMgYW4gYWN0aXZlIHBhbiByZXNwb25kZXIgdGhhdCBoaWphY2tzIHBhbnJlc3BvbmRlcnNcbiAgICogZGVlcGVyIGluIHRoZSByZW5kZXIgdHJlZSBpbiBvcmRlciB0byBwcmV2ZW50IGFjY2lkZW50YWwgdG91Y2hlcyB3aGlsZSBzY3JvbGxpbmcuXG4gICAqIEhvd2V2ZXIsIGluIGNlcnRhaW4gb2NjYXNpb25zIChzdWNoIGFzIHdoZW4gdXNpbmcgc25hcFRvSW50ZXJ2YWwpIGluIGEgdmVydGljYWwgc2Nyb2xsdmlld1xuICAgKiBZb3UgbWF5IHdhbnQgdG8gZGlzYWJsZSB0aGlzIGJlaGF2aW9yIGluIG9yZGVyIHRvIHByZXZlbnQgdGhlIFNjcm9sbFZpZXcgZnJvbSBibG9ja2luZyB0b3VjaGVzXG4gICAqL1xuICBkaXNhYmxlU2Nyb2xsVmlld1BhblJlc3BvbmRlcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBnZXN0dXJlcyBjYW4gZHJpdmUgem9vbSBwYXN0IG1pbi9tYXggYW5kIHRoZSB6b29tIHdpbGwgYW5pbWF0ZVxuICAgKiB0byB0aGUgbWluL21heCB2YWx1ZSBhdCBnZXN0dXJlIGVuZCwgb3RoZXJ3aXNlIHRoZSB6b29tIHdpbGwgbm90IGV4Y2VlZFxuICAgKiB0aGUgbGltaXRzLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBib3VuY2VzWm9vbT86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYm91bmNlcyBob3Jpem9udGFsbHkgd2hlbiBpdCByZWFjaGVzIHRoZSBlbmRcbiAgICogZXZlbiBpZiB0aGUgY29udGVudCBpcyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3IGl0c2VsZi4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgdHJ1ZSB3aGVuIGBob3Jpem9udGFsPXt0cnVlfWAgYW5kIGZhbHNlIG90aGVyd2lzZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYWx3YXlzQm91bmNlSG9yaXpvbnRhbD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYm91bmNlcyB2ZXJ0aWNhbGx5IHdoZW4gaXQgcmVhY2hlcyB0aGUgZW5kXG4gICAqIGV2ZW4gaWYgdGhlIGNvbnRlbnQgaXMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldyBpdHNlbGYuIFRoZSBkZWZhdWx0XG4gICAqIHZhbHVlIGlzIGZhbHNlIHdoZW4gYGhvcml6b250YWw9e3RydWV9YCBhbmQgdHJ1ZSBvdGhlcndpc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGFsd2F5c0JvdW5jZVZlcnRpY2FsPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBhdXRvbWF0aWNhbGx5IGNlbnRlcnMgdGhlIGNvbnRlbnQgd2hlbiB0aGVcbiAgICogY29udGVudCBpcyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3IGJvdW5kczsgd2hlbiB0aGUgY29udGVudCBpc1xuICAgKiBsYXJnZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcsIHRoaXMgcHJvcGVydHkgaGFzIG5vIGVmZmVjdC4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGNlbnRlckNvbnRlbnQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoZSBzdHlsZSBvZiB0aGUgc2Nyb2xsIGluZGljYXRvcnMuXG4gICAqXG4gICAqICAgLSBgJ2RlZmF1bHQnYCAodGhlIGRlZmF1bHQpLCBzYW1lIGFzIGBibGFja2AuXG4gICAqICAgLSBgJ2JsYWNrJ2AsIHNjcm9sbCBpbmRpY2F0b3IgaXMgYmxhY2suIFRoaXMgc3R5bGUgaXMgZ29vZCBhZ2FpbnN0IGEgbGlnaHQgYmFja2dyb3VuZC5cbiAgICogICAtIGAnd2hpdGUnYCwgc2Nyb2xsIGluZGljYXRvciBpcyB3aGl0ZS4gVGhpcyBzdHlsZSBpcyBnb29kIGFnYWluc3QgYSBkYXJrIGJhY2tncm91bmQuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGluZGljYXRvclN0eWxlPzogPygnZGVmYXVsdCcgfCAnYmxhY2snIHwgJ3doaXRlJyksXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBTY3JvbGxWaWV3IHdpbGwgdHJ5IHRvIGxvY2sgdG8gb25seSB2ZXJ0aWNhbCBvciBob3Jpem9udGFsXG4gICAqIHNjcm9sbGluZyB3aGlsZSBkcmFnZ2luZy4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBkaXJlY3Rpb25hbExvY2tFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIGZhbHNlLCBvbmNlIHRyYWNraW5nIHN0YXJ0cywgd29uJ3QgdHJ5IHRvIGRyYWcgaWYgdGhlIHRvdWNoIG1vdmVzLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBjYW5DYW5jZWxDb250ZW50VG91Y2hlcz86ID9ib29sZWFuLFxuICAvKipcbiAgICogVGhlIG1heGltdW0gYWxsb3dlZCB6b29tIHNjYWxlLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAxLjAuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIG1heGltdW1ab29tU2NhbGU/OiA/bnVtYmVyLFxuICAvKipcbiAgICogVGhlIG1pbmltdW0gYWxsb3dlZCB6b29tIHNjYWxlLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAxLjAuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIG1pbmltdW1ab29tU2NhbGU/OiA/bnVtYmVyLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBTY3JvbGxWaWV3IGFsbG93cyB1c2Ugb2YgcGluY2ggZ2VzdHVyZXMgdG8gem9vbSBpbiBhbmQgb3V0LlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBwaW5jaEdlc3R1cmVFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBUaGUgYW1vdW50IGJ5IHdoaWNoIHRoZSBzY3JvbGwgdmlldyBpbmRpY2F0b3JzIGFyZSBpbnNldCBmcm9tIHRoZSBlZGdlc1xuICAgKiBvZiB0aGUgc2Nyb2xsIHZpZXcuIFRoaXMgc2hvdWxkIG5vcm1hbGx5IGJlIHNldCB0byB0aGUgc2FtZSB2YWx1ZSBhc1xuICAgKiB0aGUgYGNvbnRlbnRJbnNldGAuIERlZmF1bHRzIHRvIGB7MCwgMCwgMCwgMH1gLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBzY3JvbGxJbmRpY2F0b3JJbnNldHM/OiA/RWRnZUluc2V0c1Byb3AsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBjYW4gYmUgcHJvZ3JhbW1hdGljYWxseSBzY3JvbGxlZCBiZXlvbmQgaXRzXG4gICAqIGNvbnRlbnQgc2l6ZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNjcm9sbFRvT3ZlcmZsb3dFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBzY3JvbGxzIHRvIHRvcCB3aGVuIHRoZSBzdGF0dXMgYmFyIGlzIHRhcHBlZC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsc1RvVG9wPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBGaXJlcyB3aGVuIHRoZSBzY3JvbGwgdmlldyBzY3JvbGxzIHRvIHRvcCBhZnRlciB0aGUgc3RhdHVzIGJhciBoYXMgYmVlbiB0YXBwZWRcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgb25TY3JvbGxUb1RvcD86IChldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHNob3dzIGEgaG9yaXpvbnRhbCBzY3JvbGwgaW5kaWNhdG9yLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgc2hvd3NIb3Jpem9udGFsU2Nyb2xsSW5kaWNhdG9yPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBzY2FsZSBvZiB0aGUgc2Nyb2xsIHZpZXcgY29udGVudC4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgMS4wLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICB6b29tU2NhbGU/OiA/bnVtYmVyLFxuICAvKipcbiAgICogVGhpcyBwcm9wZXJ0eSBzcGVjaWZpZXMgaG93IHRoZSBzYWZlIGFyZWEgaW5zZXRzIGFyZSB1c2VkIHRvIG1vZGlmeSB0aGVcbiAgICogY29udGVudCBhcmVhIG9mIHRoZSBzY3JvbGwgdmlldy4gVGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhpcyBwcm9wZXJ0eSBpc1xuICAgKiBcIm5ldmVyXCIuIEF2YWlsYWJsZSBvbiBpT1MgMTEgYW5kIGxhdGVyLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBjb250ZW50SW5zZXRBZGp1c3RtZW50QmVoYXZpb3I/OiA/KFxuICAgIHwgJ2F1dG9tYXRpYydcbiAgICB8ICdzY3JvbGxhYmxlQXhlcydcbiAgICB8ICduZXZlcidcbiAgICB8ICdhbHdheXMnXG4gICksXG58fT47XG5cbnR5cGUgQW5kcm9pZFByb3BzID0gJFJlYWRPbmx5PHt8XG4gIC8qKlxuICAgKiBFbmFibGVzIG5lc3RlZCBzY3JvbGxpbmcgZm9yIEFuZHJvaWQgQVBJIGxldmVsIDIxKy5cbiAgICogTmVzdGVkIHNjcm9sbGluZyBpcyBzdXBwb3J0ZWQgYnkgZGVmYXVsdCBvbiBpT1NcbiAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICovXG4gIG5lc3RlZFNjcm9sbEVuYWJsZWQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFNvbWV0aW1lcyBhIHNjcm9sbHZpZXcgdGFrZXMgdXAgbW9yZSBzcGFjZSB0aGFuIGl0cyBjb250ZW50IGZpbGxzLiBXaGVuIHRoaXMgaXNcbiAgICogdGhlIGNhc2UsIHRoaXMgcHJvcCB3aWxsIGZpbGwgdGhlIHJlc3Qgb2YgdGhlIHNjcm9sbHZpZXcgd2l0aCBhIGNvbG9yIHRvIGF2b2lkIHNldHRpbmdcbiAgICogYSBiYWNrZ3JvdW5kIGFuZCBjcmVhdGluZyB1bm5lY2Vzc2FyeSBvdmVyZHJhdy4gVGhpcyBpcyBhbiBhZHZhbmNlZCBvcHRpbWl6YXRpb25cbiAgICogdGhhdCBpcyBub3QgbmVlZGVkIGluIHRoZSBnZW5lcmFsIGNhc2UuXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBlbmRGaWxsQ29sb3I/OiA/Q29sb3JWYWx1ZSxcbiAgLyoqXG4gICAqIFRhZyB1c2VkIHRvIGxvZyBzY3JvbGwgcGVyZm9ybWFuY2Ugb24gdGhpcyBzY3JvbGwgdmlldy4gV2lsbCBmb3JjZVxuICAgKiBtb21lbnR1bSBldmVudHMgdG8gYmUgdHVybmVkIG9uIChzZWUgc2VuZE1vbWVudHVtRXZlbnRzKS4gVGhpcyBkb2Vzbid0IGRvXG4gICAqIGFueXRoaW5nIG91dCBvZiB0aGUgYm94IGFuZCB5b3UgbmVlZCB0byBpbXBsZW1lbnQgYSBjdXN0b20gbmF0aXZlXG4gICAqIEZwc0xpc3RlbmVyIGZvciBpdCB0byBiZSB1c2VmdWwuXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBzY3JvbGxQZXJmVGFnPzogP3N0cmluZyxcbiAgLyoqXG4gICAqIFVzZWQgdG8gb3ZlcnJpZGUgZGVmYXVsdCB2YWx1ZSBvZiBvdmVyU2Nyb2xsIG1vZGUuXG4gICAqXG4gICAqIFBvc3NpYmxlIHZhbHVlczpcbiAgICpcbiAgICogIC0gYCdhdXRvJ2AgLSBEZWZhdWx0IHZhbHVlLCBhbGxvdyBhIHVzZXIgdG8gb3Zlci1zY3JvbGxcbiAgICogICAgdGhpcyB2aWV3IG9ubHkgaWYgdGhlIGNvbnRlbnQgaXMgbGFyZ2UgZW5vdWdoIHRvIG1lYW5pbmdmdWxseSBzY3JvbGwuXG4gICAqICAtIGAnYWx3YXlzJ2AgLSBBbHdheXMgYWxsb3cgYSB1c2VyIHRvIG92ZXItc2Nyb2xsIHRoaXMgdmlldy5cbiAgICogIC0gYCduZXZlcidgIC0gTmV2ZXIgYWxsb3cgYSB1c2VyIHRvIG92ZXItc2Nyb2xsIHRoaXMgdmlldy5cbiAgICpcbiAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICovXG4gIG92ZXJTY3JvbGxNb2RlPzogPygnYXV0bycgfCAnYWx3YXlzJyB8ICduZXZlcicpLFxuICAvKipcbiAgICogQ2F1c2VzIHRoZSBzY3JvbGxiYXJzIG5vdCB0byB0dXJuIHRyYW5zcGFyZW50IHdoZW4gdGhleSBhcmUgbm90IGluIHVzZS5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBwZXJzaXN0ZW50U2Nyb2xsYmFyPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBGYWRlcyBvdXQgdGhlIGVkZ2VzIG9mIHRoZSBzY3JvbGwgY29udGVudC5cbiAgICpcbiAgICogSWYgdGhlIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiAwLCB0aGUgZmFkaW5nIGVkZ2VzIHdpbGwgYmUgc2V0IGFjY29yZGluZ2x5XG4gICAqIHRvIHRoZSBjdXJyZW50IHNjcm9sbCBkaXJlY3Rpb24gYW5kIHBvc2l0aW9uLFxuICAgKiBpbmRpY2F0aW5nIGlmIHRoZXJlIGlzIG1vcmUgY29udGVudCB0byBzaG93LlxuICAgKlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAwLlxuICAgKlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgZmFkaW5nRWRnZUxlbmd0aD86ID9udW1iZXIsXG58fT47XG5cbnR5cGUgU3RpY2t5SGVhZGVyQ29tcG9uZW50VHlwZSA9IFJlYWN0LkFic3RyYWN0Q29tcG9uZW50PFxuICBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyUHJvcHMsXG4gICRSZWFkT25seTxpbnRlcmZhY2Uge3NldE5leHRIZWFkZXJZOiBudW1iZXIgPT4gdm9pZH0+LFxuPjtcblxuZXhwb3J0IHR5cGUgUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLi4uVmlld1Byb3BzLFxuICAuLi5JT1NQcm9wcyxcbiAgLi4uQW5kcm9pZFByb3BzLFxuXG4gIC8qKlxuICAgKiBUaGVzZSBzdHlsZXMgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBzY3JvbGwgdmlldyBjb250ZW50IGNvbnRhaW5lciB3aGljaFxuICAgKiB3cmFwcyBhbGwgb2YgdGhlIGNoaWxkIHZpZXdzLiBFeGFtcGxlOlxuICAgKlxuICAgKiBgYGBcbiAgICogcmV0dXJuIChcbiAgICogICA8U2Nyb2xsVmlldyBjb250ZW50Q29udGFpbmVyU3R5bGU9e3N0eWxlcy5jb250ZW50Q29udGFpbmVyfT5cbiAgICogICA8L1Njcm9sbFZpZXc+XG4gICAqICk7XG4gICAqIC4uLlxuICAgKiBjb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gICAqICAgY29udGVudENvbnRhaW5lcjoge1xuICAgKiAgICAgcGFkZGluZ1ZlcnRpY2FsOiAyMFxuICAgKiAgIH1cbiAgICogfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgY29udGVudENvbnRhaW5lclN0eWxlPzogP1ZpZXdTdHlsZVByb3AsXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hbnVhbGx5IHNldCB0aGUgc3RhcnRpbmcgc2Nyb2xsIG9mZnNldC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgYHt4OiAwLCB5OiAwfWAuXG4gICAqL1xuICBjb250ZW50T2Zmc2V0PzogP1BvaW50UHJvcCxcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IHN0b3BzIG9uIHRoZSBuZXh0IGluZGV4IChpbiByZWxhdGlvbiB0byBzY3JvbGxcbiAgICogcG9zaXRpb24gYXQgcmVsZWFzZSkgcmVnYXJkbGVzcyBvZiBob3cgZmFzdCB0aGUgZ2VzdHVyZSBpcy4gVGhpcyBjYW4gYmVcbiAgICogdXNlZCBmb3IgcGFnaW5hdGlvbiB3aGVuIHRoZSBwYWdlIGlzIGxlc3MgdGhhbiB0aGUgd2lkdGggb2YgdGhlXG4gICAqIGhvcml6b250YWwgU2Nyb2xsVmlldyBvciB0aGUgaGVpZ2h0IG9mIHRoZSB2ZXJ0aWNhbCBTY3JvbGxWaWV3LiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICovXG4gIGRpc2FibGVJbnRlcnZhbE1vbWVudHVtPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBBIGZsb2F0aW5nLXBvaW50IG51bWJlciB0aGF0IGRldGVybWluZXMgaG93IHF1aWNrbHkgdGhlIHNjcm9sbCB2aWV3XG4gICAqIGRlY2VsZXJhdGVzIGFmdGVyIHRoZSB1c2VyIGxpZnRzIHRoZWlyIGZpbmdlci4gWW91IG1heSBhbHNvIHVzZSBzdHJpbmdcbiAgICogc2hvcnRjdXRzIGBcIm5vcm1hbFwiYCBhbmQgYFwiZmFzdFwiYCB3aGljaCBtYXRjaCB0aGUgdW5kZXJseWluZyBpT1Mgc2V0dGluZ3NcbiAgICogZm9yIGBVSVNjcm9sbFZpZXdEZWNlbGVyYXRpb25SYXRlTm9ybWFsYCBhbmRcbiAgICogYFVJU2Nyb2xsVmlld0RlY2VsZXJhdGlvblJhdGVGYXN0YCByZXNwZWN0aXZlbHkuXG4gICAqXG4gICAqICAgLSBgJ25vcm1hbCdgOiAwLjk5OCBvbiBpT1MsIDAuOTg1IG9uIEFuZHJvaWQgKHRoZSBkZWZhdWx0KVxuICAgKiAgIC0gYCdmYXN0J2A6IDAuOTkgb24gaU9TLCAwLjkgb24gQW5kcm9pZFxuICAgKi9cbiAgZGVjZWxlcmF0aW9uUmF0ZT86ID9EZWNlbGVyYXRpb25SYXRlVHlwZSxcblxuICAvKipcbiAgICogKkV4cGVyaW1lbnRhbCwgaU9TIE9ubHkqLiBUaGUgQVBJIGlzIGV4cGVyaW1lbnRhbCBhbmQgd2lsbCBjaGFuZ2UgaW4gZnV0dXJlIHJlbGVhc2VzLlxuICAgKlxuICAgKiBDb250cm9scyBob3cgbXVjaCBkaXN0YW5jZSBpcyB0cmF2ZWxsZWQgYWZ0ZXIgdXNlciBzdG9wcyBzY3JvbGxpbmcuXG4gICAqIFZhbHVlIGdyZWF0ZXIgdGhhbiAxIHdpbGwgaW5jcmVhc2UgdGhlIGRpc3RhbmNlIHRyYXZlbGxlZC5cbiAgICogVmFsdWUgbGVzcyB0aGFuIDEgd2lsbCBkZWNyZWFzZSB0aGUgZGlzdGFuY2UgdHJhdmVsbGVkLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAxLlxuICAgKi9cbiAgZXhwZXJpbWVudGFsX2VuZERyYWdnaW5nU2Vuc2l0aXZpdHlNdWx0aXBsaWVyPzogP251bWJlcixcblxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcncyBjaGlsZHJlbiBhcmUgYXJyYW5nZWQgaG9yaXpvbnRhbGx5IGluIGEgcm93XG4gICAqIGluc3RlYWQgb2YgdmVydGljYWxseSBpbiBhIGNvbHVtbi4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqL1xuICBob3Jpem9udGFsPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBJZiBzdGlja3kgaGVhZGVycyBzaG91bGQgc3RpY2sgYXQgdGhlIGJvdHRvbSBpbnN0ZWFkIG9mIHRoZSB0b3Agb2YgdGhlXG4gICAqIFNjcm9sbFZpZXcuIFRoaXMgaXMgdXN1YWxseSB1c2VkIHdpdGggaW52ZXJ0ZWQgU2Nyb2xsVmlld3MuXG4gICAqL1xuICBpbnZlcnRTdGlja3lIZWFkZXJzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGtleWJvYXJkIGdldHMgZGlzbWlzc2VkIGluIHJlc3BvbnNlIHRvIGEgZHJhZy5cbiAgICpcbiAgICogKkNyb3NzIHBsYXRmb3JtKlxuICAgKlxuICAgKiAgIC0gYCdub25lJ2AgKHRoZSBkZWZhdWx0KSwgZHJhZ3MgZG8gbm90IGRpc21pc3MgdGhlIGtleWJvYXJkLlxuICAgKiAgIC0gYCdvbi1kcmFnJ2AsIHRoZSBrZXlib2FyZCBpcyBkaXNtaXNzZWQgd2hlbiBhIGRyYWcgYmVnaW5zLlxuICAgKlxuICAgKiAqaU9TIE9ubHkqXG4gICAqXG4gICAqICAgLSBgJ2ludGVyYWN0aXZlJ2AsIHRoZSBrZXlib2FyZCBpcyBkaXNtaXNzZWQgaW50ZXJhY3RpdmVseSB3aXRoIHRoZSBkcmFnIGFuZCBtb3ZlcyBpblxuICAgKiAgICAgc3luY2hyb255IHdpdGggdGhlIHRvdWNoOyBkcmFnZ2luZyB1cHdhcmRzIGNhbmNlbHMgdGhlIGRpc21pc3NhbC5cbiAgICogICAgIE9uIGFuZHJvaWQgdGhpcyBpcyBub3Qgc3VwcG9ydGVkIGFuZCBpdCB3aWxsIGhhdmUgdGhlIHNhbWUgYmVoYXZpb3IgYXMgJ25vbmUnLlxuICAgKi9cbiAga2V5Ym9hcmREaXNtaXNzTW9kZT86ID8vLyBkZWZhdWx0XG4gIC8vIGNyb3NzLXBsYXRmb3JtXG4gICgnbm9uZScgfCAnb24tZHJhZycgfCAnaW50ZXJhY3RpdmUnKSwgLy8gaW9zIG9ubHlcbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hlbiB0aGUga2V5Ym9hcmQgc2hvdWxkIHN0YXkgdmlzaWJsZSBhZnRlciBhIHRhcC5cbiAgICpcbiAgICogICAtIGAnbmV2ZXInYCAodGhlIGRlZmF1bHQpLCB0YXBwaW5nIG91dHNpZGUgb2YgdGhlIGZvY3VzZWQgdGV4dCBpbnB1dCB3aGVuIHRoZSBrZXlib2FyZFxuICAgKiAgICAgaXMgdXAgZGlzbWlzc2VzIHRoZSBrZXlib2FyZC4gV2hlbiB0aGlzIGhhcHBlbnMsIGNoaWxkcmVuIHdvbid0IHJlY2VpdmUgdGhlIHRhcC5cbiAgICogICAtIGAnYWx3YXlzJ2AsIHRoZSBrZXlib2FyZCB3aWxsIG5vdCBkaXNtaXNzIGF1dG9tYXRpY2FsbHksIGFuZCB0aGUgc2Nyb2xsIHZpZXcgd2lsbCBub3RcbiAgICogICAgIGNhdGNoIHRhcHMsIGJ1dCBjaGlsZHJlbiBvZiB0aGUgc2Nyb2xsIHZpZXcgY2FuIGNhdGNoIHRhcHMuXG4gICAqICAgLSBgJ2hhbmRsZWQnYCwgdGhlIGtleWJvYXJkIHdpbGwgbm90IGRpc21pc3MgYXV0b21hdGljYWxseSB3aGVuIHRoZSB0YXAgd2FzIGhhbmRsZWQgYnlcbiAgICogICAgIGEgY2hpbGRyZW4sIChvciBjYXB0dXJlZCBieSBhbiBhbmNlc3RvcikuXG4gICAqICAgLSBgZmFsc2VgLCBkZXByZWNhdGVkLCB1c2UgJ25ldmVyJyBpbnN0ZWFkXG4gICAqICAgLSBgdHJ1ZWAsIGRlcHJlY2F0ZWQsIHVzZSAnYWx3YXlzJyBpbnN0ZWFkXG4gICAqL1xuICBrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzPzogPygnYWx3YXlzJyB8ICduZXZlcicgfCAnaGFuZGxlZCcgfCB0cnVlIHwgZmFsc2UpLFxuICAvKipcbiAgICogV2hlbiBzZXQsIHRoZSBzY3JvbGwgdmlldyB3aWxsIGFkanVzdCB0aGUgc2Nyb2xsIHBvc2l0aW9uIHNvIHRoYXQgdGhlIGZpcnN0IGNoaWxkIHRoYXQgaXNcbiAgICogcGFydGlhbGx5IG9yIGZ1bGx5IHZpc2libGUgYW5kIGF0IG9yIGJleW9uZCBgbWluSW5kZXhGb3JWaXNpYmxlYCB3aWxsIG5vdCBjaGFuZ2UgcG9zaXRpb24uXG4gICAqIFRoaXMgaXMgdXNlZnVsIGZvciBsaXN0cyB0aGF0IGFyZSBsb2FkaW5nIGNvbnRlbnQgaW4gYm90aCBkaXJlY3Rpb25zLCBlLmcuIGEgY2hhdCB0aHJlYWQsXG4gICAqIHdoZXJlIG5ldyBtZXNzYWdlcyBjb21pbmcgaW4gbWlnaHQgb3RoZXJ3aXNlIGNhdXNlIHRoZSBzY3JvbGwgcG9zaXRpb24gdG8ganVtcC4gQSB2YWx1ZSBvZiAwXG4gICAqIGlzIGNvbW1vbiwgYnV0IG90aGVyIHZhbHVlcyBzdWNoIGFzIDEgY2FuIGJlIHVzZWQgdG8gc2tpcCBsb2FkaW5nIHNwaW5uZXJzIG9yIG90aGVyIGNvbnRlbnRcbiAgICogdGhhdCBzaG91bGQgbm90IG1haW50YWluIHBvc2l0aW9uLlxuICAgKlxuICAgKiBUaGUgb3B0aW9uYWwgYGF1dG9zY3JvbGxUb1RvcFRocmVzaG9sZGAgY2FuIGJlIHVzZWQgdG8gbWFrZSB0aGUgY29udGVudCBhdXRvbWF0aWNhbGx5IHNjcm9sbFxuICAgKiB0byB0aGUgdG9wIGFmdGVyIG1ha2luZyB0aGUgYWRqdXN0bWVudCBpZiB0aGUgdXNlciB3YXMgd2l0aGluIHRoZSB0aHJlc2hvbGQgb2YgdGhlIHRvcCBiZWZvcmVcbiAgICogdGhlIGFkanVzdG1lbnQgd2FzIG1hZGUuIFRoaXMgaXMgYWxzbyB1c2VmdWwgZm9yIGNoYXQtbGlrZSBhcHBsaWNhdGlvbnMgd2hlcmUgeW91IHdhbnQgdG8gc2VlXG4gICAqIG5ldyBtZXNzYWdlcyBzY3JvbGwgaW50byBwbGFjZSwgYnV0IG5vdCBpZiB0aGUgdXNlciBoYXMgc2Nyb2xsZWQgdXAgYSB3YXlzIGFuZCBpdCB3b3VsZCBiZVxuICAgKiBkaXNydXB0aXZlIHRvIHNjcm9sbCBhIGJ1bmNoLlxuICAgKlxuICAgKiBDYXZlYXQgMTogUmVvcmRlcmluZyBlbGVtZW50cyBpbiB0aGUgc2Nyb2xsdmlldyB3aXRoIHRoaXMgZW5hYmxlZCB3aWxsIHByb2JhYmx5IGNhdXNlXG4gICAqIGp1bXBpbmVzcyBhbmQgamFuay4gSXQgY2FuIGJlIGZpeGVkLCBidXQgdGhlcmUgYXJlIGN1cnJlbnRseSBubyBwbGFucyB0byBkbyBzby4gRm9yIG5vdyxcbiAgICogZG9uJ3QgcmUtb3JkZXIgdGhlIGNvbnRlbnQgb2YgYW55IFNjcm9sbFZpZXdzIG9yIExpc3RzIHRoYXQgdXNlIHRoaXMgZmVhdHVyZS5cbiAgICpcbiAgICogQ2F2ZWF0IDI6IFRoaXMgc2ltcGx5IHVzZXMgYGNvbnRlbnRPZmZzZXRgIGFuZCBgZnJhbWUub3JpZ2luYCBpbiBuYXRpdmUgY29kZSB0byBjb21wdXRlXG4gICAqIHZpc2liaWxpdHkuIE9jY2x1c2lvbiwgdHJhbnNmb3JtcywgYW5kIG90aGVyIGNvbXBsZXhpdHkgd29uJ3QgYmUgdGFrZW4gaW50byBhY2NvdW50IGFzIHRvXG4gICAqIHdoZXRoZXIgY29udGVudCBpcyBcInZpc2libGVcIiBvciBub3QuXG4gICAqXG4gICAqL1xuICBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24/OiA/JFJlYWRPbmx5PHt8XG4gICAgbWluSW5kZXhGb3JWaXNpYmxlOiBudW1iZXIsXG4gICAgYXV0b3Njcm9sbFRvVG9wVGhyZXNob2xkPzogP251bWJlcixcbiAgfH0+LFxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIG1vbWVudHVtIHNjcm9sbCBzdGFydHMgKHNjcm9sbCB3aGljaCBvY2N1cnMgYXMgdGhlIFNjcm9sbFZpZXcgZ2xpZGVzIHRvIGEgc3RvcCkuXG4gICAqL1xuICBvbk1vbWVudHVtU2Nyb2xsQmVnaW4/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSBtb21lbnR1bSBzY3JvbGwgZW5kcyAoc2Nyb2xsIHdoaWNoIG9jY3VycyBhcyB0aGUgU2Nyb2xsVmlldyBnbGlkZXMgdG8gYSBzdG9wKS5cbiAgICovXG4gIG9uTW9tZW50dW1TY3JvbGxFbmQ/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcblxuICAvKipcbiAgICogRmlyZXMgYXQgbW9zdCBvbmNlIHBlciBmcmFtZSBkdXJpbmcgc2Nyb2xsaW5nLlxuICAgKi9cbiAgb25TY3JvbGw/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB1c2VyIGJlZ2lucyB0byBkcmFnIHRoZSBzY3JvbGwgdmlldy5cbiAgICovXG4gIG9uU2Nyb2xsQmVnaW5EcmFnPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdXNlciBzdG9wcyBkcmFnZ2luZyB0aGUgc2Nyb2xsIHZpZXcgYW5kIGl0IGVpdGhlciBzdG9wc1xuICAgKiBvciBiZWdpbnMgdG8gZ2xpZGUuXG4gICAqL1xuICBvblNjcm9sbEVuZERyYWc/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHNjcm9sbGFibGUgY29udGVudCB2aWV3IG9mIHRoZSBTY3JvbGxWaWV3IGNoYW5nZXMuXG4gICAqXG4gICAqIEhhbmRsZXIgZnVuY3Rpb24gaXMgcGFzc2VkIHRoZSBjb250ZW50IHdpZHRoIGFuZCBjb250ZW50IGhlaWdodCBhcyBwYXJhbWV0ZXJzOlxuICAgKiBgKGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodClgXG4gICAqXG4gICAqIEl0J3MgaW1wbGVtZW50ZWQgdXNpbmcgb25MYXlvdXQgaGFuZGxlciBhdHRhY2hlZCB0byB0aGUgY29udGVudCBjb250YWluZXJcbiAgICogd2hpY2ggdGhpcyBTY3JvbGxWaWV3IHJlbmRlcnMuXG4gICAqL1xuICBvbkNvbnRlbnRTaXplQ2hhbmdlPzogKGNvbnRlbnRXaWR0aDogbnVtYmVyLCBjb250ZW50SGVpZ2h0OiBudW1iZXIpID0+IHZvaWQsXG4gIG9uS2V5Ym9hcmREaWRTaG93PzogKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkLFxuICBvbktleWJvYXJkRGlkSGlkZT86IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCxcbiAgb25LZXlib2FyZFdpbGxTaG93PzogKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkLFxuICBvbktleWJvYXJkV2lsbEhpZGU/OiAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBzdG9wcyBvbiBtdWx0aXBsZXMgb2YgdGhlIHNjcm9sbCB2aWV3J3Mgc2l6ZVxuICAgKiB3aGVuIHNjcm9sbGluZy4gVGhpcyBjYW4gYmUgdXNlZCBmb3IgaG9yaXpvbnRhbCBwYWdpbmF0aW9uLiBUaGUgZGVmYXVsdFxuICAgKiB2YWx1ZSBpcyBmYWxzZS5cbiAgICovXG4gIHBhZ2luZ0VuYWJsZWQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gZmFsc2UsIHRoZSB2aWV3IGNhbm5vdCBiZSBzY3JvbGxlZCB2aWEgdG91Y2ggaW50ZXJhY3Rpb24uXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqXG4gICAqIE5vdGUgdGhhdCB0aGUgdmlldyBjYW4gYWx3YXlzIGJlIHNjcm9sbGVkIGJ5IGNhbGxpbmcgYHNjcm9sbFRvYC5cbiAgICovXG4gIHNjcm9sbEVuYWJsZWQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIExpbWl0cyBob3cgb2Z0ZW4gc2Nyb2xsIGV2ZW50cyB3aWxsIGJlIGZpcmVkIHdoaWxlIHNjcm9sbGluZywgc3BlY2lmaWVkIGFzXG4gICAqIGEgdGltZSBpbnRlcnZhbCBpbiBtcy4gVGhpcyBtYXkgYmUgdXNlZnVsIHdoZW4gZXhwZW5zaXZlIHdvcmsgaXMgcGVyZm9ybWVkXG4gICAqIGluIHJlc3BvbnNlIHRvIHNjcm9sbGluZy4gVmFsdWVzIDw9IGAxNmAgd2lsbCBkaXNhYmxlIHRocm90dGxpbmcsXG4gICAqIHJlZ2FyZGxlc3Mgb2YgdGhlIHJlZnJlc2ggcmF0ZSBvZiB0aGUgZGV2aWNlLlxuICAgKi9cbiAgc2Nyb2xsRXZlbnRUaHJvdHRsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHNob3dzIGEgdmVydGljYWwgc2Nyb2xsIGluZGljYXRvci5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICovXG4gIHNob3dzVmVydGljYWxTY3JvbGxJbmRpY2F0b3I/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgU3RpY2t5IGhlYWRlciBpcyBoaWRkZW4gd2hlbiBzY3JvbGxpbmcgZG93biwgYW5kIGRvY2sgYXQgdGhlIHRvcFxuICAgKiB3aGVuIHNjcm9sbGluZyB1cFxuICAgKi9cbiAgc3RpY2t5SGVhZGVySGlkZGVuT25TY3JvbGw/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEFuIGFycmF5IG9mIGNoaWxkIGluZGljZXMgZGV0ZXJtaW5pbmcgd2hpY2ggY2hpbGRyZW4gZ2V0IGRvY2tlZCB0byB0aGVcbiAgICogdG9wIG9mIHRoZSBzY3JlZW4gd2hlbiBzY3JvbGxpbmcuIEZvciBleGFtcGxlLCBwYXNzaW5nXG4gICAqIGBzdGlja3lIZWFkZXJJbmRpY2VzPXtbMF19YCB3aWxsIGNhdXNlIHRoZSBmaXJzdCBjaGlsZCB0byBiZSBmaXhlZCB0byB0aGVcbiAgICogdG9wIG9mIHRoZSBzY3JvbGwgdmlldy4gVGhpcyBwcm9wZXJ0eSBpcyBub3Qgc3VwcG9ydGVkIGluIGNvbmp1bmN0aW9uXG4gICAqIHdpdGggYGhvcml6b250YWw9e3RydWV9YC5cbiAgICovXG4gIHN0aWNreUhlYWRlckluZGljZXM/OiA/JFJlYWRPbmx5QXJyYXk8bnVtYmVyPixcbiAgLyoqXG4gICAqIEEgUmVhY3QgQ29tcG9uZW50IHRoYXQgd2lsbCBiZSB1c2VkIHRvIHJlbmRlciBzdGlja3kgaGVhZGVycy5cbiAgICogVG8gYmUgdXNlZCB0b2dldGhlciB3aXRoIGBzdGlja3lIZWFkZXJJbmRpY2VzYCBvciB3aXRoIGBTZWN0aW9uTGlzdGAsIGRlZmF1bHRzIHRvIGBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyYC5cbiAgICogWW91IG1heSBuZWVkIHRvIHNldCB0aGlzIGlmIHlvdXIgc3RpY2t5IGhlYWRlciB1c2VzIGN1c3RvbSB0cmFuc2Zvcm1zIChlZy4gdHJhbnNsYXRpb24pLFxuICAgKiBmb3IgZXhhbXBsZSB3aGVuIHlvdSB3YW50IHlvdXIgbGlzdCB0byBoYXZlIGFuIGFuaW1hdGVkIGhpZGFibGUgaGVhZGVyLlxuICAgKi9cbiAgU3RpY2t5SGVhZGVyQ29tcG9uZW50PzogU3RpY2t5SGVhZGVyQ29tcG9uZW50VHlwZSxcbiAgLyoqXG4gICAqIFdoZW4gYHNuYXBUb0ludGVydmFsYCBpcyBzZXQsIGBzbmFwVG9BbGlnbm1lbnRgIHdpbGwgZGVmaW5lIHRoZSByZWxhdGlvbnNoaXBcbiAgICogb2YgdGhlIHNuYXBwaW5nIHRvIHRoZSBzY3JvbGwgdmlldy5cbiAgICpcbiAgICogICAtIGAnc3RhcnQnYCAodGhlIGRlZmF1bHQpIHdpbGwgYWxpZ24gdGhlIHNuYXAgYXQgdGhlIGxlZnQgKGhvcml6b250YWwpIG9yIHRvcCAodmVydGljYWwpXG4gICAqICAgLSBgJ2NlbnRlcidgIHdpbGwgYWxpZ24gdGhlIHNuYXAgaW4gdGhlIGNlbnRlclxuICAgKiAgIC0gYCdlbmQnYCB3aWxsIGFsaWduIHRoZSBzbmFwIGF0IHRoZSByaWdodCAoaG9yaXpvbnRhbCkgb3IgYm90dG9tICh2ZXJ0aWNhbClcbiAgICovXG4gIHNuYXBUb0FsaWdubWVudD86ID8oJ3N0YXJ0JyB8ICdjZW50ZXInIHwgJ2VuZCcpLFxuICAvKipcbiAgICogV2hlbiBzZXQsIGNhdXNlcyB0aGUgc2Nyb2xsIHZpZXcgdG8gc3RvcCBhdCBtdWx0aXBsZXMgb2YgdGhlIHZhbHVlIG9mXG4gICAqIGBzbmFwVG9JbnRlcnZhbGAuIFRoaXMgY2FuIGJlIHVzZWQgZm9yIHBhZ2luYXRpbmcgdGhyb3VnaCBjaGlsZHJlblxuICAgKiB0aGF0IGhhdmUgbGVuZ3RocyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3LiBUeXBpY2FsbHkgdXNlZCBpblxuICAgKiBjb21iaW5hdGlvbiB3aXRoIGBzbmFwVG9BbGlnbm1lbnRgIGFuZCBgZGVjZWxlcmF0aW9uUmF0ZT1cImZhc3RcImAuXG4gICAqXG4gICAqIE92ZXJyaWRlcyBsZXNzIGNvbmZpZ3VyYWJsZSBgcGFnaW5nRW5hYmxlZGAgcHJvcC5cbiAgICovXG4gIHNuYXBUb0ludGVydmFsPzogP251bWJlcixcbiAgLyoqXG4gICAqIFdoZW4gc2V0LCBjYXVzZXMgdGhlIHNjcm9sbCB2aWV3IHRvIHN0b3AgYXQgdGhlIGRlZmluZWQgb2Zmc2V0cy5cbiAgICogVGhpcyBjYW4gYmUgdXNlZCBmb3IgcGFnaW5hdGluZyB0aHJvdWdoIHZhcmlvdXNseSBzaXplZCBjaGlsZHJlblxuICAgKiB0aGF0IGhhdmUgbGVuZ3RocyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3LiBUeXBpY2FsbHkgdXNlZCBpblxuICAgKiBjb21iaW5hdGlvbiB3aXRoIGBkZWNlbGVyYXRpb25SYXRlPVwiZmFzdFwiYC5cbiAgICpcbiAgICogT3ZlcnJpZGVzIGxlc3MgY29uZmlndXJhYmxlIGBwYWdpbmdFbmFibGVkYCBhbmQgYHNuYXBUb0ludGVydmFsYCBwcm9wcy5cbiAgICovXG4gIHNuYXBUb09mZnNldHM/OiA/JFJlYWRPbmx5QXJyYXk8bnVtYmVyPixcbiAgLyoqXG4gICAqIFVzZSBpbiBjb25qdW5jdGlvbiB3aXRoIGBzbmFwVG9PZmZzZXRzYC4gQnkgZGVmYXVsdCwgdGhlIGJlZ2lubmluZ1xuICAgKiBvZiB0aGUgbGlzdCBjb3VudHMgYXMgYSBzbmFwIG9mZnNldC4gU2V0IGBzbmFwVG9TdGFydGAgdG8gZmFsc2UgdG8gZGlzYWJsZVxuICAgKiB0aGlzIGJlaGF2aW9yIGFuZCBhbGxvdyB0aGUgbGlzdCB0byBzY3JvbGwgZnJlZWx5IGJldHdlZW4gaXRzIHN0YXJ0IGFuZFxuICAgKiB0aGUgZmlyc3QgYHNuYXBUb09mZnNldHNgIG9mZnNldC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICovXG4gIHNuYXBUb1N0YXJ0PzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBVc2UgaW4gY29uanVuY3Rpb24gd2l0aCBgc25hcFRvT2Zmc2V0c2AuIEJ5IGRlZmF1bHQsIHRoZSBlbmRcbiAgICogb2YgdGhlIGxpc3QgY291bnRzIGFzIGEgc25hcCBvZmZzZXQuIFNldCBgc25hcFRvRW5kYCB0byBmYWxzZSB0byBkaXNhYmxlXG4gICAqIHRoaXMgYmVoYXZpb3IgYW5kIGFsbG93IHRoZSBsaXN0IHRvIHNjcm9sbCBmcmVlbHkgYmV0d2VlbiBpdHMgZW5kIGFuZFxuICAgKiB0aGUgbGFzdCBgc25hcFRvT2Zmc2V0c2Agb2Zmc2V0LlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgc25hcFRvRW5kPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBFeHBlcmltZW50YWw6IFdoZW4gdHJ1ZSwgb2Zmc2NyZWVuIGNoaWxkIHZpZXdzICh3aG9zZSBgb3ZlcmZsb3dgIHZhbHVlIGlzXG4gICAqIGBoaWRkZW5gKSBhcmUgcmVtb3ZlZCBmcm9tIHRoZWlyIG5hdGl2ZSBiYWNraW5nIHN1cGVydmlldyB3aGVuIG9mZnNjcmVlbi5cbiAgICogVGhpcyBjYW4gaW1wcm92ZSBzY3JvbGxpbmcgcGVyZm9ybWFuY2Ugb24gbG9uZyBsaXN0cy4gVGhlIGRlZmF1bHQgdmFsdWUgaXNcbiAgICogdHJ1ZS5cbiAgICovXG4gIHJlbW92ZUNsaXBwZWRTdWJ2aWV3cz86ID9ib29sZWFuLFxuICAvKipcbiAgICogQSBSZWZyZXNoQ29udHJvbCBjb21wb25lbnQsIHVzZWQgdG8gcHJvdmlkZSBwdWxsLXRvLXJlZnJlc2hcbiAgICogZnVuY3Rpb25hbGl0eSBmb3IgdGhlIFNjcm9sbFZpZXcuIE9ubHkgd29ya3MgZm9yIHZlcnRpY2FsIFNjcm9sbFZpZXdzXG4gICAqIChgaG9yaXpvbnRhbGAgcHJvcCBtdXN0IGJlIGBmYWxzZWApLlxuICAgKlxuICAgKiBTZWUgW1JlZnJlc2hDb250cm9sXShkb2NzL3JlZnJlc2hjb250cm9sLmh0bWwpLlxuICAgKi9cbiAgLyogJEZsb3dGaXhNZVt1bmNsZWFyLXR5cGVdIC0gaG93IHRvIGhhbmRsZSBnZW5lcmljIHR5cGUgd2l0aG91dCBleGlzdGVudGlhbFxuICAgKiBvcGVyYXRvcj8gKi9cbiAgcmVmcmVzaENvbnRyb2w/OiA/RXhhY3RSZWFjdEVsZW1lbnRfREVQUkVDQVRFRDxhbnk+LFxuICBjaGlsZHJlbj86IFJlYWN0Lk5vZGUsXG4gIC8qKlxuICAgKiBBIHJlZiB0byB0aGUgaW5uZXIgVmlldyBlbGVtZW50IG9mIHRoZSBTY3JvbGxWaWV3LiBUaGlzIHNob3VsZCBiZSB1c2VkXG4gICAqIGluc3RlYWQgb2YgY2FsbGluZyBgZ2V0SW5uZXJWaWV3UmVmYC5cbiAgICovXG4gIGlubmVyVmlld1JlZj86IFJlYWN0LlJlZlNldHRlcjxJbm5lclZpZXdJbnN0YW5jZT4sXG4gIC8qKlxuICAgKiBBIHJlZiB0byB0aGUgTmF0aXZlIFNjcm9sbFZpZXcgY29tcG9uZW50LiBUaGlzIHJlZiBjYW4gYmUgdXNlZCB0byBjYWxsXG4gICAqIGFsbCBvZiBTY3JvbGxWaWV3J3MgcHVibGljIG1ldGhvZHMsIGluIGFkZGl0aW9uIHRvIG5hdGl2ZSBtZXRob2RzIGxpa2VcbiAgICogbWVhc3VyZSwgbWVhc3VyZUxheW91dCwgZXRjLlxuICAgKi9cbiAgc2Nyb2xsVmlld1JlZj86IFJlYWN0LlJlZlNldHRlcjxQdWJsaWNTY3JvbGxWaWV3SW5zdGFuY2U+LFxufH0+O1xuXG50eXBlIFN0YXRlID0ge3xcbiAgbGF5b3V0SGVpZ2h0OiA/bnVtYmVyLFxufH07XG5cbmNvbnN0IElTX0FOSU1BVElOR19UT1VDSF9TVEFSVF9USFJFU0hPTERfTVMgPSAxNjtcblxuZXhwb3J0IHR5cGUgU2Nyb2xsVmlld0NvbXBvbmVudFN0YXRpY3MgPSAkUmVhZE9ubHk8e3xcbiAgQ29udGV4dDogdHlwZW9mIFNjcm9sbFZpZXdDb250ZXh0LFxufH0+O1xuXG4vKipcbiAqIENvbXBvbmVudCB0aGF0IHdyYXBzIHBsYXRmb3JtIFNjcm9sbFZpZXcgd2hpbGUgcHJvdmlkaW5nXG4gKiBpbnRlZ3JhdGlvbiB3aXRoIHRvdWNoIGxvY2tpbmcgXCJyZXNwb25kZXJcIiBzeXN0ZW0uXG4gKlxuICogS2VlcCBpbiBtaW5kIHRoYXQgU2Nyb2xsVmlld3MgbXVzdCBoYXZlIGEgYm91bmRlZCBoZWlnaHQgaW4gb3JkZXIgdG8gd29yayxcbiAqIHNpbmNlIHRoZXkgY29udGFpbiB1bmJvdW5kZWQtaGVpZ2h0IGNoaWxkcmVuIGludG8gYSBib3VuZGVkIGNvbnRhaW5lciAodmlhXG4gKiBhIHNjcm9sbCBpbnRlcmFjdGlvbikuIEluIG9yZGVyIHRvIGJvdW5kIHRoZSBoZWlnaHQgb2YgYSBTY3JvbGxWaWV3LCBlaXRoZXJcbiAqIHNldCB0aGUgaGVpZ2h0IG9mIHRoZSB2aWV3IGRpcmVjdGx5IChkaXNjb3VyYWdlZCkgb3IgbWFrZSBzdXJlIGFsbCBwYXJlbnRcbiAqIHZpZXdzIGhhdmUgYm91bmRlZCBoZWlnaHQuIEZvcmdldHRpbmcgdG8gdHJhbnNmZXIgYHtmbGV4OiAxfWAgZG93biB0aGVcbiAqIHZpZXcgc3RhY2sgY2FuIGxlYWQgdG8gZXJyb3JzIGhlcmUsIHdoaWNoIHRoZSBlbGVtZW50IGluc3BlY3RvciBtYWtlc1xuICogZWFzeSB0byBkZWJ1Zy5cbiAqXG4gKiBEb2Vzbid0IHlldCBzdXBwb3J0IG90aGVyIGNvbnRhaW5lZCByZXNwb25kZXJzIGZyb20gYmxvY2tpbmcgdGhpcyBzY3JvbGxcbiAqIHZpZXcgZnJvbSBiZWNvbWluZyB0aGUgcmVzcG9uZGVyLlxuICpcbiAqXG4gKiBgPFNjcm9sbFZpZXc+YCB2cyBbYDxGbGF0TGlzdD5gXShodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2ZsYXRsaXN0KSAtIHdoaWNoIG9uZSB0byB1c2U/XG4gKlxuICogYFNjcm9sbFZpZXdgIHNpbXBseSByZW5kZXJzIGFsbCBpdHMgcmVhY3QgY2hpbGQgY29tcG9uZW50cyBhdCBvbmNlLiBUaGF0XG4gKiBtYWtlcyBpdCB2ZXJ5IGVhc3kgdG8gdW5kZXJzdGFuZCBhbmQgdXNlLlxuICpcbiAqIE9uIHRoZSBvdGhlciBoYW5kLCB0aGlzIGhhcyBhIHBlcmZvcm1hbmNlIGRvd25zaWRlLiBJbWFnaW5lIHlvdSBoYXZlIGEgdmVyeVxuICogbG9uZyBsaXN0IG9mIGl0ZW1zIHlvdSB3YW50IHRvIGRpc3BsYXksIG1heWJlIHNldmVyYWwgc2NyZWVucyB3b3J0aCBvZlxuICogY29udGVudC4gQ3JlYXRpbmcgSlMgY29tcG9uZW50cyBhbmQgbmF0aXZlIHZpZXdzIGZvciBldmVyeXRoaW5nIGFsbCBhdCBvbmNlLFxuICogbXVjaCBvZiB3aGljaCBtYXkgbm90IGV2ZW4gYmUgc2hvd24sIHdpbGwgY29udHJpYnV0ZSB0byBzbG93IHJlbmRlcmluZyBhbmRcbiAqIGluY3JlYXNlZCBtZW1vcnkgdXNhZ2UuXG4gKlxuICogVGhpcyBpcyB3aGVyZSBgRmxhdExpc3RgIGNvbWVzIGludG8gcGxheS4gYEZsYXRMaXN0YCByZW5kZXJzIGl0ZW1zIGxhemlseSxcbiAqIGp1c3Qgd2hlbiB0aGV5IGFyZSBhYm91dCB0byBhcHBlYXIsIGFuZCByZW1vdmVzIGl0ZW1zIHRoYXQgc2Nyb2xsIHdheSBvZmZcbiAqIHNjcmVlbiB0byBzYXZlIG1lbW9yeSBhbmQgcHJvY2Vzc2luZyB0aW1lLlxuICpcbiAqIGBGbGF0TGlzdGAgaXMgYWxzbyBoYW5keSBpZiB5b3Ugd2FudCB0byByZW5kZXIgc2VwYXJhdG9ycyBiZXR3ZWVuIHlvdXIgaXRlbXMsXG4gKiBtdWx0aXBsZSBjb2x1bW5zLCBpbmZpbml0ZSBzY3JvbGwgbG9hZGluZywgb3IgYW55IG51bWJlciBvZiBvdGhlciBmZWF0dXJlcyBpdFxuICogc3VwcG9ydHMgb3V0IG9mIHRoZSBib3guXG4gKi9cbmNsYXNzIFNjcm9sbFZpZXcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIHN0YXRpYyBDb250ZXh0OiB0eXBlb2YgU2Nyb2xsVmlld0NvbnRleHQgPSBTY3JvbGxWaWV3Q29udGV4dDtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlID0gbmV3IEFuaW1hdGVkSW1wbGVtZW50YXRpb24uVmFsdWUoXG4gICAgICB0aGlzLnByb3BzLmNvbnRlbnRPZmZzZXQ/LnkgPz8gMCxcbiAgICApO1xuICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWUuc2V0T2Zmc2V0KHRoaXMucHJvcHMuY29udGVudEluc2V0Py50b3AgPz8gMCk7XG4gIH1cblxuICBfc2Nyb2xsQW5pbWF0ZWRWYWx1ZTogQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbi5WYWx1ZTtcbiAgX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50OiA/e2RldGFjaDogKCkgPT4gdm9pZCwgLi4ufSA9IG51bGw7XG4gIF9zdGlja3lIZWFkZXJSZWZzOiBNYXA8c3RyaW5nLCBSZWFjdC5FbGVtZW50UmVmPFN0aWNreUhlYWRlckNvbXBvbmVudFR5cGU+PiA9XG4gICAgbmV3IE1hcCgpO1xuICBfaGVhZGVyTGF5b3V0WXM6IE1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgTWFwKCk7XG5cbiAgX2tleWJvYXJkTWV0cmljczogP0tleWJvYXJkTWV0cmljcyA9IG51bGw7XG4gIF9hZGRpdGlvbmFsU2Nyb2xsT2Zmc2V0OiBudW1iZXIgPSAwO1xuICBfaXNUb3VjaGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICBfbGFzdE1vbWVudHVtU2Nyb2xsQmVnaW5UaW1lOiBudW1iZXIgPSAwO1xuICBfbGFzdE1vbWVudHVtU2Nyb2xsRW5kVGltZTogbnVtYmVyID0gMDtcblxuICAvLyBSZXNldCB0byBmYWxzZSBldmVyeSB0aW1lIGJlY29tZXMgcmVzcG9uZGVyLiBUaGlzIGlzIHVzZWQgdG86XG4gIC8vIC0gRGV0ZXJtaW5lIGlmIHRoZSBzY3JvbGwgdmlldyBoYXMgYmVlbiBzY3JvbGxlZCBhbmQgdGhlcmVmb3JlIHNob3VsZFxuICAvLyByZWZ1c2UgdG8gZ2l2ZSB1cCBpdHMgcmVzcG9uZGVyIGxvY2suXG4gIC8vIC0gRGV0ZXJtaW5lIGlmIHJlbGVhc2luZyBzaG91bGQgZGlzbWlzcyB0aGUga2V5Ym9hcmQgd2hlbiB3ZSBhcmUgaW5cbiAgLy8gdGFwLXRvLWRpc21pc3MgbW9kZSAodGhpcy5wcm9wcy5rZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzICE9PSAnYWx3YXlzJykuXG4gIF9vYnNlcnZlZFNjcm9sbFNpbmNlQmVjb21pbmdSZXNwb25kZXI6IGJvb2xlYW4gPSBmYWxzZTtcbiAgX2JlY2FtZVJlc3BvbmRlcldoaWxlQW5pbWF0aW5nOiBib29sZWFuID0gZmFsc2U7XG4gIF9wcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQ6ID9ib29sZWFuID0gbnVsbDtcblxuICBfYW5pbWF0ZWQ6ID9ib29sZWFuID0gbnVsbDtcblxuICBfc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsU2hvdzogP0V2ZW50U3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbEhpZGU6ID9FdmVudFN1YnNjcmlwdGlvbiA9IG51bGw7XG4gIF9zdWJzY3JpcHRpb25LZXlib2FyZERpZFNob3c6ID9FdmVudFN1YnNjcmlwdGlvbiA9IG51bGw7XG4gIF9zdWJzY3JpcHRpb25LZXlib2FyZERpZEhpZGU6ID9FdmVudFN1YnNjcmlwdGlvbiA9IG51bGw7XG5cbiAgI29uU2Nyb2xsRW1pdHRlcjogP0V2ZW50RW1pdHRlcjx7XG4gICAgc2Nyb2xsOiBbe3g6IG51bWJlciwgeTogbnVtYmVyfV0sXG4gIH0+ID0gbnVsbDtcblxuICBzdGF0ZTogU3RhdGUgPSB7XG4gICAgbGF5b3V0SGVpZ2h0OiBudWxsLFxuICB9O1xuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy5rZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzID09PSAnYm9vbGVhbicpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYCdrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzPXske1xuICAgICAgICAgIHRoaXMucHJvcHMua2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyA9PT0gdHJ1ZSA/ICd0cnVlJyA6ICdmYWxzZSdcbiAgICAgICAgfX0nIGlzIGRlcHJlY2F0ZWQuIGAgK1xuICAgICAgICAgIGBVc2UgJ2tleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHM9XCIke1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5rZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzID8gJ2Fsd2F5cycgOiAnbmV2ZXInXG4gICAgICAgICAgfVwiJyBpbnN0ZWFkYCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5fa2V5Ym9hcmRNZXRyaWNzID0gS2V5Ym9hcmQubWV0cmljcygpO1xuICAgIHRoaXMuX2FkZGl0aW9uYWxTY3JvbGxPZmZzZXQgPSAwO1xuXG4gICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsU2hvdyA9IEtleWJvYXJkLmFkZExpc3RlbmVyKFxuICAgICAgJ2tleWJvYXJkV2lsbFNob3cnLFxuICAgICAgdGhpcy5zY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxTaG93LFxuICAgICk7XG4gICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsSGlkZSA9IEtleWJvYXJkLmFkZExpc3RlbmVyKFxuICAgICAgJ2tleWJvYXJkV2lsbEhpZGUnLFxuICAgICAgdGhpcy5zY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxIaWRlLFxuICAgICk7XG4gICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRTaG93ID0gS2V5Ym9hcmQuYWRkTGlzdGVuZXIoXG4gICAgICAna2V5Ym9hcmREaWRTaG93JyxcbiAgICAgIHRoaXMuc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaWRTaG93LFxuICAgICk7XG4gICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRIaWRlID0gS2V5Ym9hcmQuYWRkTGlzdGVuZXIoXG4gICAgICAna2V5Ym9hcmREaWRIaWRlJyxcbiAgICAgIHRoaXMuc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaWRIaWRlLFxuICAgICk7XG5cbiAgICB0aGlzLl91cGRhdGVBbmltYXRlZE5vZGVBdHRhY2htZW50KCk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzOiBQcm9wcykge1xuICAgIGNvbnN0IHByZXZDb250ZW50SW5zZXRUb3AgPSBwcmV2UHJvcHMuY29udGVudEluc2V0XG4gICAgICA/IHByZXZQcm9wcy5jb250ZW50SW5zZXQudG9wXG4gICAgICA6IDA7XG4gICAgY29uc3QgbmV3Q29udGVudEluc2V0VG9wID0gdGhpcy5wcm9wcy5jb250ZW50SW5zZXRcbiAgICAgID8gdGhpcy5wcm9wcy5jb250ZW50SW5zZXQudG9wXG4gICAgICA6IDA7XG4gICAgaWYgKHByZXZDb250ZW50SW5zZXRUb3AgIT09IG5ld0NvbnRlbnRJbnNldFRvcCkge1xuICAgICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZS5zZXRPZmZzZXQobmV3Q29udGVudEluc2V0VG9wIHx8IDApO1xuICAgIH1cblxuICAgIHRoaXMuX3VwZGF0ZUFuaW1hdGVkTm9kZUF0dGFjaG1lbnQoKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxTaG93ICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbFNob3cucmVtb3ZlKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxIaWRlICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbEhpZGUucmVtb3ZlKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZERpZFNob3cgIT0gbnVsbCkge1xuICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRTaG93LnJlbW92ZSgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRIaWRlICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkSGlkZS5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQpIHtcbiAgICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50LmRldGFjaCgpO1xuICAgIH1cblxuICAgIHRoaXMuI29uU2Nyb2xsRW1pdHRlcj8ucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgdW5kZXJseWluZyBzY3JvbGwgcmVzcG9uZGVyLCB3aGljaCBzdXBwb3J0c1xuICAgKiBvcGVyYXRpb25zIGxpa2UgYHNjcm9sbFRvYC4gQWxsIFNjcm9sbFZpZXctbGlrZSBjb21wb25lbnRzIHNob3VsZFxuICAgKiBpbXBsZW1lbnQgdGhpcyBtZXRob2Qgc28gdGhhdCB0aGV5IGNhbiBiZSBjb21wb3NlZCB3aGlsZSBwcm92aWRpbmcgYWNjZXNzXG4gICAqIHRvIHRoZSB1bmRlcmx5aW5nIHNjcm9sbCByZXNwb25kZXIncyBtZXRob2RzLlxuICAgKi9cbiAgZ2V0U2Nyb2xsUmVzcG9uZGVyOiAoKSA9PiBTY3JvbGxSZXNwb25kZXJUeXBlID0gKCkgPT4ge1xuICAgIC8vICRGbG93Rml4TWVbdW5jbGVhci10eXBlXVxuICAgIHJldHVybiAoKHRoaXM6IGFueSk6IFNjcm9sbFJlc3BvbmRlclR5cGUpO1xuICB9O1xuXG4gIGdldFNjcm9sbGFibGVOb2RlOiAoKSA9PiA/bnVtYmVyID0gKCkgPT4ge1xuICAgIHJldHVybiBmaW5kTm9kZUhhbmRsZSh0aGlzLmdldE5hdGl2ZVNjcm9sbFJlZigpKTtcbiAgfTtcblxuICBnZXRJbm5lclZpZXdOb2RlOiAoKSA9PiA/bnVtYmVyID0gKCkgPT4ge1xuICAgIHJldHVybiBmaW5kTm9kZUhhbmRsZSh0aGlzLl9pbm5lclZpZXcubmF0aXZlSW5zdGFuY2UpO1xuICB9O1xuXG4gIGdldElubmVyVmlld1JlZjogKCkgPT4gSW5uZXJWaWV3SW5zdGFuY2UgfCBudWxsID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9pbm5lclZpZXcubmF0aXZlSW5zdGFuY2U7XG4gIH07XG5cbiAgZ2V0TmF0aXZlU2Nyb2xsUmVmOiAoKSA9PiBUU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudEluc3RhbmNlIHwgbnVsbCA9ICgpID0+IHtcbiAgICBjb25zdCB7bmF0aXZlSW5zdGFuY2V9ID0gdGhpcy5fc2Nyb2xsVmlldztcbiAgICByZXR1cm4gbmF0aXZlSW5zdGFuY2UgPT0gbnVsbCA/IG51bGwgOiBuYXRpdmVJbnN0YW5jZS5jb21wb25lbnRSZWYuY3VycmVudDtcbiAgfTtcblxuICAvKipcbiAgICogU2Nyb2xscyB0byBhIGdpdmVuIHgsIHkgb2Zmc2V0LCBlaXRoZXIgaW1tZWRpYXRlbHkgb3Igd2l0aCBhIHNtb290aCBhbmltYXRpb24uXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqXG4gICAqIGBzY3JvbGxUbyh7eDogMCwgeTogMCwgYW5pbWF0ZWQ6IHRydWV9KWBcbiAgICpcbiAgICogTm90ZTogVGhlIHdlaXJkIGZ1bmN0aW9uIHNpZ25hdHVyZSBpcyBkdWUgdG8gdGhlIGZhY3QgdGhhdCwgZm9yIGhpc3RvcmljYWwgcmVhc29ucyxcbiAgICogdGhlIGZ1bmN0aW9uIGFsc28gYWNjZXB0cyBzZXBhcmF0ZSBhcmd1bWVudHMgYXMgYW4gYWx0ZXJuYXRpdmUgdG8gdGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKiBUaGlzIGlzIGRlcHJlY2F0ZWQgZHVlIHRvIGFtYmlndWl0eSAoeSBiZWZvcmUgeCksIGFuZCBTSE9VTEQgTk9UIEJFIFVTRUQuXG4gICAqL1xuICBzY3JvbGxUbzogKFxuICAgIG9wdGlvbnM/OlxuICAgICAgfCB7XG4gICAgICAgICAgeD86IG51bWJlcixcbiAgICAgICAgICB5PzogbnVtYmVyLFxuICAgICAgICAgIGFuaW1hdGVkPzogYm9vbGVhbixcbiAgICAgICAgICAuLi5cbiAgICAgICAgfVxuICAgICAgfCBudW1iZXIsXG4gICAgZGVwcmVjYXRlZFg/OiBudW1iZXIsXG4gICAgZGVwcmVjYXRlZEFuaW1hdGVkPzogYm9vbGVhbixcbiAgKSA9PiB2b2lkID0gKFxuICAgIG9wdGlvbnM/OlxuICAgICAgfCB7XG4gICAgICAgICAgeD86IG51bWJlcixcbiAgICAgICAgICB5PzogbnVtYmVyLFxuICAgICAgICAgIGFuaW1hdGVkPzogYm9vbGVhbixcbiAgICAgICAgICAuLi5cbiAgICAgICAgfVxuICAgICAgfCBudW1iZXIsXG4gICAgZGVwcmVjYXRlZFg/OiBudW1iZXIsXG4gICAgZGVwcmVjYXRlZEFuaW1hdGVkPzogYm9vbGVhbixcbiAgKSA9PiB7XG4gICAgbGV0IHgsIHksIGFuaW1hdGVkO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ2BzY3JvbGxUbyh5LCB4LCBhbmltYXRlZClgIGlzIGRlcHJlY2F0ZWQuIFVzZSBgc2Nyb2xsVG8oe3g6IDUsIHk6IDUsICcgK1xuICAgICAgICAgICdhbmltYXRlZDogdHJ1ZX0pYCBpbnN0ZWFkLicsXG4gICAgICApO1xuICAgICAgeSA9IG9wdGlvbnM7XG4gICAgICB4ID0gZGVwcmVjYXRlZFg7XG4gICAgICBhbmltYXRlZCA9IGRlcHJlY2F0ZWRBbmltYXRlZDtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMpIHtcbiAgICAgIHkgPSBvcHRpb25zLnk7XG4gICAgICB4ID0gb3B0aW9ucy54O1xuICAgICAgYW5pbWF0ZWQgPSBvcHRpb25zLmFuaW1hdGVkO1xuICAgIH1cbiAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLmdldE5hdGl2ZVNjcm9sbFJlZigpO1xuICAgIGlmIChjb21wb25lbnQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBDb21tYW5kcy5zY3JvbGxUbyhjb21wb25lbnQsIHggfHwgMCwgeSB8fCAwLCBhbmltYXRlZCAhPT0gZmFsc2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJZiB0aGlzIGlzIGEgdmVydGljYWwgU2Nyb2xsVmlldyBzY3JvbGxzIHRvIHRoZSBib3R0b20uXG4gICAqIElmIHRoaXMgaXMgYSBob3Jpem9udGFsIFNjcm9sbFZpZXcgc2Nyb2xscyB0byB0aGUgcmlnaHQuXG4gICAqXG4gICAqIFVzZSBgc2Nyb2xsVG9FbmQoe2FuaW1hdGVkOiB0cnVlfSlgIGZvciBzbW9vdGggYW5pbWF0ZWQgc2Nyb2xsaW5nLFxuICAgKiBgc2Nyb2xsVG9FbmQoe2FuaW1hdGVkOiBmYWxzZX0pYCBmb3IgaW1tZWRpYXRlIHNjcm9sbGluZy5cbiAgICogSWYgbm8gb3B0aW9ucyBhcmUgcGFzc2VkLCBgYW5pbWF0ZWRgIGRlZmF1bHRzIHRvIHRydWUuXG4gICAqL1xuICBzY3JvbGxUb0VuZDogKG9wdGlvbnM/OiA/e2FuaW1hdGVkPzogYm9vbGVhbiwgLi4ufSkgPT4gdm9pZCA9IChcbiAgICBvcHRpb25zPzogP3thbmltYXRlZD86IGJvb2xlYW4sIC4uLn0sXG4gICkgPT4ge1xuICAgIC8vIERlZmF1bHQgdG8gdHJ1ZVxuICAgIGNvbnN0IGFuaW1hdGVkID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5hbmltYXRlZCkgIT09IGZhbHNlO1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuZ2V0TmF0aXZlU2Nyb2xsUmVmKCk7XG4gICAgaWYgKGNvbXBvbmVudCA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIENvbW1hbmRzLnNjcm9sbFRvRW5kKGNvbXBvbmVudCwgYW5pbWF0ZWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEaXNwbGF5cyB0aGUgc2Nyb2xsIGluZGljYXRvcnMgbW9tZW50YXJpbHkuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGZsYXNoU2Nyb2xsSW5kaWNhdG9yczogKCkgPT4gdm9pZCA9ICgpID0+IHtcbiAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLmdldE5hdGl2ZVNjcm9sbFJlZigpO1xuICAgIGlmIChjb21wb25lbnQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBDb21tYW5kcy5mbGFzaFNjcm9sbEluZGljYXRvcnMoY29tcG9uZW50KTtcbiAgfTtcblxuICBfc3Vic2NyaWJlVG9PblNjcm9sbDogKFxuICAgIGNhbGxiYWNrOiAoe3g6IG51bWJlciwgeTogbnVtYmVyfSkgPT4gdm9pZCxcbiAgKSA9PiBFdmVudFN1YnNjcmlwdGlvbiA9IGNhbGxiYWNrID0+IHtcbiAgICBsZXQgb25TY3JvbGxFbWl0dGVyID0gdGhpcy4jb25TY3JvbGxFbWl0dGVyO1xuICAgIGlmIChvblNjcm9sbEVtaXR0ZXIgPT0gbnVsbCkge1xuICAgICAgb25TY3JvbGxFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgdGhpcy4jb25TY3JvbGxFbWl0dGVyID0gb25TY3JvbGxFbWl0dGVyO1xuICAgICAgLy8gVGhpcyBpcyB0aGUgZmlyc3Qgc3Vic2NyaXB0aW9uLCBzbyBtYWtlIHN1cmUgdGhlIG5hdGl2ZSBjb21wb25lbnQgaXNcbiAgICAgIC8vIGFsc28gY29uZmlndXJlZCB0byBvdXRwdXQgc3luY2hyb25vdXMgc2Nyb2xsIGV2ZW50cy5cbiAgICAgIHRoaXMuX3Njcm9sbFZpZXcubmF0aXZlSW5zdGFuY2U/LnVuc3RhYmxlX3NldEVuYWJsZVN5bmNPblNjcm9sbCh0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIG9uU2Nyb2xsRW1pdHRlci5hZGRMaXN0ZW5lcignc2Nyb2xsJywgY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgdXNlZCBhcyB0aGUgY2FsbGJhY2sgdG8gb25Gb2N1cyBpbiBhIFRleHRJbnB1dHMnXG4gICAqIHBhcmVudCB2aWV3LiBOb3RlIHRoYXQgYW55IG1vZHVsZSB1c2luZyB0aGlzIG1peGluIG5lZWRzIHRvIHJldHVyblxuICAgKiB0aGUgcGFyZW50IHZpZXcncyByZWYgaW4gZ2V0U2Nyb2xsVmlld1JlZigpIGluIG9yZGVyIHRvIHVzZSB0aGlzIG1ldGhvZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG5vZGVIYW5kbGUgVGhlIFRleHRJbnB1dCBub2RlIGhhbmRsZVxuICAgKiBAcGFyYW0ge251bWJlcn0gYWRkaXRpb25hbE9mZnNldCBUaGUgc2Nyb2xsIHZpZXcncyBib3R0b20gXCJjb250ZW50SW5zZXRcIi5cbiAgICogICAgICAgIERlZmF1bHQgaXMgMC5cbiAgICogQHBhcmFtIHtib29sfSBwcmV2ZW50TmVnYXRpdmVTY3JvbGxpbmcgV2hldGhlciB0byBhbGxvdyBwdWxsaW5nIHRoZSBjb250ZW50XG4gICAqICAgICAgICBkb3duIHRvIG1ha2UgaXQgbWVldCB0aGUga2V5Ym9hcmQncyB0b3AuIERlZmF1bHQgaXMgZmFsc2UuXG4gICAqL1xuICBzY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkOiA8VD4oXG4gICAgbm9kZUhhbmRsZTogbnVtYmVyIHwgUmVhY3QuRWxlbWVudFJlZjxIb3N0Q29tcG9uZW50PFQ+PixcbiAgICBhZGRpdGlvbmFsT2Zmc2V0PzogbnVtYmVyLFxuICAgIHByZXZlbnROZWdhdGl2ZVNjcm9sbE9mZnNldD86IGJvb2xlYW4sXG4gICkgPT4gdm9pZCA9IDxUPihcbiAgICBub2RlSGFuZGxlOiBudW1iZXIgfCBSZWFjdC5FbGVtZW50UmVmPEhvc3RDb21wb25lbnQ8VD4+LFxuICAgIGFkZGl0aW9uYWxPZmZzZXQ/OiBudW1iZXIsXG4gICAgcHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0PzogYm9vbGVhbixcbiAgKSA9PiB7XG4gICAgdGhpcy5fYWRkaXRpb25hbFNjcm9sbE9mZnNldCA9IGFkZGl0aW9uYWxPZmZzZXQgfHwgMDtcbiAgICB0aGlzLl9wcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQgPSAhIXByZXZlbnROZWdhdGl2ZVNjcm9sbE9mZnNldDtcblxuICAgIGlmICh0aGlzLl9pbm5lclZpZXcubmF0aXZlSW5zdGFuY2UgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygbm9kZUhhbmRsZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIFVJTWFuYWdlci5tZWFzdXJlTGF5b3V0KFxuICAgICAgICBub2RlSGFuZGxlLFxuICAgICAgICBudWxsdGhyb3dzKGZpbmROb2RlSGFuZGxlKHRoaXMpKSxcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXSBhZGRlZCB3aGVuIGltcHJvdmluZyB0eXBpbmcgZm9yIHRoaXMgcGFyYW1ldGVyc1xuICAgICAgICB0aGlzLl90ZXh0SW5wdXRGb2N1c0Vycm9yLFxuICAgICAgICB0aGlzLl9pbnB1dE1lYXN1cmVBbmRTY3JvbGxUb0tleWJvYXJkLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9kZUhhbmRsZS5tZWFzdXJlTGF5b3V0KFxuICAgICAgICB0aGlzLl9pbm5lclZpZXcubmF0aXZlSW5zdGFuY2UsXG4gICAgICAgIHRoaXMuX2lucHV0TWVhc3VyZUFuZFNjcm9sbFRvS2V5Ym9hcmQsXG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ10gYWRkZWQgd2hlbiBpbXByb3ZpbmcgdHlwaW5nIGZvciB0aGlzIHBhcmFtZXRlcnNcbiAgICAgICAgdGhpcy5fdGV4dElucHV0Rm9jdXNFcnJvcixcbiAgICAgICk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBBIGhlbHBlciBmdW5jdGlvbiB0byB6b29tIHRvIGEgc3BlY2lmaWMgcmVjdCBpbiB0aGUgc2Nyb2xsdmlldy4gVGhlIGFyZ3VtZW50IGhhcyB0aGUgc2hhcGVcbiAgICoge3g6IG51bWJlcjsgeTogbnVtYmVyOyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlcjsgYW5pbWF0ZWQ6IGJvb2xlYW4gPSB0cnVlfVxuICAgKlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBzY3JvbGxSZXNwb25kZXJab29tVG86IChcbiAgICByZWN0OiB7fFxuICAgICAgeDogbnVtYmVyLFxuICAgICAgeTogbnVtYmVyLFxuICAgICAgd2lkdGg6IG51bWJlcixcbiAgICAgIGhlaWdodDogbnVtYmVyLFxuICAgICAgYW5pbWF0ZWQ/OiBib29sZWFuLFxuICAgIHx9LFxuICAgIGFuaW1hdGVkPzogYm9vbGVhbiwgLy8gZGVwcmVjYXRlZCwgcHV0IHRoaXMgaW5zaWRlIHRoZSByZWN0IGFyZ3VtZW50IGluc3RlYWRcbiAgKSA9PiB2b2lkID0gKFxuICAgIHJlY3Q6IHt8XG4gICAgICB4OiBudW1iZXIsXG4gICAgICB5OiBudW1iZXIsXG4gICAgICB3aWR0aDogbnVtYmVyLFxuICAgICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgICBhbmltYXRlZD86IGJvb2xlYW4sXG4gICAgfH0sXG4gICAgYW5pbWF0ZWQ/OiBib29sZWFuLCAvLyBkZXByZWNhdGVkLCBwdXQgdGhpcyBpbnNpZGUgdGhlIHJlY3QgYXJndW1lbnQgaW5zdGVhZFxuICApID0+IHtcbiAgICBpbnZhcmlhbnQoUGxhdGZvcm0uT1MgPT09ICdpb3MnLCAnem9vbVRvUmVjdCBpcyBub3QgaW1wbGVtZW50ZWQnKTtcbiAgICBpZiAoJ2FuaW1hdGVkJyBpbiByZWN0KSB7XG4gICAgICB0aGlzLl9hbmltYXRlZCA9IHJlY3QuYW5pbWF0ZWQ7XG4gICAgICBkZWxldGUgcmVjdC5hbmltYXRlZDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBhbmltYXRlZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ2BzY3JvbGxSZXNwb25kZXJab29tVG9gIGBhbmltYXRlZGAgYXJndW1lbnQgaXMgZGVwcmVjYXRlZC4gVXNlIGBvcHRpb25zLmFuaW1hdGVkYCBpbnN0ZWFkJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5nZXROYXRpdmVTY3JvbGxSZWYoKTtcbiAgICBpZiAoY29tcG9uZW50ID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgQ29tbWFuZHMuem9vbVRvUmVjdChjb21wb25lbnQsIHJlY3QsIGFuaW1hdGVkICE9PSBmYWxzZSk7XG4gIH07XG5cbiAgX3RleHRJbnB1dEZvY3VzRXJyb3IoKSB7XG4gICAgY29uc29sZS53YXJuKCdFcnJvciBtZWFzdXJpbmcgdGV4dCBmaWVsZC4nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgY2FsY3VsYXRpb25zIHBlcmZvcm1lZCBoZXJlIGFzc3VtZSB0aGUgc2Nyb2xsIHZpZXcgdGFrZXMgdXAgdGhlIGVudGlyZVxuICAgKiBzY3JlZW4gLSBldmVuIGlmIGhhcyBzb21lIGNvbnRlbnQgaW5zZXQuIFdlIHRoZW4gbWVhc3VyZSB0aGUgb2Zmc2V0cyBvZiB0aGVcbiAgICoga2V5Ym9hcmQsIGFuZCBjb21wZW5zYXRlIGJvdGggZm9yIHRoZSBzY3JvbGwgdmlldydzIFwiY29udGVudEluc2V0XCIuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0IFBvc2l0aW9uIG9mIGlucHV0IHcuci50LiB0YWJsZSB2aWV3LlxuICAgKiBAcGFyYW0ge251bWJlcn0gdG9wIFBvc2l0aW9uIG9mIGlucHV0IHcuci50LiB0YWJsZSB2aWV3LlxuICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggV2lkdGggb2YgdGhlIHRleHQgaW5wdXQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgSGVpZ2h0IG9mIHRoZSB0ZXh0IGlucHV0LlxuICAgKi9cbiAgX2lucHV0TWVhc3VyZUFuZFNjcm9sbFRvS2V5Ym9hcmQ6IChcbiAgICBsZWZ0OiBudW1iZXIsXG4gICAgdG9wOiBudW1iZXIsXG4gICAgd2lkdGg6IG51bWJlcixcbiAgICBoZWlnaHQ6IG51bWJlcixcbiAgKSA9PiB2b2lkID0gKGxlZnQ6IG51bWJlciwgdG9wOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA9PiB7XG4gICAgbGV0IGtleWJvYXJkU2NyZWVuWSA9IERpbWVuc2lvbnMuZ2V0KCd3aW5kb3cnKS5oZWlnaHQ7XG5cbiAgICBjb25zdCBzY3JvbGxUZXh0SW5wdXRJbnRvVmlzaWJsZVJlY3QgPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5fa2V5Ym9hcmRNZXRyaWNzICE9IG51bGwpIHtcbiAgICAgICAga2V5Ym9hcmRTY3JlZW5ZID0gdGhpcy5fa2V5Ym9hcmRNZXRyaWNzLnNjcmVlblk7XG4gICAgICB9XG4gICAgICBsZXQgc2Nyb2xsT2Zmc2V0WSA9XG4gICAgICAgIHRvcCAtIGtleWJvYXJkU2NyZWVuWSArIGhlaWdodCArIHRoaXMuX2FkZGl0aW9uYWxTY3JvbGxPZmZzZXQ7XG5cbiAgICAgIC8vIEJ5IGRlZmF1bHQsIHRoaXMgY2FuIHNjcm9sbCB3aXRoIG5lZ2F0aXZlIG9mZnNldCwgcHVsbGluZyB0aGUgY29udGVudFxuICAgICAgLy8gZG93biBzbyB0aGF0IHRoZSB0YXJnZXQgY29tcG9uZW50J3MgYm90dG9tIG1lZXRzIHRoZSBrZXlib2FyZCdzIHRvcC5cbiAgICAgIC8vIElmIHJlcXVlc3RlZCBvdGhlcndpc2UsIGNhcCB0aGUgb2Zmc2V0IGF0IDAgbWluaW11bSB0byBhdm9pZCBjb250ZW50XG4gICAgICAvLyBzaGlmdGluZyBkb3duLlxuICAgICAgaWYgKHRoaXMuX3ByZXZlbnROZWdhdGl2ZVNjcm9sbE9mZnNldCA9PT0gdHJ1ZSkge1xuICAgICAgICBzY3JvbGxPZmZzZXRZID0gTWF0aC5tYXgoMCwgc2Nyb2xsT2Zmc2V0WSk7XG4gICAgICB9XG4gICAgICB0aGlzLnNjcm9sbFRvKHt4OiAwLCB5OiBzY3JvbGxPZmZzZXRZLCBhbmltYXRlZDogdHJ1ZX0pO1xuXG4gICAgICB0aGlzLl9hZGRpdGlvbmFsU2Nyb2xsT2Zmc2V0ID0gMDtcbiAgICAgIHRoaXMuX3ByZXZlbnROZWdhdGl2ZVNjcm9sbE9mZnNldCA9IGZhbHNlO1xuICAgIH07XG5cbiAgICBpZiAodGhpcy5fa2V5Ym9hcmRNZXRyaWNzID09IG51bGwpIHtcbiAgICAgIC8vIGBfa2V5Ym9hcmRNZXRyaWNzYCBpcyBzZXQgaW5zaWRlIGBzY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxTaG93YCB3aGljaFxuICAgICAgLy8gaXMgbm90IGd1YXJhbnRlZWQgdG8gYmUgY2FsbGVkIGJlZm9yZSBgX2lucHV0TWVhc3VyZUFuZFNjcm9sbFRvS2V5Ym9hcmRgIGJ1dCBuYXRpdmUgaGFzIGFscmVhZHkgc2NoZWR1bGVkIGl0LlxuICAgICAgLy8gSW4gY2FzZSBpdCB3YXMgbm90IGNhbGxlZCBiZWZvcmUgYF9pbnB1dE1lYXN1cmVBbmRTY3JvbGxUb0tleWJvYXJkYCwgd2UgcG9zdHBvbmUgc2Nyb2xsaW5nIHRvXG4gICAgICAvLyB0ZXh0IGlucHV0LlxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHNjcm9sbFRleHRJbnB1dEludG9WaXNpYmxlUmVjdCgpO1xuICAgICAgfSwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjcm9sbFRleHRJbnB1dEludG9WaXNpYmxlUmVjdCgpO1xuICAgIH1cbiAgfTtcblxuICBfZ2V0S2V5Rm9ySW5kZXgoaW5kZXg6ICRGbG93Rml4TWUsIGNoaWxkQXJyYXk6ICRGbG93Rml4TWUpOiAkRmxvd0ZpeE1lIHtcbiAgICBjb25zdCBjaGlsZCA9IGNoaWxkQXJyYXlbaW5kZXhdO1xuICAgIHJldHVybiBjaGlsZCAmJiBjaGlsZC5rZXk7XG4gIH1cblxuICBfdXBkYXRlQW5pbWF0ZWROb2RlQXR0YWNobWVudCgpIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQpIHtcbiAgICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50LmRldGFjaCgpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0aGlzLnByb3BzLnN0aWNreUhlYWRlckluZGljZXMgJiZcbiAgICAgIHRoaXMucHJvcHMuc3RpY2t5SGVhZGVySW5kaWNlcy5sZW5ndGggPiAwXG4gICAgKSB7XG4gICAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudCA9XG4gICAgICAgIEFuaW1hdGVkSW1wbGVtZW50YXRpb24uYXR0YWNoTmF0aXZlRXZlbnQoXG4gICAgICAgICAgdGhpcy5nZXROYXRpdmVTY3JvbGxSZWYoKSxcbiAgICAgICAgICAnb25TY3JvbGwnLFxuICAgICAgICAgIFt7bmF0aXZlRXZlbnQ6IHtjb250ZW50T2Zmc2V0OiB7eTogdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZX19fV0sXG4gICAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgX3NldFN0aWNreUhlYWRlclJlZihcbiAgICBrZXk6IHN0cmluZyxcbiAgICByZWY6ID9SZWFjdC5FbGVtZW50UmVmPFN0aWNreUhlYWRlckNvbXBvbmVudFR5cGU+LFxuICApIHtcbiAgICBpZiAocmVmKSB7XG4gICAgICB0aGlzLl9zdGlja3lIZWFkZXJSZWZzLnNldChrZXksIHJlZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N0aWNreUhlYWRlclJlZnMuZGVsZXRlKGtleSk7XG4gICAgfVxuICB9XG5cbiAgX29uU3RpY2t5SGVhZGVyTGF5b3V0KGluZGV4OiAkRmxvd0ZpeE1lLCBldmVudDogJEZsb3dGaXhNZSwga2V5OiAkRmxvd0ZpeE1lKSB7XG4gICAgY29uc3Qge3N0aWNreUhlYWRlckluZGljZXN9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIXN0aWNreUhlYWRlckluZGljZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY2hpbGRBcnJheSA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXk8JEZsb3dGaXhNZT4odGhpcy5wcm9wcy5jaGlsZHJlbik7XG4gICAgaWYgKGtleSAhPT0gdGhpcy5fZ2V0S2V5Rm9ySW5kZXgoaW5kZXgsIGNoaWxkQXJyYXkpKSB7XG4gICAgICAvLyBpZ25vcmUgc3RhbGUgbGF5b3V0IHVwZGF0ZVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGxheW91dFkgPSBldmVudC5uYXRpdmVFdmVudC5sYXlvdXQueTtcbiAgICB0aGlzLl9oZWFkZXJMYXlvdXRZcy5zZXQoa2V5LCBsYXlvdXRZKTtcblxuICAgIGNvbnN0IGluZGV4T2ZJbmRleCA9IHN0aWNreUhlYWRlckluZGljZXMuaW5kZXhPZihpbmRleCk7XG4gICAgY29uc3QgcHJldmlvdXNIZWFkZXJJbmRleCA9IHN0aWNreUhlYWRlckluZGljZXNbaW5kZXhPZkluZGV4IC0gMV07XG4gICAgaWYgKHByZXZpb3VzSGVhZGVySW5kZXggIT0gbnVsbCkge1xuICAgICAgY29uc3QgcHJldmlvdXNIZWFkZXIgPSB0aGlzLl9zdGlja3lIZWFkZXJSZWZzLmdldChcbiAgICAgICAgdGhpcy5fZ2V0S2V5Rm9ySW5kZXgocHJldmlvdXNIZWFkZXJJbmRleCwgY2hpbGRBcnJheSksXG4gICAgICApO1xuICAgICAgcHJldmlvdXNIZWFkZXIgJiZcbiAgICAgICAgcHJldmlvdXNIZWFkZXIuc2V0TmV4dEhlYWRlclkgJiZcbiAgICAgICAgcHJldmlvdXNIZWFkZXIuc2V0TmV4dEhlYWRlclkobGF5b3V0WSk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZVNjcm9sbCA9IChlOiBTY3JvbGxFdmVudCkgPT4ge1xuICAgIHRoaXMuX29ic2VydmVkU2Nyb2xsU2luY2VCZWNvbWluZ1Jlc3BvbmRlciA9IHRydWU7XG4gICAgdGhpcy5wcm9wcy5vblNjcm9sbCAmJiB0aGlzLnByb3BzLm9uU2Nyb2xsKGUpO1xuXG4gICAgdGhpcy4jb25TY3JvbGxFbWl0dGVyPy5lbWl0KCdzY3JvbGwnLCB7XG4gICAgICB4OiBlLm5hdGl2ZUV2ZW50LmNvbnRlbnRPZmZzZXQueCxcbiAgICAgIHk6IGUubmF0aXZlRXZlbnQuY29udGVudE9mZnNldC55LFxuICAgIH0pO1xuICB9O1xuXG4gIF9oYW5kbGVMYXlvdXQgPSAoZTogTGF5b3V0RXZlbnQpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5pbnZlcnRTdGlja3lIZWFkZXJzID09PSB0cnVlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtsYXlvdXRIZWlnaHQ6IGUubmF0aXZlRXZlbnQubGF5b3V0LmhlaWdodH0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5vbkxheW91dCkge1xuICAgICAgdGhpcy5wcm9wcy5vbkxheW91dChlKTtcbiAgICB9XG4gIH07XG5cbiAgX2hhbmRsZUNvbnRlbnRPbkxheW91dCA9IChlOiBMYXlvdXRFdmVudCkgPT4ge1xuICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IGUubmF0aXZlRXZlbnQubGF5b3V0O1xuICAgIHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSAmJlxuICAgICAgdGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlKHdpZHRoLCBoZWlnaHQpO1xuICB9O1xuXG4gIF9pbm5lclZpZXc6IFJlZkZvcndhcmRlcjxJbm5lclZpZXdJbnN0YW5jZSwgSW5uZXJWaWV3SW5zdGFuY2U+ID1cbiAgICBjcmVhdGVSZWZGb3J3YXJkZXIoXG4gICAgICAoaW5zdGFuY2U6IElubmVyVmlld0luc3RhbmNlKTogSW5uZXJWaWV3SW5zdGFuY2UgPT4gaW5zdGFuY2UsXG4gICAgKTtcblxuICBfc2Nyb2xsVmlldzogUmVmRm9yd2FyZGVyPFxuICAgIFRTY3JvbGxWaWV3TmF0aXZlSW1wZXJhdGl2ZUhhbmRsZSxcbiAgICBQdWJsaWNTY3JvbGxWaWV3SW5zdGFuY2UgfCBudWxsLFxuICA+ID0gY3JlYXRlUmVmRm9yd2FyZGVyKG5hdGl2ZUltcGVyYXRpdmVIYW5kbGUgPT4ge1xuICAgIGNvbnN0IG5hdGl2ZUluc3RhbmNlID0gbmF0aXZlSW1wZXJhdGl2ZUhhbmRsZS5jb21wb25lbnRSZWYuY3VycmVudDtcbiAgICBpZiAobmF0aXZlSW5zdGFuY2UgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBpcyBhIGhhY2suIElkZWFsbHkgd2Ugd291bGQgZm9yd2FyZFJlZiAgdG8gdGhlIHVuZGVybHlpbmdcbiAgICAvLyBob3N0IGNvbXBvbmVudC4gSG93ZXZlciwgc2luY2UgU2Nyb2xsVmlldyBoYXMgaXQncyBvd24gbWV0aG9kcyB0aGF0IGNhbiBiZVxuICAgIC8vIGNhbGxlZCBhcyB3ZWxsLCBpZiB3ZSB1c2VkIHRoZSBzdGFuZGFyZCBmb3J3YXJkUmVmIHRoZW4gdGhlc2VcbiAgICAvLyBtZXRob2RzIHdvdWxkbid0IGJlIGFjY2Vzc2libGUgYW5kIHRodXMgYmUgYSBicmVha2luZyBjaGFuZ2UuXG4gICAgLy9cbiAgICAvLyBUaGVyZWZvcmUgd2UgZWRpdCByZWYgdG8gaW5jbHVkZSBTY3JvbGxWaWV3J3MgcHVibGljIG1ldGhvZHMgc28gdGhhdFxuICAgIC8vIHRoZXkgYXJlIGNhbGxhYmxlIGZyb20gdGhlIHJlZi5cblxuICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSAtIEtub3duIGlzc3VlIHdpdGggYXBwZW5kaW5nIGN1c3RvbSBtZXRob2RzLlxuICAgIGNvbnN0IHB1YmxpY0luc3RhbmNlOiBQdWJsaWNTY3JvbGxWaWV3SW5zdGFuY2UgPSBPYmplY3QuYXNzaWduKFxuICAgICAgbmF0aXZlSW5zdGFuY2UsXG4gICAgICB7XG4gICAgICAgIGdldFNjcm9sbFJlc3BvbmRlcjogdGhpcy5nZXRTY3JvbGxSZXNwb25kZXIsXG4gICAgICAgIGdldFNjcm9sbGFibGVOb2RlOiB0aGlzLmdldFNjcm9sbGFibGVOb2RlLFxuICAgICAgICBnZXRJbm5lclZpZXdOb2RlOiB0aGlzLmdldElubmVyVmlld05vZGUsXG4gICAgICAgIGdldElubmVyVmlld1JlZjogdGhpcy5nZXRJbm5lclZpZXdSZWYsXG4gICAgICAgIGdldE5hdGl2ZVNjcm9sbFJlZjogdGhpcy5nZXROYXRpdmVTY3JvbGxSZWYsXG4gICAgICAgIHNjcm9sbFRvOiB0aGlzLnNjcm9sbFRvLFxuICAgICAgICBzY3JvbGxUb0VuZDogdGhpcy5zY3JvbGxUb0VuZCxcbiAgICAgICAgZmxhc2hTY3JvbGxJbmRpY2F0b3JzOiB0aGlzLmZsYXNoU2Nyb2xsSW5kaWNhdG9ycyxcbiAgICAgICAgc2Nyb2xsUmVzcG9uZGVyWm9vbVRvOiB0aGlzLnNjcm9sbFJlc3BvbmRlclpvb21UbyxcbiAgICAgICAgLy8gVE9ETzogUmVwbGFjZSB1bnN0YWJsZV9zdWJzY3JpYmVUb09uU2Nyb2xsIG9uY2Ugc2Nyb2xsVmlldy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoZTogU2Nyb2xsRXZlbnQpID0+IHt9LCB7cGFzc2l2ZTogZmFsc2V9KTtcbiAgICAgICAgdW5zdGFibGVfc3Vic2NyaWJlVG9PblNjcm9sbDogdGhpcy5fc3Vic2NyaWJlVG9PblNjcm9sbCxcbiAgICAgICAgc2Nyb2xsUmVzcG9uZGVyU2Nyb2xsTmF0aXZlSGFuZGxlVG9LZXlib2FyZDpcbiAgICAgICAgICB0aGlzLnNjcm9sbFJlc3BvbmRlclNjcm9sbE5hdGl2ZUhhbmRsZVRvS2V5Ym9hcmQsXG4gICAgICB9LFxuICAgICk7XG5cbiAgICByZXR1cm4gcHVibGljSW5zdGFuY2U7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBXYXJuaW5nLCB0aGlzIG1heSBiZSBjYWxsZWQgc2V2ZXJhbCB0aW1lcyBmb3IgYSBzaW5nbGUga2V5Ym9hcmQgb3BlbmluZy5cbiAgICogSXQncyBiZXN0IHRvIHN0b3JlIHRoZSBpbmZvcm1hdGlvbiBpbiB0aGlzIG1ldGhvZCBhbmQgdGhlbiB0YWtlIGFueSBhY3Rpb25cbiAgICogYXQgYSBsYXRlciBwb2ludCAoZWl0aGVyIGluIGBrZXlib2FyZERpZFNob3dgIG9yIG90aGVyKS5cbiAgICpcbiAgICogSGVyZSdzIHRoZSBvcmRlciB0aGF0IGV2ZW50cyBvY2N1ciBpbjpcbiAgICogLSBmb2N1c1xuICAgKiAtIHdpbGxTaG93IHtzdGFydENvb3JkaW5hdGVzLCBlbmRDb29yZGluYXRlc30gc2V2ZXJhbCB0aW1lc1xuICAgKiAtIGRpZFNob3cgc2V2ZXJhbCB0aW1lc1xuICAgKiAtIGJsdXJcbiAgICogLSB3aWxsSGlkZSB7c3RhcnRDb29yZGluYXRlcywgZW5kQ29vcmRpbmF0ZXN9IHNldmVyYWwgdGltZXNcbiAgICogLSBkaWRIaWRlIHNldmVyYWwgdGltZXNcbiAgICpcbiAgICogVGhlIGBTY3JvbGxSZXNwb25kZXJgIG1vZHVsZSBjYWxsYmFja3MgZm9yIGVhY2ggb2YgdGhlc2UgZXZlbnRzLlxuICAgKiBFdmVuIHRob3VnaCBhbnkgdXNlciBjb3VsZCBoYXZlIGVhc2lseSBsaXN0ZW5lZCB0byBrZXlib2FyZCBldmVudHNcbiAgICogdGhlbXNlbHZlcywgdXNpbmcgdGhlc2UgYHByb3BzYCBjYWxsYmFja3MgZW5zdXJlcyB0aGF0IG9yZGVyaW5nIG9mIGV2ZW50c1xuICAgKiBpcyBjb25zaXN0ZW50IC0gYW5kIG5vdCBkZXBlbmRlbnQgb24gdGhlIG9yZGVyIHRoYXQgdGhlIGtleWJvYXJkIGV2ZW50cyBhcmVcbiAgICogc3Vic2NyaWJlZCB0by4gVGhpcyBtYXR0ZXJzIHdoZW4gdGVsbGluZyB0aGUgc2Nyb2xsIHZpZXcgdG8gc2Nyb2xsIHRvIHdoZXJlXG4gICAqIHRoZSBrZXlib2FyZCBpcyBoZWFkZWQgLSB0aGUgc2Nyb2xsIHJlc3BvbmRlciBiZXR0ZXIgaGF2ZSBiZWVuIG5vdGlmaWVkIG9mXG4gICAqIHRoZSBrZXlib2FyZCBkZXN0aW5hdGlvbiBiZWZvcmUgYmVpbmcgaW5zdHJ1Y3RlZCB0byBzY3JvbGwgdG8gd2hlcmUgdGhlXG4gICAqIGtleWJvYXJkIHdpbGwgYmUuIFN0aWNrIHRvIHRoZSBgU2Nyb2xsUmVzcG9uZGVyYCBjYWxsYmFja3MsIGFuZCBldmVyeXRoaW5nXG4gICAqIHdpbGwgd29yay5cbiAgICpcbiAgICogV0FSTklORzogVGhlc2UgY2FsbGJhY2tzIHdpbGwgZmlyZSBldmVuIGlmIGEga2V5Ym9hcmQgaXMgZGlzcGxheWVkIGluIGFcbiAgICogZGlmZmVyZW50IG5hdmlnYXRpb24gcGFuZS4gRmlsdGVyIG91dCB0aGUgZXZlbnRzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZVxuICAgKiByZWxldmFudCB0byB5b3UuIChGb3IgZXhhbXBsZSwgb25seSBpZiB5b3UgcmVjZWl2ZSB0aGVzZSBjYWxsYmFja3MgYWZ0ZXJcbiAgICogeW91IGhhZCBleHBsaWNpdGx5IGZvY3VzZWQgYSBub2RlIGV0YykuXG4gICAqL1xuXG4gIHNjcm9sbFJlc3BvbmRlcktleWJvYXJkV2lsbFNob3c6IChlOiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkID0gKFxuICAgIGU6IEtleWJvYXJkRXZlbnQsXG4gICkgPT4ge1xuICAgIHRoaXMuX2tleWJvYXJkTWV0cmljcyA9IGUuZW5kQ29vcmRpbmF0ZXM7XG4gICAgdGhpcy5wcm9wcy5vbktleWJvYXJkV2lsbFNob3cgJiYgdGhpcy5wcm9wcy5vbktleWJvYXJkV2lsbFNob3coZSk7XG4gIH07XG5cbiAgc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmRXaWxsSGlkZTogKGU6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQgPSAoXG4gICAgZTogS2V5Ym9hcmRFdmVudCxcbiAgKSA9PiB7XG4gICAgdGhpcy5fa2V5Ym9hcmRNZXRyaWNzID0gbnVsbDtcbiAgICB0aGlzLnByb3BzLm9uS2V5Ym9hcmRXaWxsSGlkZSAmJiB0aGlzLnByb3BzLm9uS2V5Ym9hcmRXaWxsSGlkZShlKTtcbiAgfTtcblxuICBzY3JvbGxSZXNwb25kZXJLZXlib2FyZERpZFNob3c6IChlOiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkID0gKFxuICAgIGU6IEtleWJvYXJkRXZlbnQsXG4gICkgPT4ge1xuICAgIHRoaXMuX2tleWJvYXJkTWV0cmljcyA9IGUuZW5kQ29vcmRpbmF0ZXM7XG4gICAgdGhpcy5wcm9wcy5vbktleWJvYXJkRGlkU2hvdyAmJiB0aGlzLnByb3BzLm9uS2V5Ym9hcmREaWRTaG93KGUpO1xuICB9O1xuXG4gIHNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlkSGlkZTogKGU6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQgPSAoXG4gICAgZTogS2V5Ym9hcmRFdmVudCxcbiAgKSA9PiB7XG4gICAgdGhpcy5fa2V5Ym9hcmRNZXRyaWNzID0gbnVsbDtcbiAgICB0aGlzLnByb3BzLm9uS2V5Ym9hcmREaWRIaWRlICYmIHRoaXMucHJvcHMub25LZXlib2FyZERpZEhpZGUoZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uTW9tZW50dW1TY3JvbGxCZWdpbmAgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlTW9tZW50dW1TY3JvbGxCZWdpbjogKGU6IFNjcm9sbEV2ZW50KSA9PiB2b2lkID0gKGU6IFNjcm9sbEV2ZW50KSA9PiB7XG4gICAgdGhpcy5fbGFzdE1vbWVudHVtU2Nyb2xsQmVnaW5UaW1lID0gZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdygpO1xuICAgIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEJlZ2luICYmIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEJlZ2luKGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvbk1vbWVudHVtU2Nyb2xsRW5kYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVNb21lbnR1bVNjcm9sbEVuZDogKGU6IFNjcm9sbEV2ZW50KSA9PiB2b2lkID0gKGU6IFNjcm9sbEV2ZW50KSA9PiB7XG4gICAgRnJhbWVSYXRlTG9nZ2VyLmVuZFNjcm9sbCgpO1xuICAgIHRoaXMuX2xhc3RNb21lbnR1bVNjcm9sbEVuZFRpbWUgPSBnbG9iYWwucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kICYmIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEVuZChlKTtcbiAgfTtcblxuICAvKipcbiAgICogVW5mb3J0dW5hdGVseSwgYG9uU2Nyb2xsQmVnaW5EcmFnYCBhbHNvIGZpcmVzIHdoZW4gKnN0b3BwaW5nKiB0aGUgc2Nyb2xsXG4gICAqIGFuaW1hdGlvbiwgYW5kIHRoZXJlJ3Mgbm90IGFuIGVhc3kgd2F5IHRvIGRpc3Rpbmd1aXNoIGEgZHJhZyB2cy4gc3RvcHBpbmdcbiAgICogbW9tZW50dW0uXG4gICAqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uU2Nyb2xsQmVnaW5EcmFnYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVTY3JvbGxCZWdpbkRyYWc6IChlOiBTY3JvbGxFdmVudCkgPT4gdm9pZCA9IChlOiBTY3JvbGxFdmVudCkgPT4ge1xuICAgIEZyYW1lUmF0ZUxvZ2dlci5iZWdpblNjcm9sbCgpOyAvLyBUT0RPOiB0cmFjayBhbGwgc2Nyb2xscyBhZnRlciBpbXBsZW1lbnRpbmcgb25TY3JvbGxFbmRBbmltYXRpb25cblxuICAgIGlmIChcbiAgICAgIFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcgJiZcbiAgICAgIHRoaXMucHJvcHMua2V5Ym9hcmREaXNtaXNzTW9kZSA9PT0gJ29uLWRyYWcnXG4gICAgKSB7XG4gICAgICBkaXNtaXNzS2V5Ym9hcmQoKTtcbiAgICB9XG5cbiAgICB0aGlzLnByb3BzLm9uU2Nyb2xsQmVnaW5EcmFnICYmIHRoaXMucHJvcHMub25TY3JvbGxCZWdpbkRyYWcoZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uU2Nyb2xsRW5kRHJhZ2AgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlU2Nyb2xsRW5kRHJhZzogKGU6IFNjcm9sbEV2ZW50KSA9PiB2b2lkID0gKGU6IFNjcm9sbEV2ZW50KSA9PiB7XG4gICAgY29uc3Qge3ZlbG9jaXR5fSA9IGUubmF0aXZlRXZlbnQ7XG4gICAgLy8gLSBJZiB3ZSBhcmUgYW5pbWF0aW5nLCB0aGVuIHRoaXMgaXMgYSBcImRyYWdcIiB0aGF0IGlzIHN0b3BwaW5nIHRoZSBzY3JvbGx2aWV3IGFuZCBtb21lbnR1bSBlbmRcbiAgICAvLyAgIHdpbGwgZmlyZS5cbiAgICAvLyAtIElmIHZlbG9jaXR5IGlzIG5vbi16ZXJvLCB0aGVuIHRoZSBpbnRlcmFjdGlvbiB3aWxsIHN0b3Agd2hlbiBtb21lbnR1bSBzY3JvbGwgZW5kcyBvclxuICAgIC8vICAgYW5vdGhlciBkcmFnIHN0YXJ0cyBhbmQgZW5kcy5cbiAgICAvLyAtIElmIHdlIGRvbid0IGdldCB2ZWxvY2l0eSwgYmV0dGVyIHRvIHN0b3AgdGhlIGludGVyYWN0aW9uIHR3aWNlIHRoYW4gbm90IHN0b3AgaXQuXG4gICAgaWYgKFxuICAgICAgIXRoaXMuX2lzQW5pbWF0aW5nKCkgJiZcbiAgICAgICghdmVsb2NpdHkgfHwgKHZlbG9jaXR5LnggPT09IDAgJiYgdmVsb2NpdHkueSA9PT0gMCkpXG4gICAgKSB7XG4gICAgICBGcmFtZVJhdGVMb2dnZXIuZW5kU2Nyb2xsKCk7XG4gICAgfVxuICAgIHRoaXMucHJvcHMub25TY3JvbGxFbmREcmFnICYmIHRoaXMucHJvcHMub25TY3JvbGxFbmREcmFnKGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBIGhlbHBlciBmdW5jdGlvbiBmb3IgdGhpcyBjbGFzcyB0aGF0IGxldHMgdXMgcXVpY2tseSBkZXRlcm1pbmUgaWYgdGhlXG4gICAqIHZpZXcgaXMgY3VycmVudGx5IGFuaW1hdGluZy4gVGhpcyBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIHRvIGtub3cgd2hlblxuICAgKiBhIHRvdWNoIGhhcyBqdXN0IHN0YXJ0ZWQgb3IgZW5kZWQuXG4gICAqL1xuICBfaXNBbmltYXRpbmc6ICgpID0+IGJvb2xlYW4gPSAoKSA9PiB7XG4gICAgY29uc3Qgbm93ID0gZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGNvbnN0IHRpbWVTaW5jZUxhc3RNb21lbnR1bVNjcm9sbEVuZCA9XG4gICAgICBub3cgLSB0aGlzLl9sYXN0TW9tZW50dW1TY3JvbGxFbmRUaW1lO1xuICAgIGNvbnN0IGlzQW5pbWF0aW5nID1cbiAgICAgIHRpbWVTaW5jZUxhc3RNb21lbnR1bVNjcm9sbEVuZCA8IElTX0FOSU1BVElOR19UT1VDSF9TVEFSVF9USFJFU0hPTERfTVMgfHxcbiAgICAgIHRoaXMuX2xhc3RNb21lbnR1bVNjcm9sbEVuZFRpbWUgPCB0aGlzLl9sYXN0TW9tZW50dW1TY3JvbGxCZWdpblRpbWU7XG4gICAgcmV0dXJuIGlzQW5pbWF0aW5nO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblJlc3BvbmRlckdyYW50YCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVSZXNwb25kZXJHcmFudDogKGU6IFByZXNzRXZlbnQpID0+IHZvaWQgPSAoZTogUHJlc3NFdmVudCkgPT4ge1xuICAgIHRoaXMuX29ic2VydmVkU2Nyb2xsU2luY2VCZWNvbWluZ1Jlc3BvbmRlciA9IGZhbHNlO1xuICAgIHRoaXMucHJvcHMub25SZXNwb25kZXJHcmFudCAmJiB0aGlzLnByb3BzLm9uUmVzcG9uZGVyR3JhbnQoZSk7XG4gICAgdGhpcy5fYmVjYW1lUmVzcG9uZGVyV2hpbGVBbmltYXRpbmcgPSB0aGlzLl9pc0FuaW1hdGluZygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblJlc3BvbmRlclJlamVjdGAgZXZlbnQuXG4gICAqXG4gICAqIFNvbWUgb3RoZXIgZWxlbWVudCBpcyBub3QgeWllbGRpbmcgaXRzIHJvbGUgYXMgcmVzcG9uZGVyLiBOb3JtYWxseSwgd2UnZFxuICAgKiBqdXN0IGRpc2FibGUgdGhlIGBVSVNjcm9sbFZpZXdgLCBidXQgYSB0b3VjaCBoYXMgYWxyZWFkeSBiZWdhbiBvbiBpdCwgdGhlXG4gICAqIGBVSVNjcm9sbFZpZXdgIHdpbGwgbm90IGFjY2VwdCBiZWluZyBkaXNhYmxlZCBhZnRlciB0aGF0LiBUaGUgZWFzaWVzdFxuICAgKiBzb2x1dGlvbiBmb3Igbm93IGlzIHRvIGFjY2VwdCB0aGUgbGltaXRhdGlvbiBvZiBkaXNhbGxvd2luZyB0aGlzXG4gICAqIGFsdG9nZXRoZXIuIFRvIGltcHJvdmUgdGhpcywgZmluZCBhIHdheSB0byBkaXNhYmxlIHRoZSBgVUlTY3JvbGxWaWV3YCBhZnRlclxuICAgKiBhIHRvdWNoIGhhcyBhbHJlYWR5IHN0YXJ0ZWQuXG4gICAqL1xuICBfaGFuZGxlUmVzcG9uZGVyUmVqZWN0OiAoKSA9PiB2b2lkID0gKCkgPT4ge307XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uUmVzcG9uZGVyUmVsZWFzZWAgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlUmVzcG9uZGVyUmVsZWFzZTogKGU6IFByZXNzRXZlbnQpID0+IHZvaWQgPSAoZTogUHJlc3NFdmVudCkgPT4ge1xuICAgIHRoaXMuX2lzVG91Y2hpbmcgPSBlLm5hdGl2ZUV2ZW50LnRvdWNoZXMubGVuZ3RoICE9PSAwO1xuICAgIHRoaXMucHJvcHMub25SZXNwb25kZXJSZWxlYXNlICYmIHRoaXMucHJvcHMub25SZXNwb25kZXJSZWxlYXNlKGUpO1xuXG4gICAgaWYgKHR5cGVvZiBlLnRhcmdldCA9PT0gJ251bWJlcicpIHtcbiAgICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ0RpZCBub3QgZXhwZWN0IGV2ZW50IHRhcmdldCB0byBiZSBhIG51bWJlci4gU2hvdWxkIGhhdmUgYmVlbiBhIG5hdGl2ZSBjb21wb25lbnQnLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQnkgZGVmYXVsdCBzY3JvbGwgdmlld3Mgd2lsbCB1bmZvY3VzIGEgdGV4dEZpZWxkXG4gICAgLy8gaWYgYW5vdGhlciB0b3VjaCBvY2N1cnMgb3V0c2lkZSBvZiBpdFxuICAgIGNvbnN0IGN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQgPSBUZXh0SW5wdXRTdGF0ZS5jdXJyZW50bHlGb2N1c2VkSW5wdXQoKTtcbiAgICBpZiAoXG4gICAgICBjdXJyZW50bHlGb2N1c2VkVGV4dElucHV0ICE9IG51bGwgJiZcbiAgICAgIHRoaXMucHJvcHMua2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyAhPT0gdHJ1ZSAmJlxuICAgICAgdGhpcy5wcm9wcy5rZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzICE9PSAnYWx3YXlzJyAmJlxuICAgICAgdGhpcy5fa2V5Ym9hcmRJc0Rpc21pc3NpYmxlKCkgJiZcbiAgICAgIGUudGFyZ2V0ICE9PSBjdXJyZW50bHlGb2N1c2VkVGV4dElucHV0ICYmXG4gICAgICAhdGhpcy5fb2JzZXJ2ZWRTY3JvbGxTaW5jZUJlY29taW5nUmVzcG9uZGVyICYmXG4gICAgICAhdGhpcy5fYmVjYW1lUmVzcG9uZGVyV2hpbGVBbmltYXRpbmdcbiAgICApIHtcbiAgICAgIFRleHRJbnB1dFN0YXRlLmJsdXJUZXh0SW5wdXQoY3VycmVudGx5Rm9jdXNlZFRleHRJbnB1dCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBXZSB3aWxsIGFsbG93IHRoZSBzY3JvbGwgdmlldyB0byBnaXZlIHVwIGl0cyBsb2NrIGlmZiBpdCBhY3F1aXJlZCB0aGUgbG9ja1xuICAgKiBkdXJpbmcgYW4gYW5pbWF0aW9uLiBUaGlzIGlzIGEgdmVyeSB1c2VmdWwgZGVmYXVsdCB0aGF0IGhhcHBlbnMgdG8gc2F0aXNmeVxuICAgKiBtYW55IGNvbW1vbiB1c2VyIGV4cGVyaWVuY2VzLlxuICAgKlxuICAgKiAtIFN0b3AgYSBzY3JvbGwgb24gdGhlIGxlZnQgZWRnZSwgdGhlbiB0dXJuIHRoYXQgaW50byBhbiBvdXRlciB2aWV3J3NcbiAgICogICBiYWNrc3dpcGUuXG4gICAqIC0gU3RvcCBhIHNjcm9sbCBtaWQtYm91bmNlIGF0IHRoZSB0b3AsIGNvbnRpbnVlIHB1bGxpbmcgdG8gaGF2ZSB0aGUgb3V0ZXJcbiAgICogICB2aWV3IGRpc21pc3MuXG4gICAqIC0gSG93ZXZlciwgd2l0aG91dCBjYXRjaGluZyB0aGUgc2Nyb2xsIHZpZXcgbWlkLWJvdW5jZSAod2hpbGUgaXQgaXNcbiAgICogICBtb3Rpb25sZXNzKSwgaWYgeW91IGRyYWcgZmFyIGVub3VnaCBmb3IgdGhlIHNjcm9sbCB2aWV3IHRvIGJlY29tZVxuICAgKiAgIHJlc3BvbmRlciAoYW5kIHRoZXJlZm9yZSBkcmFnIHRoZSBzY3JvbGwgdmlldyBhIGJpdCksIGFueSBiYWNrc3dpcGVcbiAgICogICBuYXZpZ2F0aW9uIG9mIGEgc3dpcGUgZ2VzdHVyZSBoaWdoZXIgaW4gdGhlIHZpZXcgaGllcmFyY2h5LCBzaG91bGQgYmVcbiAgICogICByZWplY3RlZC5cbiAgICovXG4gIF9oYW5kbGVSZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3Q6ICgpID0+IGJvb2xlYW4gPSAoKSA9PiB7XG4gICAgcmV0dXJuICF0aGlzLl9vYnNlcnZlZFNjcm9sbFNpbmNlQmVjb21pbmdSZXNwb25kZXI7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uU2Nyb2xsYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVTY3JvbGxTaG91bGRTZXRSZXNwb25kZXI6ICgpID0+IGJvb2xlYW4gPSAoKSA9PiB7XG4gICAgLy8gQWxsb3cgYW55IGV2ZW50IHRvdWNoIHBhc3MgdGhyb3VnaCBpZiB0aGUgZGVmYXVsdCBwYW4gcmVzcG9uZGVyIGlzIGRpc2FibGVkXG4gICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZVNjcm9sbFZpZXdQYW5SZXNwb25kZXIgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2lzVG91Y2hpbmc7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1lcmVseSB0b3VjaCBzdGFydGluZyBpcyBub3Qgc3VmZmljaWVudCBmb3IgYSBzY3JvbGwgdmlldyB0byBiZWNvbWUgdGhlXG4gICAqIHJlc3BvbmRlci4gQmVpbmcgdGhlIFwicmVzcG9uZGVyXCIgbWVhbnMgdGhhdCB0aGUgdmVyeSBuZXh0IHRvdWNoIG1vdmUvZW5kXG4gICAqIGV2ZW50IHdpbGwgcmVzdWx0IGluIGFuIGFjdGlvbi9tb3ZlbWVudC5cbiAgICpcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcmAgZXZlbnQuXG4gICAqXG4gICAqIGBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyYCBpcyB1c2VkIHdoZW4gdGhlIG5leHQgbW92ZS9lbmQgd2lsbCB0cmlnZ2VyXG4gICAqIHNvbWUgVUkgbW92ZW1lbnQvYWN0aW9uLCBidXQgd2hlbiB5b3Ugd2FudCB0byB5aWVsZCBwcmlvcml0eSB0byB2aWV3c1xuICAgKiBuZXN0ZWQgaW5zaWRlIG9mIHRoZSB2aWV3LlxuICAgKlxuICAgKiBUaGVyZSBtYXkgYmUgc29tZSBjYXNlcyB3aGVyZSBzY3JvbGwgdmlld3MgYWN0dWFsbHkgc2hvdWxkIHJldHVybiBgdHJ1ZWBcbiAgICogZnJvbSBgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcmA6IEFueSB0aW1lIHdlIGFyZSBkZXRlY3RpbmcgYSBzdGFuZGFyZCB0YXBcbiAgICogdGhhdCBnaXZlcyBwcmlvcml0eSB0byBuZXN0ZWQgdmlld3MuXG4gICAqXG4gICAqIC0gSWYgYSBzaW5nbGUgdGFwIG9uIHRoZSBzY3JvbGwgdmlldyB0cmlnZ2VycyBhbiBhY3Rpb24gc3VjaCBhc1xuICAgKiAgIHJlY2VudGVyaW5nIGEgbWFwIHN0eWxlIHZpZXcgeWV0IHdhbnRzIHRvIGdpdmUgcHJpb3JpdHkgdG8gaW50ZXJhY3Rpb25cbiAgICogICB2aWV3cyBpbnNpZGUgKHN1Y2ggYXMgZHJvcHBlZCBwaW5zIG9yIGxhYmVscyksIHRoZW4gd2Ugd291bGQgcmV0dXJuIHRydWVcbiAgICogICBmcm9tIHRoaXMgbWV0aG9kIHdoZW4gdGhlcmUgaXMgYSBzaW5nbGUgdG91Y2guXG4gICAqXG4gICAqIC0gU2ltaWxhciB0byB0aGUgcHJldmlvdXMgY2FzZSwgaWYgYSB0d28gZmluZ2VyIFwidGFwXCIgc2hvdWxkIHRyaWdnZXIgYVxuICAgKiAgIHpvb20sIHdlIHdvdWxkIGNoZWNrIHRoZSBgdG91Y2hlc2AgY291bnQsIGFuZCBpZiBgPj0gMmAsIHdlIHdvdWxkIHJldHVyblxuICAgKiAgIHRydWUuXG4gICAqXG4gICAqL1xuICBfaGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXI6IChlOiBQcmVzc0V2ZW50KSA9PiBib29sZWFuID0gKFxuICAgIGU6IFByZXNzRXZlbnQsXG4gICkgPT4ge1xuICAgIC8vIEFsbG93IGFueSBldmVudCB0b3VjaCBwYXNzIHRocm91Z2ggaWYgdGhlIGRlZmF1bHQgcGFuIHJlc3BvbmRlciBpcyBkaXNhYmxlZFxuICAgIGlmICh0aGlzLnByb3BzLmRpc2FibGVTY3JvbGxWaWV3UGFuUmVzcG9uZGVyID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudGx5Rm9jdXNlZElucHV0ID0gVGV4dElucHV0U3RhdGUuY3VycmVudGx5Rm9jdXNlZElucHV0KCk7XG4gICAgaWYgKFxuICAgICAgdGhpcy5wcm9wcy5rZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzID09PSAnaGFuZGxlZCcgJiZcbiAgICAgIHRoaXMuX2tleWJvYXJkSXNEaXNtaXNzaWJsZSgpICYmXG4gICAgICBlLnRhcmdldCAhPT0gY3VycmVudGx5Rm9jdXNlZElucHV0XG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGVyZSBhcmUgdGltZXMgd2hlbiB0aGUgc2Nyb2xsIHZpZXcgd2FudHMgdG8gYmVjb21lIHRoZSByZXNwb25kZXJcbiAgICogKG1lYW5pbmcgcmVzcG9uZCB0byB0aGUgbmV4dCBpbW1lZGlhdGUgYHRvdWNoU3RhcnQvdG91Y2hFbmRgKSwgaW4gYSB3YXlcbiAgICogdGhhdCAqZG9lc24ndCogZ2l2ZSBwcmlvcml0eSB0byBuZXN0ZWQgdmlld3MgKGhlbmNlIHRoZSBjYXB0dXJlIHBoYXNlKTpcbiAgICpcbiAgICogLSBDdXJyZW50bHkgYW5pbWF0aW5nLlxuICAgKiAtIFRhcHBpbmcgYW55d2hlcmUgdGhhdCBpcyBub3QgYSB0ZXh0IGlucHV0LCB3aGlsZSB0aGUga2V5Ym9hcmQgaXNcbiAgICogICB1cCAod2hpY2ggc2hvdWxkIGRpc21pc3MgdGhlIGtleWJvYXJkKS5cbiAgICpcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25TdGFydFNob3VsZFNldFJlc3BvbmRlckNhcHR1cmVgIGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZTogKGU6IFByZXNzRXZlbnQpID0+IGJvb2xlYW4gPSAoXG4gICAgZTogUHJlc3NFdmVudCxcbiAgKSA9PiB7XG4gICAgLy8gVGhlIHNjcm9sbCB2aWV3IHNob3VsZCByZWNlaXZlIHRhcHMgaW5zdGVhZCBvZiBpdHMgZGVzY2VuZGFudHMgaWY6XG4gICAgLy8gKiBpdCBpcyBhbHJlYWR5IGFuaW1hdGluZy9kZWNlbGVyYXRpbmdcbiAgICBpZiAodGhpcy5faXNBbmltYXRpbmcoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gQWxsb3cgYW55IGV2ZW50IHRvdWNoIHBhc3MgdGhyb3VnaCBpZiB0aGUgZGVmYXVsdCBwYW4gcmVzcG9uZGVyIGlzIGRpc2FibGVkXG4gICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZVNjcm9sbFZpZXdQYW5SZXNwb25kZXIgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyAqIHRoZSBrZXlib2FyZCBpcyB1cCwga2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyBpcyAnbmV2ZXInICh0aGUgZGVmYXVsdCksXG4gICAgLy8gYW5kIGEgbmV3IHRvdWNoIHN0YXJ0cyB3aXRoIGEgbm9uLXRleHRpbnB1dCB0YXJnZXQgKGluIHdoaWNoIGNhc2UgdGhlXG4gICAgLy8gZmlyc3QgdGFwIHNob3VsZCBiZSBzZW50IHRvIHRoZSBzY3JvbGwgdmlldyBhbmQgZGlzbWlzcyB0aGUga2V5Ym9hcmQsXG4gICAgLy8gdGhlbiB0aGUgc2Vjb25kIHRhcCBnb2VzIHRvIHRoZSBhY3R1YWwgaW50ZXJpb3IgdmlldylcbiAgICBjb25zdCB7a2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwc30gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGtleWJvYXJkTmV2ZXJQZXJzaXN0VGFwcyA9XG4gICAgICAha2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyB8fCBrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzID09PSAnbmV2ZXInO1xuXG4gICAgaWYgKHR5cGVvZiBlLnRhcmdldCA9PT0gJ251bWJlcicpIHtcbiAgICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ0RpZCBub3QgZXhwZWN0IGV2ZW50IHRhcmdldCB0byBiZSBhIG51bWJlci4gU2hvdWxkIGhhdmUgYmVlbiBhIG5hdGl2ZSBjb21wb25lbnQnLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gTGV0IHByZXNzZXMgdGhyb3VnaCBpZiB0aGUgc29mdCBrZXlib2FyZCBpcyBkZXRhY2hlZCBmcm9tIHRoZSB2aWV3cG9ydFxuICAgIGlmICh0aGlzLl9zb2Z0S2V5Ym9hcmRJc0RldGFjaGVkKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBrZXlib2FyZE5ldmVyUGVyc2lzdFRhcHMgJiZcbiAgICAgIHRoaXMuX2tleWJvYXJkSXNEaXNtaXNzaWJsZSgpICYmXG4gICAgICBlLnRhcmdldCAhPSBudWxsICYmXG4gICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1jYWxsXVxuICAgICAgIVRleHRJbnB1dFN0YXRlLmlzVGV4dElucHV0KGUudGFyZ2V0KVxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEbyB3ZSBjb25zaWRlciB0aGVyZSB0byBiZSBhIGRpc21pc3NpYmxlIHNvZnQta2V5Ym9hcmQgb3Blbj9cbiAgICovXG4gIF9rZXlib2FyZElzRGlzbWlzc2libGU6ICgpID0+IGJvb2xlYW4gPSAoKSA9PiB7XG4gICAgY29uc3QgY3VycmVudGx5Rm9jdXNlZElucHV0ID0gVGV4dElucHV0U3RhdGUuY3VycmVudGx5Rm9jdXNlZElucHV0KCk7XG5cbiAgICAvLyBXZSBjYW5ub3QgZGlzbWlzcyB0aGUga2V5Ym9hcmQgd2l0aG91dCBhbiBpbnB1dCB0byBibHVyLCBldmVuIGlmIGEgc29mdFxuICAgIC8vIGtleWJvYXJkIGlzIG9wZW4gKGUuZy4gd2hlbiBrZXlib2FyZCBpcyBvcGVuIGR1ZSB0byBhIG5hdGl2ZSBjb21wb25lbnRcbiAgICAvLyBub3QgcGFydGljaXBhdGluZyBpbiBUZXh0SW5wdXRTdGF0ZSkuIEl0J3MgYWxzbyBwb3NzaWJsZSB0aGF0IHRoZVxuICAgIC8vIGN1cnJlbnRseSBmb2N1c2VkIGlucHV0IGlzbid0IGEgVGV4dElucHV0IChzdWNoIGFzIGJ5IGNhbGxpbmcgcmVmLmZvY3VzXG4gICAgLy8gb24gYSBub24tVGV4dElucHV0KS5cbiAgICBjb25zdCBoYXNGb2N1c2VkVGV4dElucHV0ID1cbiAgICAgIGN1cnJlbnRseUZvY3VzZWRJbnB1dCAhPSBudWxsICYmXG4gICAgICBUZXh0SW5wdXRTdGF0ZS5pc1RleHRJbnB1dChjdXJyZW50bHlGb2N1c2VkSW5wdXQpO1xuXG4gICAgLy8gRXZlbiBpZiBhbiBpbnB1dCBpcyBmb2N1c2VkLCB3ZSBtYXkgbm90IGhhdmUgYSBrZXlib2FyZCB0byBkaXNtaXNzLiBFLmdcbiAgICAvLyB3aGVuIHVzaW5nIGEgcGh5c2ljYWwga2V5Ym9hcmQuIEVuc3VyZSB3ZSBoYXZlIGFuIGV2ZW50IGZvciBhbiBvcGVuZWRcbiAgICAvLyBrZXlib2FyZC5cbiAgICBjb25zdCBzb2Z0S2V5Ym9hcmRNYXlCZU9wZW4gPVxuICAgICAgdGhpcy5fa2V5Ym9hcmRNZXRyaWNzICE9IG51bGwgfHwgdGhpcy5fa2V5Ym9hcmRFdmVudHNBcmVVbnJlbGlhYmxlKCk7XG5cbiAgICByZXR1cm4gaGFzRm9jdXNlZFRleHRJbnB1dCAmJiBzb2Z0S2V5Ym9hcmRNYXlCZU9wZW47XG4gIH07XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgYW4gb3BlbiBzb2Z0IGtleWJvYXJkIGlzIHByZXNlbnQgd2hpY2ggZG9lcyBub3Qgb3ZlcmxhcCB0aGVcbiAgICogdmlld3BvcnQuIEUuZy4gZm9yIGEgVlIgc29mdC1rZXlib2FyZCB3aGljaCBpcyBkZXRhY2hlZCBmcm9tIHRoZSBhcHBcbiAgICogdmlld3BvcnQuXG4gICAqL1xuICBfc29mdEtleWJvYXJkSXNEZXRhY2hlZDogKCkgPT4gYm9vbGVhbiA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5fa2V5Ym9hcmRNZXRyaWNzICE9IG51bGwgJiYgdGhpcy5fa2V5Ym9hcmRNZXRyaWNzLmhlaWdodCA9PT0gMDtcbiAgfTtcblxuICBfa2V5Ym9hcmRFdmVudHNBcmVVbnJlbGlhYmxlOiAoKSA9PiBib29sZWFuID0gKCkgPT4ge1xuICAgIC8vIEFuZHJvaWQgdmVyc2lvbnMgcHJpb3IgdG8gQVBJIDMwIHJlbHkgb24gb2JzZXJ2aW5nIGxheW91dCBjaGFuZ2VzIHdoZW5cbiAgICAvLyBgYW5kcm9pZDp3aW5kb3dTb2Z0SW5wdXRNb2RlYCBpcyBzZXQgdG8gYGFkanVzdFJlc2l6ZWAgb3IgYGFkanVzdFBhbmAuXG4gICAgcmV0dXJuIFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcgJiYgUGxhdGZvcm0uVmVyc2lvbiA8IDMwO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblRvdWNoRW5kYCBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtQcmVzc0V2ZW50fSBlIEV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVRvdWNoRW5kOiAoZTogUHJlc3NFdmVudCkgPT4gdm9pZCA9IChlOiBQcmVzc0V2ZW50KSA9PiB7XG4gICAgY29uc3QgbmF0aXZlRXZlbnQgPSBlLm5hdGl2ZUV2ZW50O1xuICAgIHRoaXMuX2lzVG91Y2hpbmcgPSBuYXRpdmVFdmVudC50b3VjaGVzLmxlbmd0aCAhPT0gMDtcblxuICAgIGNvbnN0IHtrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qga2V5Ym9hcmROZXZlclBlcnNpc3RzVGFwcyA9XG4gICAgICAha2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyB8fCBrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzID09PSAnbmV2ZXInO1xuXG4gICAgLy8gRGlzbWlzcyB0aGUga2V5Ym9hcmQgbm93IGlmIHdlIGRpZG4ndCBiZWNvbWUgcmVzcG9uZGVyIGluIGNhcHR1cmUgcGhhc2VcbiAgICAvLyB0byBlYXQgcHJlc3NlcywgYnV0IHN0aWxsIHdhbnQgdG8gZGlzbWlzcyBvbiBpbnRlcmFjdGlvbi5cbiAgICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiB0aGUgdGFyZ2V0IG9mIHRoZSB0b3VjaCBldmVudCBpcyB0aGUgY3VycmVudCBpbnB1dC5cbiAgICBjb25zdCBjdXJyZW50bHlGb2N1c2VkVGV4dElucHV0ID0gVGV4dElucHV0U3RhdGUuY3VycmVudGx5Rm9jdXNlZElucHV0KCk7XG4gICAgaWYgKFxuICAgICAgY3VycmVudGx5Rm9jdXNlZFRleHRJbnB1dCAhPSBudWxsICYmXG4gICAgICBlLnRhcmdldCAhPT0gY3VycmVudGx5Rm9jdXNlZFRleHRJbnB1dCAmJlxuICAgICAgdGhpcy5fc29mdEtleWJvYXJkSXNEZXRhY2hlZCgpICYmXG4gICAgICB0aGlzLl9rZXlib2FyZElzRGlzbWlzc2libGUoKSAmJlxuICAgICAga2V5Ym9hcmROZXZlclBlcnNpc3RzVGFwc1xuICAgICkge1xuICAgICAgVGV4dElucHV0U3RhdGUuYmx1clRleHRJbnB1dChjdXJyZW50bHlGb2N1c2VkVGV4dElucHV0KTtcbiAgICB9XG5cbiAgICB0aGlzLnByb3BzLm9uVG91Y2hFbmQgJiYgdGhpcy5wcm9wcy5vblRvdWNoRW5kKGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblRvdWNoQ2FuY2VsYCBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtQcmVzc0V2ZW50fSBlIEV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVRvdWNoQ2FuY2VsOiAoZTogUHJlc3NFdmVudCkgPT4gdm9pZCA9IChlOiBQcmVzc0V2ZW50KSA9PiB7XG4gICAgdGhpcy5faXNUb3VjaGluZyA9IGZhbHNlO1xuICAgIHRoaXMucHJvcHMub25Ub3VjaENhbmNlbCAmJiB0aGlzLnByb3BzLm9uVG91Y2hDYW5jZWwoZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uVG91Y2hTdGFydGAgZXZlbnQuXG4gICAqXG4gICAqIFNpbmNlIHdlIGtub3cgdGhhdCB0aGUgYFNpbXBsZUV2ZW50UGx1Z2luYCBvY2N1cnMgbGF0ZXIgaW4gdGhlIHBsdWdpblxuICAgKiBvcmRlciwgYWZ0ZXIgYFJlc3BvbmRlckV2ZW50UGx1Z2luYCwgd2UgY2FuIGRldGVjdCB0aGF0IHdlIHdlcmUgKm5vdCpcbiAgICogcGVybWl0dGVkIHRvIGJlIHRoZSByZXNwb25kZXIgKHByZXN1bWFibHkgYmVjYXVzZSBhIGNvbnRhaW5lZCB2aWV3IGJlY2FtZVxuICAgKiByZXNwb25kZXIpLiBUaGUgYG9uUmVzcG9uZGVyUmVqZWN0YCB3b24ndCBmaXJlIGluIHRoYXQgY2FzZSAtIGl0IG9ubHlcbiAgICogZmlyZXMgd2hlbiBhICpjdXJyZW50KiByZXNwb25kZXIgcmVqZWN0cyBvdXIgcmVxdWVzdC5cbiAgICpcbiAgICogQHBhcmFtIHtQcmVzc0V2ZW50fSBlIFRvdWNoIFN0YXJ0IGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVRvdWNoU3RhcnQ6IChlOiBQcmVzc0V2ZW50KSA9PiB2b2lkID0gKGU6IFByZXNzRXZlbnQpID0+IHtcbiAgICB0aGlzLl9pc1RvdWNoaW5nID0gdHJ1ZTtcbiAgICB0aGlzLnByb3BzLm9uVG91Y2hTdGFydCAmJiB0aGlzLnByb3BzLm9uVG91Y2hTdGFydChlKTtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25Ub3VjaE1vdmVgIGV2ZW50LlxuICAgKlxuICAgKiBTaW5jZSB3ZSBrbm93IHRoYXQgdGhlIGBTaW1wbGVFdmVudFBsdWdpbmAgb2NjdXJzIGxhdGVyIGluIHRoZSBwbHVnaW5cbiAgICogb3JkZXIsIGFmdGVyIGBSZXNwb25kZXJFdmVudFBsdWdpbmAsIHdlIGNhbiBkZXRlY3QgdGhhdCB3ZSB3ZXJlICpub3QqXG4gICAqIHBlcm1pdHRlZCB0byBiZSB0aGUgcmVzcG9uZGVyIChwcmVzdW1hYmx5IGJlY2F1c2UgYSBjb250YWluZWQgdmlldyBiZWNhbWVcbiAgICogcmVzcG9uZGVyKS4gVGhlIGBvblJlc3BvbmRlclJlamVjdGAgd29uJ3QgZmlyZSBpbiB0aGF0IGNhc2UgLSBpdCBvbmx5XG4gICAqIGZpcmVzIHdoZW4gYSAqY3VycmVudCogcmVzcG9uZGVyIHJlamVjdHMgb3VyIHJlcXVlc3QuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJlc3NFdmVudH0gZSBUb3VjaCBTdGFydCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVUb3VjaE1vdmU6IChlOiBQcmVzc0V2ZW50KSA9PiB2b2lkID0gKGU6IFByZXNzRXZlbnQpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uVG91Y2hNb3ZlICYmIHRoaXMucHJvcHMub25Ub3VjaE1vdmUoZSk7XG4gIH07XG5cbiAgcmVuZGVyKCk6IFJlYWN0Lk5vZGUge1xuICAgIGNvbnN0IGhvcml6b250YWwgPSB0aGlzLnByb3BzLmhvcml6b250YWwgPT09IHRydWU7XG5cbiAgICBjb25zdCBOYXRpdmVTY3JvbGxWaWV3ID0gaG9yaXpvbnRhbFxuICAgICAgPyBIU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudFxuICAgICAgOiBWU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudDtcblxuICAgIGNvbnN0IE5hdGl2ZVNjcm9sbENvbnRlbnRWaWV3ID0gaG9yaXpvbnRhbFxuICAgICAgPyBIU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnRcbiAgICAgIDogVlNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50O1xuXG4gICAgY29uc3QgY29udGVudENvbnRhaW5lclN0eWxlID0gW1xuICAgICAgaG9yaXpvbnRhbCAmJiBzdHlsZXMuY29udGVudENvbnRhaW5lckhvcml6b250YWwsXG4gICAgICB0aGlzLnByb3BzLmNvbnRlbnRDb250YWluZXJTdHlsZSxcbiAgICBdO1xuICAgIGlmIChfX0RFVl9fICYmIHRoaXMucHJvcHMuc3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gJEZsb3dGaXhNZVt1bmRlcmNvbnN0cmFpbmVkLWltcGxpY2l0LWluc3RhbnRpYXRpb25dXG4gICAgICBjb25zdCBzdHlsZSA9IGZsYXR0ZW5TdHlsZSh0aGlzLnByb3BzLnN0eWxlKTtcbiAgICAgIGNvbnN0IGNoaWxkTGF5b3V0UHJvcHMgPSBbJ2FsaWduSXRlbXMnLCAnanVzdGlmeUNvbnRlbnQnXS5maWx0ZXIoXG4gICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXVzZV1cbiAgICAgICAgcHJvcCA9PiBzdHlsZSAmJiBzdHlsZVtwcm9wXSAhPT0gdW5kZWZpbmVkLFxuICAgICAgKTtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgY2hpbGRMYXlvdXRQcm9wcy5sZW5ndGggPT09IDAsXG4gICAgICAgICdTY3JvbGxWaWV3IGNoaWxkIGxheW91dCAoJyArXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkoY2hpbGRMYXlvdXRQcm9wcykgK1xuICAgICAgICAgICcpIG11c3QgYmUgYXBwbGllZCB0aHJvdWdoIHRoZSBjb250ZW50Q29udGFpbmVyU3R5bGUgcHJvcC4nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBjb250ZW50U2l6ZUNoYW5nZVByb3BzID1cbiAgICAgIHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSA9PSBudWxsXG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IHtcbiAgICAgICAgICAgIG9uTGF5b3V0OiB0aGlzLl9oYW5kbGVDb250ZW50T25MYXlvdXQsXG4gICAgICAgICAgfTtcblxuICAgIGNvbnN0IHtzdGlja3lIZWFkZXJJbmRpY2VzfSA9IHRoaXMucHJvcHM7XG4gICAgbGV0IGNoaWxkcmVuID0gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiBjYXVzZSB1bm5lY2Vzc2FyeSByZW1vdW50IHdoZW4gbmVzdGVkIGluIGNvbmRpdGlvbmFscyBhcyBpdCBjYXVzZXMgcmVtYXAgb2YgY2hpbGRyZW4ga2V5cy5cbiAgICAgKiBodHRwczovL3JlYWN0LmRldi9yZWZlcmVuY2UvcmVhY3QvQ2hpbGRyZW4jY2hpbGRyZW4tdG9hcnJheS1jYXZlYXRzXG4gICAgICovXG4gICAgY2hpbGRyZW4gPSBSZWFjdC5DaGlsZHJlbi50b0FycmF5PCRGbG93Rml4TWU+KGNoaWxkcmVuKTtcblxuICAgIGlmIChzdGlja3lIZWFkZXJJbmRpY2VzICE9IG51bGwgJiYgc3RpY2t5SGVhZGVySW5kaWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjaGlsZHJlbiA9IGNoaWxkcmVuLm1hcCgoY2hpbGQsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGluZGV4T2ZJbmRleCA9IGNoaWxkID8gc3RpY2t5SGVhZGVySW5kaWNlcy5pbmRleE9mKGluZGV4KSA6IC0xO1xuICAgICAgICBpZiAoaW5kZXhPZkluZGV4ID4gLTEpIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSBjaGlsZC5rZXk7XG4gICAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gc3RpY2t5SGVhZGVySW5kaWNlc1tpbmRleE9mSW5kZXggKyAxXTtcbiAgICAgICAgICBjb25zdCBTdGlja3lIZWFkZXJDb21wb25lbnQgPVxuICAgICAgICAgICAgdGhpcy5wcm9wcy5TdGlja3lIZWFkZXJDb21wb25lbnQgfHwgU2Nyb2xsVmlld1N0aWNreUhlYWRlcjtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFN0aWNreUhlYWRlckNvbXBvbmVudFxuICAgICAgICAgICAgICBrZXk9e2tleX1cbiAgICAgICAgICAgICAgcmVmPXtyZWYgPT4gdGhpcy5fc2V0U3RpY2t5SGVhZGVyUmVmKGtleSwgcmVmKX1cbiAgICAgICAgICAgICAgbmV4dEhlYWRlckxheW91dFk9e3RoaXMuX2hlYWRlckxheW91dFlzLmdldChcbiAgICAgICAgICAgICAgICB0aGlzLl9nZXRLZXlGb3JJbmRleChuZXh0SW5kZXgsIGNoaWxkcmVuKSxcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgb25MYXlvdXQ9e2V2ZW50ID0+IHRoaXMuX29uU3RpY2t5SGVhZGVyTGF5b3V0KGluZGV4LCBldmVudCwga2V5KX1cbiAgICAgICAgICAgICAgc2Nyb2xsQW5pbWF0ZWRWYWx1ZT17dGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZX1cbiAgICAgICAgICAgICAgaW52ZXJ0ZWQ9e3RoaXMucHJvcHMuaW52ZXJ0U3RpY2t5SGVhZGVyc31cbiAgICAgICAgICAgICAgaGlkZGVuT25TY3JvbGw9e3RoaXMucHJvcHMuc3RpY2t5SGVhZGVySGlkZGVuT25TY3JvbGx9XG4gICAgICAgICAgICAgIHNjcm9sbFZpZXdIZWlnaHQ9e3RoaXMuc3RhdGUubGF5b3V0SGVpZ2h0fT5cbiAgICAgICAgICAgICAge2NoaWxkfVxuICAgICAgICAgICAgPC9TdGlja3lIZWFkZXJDb21wb25lbnQ+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBjaGlsZHJlbiA9IChcbiAgICAgIDxTY3JvbGxWaWV3Q29udGV4dC5Qcm92aWRlciB2YWx1ZT17aG9yaXpvbnRhbCA/IEhPUklaT05UQUwgOiBWRVJUSUNBTH0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvU2Nyb2xsVmlld0NvbnRleHQuUHJvdmlkZXI+XG4gICAgKTtcblxuICAgIGNvbnN0IGhhc1N0aWNreUhlYWRlcnMgPVxuICAgICAgQXJyYXkuaXNBcnJheShzdGlja3lIZWFkZXJJbmRpY2VzKSAmJiBzdGlja3lIZWFkZXJJbmRpY2VzLmxlbmd0aCA+IDA7XG5cbiAgICAvLyBTb21lIFNjcm9sbFZpZXcgbmF0aXZlIGNvbXBvbmVudCBiZWhhdmlvcnMgcmVseSBvbiB1c2luZyB0aGUgbWV0cmljc1xuICAgIC8vIG9mIG1vdW50ZWQgdmlld3MgZm9yIGFuY2hvcmluZy4gTWFrZSBzdXJlIG5vdCB0byBmbGF0dGVuIGNoaWxkcmVuIGlmXG4gICAgLy8gdGhpcyBpcyB0aGUgY2FzZS5cbiAgICBjb25zdCBwcmVzZXJ2ZUNoaWxkcmVuID1cbiAgICAgIHRoaXMucHJvcHMubWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uICE9IG51bGwgfHxcbiAgICAgIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnICYmIHRoaXMucHJvcHMuc25hcFRvQWxpZ25tZW50ICE9IG51bGwpO1xuXG4gICAgY29uc3QgY29udGVudENvbnRhaW5lciA9IChcbiAgICAgIDxOYXRpdmVTY3JvbGxDb250ZW50Vmlld1xuICAgICAgICB7Li4uY29udGVudFNpemVDaGFuZ2VQcm9wc31cbiAgICAgICAgcmVmPXt0aGlzLl9pbm5lclZpZXcuZ2V0Rm9yd2FyZGluZ1JlZih0aGlzLnByb3BzLmlubmVyVmlld1JlZil9XG4gICAgICAgIHN0eWxlPXtjb250ZW50Q29udGFpbmVyU3R5bGV9XG4gICAgICAgIHJlbW92ZUNsaXBwZWRTdWJ2aWV3cz17XG4gICAgICAgICAgLy8gU3VidmlldyBjbGlwcGluZyBjYXVzZXMgaXNzdWVzIHdpdGggc3RpY2t5IGhlYWRlcnMgb24gQW5kcm9pZCBhbmRcbiAgICAgICAgICAvLyB3b3VsZCBiZSBoYXJkIHRvIGZpeCBwcm9wZXJseSBpbiBhIHBlcmZvcm1hbnQgd2F5LlxuICAgICAgICAgIFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcgJiYgaGFzU3RpY2t5SGVhZGVyc1xuICAgICAgICAgICAgPyBmYWxzZVxuICAgICAgICAgICAgOiB0aGlzLnByb3BzLnJlbW92ZUNsaXBwZWRTdWJ2aWV3c1xuICAgICAgICB9XG4gICAgICAgIGNvbGxhcHNhYmxlPXtmYWxzZX1cbiAgICAgICAgY29sbGFwc2FibGVDaGlsZHJlbj17IXByZXNlcnZlQ2hpbGRyZW59PlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L05hdGl2ZVNjcm9sbENvbnRlbnRWaWV3PlxuICAgICk7XG5cbiAgICBjb25zdCBhbHdheXNCb3VuY2VIb3Jpem9udGFsID1cbiAgICAgIHRoaXMucHJvcHMuYWx3YXlzQm91bmNlSG9yaXpvbnRhbCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gdGhpcy5wcm9wcy5hbHdheXNCb3VuY2VIb3Jpem9udGFsXG4gICAgICAgIDogdGhpcy5wcm9wcy5ob3Jpem9udGFsO1xuXG4gICAgY29uc3QgYWx3YXlzQm91bmNlVmVydGljYWwgPVxuICAgICAgdGhpcy5wcm9wcy5hbHdheXNCb3VuY2VWZXJ0aWNhbCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gdGhpcy5wcm9wcy5hbHdheXNCb3VuY2VWZXJ0aWNhbFxuICAgICAgICA6ICF0aGlzLnByb3BzLmhvcml6b250YWw7XG5cbiAgICBjb25zdCBiYXNlU3R5bGUgPSBob3Jpem9udGFsID8gc3R5bGVzLmJhc2VIb3Jpem9udGFsIDogc3R5bGVzLmJhc2VWZXJ0aWNhbDtcblxuICAgIGNvbnN0IHtleHBlcmltZW50YWxfZW5kRHJhZ2dpbmdTZW5zaXRpdml0eU11bHRpcGxpZXIsIC4uLm90aGVyUHJvcHN9ID1cbiAgICAgIHRoaXMucHJvcHM7XG4gICAgY29uc3QgcHJvcHMgPSB7XG4gICAgICAuLi5vdGhlclByb3BzLFxuICAgICAgYWx3YXlzQm91bmNlSG9yaXpvbnRhbCxcbiAgICAgIGFsd2F5c0JvdW5jZVZlcnRpY2FsLFxuICAgICAgc3R5bGU6IFN0eWxlU2hlZXQuY29tcG9zZShiYXNlU3R5bGUsIHRoaXMucHJvcHMuc3R5bGUpLFxuICAgICAgLy8gT3ZlcnJpZGUgdGhlIG9uQ29udGVudFNpemVDaGFuZ2UgZnJvbSBwcm9wcywgc2luY2UgdGhpcyBldmVudCBjYW5cbiAgICAgIC8vIGJ1YmJsZSB1cCBmcm9tIFRleHRJbnB1dHNcbiAgICAgIG9uQ29udGVudFNpemVDaGFuZ2U6IG51bGwsXG4gICAgICBvbkxheW91dDogdGhpcy5faGFuZGxlTGF5b3V0LFxuICAgICAgb25Nb21lbnR1bVNjcm9sbEJlZ2luOiB0aGlzLl9oYW5kbGVNb21lbnR1bVNjcm9sbEJlZ2luLFxuICAgICAgb25Nb21lbnR1bVNjcm9sbEVuZDogdGhpcy5faGFuZGxlTW9tZW50dW1TY3JvbGxFbmQsXG4gICAgICBvblJlc3BvbmRlckdyYW50OiB0aGlzLl9oYW5kbGVSZXNwb25kZXJHcmFudCxcbiAgICAgIG9uUmVzcG9uZGVyUmVqZWN0OiB0aGlzLl9oYW5kbGVSZXNwb25kZXJSZWplY3QsXG4gICAgICBvblJlc3BvbmRlclJlbGVhc2U6IHRoaXMuX2hhbmRsZVJlc3BvbmRlclJlbGVhc2UsXG4gICAgICBvblJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdDogdGhpcy5faGFuZGxlUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0LFxuICAgICAgb25TY3JvbGxCZWdpbkRyYWc6IHRoaXMuX2hhbmRsZVNjcm9sbEJlZ2luRHJhZyxcbiAgICAgIG9uU2Nyb2xsRW5kRHJhZzogdGhpcy5faGFuZGxlU2Nyb2xsRW5kRHJhZyxcbiAgICAgIG9uU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyOiB0aGlzLl9oYW5kbGVTY3JvbGxTaG91bGRTZXRSZXNwb25kZXIsXG4gICAgICBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyOiB0aGlzLl9oYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlcixcbiAgICAgIG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlOlxuICAgICAgICB0aGlzLl9oYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlckNhcHR1cmUsXG4gICAgICBvblRvdWNoRW5kOiB0aGlzLl9oYW5kbGVUb3VjaEVuZCxcbiAgICAgIG9uVG91Y2hNb3ZlOiB0aGlzLl9oYW5kbGVUb3VjaE1vdmUsXG4gICAgICBvblRvdWNoU3RhcnQ6IHRoaXMuX2hhbmRsZVRvdWNoU3RhcnQsXG4gICAgICBvblRvdWNoQ2FuY2VsOiB0aGlzLl9oYW5kbGVUb3VjaENhbmNlbCxcbiAgICAgIG9uU2Nyb2xsOiB0aGlzLl9oYW5kbGVTY3JvbGwsXG4gICAgICBlbmREcmFnZ2luZ1NlbnNpdGl2aXR5TXVsdGlwbGllcjpcbiAgICAgICAgZXhwZXJpbWVudGFsX2VuZERyYWdnaW5nU2Vuc2l0aXZpdHlNdWx0aXBsaWVyLFxuICAgICAgc2Nyb2xsRXZlbnRUaHJvdHRsZTogaGFzU3RpY2t5SGVhZGVyc1xuICAgICAgICA/IDFcbiAgICAgICAgOiB0aGlzLnByb3BzLnNjcm9sbEV2ZW50VGhyb3R0bGUsXG4gICAgICBzZW5kTW9tZW50dW1FdmVudHM6XG4gICAgICAgIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEJlZ2luIHx8IHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEVuZFxuICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgIDogZmFsc2UsXG4gICAgICAvLyBkZWZhdWx0IHRvIHRydWVcbiAgICAgIHNuYXBUb1N0YXJ0OiB0aGlzLnByb3BzLnNuYXBUb1N0YXJ0ICE9PSBmYWxzZSxcbiAgICAgIC8vIGRlZmF1bHQgdG8gdHJ1ZVxuICAgICAgc25hcFRvRW5kOiB0aGlzLnByb3BzLnNuYXBUb0VuZCAhPT0gZmFsc2UsXG4gICAgICAvLyBwYWdpbmdFbmFibGVkIGlzIG92ZXJyaWRkZW4gYnkgc25hcFRvSW50ZXJ2YWwgLyBzbmFwVG9PZmZzZXRzXG4gICAgICBwYWdpbmdFbmFibGVkOiBQbGF0Zm9ybS5zZWxlY3Qoe1xuICAgICAgICAvLyBvbiBpT1MsIHBhZ2luZ0VuYWJsZWQgbXVzdCBiZSBzZXQgdG8gZmFsc2UgdG8gaGF2ZSBzbmFwVG9JbnRlcnZhbCAvIHNuYXBUb09mZnNldHMgd29ya1xuICAgICAgICBpb3M6XG4gICAgICAgICAgdGhpcy5wcm9wcy5wYWdpbmdFbmFibGVkID09PSB0cnVlICYmXG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9JbnRlcnZhbCA9PSBudWxsICYmXG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9PZmZzZXRzID09IG51bGwsXG4gICAgICAgIC8vIG9uIEFuZHJvaWQsIHBhZ2luZ0VuYWJsZWQgbXVzdCBiZSBzZXQgdG8gdHJ1ZSB0byBoYXZlIHNuYXBUb0ludGVydmFsIC8gc25hcFRvT2Zmc2V0cyB3b3JrXG4gICAgICAgIGFuZHJvaWQ6XG4gICAgICAgICAgdGhpcy5wcm9wcy5wYWdpbmdFbmFibGVkID09PSB0cnVlIHx8XG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9JbnRlcnZhbCAhPSBudWxsIHx8XG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9PZmZzZXRzICE9IG51bGwsXG4gICAgICB9KSxcbiAgICB9O1xuXG4gICAgY29uc3Qge2RlY2VsZXJhdGlvblJhdGV9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoZGVjZWxlcmF0aW9uUmF0ZSAhPSBudWxsKSB7XG4gICAgICBwcm9wcy5kZWNlbGVyYXRpb25SYXRlID0gcHJvY2Vzc0RlY2VsZXJhdGlvblJhdGUoZGVjZWxlcmF0aW9uUmF0ZSk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVmcmVzaENvbnRyb2wgPSB0aGlzLnByb3BzLnJlZnJlc2hDb250cm9sO1xuICAgIGNvbnN0IHNjcm9sbFZpZXdSZWY6IFJlYWN0LlJlZlNldHRlcjxUU2Nyb2xsVmlld05hdGl2ZUltcGVyYXRpdmVIYW5kbGUgfCBudWxsPiA9XG4gICAgICB0aGlzLl9zY3JvbGxWaWV3LmdldEZvcndhcmRpbmdSZWYodGhpcy5wcm9wcy5zY3JvbGxWaWV3UmVmKTtcblxuICAgIGlmIChyZWZyZXNoQ29udHJvbCkge1xuICAgICAgaWYgKFBsYXRmb3JtLk9TID09PSAnaW9zJykge1xuICAgICAgICAvLyBPbiBpT1MgdGhlIFJlZnJlc2hDb250cm9sIGlzIGEgY2hpbGQgb2YgdGhlIFNjcm9sbFZpZXcuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZV0gLSBGbG93IG9ubHkga25vd3MgZWxlbWVudCByZWZzLlxuICAgICAgICAgIDxOYXRpdmVTY3JvbGxWaWV3IHsuLi5wcm9wc30gcmVmPXtzY3JvbGxWaWV3UmVmfT5cbiAgICAgICAgICAgIHtyZWZyZXNoQ29udHJvbH1cbiAgICAgICAgICAgIHtjb250ZW50Q29udGFpbmVyfVxuICAgICAgICAgIDwvTmF0aXZlU2Nyb2xsVmlldz5cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJykge1xuICAgICAgICAvLyBPbiBBbmRyb2lkIHdyYXAgdGhlIFNjcm9sbFZpZXcgd2l0aCBhIEFuZHJvaWRTd2lwZVJlZnJlc2hMYXlvdXQuXG4gICAgICAgIC8vIFNpbmNlIHRoZSBTY3JvbGxWaWV3IGlzIHdyYXBwZWQgYWRkIHRoZSBzdHlsZSBwcm9wcyB0byB0aGVcbiAgICAgICAgLy8gQW5kcm9pZFN3aXBlUmVmcmVzaExheW91dCBhbmQgdXNlIGZsZXg6IDEgZm9yIHRoZSBTY3JvbGxWaWV3LlxuICAgICAgICAvLyBOb3RlOiB3ZSBzaG91bGQgc3BsaXQgcHJvcHMuc3R5bGUgb24gdGhlIGlubmVyIGFuZCBvdXRlciBwcm9wc1xuICAgICAgICAvLyBob3dldmVyLCB0aGUgU2Nyb2xsVmlldyBzdGlsbCBuZWVkcyB0aGUgYmFzZVN0eWxlIHRvIGJlIHNjcm9sbGFibGVcbiAgICAgICAgLy8gJEZsb3dGaXhNZVt1bmRlcmNvbnN0cmFpbmVkLWltcGxpY2l0LWluc3RhbnRpYXRpb25dXG4gICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLWNhbGxdXG4gICAgICAgIGNvbnN0IHtvdXRlciwgaW5uZXJ9ID0gc3BsaXRMYXlvdXRQcm9wcyhmbGF0dGVuU3R5bGUocHJvcHMuc3R5bGUpKTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChcbiAgICAgICAgICByZWZyZXNoQ29udHJvbCxcbiAgICAgICAgICB7c3R5bGU6IFN0eWxlU2hlZXQuY29tcG9zZShiYXNlU3R5bGUsIG91dGVyKX0sXG4gICAgICAgICAgPE5hdGl2ZVNjcm9sbFZpZXdcbiAgICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICAgIHN0eWxlPXtTdHlsZVNoZWV0LmNvbXBvc2UoYmFzZVN0eWxlLCBpbm5lcil9XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlXSAtIEZsb3cgb25seSBrbm93cyBlbGVtZW50IHJlZnMuXG4gICAgICAgICAgICByZWY9e3Njcm9sbFZpZXdSZWZ9PlxuICAgICAgICAgICAge2NvbnRlbnRDb250YWluZXJ9XG4gICAgICAgICAgPC9OYXRpdmVTY3JvbGxWaWV3PixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdIC0gRmxvdyBvbmx5IGtub3dzIGVsZW1lbnQgcmVmcy5cbiAgICAgIDxOYXRpdmVTY3JvbGxWaWV3IHsuLi5wcm9wc30gcmVmPXtzY3JvbGxWaWV3UmVmfT5cbiAgICAgICAge2NvbnRlbnRDb250YWluZXJ9XG4gICAgICA8L05hdGl2ZVNjcm9sbFZpZXc+XG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gIGJhc2VWZXJ0aWNhbDoge1xuICAgIGZsZXhHcm93OiAxLFxuICAgIGZsZXhTaHJpbms6IDEsXG4gICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgb3ZlcmZsb3c6ICdzY3JvbGwnLFxuICB9LFxuICBiYXNlSG9yaXpvbnRhbDoge1xuICAgIGZsZXhHcm93OiAxLFxuICAgIGZsZXhTaHJpbms6IDEsXG4gICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgb3ZlcmZsb3c6ICdzY3JvbGwnLFxuICB9LFxuICBjb250ZW50Q29udGFpbmVySG9yaXpvbnRhbDoge1xuICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICB9LFxufSk7XG5cbnR5cGUgUmVmRm9yd2FyZGVyPFROYXRpdmVJbnN0YW5jZSwgVFB1YmxpY0luc3RhbmNlPiA9IHtcbiAgZ2V0Rm9yd2FyZGluZ1JlZjogKFxuICAgID9SZWFjdC5SZWZTZXR0ZXI8VFB1YmxpY0luc3RhbmNlPixcbiAgKSA9PiAoVE5hdGl2ZUluc3RhbmNlIHwgbnVsbCkgPT4gdm9pZCxcbiAgbmF0aXZlSW5zdGFuY2U6IFROYXRpdmVJbnN0YW5jZSB8IG51bGwsXG4gIHB1YmxpY0luc3RhbmNlOiBUUHVibGljSW5zdGFuY2UgfCBudWxsLFxufTtcblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgcmVwbGFjZWQgd2l0aCBgdXNlQ2FsbGJhY2tgIGFuZCBgdXNlTWVyZ2VSZWZzYFxuICogb25jZSBgU2Nyb2xsVmlld2AgaXMgcmVpbXBsZW1lbnRlZCBhcyBhIGZ1bmN0aW9uYWwgY29tcG9uZW50LlxuICovXG5mdW5jdGlvbiBjcmVhdGVSZWZGb3J3YXJkZXI8VE5hdGl2ZUluc3RhbmNlLCBUUHVibGljSW5zdGFuY2U+KFxuICBtdXRhdG9yOiBUTmF0aXZlSW5zdGFuY2UgPT4gVFB1YmxpY0luc3RhbmNlLFxuKTogUmVmRm9yd2FyZGVyPFROYXRpdmVJbnN0YW5jZSwgVFB1YmxpY0luc3RhbmNlPiB7XG4gIGNvbnN0IHN0YXRlOiBSZWZGb3J3YXJkZXI8VE5hdGl2ZUluc3RhbmNlLCBUUHVibGljSW5zdGFuY2U+ID0ge1xuICAgIGdldEZvcndhcmRpbmdSZWY6IG1lbW9pemUoZm9yd2FyZGVkUmVmID0+IHtcbiAgICAgIHJldHVybiAobmF0aXZlSW5zdGFuY2U6IFROYXRpdmVJbnN0YW5jZSB8IG51bGwpOiB2b2lkID0+IHtcbiAgICAgICAgY29uc3QgcHVibGljSW5zdGFuY2UgPVxuICAgICAgICAgIG5hdGl2ZUluc3RhbmNlID09IG51bGwgPyBudWxsIDogbXV0YXRvcihuYXRpdmVJbnN0YW5jZSk7XG5cbiAgICAgICAgc3RhdGUubmF0aXZlSW5zdGFuY2UgPSBuYXRpdmVJbnN0YW5jZTtcbiAgICAgICAgc3RhdGUucHVibGljSW5zdGFuY2UgPSBwdWJsaWNJbnN0YW5jZTtcblxuICAgICAgICBpZiAoZm9yd2FyZGVkUmVmICE9IG51bGwpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGZvcndhcmRlZFJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgZm9yd2FyZGVkUmVmKHB1YmxpY0luc3RhbmNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yd2FyZGVkUmVmLmN1cnJlbnQgPSBwdWJsaWNJbnN0YW5jZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSksXG4gICAgbmF0aXZlSW5zdGFuY2U6IG51bGwsXG4gICAgcHVibGljSW5zdGFuY2U6IG51bGwsXG4gIH07XG5cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG4vLyBUT0RPOiBBZnRlciB1cGdyYWRpbmcgdG8gUmVhY3QgMTksIHJlbW92ZSBgZm9yd2FyZFJlZmAgZnJvbSB0aGlzIGNvbXBvbmVudC5cbi8vIE5PVEU6IFRoaXMgd3JhcHBlciBjb21wb25lbnQgaXMgbmVjZXNzYXJ5IGJlY2F1c2UgYFNjcm9sbFZpZXdgIGlzIGEgY2xhc3Ncbi8vIGNvbXBvbmVudCBhbmQgd2UgbmVlZCB0byBtYXAgYHJlZmAgdG8gYSBkaWZmZXJlbnRseSBuYW1lZCBwcm9wLiBUaGlzIGNhbiBiZVxuLy8gcmVtb3ZlZCB3aGVuIGBTY3JvbGxWaWV3YCBpcyBhIGZ1bmN0aW9uYWwgY29tcG9uZW50LlxuY29uc3QgV3JhcHBlciA9IFJlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gV3JhcHBlcihcbiAgcHJvcHM6IFByb3BzLFxuICByZWY6ID9SZWFjdC5SZWZTZXR0ZXI8UHVibGljU2Nyb2xsVmlld0luc3RhbmNlPixcbik6IFJlYWN0Lk5vZGUge1xuICByZXR1cm4gcmVmID09IG51bGwgPyAoXG4gICAgPFNjcm9sbFZpZXcgey4uLnByb3BzfSAvPlxuICApIDogKFxuICAgIDxTY3JvbGxWaWV3IHsuLi5wcm9wc30gc2Nyb2xsVmlld1JlZj17cmVmfSAvPlxuICApO1xufSk7XG5XcmFwcGVyLmRpc3BsYXlOYW1lID0gJ1Njcm9sbFZpZXcnO1xuLy8gJEZsb3dFeHBlY3RlZEVycm9yW3Byb3AtbWlzc2luZ11cbldyYXBwZXIuQ29udGV4dCA9IFNjcm9sbFZpZXdDb250ZXh0O1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgoV3JhcHBlcjogJEZsb3dGaXhNZSk6IFJlYWN0LkFic3RyYWN0Q29tcG9uZW50PFxuICBSZWFjdC5FbGVtZW50Q29uZmlnPHR5cGVvZiBTY3JvbGxWaWV3PixcbiAgUHVibGljU2Nyb2xsVmlld0luc3RhbmNlLFxuPiAmXG4gIFNjcm9sbFZpZXdDb21wb25lbnRTdGF0aWNzKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBOEJBLElBQUFBLDRCQUFBLEdBQUFDLE9BQUE7QUFJQSxJQUFBQyw0QkFBQSxHQUFBRCxPQUFBO0FBSUEsSUFBQUUsdUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUgsT0FBQTtBQUNBLElBQUFJLGdCQUFBLEdBQUFELHNCQUFBLENBQUFILE9BQUE7QUFDQSxJQUFBSyxjQUFBLEdBQUFMLE9BQUE7QUFDQSxJQUFBTSxVQUFBLEdBQUFILHNCQUFBLENBQUFILE9BQUE7QUFDQSxJQUFBTyxhQUFBLEdBQUFKLHNCQUFBLENBQUFILE9BQUE7QUFDQSxJQUFBUSxrQkFBQSxHQUFBTCxzQkFBQSxDQUFBSCxP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