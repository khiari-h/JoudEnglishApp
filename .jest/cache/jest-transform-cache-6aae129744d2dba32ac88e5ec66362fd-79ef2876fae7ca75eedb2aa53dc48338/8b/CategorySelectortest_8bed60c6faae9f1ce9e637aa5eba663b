088d31ef0661bcc052aec34516f4cd10
_getJestObj().mock('react-native/Libraries/Components/ScrollView/ScrollView', function () {
  var React = require('react');
  var ScrollView = jest.requireActual('react-native/Libraries/Components/ScrollView/ScrollView');
  var scrollToSpy = jest.fn();
  return Object.assign({}, ScrollView, {
    default: React.forwardRef(function (props, ref) {
      React.useImperativeHandle(ref, function () {
        return {
          scrollTo: scrollToSpy
        };
      });
      return (0, _jsxRuntime.jsx)(ScrollView, Object.assign({}, props));
    }),
    scrollToSpy: scrollToSpy
  });
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _reactNative2 = require("react-native");
require("@testing-library/jest-native");
var _CategorySelector = require("../../../src/components/exercise-common/CategorySelector");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
jest.useFakeTimers();
jest.spyOn(_reactNative2.Animated, 'timing').mockImplementation(function (value, config) {
  return {
    start: function start(callback) {
      setTimeout(function () {
        if (callback) {
          callback({
            finished: true
          });
        }
      }, config.duration || 300);
    },
    stop: jest.fn()
  };
});
describe('CategorySelector Component', function () {
  var mockCategories = [{
    id: '1',
    name: 'Fruits'
  }, {
    id: '2',
    name: 'Vegetables'
  }, {
    id: '3',
    name: 'Dairy Products'
  }, {
    id: '4',
    name: 'Meat & Fish'
  }, {
    id: '5',
    name: 'Beverages'
  }];
  var stableProps = {
    categories: mockCategories,
    selectedCategory: '1',
    onSelectCategory: jest.fn()
  };
  var renderCategorySelector = function renderCategorySelector() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    return (0, _reactNative.render)((0, _jsxRuntime.jsx)(_CategorySelector.CategorySelector, Object.assign({}, stableProps, props)));
  };
  beforeEach(function () {
    jest.clearAllMocks();
    jest.useFakeTimers();
  });
  afterEach(function () {
    jest.useRealTimers();
  });
  describe('Rendering', function () {
    it('should render without crashing', function () {
      expect(renderCategorySelector()).toBeTruthy();
    });
    it('should render all categories correctly', function () {
      var _renderCategorySelect = renderCategorySelector(),
        getByText = _renderCategorySelect.getByText;
      mockCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
    it('should render categories in the correct order', function () {
      var _renderCategorySelect2 = renderCategorySelector(),
        getAllByRole = _renderCategorySelect2.getAllByRole;
      var categoryNames = getAllByRole('button').map(function (element) {
        return element.props.accessibilityLabel;
      });
      expect(categoryNames).toEqual(mockCategories.map(function (cat) {
        return cat.name;
      }));
    });
    it('should handle empty categories array gracefully', function () {
      var _renderCategorySelect3 = renderCategorySelector({
          categories: []
        }),
        queryByText = _renderCategorySelect3.queryByText;
      mockCategories.forEach(function (category) {
        expect(queryByText(category.name)).toBeNull();
      });
    });
    it('should highlight the selected category visually', function () {
      var _renderCategorySelect4 = renderCategorySelector({
          selectedCategory: '2'
        }),
        getByRole = _renderCategorySelect4.getByRole;
      var selectedPill = getByRole('button', {
        name: 'Vegetables'
      });
      expect(selectedPill).toHaveAccessibilityState({
        selected: true
      });
    });
  });
  describe('User Interactions', function () {
    it('should call onSelectCategory when a different category is pressed', function () {
      var mockOnSelect = jest.fn();
      var _renderCategorySelect5 = renderCategorySelector({
          selectedCategory: '1',
          onSelectCategory: mockOnSelect
        }),
        getByText = _renderCategorySelect5.getByText;
      _reactNative.fireEvent.press(getByText('Vegetables'));
      expect(mockOnSelect).toHaveBeenCalledTimes(1);
      expect(mockOnSelect).toHaveBeenCalledWith('2');
    });
    it('should not call onSelectCategory when the same category is pressed', function () {
      var mockOnSelect = jest.fn();
      var _renderCategorySelect6 = renderCategorySelector({
          selectedCategory: '1',
          onSelectCategory: mockOnSelect
        }),
        getByText = _renderCategorySelect6.getByText;
      _reactNative.fireEvent.press(getByText('Fruits'));
      expect(mockOnSelect).not.toHaveBeenCalled();
    });
    it('should call onSelectCategory with correct category id for each category', function () {
      var mockOnSelect = jest.fn();
      var _renderCategorySelect7 = renderCategorySelector({
          selectedCategory: '1',
          onSelectCategory: mockOnSelect
        }),
        getByText = _renderCategorySelect7.getByText;
      var categoriesToTest = mockCategories.filter(function (cat) {
        return cat.id !== '1';
      });
      categoriesToTest.forEach(function (category) {
        _reactNative.fireEvent.press(getByText(category.name));
        expect(mockOnSelect).toHaveBeenCalledWith(category.id);
      });
      expect(mockOnSelect).toHaveBeenCalledTimes(categoriesToTest.length);
    });
  });
  describe('Animations', function () {
    it('should trigger press animations correctly', function () {
      var _renderCategorySelect8 = renderCategorySelector(),
        getByText = _renderCategorySelect8.getByText;
      var categoryPill = getByText('Vegetables');
      (0, _reactNative.act)(function () {
        (0, _reactNative.fireEvent)(categoryPill, 'pressIn');
        (0, _reactNative.fireEvent)(categoryPill, 'pressOut');
      });
      expect(categoryPill).toBeTruthy();
    });
    it('should handle rapid press interactions without crashing', function () {
      var mockOnSelect = jest.fn();
      var _renderCategorySelect9 = renderCategorySelector({
          onSelectCategory: mockOnSelect
        }),
        getByText = _renderCategorySelect9.getByText;
      var categoryPill = getByText('Vegetables');
      (0, _reactNative.act)(function () {
        (0, _reactNative.fireEvent)(categoryPill, 'pressIn');
        (0, _reactNative.fireEvent)(categoryPill, 'pressOut');
        _reactNative.fireEvent.press(categoryPill);
        (0, _reactNative.fireEvent)(categoryPill, 'pressIn');
        (0, _reactNative.fireEvent)(categoryPill, 'pressOut');
      });
      expect(mockOnSelect).toHaveBeenCalledWith('2');
      expect(categoryPill).toBeTruthy();
    });
    it('should not trigger new animation if one is already in progress', (0, _asyncToGenerator2.default)(function* () {
      var mockOnSelect = jest.fn();
      var _renderCategorySelect0 = renderCategorySelector({
          selectedCategory: '1',
          onSelectCategory: mockOnSelect
        }),
        getByText = _renderCategorySelect0.getByText;
      _reactNative.fireEvent.press(getByText('Vegetables'));
      expect(mockOnSelect).toHaveBeenCalledTimes(1);
      (0, _reactNative.act)(function () {
        jest.advanceTimersByTime(100);
      });
      _reactNative.fireEvent.press(getByText('Dairy Products'));
      expect(mockOnSelect).toHaveBeenCalledTimes(1);
    }));
  });
  describe('Scrolling Behavior', function () {
    it('should scroll to selected category on mount', (0, _asyncToGenerator2.default)(function* () {
      var _renderCategorySelect1 = renderCategorySelector({
          selectedCategory: '4'
        }),
        getByText = _renderCategorySelect1.getByText;
      expect(getByText('Meat & Fish')).toBeTruthy();
      yield (0, _reactNative.waitFor)(function () {
        expect(_reactNative2.ScrollView.scrollToSpy).toHaveBeenCalled();
      });
    }));
    it('should handle scrolling when selectedCategory changes', (0, _asyncToGenerator2.default)(function* () {
      var _renderCategorySelect10 = renderCategorySelector({
          selectedCategory: '1'
        }),
        rerender = _renderCategorySelect10.rerender;
      rerender((0, _jsxRuntime.jsx)(_CategorySelector.CategorySelector, Object.assign({}, stableProps, {
        selectedCategory: "5"
      })));
      yield (0, _reactNative.waitFor)(function () {
        expect(_reactNative2.ScrollView.scrollToSpy).toHaveBeenCalledTimes(1);
      });
    }));
  });
  describe('Edge Cases', function () {
    it('should handle undefined selectedCategory gracefully', function () {
      var _renderCategorySelect11 = renderCategorySelector({
          selectedCategory: undefined
        }),
        getByText = _renderCategorySelect11.getByText;
      mockCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
    it('should handle null selectedCategory gracefully', function () {
      var _renderCategorySelect12 = renderCategorySelector({
          selectedCategory: null
        }),
        getByText = _renderCategorySelect12.getByText;
      mockCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
    it('should handle non-existent selectedCategory id', function () {
      var _renderCategorySelect13 = renderCategorySelector({
          selectedCategory: 'non-existent'
        }),
        getByText = _renderCategorySelect13.getByText;
      mockCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
    it('should handle missing onSelectCategory prop gracefully', function () {
      var _renderCategorySelect14 = renderCategorySelector({
          onSelectCategory: undefined
        }),
        getByText = _renderCategorySelect14.getByText;
      expect(function () {
        _reactNative.fireEvent.press(getByText('Vegetables'));
      }).not.toThrow();
    });
    it('should handle categories with special characters in names', function () {
      var specialCategories = [{
        id: '1',
        name: 'Café & Thé'
      }, {
        id: '2',
        name: 'Fruits & Légumes'
      }, {
        id: '3',
        name: 'Viande/Poisson'
      }];
      var _renderCategorySelect15 = renderCategorySelector({
          categories: specialCategories
        }),
        getByText = _renderCategorySelect15.getByText;
      specialCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
    it('should handle very long category names', function () {
      var longNameCategories = [{
        id: '1',
        name: 'This is a very long category name that might cause layout issues'
      }, {
        id: '2',
        name: 'Short'
      }];
      var _renderCategorySelect16 = renderCategorySelector({
          categories: longNameCategories
        }),
        getByText = _renderCategorySelect16.getByText;
      longNameCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
  });
  describe('Performance', function () {
    it('should not re-render unnecessarily when props do not change', function () {
      var _renderCategorySelect17 = renderCategorySelector(),
        rerender = _renderCategorySelect17.rerender;
      mockComponent.mockClear();
      rerender((0, _jsxRuntime.jsx)(_CategorySelector.CategorySelector, Object.assign({}, stableProps)));
      expect(mockComponent).toHaveBeenCalledTimes(0);
    });
    it('should handle large number of categories efficiently', function () {
      var manyCategories = Array.from({
        length: 100
      }, function (_, i) {
        return {
          id: `${i + 1}`,
          name: `Category ${i + 1}`
        };
      });
      var startTime = Date.now();
      var _renderCategorySelect18 = renderCategorySelector({
          categories: manyCategories
        }),
        queryAllByText = _renderCategorySelect18.queryAllByText;
      var endTime = Date.now();
      expect(endTime - startTime).toBeLessThan(1000);
      var categoryElements = queryAllByText(/^Category/);
      expect(categoryElements).toHaveLength(100);
    });
  });
  describe('Accessibility', function () {
    it('should have proper accessibility labels', function () {
      var _renderCategorySelect19 = renderCategorySelector(),
        getByLabelText = _renderCategorySelect19.getByLabelText;
      mockCategories.forEach(function (category) {
        var element = getByLabelText(category.name);
        expect(element).toBeTruthy();
      });
    });
    it('should support screen reader navigation', function () {
      var _renderCategorySelect20 = renderCategorySelector(),
        getAllByRole = _renderCategorySelect20.getAllByRole;
      var buttons = getAllByRole('button');
      expect(buttons).toHaveLength(mockCategories.length);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJSZWFjdCIsInJlcXVpcmUiLCJTY3JvbGxWaWV3IiwiamVzdCIsInJlcXVpcmVBY3R1YWwiLCJzY3JvbGxUb1NweSIsImZuIiwiT2JqZWN0IiwiYXNzaWduIiwiZGVmYXVsdCIsImZvcndhcmRSZWYiLCJwcm9wcyIsInJlZiIsInVzZUltcGVyYXRpdmVIYW5kbGUiLCJzY3JvbGxUbyIsIl9qc3hSdW50aW1lIiwianN4IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWFjdCIsIl9yZWFjdE5hdGl2ZSIsIl9yZWFjdE5hdGl2ZTIiLCJfQ2F0ZWdvcnlTZWxlY3RvciIsIl9yZXF1aXJlIiwidXNlRmFrZVRpbWVycyIsInNweU9uIiwiQW5pbWF0ZWQiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJ2YWx1ZSIsImNvbmZpZyIsInN0YXJ0IiwiY2FsbGJhY2siLCJzZXRUaW1lb3V0IiwiZmluaXNoZWQiLCJkdXJhdGlvbiIsInN0b3AiLCJkZXNjcmliZSIsIm1vY2tDYXRlZ29yaWVzIiwiaWQiLCJuYW1lIiwic3RhYmxlUHJvcHMiLCJjYXRlZ29yaWVzIiwic2VsZWN0ZWRDYXRlZ29yeSIsIm9uU2VsZWN0Q2F0ZWdvcnkiLCJyZW5kZXJDYXRlZ29yeVNlbGVjdG9yIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwicmVuZGVyIiwiQ2F0ZWdvcnlTZWxlY3RvciIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiYWZ0ZXJFYWNoIiwidXNlUmVhbFRpbWVycyIsIml0IiwiZXhwZWN0IiwidG9CZVRydXRoeSIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdCIsImdldEJ5VGV4dCIsImZvckVhY2giLCJjYXRlZ29yeSIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDIiLCJnZXRBbGxCeVJvbGUiLCJjYXRlZ29yeU5hbWVzIiwibWFwIiwiZWxlbWVudCIsImFjY2Vzc2liaWxpdHlMYWJlbCIsInRvRXF1YWwiLCJjYXQiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3QzIiwicXVlcnlCeVRleHQiLCJ0b0JlTnVsbCIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDQiLCJnZXRCeVJvbGUiLCJzZWxlY3RlZFBpbGwiLCJ0b0hhdmVBY2Nlc3NpYmlsaXR5U3RhdGUiLCJzZWxlY3RlZCIsIm1vY2tPblNlbGVjdCIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDUiLCJmaXJlRXZlbnQiLCJwcmVzcyIsInRvSGF2ZUJlZW5DYWxsZWRUaW1lcyIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0NiIsIm5vdCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3Q3IiwiY2F0ZWdvcmllc1RvVGVzdCIsImZpbHRlciIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDgiLCJjYXRlZ29yeVBpbGwiLCJhY3QiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3Q5IiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0MCIsImFkdmFuY2VUaW1lcnNCeVRpbWUiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3QxIiwid2FpdEZvciIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDEwIiwicmVyZW5kZXIiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3QxMSIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDEyIiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0MTMiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3QxNCIsInRvVGhyb3ciLCJzcGVjaWFsQ2F0ZWdvcmllcyIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDE1IiwibG9uZ05hbWVDYXRlZ29yaWVzIiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0MTYiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3QxNyIsIm1vY2tDb21wb25lbnQiLCJtb2NrQ2xlYXIiLCJtYW55Q2F0ZWdvcmllcyIsIkFycmF5IiwiZnJvbSIsIl8iLCJpIiwic3RhcnRUaW1lIiwiRGF0ZSIsIm5vdyIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDE4IiwicXVlcnlBbGxCeVRleHQiLCJlbmRUaW1lIiwidG9CZUxlc3NUaGFuIiwiY2F0ZWdvcnlFbGVtZW50cyIsInRvSGF2ZUxlbmd0aCIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDE5IiwiZ2V0QnlMYWJlbFRleHQiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3QyMCIsImJ1dHRvbnMiXSwic291cmNlcyI6WyJDYXRlZ29yeVNlbGVjdG9yLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gX190ZXN0c19fL2NvbXBvbmVudHMvZXhlcmNpc2UtY29tbW9uL0NhdGVnb3J5U2VsZWN0b3IudGVzdC5qc1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlciwgZmlyZUV2ZW50LCBhY3QsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgeyBBbmltYXRlZCwgU2Nyb2xsVmlldyB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgJ0B0ZXN0aW5nLWxpYnJhcnkvamVzdC1uYXRpdmUnO1xuaW1wb3J0IHsgQ2F0ZWdvcnlTZWxlY3RvciB9IGZyb20gJy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL2V4ZXJjaXNlLWNvbW1vbi9DYXRlZ29yeVNlbGVjdG9yJztcblxuLy8gLS0tIETDqWZpbml0aW9uIGRlcyBNb2NrcyBwb3VyIHLDqXNvdWRyZSBsZXMgcHJvYmzDqG1lcyBkZSByZW5kdS9hbmltYXRpb24gLS0tXG5cbi8vIEFjdGl2ZXogbGVzIGZhdXggdGltZXJzIHBvdXIgY29udHLDtGxlciBsZSB0ZW1wcyBkYW5zIGxlcyB0ZXN0cyBkJ2FuaW1hdGlvblxuamVzdC51c2VGYWtlVGltZXJzKCk7XG5cbi8vIENvcnJlY3Rpb24gMSA6IE1vY2tlciBBbmltYXRlZC50aW1pbmcgcG91ciBzaW11bGVyIHVuIGTDqWxhaVxuLy8gTGUgbW9jayBxdWUgaidhdmFpcyBmb3Vybmkgw6l0YWl0IGNvcnJlY3QsIGlsIG4neSBhIHJpZW4gw6AgY2hhbmdlciBpY2kuXG5qZXN0LnNweU9uKEFuaW1hdGVkLCAndGltaW5nJykubW9ja0ltcGxlbWVudGF0aW9uKCh2YWx1ZSwgY29uZmlnKSA9PiB7XG4gIHJldHVybiB7XG4gICAgc3RhcnQ6IChjYWxsYmFjaykgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgIGNhbGxiYWNrKHsgZmluaXNoZWQ6IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIGNvbmZpZy5kdXJhdGlvbiB8fCAzMDApO1xuICAgIH0sXG4gICAgc3RvcDogamVzdC5mbigpLFxuICB9O1xufSk7XG5cbi8vIENvcnJlY3Rpb24gMiA6IE1vY2tlciBTY3JvbGxWaWV3IHBvdXIgZ8OpcmVyIGxhIHJlZiBldCBsYSBmb25jdGlvbiBzY3JvbGxUb1xuLy8gTGUgbW9jayBxdWUgaidhdmFpcyBmb3Vybmkgw6l0YWl0IGNvcnJlY3QsIGlsIG4neSBhIHJpZW4gw6AgY2hhbmdlciBpY2kuXG5qZXN0Lm1vY2soJ3JlYWN0LW5hdGl2ZS9MaWJyYXJpZXMvQ29tcG9uZW50cy9TY3JvbGxWaWV3L1Njcm9sbFZpZXcnLCAoKSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgU2Nyb2xsVmlldyA9IGplc3QucmVxdWlyZUFjdHVhbCgncmVhY3QtbmF0aXZlL0xpYnJhcmllcy9Db21wb25lbnRzL1Njcm9sbFZpZXcvU2Nyb2xsVmlldycpO1xuICBjb25zdCBzY3JvbGxUb1NweSA9IGplc3QuZm4oKTtcbiAgcmV0dXJuIHtcbiAgICAuLi5TY3JvbGxWaWV3LFxuICAgIGRlZmF1bHQ6IFJlYWN0LmZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IHtcbiAgICAgIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiAoe1xuICAgICAgICBzY3JvbGxUbzogc2Nyb2xsVG9TcHksXG4gICAgICB9KSk7XG4gICAgICByZXR1cm4gPFNjcm9sbFZpZXcgey4uLnByb3BzfSAvPjtcbiAgICB9KSxcbiAgICBzY3JvbGxUb1NweSxcbiAgfTtcbn0pO1xuXG5cblxuZGVzY3JpYmUoJ0NhdGVnb3J5U2VsZWN0b3IgQ29tcG9uZW50JywgKCkgPT4ge1xuICBjb25zdCBtb2NrQ2F0ZWdvcmllcyA9IFtcbiAgICB7IGlkOiAnMScsIG5hbWU6ICdGcnVpdHMnIH0sXG4gICAgeyBpZDogJzInLCBuYW1lOiAnVmVnZXRhYmxlcycgfSxcbiAgICB7IGlkOiAnMycsIG5hbWU6ICdEYWlyeSBQcm9kdWN0cycgfSxcbiAgICB7IGlkOiAnNCcsIG5hbWU6ICdNZWF0ICYgRmlzaCcgfSxcbiAgICB7IGlkOiAnNScsIG5hbWU6ICdCZXZlcmFnZXMnIH0sXG4gIF07XG5cbiAgLy8gQ29ycmVjdGlvbiA0IDogVXRpbGlzYXRpb24gZCd1bmUgdmFyaWFibGUgZGUgcHJvcHMgc3RhYmxlXG4gIC8vIEFzc3VyZXotdm91cyBxdWUgY2V0dGUgdmFyaWFibGUgZXN0IHLDqXV0aWxpc8OpZSBkYW5zIGxlIHRlc3QgZGUgcGVyZm9ybWFuY2UuXG4gIGNvbnN0IHN0YWJsZVByb3BzID0ge1xuICAgIGNhdGVnb3JpZXM6IG1vY2tDYXRlZ29yaWVzLFxuICAgIHNlbGVjdGVkQ2F0ZWdvcnk6ICcxJyxcbiAgICBvblNlbGVjdENhdGVnb3J5OiBqZXN0LmZuKCksXG4gIH07XG5cbiAgY29uc3QgcmVuZGVyQ2F0ZWdvcnlTZWxlY3RvciA9IChwcm9wcyA9IHt9KSA9PiB7XG4gICAgcmV0dXJuIHJlbmRlcig8Q2F0ZWdvcnlTZWxlY3RvciB7Li4uc3RhYmxlUHJvcHN9IHsuLi5wcm9wc30gLz4pO1xuICB9O1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIGplc3QudXNlRmFrZVRpbWVycygpO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QudXNlUmVhbFRpbWVycygpO1xuICB9KTtcblxuICAvLyAtLS0gUkVOREVSSU5HIC0tLVxuICBkZXNjcmliZSgnUmVuZGVyaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmVuZGVyIHdpdGhvdXQgY3Jhc2hpbmcnLCAoKSA9PiB7XG4gICAgICBleHBlY3QocmVuZGVyQ2F0ZWdvcnlTZWxlY3RvcigpKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgYWxsIGNhdGVnb3JpZXMgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoKTtcbiAgICAgIG1vY2tDYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgICBleHBlY3QoZ2V0QnlUZXh0KGNhdGVnb3J5Lm5hbWUpKS50b0JlVHJ1dGh5KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIHJlbmRlciBjYXRlZ29yaWVzIGluIHRoZSBjb3JyZWN0IG9yZGVyJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRBbGxCeVJvbGUgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoKTtcbiAgICAgIGNvbnN0IGNhdGVnb3J5TmFtZXMgPSBnZXRBbGxCeVJvbGUoJ2J1dHRvbicpLm1hcChlbGVtZW50ID0+IGVsZW1lbnQucHJvcHMuYWNjZXNzaWJpbGl0eUxhYmVsKTtcbiAgICAgIGV4cGVjdChjYXRlZ29yeU5hbWVzKS50b0VxdWFsKG1vY2tDYXRlZ29yaWVzLm1hcChjYXQgPT4gY2F0Lm5hbWUpKTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSBjYXRlZ29yaWVzIGFycmF5IGdyYWNlZnVsbHknLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHF1ZXJ5QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHsgY2F0ZWdvcmllczogW10gfSk7XG4gICAgICBtb2NrQ2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgZXhwZWN0KHF1ZXJ5QnlUZXh0KGNhdGVnb3J5Lm5hbWUpKS50b0JlTnVsbCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBoaWdobGlnaHQgdGhlIHNlbGVjdGVkIGNhdGVnb3J5IHZpc3VhbGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRCeVJvbGUgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoeyBzZWxlY3RlZENhdGVnb3J5OiAnMicgfSk7XG4gICAgICBjb25zdCBzZWxlY3RlZFBpbGwgPSBnZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogJ1ZlZ2V0YWJsZXMnIH0pO1xuICAgICAgZXhwZWN0KHNlbGVjdGVkUGlsbCkudG9IYXZlQWNjZXNzaWJpbGl0eVN0YXRlKHsgc2VsZWN0ZWQ6IHRydWUgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIC0tLSBVU0VSIElOVEVSQUNUSU9OUyAtLS1cbiAgZGVzY3JpYmUoJ1VzZXIgSW50ZXJhY3Rpb25zJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY2FsbCBvblNlbGVjdENhdGVnb3J5IHdoZW4gYSBkaWZmZXJlbnQgY2F0ZWdvcnkgaXMgcHJlc3NlZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tPblNlbGVjdCA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHtcbiAgICAgICAgc2VsZWN0ZWRDYXRlZ29yeTogJzEnLFxuICAgICAgICBvblNlbGVjdENhdGVnb3J5OiBtb2NrT25TZWxlY3RcbiAgICAgIH0pO1xuICAgICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGV4dCgnVmVnZXRhYmxlcycpKTtcbiAgICAgIGV4cGVjdChtb2NrT25TZWxlY3QpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICAgIGV4cGVjdChtb2NrT25TZWxlY3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcyJyk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBub3QgY2FsbCBvblNlbGVjdENhdGVnb3J5IHdoZW4gdGhlIHNhbWUgY2F0ZWdvcnkgaXMgcHJlc3NlZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tPblNlbGVjdCA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHtcbiAgICAgICAgc2VsZWN0ZWRDYXRlZ29yeTogJzEnLFxuICAgICAgICBvblNlbGVjdENhdGVnb3J5OiBtb2NrT25TZWxlY3RcbiAgICAgIH0pO1xuICAgICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGV4dCgnRnJ1aXRzJykpO1xuICAgICAgZXhwZWN0KG1vY2tPblNlbGVjdCkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIGNhbGwgb25TZWxlY3RDYXRlZ29yeSB3aXRoIGNvcnJlY3QgY2F0ZWdvcnkgaWQgZm9yIGVhY2ggY2F0ZWdvcnknLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrT25TZWxlY3QgPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7XG4gICAgICAgIHNlbGVjdGVkQ2F0ZWdvcnk6ICcxJyxcbiAgICAgICAgb25TZWxlY3RDYXRlZ29yeTogbW9ja09uU2VsZWN0XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGNhdGVnb3JpZXNUb1Rlc3QgPSBtb2NrQ2F0ZWdvcmllcy5maWx0ZXIoY2F0ID0+IGNhdC5pZCAhPT0gJzEnKTtcbiAgICAgIGNhdGVnb3JpZXNUb1Rlc3QuZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRleHQoY2F0ZWdvcnkubmFtZSkpO1xuICAgICAgICBleHBlY3QobW9ja09uU2VsZWN0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChjYXRlZ29yeS5pZCk7XG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChtb2NrT25TZWxlY3QpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcyhjYXRlZ29yaWVzVG9UZXN0Lmxlbmd0aCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIC0tLSBBTklNQVRJT05TIC0tLVxuICBkZXNjcmliZSgnQW5pbWF0aW9ucycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHRyaWdnZXIgcHJlc3MgYW5pbWF0aW9ucyBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3RvcigpO1xuICAgICAgY29uc3QgY2F0ZWdvcnlQaWxsID0gZ2V0QnlUZXh0KCdWZWdldGFibGVzJyk7XG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICBmaXJlRXZlbnQoY2F0ZWdvcnlQaWxsLCAncHJlc3NJbicpO1xuICAgICAgICBmaXJlRXZlbnQoY2F0ZWdvcnlQaWxsLCAncHJlc3NPdXQnKTtcbiAgICAgIH0pO1xuICAgICAgZXhwZWN0KGNhdGVnb3J5UGlsbCkudG9CZVRydXRoeSgpO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIHJhcGlkIHByZXNzIGludGVyYWN0aW9ucyB3aXRob3V0IGNyYXNoaW5nJywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja09uU2VsZWN0ID0gamVzdC5mbigpO1xuICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoeyBvblNlbGVjdENhdGVnb3J5OiBtb2NrT25TZWxlY3QgfSk7XG4gICAgICBjb25zdCBjYXRlZ29yeVBpbGwgPSBnZXRCeVRleHQoJ1ZlZ2V0YWJsZXMnKTtcbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIGZpcmVFdmVudChjYXRlZ29yeVBpbGwsICdwcmVzc0luJyk7XG4gICAgICAgIGZpcmVFdmVudChjYXRlZ29yeVBpbGwsICdwcmVzc091dCcpO1xuICAgICAgICBmaXJlRXZlbnQucHJlc3MoY2F0ZWdvcnlQaWxsKTtcbiAgICAgICAgZmlyZUV2ZW50KGNhdGVnb3J5UGlsbCwgJ3ByZXNzSW4nKTtcbiAgICAgICAgZmlyZUV2ZW50KGNhdGVnb3J5UGlsbCwgJ3ByZXNzT3V0Jyk7XG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChtb2NrT25TZWxlY3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcyJyk7XG4gICAgICBleHBlY3QoY2F0ZWdvcnlQaWxsKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG4gICAgLy8gQ29ycmVjdGlvbiA1IDogTG9naXF1ZSBkZSB0ZXN0IHBvdXIgbCdhbmltYXRpb24gZW4gY291cnNcbiAgICAvLyBDZXR0ZSBjb3JyZWN0aW9uIGVzdCBwdXJlbWVudCBsacOpZSBhdSB0ZXN0LCBwYXMgYXUgY29tcG9zYW50IGx1aS1tw6ptZS5cbiAgICAvLyBMJ8OpY2hlYyBwcsOpY8OpZGVudCBpbmRpcXVhaXQgcXVlIGxlIG1vY2sgZGUgbCdhbmltYXRpb24gbmUgYmxvcXVhaXQgcGFzIHVuIHNlY29uZCBhcHBlbC5cbiAgICAvLyBFbiB1dGlsaXNhbnQgdXNlRmFrZVRpbWVycywgb24gY29udHLDtGxlIGwnYXZhbmNlbWVudCBkdSB0ZW1wcyBwb3VyIHNpbXVsZXIgbGEgZmluIGRlIGwnYW5pbWF0aW9uLlxuICAgIGl0KCdzaG91bGQgbm90IHRyaWdnZXIgbmV3IGFuaW1hdGlvbiBpZiBvbmUgaXMgYWxyZWFkeSBpbiBwcm9ncmVzcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tPblNlbGVjdCA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHsgc2VsZWN0ZWRDYXRlZ29yeTogJzEnLCBvblNlbGVjdENhdGVnb3J5OiBtb2NrT25TZWxlY3QgfSk7XG5cbiAgICAgIC8vIFByZW1pZXIgY2xpYywgbGFuY2UgdW5lIGFuaW1hdGlvbi5cbiAgICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRleHQoJ1ZlZ2V0YWJsZXMnKSk7XG4gICAgICBleHBlY3QobW9ja09uU2VsZWN0KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG5cbiAgICAgIC8vIEF2YW5jZXIgbGUgdGVtcHMgZGUgMTAwbXMgKG1vaW5zIHF1ZSBsYSBkdXLDqWUgZGUgbCdhbmltYXRpb24gbW9ja8OpZSBxdWkgZXN0IDMwMG1zKVxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDEwMCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gU2Vjb25kZSBwcmVzc2lvbiwgZWxsZSBkZXZyYWl0IMOqdHJlIGlnbm9yw6llIHNpIGxhIGxvZ2lxdWUgZHUgY29tcG9zYW50IGVzdCBjb3JyZWN0ZS5cbiAgICAgIC8vIExlIG1vY2sgZXN0IGTDqWrDoCBjb25maWd1csOpIHBvdXIgdW5lIGV4w6ljdXRpb24gaW5zdGFudGFuw6llLCBjJ2VzdCBwb3VycXVvaSBub3VzIGRldm9uc1xuICAgICAgLy8gdsOpcmlmaWVyIGxhIGxvZ2lxdWUgZGUgdm90cmUgY29tcG9zYW50LlxuICAgICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGV4dCgnRGFpcnkgUHJvZHVjdHMnKSk7XG5cbiAgICAgIC8vIExlIG5vbWJyZSBkJ2FwcGVscyBuZSBkb2l0IHBhcyBhdm9pciBjaGFuZ8OpLlxuICAgICAgZXhwZWN0KG1vY2tPblNlbGVjdCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyAtLS0gU0NST0xMSU5HIEJFSEFWSU9SIC0tLVxuICBkZXNjcmliZSgnU2Nyb2xsaW5nIEJlaGF2aW9yJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgc2Nyb2xsIHRvIHNlbGVjdGVkIGNhdGVnb3J5IG9uIG1vdW50JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoeyBzZWxlY3RlZENhdGVnb3J5OiAnNCcgfSk7XG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCdNZWF0ICYgRmlzaCcpKS50b0JlVHJ1dGh5KCk7XG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KFNjcm9sbFZpZXcuc2Nyb2xsVG9TcHkpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIHNjcm9sbGluZyB3aGVuIHNlbGVjdGVkQ2F0ZWdvcnkgY2hhbmdlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVyZW5kZXIgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoeyBzZWxlY3RlZENhdGVnb3J5OiAnMScgfSk7XG4gICAgICByZXJlbmRlcihcbiAgICAgICAgPENhdGVnb3J5U2VsZWN0b3IgXG4gICAgICAgICAgey4uLnN0YWJsZVByb3BzfVxuICAgICAgICAgIHNlbGVjdGVkQ2F0ZWdvcnk9XCI1XCIgXG4gICAgICAgIC8+XG4gICAgICApO1xuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChTY3JvbGxWaWV3LnNjcm9sbFRvU3B5KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gLS0tIEVER0UgQ0FTRVMgLS0tXG4gIGRlc2NyaWJlKCdFZGdlIENhc2VzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIHVuZGVmaW5lZCBzZWxlY3RlZENhdGVnb3J5IGdyYWNlZnVsbHknLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7IHNlbGVjdGVkQ2F0ZWdvcnk6IHVuZGVmaW5lZCB9KTtcbiAgICAgIG1vY2tDYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgICBleHBlY3QoZ2V0QnlUZXh0KGNhdGVnb3J5Lm5hbWUpKS50b0JlVHJ1dGh5KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBudWxsIHNlbGVjdGVkQ2F0ZWdvcnkgZ3JhY2VmdWxseScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHsgc2VsZWN0ZWRDYXRlZ29yeTogbnVsbCB9KTtcbiAgICAgIG1vY2tDYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgICBleHBlY3QoZ2V0QnlUZXh0KGNhdGVnb3J5Lm5hbWUpKS50b0JlVHJ1dGh5KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBub24tZXhpc3RlbnQgc2VsZWN0ZWRDYXRlZ29yeSBpZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHsgc2VsZWN0ZWRDYXRlZ29yeTogJ25vbi1leGlzdGVudCcgfSk7XG4gICAgICBtb2NrQ2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgZXhwZWN0KGdldEJ5VGV4dChjYXRlZ29yeS5uYW1lKSkudG9CZVRydXRoeSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWlzc2luZyBvblNlbGVjdENhdGVnb3J5IHByb3AgZ3JhY2VmdWxseScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHsgb25TZWxlY3RDYXRlZ29yeTogdW5kZWZpbmVkIH0pO1xuICAgICAgZXhwZWN0KCgpID0+IHtcbiAgICAgICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGV4dCgnVmVnZXRhYmxlcycpKTtcbiAgICAgIH0pLm5vdC50b1Rocm93KCk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY2F0ZWdvcmllcyB3aXRoIHNwZWNpYWwgY2hhcmFjdGVycyBpbiBuYW1lcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHNwZWNpYWxDYXRlZ29yaWVzID0gW1xuICAgICAgICB7IGlkOiAnMScsIG5hbWU6ICdDYWbDqSAmIFRow6knIH0sXG4gICAgICAgIHsgaWQ6ICcyJywgbmFtZTogJ0ZydWl0cyAmIEzDqWd1bWVzJyB9LFxuICAgICAgICB7IGlkOiAnMycsIG5hbWU6ICdWaWFuZGUvUG9pc3NvbicgfSxcbiAgICAgIF07XG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7IGNhdGVnb3JpZXM6IHNwZWNpYWxDYXRlZ29yaWVzIH0pO1xuICAgICAgc3BlY2lhbENhdGVnb3JpZXMuZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICAgIGV4cGVjdChnZXRCeVRleHQoY2F0ZWdvcnkubmFtZSkpLnRvQmVUcnV0aHkoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIHZlcnkgbG9uZyBjYXRlZ29yeSBuYW1lcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGxvbmdOYW1lQ2F0ZWdvcmllcyA9IFtcbiAgICAgICAgeyBpZDogJzEnLCBuYW1lOiAnVGhpcyBpcyBhIHZlcnkgbG9uZyBjYXRlZ29yeSBuYW1lIHRoYXQgbWlnaHQgY2F1c2UgbGF5b3V0IGlzc3VlcycgfSxcbiAgICAgICAgeyBpZDogJzInLCBuYW1lOiAnU2hvcnQnIH0sXG4gICAgICBdO1xuICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoeyBjYXRlZ29yaWVzOiBsb25nTmFtZUNhdGVnb3JpZXMgfSk7XG4gICAgICBsb25nTmFtZUNhdGVnb3JpZXMuZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICAgIGV4cGVjdChnZXRCeVRleHQoY2F0ZWdvcnkubmFtZSkpLnRvQmVUcnV0aHkoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyAtLS0gUEVSRk9STUFOQ0UgLS0tXG4gIGRlc2NyaWJlKCdQZXJmb3JtYW5jZScsICgpID0+IHtcbiAgICAvLyBDb3JyZWN0aW9uIDYgOiBUZXN0ZXIgbGUgcmUtcmVuZHUgZGUgbWFuacOocmUgY29ycmVjdGVcbiAgICAvLyBMZSB0ZXN0IG9yaWdpbmFsIMOpY2hvdWFpdCBwYXJjZSBxdWUgbGVzIHByb3BzIMOpdGFpZW50IHJlY3LDqcOpZXMuXG4gICAgLy8gSWNpLCBub3VzIHV0aWxpc29ucyBsJ29iamV0IHN0YWJsZVByb3BzIHBvdXIgZ2FyYW50aXIgbGEgbcOqbWUgcsOpZsOpcmVuY2UuXG4gICAgLy8gTCfDqWNoZWMgZCdvcmlnaW5lIMOpdGFpdCBkw7sgw6AgdW4gYnVnIGRhbnMgbGUgdGVzdCwgcGFzIGRhbnMgbGUgY29kZSBkdSBjb21wb3NhbnQuXG4gICAgaXQoJ3Nob3VsZCBub3QgcmUtcmVuZGVyIHVubmVjZXNzYXJpbHkgd2hlbiBwcm9wcyBkbyBub3QgY2hhbmdlJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXJlbmRlciB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3RvcigpO1xuICAgICAgbW9ja0NvbXBvbmVudC5tb2NrQ2xlYXIoKTtcbiAgICAgIHJlcmVuZGVyKDxDYXRlZ29yeVNlbGVjdG9yIHsuLi5zdGFibGVQcm9wc30gLz4pO1xuICAgICAgZXhwZWN0KG1vY2tDb21wb25lbnQpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygwKTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBsYXJnZSBudW1iZXIgb2YgY2F0ZWdvcmllcyBlZmZpY2llbnRseScsICgpID0+IHtcbiAgICAgIGNvbnN0IG1hbnlDYXRlZ29yaWVzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTAwIH0sIChfLCBpKSA9PiAoe1xuICAgICAgICBpZDogYCR7aSArIDF9YCxcbiAgICAgICAgbmFtZTogYENhdGVnb3J5ICR7aSArIDF9YCxcbiAgICAgIH0pKTtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBjb25zdCB7IHF1ZXJ5QWxsQnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHsgY2F0ZWdvcmllczogbWFueUNhdGVnb3JpZXMgfSk7XG4gICAgICBjb25zdCBlbmRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIGV4cGVjdChlbmRUaW1lIC0gc3RhcnRUaW1lKS50b0JlTGVzc1RoYW4oMTAwMCk7XG4gICAgICBjb25zdCBjYXRlZ29yeUVsZW1lbnRzID0gcXVlcnlBbGxCeVRleHQoL15DYXRlZ29yeS8pO1xuICAgICAgZXhwZWN0KGNhdGVnb3J5RWxlbWVudHMpLnRvSGF2ZUxlbmd0aCgxMDApO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyAtLS0gQUNDRVNTSUJJTElUWSAtLS1cbiAgZGVzY3JpYmUoJ0FjY2Vzc2liaWxpdHknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYXZlIHByb3BlciBhY2Nlc3NpYmlsaXR5IGxhYmVscycsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QnlMYWJlbFRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoKTtcbiAgICAgIG1vY2tDYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZ2V0QnlMYWJlbFRleHQoY2F0ZWdvcnkubmFtZSk7XG4gICAgICAgIGV4cGVjdChlbGVtZW50KS50b0JlVHJ1dGh5KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIHN1cHBvcnQgc2NyZWVuIHJlYWRlciBuYXZpZ2F0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRBbGxCeVJvbGUgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoKTtcbiAgICAgIGNvbnN0IGJ1dHRvbnMgPSBnZXRBbGxCeVJvbGUoJ2J1dHRvbicpO1xuICAgICAgZXhwZWN0KGJ1dHRvbnMpLnRvSGF2ZUxlbmd0aChtb2NrQ2F0ZWdvcmllcy5sZW5ndGgpO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6IkFBNkJBQSxXQUFBLEdBQUtDLElBQUksQ0FBQyx5REFBeUQsRUFBRSxZQUFNO0VBQ3pFLElBQU1DLEtBQUssR0FBR0MsT0FBTyxD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