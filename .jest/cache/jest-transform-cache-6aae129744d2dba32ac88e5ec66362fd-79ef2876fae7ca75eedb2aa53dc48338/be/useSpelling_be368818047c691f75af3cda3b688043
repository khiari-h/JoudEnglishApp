af8bbbce9e09e0b08c5af2e46e6832f4
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = require("react");
var _reactNative = require("react-native");
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var useSpelling = function useSpelling(spellingData, level, exerciseType) {
  var handleStorageError = function handleStorageError(error, operation) {
    var fallback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
    console.warn(`Spelling storage error in ${operation}:`, error);
    return fallback;
  };
  var STORAGE_KEY = `spelling_${level}_${exerciseType}`;
  var _useState = (0, _react.useState)(0),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    currentExerciseIndex = _useState2[0],
    setCurrentExerciseIndex = _useState2[1];
  var _useState3 = (0, _react.useState)(''),
    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
    userInput = _useState4[0],
    setUserInput = _useState4[1];
  var _useState5 = (0, _react.useState)(false),
    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),
    showHint = _useState6[0],
    setShowHint = _useState6[1];
  var _useState7 = (0, _react.useState)(false),
    _useState8 = (0, _slicedToArray2.default)(_useState7, 2),
    showFeedback = _useState8[0],
    setShowFeedback = _useState8[1];
  var _useState9 = (0, _react.useState)(false),
    _useState0 = (0, _slicedToArray2.default)(_useState9, 2),
    isCorrect = _useState0[0],
    setIsCorrect = _useState0[1];
  var _useState1 = (0, _react.useState)(false),
    _useState10 = (0, _slicedToArray2.default)(_useState1, 2),
    loaded = _useState10[0],
    setLoaded = _useState10[1];
  var _useState11 = (0, _react.useState)([]),
    _useState12 = (0, _slicedToArray2.default)(_useState11, 2),
    completedExercises = _useState12[0],
    setCompletedExercises = _useState12[1];
  var _useState13 = (0, _react.useState)([]),
    _useState14 = (0, _slicedToArray2.default)(_useState13, 2),
    userAnswers = _useState14[0],
    setUserAnswers = _useState14[1];
  var isInitialized = (0, _react.useRef)(false);
  var exercises = (spellingData == null ? void 0 : spellingData.exercises) || [];
  var totalExercises = exercises.length;
  var currentExercise = exercises[currentExerciseIndex];
  var hasValidData = exercises.length > 0;
  console.log('🔍 DEBUG useSpelling:', {
    spellingData: !!spellingData,
    exercisesLength: exercises.length,
    totalExercises: totalExercises,
    currentExercise: !!currentExercise,
    hasValidData: hasValidData,
    level: level,
    exerciseType: exerciseType
  });
  var loadStoredData = (0, _react.useCallback)((0, _asyncToGenerator2.default)(function* () {
    try {
      var saved = yield _asyncStorage.default.getItem(STORAGE_KEY);
      if (saved) {
        var _data$lastPosition;
        var data = JSON.parse(saved);
        setCompletedExercises(data.completedExercises || []);
        setUserAnswers(data.userAnswers || []);
        if (((_data$lastPosition = data.lastPosition) == null ? void 0 : _data$lastPosition.exerciseIndex) !== undefined && data.lastPosition.exerciseIndex >= 0 && data.lastPosition.exerciseIndex < totalExercises) {
          setCurrentExerciseIndex(data.lastPosition.exerciseIndex);
        }
      }
    } catch (error) {
      handleStorageError(error, 'loadStoredData');
    } finally {
      setLoaded(true);
    }
  }), [STORAGE_KEY, totalExercises]);
  (0, _react.useEffect)(function () {
    if (!isInitialized.current) {
      loadStoredData();
      isInitialized.current = true;
    }
  }, [loadStoredData]);
  var saveToStorage = (0, _react.useCallback)(function () {
    var _ref2 = (0, _asyncToGenerator2.default)(function* (dataToSave) {
      try {
        yield _asyncStorage.default.setItem(STORAGE_KEY, JSON.stringify(dataToSave));
      } catch (error) {
        handleStorageError(error, 'saveToStorage');
      }
    });
    return function (_x) {
      return _ref2.apply(this, arguments);
    };
  }(), [STORAGE_KEY]);
  var resetExerciseState = (0, _react.useCallback)(function () {
    setUserInput('');
    setShowHint(false);
    setShowFeedback(false);
    setIsCorrect(false);
  }, []);
  var toggleHint = (0, _react.useCallback)(function () {
    setShowHint(function (prev) {
      return !prev;
    });
  }, []);
  var checkAnswer = (0, _react.useCallback)(function () {
    if (!(currentExercise != null && currentExercise.correctAnswer)) {
      _reactNative.Alert.alert('Erreur', 'Réponse correcte non définie');
      return false;
    }
    try {
      var correct = false;
      switch (currentExercise.type) {
        case 'homophones':
          correct = userInput === currentExercise.correctAnswer;
          break;
        case 'correction':
        case 'spelling_rule':
        default:
          {
            var userAnswer = String(userInput).trim().toLowerCase();
            var correctAnswer = String(currentExercise.correctAnswer).trim().toLowerCase();
            correct = userAnswer === correctAnswer;
            break;
          }
      }
      setIsCorrect(correct);
      setShowFeedback(true);
      return correct;
    } catch (error) {
      console.warn('Error checking spelling answer:', error);
      setIsCorrect(false);
      setShowFeedback(true);
      return false;
    }
  }, [userInput, currentExercise]);
  var handleNext = (0, _react.useCallback)(function () {
    var newCompleted = completedExercises.includes(currentExerciseIndex) ? completedExercises : [].concat((0, _toConsumableArray2.default)(completedExercises), [currentExerciseIndex]);
    var newAnswer = {
      exerciseIndex: currentExerciseIndex,
      isCorrect: isCorrect,
      userAnswer: userInput,
      correctAnswer: (currentExercise == null ? void 0 : currentExercise.correctAnswer) || '',
      exerciseType: (currentExercise == null ? void 0 : currentExercise.type) || 'correction',
      timestamp: Date.now()
    };
    var newAnswers = [].concat((0, _toConsumableArray2.default)(userAnswers), [newAnswer]);
    var dataToSave = {
      completedExercises: newCompleted,
      userAnswers: newAnswers,
      lastPosition: {
        exerciseIndex: currentExerciseIndex < totalExercises - 1 ? currentExerciseIndex + 1 : currentExerciseIndex,
        exerciseType: exerciseType,
        timestamp: Date.now()
      }
    };
    saveToStorage(dataToSave);
    setCompletedExercises(newCompleted);
    setUserAnswers(newAnswers);
    if (currentExerciseIndex < totalExercises - 1) {
      setCurrentExerciseIndex(function (prev) {
        return prev + 1;
      });
      resetExerciseState();
    } else {
      _reactNative.Alert.alert("Félicitations", `Vous avez terminé tous les exercices d'orthographe ${exerciseType} du niveau ${level} !`);
      return {
        completed: true
      };
    }
    return {
      completed: false
    };
  }, [currentExerciseIndex, totalExercises, isCorrect, userInput, currentExercise, completedExercises, userAnswers, saveToStorage, resetExerciseState, exerciseType, level]);
  var retryExercise = (0, _react.useCallback)(function () {
    resetExerciseState();
  }, [resetExerciseState]);
  var stats = {
    totalExercises: totalExercises,
    completedExercisesCount: completedExercises.length,
    totalProgress: totalExercises > 0 ? Math.round(completedExercises.length / totalExercises * 100) : 0,
    remainingExercises: totalExercises - completedExercises.length,
    performance: {
      total: userAnswers.length,
      correct: userAnswers.filter(function (answer) {
        return answer.isCorrect;
      }).length,
      incorrect: userAnswers.filter(function (answer) {
        return !answer.isCorrect;
      }).length,
      accuracy: userAnswers.length > 0 ? Math.round(userAnswers.filter(function (answer) {
        return answer.isCorrect;
      }).length / userAnswers.length * 100) : 0
    },
    completedExercises: completedExercises,
    userAnswers: userAnswers
  };
  var isLastExercise = currentExerciseIndex === totalExercises - 1;
  return {
    currentExerciseIndex: currentExerciseIndex,
    userInput: userInput,
    showHint: showHint,
    showFeedback: showFeedback,
    isCorrect: isCorrect,
    completedExercises: completedExercises,
    userAnswers: userAnswers,
    loaded: loaded,
    currentExercise: currentExercise,
    totalExercises: totalExercises,
    exercises: exercises,
    setUserInput: setUserInput,
    toggleHint: toggleHint,
    checkAnswer: checkAnswer,
    handleNext: handleNext,
    retryExercise: retryExercise,
    resetExerciseState: resetExerciseState,
    isLastExercise: isLastExercise,
    hasValidData: hasValidData,
    stats: stats
  };
};
var _default = exports.default = useSpelling;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX3JlYWN0TmF0aXZlIiwiX2FzeW5jU3RvcmFnZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJ1c2VTcGVsbGluZyIsInNwZWxsaW5nRGF0YSIsImxldmVsIiwiZXhlcmNpc2VUeXBlIiwiaGFuZGxlU3RvcmFnZUVycm9yIiwiZXJyb3IiLCJvcGVyYXRpb24iLCJmYWxsYmFjayIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImNvbnNvbGUiLCJ3YXJuIiwiU1RPUkFHRV9LRVkiLCJfdXNlU3RhdGUiLCJ1c2VTdGF0ZSIsIl91c2VTdGF0ZTIiLCJfc2xpY2VkVG9BcnJheTIiLCJkZWZhdWx0IiwiY3VycmVudEV4ZXJjaXNlSW5kZXgiLCJzZXRDdXJyZW50RXhlcmNpc2VJbmRleCIsIl91c2VTdGF0ZTMiLCJfdXNlU3RhdGU0IiwidXNlcklucHV0Iiwic2V0VXNlcklucHV0IiwiX3VzZVN0YXRlNSIsIl91c2VTdGF0ZTYiLCJzaG93SGludCIsInNldFNob3dIaW50IiwiX3VzZVN0YXRlNyIsIl91c2VTdGF0ZTgiLCJzaG93RmVlZGJhY2siLCJzZXRTaG93RmVlZGJhY2siLCJfdXNlU3RhdGU5IiwiX3VzZVN0YXRlMCIsImlzQ29ycmVjdCIsInNldElzQ29ycmVjdCIsIl91c2VTdGF0ZTEiLCJfdXNlU3RhdGUxMCIsImxvYWRlZCIsInNldExvYWRlZCIsIl91c2VTdGF0ZTExIiwiX3VzZVN0YXRlMTIiLCJjb21wbGV0ZWRFeGVyY2lzZXMiLCJzZXRDb21wbGV0ZWRFeGVyY2lzZXMiLCJfdXNlU3RhdGUxMyIsIl91c2VTdGF0ZTE0IiwidXNlckFuc3dlcnMiLCJzZXRVc2VyQW5zd2VycyIsImlzSW5pdGlhbGl6ZWQiLCJ1c2VSZWYiLCJleGVyY2lzZXMiLCJ0b3RhbEV4ZXJjaXNlcyIsImN1cnJlbnRFeGVyY2lzZSIsImhhc1ZhbGlkRGF0YSIsImxvZyIsImV4ZXJjaXNlc0xlbmd0aCIsImxvYWRTdG9yZWREYXRhIiwidXNlQ2FsbGJhY2siLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJzYXZlZCIsIkFzeW5jU3RvcmFnZSIsImdldEl0ZW0iLCJfZGF0YSRsYXN0UG9zaXRpb24iLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwibGFzdFBvc2l0aW9uIiwiZXhlcmNpc2VJbmRleCIsInVzZUVmZmVjdCIsImN1cnJlbnQiLCJzYXZlVG9TdG9yYWdlIiwiX3JlZjIiLCJkYXRhVG9TYXZlIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsIl94IiwiYXBwbHkiLCJyZXNldEV4ZXJjaXNlU3RhdGUiLCJ0b2dnbGVIaW50IiwicHJldiIsImNoZWNrQW5zd2VyIiwiY29ycmVjdEFuc3dlciIsIkFsZXJ0IiwiYWxlcnQiLCJjb3JyZWN0IiwidHlwZSIsInVzZXJBbnN3ZXIiLCJTdHJpbmciLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJoYW5kbGVOZXh0IiwibmV3Q29tcGxldGVkIiwiaW5jbHVkZXMiLCJjb25jYXQiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwibmV3QW5zd2VyIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsIm5ld0Fuc3dlcnMiLCJjb21wbGV0ZWQiLCJyZXRyeUV4ZXJjaXNlIiwic3RhdHMiLCJjb21wbGV0ZWRFeGVyY2lzZXNDb3VudCIsInRvdGFsUHJvZ3Jlc3MiLCJNYXRoIiwicm91bmQiLCJyZW1haW5pbmdFeGVyY2lzZXMiLCJwZXJmb3JtYW5jZSIsInRvdGFsIiwiZmlsdGVyIiwiYW5zd2VyIiwiaW5jb3JyZWN0IiwiYWNjdXJhY3kiLCJpc0xhc3RFeGVyY2lzZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbInVzZVNwZWxsaW5nLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9zY3JlZW5zL2V4ZXJjaXNlcy9zcGVsbGluZy9ob29rcy91c2VTcGVsbGluZy5qcyAtIFZFUlNJT04gQ09SUklHw4lFXHJcblxyXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBBbGVydCB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XHJcbmltcG9ydCBBc3luY1N0b3JhZ2UgZnJvbSAnQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlL2FzeW5jLXN0b3JhZ2UnO1xyXG5cclxuY29uc3QgdXNlU3BlbGxpbmcgPSAoc3BlbGxpbmdEYXRhLCBsZXZlbCwgZXhlcmNpc2VUeXBlKSA9PiB7XHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PSBFUlJPUiBIQU5ETElORyBIRUxQRVIgPT09PT09PT09PT09PT09PT09PVxyXG4gIGNvbnN0IGhhbmRsZVN0b3JhZ2VFcnJvciA9IChlcnJvciwgb3BlcmF0aW9uLCBmYWxsYmFjayA9IG51bGwpID0+IHtcclxuICAgIGNvbnNvbGUud2FybihgU3BlbGxpbmcgc3RvcmFnZSBlcnJvciBpbiAke29wZXJhdGlvbn06YCwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGZhbGxiYWNrO1xyXG4gIH07XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT0gU1RPUkFHRSBLRVkgPT09PT09PT09PT09PT09PT09PVxyXG4gIGNvbnN0IFNUT1JBR0VfS0VZID0gYHNwZWxsaW5nXyR7bGV2ZWx9XyR7ZXhlcmNpc2VUeXBlfWA7XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT0gU1RBVEUgPT09PT09PT09PT09PT09PT09PVxyXG4gIGNvbnN0IFtjdXJyZW50RXhlcmNpc2VJbmRleCwgc2V0Q3VycmVudEV4ZXJjaXNlSW5kZXhdID0gdXNlU3RhdGUoMCk7XHJcbiAgY29uc3QgW3VzZXJJbnB1dCwgc2V0VXNlcklucHV0XSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbc2hvd0hpbnQsIHNldFNob3dIaW50XSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbc2hvd0ZlZWRiYWNrLCBzZXRTaG93RmVlZGJhY2tdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtpc0NvcnJlY3QsIHNldElzQ29ycmVjdF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2xvYWRlZCwgc2V0TG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbY29tcGxldGVkRXhlcmNpc2VzLCBzZXRDb21wbGV0ZWRFeGVyY2lzZXNdID0gdXNlU3RhdGUoW10pO1xyXG4gIGNvbnN0IFt1c2VyQW5zd2Vycywgc2V0VXNlckFuc3dlcnNdID0gdXNlU3RhdGUoW10pO1xyXG5cclxuICBjb25zdCBpc0luaXRpYWxpemVkID0gdXNlUmVmKGZhbHNlKTtcclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PSBDT01QVVRFRCBWQUxVRVMgPT09PT09PT09PT09PT09PT09PVxyXG4gIGNvbnN0IGV4ZXJjaXNlcyA9IHNwZWxsaW5nRGF0YT8uZXhlcmNpc2VzIHx8IFtdO1xyXG4gIGNvbnN0IHRvdGFsRXhlcmNpc2VzID0gZXhlcmNpc2VzLmxlbmd0aDtcclxuICBjb25zdCBjdXJyZW50RXhlcmNpc2UgPSBleGVyY2lzZXNbY3VycmVudEV4ZXJjaXNlSW5kZXhdO1xyXG4gIGNvbnN0IGhhc1ZhbGlkRGF0YSA9IGV4ZXJjaXNlcy5sZW5ndGggPiAwO1xyXG5cclxuICAvLyDinIUgQUpPVVTDiSA6IERlYnVnIHBvdXIgY29tcHJlbmRyZSBwb3VycXVvaSBoYXNWYWxpZERhdGEgZXN0IGZhbHNlXHJcbiAgY29uc29sZS5sb2coJ/CflI0gREVCVUcgdXNlU3BlbGxpbmc6Jywge1xyXG4gICAgc3BlbGxpbmdEYXRhOiAhIXNwZWxsaW5nRGF0YSxcclxuICAgIGV4ZXJjaXNlc0xlbmd0aDogZXhlcmNpc2VzLmxlbmd0aCxcclxuICAgIHRvdGFsRXhlcmNpc2VzLFxyXG4gICAgY3VycmVudEV4ZXJjaXNlOiAhIWN1cnJlbnRFeGVyY2lzZSxcclxuICAgIGhhc1ZhbGlkRGF0YSxcclxuICAgIGxldmVsLFxyXG4gICAgZXhlcmNpc2VUeXBlXHJcbiAgfSk7XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT0gREFUQSBMT0FESU5HID09PT09PT09PT09PT09PT09PT1cclxuICBjb25zdCBsb2FkU3RvcmVkRGF0YSA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgQXN5bmNTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVkpO1xyXG4gICAgICBpZiAoc2F2ZWQpIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShzYXZlZCk7XHJcbiAgICAgICAgc2V0Q29tcGxldGVkRXhlcmNpc2VzKGRhdGEuY29tcGxldGVkRXhlcmNpc2VzIHx8IFtdKTtcclxuICAgICAgICBzZXRVc2VyQW5zd2VycyhkYXRhLnVzZXJBbnN3ZXJzIHx8IFtdKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoZGF0YS5sYXN0UG9zaXRpb24/LmV4ZXJjaXNlSW5kZXggIT09IHVuZGVmaW5lZCAmJiBcclxuICAgICAgICAgICAgZGF0YS5sYXN0UG9zaXRpb24uZXhlcmNpc2VJbmRleCA+PSAwICYmIFxyXG4gICAgICAgICAgICBkYXRhLmxhc3RQb3NpdGlvbi5leGVyY2lzZUluZGV4IDwgdG90YWxFeGVyY2lzZXMpIHtcclxuICAgICAgICAgIHNldEN1cnJlbnRFeGVyY2lzZUluZGV4KGRhdGEubGFzdFBvc2l0aW9uLmV4ZXJjaXNlSW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgLy8g4pyFIEdlc3Rpb24gZCdlcnJldXIgYXBwcm9wcmnDqWVcclxuICAgICAgaGFuZGxlU3RvcmFnZUVycm9yKGVycm9yLCAnbG9hZFN0b3JlZERhdGEnKTtcclxuICAgICAgLy8gRmFsbGJhY2s6IHV0aWxpc2VyIGxlcyB2YWxldXJzIHBhciBkw6lmYXV0XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRMb2FkZWQodHJ1ZSk7XHJcbiAgICB9XHJcbiAgfSwgW1NUT1JBR0VfS0VZLCB0b3RhbEV4ZXJjaXNlc10pO1xyXG5cclxuICAvLyDinIUgRUZGRVQgU0lNUExJRknDiSAtIHVuZSBzZXVsZSBmb2lzXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghaXNJbml0aWFsaXplZC5jdXJyZW50KSB7XHJcbiAgICAgIGxvYWRTdG9yZWREYXRhKCk7XHJcbiAgICAgIGlzSW5pdGlhbGl6ZWQuY3VycmVudCA9IHRydWU7XHJcbiAgICB9XHJcbiAgfSwgW2xvYWRTdG9yZWREYXRhXSk7XHJcblxyXG4gIC8vIOKchSBTQVZFIEZPTkNUSU9OIFNUQUJMRVxyXG4gIGNvbnN0IHNhdmVUb1N0b3JhZ2UgPSB1c2VDYWxsYmFjayhhc3luYyAoZGF0YVRvU2F2ZSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgQXN5bmNTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVksIEpTT04uc3RyaW5naWZ5KGRhdGFUb1NhdmUpKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIC8vIOKchSBHZXN0aW9uIGQnZXJyZXVyIGFwcHJvcHJpw6llXHJcbiAgICAgIGhhbmRsZVN0b3JhZ2VFcnJvcihlcnJvciwgJ3NhdmVUb1N0b3JhZ2UnKTtcclxuICAgICAgLy8gRmFsbGJhY2s6IGNvbnRpbnVlciBzYW5zIHNhdXZlZ2FyZGVcclxuICAgIH1cclxuICB9LCBbU1RPUkFHRV9LRVldKTtcclxuXHJcbiAgY29uc3QgcmVzZXRFeGVyY2lzZVN0YXRlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgc2V0VXNlcklucHV0KCcnKTtcclxuICAgIHNldFNob3dIaW50KGZhbHNlKTtcclxuICAgIHNldFNob3dGZWVkYmFjayhmYWxzZSk7XHJcbiAgICBzZXRJc0NvcnJlY3QoZmFsc2UpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgdG9nZ2xlSGludCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIHNldFNob3dIaW50KHByZXYgPT4gIXByZXYpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgY2hlY2tBbnN3ZXIgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBpZiAoIWN1cnJlbnRFeGVyY2lzZT8uY29ycmVjdEFuc3dlcikge1xyXG4gICAgICBBbGVydC5hbGVydCgnRXJyZXVyJywgJ1LDqXBvbnNlIGNvcnJlY3RlIG5vbiBkw6lmaW5pZScpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IGNvcnJlY3QgPSBmYWxzZTtcclxuXHJcbiAgICAgIHN3aXRjaCAoY3VycmVudEV4ZXJjaXNlLnR5cGUpIHtcclxuICAgICAgICBjYXNlICdob21vcGhvbmVzJzpcclxuICAgICAgICAgIGNvcnJlY3QgPSB1c2VySW5wdXQgPT09IGN1cnJlbnRFeGVyY2lzZS5jb3JyZWN0QW5zd2VyO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnY29ycmVjdGlvbic6XHJcbiAgICAgICAgY2FzZSAnc3BlbGxpbmdfcnVsZSc6XHJcbiAgICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgICAgY29uc3QgdXNlckFuc3dlciA9IFN0cmluZyh1c2VySW5wdXQpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgY29uc3QgY29ycmVjdEFuc3dlciA9IFN0cmluZyhjdXJyZW50RXhlcmNpc2UuY29ycmVjdEFuc3dlcikudHJpbSgpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICBjb3JyZWN0ID0gdXNlckFuc3dlciA9PT0gY29ycmVjdEFuc3dlcjtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgc2V0SXNDb3JyZWN0KGNvcnJlY3QpO1xyXG4gICAgICBzZXRTaG93RmVlZGJhY2sodHJ1ZSk7XHJcbiAgICAgIHJldHVybiBjb3JyZWN0O1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIC8vIOKchSBHZXN0aW9uIGQnZXJyZXVyIGFwcHJvcHJpw6llXHJcbiAgICAgIGNvbnNvbGUud2FybignRXJyb3IgY2hlY2tpbmcgc3BlbGxpbmcgYW5zd2VyOicsIGVycm9yKTtcclxuICAgICAgc2V0SXNDb3JyZWN0KGZhbHNlKTtcclxuICAgICAgc2V0U2hvd0ZlZWRiYWNrKHRydWUpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSwgW3VzZXJJbnB1dCwgY3VycmVudEV4ZXJjaXNlXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZU5leHQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICAvLyBNYXJxdWVyIGNvbW1lIGNvbXBsw6l0w6lcclxuICAgIGNvbnN0IG5ld0NvbXBsZXRlZCA9IGNvbXBsZXRlZEV4ZXJjaXNlcy5pbmNsdWRlcyhjdXJyZW50RXhlcmNpc2VJbmRleCkgXHJcbiAgICAgID8gY29tcGxldGVkRXhlcmNpc2VzIFxyXG4gICAgICA6IFsuLi5jb21wbGV0ZWRFeGVyY2lzZXMsIGN1cnJlbnRFeGVyY2lzZUluZGV4XTtcclxuXHJcbiAgICBjb25zdCBuZXdBbnN3ZXIgPSB7XHJcbiAgICAgIGV4ZXJjaXNlSW5kZXg6IGN1cnJlbnRFeGVyY2lzZUluZGV4LFxyXG4gICAgICBpc0NvcnJlY3QsXHJcbiAgICAgIHVzZXJBbnN3ZXI6IHVzZXJJbnB1dCxcclxuICAgICAgY29ycmVjdEFuc3dlcjogY3VycmVudEV4ZXJjaXNlPy5jb3JyZWN0QW5zd2VyIHx8ICcnLFxyXG4gICAgICBleGVyY2lzZVR5cGU6IGN1cnJlbnRFeGVyY2lzZT8udHlwZSB8fCAnY29ycmVjdGlvbicsXHJcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBuZXdBbnN3ZXJzID0gWy4uLnVzZXJBbnN3ZXJzLCBuZXdBbnN3ZXJdO1xyXG5cclxuICAgIC8vIFNhdXZlZ2FyZGVyIGltbcOpZGlhdGVtZW50XHJcbiAgICBjb25zdCBkYXRhVG9TYXZlID0ge1xyXG4gICAgICBjb21wbGV0ZWRFeGVyY2lzZXM6IG5ld0NvbXBsZXRlZCxcclxuICAgICAgdXNlckFuc3dlcnM6IG5ld0Fuc3dlcnMsXHJcbiAgICAgIGxhc3RQb3NpdGlvbjoge1xyXG4gICAgICAgIGV4ZXJjaXNlSW5kZXg6IGN1cnJlbnRFeGVyY2lzZUluZGV4IDwgdG90YWxFeGVyY2lzZXMgLSAxID8gY3VycmVudEV4ZXJjaXNlSW5kZXggKyAxIDogY3VycmVudEV4ZXJjaXNlSW5kZXgsXHJcbiAgICAgICAgZXhlcmNpc2VUeXBlLFxyXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHNhdmVUb1N0b3JhZ2UoZGF0YVRvU2F2ZSk7XHJcblxyXG4gICAgLy8gTWV0dHJlIMOgIGpvdXIgbGVzIHN0YXRlc1xyXG4gICAgc2V0Q29tcGxldGVkRXhlcmNpc2VzKG5ld0NvbXBsZXRlZCk7XHJcbiAgICBzZXRVc2VyQW5zd2VycyhuZXdBbnN3ZXJzKTtcclxuXHJcbiAgICBpZiAoY3VycmVudEV4ZXJjaXNlSW5kZXggPCB0b3RhbEV4ZXJjaXNlcyAtIDEpIHtcclxuICAgICAgc2V0Q3VycmVudEV4ZXJjaXNlSW5kZXgocHJldiA9PiBwcmV2ICsgMSk7XHJcbiAgICAgIHJlc2V0RXhlcmNpc2VTdGF0ZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgQWxlcnQuYWxlcnQoXHJcbiAgICAgICAgXCJGw6lsaWNpdGF0aW9uc1wiLCBcclxuICAgICAgICBgVm91cyBhdmV6IHRlcm1pbsOpIHRvdXMgbGVzIGV4ZXJjaWNlcyBkJ29ydGhvZ3JhcGhlICR7ZXhlcmNpc2VUeXBlfSBkdSBuaXZlYXUgJHtsZXZlbH0gIWBcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIHsgY29tcGxldGVkOiB0cnVlIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiB7IGNvbXBsZXRlZDogZmFsc2UgfTtcclxuICB9LCBbXHJcbiAgICBjdXJyZW50RXhlcmNpc2VJbmRleCwgXHJcbiAgICB0b3RhbEV4ZXJjaXNlcywgXHJcbiAgICBpc0NvcnJlY3QsIFxyXG4gICAgdXNlcklucHV0LCBcclxuICAgIGN1cnJlbnRFeGVyY2lzZSwgXHJcbiAgICBjb21wbGV0ZWRFeGVyY2lzZXMsIFxyXG4gICAgdXNlckFuc3dlcnMsIFxyXG4gICAgc2F2ZVRvU3RvcmFnZSwgXHJcbiAgICByZXNldEV4ZXJjaXNlU3RhdGUsIFxyXG4gICAgZXhlcmNpc2VUeXBlLCBcclxuICAgIGxldmVsXHJcbiAgXSk7XHJcblxyXG4gIGNvbnN0IHJldHJ5RXhlcmNpc2UgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICByZXNldEV4ZXJjaXNlU3RhdGUoKTtcclxuICB9LCBbcmVzZXRFeGVyY2lzZVN0YXRlXSk7XHJcblxyXG4gIGNvbnN0IHN0YXRzID0ge1xyXG4gICAgdG90YWxFeGVyY2lzZXMsXHJcbiAgICBjb21wbGV0ZWRFeGVyY2lzZXNDb3VudDogY29tcGxldGVkRXhlcmNpc2VzLmxlbmd0aCxcclxuICAgIHRvdGFsUHJvZ3Jlc3M6IHRvdGFsRXhlcmNpc2VzID4gMCA/IE1hdGgucm91bmQoKGNvbXBsZXRlZEV4ZXJjaXNlcy5sZW5ndGggLyB0b3RhbEV4ZXJjaXNlcykgKiAxMDApIDogMCxcclxuICAgIHJlbWFpbmluZ0V4ZXJjaXNlczogdG90YWxFeGVyY2lzZXMgLSBjb21wbGV0ZWRFeGVyY2lzZXMubGVuZ3RoLFxyXG4gICAgcGVyZm9ybWFuY2U6IHtcclxuICAgICAgdG90YWw6IHVzZXJBbnN3ZXJzLmxlbmd0aCxcclxuICAgICAgY29ycmVjdDogdXNlckFuc3dlcnMuZmlsdGVyKGFuc3dlciA9PiBhbnN3ZXIuaXNDb3JyZWN0KS5sZW5ndGgsXHJcbiAgICAgIGluY29ycmVjdDogdXNlckFuc3dlcnMuZmlsdGVyKGFuc3dlciA9PiAhYW5zd2VyLmlzQ29ycmVjdCkubGVuZ3RoLFxyXG4gICAgICBhY2N1cmFjeTogdXNlckFuc3dlcnMubGVuZ3RoID4gMCA/IE1hdGgucm91bmQoKHVzZXJBbnN3ZXJzLmZpbHRlcihhbnN3ZXIgPT4gYW5zd2VyLmlzQ29ycmVjdCkubGVuZ3RoIC8gdXNlckFuc3dlcnMubGVuZ3RoKSAqIDEwMCkgOiAwXHJcbiAgICB9LFxyXG4gICAgY29tcGxldGVkRXhlcmNpc2VzLFxyXG4gICAgdXNlckFuc3dlcnNcclxuICB9O1xyXG5cclxuICBjb25zdCBpc0xhc3RFeGVyY2lzZSA9IGN1cnJlbnRFeGVyY2lzZUluZGV4ID09PSB0b3RhbEV4ZXJjaXNlcyAtIDE7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBjdXJyZW50RXhlcmNpc2VJbmRleCxcclxuICAgIHVzZXJJbnB1dCxcclxuICAgIHNob3dIaW50LFxyXG4gICAgc2hvd0ZlZWRiYWNrLFxyXG4gICAgaXNDb3JyZWN0LFxyXG4gICAgY29tcGxldGVkRXhlcmNpc2VzLFxyXG4gICAgdXNlckFuc3dlcnMsXHJcbiAgICBsb2FkZWQsXHJcbiAgICBjdXJyZW50RXhlcmNpc2UsXHJcbiAgICB0b3RhbEV4ZXJjaXNlcyxcclxuICAgIGV4ZXJjaXNlcyxcclxuICAgIHNldFVzZXJJbnB1dCxcclxuICAgIHRvZ2dsZUhpbnQsXHJcbiAgICBjaGVja0Fuc3dlcixcclxuICAgIGhhbmRsZU5leHQsXHJcbiAgICByZXRyeUV4ZXJjaXNlLFxyXG4gICAgcmVzZXRFeGVyY2lzZVN0YXRlLFxyXG4gICAgaXNMYXN0RXhlcmNpc2UsXHJcbiAgICBoYXNWYWxpZERhdGEsXHJcbiAgICBzdGF0cyxcclxuICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlU3BlbGxpbmc7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUVBLElBQUFBLE1BQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLFlBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLGFBQUEsR0FBQUMsc0JBQUEsQ0FBQUgsT0FBQTtBQUVBLElBQU1JLFdBQVcsR0FBRyxTQUFkQSxXQUFXQSxDQUFJQyxZQUFZLEVBQUVDLEtBQUssRUFBRUMsWUFBWSxFQUFLO0VBRXpELElBQU1D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