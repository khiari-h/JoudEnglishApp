{"version":3,"names":["_getJestObj","mock","Reanimated","require","default","createAnimatedComponent","Component","_require","View","LinearGradient","props","_jsxRuntime","jsx","Object","assign","_require2","Text","Ionicons","testID","name","children","_require3","StyleSheet","Platform","createStyles","primaryColor","create","container","buttonsRow","previousButton","backgroundColor","select","ios","shadowColor","android","elevation","previousText","nextButtonContainer","borderRadius","nextButton","nextText","nextIcon","disabled","_interopRequireDefault","_react","_reactNative","_reactNative2","_NavigationButtons","_require4","jest","describe","onNextMock","fn","onPreviousMock","beforeAll","useFakeTimers","afterAll","useRealTimers","afterEach","clearAllMocks","resetModules","it","_render","render","onNext","onPrevious","getByText","expect","toBeTruthy","_render2","disablePrevious","queryByText","toBeNull","_render3","fireEvent","press","act","runAllTimers","toHaveBeenCalledTimes","_render4","_render5","disableNext","not","toHaveBeenCalled","_render6","isLast","getByTestId","OS","_render7","parent","prevStyles","Array","isArray","style","nextStyles","hasShadowColorPrev","some","hasShadowColorNext","hasElevationPrev","hasElevationNext","toBe","_render8"],"sources":["NavigationButtons.test.js"],"sourcesContent":["// __tests__/components/exercise-common/NavigationButtons.test.js\nimport React from 'react';\nimport { render, fireEvent, act } from '@testing-library/react-native';\nimport { Platform } from 'react-native';\nimport NavigationButtons from '../../../src/components/exercise-common/NavigationButtons';\n\n// Step 1: Add this mock for `react-native-reanimated` at the top of the file\njest.mock('react-native-reanimated', () => {\n    const Reanimated = require('react-native-reanimated/mock');\n\n    // The mock does not automatically forward all the properties of createAnimatedComponent\n    // We need to add them here manually.\n    Reanimated.default.createAnimatedComponent = (Component) => Component;\n    return Reanimated;\n});\n\n// Mock des autres dépendances\njest.mock('expo-linear-gradient', () => {\n    const { View } = require('react-native');\n    return {\n        LinearGradient: (props) => <View {...props} />,\n    };\n});\n\njest.mock('@expo/vector-icons', () => {\n    const { Text } = require('react-native');\n    return {\n        Ionicons: (props) => <Text testID={`icon-${props.name}`}>{props.name}</Text>,\n    };\n});\n\n// Corrected Mock of the style file to simulate platform-specific styles and base styles\njest.mock('../../../src/components/exercise-common/NavigationButtons/style', () => {\n    const { StyleSheet, Platform } = require('react-native'); \n    \n    const createStyles = (primaryColor) =>\n        StyleSheet.create({\n            container: {},\n            buttonsRow: {},\n            previousButton: {\n                // A base style that is always present\n                backgroundColor: 'grey', \n                ...Platform.select({\n                    ios: { shadowColor: 'mock-shadow-ios' },\n                    android: { elevation: 3 },\n                }),\n            },\n            previousText: {},\n            nextButtonContainer: {\n                // A base style that is always present\n                borderRadius: 10,\n                ...Platform.select({\n                    ios: { shadowColor: 'mock-shadow-ios' },\n                    android: { elevation: 6 },\n                }),\n            },\n            nextButton: {},\n            nextText: {},\n            nextIcon: {},\n            disabled: {},\n        });\n    return createStyles;\n});\n\ndescribe('NavigationButtons', () => {\n    const onNextMock = jest.fn();\n    const onPreviousMock = jest.fn();\n\n    beforeAll(() => {\n        jest.useFakeTimers();\n    });\n\n    afterAll(() => {\n        jest.useRealTimers();\n    });\n\n    afterEach(() => {\n        jest.clearAllMocks();\n        // Reset the module cache to force the style file to be reloaded for each test\n        jest.resetModules(); \n    });\n\n    it('renders both previous and next buttons by default', () => {\n        const { getByText } = render(<NavigationButtons onNext={onNextMock} onPrevious={onPreviousMock} />);\n        expect(getByText('Précédent')).toBeTruthy();\n        expect(getByText('Suivant')).toBeTruthy();\n    });\n\n    it('hides the previous button when disablePrevious is true', () => {\n        const { queryByText } = render(<NavigationButtons disablePrevious={true} />);\n        expect(queryByText('Précédent')).toBeNull();\n    });\n\n    it('calls onPrevious when the previous button is pressed', () => {\n        const { getByText } = render(<NavigationButtons onPrevious={onPreviousMock} />);\n        fireEvent.press(getByText('Précédent'));\n        act(() => jest.runAllTimers());\n        expect(onPreviousMock).toHaveBeenCalledTimes(1);\n    });\n\n    it('calls onNext when the next button is pressed', () => {\n        const { getByText } = render(<NavigationButtons onNext={onNextMock} />);\n        fireEvent.press(getByText('Suivant'));\n        act(() => jest.runAllTimers());\n        expect(onNextMock).toHaveBeenCalledTimes(1);\n    });\n\n    it('does not call onNext when the next button is disabled', () => {\n        const { getByText } = render(<NavigationButtons onNext={onNextMock} disableNext={true} />);\n        fireEvent.press(getByText('Suivant'));\n        expect(onNextMock).not.toHaveBeenCalled();\n    });\n\n    it('displays \"Terminer\" and a checkmark icon on the next button when isLast is true', () => {\n        const { getByText, getByTestId } = render(<NavigationButtons isLast={true} />);\n        expect(getByText('Terminer')).toBeTruthy();\n        expect(getByTestId('icon-checkmark')).toBeTruthy();\n    });\n\n    it('applies iOS styles correctly', () => {\n        Platform.OS = 'ios';\n        const { getByText } = render(<NavigationButtons />);\n        const previousButton = getByText('Précédent').parent;\n        const nextButton = getByText('Suivant').parent.parent;\n\n        const prevStyles = Array.isArray(previousButton.props.style) ? previousButton.props.style : [previousButton.props.style];\n        const nextStyles = Array.isArray(nextButton.props.style) ? nextButton.props.style : [nextButton.props.style];\n\n        const hasShadowColorPrev = prevStyles.some(style => style && 'shadowColor' in style);\n        const hasShadowColorNext = nextStyles.some(style => style && 'shadowColor' in style);\n        const hasElevationPrev = prevStyles.some(style => style && 'elevation' in style);\n        const hasElevationNext = nextStyles.some(style => style && 'elevation' in style);\n\n        expect(hasShadowColorPrev).toBe(true);\n        expect(hasShadowColorNext).toBe(true);\n        expect(hasElevationPrev).toBe(false);\n        expect(hasElevationNext).toBe(false);\n    });\n\n    it('applies Android styles correctly', () => {\n        Platform.OS = 'android';\n        const { getByText } = render(<NavigationButtons />);\n        const previousButton = getByText('Précédent').parent;\n        const nextButton = getByText('Suivant').parent.parent;\n\n        const prevStyles = Array.isArray(previousButton.props.style) ? previousButton.props.style : [previousButton.props.style];\n        const nextStyles = Array.isArray(nextButton.props.style) ? nextStyles.props.style : [nextButton.props.style];\n\n        const hasElevationPrev = prevStyles.some(style => style && 'elevation' in style);\n        const hasElevationNext = nextStyles.some(style => style && 'elevation' in style);\n        const hasShadowColorPrev = prevStyles.some(style => style && 'shadowColor' in style);\n        const hasShadowColorNext = nextStyles.some(style => style && 'shadowColor' in style);\n\n        expect(hasElevationPrev).toBe(true);\n        expect(hasElevationNext).toBe(true);\n        expect(hasShadowColorPrev).toBe(false);\n        expect(hasShadowColorNext).toBe(false);\n    });\n});"],"mappings":"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","ignoreList":[]}