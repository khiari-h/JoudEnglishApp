{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_style","_interopRequireDefault","_useModalAnimation","_ModalBackdrop","_ModalHeader","_ModalBody","_ModalFooter","_jsxRuntime","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","Modal","_ref","_ref$visible","visible","onClose","title","children","footer","_ref$position","position","_ref$animationType","animationType","_ref$closeOnBackdropP","closeOnBackdropPress","_ref$showCloseButton","showCloseButton","width","height","maxHeight","_ref$fullScreen","fullScreen","_ref$transparent","transparent","_ref$backdropColor","backdropColor","contentContainerStyle","headerStyle","footerStyle","bodyStyle","_ref$avoidKeyboard","avoidKeyboard","_ref$scrollable","scrollable","customAnimation","customStyle","useModalAnimation","handleBackdropPress","useCallback","getModalWidth","screenWidth","Dimensions","Math","min","getModalHeight","getPositionStyle","styles","bottomPosition","topPosition","centerPosition","getCustomAnimationStyle","renderModalContent","modalContent","jsxs","Animated","View","style","contentContainer","jsx","KeyboardAvoidingView","behavior","Platform","OS","keyboardAvoidingView","onRequestClose","modalContainer","backgroundColor","onPress","_default","exports"],"sources":["index.js"],"sourcesContent":["// src/components/ui/Modal/index.js\nimport React, { useCallback } from \"react\";\nimport {\n  Modal as RNModal,\n  View,\n  Text,\n  TouchableOpacity,\n  TouchableWithoutFeedback,\n  Animated,\n  Dimensions,\n  ScrollView,\n  KeyboardAvoidingView,\n  Platform,\n} from \"react-native\";\nimport styles from \"./style\";\nimport useModalAnimation from \"./useModalAnimation\";\nimport ModalBackdrop from \"./ModalBackdrop\";\nimport ModalHeader from \"./ModalHeader\";\nimport ModalBody from \"./ModalBody\";\nimport ModalFooter from \"./ModalFooter\";\n\n/**\n * Composant Modal personnalisé avec plusieurs variantes et animations\n */\nconst Modal = ({\n  visible = false,\n  onClose,\n  title,\n  children,\n  footer,\n  position = \"center\", // 'center', 'bottom', 'top'\n  animationType = \"fade\", // 'none', 'slide', 'fade', 'custom'\n  closeOnBackdropPress = true,\n  showCloseButton = true,\n  width,\n  height,\n  maxHeight,\n  fullScreen = false,\n  transparent = true,\n  backdropColor = \"rgba(0, 0, 0, 0.5)\",\n  contentContainerStyle,\n  headerStyle,\n  footerStyle,\n  bodyStyle,\n  avoidKeyboard = true,\n  scrollable = false,\n  customAnimation,\n}) => {\n  const customStyle = useModalAnimation({ visible, animationType, position, customAnimation });\n\n  // Gérer le clic sur l'arrière-plan\n  const handleBackdropPress = useCallback(() => {\n    if (closeOnBackdropPress && onClose) {\n      onClose();\n    }\n  }, [closeOnBackdropPress, onClose]);\n\n  // Calcul de la largeur de la modal\n  const getModalWidth = () => {\n    if (fullScreen) return \"100%\";\n    if (width) return width;\n\n    const screenWidth = Dimensions.get(\"window\").width;\n    switch (position) {\n      case \"bottom\":\n      case \"top\":\n        return \"100%\";\n      case \"center\":\n      default:\n        return Math.min(screenWidth - 48, 480);\n    }\n  };\n\n  // Calcul de la hauteur de la modal\n  const getModalHeight = () => {\n    if (fullScreen) return \"100%\";\n    if (height) return height;\n    return \"auto\";\n  };\n\n  // Position de la modal\n  const getPositionStyle = () => {\n    switch (position) {\n      case \"bottom\":\n        return styles.bottomPosition;\n      case \"top\":\n        return styles.topPosition;\n      case \"center\":\n      default:\n        return styles.centerPosition;\n    }\n  };\n\n  // Style d'animation personnalisée\n  const getCustomAnimationStyle = () => customStyle;\n\n  // Construction du contenu de la modal\n  const renderModalContent = () => {\n    const modalContent = (\n      <Animated.View\n        style={[\n          styles.contentContainer,\n          getPositionStyle(),\n          {\n            width: getModalWidth(),\n            height: getModalHeight(),\n            maxHeight,\n          },\n          animationType === \"custom\" && getCustomAnimationStyle(),\n          contentContainerStyle,\n        ]}\n      >\n        <ModalHeader title={title} showCloseButton={showCloseButton} onClose={onClose} headerStyle={headerStyle} />\n\n        <ModalBody scrollable={scrollable} bodyStyle={bodyStyle}>{children}</ModalBody>\n\n        <ModalFooter footer={footer} footerStyle={footerStyle} />\n      </Animated.View>\n    );\n\n    // Envelopper dans KeyboardAvoidingView si nécessaire\n    return avoidKeyboard ? (\n      <KeyboardAvoidingView\n        behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"}\n        style={styles.keyboardAvoidingView}\n      >\n        {modalContent}\n      </KeyboardAvoidingView>\n    ) : (\n      modalContent\n    );\n  };\n\n  return (\n    <RNModal\n      visible={visible}\n      transparent={transparent}\n      onRequestClose={onClose}\n      animationType={animationType === \"custom\" ? \"none\" : animationType}\n    >\n      <View style={[styles.modalContainer, { backgroundColor: backdropColor }]}>\n        <ModalBackdrop backdropColor={backdropColor} onPress={handleBackdropPress} />\n\n        {/* Contenu de la modal */}\n        {renderModalContent()}\n      </View>\n    </RNModal>\n  );\n};\n\nexport default Modal;\n\n"],"mappings":"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","ignoreList":[]}