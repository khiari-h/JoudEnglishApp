fc8a85186ae46999a06ac40b68207934
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = require("react");
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _vocabularyDataHelper = require("../utils/vocabulary/vocabularyDataHelper");
var _arrayUtils = require("../utils/arrayUtils");
var processWordRef = function processWordRef(wordRef, category) {
  var wordIndex;
  var timestamp = Date.now();
  if (typeof wordRef === 'object' && wordRef.wordIndex !== undefined) {
    wordIndex = wordRef.wordIndex;
    timestamp = wordRef.timestamp || timestamp;
  } else if (typeof wordRef === 'number') {
    wordIndex = wordRef;
  } else if (typeof wordRef === 'string') {
    var foundIndex = category.words.findIndex(function (w) {
      return w.word === wordRef;
    });
    if (foundIndex !== -1) wordIndex = foundIndex;
  }
  return {
    wordIndex: wordIndex,
    timestamp: timestamp
  };
};
var createLearnedWord = function createLearnedWord(realWord, levelKey, mode, catIndex, wordIndex, timestamp) {
  return {
    word: realWord.word,
    translation: realWord.translation,
    definition: realWord.definition || '',
    example: realWord.example || '',
    fromLevel: levelKey,
    fromMode: mode,
    categoryIndex: catIndex,
    wordIndex: wordIndex,
    timestamp: timestamp,
    uniqueId: `${levelKey}_${mode}_${catIndex}_${wordIndex}`
  };
};
var loadLevelData = function () {
  var _ref = (0, _asyncToGenerator2.default)(function* (levelKey, mode, learnedWords) {
    var storageKey = `vocabulary_${levelKey}_${mode}`;
    try {
      var stored = yield _asyncStorage.default.getItem(storageKey);
      if (!stored) return;
      var data = JSON.parse(stored);
      var completedWordsRefs = data.completedWords || {};
      if (Object.keys(completedWordsRefs).length === 0) return;
      var originalData = (0, _vocabularyDataHelper.getVocabularyData)(levelKey, mode);
      if (!(originalData != null && originalData.exercises)) return;
      Object.entries(completedWordsRefs).forEach(function (_ref2) {
        var _ref3 = (0, _slicedToArray2.default)(_ref2, 2),
          categoryIndex = _ref3[0],
          wordRefs = _ref3[1];
        if (!Array.isArray(wordRefs) || wordRefs.length === 0) return;
        var catIndex = parseInt(categoryIndex);
        var category = originalData.exercises[catIndex];
        if (!(category != null && category.words)) return;
        wordRefs.forEach(function (wordRef) {
          var _processWordRef = processWordRef(wordRef, category),
            wordIndex = _processWordRef.wordIndex,
            timestamp = _processWordRef.timestamp;
          if (wordIndex !== undefined && category.words[wordIndex]) {
            var realWord = category.words[wordIndex];
            var learnedWord = createLearnedWord(realWord, levelKey, mode, catIndex, wordIndex, timestamp);
            learnedWords.push(learnedWord);
          }
        });
      });
    } catch (storageError) {
      console.error(`❌ Erreur traitement ${storageKey}:`, storageError);
    }
  });
  return function loadLevelData(_x, _x2, _x3) {
    return _ref.apply(this, arguments);
  };
}();
var generateQuestionChoices = function generateQuestionChoices(word, allLearnedWords) {
  var otherWords = allLearnedWords.filter(function (w) {
    return w.uniqueId !== word.uniqueId;
  });
  var wrongAnswers = (0, _arrayUtils.shuffleAndTake)(otherWords, 3).map(function (w) {
    return w.translation;
  });
  if (wrongAnswers.length < 3) {
    var _fallbackData$exercis;
    var fallbackData = (0, _vocabularyDataHelper.getVocabularyData)('1', 'classic');
    if (fallbackData != null && (_fallbackData$exercis = fallbackData.exercises) != null && (_fallbackData$exercis = _fallbackData$exercis[0]) != null && _fallbackData$exercis.words) {
      var needed = 3 - wrongAnswers.length;
      var randomFallback = (0, _arrayUtils.shuffleAndTake)(fallbackData.exercises[0].words.filter(function (w) {
        return !wrongAnswers.includes(w.translation) && w.translation !== word.translation;
      }), needed).map(function (w) {
        return w.translation;
      });
      wrongAnswers = [].concat((0, _toConsumableArray2.default)(wrongAnswers), (0, _toConsumableArray2.default)(randomFallback));
    }
  }
  var choices = (0, _arrayUtils.shuffleArray)([word.translation].concat((0, _toConsumableArray2.default)(wrongAnswers.slice(0, 3))));
  return choices;
};
var calculateStats = function calculateStats(allLearnedWords, revisionQuestions) {
  var totalLearned = allLearnedWords.length;
  var byLevel = {};
  var byMode = {};
  allLearnedWords.forEach(function (word) {
    byLevel[word.fromLevel] = (byLevel[word.fromLevel] || 0) + 1;
    byMode[word.fromMode] = (byMode[word.fromMode] || 0) + 1;
  });
  return {
    totalLearned: totalLearned,
    byLevel: byLevel,
    byMode: byMode,
    questionsGenerated: revisionQuestions.length
  };
};
var useRevisionData = function useRevisionData() {
  var level = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "mixed";
  var questionsCount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;
  var _useState = (0, _react.useState)([]),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    allLearnedWords = _useState2[0],
    setAllLearnedWords = _useState2[1];
  var _useState3 = (0, _react.useState)(true),
    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
    isLoading = _useState4[0],
    setIsLoading = _useState4[1];
  var _useState5 = (0, _react.useState)(null),
    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),
    error = _useState6[0],
    setError = _useState6[1];
  (0, _react.useEffect)(function () {
    var loadLearnedWords = function () {
      var _ref4 = (0, _asyncToGenerator2.default)(function* () {
        try {
          setIsLoading(true);
          setError(null);
          var learnedWords = [];
          var levels = level === "mixed" ? ['1', '2', '3', '4', '5', '6', 'bonus'] : [level];
          var modes = ['classic', 'fast'];
          for (var levelKey of levels) {
            for (var mode of modes) {
              yield loadLevelData(levelKey, mode, learnedWords);
            }
          }
          var uniqueWords = learnedWords.filter(function (word, index, self) {
            return index === self.findIndex(function (w) {
              return w.uniqueId === word.uniqueId;
            });
          });
          setAllLearnedWords(uniqueWords);
        } catch (mainError) {
          console.error('❌ Erreur générale useRevisionData:', mainError);
          setError(mainError.message);
          setAllLearnedWords([]);
        } finally {
          setIsLoading(false);
        }
      });
      return function loadLearnedWords() {
        return _ref4.apply(this, arguments);
      };
    }();
    loadLearnedWords();
  }, [level]);
  var revisionQuestions = (0, _react.useMemo)(function () {
    if (allLearnedWords.length === 0) return [];
    var shuffledWords = (0, _arrayUtils.shuffleArray)(allLearnedWords);
    var selectedWords = shuffledWords.slice(0, Math.min(questionsCount, allLearnedWords.length));
    var questionsWithChoices = selectedWords.map(function (word) {
      var choices = generateQuestionChoices(word, allLearnedWords);
      return Object.assign({}, word, {
        choices: choices,
        correctAnswer: word.translation
      });
    });
    return questionsWithChoices;
  }, [allLearnedWords, questionsCount]);
  var stats = (0, _react.useMemo)(function () {
    return calculateStats(allLearnedWords, revisionQuestions);
  }, [allLearnedWords, revisionQuestions]);
  return {
    allLearnedWords: allLearnedWords,
    revisionQuestions: revisionQuestions,
    isLoading: isLoading,
    error: error,
    stats: stats,
    hasEnoughWords: allLearnedWords.length > 0,
    canGenerateQuestions: revisionQuestions.length > 0
  };
};
var _default = exports.default = useRevisionData;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX2FzeW5jU3RvcmFnZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfdm9jYWJ1bGFyeURhdGFIZWxwZXIiLCJfYXJyYXlVdGlscyIsInByb2Nlc3NXb3JkUmVmIiwid29yZFJlZiIsImNhdGVnb3J5Iiwid29yZEluZGV4IiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsInVuZGVmaW5lZCIsImZvdW5kSW5kZXgiLCJ3b3JkcyIsImZpbmRJbmRleCIsInciLCJ3b3JkIiwiY3JlYXRlTGVhcm5lZFdvcmQiLCJyZWFsV29yZCIsImxldmVsS2V5IiwibW9kZSIsImNhdEluZGV4IiwidHJhbnNsYXRpb24iLCJkZWZpbml0aW9uIiwiZXhhbXBsZSIsImZyb21MZXZlbCIsImZyb21Nb2RlIiwiY2F0ZWdvcnlJbmRleCIsInVuaXF1ZUlkIiwibG9hZExldmVsRGF0YSIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJkZWZhdWx0IiwibGVhcm5lZFdvcmRzIiwic3RvcmFnZUtleSIsInN0b3JlZCIsIkFzeW5jU3RvcmFnZSIsImdldEl0ZW0iLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwiY29tcGxldGVkV29yZHNSZWZzIiwiY29tcGxldGVkV29yZHMiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwib3JpZ2luYWxEYXRhIiwiZ2V0Vm9jYWJ1bGFyeURhdGEiLCJleGVyY2lzZXMiLCJlbnRyaWVzIiwiZm9yRWFjaCIsIl9yZWYyIiwiX3JlZjMiLCJfc2xpY2VkVG9BcnJheTIiLCJ3b3JkUmVmcyIsIkFycmF5IiwiaXNBcnJheSIsInBhcnNlSW50IiwiX3Byb2Nlc3NXb3JkUmVmIiwibGVhcm5lZFdvcmQiLCJwdXNoIiwic3RvcmFnZUVycm9yIiwiY29uc29sZSIsImVycm9yIiwiX3giLCJfeDIiLCJfeDMiLCJhcHBseSIsImFyZ3VtZW50cyIsImdlbmVyYXRlUXVlc3Rpb25DaG9pY2VzIiwiYWxsTGVhcm5lZFdvcmRzIiwib3RoZXJXb3JkcyIsImZpbHRlciIsIndyb25nQW5zd2VycyIsInNodWZmbGVBbmRUYWtlIiwibWFwIiwiX2ZhbGxiYWNrRGF0YSRleGVyY2lzIiwiZmFsbGJhY2tEYXRhIiwibmVlZGVkIiwicmFuZG9tRmFsbGJhY2siLCJpbmNsdWRlcyIsImNvbmNhdCIsIl90b0NvbnN1bWFibGVBcnJheTIiLCJjaG9pY2VzIiwic2h1ZmZsZUFycmF5Iiwic2xpY2UiLCJjYWxjdWxhdGVTdGF0cyIsInJldmlzaW9uUXVlc3Rpb25zIiwidG90YWxMZWFybmVkIiwiYnlMZXZlbCIsImJ5TW9kZSIsInF1ZXN0aW9uc0dlbmVyYXRlZCIsInVzZVJldmlzaW9uRGF0YSIsImxldmVsIiwicXVlc3Rpb25zQ291bnQiLCJfdXNlU3RhdGUiLCJ1c2VTdGF0ZSIsIl91c2VTdGF0ZTIiLCJzZXRBbGxMZWFybmVkV29yZHMiLCJfdXNlU3RhdGUzIiwiX3VzZVN0YXRlNCIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsIl91c2VTdGF0ZTUiLCJfdXNlU3RhdGU2Iiwic2V0RXJyb3IiLCJ1c2VFZmZlY3QiLCJsb2FkTGVhcm5lZFdvcmRzIiwiX3JlZjQiLCJsZXZlbHMiLCJtb2RlcyIsInVuaXF1ZVdvcmRzIiwiaW5kZXgiLCJzZWxmIiwibWFpbkVycm9yIiwibWVzc2FnZSIsInVzZU1lbW8iLCJzaHVmZmxlZFdvcmRzIiwic2VsZWN0ZWRXb3JkcyIsIk1hdGgiLCJtaW4iLCJxdWVzdGlvbnNXaXRoQ2hvaWNlcyIsImFzc2lnbiIsImNvcnJlY3RBbnN3ZXIiLCJzdGF0cyIsImhhc0Vub3VnaFdvcmRzIiwiY2FuR2VuZXJhdGVRdWVzdGlvbnMiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlcyI6WyJ1c2VSZXZpc2lvbkRhdGEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2hvb2tzL3VzZVJldmlzaW9uRGF0YS5qcyAtIFJFRkFDVE9SSVPDiSBwb3VyIHLDqWR1aXJlIGxhIGNvbXBsZXhpdMOpIGNvZ25pdGl2ZVxyXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgQXN5bmNTdG9yYWdlIGZyb20gJ0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS9hc3luYy1zdG9yYWdlJztcclxuaW1wb3J0IHsgZ2V0Vm9jYWJ1bGFyeURhdGEgfSBmcm9tICcuLi91dGlscy92b2NhYnVsYXJ5L3ZvY2FidWxhcnlEYXRhSGVscGVyJztcclxuaW1wb3J0IHsgc2h1ZmZsZUFycmF5LCBzaHVmZmxlQW5kVGFrZSwgc2h1ZmZsZVdpdGhGYWxsYmFjayB9IGZyb20gJy4uL3V0aWxzL2FycmF5VXRpbHMnO1xyXG5cclxuLy8gRm9uY3Rpb24gdXRpbGl0YWlyZSBwb3VyIHRyYWl0ZXIgbGVzIGRpZmbDqXJlbnRzIGZvcm1hdHMgZGUgd29yZFJlZlxyXG5jb25zdCBwcm9jZXNzV29yZFJlZiA9ICh3b3JkUmVmLCBjYXRlZ29yeSkgPT4ge1xyXG4gIGxldCB3b3JkSW5kZXg7XHJcbiAgbGV0IHRpbWVzdGFtcCA9IERhdGUubm93KCk7XHJcbiAgXHJcbiAgLy8gU3VwcG9ydCBub3V2ZWF1IGZvcm1hdCAob2JqZXQgYXZlYyB3b3JkSW5kZXggKyB0aW1lc3RhbXApXHJcbiAgaWYgKHR5cGVvZiB3b3JkUmVmID09PSAnb2JqZWN0JyAmJiB3b3JkUmVmLndvcmRJbmRleCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICB3b3JkSW5kZXggPSB3b3JkUmVmLndvcmRJbmRleDtcclxuICAgIHRpbWVzdGFtcCA9IHdvcmRSZWYudGltZXN0YW1wIHx8IHRpbWVzdGFtcDtcclxuICB9IFxyXG4gIC8vIFN1cHBvcnQgYW5jaWVuIGZvcm1hdCAoanVzdGUgbCdpbmRleClcclxuICBlbHNlIGlmICh0eXBlb2Ygd29yZFJlZiA9PT0gJ251bWJlcicpIHtcclxuICAgIHdvcmRJbmRleCA9IHdvcmRSZWY7XHJcbiAgfVxyXG4gIC8vIFN1cHBvcnQgdHLDqHMgYW5jaWVuIGZvcm1hdCAoc3RyaW5nIGR1IG1vdClcclxuICBlbHNlIGlmICh0eXBlb2Ygd29yZFJlZiA9PT0gJ3N0cmluZycpIHtcclxuICAgIGNvbnN0IGZvdW5kSW5kZXggPSBjYXRlZ29yeS53b3Jkcy5maW5kSW5kZXgodyA9PiB3LndvcmQgPT09IHdvcmRSZWYpO1xyXG4gICAgaWYgKGZvdW5kSW5kZXggIT09IC0xKSB3b3JkSW5kZXggPSBmb3VuZEluZGV4O1xyXG4gIH1cclxuICBcclxuICByZXR1cm4geyB3b3JkSW5kZXgsIHRpbWVzdGFtcCB9O1xyXG59O1xyXG5cclxuLy8gRm9uY3Rpb24gcG91ciBjcsOpZXIgdW4gbW90IGFwcHJpcyBhdmVjIG3DqXRhZG9ubsOpZXNcclxuY29uc3QgY3JlYXRlTGVhcm5lZFdvcmQgPSAocmVhbFdvcmQsIGxldmVsS2V5LCBtb2RlLCBjYXRJbmRleCwgd29yZEluZGV4LCB0aW1lc3RhbXApID0+ICh7XHJcbiAgLy8gRG9ubsOpZXMgZHUgbW90XHJcbiAgd29yZDogcmVhbFdvcmQud29yZCxcclxuICB0cmFuc2xhdGlvbjogcmVhbFdvcmQudHJhbnNsYXRpb24sXHJcbiAgZGVmaW5pdGlvbjogcmVhbFdvcmQuZGVmaW5pdGlvbiB8fCAnJyxcclxuICBleGFtcGxlOiByZWFsV29yZC5leGFtcGxlIHx8ICcnLFxyXG4gIFxyXG4gIC8vIE3DqXRhZG9ubsOpZXNcclxuICBmcm9tTGV2ZWw6IGxldmVsS2V5LFxyXG4gIGZyb21Nb2RlOiBtb2RlLFxyXG4gIGNhdGVnb3J5SW5kZXg6IGNhdEluZGV4LFxyXG4gIHdvcmRJbmRleCxcclxuICB0aW1lc3RhbXAsXHJcbiAgXHJcbiAgLy8gSUQgdW5pcXVlIHBvdXIgw6l2aXRlciBkb3VibG9uc1xyXG4gIHVuaXF1ZUlkOiBgJHtsZXZlbEtleX1fJHttb2RlfV8ke2NhdEluZGV4fV8ke3dvcmRJbmRleH1gXHJcbn0pO1xyXG5cclxuLy8gRm9uY3Rpb24gcG91ciBjaGFyZ2VyIGxlcyBkb25uw6llcyBkJ3VuIG5pdmVhdSBzcMOpY2lmaXF1ZVxyXG5jb25zdCBsb2FkTGV2ZWxEYXRhID0gYXN5bmMgKGxldmVsS2V5LCBtb2RlLCBsZWFybmVkV29yZHMpID0+IHtcclxuICBjb25zdCBzdG9yYWdlS2V5ID0gYHZvY2FidWxhcnlfJHtsZXZlbEtleX1fJHttb2RlfWA7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHN0b3JlZCA9IGF3YWl0IEFzeW5jU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkpO1xyXG4gICAgaWYgKCFzdG9yZWQpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShzdG9yZWQpO1xyXG4gICAgY29uc3QgY29tcGxldGVkV29yZHNSZWZzID0gZGF0YS5jb21wbGV0ZWRXb3JkcyB8fCB7fTtcclxuICAgIFxyXG4gICAgaWYgKE9iamVjdC5rZXlzKGNvbXBsZXRlZFdvcmRzUmVmcykubGVuZ3RoID09PSAwKSByZXR1cm47XHJcbiAgICBcclxuICAgIC8vIFLDqWN1cMOpcmVyIGxlcyBkb25uw6llcyBvcmlnaW5hbGVzIGR1IHZvY2FidWxhaXJlXHJcbiAgICBjb25zdCBvcmlnaW5hbERhdGEgPSBnZXRWb2NhYnVsYXJ5RGF0YShsZXZlbEtleSwgbW9kZSk7XHJcbiAgICBpZiAoIW9yaWdpbmFsRGF0YT8uZXhlcmNpc2VzKSByZXR1cm47XHJcbiAgICBcclxuICAgIC8vIFRyYWl0ZXIgY2hhcXVlIGNhdMOpZ29yaWVcclxuICAgIE9iamVjdC5lbnRyaWVzKGNvbXBsZXRlZFdvcmRzUmVmcykuZm9yRWFjaCgoW2NhdGVnb3J5SW5kZXgsIHdvcmRSZWZzXSkgPT4ge1xyXG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkod29yZFJlZnMpIHx8IHdvcmRSZWZzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgY2F0SW5kZXggPSBwYXJzZUludChjYXRlZ29yeUluZGV4KTtcclxuICAgICAgY29uc3QgY2F0ZWdvcnkgPSBvcmlnaW5hbERhdGEuZXhlcmNpc2VzW2NhdEluZGV4XTtcclxuICAgICAgXHJcbiAgICAgIGlmICghY2F0ZWdvcnk/LndvcmRzKSByZXR1cm47XHJcbiAgICAgIFxyXG4gICAgICAvLyBSw6ljdXDDqXJlciBjaGFxdWUgbW90IGFwcHJpc1xyXG4gICAgICB3b3JkUmVmcy5mb3JFYWNoKCh3b3JkUmVmKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyB3b3JkSW5kZXgsIHRpbWVzdGFtcCB9ID0gcHJvY2Vzc1dvcmRSZWYod29yZFJlZiwgY2F0ZWdvcnkpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFLDqWN1cMOpcmVyIGxlIHZyYWkgbW90IGRlcHVpcyBsZXMgZG9ubsOpZXMgb3JpZ2luYWxlc1xyXG4gICAgICAgIGlmICh3b3JkSW5kZXggIT09IHVuZGVmaW5lZCAmJiBjYXRlZ29yeS53b3Jkc1t3b3JkSW5kZXhdKSB7XHJcbiAgICAgICAgICBjb25zdCByZWFsV29yZCA9IGNhdGVnb3J5LndvcmRzW3dvcmRJbmRleF07XHJcbiAgICAgICAgICBjb25zdCBsZWFybmVkV29yZCA9IGNyZWF0ZUxlYXJuZWRXb3JkKHJlYWxXb3JkLCBsZXZlbEtleSwgbW9kZSwgY2F0SW5kZXgsIHdvcmRJbmRleCwgdGltZXN0YW1wKTtcclxuICAgICAgICAgIGxlYXJuZWRXb3Jkcy5wdXNoKGxlYXJuZWRXb3JkKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoc3RvcmFnZUVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGDinYwgRXJyZXVyIHRyYWl0ZW1lbnQgJHtzdG9yYWdlS2V5fTpgLCBzdG9yYWdlRXJyb3IpO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEZvbmN0aW9uIHBvdXIgZ8OpbsOpcmVyIGxlcyBjaG9peCBkZSByw6lwb25zZXMgZCd1bmUgcXVlc3Rpb25cclxuY29uc3QgZ2VuZXJhdGVRdWVzdGlvbkNob2ljZXMgPSAod29yZCwgYWxsTGVhcm5lZFdvcmRzKSA9PiB7XHJcbiAgLy8gUG9vbCBkZXMgYXV0cmVzIG1vdHMgcG91ciBsZXMgbWF1dmFpc2VzIHLDqXBvbnNlc1xyXG4gIGNvbnN0IG90aGVyV29yZHMgPSBhbGxMZWFybmVkV29yZHMuZmlsdGVyKHcgPT4gdy51bmlxdWVJZCAhPT0gd29yZC51bmlxdWVJZCk7XHJcbiAgXHJcbiAgLy8gUHJlbmRyZSAzIG1hdXZhaXNlcyByw6lwb25zZXNcclxuICBsZXQgd3JvbmdBbnN3ZXJzID0gc2h1ZmZsZUFuZFRha2Uob3RoZXJXb3JkcywgMykubWFwKHcgPT4gdy50cmFuc2xhdGlvbik7XHJcbiAgXHJcbiAgLy8gU2kgcGFzIGFzc2V6IGRlIG1hdXZhaXNlcyByw6lwb25zZXMsIGNvbXBsw6l0ZXIgYXZlYyBkYXRhc2V0IGRlIGZhbGxiYWNrXHJcbiAgaWYgKHdyb25nQW5zd2Vycy5sZW5ndGggPCAzKSB7XHJcbiAgICBjb25zdCBmYWxsYmFja0RhdGEgPSBnZXRWb2NhYnVsYXJ5RGF0YSgnMScsICdjbGFzc2ljJyk7XHJcbiAgICBpZiAoZmFsbGJhY2tEYXRhPy5leGVyY2lzZXM/LlswXT8ud29yZHMpIHtcclxuICAgICAgY29uc3QgbmVlZGVkID0gMyAtIHdyb25nQW5zd2Vycy5sZW5ndGg7XHJcbiAgICAgIGNvbnN0IHJhbmRvbUZhbGxiYWNrID0gc2h1ZmZsZUFuZFRha2UoXHJcbiAgICAgICAgZmFsbGJhY2tEYXRhLmV4ZXJjaXNlc1swXS53b3Jkcy5maWx0ZXIodyA9PiBcclxuICAgICAgICAgICF3cm9uZ0Fuc3dlcnMuaW5jbHVkZXMody50cmFuc2xhdGlvbikgJiYgdy50cmFuc2xhdGlvbiAhPT0gd29yZC50cmFuc2xhdGlvblxyXG4gICAgICAgICksIFxyXG4gICAgICAgIG5lZWRlZFxyXG4gICAgICApLm1hcCh3ID0+IHcudHJhbnNsYXRpb24pO1xyXG4gICAgICBcclxuICAgICAgd3JvbmdBbnN3ZXJzID0gWy4uLndyb25nQW5zd2VycywgLi4ucmFuZG9tRmFsbGJhY2tdO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICAvLyBNw6lsYW5nZXIgdG91dGVzIGxlcyByw6lwb25zZXNcclxuICBjb25zdCBjaG9pY2VzID0gc2h1ZmZsZUFycmF5KFt3b3JkLnRyYW5zbGF0aW9uLCAuLi53cm9uZ0Fuc3dlcnMuc2xpY2UoMCwgMyldKTtcclxuICBcclxuICByZXR1cm4gY2hvaWNlcztcclxufTtcclxuXHJcbi8vIEZvbmN0aW9uIHBvdXIgY2FsY3VsZXIgbGVzIHN0YXRpc3RpcXVlc1xyXG5jb25zdCBjYWxjdWxhdGVTdGF0cyA9IChhbGxMZWFybmVkV29yZHMsIHJldmlzaW9uUXVlc3Rpb25zKSA9PiB7XHJcbiAgY29uc3QgdG90YWxMZWFybmVkID0gYWxsTGVhcm5lZFdvcmRzLmxlbmd0aDtcclxuICBjb25zdCBieUxldmVsID0ge307XHJcbiAgY29uc3QgYnlNb2RlID0ge307XHJcbiAgXHJcbiAgYWxsTGVhcm5lZFdvcmRzLmZvckVhY2god29yZCA9PiB7XHJcbiAgICBieUxldmVsW3dvcmQuZnJvbUxldmVsXSA9IChieUxldmVsW3dvcmQuZnJvbUxldmVsXSB8fCAwKSArIDE7XHJcbiAgICBieU1vZGVbd29yZC5mcm9tTW9kZV0gPSAoYnlNb2RlW3dvcmQuZnJvbU1vZGVdIHx8IDApICsgMTtcclxuICB9KTtcclxuICBcclxuICByZXR1cm4ge1xyXG4gICAgdG90YWxMZWFybmVkLFxyXG4gICAgYnlMZXZlbCxcclxuICAgIGJ5TW9kZSxcclxuICAgIHF1ZXN0aW9uc0dlbmVyYXRlZDogcmV2aXNpb25RdWVzdGlvbnMubGVuZ3RoXHJcbiAgfTtcclxufTtcclxuXHJcbmNvbnN0IHVzZVJldmlzaW9uRGF0YSA9IChsZXZlbCA9IFwibWl4ZWRcIiwgcXVlc3Rpb25zQ291bnQgPSAxMCkgPT4ge1xyXG4gIGNvbnN0IFthbGxMZWFybmVkV29yZHMsIHNldEFsbExlYXJuZWRXb3Jkc10gPSB1c2VTdGF0ZShbXSk7XHJcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xyXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUobnVsbCk7XHJcblxyXG4gIC8vID09PT09PT09PT0gUsOJQ1VQw4lSQVRJT04gREVTIE1PVFMgQVBQUklTID09PT09PT09PT1cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgbG9hZExlYXJuZWRXb3JkcyA9IGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XHJcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICAgICAgY29uc3QgbGVhcm5lZFdvcmRzID0gW107XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgbGV2ZWxzID0gbGV2ZWwgPT09IFwibWl4ZWRcIiA/IFsnMScsICcyJywgJzMnLCAnNCcsICc1JywgJzYnLCAnYm9udXMnXSA6IFtsZXZlbF07XHJcbiAgICAgICAgY29uc3QgbW9kZXMgPSBbJ2NsYXNzaWMnLCAnZmFzdCddO1xyXG5cclxuICAgICAgICAvLyBDaGFyZ2VyIGxlcyBkb25uw6llcyBkZSBjaGFxdWUgbml2ZWF1IGV0IG1vZGVcclxuICAgICAgICBmb3IgKGNvbnN0IGxldmVsS2V5IG9mIGxldmVscykge1xyXG4gICAgICAgICAgZm9yIChjb25zdCBtb2RlIG9mIG1vZGVzKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IGxvYWRMZXZlbERhdGEobGV2ZWxLZXksIG1vZGUsIGxlYXJuZWRXb3Jkcyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFN1cHByaW1lciBsZXMgZG91YmxvbnMgcG90ZW50aWVscyBiYXPDqXMgc3VyIHVuaXF1ZUlkXHJcbiAgICAgICAgY29uc3QgdW5pcXVlV29yZHMgPSBsZWFybmVkV29yZHMuZmlsdGVyKCh3b3JkLCBpbmRleCwgc2VsZikgPT4gXHJcbiAgICAgICAgICBpbmRleCA9PT0gc2VsZi5maW5kSW5kZXgodyA9PiB3LnVuaXF1ZUlkID09PSB3b3JkLnVuaXF1ZUlkKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgc2V0QWxsTGVhcm5lZFdvcmRzKHVuaXF1ZVdvcmRzKTtcclxuICAgICAgICBcclxuICAgICAgfSBjYXRjaCAobWFpbkVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycmV1ciBnw6luw6lyYWxlIHVzZVJldmlzaW9uRGF0YTonLCBtYWluRXJyb3IpO1xyXG4gICAgICAgIHNldEVycm9yKG1haW5FcnJvci5tZXNzYWdlKTtcclxuICAgICAgICBzZXRBbGxMZWFybmVkV29yZHMoW10pO1xyXG4gICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgbG9hZExlYXJuZWRXb3JkcygpO1xyXG4gIH0sIFtsZXZlbF0pOyAvLyBSZWNoYXJnZXIgc2kgbGUgbml2ZWF1IGNoYW5nZVxyXG5cclxuICAvLyA9PT09PT09PT09IEfDiU7DiVJBVElPTiBERVMgUVVFU1RJT05TID09PT09PT09PT1cclxuICBjb25zdCByZXZpc2lvblF1ZXN0aW9ucyA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgaWYgKGFsbExlYXJuZWRXb3Jkcy5sZW5ndGggPT09IDApIHJldHVybiBbXTtcclxuXHJcbiAgICAvLyBNw6lsYW5nZXIgZXQgc8OpbGVjdGlvbm5lclxyXG4gICAgY29uc3Qgc2h1ZmZsZWRXb3JkcyA9IHNodWZmbGVBcnJheShhbGxMZWFybmVkV29yZHMpO1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRXb3JkcyA9IHNodWZmbGVkV29yZHMuc2xpY2UoMCwgTWF0aC5taW4ocXVlc3Rpb25zQ291bnQsIGFsbExlYXJuZWRXb3Jkcy5sZW5ndGgpKTtcclxuICAgIFxyXG4gICAgLy8gR8OpbsOpcmVyIGxlcyBxdWVzdGlvbnMgYXZlYyBjaG9peFxyXG4gICAgY29uc3QgcXVlc3Rpb25zV2l0aENob2ljZXMgPSBzZWxlY3RlZFdvcmRzLm1hcCgod29yZCkgPT4ge1xyXG4gICAgICBjb25zdCBjaG9pY2VzID0gZ2VuZXJhdGVRdWVzdGlvbkNob2ljZXMod29yZCwgYWxsTGVhcm5lZFdvcmRzKTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgLi4ud29yZCxcclxuICAgICAgICBjaG9pY2VzLFxyXG4gICAgICAgIGNvcnJlY3RBbnN3ZXI6IHdvcmQudHJhbnNsYXRpb25cclxuICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBxdWVzdGlvbnNXaXRoQ2hvaWNlcztcclxuICAgIFxyXG4gIH0sIFthbGxMZWFybmVkV29yZHMsIHF1ZXN0aW9uc0NvdW50XSk7XHJcblxyXG4gIC8vID09PT09PT09PT0gU1RBVElTVElRVUVTID09PT09PT09PT1cclxuICBjb25zdCBzdGF0cyA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgcmV0dXJuIGNhbGN1bGF0ZVN0YXRzKGFsbExlYXJuZWRXb3JkcywgcmV2aXNpb25RdWVzdGlvbnMpO1xyXG4gIH0sIFthbGxMZWFybmVkV29yZHMsIHJldmlzaW9uUXVlc3Rpb25zXSk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICAvLyBEb25uw6llcyBwcmluY2lwYWxlc1xyXG4gICAgYWxsTGVhcm5lZFdvcmRzLFxyXG4gICAgcmV2aXNpb25RdWVzdGlvbnMsXHJcbiAgICBcclxuICAgIC8vIMOJdGF0XHJcbiAgICBpc0xvYWRpbmcsXHJcbiAgICBlcnJvcixcclxuICAgIFxyXG4gICAgLy8gU3RhdGlzdGlxdWVzXHJcbiAgICBzdGF0cyxcclxuICAgIFxyXG4gICAgLy8gTcOpdGhvZGVzIHV0aWxlc1xyXG4gICAgaGFzRW5vdWdoV29yZHM6IGFsbExlYXJuZWRXb3Jkcy5sZW5ndGggPiAwLFxyXG4gICAgY2FuR2VuZXJhdGVRdWVzdGlvbnM6IHJldmlzaW9uUXVlc3Rpb25zLmxlbmd0aCA+IDBcclxuICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlUmV2aXNpb25EYXRhOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFDQSxJQUFBQSxNQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxhQUFBLEdBQUFDLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBRyxxQkFBQSxHQUFBSCxPQUFBO0FBQ0EsSUFBQUksV0FBQSxHQUFBSixPQUFBO0FBR0EsSUFBTUssY0FBYyxHQUFHLFNBQWpCQSxjQUFjQSxDQUFJQyxPQUFPLEVBQUVDLFFBQVEsRUFBSztFQUM1QyxJQUFJQyxTQUFTO0VBQ2IsSUFBSUMsU0FBUyxHQUFHQyxJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDO0VBRzFCLElBQUksT0FBT0wsT0FBTyxLQUFLLFFBQVEsSUFBSUEsT0FBTyxDQUFDRSxTQUFTLEtBQUtJLFNBQVMsRUFBRTtJQUNsRUosU0FBUyxHQUFHRixPQUFPLENBQUNFLFNBQVM7SUFDN0JDLFNBQVMsR0FBR0gsT0FBTyxDQUFDRyxTQUFTLElBQUlBLFNBQVM7RUFDNUMsQ0FBQyxNQUVJLElBQUksT0FBT0gsT0FBTyxLQUFLLFFBQVEsRUFBRTtJQUNwQ0UsU0FBUyxHQUFHRixPQUFPO0VBQ3JCLENBQUMsTUFFSSxJQUFJLE9BQU9BLE9BQU8sS0FBSyxRQUFRLEVBQUU7SUFDcEMsSUFBTU8sVUFBVSxHQUFHTixRQUFRLENBQUNPLEtBQUssQ0FBQ0MsU0FBUyxDQUFDLFVBQUFDLENBQUM7TUFBQSxPQUFJQSxDQUFDLENBQUNDLElBQUksS0FBS1gsT0FBTztJQUFBLEVBQUM7SUFDcEUsSUFBSU8sVUFBVSxLQUFLLENBQUMsQ0FBQyxFQUFFTCxTQUFTLEdBQUdLLFVBQVU7RUFDL0M7RUFFQSxPQUFPO0lBQUVMLFNBQVMsRUFBVEEsU0FBUztJQUFFQyxTQUFTLEVBQVRBO0VBQVUsQ0FBQztBQUNqQyxDQUFDO0FBR0QsSUFBTVMsaUJBQWlCLEdBQUcsU0FBcEJBLGlCQUFpQkEsQ0FBSUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLElBQUksRUFBRUMsUUFBUSxFQUFFZCxTQUFTLEVBQUVDLFNBQVM7RUFBQSxPQUFNO0lBRXZGUSxJQUFJLEVBQUVFLFFBQVEsQ0FBQ0YsSUFBSTtJQUNuQk0sV0FBVyxFQUFFSixRQUFRLENBQUNJLFdBQVc7SUFDakNDLFVBQVUsRUFBRUwsUUFBUSxDQUFDSyxVQUFVLElBQUksRUFBRTtJQUNyQ0MsT0FBTyxFQUFFTixRQUFRLENBQUNNLE9BQU8sSUFBSSxFQUFFO0lBRy9CQyxTQUFTLEVBQUVOLFFBQVE7SUFDbkJPLFFBQVEsRUFBRU4sSUFBSTtJQUNkTyxhQUFhLEVBQUVOLFFBQVE7SUFDdkJkLFNBQVMsRUFBVEEsU0FBUztJQUNUQyxTQUFTLEVBQVRBLFNBQVM7SUFHVG9CLFFBQVEsRUFBRSxHQUFHVCxRQUFRLElBQUlDLElBQUksSUFBSUMsUUFBUSxJQUFJZCxTQUFTO0VBQ3hELENBQUM7QUFBQSxDQUFDO0FBR0YsSUFBTXNCLGFBQWE7RUFBQSxJQUFBQyxJQUFBLE9BQUFDLGtCQUFBLENBQUFDLE9BQUEsRUFBRyxXQUFPYixRQUFRLEVBQUVDLElBQUksRUFBRWEsWUFBWSxFQUFLO0lBQzVELElBQU1DLFVBQVUsR0FBRyxjQUFjZixRQUFRLElBQUlDLElBQUksRUFBRTtJQUVuRCxJQUFJO01BQ0YsSUFBTWUsTUFBTSxTQUFTQyxxQkFBWSxDQUFDQyxPQUFPLENBQUNILFVBQVUsQ0FBQztNQUNyRCxJQUFJLENBQUNDLE1BQU0sRUFBRTtNQUViLElBQU1HLElBQUksR0FBR0MsSUFBSSxDQUFDQyxLQUFLLENBQUNMLE1BQU0sQ0FBQztNQUMvQixJQUFNTSxrQkFBa0IsR0FBR0gsSUFBSSxDQUFDSSxjQUFjLElBQUksQ0FBQyxDQUFDO01BRXBELElBQUlDLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDSCxrQkFBa0IsQ0FBQyxDQUFDSSxNQUFNLEtBQUssQ0FBQyxFQUFFO01BR2xELElBQU1DLFlBQVksR0FBRyxJQUFBQyx1Q0FBaUIsRUFBQzVCLFFBQVEsRUFBRUMsSUFBSSxDQUFDO01BQ3RELElBQUksRUFBQzBCLFlBQVksWUFBWkEsWUFBWSxDQUFFRSxTQUFTLEdBQUU7TUFHOUJMLE1BQU0sQ0FBQ00sT0FBTyxDQUFDUixrQkFBa0IsQ0FBQyxDQUFDUyxPQUFPLENBQUMsVUFBQUMsS0FBQSxFQUErQjtRQUFBLElBQUFDLEtBQUEsT0FBQUMsZUFBQSxDQUFBckIsT0FBQSxFQUFBbUIsS0FBQTtVQUE3QnhCLGFBQWEsR0FBQXlCLEtBQUE7VUFBRUUsUUFBUSxHQUFBRixLQUFBO1FBQ2xFLElBQUksQ0FBQ0csS0FBSyxDQUFDQyxPQUFPLENBQUNGLFFBQVEsQ0FBQyxJQUFJQSxRQUFRLENBQUNULE1BQU0sS0FBSyxDQUFDLEVBQUU7UUFFdkQsSUFBTXhCLFFBQVEsR0FBR29DLFFBQVEsQ0FBQzlCLGFBQWEsQ0FBQztRQUN4QyxJQUFNckIsUUFBUSxHQUFHd0MsWUFBWSxDQUFDRSxTQUFTLENBQUMzQixRQUFRLENBQUM7UUFFakQsSUFBSSxFQUFDZixRQUFRLFlBQVJBLFFBQVEsQ0FBRU8sS0FBSyxHQUFFO1FBR3RCeUMsUUFBUSxDQUFDSixPQUFPLENBQUMsVUFBQzdDLE9BQU8sRUFBSztVQUM1QixJQUFBcUQsZUFBQSxHQUFpQ3RELGNBQWMsQ0FBQ0MsT0FBTyxFQUFFQyxRQUFRLENBQUM7WUFBMURDLFNBQVMsR0FBQW1ELGVBQUEsQ0FBVG5ELFNBQVM7WUFBRUMsU0FBUyxHQUFBa0QsZUFBQSxDQUFUbEQsU0FBUztVQUc1QixJQUFJRCxTQUFTLEtBQUtJLFNBQVMsSUFBSUwsUUFBUSxDQUFDTyxLQUFLLENBQUNOLFNBQVMsQ0FBQyxFQUFFO1lBQ3hELElBQU1XLFFBQVEsR0FBR1osUUFBUSxDQUFDTyxLQUFLLENBQUNOLFNBQVMsQ0FBQztZQUMxQyxJQUFNb0QsV0FBVyxHQUFHMUMsaUJBQWlCLENBQUNDLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxJQUFJLEVBQUVDLFFBQVEsRUFBRWQsU0FBUyxFQUFFQyxTQUFTLENBQUM7WUFDL0Z5QixZQUFZLENBQUMyQixJQUFJLENBQUNELFdBQVcsQ0FBQztVQUNoQztRQUNGLENBQUMsQ0FBQztNQUNKLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQyxPQUFPRSxZQUFZLEVBQUU7TUFDckJDLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLHVCQUF1QjdCLFVBQVUsR0FBRyxFQUFFMkIsWUFBWSxDQUFDO0lBQ25FO0VBQ0YsQ0FBQztFQUFBLGdCQXhDS2hDLGFBQWFBLENBQUFtQyxFQUFBLEVBQUFDLEdBQUEsRUFBQUMsR0FBQTtJQUFBLE9BQUFwQyxJQUFBLENBQUFxQyxLQUFBLE9BQUFDLFNBQUE7RUFBQTtBQUFBLEdBd0NsQjtBQUdELElBQU1DLHVCQUF1QixHQUFHLFNBQTFCQSx1QkFBdUJBLENBQUlyRCxJQUFJLEVBQUVzRCxlQUFlLEVBQUs7RUFFekQsSUFBTUMsVUFBVSxHQUFHRCxlQUFlLENBQUNFLE1BQU0sQ0FBQyxVQUFBekQsQ0FBQztJQUFBLE9BQUlBLENBQUMsQ0FBQ2EsUUFBUSxLQUFLWixJQUFJLENBQUNZLFFBQVE7RUFBQSxFQUFDO0VBRzVFLElBQUk2QyxZQUFZLEdBQUcsSUFBQUMsMEJBQWMsRUFBQ0gsVUFBVSxFQUFFLENBQUMsQ0FBQyxDQUFDSSxHQUFHLENBQUMsVUFBQTVELENBQUM7SUFBQSxPQUFJQSxDQUFDLENBQUNPLFdBQVc7RUFBQSxFQUFDO0VBR3hFLElBQUltRCxZQUFZLENBQUM1QixNQUFNLEdBQUcsQ0FBQyxFQUFFO0lBQUEsSUFBQStCLHFCQUFBO0lBQzNCLElBQU1DLFlBQVksR0FBRyxJQUFBOUIsdUNBQWlCLEVBQUMsR0FBRyxFQUFFLFNBQVMsQ0FBQztJQUN0RCxJQUFJOEIsWUFBWSxhQUFBRCxxQkFBQSxHQUFaQyxZQUFZLENBQUU3QixTQUFTLGNBQUE0QixxQkFBQSxHQUF2QkEscUJBQUEsQ0FBMEIsQ0FBQyxDQUFDLGFBQTVCQSxxQkFBQSxDQUE4Qi9ELEtBQUssRUFBRTtNQUN2QyxJQUFNaUUsTUFBTSxHQUFHLENBQUMsR0FBR0wsWUFBWSxDQUFDNUIsTUFBTTtNQUN0QyxJQUFNa0MsY0FBYyxHQUFHLElBQUFMLDBCQUFjLEVBQ25DRyxZQUFZLENBQUM3QixTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUNuQyxLQUFLLENBQUMyRCxNQUFNLENBQUMsVUFBQXpELENBQUM7UUFBQSxPQUN0QyxDQUFDMEQsWUFBWSxDQUFDTyxRQUFRLENBQUNqRSxDQUFDLENBQUNPLFdBQVcsQ0FBQyxJQUFJUCxDQUFDLENBQUNPLFdBQVcsS0FBS04sSUFBSSxDQUFDTSxXQUFXO01BQUEsQ0FDN0UsQ0FBQyxFQUNEd0QsTUFDRixDQUFDLENBQUNILEdBQUcsQ0FBQyxVQUFBNUQsQ0FBQztRQUFBLE9BQUlBLENBQUMsQ0FBQ08sV0FBVztNQUFBLEVBQUM7TUFFekJtRCxZQUFZLE1BQUFRLE1BQUEsS0FBQUMsbUJBQUEsQ0FBQWxELE9BQUEsRUFBT3lDLFlBQVksT0FBQVMsbUJBQUEsQ0FBQWxELE9BQUEsRUFBSytDLGNBQWMsRUFBQztJQUNyRDtFQUNGO0VBR0EsSUFBTUksT0FBTyxHQUFHLElBQUFDLHdCQUFZLEdBQUVwRSxJQUFJLENBQUNNLFdBQVcsRUFBQTJELE1BQUEsS0FBQUMsbUJBQUEsQ0FBQWxELE9BQUEsRUFBS3lDLFlBQVksQ0FBQ1ksS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDO0VBRTdFLE9BQU9GLE9BQU87QUFDaEIsQ0FBQztBQUdELElBQU1HLGNBQWMsR0FBRyxTQUFqQkEsY0FBY0EsQ0FBSWhCLGVBQWUsRUFBRWlCLGlCQUFpQixFQUFLO0VBQzdELElBQU1DLFlBQVksR0FBR2xCLGVBQWUsQ0FBQ3pCLE1BQU07RUFDM0MsSUFBTTRDLE9BQU8sR0FBRyxDQUFDLENBQUM7RUFDbEIsSUFBTUMsTUFBTSxHQUFHLENBQUMsQ0FBQztFQUVqQnBCLGVBQWUsQ0FBQ3BCLE9BQU8sQ0FBQyxVQUFBbEMsSUFBSSxFQUFJO0lBQzlCeUUsT0FBTyxDQUFDekUsSUFBSSxDQUFDUyxTQUFTLENBQUMsR0FBRyxDQUFDZ0UsT0FBTyxDQUFDekUsSUFBSSxDQUFDUyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztJQUM1RGlFLE1BQU0sQ0FBQzFFLElBQUksQ0FBQ1UsUUFBUSxDQUFDLEdBQUcsQ0FBQ2dFLE1BQU0sQ0FBQzFFLElBQUksQ0FBQ1UsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDMUQsQ0FBQyxDQUFDO0VBRUYsT0FBTztJQUNMOEQsWUFBWSxFQUFaQSxZQUFZO0lBQ1pDLE9BQU8sRUFBUEEsT0FBTztJQUNQQyxNQUFNLEVBQU5BLE1BQU07SUFDTkMsa0JBQWtCLEVBQUVKLGlCQUFpQixDQUFDMUM7RUFDeEMsQ0FBQztBQUNILENBQUM7QUFFRCxJQUFNK0MsZUFBZSxHQUFHLFNBQWxCQSxlQUFlQSxDQUFBLEVBQTZDO0VBQUEsSUFBekNDLEtBQUssR0FBQXpCLFNBQUEsQ0FBQXZCLE1BQUEsUUFBQXVCLFNBQUEsUUFBQXpELFNBQUEsR0FBQXlELFNBQUEsTUFBRyxPQUFPO0VBQUEsSUFBRTBCLGNBQWMsR0FBQTFCLFNBQUEsQ0FBQXZCLE1BQUEsUUFBQXVCLFNBQUEsUUFBQXpELFNBQUEsR0FBQXlELFNBQUEsTUFBRyxFQUFFO0VBQzNELElBQUEyQixTQUFBLEdBQThDLElBQUFDLGVBQVEsRUFBQyxFQUFFLENBQUM7SUFBQUMsVUFBQSxPQUFBNUMsZUFBQSxDQUFBckIsT0FBQSxFQUFBK0QsU0FBQTtJQUFuRHpCLGVBQWUsR0FBQTJCLFVBQUE7SUFBRUMsa0JBQWtCLEdBQUFELFVBQUE7RUFDMUMsSUFBQUUsVUFBQSxHQUFrQyxJQUFBSCxlQUFRLEVBQUMsSUFBSSxDQUFDO0lBQUFJLFVBQUEsT0FBQS9DLGVBQUEsQ0FBQXJCLE9BQUEsRUFBQW1FLFVBQUE7SUFBekNFLFNBQVMsR0FBQUQsVUFBQTtJQUFFRSxZQUFZLEdBQUFGLFVBQUE7RUFDOUIsSUFBQUcsVUFBQSxHQUEwQixJQUFBUCxlQUFRLEVBQUMsSUFBSSxDQUFDO0lBQUFRLFVBQUEsT0FBQW5ELGVBQUEsQ0FBQXJCLE9BQUEsRUFBQXVFLFVBQUE7SUFBakN4QyxLQUFLLEdBQUF5QyxVQUFBO0lBQUVDLFFBQVEsR0FBQUQsVUFBQTtFQUd0QixJQUFBRSxnQkFBUyxFQUFDLFlBQU07SUFDZCxJQUFNQyxnQkFBZ0I7TUFBQSxJQUFBQyxLQUFBLE9BQUE3RSxrQkFBQSxDQUFBQyxPQUFBLEVBQUcsYUFBWTtRQUNuQyxJQUFJO1VBQ0ZzRSxZQUFZLENBQUMsSUFBSSxDQUFDO1VBQ2xCRyxRQUFRLENBQUMsSUFBSSxDQUFDO1VBQ2QsSUFBTXhFLFlBQVksR0FBRyxFQUFFO1VBRXZCLElBQU00RSxNQUFNLEdBQUdoQixLQUFLLEtBQUssT0FBTyxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQ0EsS0FBSyxDQUFDO1VBQ3BGLElBQU1pQixLQUFLLEdBQUcsQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDO1VBR2pDLEtBQUssSUFBTTNGLFFBQVEsSUFBSTBGLE1BQU0sRUFBRTtZQUM3QixLQUFLLElBQU16RixJQUFJLElBQUkwRixLQUFLLEVBQUU7Y0FDeEIsTUFBTWpGLGFBQWEsQ0FBQ1YsUUFBUSxFQUFFQyxJQUFJLEVBQUVhLFlBQVksQ0FBQztZQUNuRDtVQUNGO1VBR0EsSUFBTThFLFdBQVcsR0FBRzlFLFlBQVksQ0FBQ3VDLE1BQU0sQ0FBQyxVQUFDeEQsSUFBSSxFQUFFZ0csS0FBSyxFQUFFQyxJQUFJO1lBQUEsT0FDeERELEtBQUssS0FBS0MsSUFBSSxDQUFDbkcsU0FBUyxDQUFDLFVBQUFDLENBQUM7Y0FBQSxPQUFJQSxDQUFDLENBQUNhLFFBQVEsS0FBS1osSUFBSSxDQUFDWSxRQUFRO1lBQUEsRUFBQztVQUFBLENBQzdELENBQUM7VUFFRHNFLGtCQUFrQixDQUFDYSxXQUFXLENBQUM7UUFFakMsQ0FBQyxDQUFDLE9BQU9HLFNBQVMsRUFBRTtVQUNsQnBELE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLG9DQUFvQyxFQUFFbUQsU0FBUyxDQUFDO1VBQzlEVCxRQUFRLENBQUNTLFNBQVMsQ0FBQ0MsT0FBTyxDQUFDO1VBQzNCakIsa0JBQWtCLENBQUMsRUFBRSxDQUFDO1FBQ3hCLENBQUMsU0FBUztVQUNSSSxZQUFZLENBQUMsS0FBSyxDQUFDO1FBQ3JCO01BQ0YsQ0FBQztNQUFBLGdCQTlCS0ssZ0JBQWdCQSxDQUFBO1FBQUEsT0FBQUMsS0FBQSxDQUFBekMsS0FBQSxPQUFBQyxTQUFBO01BQUE7SUFBQSxHQThCckI7SUFFRHVDLGdCQUFnQixDQUFDLENBQUM7RUFDcEIsQ0FBQyxFQUFFLENBQUNkLEtBQUssQ0FBQyxDQUFDO0VBR1gsSUFBTU4saUJBQWlCLEdBQUcsSUFBQTZCLGNBQU8sRUFBQyxZQUFNO0lBQ3RDLElBQUk5QyxlQUFlLENBQUN6QixNQUFNLEtBQUssQ0FBQyxFQUFFLE9BQU8sRUFBRTtJQUczQyxJQUFNd0UsYUFBYSxHQUFHLElBQUFqQyx3QkFBWSxFQUFDZCxlQUFlLENBQUM7SUFDbkQsSUFBTWdELGFBQWEsR0FBR0QsYUFBYSxDQUFDaEMsS0FBSyxDQUFDLENBQUMsRUFBRWtDLElBQUksQ0FBQ0MsR0FBRyxDQUFDMUIsY0FBYyxFQUFFeEIsZUFBZSxDQUFDekIsTUFBTSxDQUFDLENBQUM7SUFHOUYsSUFBTTRFLG9CQUFvQixHQUFHSCxhQUFhLENBQUMzQyxHQUFHLENBQUMsVUFBQzNELElBQUksRUFBSztNQUN2RCxJQUFNbUUsT0FBTyxHQUFHZCx1QkFBdUIsQ0FBQ3JELElBQUksRUFBRXNELGVBQWUsQ0FBQztNQUU5RCxPQUFBM0IsTUFBQSxDQUFBK0UsTUFBQSxLQUNLMUcsSUFBSTtRQUNQbUUsT0FBTyxFQUFQQSxPQUFPO1FBQ1B3QyxhQUFhLEVBQUUzRyxJQUFJLENBQUNNO01BQVc7SUFFbkMsQ0FBQyxDQUFDO0lBRUYsT0FBT21HLG9CQUFvQjtFQUU3QixDQUFDLEVBQUUsQ0FBQ25ELGVBQWUsRUFBRXdCLGNBQWMsQ0FBQyxDQUFDO0VBR3JDLElBQU04QixLQUFLLEdBQUcsSUFBQVIsY0FBTyxFQUFDLFlBQU07SUFDMUIsT0FBTzlCLGNBQWMsQ0FBQ2hCLGVBQWUsRUFBRWlCLGlCQUFpQixDQUFDO0VBQzNELENBQUMsRUFBRSxDQUFDakIsZUFBZSxFQUFFaUIsaUJBQWlCLENBQUMsQ0FBQztFQUV4QyxPQUFPO0lBRUxqQixlQUFlLEVBQWZBLGVBQWU7SUFDZmlCLGlCQUFpQixFQUFqQkEsaUJBQWlCO0lBR2pCYyxTQUFTLEVBQVRBLFNBQVM7SUFDVHRDLEtBQUssRUFBTEEsS0FBSztJQUdMNkQsS0FBSyxFQUFMQSxLQUFLO0lBR0xDLGNBQWMsRUFBRXZELGVBQWUsQ0FBQ3pCLE1BQU0sR0FBRyxDQUFDO0lBQzFDaUYsb0JBQW9CLEVBQUV2QyxpQkFBaUIsQ0FBQzFDLE1BQU0sR0FBRztFQUNuRCxDQUFDO0FBQ0gsQ0FBQztBQUFDLElBQUFrRixRQUFBLEdBQUFDLE9BQUEsQ0FBQWhHLE9BQUEsR0FFYTRELGVBQWUiLCJpZ25vcmVMaXN0IjpbXX0=