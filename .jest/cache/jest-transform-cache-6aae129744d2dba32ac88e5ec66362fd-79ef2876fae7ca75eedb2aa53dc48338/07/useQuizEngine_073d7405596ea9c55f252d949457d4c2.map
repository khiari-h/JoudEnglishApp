{"version":3,"names":["_react","require","useQuizEngine","questions","_useState","useState","_useState2","_slicedToArray2","default","currentQuestionIndex","setCurrentQuestionIndex","_useState3","_useState4","score","setScore","_useState5","_useState6","selectedChoice","setSelectedChoice","_useState7","_useState8","showResult","setShowResult","_useState9","_useState0","isFinished","setIsFinished","_useState1","_useState10","userAnswers","setUserAnswers","totalQuestions","useMemo","Array","isArray","length","currentQuestion","progress","handleAnswer","useCallback","choice","isCorrect","correctAnswer","prevScore","prev","concat","_toConsumableArray2","question","word","goToNextQuestion","nextIndex","handleRestart","_default","exports"],"sources":["useQuizEngine.js"],"sourcesContent":["// src/hooks/useQuizEngine.js\r\nimport { useState, useMemo, useCallback } from 'react';\r\n\r\nconst useQuizEngine = (questions) => {\r\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\r\n  const [score, setScore] = useState(0);\r\n  const [selectedChoice, setSelectedChoice] = useState(null);\r\n  const [showResult, setShowResult] = useState(false);\r\n  const [isFinished, setIsFinished] = useState(false);\r\n  const [userAnswers, setUserAnswers] = useState([]);\r\n\r\n  const totalQuestions = useMemo(() => {\r\n    if (!Array.isArray(questions)) return 0;\r\n    return questions.length;\r\n  }, [questions]);\r\n  const currentQuestion = useMemo(() => {\r\n    if (!questions || totalQuestions === 0 || currentQuestionIndex >= totalQuestions) {\r\n      return null;\r\n    }\r\n    return questions[currentQuestionIndex];\r\n  }, [questions, currentQuestionIndex, totalQuestions]);\r\n\r\n  const progress = useMemo(() => {\r\n    if (totalQuestions === 0) return 0;\r\n    // On calcule le pourcentage de progression\r\n    return ((currentQuestionIndex) / totalQuestions) * 100;\r\n  }, [currentQuestionIndex, totalQuestions]);\r\n\r\n  const handleAnswer = useCallback((choice) => {\r\n    if (showResult) return false; // Empêche de répondre à nouveau\r\n\r\n    if (!currentQuestion) return false; // Prevent handling answers when no current question\r\n\r\n    const isCorrect = choice === currentQuestion.correctAnswer;\r\n    if (isCorrect) {\r\n      setScore(prevScore => prevScore + 1);\r\n    }\r\n\r\n    setSelectedChoice(choice);\r\n    setUserAnswers(prev => [...prev, { question: currentQuestion.word, choice, isCorrect }]);\r\n    setShowResult(true); // Affiche le résultat et attend que l'utilisateur clique sur \"Continuer\"\r\n\r\n    return isCorrect;\r\n  }, [currentQuestion, showResult]);\r\n  const goToNextQuestion = useCallback(() => {\r\n    const nextIndex = currentQuestionIndex + 1;\r\n    if (nextIndex < totalQuestions) {\r\n      setCurrentQuestionIndex(nextIndex);\r\n      setSelectedChoice(null); // Réinitialise le choix pour la nouvelle question\r\n      setShowResult(false);   // Cache le résultat pour la nouvelle question\r\n    } else {\r\n      setIsFinished(true); // Fin du quiz\r\n    }\r\n  }, [currentQuestionIndex, totalQuestions]);\r\n\r\n  const handleRestart = useCallback(() => {\r\n    setCurrentQuestionIndex(0);\r\n    setScore(0);\r\n    setSelectedChoice(null);\r\n    setShowResult(false);\r\n    setIsFinished(false);\r\n    setUserAnswers([]);\r\n  }, []);\r\n\r\n  return {\r\n    currentQuestionIndex, totalQuestions, score, progress,\r\n    currentQuestion, selectedChoice, showResult, isFinished,\r\n    userAnswers, handleAnswer, goToNextQuestion, handleRestart,\r\n  };\r\n};\r\n\r\nexport default useQuizEngine;"],"mappings":"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","ignoreList":[]}