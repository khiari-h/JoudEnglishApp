{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_reactNative2","_CurrentLevelContext","_jsxRuntime","TestComponent","_useCurrentLevel","useCurrentLevel","currentLevel","setCurrentLevel","jsxs","Fragment","children","jsx","Text","testID","Button","title","onPress","ComponentWithoutProvider","describe","it","render","CurrentLevelProvider","initialLevel","expect","screen","getByTestId","props","toBe","fireEvent","press","getByText","originalError","console","error","jest","fn","toThrow"],"sources":["CurrentLevelContext.test.js"],"sourcesContent":["import React from 'react';\nimport { render, screen, fireEvent } from '@testing-library/react-native';\nimport { Text, Button } from 'react-native';\nimport { CurrentLevelProvider, useCurrentLevel } from '../../../src/contexts/CurrentLevelContext';\n\n// Helper component to consume the context\nconst TestComponent = () => {\n  const { currentLevel, setCurrentLevel } = useCurrentLevel();\n  return (\n    <>\n      <Text testID=\"current-level\">{currentLevel}</Text>\n      <Button title=\"Set Level 2\" onPress={() => setCurrentLevel('2')} />\n      <Button title=\"Set Level 3\" onPress={() => setCurrentLevel('3')} />\n    </>\n  );\n};\n\nconst ComponentWithoutProvider = () => {\n  useCurrentLevel();\n  return null;\n};\n\ndescribe('CurrentLevelContext', () => {\n  it('provides initial level and allows updating it', () => {\n    render(\n      <CurrentLevelProvider initialLevel=\"1\">\n        <TestComponent />\n      </CurrentLevelProvider>\n    );\n\n    expect(screen.getByTestId('current-level').props.children).toBe('1');\n\n    fireEvent.press(screen.getByText('Set Level 2'));\n    expect(screen.getByTestId('current-level').props.children).toBe('2');\n\n    fireEvent.press(screen.getByText('Set Level 3'));\n    expect(screen.getByTestId('current-level').props.children).toBe('3');\n  });\n\n  it('defaults to level \"1\" if no initialLevel is provided', () => {\n    render(\n      <CurrentLevelProvider>\n        <TestComponent />\n      </CurrentLevelProvider>\n    );\n    expect(screen.getByTestId('current-level').props.children).toBe('1');\n  });\n\n  it('throws an error if useCurrentLevel is used outside of CurrentLevelProvider', () => {\n    // Suppress console.error for this test to avoid noisy output\n    const originalError = console.error;\n    console.error = jest.fn();\n\n    expect(() => render(<ComponentWithoutProvider />)).toThrow(\n      \"useCurrentLevel doit être utilisé dans CurrentLevelProvider\"\n    );\n\n    // Restore console.error\n    console.error = originalError;\n  });\n});\n"],"mappings":"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","ignoreList":[]}