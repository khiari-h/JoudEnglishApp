{"version":3,"names":["_getJestObj","mock","RN","jest","requireActual","View","Text","TouchableOpacity","TouchableWithoutFeedback","ScrollView","KeyboardAvoidingView","Object","assign","Modal","_ref","children","visible","onRequestClose","_jsxRuntime","jsx","testID","Dimensions","get","width","height","Platform","OS","Animated","Value","_createClass2","default","_classCallCheck2","interpolate","timing","start","fn","Ionicons","_ref2","name","size","color","props","_objectWithoutProperties2","_excluded","React","require","_require","createElement","modalContainer","backdrop","contentContainer","centerPosition","bottomPosition","topPosition","header","title","closeButton","body","scrollableBody","scrollableContent","footer","keyboardAvoidingView","_interopRequireDefault","_react","_reactNative","_Modal","_reactNative2","_require2","describe","mockOnClose","beforeEach","mockClear","it","_render","render","onClose","queryByText","expect","toBeNull","_render2","getByText","toBeTruthy","_render3","closeOnBackdropPress","getByTestId","fireEvent","press","toHaveBeenCalledTimes","_render4","not","toHaveBeenCalled","_render5","_render6","_render7","showCloseButton","queryByTestId","_render8","parent","_render9","_render0","scrollable"],"sources":["Modal.test.js"],"sourcesContent":["import React from 'react';\nimport { render, fireEvent } from '@testing-library/react-native';\nimport Modal from '../../../src/components/ui/Modal';\nimport { Text } from 'react-native';\n\n// Mock plus complet du composant Modal de react-native\njest.mock('react-native', () => {\n  const RN = jest.requireActual('react-native');\n  const { View, Text, TouchableOpacity, TouchableWithoutFeedback, ScrollView, KeyboardAvoidingView } = RN;\n  \n  return {\n    ...RN,\n    Modal: ({ children, visible, onRequestClose }) => \n      visible ? <View testID=\"rn-modal\">{children}</View> : null,\n    Dimensions: {\n      get: () => ({ width: 375, height: 667 })\n    },\n    Platform: {\n      OS: 'ios'\n    },\n    Animated: {\n      View: View,\n      Value: class {\n        constructor() {}\n        interpolate = () => 0;\n      },\n      timing: () => ({ start: jest.fn() })\n    }\n  };\n});\n\n// Mock d'Expo Vector Icons\njest.mock('@expo/vector-icons', () => ({\n  Ionicons: ({ name, size, color, ...props }) => {\n    const React = require('react');\n    const { Text } = require('react-native');\n    return React.createElement(Text, { ...props, testID: `icon-${name}` }, name);\n  }\n}));\n\n// Mock du fichier de styles\njest.mock('../../../src/components/ui/Modal/style', () => ({\n  modalContainer: {},\n  backdrop: {},\n  contentContainer: {},\n  centerPosition: {},\n  bottomPosition: {},\n  topPosition: {},\n  header: {},\n  title: {},\n  closeButton: {},\n  body: {},\n  scrollableBody: {},\n  scrollableContent: {},\n  footer: {},\n  keyboardAvoidingView: {}\n}));\n\ndescribe('Modal', () => {\n  const mockOnClose = jest.fn();\n\n  beforeEach(() => {\n    mockOnClose.mockClear();\n  });\n\n  it('ne devrait pas rendre le contenu si visible est faux', () => {\n    const { queryByText } = render(\n      <Modal visible={false} onClose={mockOnClose}>\n        <Text>Contenu du modal</Text>\n      </Modal>\n    );\n    expect(queryByText('Contenu du modal')).toBeNull();\n  });\n\n  it('devrait rendre le contenu si visible est vrai', () => {\n    const { getByText } = render(\n      <Modal visible={true} onClose={mockOnClose}>\n        <Text>Contenu du modal</Text>\n      </Modal>\n    );\n    expect(getByText('Contenu du modal')).toBeTruthy();\n  });\n\n  it('devrait appeler onClose quand le fond est pressé et closeOnBackdropPress est vrai', () => {\n    const { getByTestId } = render(\n      <Modal visible={true} onClose={mockOnClose} closeOnBackdropPress={true}>\n        <Text>Contenu du modal</Text>\n      </Modal>\n    );\n    \n    const backdrop = getByTestId('modal-backdrop');\n    fireEvent.press(backdrop);\n    expect(mockOnClose).toHaveBeenCalledTimes(1);\n  });\n\n  it('ne devrait pas appeler onClose quand le fond est pressé et closeOnBackdropPress est faux', () => {\n    const { getByTestId } = render(\n      <Modal visible={true} onClose={mockOnClose} closeOnBackdropPress={false}>\n        <Text>Contenu du modal</Text>\n      </Modal>\n    );\n    \n    const backdrop = getByTestId('modal-backdrop');\n    fireEvent.press(backdrop);\n    expect(mockOnClose).not.toHaveBeenCalled();\n  });\n\n  it('devrait rendre le titre si fourni', () => {\n    const { getByText } = render(\n      <Modal visible={true} onClose={mockOnClose} title=\"Titre du Modal\">\n        <Text>Contenu</Text>\n      </Modal>\n    );\n    expect(getByText('Titre du Modal')).toBeTruthy();\n  });\n\n  it('devrait afficher le bouton de fermeture par défaut', () => {\n    const { getByTestId } = render(\n      <Modal visible={true} onClose={mockOnClose} title=\"Test\">\n        <Text>Contenu</Text>\n      </Modal>\n    );\n    expect(getByTestId('icon-close')).toBeTruthy();\n  });\n\n  it('ne devrait pas afficher le bouton de fermeture si showCloseButton est false', () => {\n    const { queryByTestId } = render(\n      <Modal visible={true} onClose={mockOnClose} title=\"Test\" showCloseButton={false}>\n        <Text>Contenu</Text>\n      </Modal>\n    );\n    expect(queryByTestId('icon-close')).toBeNull();\n  });\n\n  it('devrait appeler onClose quand le bouton de fermeture est pressé', () => {\n    const { getByTestId } = render(\n      <Modal visible={true} onClose={mockOnClose} title=\"Test\">\n        <Text>Contenu</Text>\n      </Modal>\n    );\n    \n    const closeButton = getByTestId('icon-close').parent;\n    fireEvent.press(closeButton);\n    expect(mockOnClose).toHaveBeenCalledTimes(1);\n  });\n\n  it('devrait rendre le footer si fourni', () => {\n    const footer = <Text>Footer content</Text>;\n    const { getByText } = render(\n      <Modal visible={true} onClose={mockOnClose} footer={footer}>\n        <Text>Contenu</Text>\n      </Modal>\n    );\n    expect(getByText('Footer content')).toBeTruthy();\n  });\n\n  it('devrait utiliser ScrollView si scrollable est true', () => {\n    const { getByTestId } = render(\n      <Modal visible={true} onClose={mockOnClose} scrollable={true}>\n        <Text testID=\"scrollable-content\">Contenu scrollable</Text>\n      </Modal>\n    );\n    // Le contenu devrait être dans un ScrollView\n    expect(getByTestId('scrollable-content')).toBeTruthy();\n  });\n});"],"mappings":"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","ignoreList":[]}