57451b91a6ce2259256261d1dd80e731
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports._updatePropsJS = void 0;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _JSReanimated = _interopRequireDefault(require("./JSReanimated"));
var _webUtils = require("./webUtils");
var _propsAllowlists = require("../propsAllowlists");
var _logger = require("../logger");
var _errors = require("../errors");
var reanimatedJS = new _JSReanimated.default();
global._makeShareableClone = function () {
  throw new _errors.ReanimatedError('_makeShareableClone should never be called in JSReanimated.');
};
global._scheduleHostFunctionOnJS = function () {
  throw new _errors.ReanimatedError('_scheduleHostFunctionOnJS should never be called in JSReanimated.');
};
global._scheduleRemoteFunctionOnJS = function () {
  throw new _errors.ReanimatedError('_scheduleHostFunctionOnJS should never be called in JSReanimated.');
};
global._scheduleOnRuntime = function () {
  throw new _errors.ReanimatedError('_scheduleOnRuntime should never be called in JSReanimated.');
};
var _updatePropsJS = exports._updatePropsJS = function _updatePropsJS(updates, viewRef, isAnimatedProps) {
  if (viewRef) {
    var component = viewRef.getAnimatableRef ? viewRef.getAnimatableRef() : viewRef;
    var _Object$keys$reduce = Object.keys(updates).reduce(function (acc, key) {
        var value = updates[key];
        var index = typeof value === 'function' ? 1 : 0;
        acc[index][key] = value;
        return acc;
      }, [{}, {}]),
      _Object$keys$reduce2 = (0, _slicedToArray2.default)(_Object$keys$reduce, 1),
      rawStyles = _Object$keys$reduce2[0];
    if (typeof component.setNativeProps === 'function') {
      setNativeProps(component, rawStyles, isAnimatedProps);
    } else if (_webUtils.createReactDOMStyle !== undefined && component.style !== undefined) {
      updatePropsDOM(component, rawStyles, isAnimatedProps);
    } else if (Object.keys(component.props).length > 0) {
      Object.keys(component.props).forEach(function (key) {
        if (!rawStyles[key]) {
          return;
        }
        var dashedKey = key.replace(/[A-Z]/g, function (m) {
          return '-' + m.toLowerCase();
        });
        component._touchableNode.setAttribute(dashedKey, rawStyles[key]);
      });
    } else {
      var componentName = 'className' in component ? component == null ? void 0 : component.className : '';
      _logger.logger.warn(`It's not possible to manipulate the component ${componentName}`);
    }
  }
};
var setNativeProps = function setNativeProps(component, newProps, isAnimatedProps) {
  if (isAnimatedProps) {
    var uiProps = {};
    for (var key in newProps) {
      if (isNativeProp(key)) {
        uiProps[key] = newProps[key];
      }
    }
    component.setNativeProps == null || component.setNativeProps(uiProps);
  }
  var previousStyle = component.previousStyle ? component.previousStyle : {};
  var currentStyle = Object.assign({}, previousStyle, newProps);
  component.previousStyle = currentStyle;
  component.setNativeProps == null || component.setNativeProps({
    style: currentStyle
  });
};
var updatePropsDOM = function updatePropsDOM(component, style, isAnimatedProps) {
  var previousStyle = component.previousStyle ? component.previousStyle : {};
  var currentStyle = Object.assign({}, previousStyle, style);
  component.previousStyle = currentStyle;
  var domStyle = (0, _webUtils.createReactDOMStyle)(currentStyle);
  if (Array.isArray(domStyle.transform) && _webUtils.createTransformValue !== undefined) {
    domStyle.transform = (0, _webUtils.createTransformValue)(domStyle.transform);
  }
  if (_webUtils.createTextShadowValue !== undefined && (domStyle.textShadowColor || domStyle.textShadowRadius || domStyle.textShadowOffset)) {
    domStyle.textShadow = (0, _webUtils.createTextShadowValue)({
      textShadowColor: domStyle.textShadowColor,
      textShadowOffset: domStyle.textShadowOffset,
      textShadowRadius: domStyle.textShadowRadius
    });
  }
  for (var key in domStyle) {
    if (isAnimatedProps) {
      component.setAttribute(key, domStyle[key]);
    } else {
      component.style[key] = domStyle[key];
    }
  }
};
function isNativeProp(propName) {
  return !!_propsAllowlists.PropsAllowlists.NATIVE_THREAD_PROPS_WHITELIST[propName];
}
var _default = exports.default = reanimatedJS;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZGVmYXVsdCIsIl91cGRhdGVQcm9wc0pTIiwiX3NsaWNlZFRvQXJyYXkyIiwiX0pTUmVhbmltYXRlZCIsIl93ZWJVdGlscyIsIl9wcm9wc0FsbG93bGlzdHMiLCJfbG9nZ2VyIiwiX2Vycm9ycyIsInJlYW5pbWF0ZWRKUyIsIkpTUmVhbmltYXRlZCIsImdsb2JhbCIsIl9tYWtlU2hhcmVhYmxlQ2xvbmUiLCJSZWFuaW1hdGVkRXJyb3IiLCJfc2NoZWR1bGVIb3N0RnVuY3Rpb25PbkpTIiwiX3NjaGVkdWxlUmVtb3RlRnVuY3Rpb25PbkpTIiwiX3NjaGVkdWxlT25SdW50aW1lIiwidXBkYXRlcyIsInZpZXdSZWYiLCJpc0FuaW1hdGVkUHJvcHMiLCJjb21wb25lbnQiLCJnZXRBbmltYXRhYmxlUmVmIiwiX09iamVjdCRrZXlzJHJlZHVjZSIsImtleXMiLCJyZWR1Y2UiLCJhY2MiLCJrZXkiLCJpbmRleCIsIl9PYmplY3Qka2V5cyRyZWR1Y2UyIiwicmF3U3R5bGVzIiwic2V0TmF0aXZlUHJvcHMiLCJjcmVhdGVSZWFjdERPTVN0eWxlIiwidW5kZWZpbmVkIiwic3R5bGUiLCJ1cGRhdGVQcm9wc0RPTSIsInByb3BzIiwibGVuZ3RoIiwiZm9yRWFjaCIsImRhc2hlZEtleSIsInJlcGxhY2UiLCJtIiwidG9Mb3dlckNhc2UiLCJfdG91Y2hhYmxlTm9kZSIsInNldEF0dHJpYnV0ZSIsImNvbXBvbmVudE5hbWUiLCJjbGFzc05hbWUiLCJsb2dnZXIiLCJ3YXJuIiwibmV3UHJvcHMiLCJ1aVByb3BzIiwiaXNOYXRpdmVQcm9wIiwicHJldmlvdXNTdHlsZSIsImN1cnJlbnRTdHlsZSIsImFzc2lnbiIsImRvbVN0eWxlIiwiQXJyYXkiLCJpc0FycmF5IiwidHJhbnNmb3JtIiwiY3JlYXRlVHJhbnNmb3JtVmFsdWUiLCJjcmVhdGVUZXh0U2hhZG93VmFsdWUiLCJ0ZXh0U2hhZG93Q29sb3IiLCJ0ZXh0U2hhZG93UmFkaXVzIiwidGV4dFNoYWRvd09mZnNldCIsInRleHRTaGFkb3ciLCJwcm9wTmFtZSIsIlByb3BzQWxsb3dsaXN0cyIsIk5BVElWRV9USFJFQURfUFJPUFNfV0hJVEVMSVNUIiwiX2RlZmF1bHQiXSwic291cmNlcyI6WyJpbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5pbXBvcnQgSlNSZWFuaW1hdGVkIGZyb20gJy4vSlNSZWFuaW1hdGVkJztcbmltcG9ydCB0eXBlIHsgU3R5bGVQcm9wcywgQW5pbWF0ZWRTdHlsZSB9IGZyb20gJy4uL2NvbW1vblR5cGVzJztcbmltcG9ydCB7XG4gIGNyZWF0ZVJlYWN0RE9NU3R5bGUsXG4gIGNyZWF0ZVRyYW5zZm9ybVZhbHVlLFxuICBjcmVhdGVUZXh0U2hhZG93VmFsdWUsXG59IGZyb20gJy4vd2ViVXRpbHMnO1xuaW1wb3J0IHsgUHJvcHNBbGxvd2xpc3RzIH0gZnJvbSAnLi4vcHJvcHNBbGxvd2xpc3RzJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgeyBSZWFuaW1hdGVkRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuXG5jb25zdCByZWFuaW1hdGVkSlMgPSBuZXcgSlNSZWFuaW1hdGVkKCk7XG5cbmdsb2JhbC5fbWFrZVNoYXJlYWJsZUNsb25lID0gKCkgPT4ge1xuICB0aHJvdyBuZXcgUmVhbmltYXRlZEVycm9yKFxuICAgICdfbWFrZVNoYXJlYWJsZUNsb25lIHNob3VsZCBuZXZlciBiZSBjYWxsZWQgaW4gSlNSZWFuaW1hdGVkLidcbiAgKTtcbn07XG5cbmdsb2JhbC5fc2NoZWR1bGVIb3N0RnVuY3Rpb25PbkpTID0gKCkgPT4ge1xuICB0aHJvdyBuZXcgUmVhbmltYXRlZEVycm9yKFxuICAgICdfc2NoZWR1bGVIb3N0RnVuY3Rpb25PbkpTIHNob3VsZCBuZXZlciBiZSBjYWxsZWQgaW4gSlNSZWFuaW1hdGVkLidcbiAgKTtcbn07XG5cbmdsb2JhbC5fc2NoZWR1bGVSZW1vdGVGdW5jdGlvbk9uSlMgPSAoKSA9PiB7XG4gIHRocm93IG5ldyBSZWFuaW1hdGVkRXJyb3IoXG4gICAgJ19zY2hlZHVsZUhvc3RGdW5jdGlvbk9uSlMgc2hvdWxkIG5ldmVyIGJlIGNhbGxlZCBpbiBKU1JlYW5pbWF0ZWQuJ1xuICApO1xufTtcblxuZ2xvYmFsLl9zY2hlZHVsZU9uUnVudGltZSA9ICgpID0+IHtcbiAgdGhyb3cgbmV3IFJlYW5pbWF0ZWRFcnJvcihcbiAgICAnX3NjaGVkdWxlT25SdW50aW1lIHNob3VsZCBuZXZlciBiZSBjYWxsZWQgaW4gSlNSZWFuaW1hdGVkLidcbiAgKTtcbn07XG5cbmludGVyZmFjZSBKU1JlYW5pbWF0ZWRDb21wb25lbnQge1xuICBwcmV2aW91c1N0eWxlOiBTdHlsZVByb3BzO1xuICBzZXROYXRpdmVQcm9wcz86IChzdHlsZTogU3R5bGVQcm9wcykgPT4gdm9pZDtcbiAgc3R5bGU/OiBTdHlsZVByb3BzO1xuICBwcm9wczogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVtYmVyPjtcbiAgX3RvdWNoYWJsZU5vZGU6IHtcbiAgICBzZXRBdHRyaWJ1dGU6IChrZXk6IHN0cmluZywgcHJvcHM6IHVua25vd24pID0+IHZvaWQ7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVhbmltYXRlZEhUTUxFbGVtZW50IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBwcmV2aW91c1N0eWxlOiBTdHlsZVByb3BzO1xuICBzZXROYXRpdmVQcm9wcz86IChzdHlsZTogU3R5bGVQcm9wcykgPT4gdm9pZDtcbiAgcHJvcHM6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bWJlcj47XG4gIF90b3VjaGFibGVOb2RlOiB7XG4gICAgc2V0QXR0cmlidXRlOiAoa2V5OiBzdHJpbmcsIHByb3BzOiB1bmtub3duKSA9PiB2b2lkO1xuICB9O1xuICByZWFuaW1hdGVkRHVtbXk/OiBib29sZWFuO1xuICByZW1vdmVkQWZ0ZXJBbmltYXRpb24/OiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgX3VwZGF0ZVByb3BzSlMgPSAoXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tcmVkdW5kYW50LXR5cGUtY29uc3RpdHVlbnRzXG4gIHVwZGF0ZXM6IFN0eWxlUHJvcHMgfCBBbmltYXRlZFN0eWxlPGFueT4sXG4gIHZpZXdSZWY6IChKU1JlYW5pbWF0ZWRDb21wb25lbnQgfCBSZWFuaW1hdGVkSFRNTEVsZW1lbnQpICYge1xuICAgIGdldEFuaW1hdGFibGVSZWY/OiAoKSA9PiBKU1JlYW5pbWF0ZWRDb21wb25lbnQgfCBSZWFuaW1hdGVkSFRNTEVsZW1lbnQ7XG4gIH0sXG4gIGlzQW5pbWF0ZWRQcm9wcz86IGJvb2xlYW5cbik6IHZvaWQgPT4ge1xuICBpZiAodmlld1JlZikge1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IHZpZXdSZWYuZ2V0QW5pbWF0YWJsZVJlZlxuICAgICAgPyB2aWV3UmVmLmdldEFuaW1hdGFibGVSZWYoKVxuICAgICAgOiB2aWV3UmVmO1xuICAgIGNvbnN0IFtyYXdTdHlsZXNdID0gT2JqZWN0LmtleXModXBkYXRlcykucmVkdWNlKFxuICAgICAgKGFjYzogW1N0eWxlUHJvcHMsIEFuaW1hdGVkU3R5bGU8YW55Pl0sIGtleSkgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHVwZGF0ZXNba2V5XTtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgPyAxIDogMDtcbiAgICAgICAgYWNjW2luZGV4XVtrZXldID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9LFxuICAgICAgW3t9LCB7fV1cbiAgICApO1xuXG4gICAgaWYgKHR5cGVvZiBjb21wb25lbnQuc2V0TmF0aXZlUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIFRoaXMgaXMgdGhlIGxlZ2FjeSB3YXkgdG8gdXBkYXRlIHByb3BzIG9uIFJlYWN0IE5hdGl2ZSBXZWIgPD0gMC4xOC5cbiAgICAgIC8vIEFsc28sIHNvbWUgY29tcG9uZW50cyAoZS5nLiBmcm9tIHJlYWN0LW5hdGl2ZS1zdmcpIGRvbid0IGhhdmUgc3R5bGVzXG4gICAgICAvLyBhbmQgYWx3YXlzIHByb3ZpZGUgc2V0TmF0aXZlUHJvcHMgZnVuY3Rpb24gaW5zdGVhZCAoZXZlbiBvbiBSZWFjdCBOYXRpdmUgV2ViIDAuMTkrKS5cbiAgICAgIHNldE5hdGl2ZVByb3BzKGNvbXBvbmVudCwgcmF3U3R5bGVzLCBpc0FuaW1hdGVkUHJvcHMpO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBjcmVhdGVSZWFjdERPTVN0eWxlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIGNvbXBvbmVudC5zdHlsZSAhPT0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICAvLyBSZWFjdCBOYXRpdmUgV2ViIDAuMTkrIG5vIGxvbmdlciBwcm92aWRlcyBzZXROYXRpdmVQcm9wcyBmdW5jdGlvbixcbiAgICAgIC8vIHNvIHdlIG5lZWQgdG8gdXBkYXRlIERPTSBub2RlcyBkaXJlY3RseS5cbiAgICAgIHVwZGF0ZVByb3BzRE9NKGNvbXBvbmVudCwgcmF3U3R5bGVzLCBpc0FuaW1hdGVkUHJvcHMpO1xuICAgIH0gZWxzZSBpZiAoT2JqZWN0LmtleXMoY29tcG9uZW50LnByb3BzKS5sZW5ndGggPiAwKSB7XG4gICAgICBPYmplY3Qua2V5cyhjb21wb25lbnQucHJvcHMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBpZiAoIXJhd1N0eWxlc1trZXldKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhc2hlZEtleSA9IGtleS5yZXBsYWNlKC9bQS1aXS9nLCAobSkgPT4gJy0nICsgbS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgY29tcG9uZW50Ll90b3VjaGFibGVOb2RlLnNldEF0dHJpYnV0ZShkYXNoZWRLZXksIHJhd1N0eWxlc1trZXldKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjb21wb25lbnROYW1lID1cbiAgICAgICAgJ2NsYXNzTmFtZScgaW4gY29tcG9uZW50ID8gY29tcG9uZW50Py5jbGFzc05hbWUgOiAnJztcbiAgICAgIGxvZ2dlci53YXJuKFxuICAgICAgICBgSXQncyBub3QgcG9zc2libGUgdG8gbWFuaXB1bGF0ZSB0aGUgY29tcG9uZW50ICR7Y29tcG9uZW50TmFtZX1gXG4gICAgICApO1xuICAgIH1cbiAgfVxufTtcblxuY29uc3Qgc2V0TmF0aXZlUHJvcHMgPSAoXG4gIGNvbXBvbmVudDogSlNSZWFuaW1hdGVkQ29tcG9uZW50IHwgUmVhbmltYXRlZEhUTUxFbGVtZW50LFxuICBuZXdQcm9wczogU3R5bGVQcm9wcyxcbiAgaXNBbmltYXRlZFByb3BzPzogYm9vbGVhblxuKTogdm9pZCA9PiB7XG4gIGlmIChpc0FuaW1hdGVkUHJvcHMpIHtcbiAgICBjb25zdCB1aVByb3BzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIG5ld1Byb3BzKSB7XG4gICAgICBpZiAoaXNOYXRpdmVQcm9wKGtleSkpIHtcbiAgICAgICAgdWlQcm9wc1trZXldID0gbmV3UHJvcHNba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gT25seSB1cGRhdGUgVUkgcHJvcHMgZGlyZWN0bHkgb24gdGhlIGNvbXBvbmVudCxcbiAgICAvLyBvdGhlciBwcm9wcyBjYW4gYmUgdXBkYXRlZCBhcyBzdGFuZGFyZCBzdHlsZSBwcm9wcy5cbiAgICBjb21wb25lbnQuc2V0TmF0aXZlUHJvcHM/Lih1aVByb3BzKTtcbiAgfVxuXG4gIGNvbnN0IHByZXZpb3VzU3R5bGUgPSBjb21wb25lbnQucHJldmlvdXNTdHlsZSA/IGNvbXBvbmVudC5wcmV2aW91c1N0eWxlIDoge307XG4gIGNvbnN0IGN1cnJlbnRTdHlsZSA9IHsgLi4ucHJldmlvdXNTdHlsZSwgLi4ubmV3UHJvcHMgfTtcbiAgY29tcG9uZW50LnByZXZpb3VzU3R5bGUgPSBjdXJyZW50U3R5bGU7XG5cbiAgY29tcG9uZW50LnNldE5hdGl2ZVByb3BzPy4oeyBzdHlsZTogY3VycmVudFN0eWxlIH0pO1xufTtcblxuY29uc3QgdXBkYXRlUHJvcHNET00gPSAoXG4gIGNvbXBvbmVudDogSlNSZWFuaW1hdGVkQ29tcG9uZW50IHwgSFRNTEVsZW1lbnQsXG4gIHN0eWxlOiBTdHlsZVByb3BzLFxuICBpc0FuaW1hdGVkUHJvcHM/OiBib29sZWFuXG4pOiB2b2lkID0+IHtcbiAgY29uc3QgcHJldmlvdXNTdHlsZSA9IChjb21wb25lbnQgYXMgSlNSZWFuaW1hdGVkQ29tcG9uZW50KS5wcmV2aW91c1N0eWxlXG4gICAgPyAoY29tcG9uZW50IGFzIEpTUmVhbmltYXRlZENvbXBvbmVudCkucHJldmlvdXNTdHlsZVxuICAgIDoge307XG4gIGNvbnN0IGN1cnJlbnRTdHlsZSA9IHsgLi4ucHJldmlvdXNTdHlsZSwgLi4uc3R5bGUgfTtcbiAgKGNvbXBvbmVudCBhcyBKU1JlYW5pbWF0ZWRDb21wb25lbnQpLnByZXZpb3VzU3R5bGUgPSBjdXJyZW50U3R5bGU7XG5cbiAgY29uc3QgZG9tU3R5bGUgPSBjcmVhdGVSZWFjdERPTVN0eWxlKGN1cnJlbnRTdHlsZSk7XG4gIGlmIChBcnJheS5pc0FycmF5KGRvbVN0eWxlLnRyYW5zZm9ybSkgJiYgY3JlYXRlVHJhbnNmb3JtVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIGRvbVN0eWxlLnRyYW5zZm9ybSA9IGNyZWF0ZVRyYW5zZm9ybVZhbHVlKGRvbVN0eWxlLnRyYW5zZm9ybSk7XG4gIH1cblxuICBpZiAoXG4gICAgY3JlYXRlVGV4dFNoYWRvd1ZhbHVlICE9PSB1bmRlZmluZWQgJiZcbiAgICAoZG9tU3R5bGUudGV4dFNoYWRvd0NvbG9yIHx8XG4gICAgICBkb21TdHlsZS50ZXh0U2hhZG93UmFkaXVzIHx8XG4gICAgICBkb21TdHlsZS50ZXh0U2hhZG93T2Zmc2V0KVxuICApIHtcbiAgICBkb21TdHlsZS50ZXh0U2hhZG93ID0gY3JlYXRlVGV4dFNoYWRvd1ZhbHVlKHtcbiAgICAgIHRleHRTaGFkb3dDb2xvcjogZG9tU3R5bGUudGV4dFNoYWRvd0NvbG9yLFxuICAgICAgdGV4dFNoYWRvd09mZnNldDogZG9tU3R5bGUudGV4dFNoYWRvd09mZnNldCxcbiAgICAgIHRleHRTaGFkb3dSYWRpdXM6IGRvbVN0eWxlLnRleHRTaGFkb3dSYWRpdXMsXG4gICAgfSk7XG4gIH1cblxuICBmb3IgKGNvbnN0IGtleSBpbiBkb21TdHlsZSkge1xuICAgIGlmIChpc0FuaW1hdGVkUHJvcHMpIHtcbiAgICAgIChjb21wb25lbnQgYXMgSFRNTEVsZW1lbnQpLnNldEF0dHJpYnV0ZShrZXksIGRvbVN0eWxlW2tleV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAoY29tcG9uZW50LnN0eWxlIGFzIFN0eWxlUHJvcHMpW2tleV0gPSBkb21TdHlsZVtrZXldO1xuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gaXNOYXRpdmVQcm9wKHByb3BOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuICEhUHJvcHNBbGxvd2xpc3RzLk5BVElWRV9USFJFQURfUFJPUFNfV0hJVEVMSVNUW3Byb3BOYW1lXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcmVhbmltYXRlZEpTO1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUFDLElBQUFBLHNCQUFBLEdBQUFDLE9BQUE7QUFBQUMsTUFBQSxDQUFBQyxjQUFBLENBQUFDLE9BQUE7RUFBQUMsS0FBQTtBQUFBO0FBQUFELE9BQUEsQ0FBQUUsT0FBQSxHQUFBRixPQUFBLENBQUFHLGNBQUE7QUFBQSxJQUFBQyxlQUFBLEdBQUFSLHNCQUFBLENBQUFDLE9BQUE7QUFDYixJQUFBUSxhQUFBLEdBQUFULHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBUyxTQUFBLEdBQUFULE9BQUE7QUFLQSxJQUFBVSxnQkFBQSxHQUFBVixPQUFBO0FBQ0EsSUFBQVcsT0FBQSxHQUFB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