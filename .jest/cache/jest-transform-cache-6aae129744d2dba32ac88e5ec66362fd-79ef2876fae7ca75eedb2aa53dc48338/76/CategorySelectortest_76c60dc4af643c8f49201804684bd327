01eb4c0e162c6b8b63d8458b09350886
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _reactNative2 = require("react-native");
var _CategorySelector = _interopRequireWildcard(require("../../../src/components/exercise-common/CategorySelector"));
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
jest.spyOn(_reactNative2.Animated, 'timing').mockImplementation(function (value, config) {
  var mockTiming = {
    start: function start(callback) {
      if (callback) {
        callback({
          finished: true
        });
      }
    },
    stop: jest.fn()
  };
  return mockTiming;
});
jest.spyOn(_reactNative2.ScrollView.prototype, 'scrollTo').mockImplementation(function () {});
describe('CategorySelector Component', function () {
  var mockCategories = [{
    id: '1',
    name: 'Fruits'
  }, {
    id: '2',
    name: 'Vegetables'
  }, {
    id: '3',
    name: 'Dairy Products'
  }, {
    id: '4',
    name: 'Meat & Fish'
  }, {
    id: '5',
    name: 'Beverages'
  }];
  var defaultProps = {
    categories: mockCategories,
    selectedCategory: '1',
    onSelectCategory: jest.fn()
  };
  var renderCategorySelector = function renderCategorySelector() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    return (0, _reactNative.render)((0, _jsxRuntime.jsx)(_CategorySelector.default, Object.assign({}, defaultProps, props)));
  };
  beforeEach(function () {
    jest.clearAllMocks();
  });
  describe('Rendering', function () {
    it('should render without crashing', function () {
      expect(renderCategorySelector()).toBeTruthy();
    });
    it('should render all categories correctly', function () {
      var _renderCategorySelect = renderCategorySelector(),
        getByText = _renderCategorySelect.getByText;
      mockCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
    it('should render categories in the correct order', function () {
      var _renderCategorySelect2 = renderCategorySelector(),
        getAllByRole = _renderCategorySelect2.getAllByRole;
      var categoryNames = getAllByRole('button').map(function (element) {
        return element.props.accessibilityLabel;
      });
      expect(categoryNames).toEqual(mockCategories.map(function (cat) {
        return cat.name;
      }));
    });
    it('should handle empty categories array gracefully', function () {
      var _renderCategorySelect3 = renderCategorySelector({
          categories: []
        }),
        queryByText = _renderCategorySelect3.queryByText;
      mockCategories.forEach(function (category) {
        expect(queryByText(category.name)).toBeNull();
      });
    });
    it('should highlight the selected category visually', function () {
      var _renderCategorySelect4 = renderCategorySelector({
          selectedCategory: '2'
        }),
        getByText = _renderCategorySelect4.getByText,
        getByTestId = _renderCategorySelect4.getByTestId;
      expect(getByText('Vegetables')).toBeTruthy();
      var selectedPill = getByText('Vegetables').props.parent.props.accessibilityState.selected;
      expect(selectedPill).toBe(true);
    });
  });
  describe('User Interactions', function () {
    it('should call onSelectCategory when a different category is pressed', function () {
      var mockOnSelect = jest.fn();
      var _renderCategorySelect5 = renderCategorySelector({
          selectedCategory: '1',
          onSelectCategory: mockOnSelect
        }),
        getByText = _renderCategorySelect5.getByText;
      _reactNative.fireEvent.press(getByText('Vegetables'));
      expect(mockOnSelect).toHaveBeenCalledTimes(1);
      expect(mockOnSelect).toHaveBeenCalledWith('2');
    });
    it('should not call onSelectCategory when the same category is pressed', function () {
      var mockOnSelect = jest.fn();
      var _renderCategorySelect6 = renderCategorySelector({
          selectedCategory: '1',
          onSelectCategory: mockOnSelect
        }),
        getByText = _renderCategorySelect6.getByText;
      _reactNative.fireEvent.press(getByText('Fruits'));
      expect(mockOnSelect).not.toHaveBeenCalled();
    });
    it('should call onSelectCategory with correct category id for each category', function () {
      var mockOnSelect = jest.fn();
      var _renderCategorySelect7 = renderCategorySelector({
          selectedCategory: '1',
          onSelectCategory: mockOnSelect
        }),
        getByText = _renderCategorySelect7.getByText;
      var categoriesToTest = mockCategories.filter(function (cat) {
        return cat.id !== '1';
      });
      categoriesToTest.forEach(function (category) {
        _reactNative.fireEvent.press(getByText(category.name));
        expect(mockOnSelect).toHaveBeenCalledWith(category.id);
      });
      expect(mockOnSelect).toHaveBeenCalledTimes(categoriesToTest.length);
    });
  });
  describe('Animations', function () {
    it('should trigger press animations correctly', function () {
      var _renderCategorySelect8 = renderCategorySelector(),
        getByText = _renderCategorySelect8.getByText;
      var categoryPill = getByText('Vegetables');
      (0, _reactNative.act)(function () {
        (0, _reactNative.fireEvent)(categoryPill, 'pressIn');
        (0, _reactNative.fireEvent)(categoryPill, 'pressOut');
      });
      expect(categoryPill).toBeTruthy();
    });
    it('should handle rapid press interactions without crashing', function () {
      var mockOnSelect = jest.fn();
      var _renderCategorySelect9 = renderCategorySelector({
          onSelectCategory: mockOnSelect
        }),
        getByText = _renderCategorySelect9.getByText;
      var categoryPill = getByText('Vegetables');
      (0, _reactNative.act)(function () {
        (0, _reactNative.fireEvent)(categoryPill, 'pressIn');
        (0, _reactNative.fireEvent)(categoryPill, 'pressOut');
        _reactNative.fireEvent.press(categoryPill);
        (0, _reactNative.fireEvent)(categoryPill, 'pressIn');
        (0, _reactNative.fireEvent)(categoryPill, 'pressOut');
      });
      expect(mockOnSelect).toHaveBeenCalledWith('2');
      expect(categoryPill).toBeTruthy();
    });
    it('should not trigger new animation if one is already in progress', function () {
      var mockOnSelect = jest.fn();
      var _renderCategorySelect0 = renderCategorySelector({
          selectedCategory: '1',
          onSelectCategory: mockOnSelect
        }),
        getByText = _renderCategorySelect0.getByText;
      var animatedSpy = jest.spyOn(_reactNative2.Animated, 'timing');
      _reactNative.fireEvent.press(getByText('Vegetables'));
      _reactNative.fireEvent.press(getByText('Dairy Products'));
      expect(mockOnSelect).toHaveBeenCalledTimes(1);
      expect(mockOnSelect).toHaveBeenCalledWith('2');
      animatedSpy.mockRestore();
    });
  });
  describe('Scrolling Behavior', function () {
    it('should scroll to selected category on mount', (0, _asyncToGenerator2.default)(function* () {
      var _renderCategorySelect1 = renderCategorySelector({
          selectedCategory: '4'
        }),
        getByText = _renderCategorySelect1.getByText;
      expect(getByText('Meat & Fish')).toBeTruthy();
    }));
    it('should handle scrolling when selectedCategory changes', (0, _asyncToGenerator2.default)(function* () {
      var _renderCategorySelect10 = renderCategorySelector({
          selectedCategory: '1'
        }),
        rerender = _renderCategorySelect10.rerender,
        getByText = _renderCategorySelect10.getByText;
      var scrollToSpy = jest.spyOn(_reactNative2.ScrollView.prototype, 'scrollTo');
      rerender((0, _jsxRuntime.jsx)(_CategorySelector.default, Object.assign({}, defaultProps, {
        selectedCategory: "5"
      })));
      yield (0, _reactNative.waitFor)(function () {
        expect(scrollToSpy).toHaveBeenCalled();
      });
      expect(getByText('Beverages')).toBeTruthy();
      scrollToSpy.mockRestore();
    }));
  });
  describe('Edge Cases', function () {
    it('should handle undefined selectedCategory gracefully', function () {
      var _renderCategorySelect11 = renderCategorySelector({
          selectedCategory: undefined
        }),
        getByText = _renderCategorySelect11.getByText;
      mockCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
    it('should handle null selectedCategory gracefully', function () {
      var _renderCategorySelect12 = renderCategorySelector({
          selectedCategory: null
        }),
        getByText = _renderCategorySelect12.getByText;
      mockCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
    it('should handle non-existent selectedCategory id', function () {
      var _renderCategorySelect13 = renderCategorySelector({
          selectedCategory: 'non-existent'
        }),
        getByText = _renderCategorySelect13.getByText;
      mockCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
    it('should handle missing onSelectCategory prop gracefully', function () {
      var _renderCategorySelect14 = renderCategorySelector({
          onSelectCategory: undefined
        }),
        getByText = _renderCategorySelect14.getByText;
      expect(function () {
        _reactNative.fireEvent.press(getByText('Vegetables'));
      }).not.toThrow();
    });
    it('should handle categories with special characters in names', function () {
      var specialCategories = [{
        id: '1',
        name: 'Café & Thé'
      }, {
        id: '2',
        name: 'Fruits & Légumes'
      }, {
        id: '3',
        name: 'Viande/Poisson'
      }];
      var _renderCategorySelect15 = renderCategorySelector({
          categories: specialCategories
        }),
        getByText = _renderCategorySelect15.getByText;
      specialCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
    it('should handle very long category names', function () {
      var longNameCategories = [{
        id: '1',
        name: 'This is a very long category name that might cause layout issues'
      }, {
        id: '2',
        name: 'Short'
      }];
      var _renderCategorySelect16 = renderCategorySelector({
          categories: longNameCategories
        }),
        getByText = _renderCategorySelect16.getByText;
      longNameCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
  });
  describe('Performance', function () {
    it('should not re-render unnecessarily when props do not change', function () {
      var renderSpy = jest.fn();
      var TestWrapper = function TestWrapper(props) {
        renderSpy();
        return (0, _jsxRuntime.jsx)(_CategorySelector.default, Object.assign({}, props));
      };
      var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(TestWrapper, Object.assign({}, defaultProps))),
        rerender = _render.rerender;
      renderSpy.mockClear();
      rerender((0, _jsxRuntime.jsx)(TestWrapper, Object.assign({}, defaultProps)));
      expect(renderSpy).toHaveBeenCalledTimes(0);
    });
    it('should handle large number of categories efficiently', function () {
      var manyCategories = Array.from({
        length: 100
      }, function (_, i) {
        return {
          id: `${i + 1}`,
          name: `Category ${i + 1}`
        };
      });
      var startTime = Date.now();
      var _renderCategorySelect17 = renderCategorySelector({
          categories: manyCategories
        }),
        queryAllByText = _renderCategorySelect17.queryAllByText;
      var endTime = Date.now();
      expect(endTime - startTime).toBeLessThan(1000);
      var categoryElements = queryAllByText(/^Category/);
      expect(categoryElements).toHaveLength(100);
    });
  });
  describe('Accessibility', function () {
    it('should have proper accessibility labels', function () {
      var _renderCategorySelect18 = renderCategorySelector(),
        getByLabelText = _renderCategorySelect18.getByLabelText;
      mockCategories.forEach(function (category) {
        var element = getByLabelText(category.name);
        expect(element).toBeTruthy();
      });
    });
    it('should support screen reader navigation', function () {
      var _renderCategorySelect19 = renderCategorySelector(),
        getAllByRole = _renderCategorySelect19.getAllByRole;
      var buttons = getAllByRole('button');
      expect(buttons).toHaveLength(mockCategories.length);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdE5hdGl2ZSIsIl9yZWFjdE5hdGl2ZTIiLCJfQ2F0ZWdvcnlTZWxlY3RvciIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX2pzeFJ1bnRpbWUiLCJlIiwidCIsIldlYWtNYXAiLCJyIiwibiIsIl9fZXNNb2R1bGUiLCJvIiwiaSIsImYiLCJfX3Byb3RvX18iLCJkZWZhdWx0IiwiaGFzIiwiZ2V0Iiwic2V0IiwiX3QiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImplc3QiLCJzcHlPbiIsIkFuaW1hdGVkIiwibW9ja0ltcGxlbWVudGF0aW9uIiwidmFsdWUiLCJjb25maWciLCJtb2NrVGltaW5nIiwic3RhcnQiLCJjYWxsYmFjayIsImZpbmlzaGVkIiwic3RvcCIsImZuIiwiU2Nyb2xsVmlldyIsInByb3RvdHlwZSIsImRlc2NyaWJlIiwibW9ja0NhdGVnb3JpZXMiLCJpZCIsIm5hbWUiLCJkZWZhdWx0UHJvcHMiLCJjYXRlZ29yaWVzIiwic2VsZWN0ZWRDYXRlZ29yeSIsIm9uU2VsZWN0Q2F0ZWdvcnkiLCJyZW5kZXJDYXRlZ29yeVNlbGVjdG9yIiwicHJvcHMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJyZW5kZXIiLCJqc3giLCJhc3NpZ24iLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwiZXhwZWN0IiwidG9CZVRydXRoeSIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdCIsImdldEJ5VGV4dCIsImZvckVhY2giLCJjYXRlZ29yeSIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDIiLCJnZXRBbGxCeVJvbGUiLCJjYXRlZ29yeU5hbWVzIiwibWFwIiwiZWxlbWVudCIsImFjY2Vzc2liaWxpdHlMYWJlbCIsInRvRXF1YWwiLCJjYXQiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3QzIiwicXVlcnlCeVRleHQiLCJ0b0JlTnVsbCIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDQiLCJnZXRCeVRlc3RJZCIsInNlbGVjdGVkUGlsbCIsInBhcmVudCIsImFjY2Vzc2liaWxpdHlTdGF0ZSIsInNlbGVjdGVkIiwidG9CZSIsIm1vY2tPblNlbGVjdCIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDUiLCJmaXJlRXZlbnQiLCJwcmVzcyIsInRvSGF2ZUJlZW5DYWxsZWRUaW1lcyIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0NiIsIm5vdCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3Q3IiwiY2F0ZWdvcmllc1RvVGVzdCIsImZpbHRlciIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDgiLCJjYXRlZ29yeVBpbGwiLCJhY3QiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3Q5IiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0MCIsImFuaW1hdGVkU3B5IiwibW9ja1Jlc3RvcmUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3QxIiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0MTAiLCJyZXJlbmRlciIsInNjcm9sbFRvU3B5Iiwid2FpdEZvciIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDExIiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0MTIiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3QxMyIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDE0IiwidG9UaHJvdyIsInNwZWNpYWxDYXRlZ29yaWVzIiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0MTUiLCJsb25nTmFtZUNhdGVnb3JpZXMiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3QxNiIsInJlbmRlclNweSIsIlRlc3RXcmFwcGVyIiwiX3JlbmRlciIsIm1vY2tDbGVhciIsIm1hbnlDYXRlZ29yaWVzIiwiQXJyYXkiLCJmcm9tIiwiXyIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3QxNyIsInF1ZXJ5QWxsQnlUZXh0IiwiZW5kVGltZSIsInRvQmVMZXNzVGhhbiIsImNhdGVnb3J5RWxlbWVudHMiLCJ0b0hhdmVMZW5ndGgiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3QxOCIsImdldEJ5TGFiZWxUZXh0IiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0MTkiLCJidXR0b25zIl0sInNvdXJjZXMiOlsiQ2F0ZWdvcnlTZWxlY3Rvci50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIF9fdGVzdHNfXy9DYXRlZ29yeVNlbGVjdG9yLnRlc3QuanNcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZW5kZXIsIGZpcmVFdmVudCwgYWN0LCB3YWl0Rm9yIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdC1uYXRpdmUnO1xuaW1wb3J0IHsgQW5pbWF0ZWQsIFNjcm9sbFZpZXcgfSBmcm9tICdyZWFjdC1uYXRpdmUnOyAvLyBJbXBvcnRleiBTY3JvbGxWaWV3IHBvdXIgbGUgbW9ja2VyXG5pbXBvcnQgQ2F0ZWdvcnlTZWxlY3RvciwgeyBhcmVFcXVhbCB9IGZyb20gJy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL2V4ZXJjaXNlLWNvbW1vbi9DYXRlZ29yeVNlbGVjdG9yJztcblxuLy8gLS0tIETDqWZpbml0aW9uIGRlcyBNb2NrcyBwb3VyIHLDqXNvdWRyZSBsZXMgcHJvYmzDqG1lcyBkZSByZW5kdS9hbmltYXRpb24gLS0tXG5cbi8vIE1vY2tlciBBbmltYXRlZC50aW1pbmcgcG91ciBxdSdpbCBzZSB0ZXJtaW5lIGltbcOpZGlhdGVtZW50XG5qZXN0LnNweU9uKEFuaW1hdGVkLCAndGltaW5nJykubW9ja0ltcGxlbWVudGF0aW9uKCh2YWx1ZSwgY29uZmlnKSA9PiB7XG4gIGNvbnN0IG1vY2tUaW1pbmcgPSB7XG4gICAgc3RhcnQ6IChjYWxsYmFjaykgPT4ge1xuICAgICAgLy8gRXjDqWN1dGVyIGxlIGNhbGxiYWNrIGRlIGZpbiBkJ2FuaW1hdGlvbiBpbW3DqWRpYXRlbWVudFxuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKHsgZmluaXNoZWQ6IHRydWUgfSk7IC8vIFNpbXVsZXIgbGEgZmluIGRlIGwnYW5pbWF0aW9uXG4gICAgICB9XG4gICAgfSxcbiAgICBzdG9wOiBqZXN0LmZuKCksXG4gIH07XG4gIHJldHVybiBtb2NrVGltaW5nO1xufSk7XG5cbi8vIE1vY2tlciBsYSBtw6l0aG9kZSBgc2Nyb2xsVG9gIGRlIFNjcm9sbFZpZXcgcG91ciDDqXZpdGVyIGxlcyBlcnJldXJzIGRlIGxheW91dFxuamVzdC5zcHlPbihTY3JvbGxWaWV3LnByb3RvdHlwZSwgJ3Njcm9sbFRvJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHt9KTtcblxuLy8gLS0tIEZpbiBkZXMgTW9ja3MgLS0tXG5cbmRlc2NyaWJlKCdDYXRlZ29yeVNlbGVjdG9yIENvbXBvbmVudCcsICgpID0+IHtcbiAgLy8gTW9jayBkYXRhXG4gIGNvbnN0IG1vY2tDYXRlZ29yaWVzID0gW1xuICAgIHsgaWQ6ICcxJywgbmFtZTogJ0ZydWl0cycgfSxcbiAgICB7IGlkOiAnMicsIG5hbWU6ICdWZWdldGFibGVzJyB9LFxuICAgIHsgaWQ6ICczJywgbmFtZTogJ0RhaXJ5IFByb2R1Y3RzJyB9LFxuICAgIHsgaWQ6ICc0JywgbmFtZTogJ01lYXQgJiBGaXNoJyB9LFxuICAgIHsgaWQ6ICc1JywgbmFtZTogJ0JldmVyYWdlcycgfSxcbiAgXTtcblxuICBjb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gICAgY2F0ZWdvcmllczogbW9ja0NhdGVnb3JpZXMsXG4gICAgc2VsZWN0ZWRDYXRlZ29yeTogJzEnLFxuICAgIG9uU2VsZWN0Q2F0ZWdvcnk6IGplc3QuZm4oKSxcbiAgfTtcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gcG91ciBjcsOpZXIgbGUgY29tcG9zYW50IGF2ZWMgcHJvcHNcbiAgY29uc3QgcmVuZGVyQ2F0ZWdvcnlTZWxlY3RvciA9IChwcm9wcyA9IHt9KSA9PiB7XG4gICAgcmV0dXJuIHJlbmRlcig8Q2F0ZWdvcnlTZWxlY3RvciB7Li4uZGVmYXVsdFByb3BzfSB7Li4ucHJvcHN9IC8+KTtcbiAgfTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgLy8gLS0tIFJFTkRFUklORyAtLS1cbiAgZGVzY3JpYmUoJ1JlbmRlcmluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJlbmRlciB3aXRob3V0IGNyYXNoaW5nJywgKCkgPT4ge1xuICAgICAgLy8gTGUgY29tcG9zYW50IG5lIGNyYXNoIHBhcyBzJ2lsIGVzdCByZW5kdVxuICAgICAgZXhwZWN0KHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoKSkudG9CZVRydXRoeSgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgYWxsIGNhdGVnb3JpZXMgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoKTtcbiAgICAgIFxuICAgICAgbW9ja0NhdGVnb3JpZXMuZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICAgIGV4cGVjdChnZXRCeVRleHQoY2F0ZWdvcnkubmFtZSkpLnRvQmVUcnV0aHkoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG5pdCgnc2hvdWxkIHJlbmRlciBjYXRlZ29yaWVzIGluIHRoZSBjb3JyZWN0IG9yZGVyJywgKCkgPT4ge1xuICAgIC8vIDEuIFV0aWxpc2V6IGBnZXRBbGxCeVJvbGVgIHBvdXIgcsOpY3Vww6lyZXIgdG91cyBsZXMgw6lsw6ltZW50cyBhdmVjIGxlIHLDtGxlICdidXR0b24nICh2b3MgJ3BpbGxzJykuXG4gICAgLy8gQ2VzIMOpbMOpbWVudHMgc29udCBwbHVzIHN0YWJsZXMgcXVlIGRlIHNlIGJhc2VyIHN1ciBsZSB0ZXh0ZSBzZXVsLlxuICAgIGNvbnN0IHsgZ2V0QWxsQnlSb2xlIH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKCk7XG4gICAgXG4gICAgLy8gMi4gRXh0cmF5ZXogbCdgYWNjZXNzaWJpbGl0eUxhYmVsYCBkZSBjaGFxdWUgw6lsw6ltZW50LlxuICAgIC8vIEwnYGFjY2Vzc2liaWxpdHlMYWJlbGAgZXN0IHVuZSBwcm9wcmnDqXTDqSBmaWFibGUgcG91ciBsZXMgdGVzdHMsIGNhciBlbGxlIGVzdCBkZXN0aW7DqWVcbiAgICAvLyBhdXggbGVjdGV1cnMgZCfDqWNyYW4gZXQgbmUgY29udGllbnQgcGFzIGQnw6lsw6ltZW50cyBkZSBkw6ljb3JhdGlvbiBjb21tZSBsJ2Vtb2ppLlxuICAgIGNvbnN0IGNhdGVnb3J5TmFtZXMgPSBnZXRBbGxCeVJvbGUoJ2J1dHRvbicpLm1hcChlbGVtZW50ID0+IGVsZW1lbnQucHJvcHMuYWNjZXNzaWJpbGl0eUxhYmVsKTtcbiAgICBcbiAgICAvLyAzLiBDb21wYXJleiBsZSB0YWJsZWF1IGRlcyBub21zIGF2ZWMgdm90cmUgbW9jayBkZSBkb25uw6llcy5cbiAgICBleHBlY3QoY2F0ZWdvcnlOYW1lcykudG9FcXVhbChtb2NrQ2F0ZWdvcmllcy5tYXAoY2F0ID0+IGNhdC5uYW1lKSk7XG4gIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgY2F0ZWdvcmllcyBhcnJheSBncmFjZWZ1bGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBxdWVyeUJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7IGNhdGVnb3JpZXM6IFtdIH0pO1xuICAgICAgXG4gICAgICBtb2NrQ2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgZXhwZWN0KHF1ZXJ5QnlUZXh0KGNhdGVnb3J5Lm5hbWUpKS50b0JlTnVsbCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhpZ2hsaWdodCB0aGUgc2VsZWN0ZWQgY2F0ZWdvcnkgdmlzdWFsbHknLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCwgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoeyBzZWxlY3RlZENhdGVnb3J5OiAnMicgfSk7XG4gICAgICAvLyBWw6lyaWZpZXIgcXVlIGxlIHRleHRlIGRlIGxhIGNhdMOpZ29yaWUgc8OpbGVjdGlvbm7DqWUgZXhpc3RlXG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCdWZWdldGFibGVzJykpLnRvQmVUcnV0aHkoKTtcbiAgICAgIC8vIExlIGNvbXBvc2FudCBhIMOpdMOpIGNvbsOndSBwb3VyIGFqb3V0ZXIgdW4gdGVzdElEIHNww6ljaWZpcXVlIGF1IHBpbGwgc8OpbGVjdGlvbm7DqVxuICAgICAgLy8gSWwgZmF1dCBkb25jIGFkYXB0ZXIgbGUgdGVzdCBzaSBuw6ljZXNzYWlyZVxuICAgICAgLy8gYGdldEJ5VGVzdElkKCdjYXRlZ29yeS1waWxsLTInKWAgbidlc3QgcGFzIGRhbnMgbGUgY29kZSBkdSBjb21wb3NhbnQgZm91cm5pLFxuICAgICAgLy8gb24gcGV1dCB0ZXN0ZXIgbGEgcHLDqXNlbmNlIGQndW4gYXV0cmUgw6lsw6ltZW50IGNvbW1lIHVuIGVtb2ppIG91IHVuIHN0eWxlXG4gICAgICBjb25zdCBzZWxlY3RlZFBpbGwgPSBnZXRCeVRleHQoJ1ZlZ2V0YWJsZXMnKS5wcm9wcy5wYXJlbnQucHJvcHMuYWNjZXNzaWJpbGl0eVN0YXRlLnNlbGVjdGVkO1xuICAgICAgZXhwZWN0KHNlbGVjdGVkUGlsbCkudG9CZSh0cnVlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gLS0tIFVTRVIgSU5URVJBQ1RJT05TIC0tLVxuICBkZXNjcmliZSgnVXNlciBJbnRlcmFjdGlvbnMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjYWxsIG9uU2VsZWN0Q2F0ZWdvcnkgd2hlbiBhIGRpZmZlcmVudCBjYXRlZ29yeSBpcyBwcmVzc2VkJywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja09uU2VsZWN0ID0gamVzdC5mbigpO1xuICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoeyBcbiAgICAgICAgc2VsZWN0ZWRDYXRlZ29yeTogJzEnLCBcbiAgICAgICAgb25TZWxlY3RDYXRlZ29yeTogbW9ja09uU2VsZWN0IFxuICAgICAgfSk7XG5cbiAgICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRleHQoJ1ZlZ2V0YWJsZXMnKSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChtb2NrT25TZWxlY3QpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICAgIGV4cGVjdChtb2NrT25TZWxlY3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcyJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG5vdCBjYWxsIG9uU2VsZWN0Q2F0ZWdvcnkgd2hlbiB0aGUgc2FtZSBjYXRlZ29yeSBpcyBwcmVzc2VkJywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja09uU2VsZWN0ID0gamVzdC5mbigpO1xuICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoeyBcbiAgICAgICAgc2VsZWN0ZWRDYXRlZ29yeTogJzEnLCBcbiAgICAgICAgb25TZWxlY3RDYXRlZ29yeTogbW9ja09uU2VsZWN0IFxuICAgICAgfSk7XG5cbiAgICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRleHQoJ0ZydWl0cycpKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KG1vY2tPblNlbGVjdCkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2FsbCBvblNlbGVjdENhdGVnb3J5IHdpdGggY29ycmVjdCBjYXRlZ29yeSBpZCBmb3IgZWFjaCBjYXRlZ29yeScsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tPblNlbGVjdCA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHsgXG4gICAgICAgIHNlbGVjdGVkQ2F0ZWdvcnk6ICcxJywgXG4gICAgICAgIG9uU2VsZWN0Q2F0ZWdvcnk6IG1vY2tPblNlbGVjdCBcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBjYXRlZ29yaWVzVG9UZXN0ID0gbW9ja0NhdGVnb3JpZXMuZmlsdGVyKGNhdCA9PiBjYXQuaWQgIT09ICcxJyk7XG4gICAgICBcbiAgICAgIGNhdGVnb3JpZXNUb1Rlc3QuZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRleHQoY2F0ZWdvcnkubmFtZSkpO1xuICAgICAgICBleHBlY3QobW9ja09uU2VsZWN0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChjYXRlZ29yeS5pZCk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KG1vY2tPblNlbGVjdCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKGNhdGVnb3JpZXNUb1Rlc3QubGVuZ3RoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gLS0tIEFOSU1BVElPTlMgLS0tXG4gIGRlc2NyaWJlKCdBbmltYXRpb25zJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdHJpZ2dlciBwcmVzcyBhbmltYXRpb25zIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKCk7XG4gICAgICBjb25zdCBjYXRlZ29yeVBpbGwgPSBnZXRCeVRleHQoJ1ZlZ2V0YWJsZXMnKTtcblxuICAgICAgLy8gVGVzdCBwcmVzc0luL3ByZXNzT3V0IGFuaW1hdGlvbnMgc2FucyBjcmFzaFxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgZmlyZUV2ZW50KGNhdGVnb3J5UGlsbCwgJ3ByZXNzSW4nKTtcbiAgICAgICAgZmlyZUV2ZW50KGNhdGVnb3J5UGlsbCwgJ3ByZXNzT3V0Jyk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGNhdGVnb3J5UGlsbCkudG9CZVRydXRoeSgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcmFwaWQgcHJlc3MgaW50ZXJhY3Rpb25zIHdpdGhvdXQgY3Jhc2hpbmcnLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrT25TZWxlY3QgPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7IG9uU2VsZWN0Q2F0ZWdvcnk6IG1vY2tPblNlbGVjdCB9KTtcbiAgICAgIGNvbnN0IGNhdGVnb3J5UGlsbCA9IGdldEJ5VGV4dCgnVmVnZXRhYmxlcycpO1xuXG4gICAgICAvLyBTaW11bGVyIGRlcyBwcmVzc2lvbnMgcmFwaWRlc1xuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgZmlyZUV2ZW50KGNhdGVnb3J5UGlsbCwgJ3ByZXNzSW4nKTtcbiAgICAgICAgZmlyZUV2ZW50KGNhdGVnb3J5UGlsbCwgJ3ByZXNzT3V0Jyk7XG4gICAgICAgIGZpcmVFdmVudC5wcmVzcyhjYXRlZ29yeVBpbGwpO1xuICAgICAgICBmaXJlRXZlbnQoY2F0ZWdvcnlQaWxsLCAncHJlc3NJbicpO1xuICAgICAgICBmaXJlRXZlbnQoY2F0ZWdvcnlQaWxsLCAncHJlc3NPdXQnKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QobW9ja09uU2VsZWN0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnMicpO1xuICAgICAgZXhwZWN0KGNhdGVnb3J5UGlsbCkudG9CZVRydXRoeSgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBub3QgdHJpZ2dlciBuZXcgYW5pbWF0aW9uIGlmIG9uZSBpcyBhbHJlYWR5IGluIHByb2dyZXNzJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBtb2NrT25TZWxlY3QgPSBqZXN0LmZuKCk7XG4gICAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHsgc2VsZWN0ZWRDYXRlZ29yeTogJzEnLCBvblNlbGVjdENhdGVnb3J5OiBtb2NrT25TZWxlY3QgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBhbmltYXRlZFNweSA9IGplc3Quc3B5T24oQW5pbWF0ZWQsICd0aW1pbmcnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNpbXVsZXIgdW4gY2xpYyBxdWkgY29tbWVuY2UgdW5lIGFuaW1hdGlvblxuICAgICAgICBmaXJlRXZlbnQucHJlc3MoZ2V0QnlUZXh0KCdWZWdldGFibGVzJykpO1xuICAgICAgICBcbiAgICAgICAgLy8gU2ltdWxlciB1biBzZWNvbmQgY2xpYyBhdmFudCBxdWUgbGEgcHJlbWnDqHJlIGFuaW1hdGlvbiBuZSBzb2l0IHRlcm1pbsOpZSAobGUgbW9jayBsJ2lnbm9yZSlcbiAgICAgICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGV4dCgnRGFpcnkgUHJvZHVjdHMnKSk7XG4gICAgICAgIFxuICAgICAgICBleHBlY3QobW9ja09uU2VsZWN0KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7IC8vIFNldWwgbGUgcHJlbWllciBjbGljIGRvaXQgw6p0cmUgcHJpcyBlbiBjb21wdGVcbiAgICAgICAgZXhwZWN0KG1vY2tPblNlbGVjdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJzInKTtcbiAgICAgICAgXG4gICAgICAgIGFuaW1hdGVkU3B5Lm1vY2tSZXN0b3JlKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIC0tLSBTQ1JPTExJTkcgQkVIQVZJT1IgLS0tXG4gIGRlc2NyaWJlKCdTY3JvbGxpbmcgQmVoYXZpb3InLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBzY3JvbGwgdG8gc2VsZWN0ZWQgY2F0ZWdvcnkgb24gbW91bnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7IHNlbGVjdGVkQ2F0ZWdvcnk6ICc0JyB9KTtcbiAgICAgIFxuICAgICAgLy8gTGEgbGlnbmUgZGUgbW9jayBgamVzdC5zcHlPbihTY3JvbGxWaWV3LnByb3RvdHlwZSwgJ3Njcm9sbFRvJykuLi5gXG4gICAgICAvLyBhIGTDqWrDoCBtaXMgZW4gcGxhY2UgbGEgdsOpcmlmaWNhdGlvbi5cbiAgICAgIC8vIExlIHNpbXBsZSBmYWl0IHF1ZSBsZSB0ZXN0IG5lIGNyYXNoIHBhcyBlc3QgdW5lIHZhbGlkYXRpb24uXG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCdNZWF0ICYgRmlzaCcpKS50b0JlVHJ1dGh5KCk7XG4gICAgICBcbiAgICAgIC8vIE9uIHBldXQgYWpvdXRlciB1bmUgYXNzZXJ0aW9uIHBsdXMgc3DDqWNpZmlxdWUgc2kgb24gdmV1dFxuICAgICAgLy8gZXhwZWN0KFNjcm9sbFZpZXcucHJvdG90eXBlLnNjcm9sbFRvKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzY3JvbGxpbmcgd2hlbiBzZWxlY3RlZENhdGVnb3J5IGNoYW5nZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlcmVuZGVyLCBnZXRCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoeyBzZWxlY3RlZENhdGVnb3J5OiAnMScgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHNjcm9sbFRvU3B5ID0gamVzdC5zcHlPbihTY3JvbGxWaWV3LnByb3RvdHlwZSwgJ3Njcm9sbFRvJyk7XG4gICAgICBcbiAgICAgIC8vIENoYW5nZXIgbGEgY2F0w6lnb3JpZSBzw6lsZWN0aW9ubsOpZVxuICAgICAgcmVyZW5kZXIoXG4gICAgICAgIDxDYXRlZ29yeVNlbGVjdG9yIFxuICAgICAgICAgIHsuLi5kZWZhdWx0UHJvcHN9IFxuICAgICAgICAgIHNlbGVjdGVkQ2F0ZWdvcnk9XCI1XCIgXG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICAvLyBPbiBzJ2F0dGVuZCDDoCBjZSBxdWUgc2Nyb2xsVG8gc29pdCBhcHBlbMOpXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgICBleHBlY3Qoc2Nyb2xsVG9TcHkpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCdCZXZlcmFnZXMnKSkudG9CZVRydXRoeSgpO1xuICAgICAgc2Nyb2xsVG9TcHkubW9ja1Jlc3RvcmUoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gLS0tIEVER0UgQ0FTRVMgLS0tXG4gIGRlc2NyaWJlKCdFZGdlIENhc2VzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIHVuZGVmaW5lZCBzZWxlY3RlZENhdGVnb3J5IGdyYWNlZnVsbHknLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7IHNlbGVjdGVkQ2F0ZWdvcnk6IHVuZGVmaW5lZCB9KTtcbiAgICAgIG1vY2tDYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgICBleHBlY3QoZ2V0QnlUZXh0KGNhdGVnb3J5Lm5hbWUpKS50b0JlVHJ1dGh5KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG51bGwgc2VsZWN0ZWRDYXRlZ29yeSBncmFjZWZ1bGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoeyBzZWxlY3RlZENhdGVnb3J5OiBudWxsIH0pO1xuICAgICAgbW9ja0NhdGVnb3JpZXMuZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICAgIGV4cGVjdChnZXRCeVRleHQoY2F0ZWdvcnkubmFtZSkpLnRvQmVUcnV0aHkoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbm9uLWV4aXN0ZW50IHNlbGVjdGVkQ2F0ZWdvcnkgaWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7IHNlbGVjdGVkQ2F0ZWdvcnk6ICdub24tZXhpc3RlbnQnIH0pO1xuICAgICAgbW9ja0NhdGVnb3JpZXMuZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICAgIGV4cGVjdChnZXRCeVRleHQoY2F0ZWdvcnkubmFtZSkpLnRvQmVUcnV0aHkoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWlzc2luZyBvblNlbGVjdENhdGVnb3J5IHByb3AgZ3JhY2VmdWxseScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHsgb25TZWxlY3RDYXRlZ29yeTogdW5kZWZpbmVkIH0pO1xuICAgICAgZXhwZWN0KCgpID0+IHtcbiAgICAgICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGV4dCgnVmVnZXRhYmxlcycpKTtcbiAgICAgIH0pLm5vdC50b1Rocm93KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjYXRlZ29yaWVzIHdpdGggc3BlY2lhbCBjaGFyYWN0ZXJzIGluIG5hbWVzJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc3BlY2lhbENhdGVnb3JpZXMgPSBbXG4gICAgICAgIHsgaWQ6ICcxJywgbmFtZTogJ0NhZsOpICYgVGjDqScgfSxcbiAgICAgICAgeyBpZDogJzInLCBuYW1lOiAnRnJ1aXRzICYgTMOpZ3VtZXMnIH0sXG4gICAgICAgIHsgaWQ6ICczJywgbmFtZTogJ1ZpYW5kZS9Qb2lzc29uJyB9LFxuICAgICAgXTtcbiAgICAgIFxuICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoeyBjYXRlZ29yaWVzOiBzcGVjaWFsQ2F0ZWdvcmllcyB9KTtcbiAgICAgIHNwZWNpYWxDYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgICBleHBlY3QoZ2V0QnlUZXh0KGNhdGVnb3J5Lm5hbWUpKS50b0JlVHJ1dGh5KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHZlcnkgbG9uZyBjYXRlZ29yeSBuYW1lcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGxvbmdOYW1lQ2F0ZWdvcmllcyA9IFtcbiAgICAgICAgeyBpZDogJzEnLCBuYW1lOiAnVGhpcyBpcyBhIHZlcnkgbG9uZyBjYXRlZ29yeSBuYW1lIHRoYXQgbWlnaHQgY2F1c2UgbGF5b3V0IGlzc3VlcycgfSxcbiAgICAgICAgeyBpZDogJzInLCBuYW1lOiAnU2hvcnQnIH0sXG4gICAgICBdO1xuICAgICAgXG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7IGNhdGVnb3JpZXM6IGxvbmdOYW1lQ2F0ZWdvcmllcyB9KTtcbiAgICAgIGxvbmdOYW1lQ2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgZXhwZWN0KGdldEJ5VGV4dChjYXRlZ29yeS5uYW1lKSkudG9CZVRydXRoeSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIC0tLSBQRVJGT1JNQU5DRSAtLS1cbiAgZGVzY3JpYmUoJ1BlcmZvcm1hbmNlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgbm90IHJlLXJlbmRlciB1bm5lY2Vzc2FyaWx5IHdoZW4gcHJvcHMgZG8gbm90IGNoYW5nZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlbmRlclNweSA9IGplc3QuZm4oKTtcbiAgICAgIFxuICAgICAgY29uc3QgVGVzdFdyYXBwZXIgPSAocHJvcHMpID0+IHtcbiAgICAgICAgcmVuZGVyU3B5KCk7XG4gICAgICAgIHJldHVybiA8Q2F0ZWdvcnlTZWxlY3RvciB7Li4ucHJvcHN9IC8+O1xuICAgICAgfTtcblxuICAgICAgY29uc3QgeyByZXJlbmRlciB9ID0gcmVuZGVyKDxUZXN0V3JhcHBlciB7Li4uZGVmYXVsdFByb3BzfSAvPik7XG4gICAgICBcbiAgICAgIHJlbmRlclNweS5tb2NrQ2xlYXIoKTtcbiAgICAgIHJlcmVuZGVyKDxUZXN0V3JhcHBlciB7Li4uZGVmYXVsdFByb3BzfSAvPik7XG4gICAgICBcbiAgICAgIC8vIExlIGNvbXBvc2FudCBuZSBkZXZyYWl0IHBhcyBzZSByZW5kcmUgc2kgbGVzIHByb3BzIG4nb250IHBhcyBjaGFuZ8OpXG4gICAgICAvLyBncsOiY2Ugw6AgUmVhY3QubWVtbyBldCBhcmVFcXVhbC4gTGUgbm9tYnJlIGRlIHJlbmR1cyBkZXZyYWl0IMOqdHJlIDAuXG4gICAgICBleHBlY3QocmVuZGVyU3B5KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBsYXJnZSBudW1iZXIgb2YgY2F0ZWdvcmllcyBlZmZpY2llbnRseScsICgpID0+IHtcbiAgICAgIGNvbnN0IG1hbnlDYXRlZ29yaWVzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTAwIH0sIChfLCBpKSA9PiAoe1xuICAgICAgICBpZDogYCR7aSArIDF9YCxcbiAgICAgICAgbmFtZTogYENhdGVnb3J5ICR7aSArIDF9YCxcbiAgICAgIH0pKTtcblxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIGNvbnN0IHsgcXVlcnlBbGxCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoeyBjYXRlZ29yaWVzOiBtYW55Q2F0ZWdvcmllcyB9KTtcbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgICBleHBlY3QoZW5kVGltZSAtIHN0YXJ0VGltZSkudG9CZUxlc3NUaGFuKDEwMDApO1xuICAgICAgXG4gICAgICBjb25zdCBjYXRlZ29yeUVsZW1lbnRzID0gcXVlcnlBbGxCeVRleHQoL15DYXRlZ29yeS8pO1xuICAgICAgZXhwZWN0KGNhdGVnb3J5RWxlbWVudHMpLnRvSGF2ZUxlbmd0aCgxMDApO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyAtLS0gQUNDRVNTSUJJTElUWSAtLS1cbiAgZGVzY3JpYmUoJ0FjY2Vzc2liaWxpdHknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYXZlIHByb3BlciBhY2Nlc3NpYmlsaXR5IGxhYmVscycsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QnlMYWJlbFRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoKTtcbiAgICAgIFxuICAgICAgbW9ja0NhdGVnb3JpZXMuZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBnZXRCeUxhYmVsVGV4dChjYXRlZ29yeS5uYW1lKTtcbiAgICAgICAgZXhwZWN0KGVsZW1lbnQpLnRvQmVUcnV0aHkoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzdXBwb3J0IHNjcmVlbiByZWFkZXIgbmF2aWdhdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QWxsQnlSb2xlIH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGJ1dHRvbnMgPSBnZXRBbGxCeVJvbGUoJ2J1dHRvbicpO1xuICAgICAgZXhwZWN0KGJ1dHRvbnMpLnRvSGF2ZUxlbmd0aChtb2NrQ2F0ZWdvcmllcy5sZW5ndGgpO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6Ijs7QUFDQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxZQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxhQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxpQkFBQSxHQUFBQyx1QkFBQSxDQUFBSixPQUFBO0FBQXNHLElBQUFLLFdBQUEsR0FBQUwsT0FBQTtBQUFBLFNBQUFJLHdCQUFBRSxDQUFBLEVBQUFDLENBQUEsNkJBQUFDLE9BQUEsTUFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBSix1QkFBQSxZQUFBQSx3QkFBQUUsQ0FBQSxFQUFBQyxDQUFBLFNBQUFBLENBQUEsSUFBQUQsQ0FBQSxJQUFBQSxDQUFBLENBQUFLLFVBQUEsU0FBQUwsQ0FBQSxNQUFBTSxDQUFBLEVBQUFDLENBQUEsRUFBQUMsQ0FBQSxLQUFBQyxTQUFBLFFBQUFDLE9BQUEsRUFBQVYsQ0FBQSxpQkFB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