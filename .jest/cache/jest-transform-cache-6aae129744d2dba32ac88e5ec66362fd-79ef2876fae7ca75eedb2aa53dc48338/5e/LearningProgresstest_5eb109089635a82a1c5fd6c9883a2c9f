22cd513b9557ef418e9e61cfea378ee3
_getJestObj().mock('../../../../src/components/ui/Card', function () {
  var _require = require('react-native'),
    View = _require.View;
  return function (_ref) {
    var children = _ref.children,
      style = _ref.style,
      props = (0, _objectWithoutProperties2.default)(_ref, _excluded);
    return (0, _jsxRuntime.jsx)(View, Object.assign({
      style: style
    }, props, {
      testID: "learning-progress-card",
      children: children
    }));
  };
});
_getJestObj().mock('../../../../src/utils/constants', function () {
  return {
    LANGUAGE_LEVELS: {
      '1': {
        title: 'D√©butant',
        color: '#10B981',
        icon: 'üå±'
      },
      '2': {
        title: '√âl√©mentaire',
        color: '#3B82F6',
        icon: 'üìö'
      },
      '3': {
        title: 'Interm√©diaire',
        color: '#8B5CF6',
        icon: 'üéØ'
      },
      'bonus': {
        title: 'Bonus',
        color: '#6366F1',
        icon: 'üéÅ'
      }
    }
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _LearningProgress = _interopRequireDefault(require("../../../../src/screens/Dashboard/components/LearningProgress"));
var _ThemeContext = require("../../../../src/contexts/ThemeContext");
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["children", "style"];
function _getJestObj() {
  var _require2 = require("@jest/globals"),
    jest = _require2.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('LearningProgress', function () {
  var mockTheme = {
    colors: {
      surface: '#FFFFFF',
      text: '#1F2937',
      textSecondary: '#6B7280'
    }
  };
  var mockLevels = [{
    id: '1',
    color: '#10B981',
    progress: 75
  }, {
    id: '2',
    color: '#3B82F6',
    progress: 50
  }, {
    id: '3',
    color: '#8B5CF6',
    progress: 25
  }];
  var defaultProps = {
    levels: mockLevels,
    currentLevel: '1',
    globalProgress: 75,
    primaryColor: '#10B981',
    onSelectLevel: jest.fn(),
    onChangeLevelVisual: jest.fn()
  };
  var renderComponent = function renderComponent() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var allProps = Object.assign({}, defaultProps, props);
    return (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ThemeContext.ThemeContext.Provider, {
      value: mockTheme,
      children: (0, _jsxRuntime.jsx)(_LearningProgress.default, Object.assign({}, allProps))
    }));
  };
  beforeEach(function () {
    jest.clearAllMocks();
  });
  describe('Rendu de base', function () {
    it('devrait rendre le composant sans erreur', function () {
      var _renderComponent = renderComponent(),
        getByText = _renderComponent.getByText;
      expect(getByText('üèÜ Progression g√©n√©rale')).toBeTruthy();
    });
    it('devrait afficher les informations du niveau courant', function () {
      var _renderComponent2 = renderComponent(),
        getByText = _renderComponent2.getByText;
      expect(getByText('D√©butant')).toBeTruthy();
      expect(getByText('75%')).toBeTruthy();
    });
    it('devrait afficher la barre de progression', function () {
      var _renderComponent3 = renderComponent(),
        getByText = _renderComponent3.getByText;
      expect(getByText('Progression globale')).toBeTruthy();
    });
    it('devrait afficher le bouton d\'exploration', function () {
      var _renderComponent4 = renderComponent(),
        getByText = _renderComponent4.getByText;
      expect(getByText('Explorer le niveau 1')).toBeTruthy();
    });
  });
  describe('Gestion des niveaux', function () {
    it('devrait afficher tous les cercles de niveau', function () {
      var _renderComponent5 = renderComponent(),
        getByText = _renderComponent5.getByText;
      expect(getByText('1')).toBeTruthy();
      expect(getByText('2')).toBeTruthy();
      expect(getByText('3')).toBeTruthy();
    });
    it('devrait g√©rer le niveau bonus', function () {
      var levelsWithBonus = [].concat(mockLevels, [{
        id: 'bonus',
        color: '#6366F1',
        progress: 10
      }]);
      var _renderComponent6 = renderComponent({
          levels: levelsWithBonus,
          currentLevel: 'bonus'
        }),
        getByText = _renderComponent6.getByText;
      expect(getByText('B')).toBeTruthy();
      expect(getByText('Bonus')).toBeTruthy();
      expect(getByText('Explorer le niveau B')).toBeTruthy();
    });
  });
  describe('Interactions', function () {
    it('devrait appeler onChangeLevelVisual lors du clic sur un niveau', function () {
      var mockOnChangeLevelVisual = jest.fn();
      var _renderComponent7 = renderComponent({
          onChangeLevelVisual: mockOnChangeLevelVisual
        }),
        getByText = _renderComponent7.getByText;
      _reactNative.fireEvent.press(getByText('2'));
      expect(mockOnChangeLevelVisual).toHaveBeenCalledWith('2');
    });
    it('devrait appeler onSelectLevel lors du clic sur explorer', function () {
      var mockOnSelectLevel = jest.fn();
      var _renderComponent8 = renderComponent({
          onSelectLevel: mockOnSelectLevel
        }),
        getByText = _renderComponent8.getByText;
      _reactNative.fireEvent.press(getByText('Explorer le niveau 1'));
      expect(mockOnSelectLevel).toHaveBeenCalledWith('1');
    });
  });
  describe('Props par d√©faut', function () {
    it('devrait fonctionner avec les props par d√©faut', function () {
      var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ThemeContext.ThemeContext.Provider, {
          value: mockTheme,
          children: (0, _jsxRuntime.jsx)(_LearningProgress.default, {})
        })),
        getByText = _render.getByText;
      expect(getByText('üèÜ Progression g√©n√©rale')).toBeTruthy();
      expect(getByText('0%')).toBeTruthy();
    });
    it('devrait fonctionner sans contexte de th√®me', function () {
      var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_LearningProgress.default, Object.assign({}, defaultProps))),
        getByText = _render2.getByText;
      expect(getByText('üèÜ Progression g√©n√©rale')).toBeTruthy();
    });
  });
  describe('Cas limites', function () {
    it('devrait g√©rer une progression sup√©rieure √† 100%', function () {
      var _renderComponent9 = renderComponent({
          globalProgress: 150
        }),
        getByText = _renderComponent9.getByText;
      expect(getByText('150%')).toBeTruthy();
    });
    it('devrait g√©rer un niveau inexistant', function () {
      var _renderComponent0 = renderComponent({
          currentLevel: 'invalid'
        }),
        getByText = _renderComponent0.getByText;
      expect(getByText('D√©butant')).toBeTruthy();
    });
    it('devrait g√©rer des niveaux vides', function () {
      var _renderComponent1 = renderComponent({
          levels: []
        }),
        getByText = _renderComponent1.getByText;
      expect(getByText('üèÜ Progression g√©n√©rale')).toBeTruthy();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJfcmVxdWlyZSIsInJlcXVpcmUiLCJWaWV3IiwiX3JlZiIsImNoaWxkcmVuIiwic3R5bGUiLCJwcm9wcyIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllczIiLCJkZWZhdWx0IiwiX2V4Y2x1ZGVkIiwiX2pzeFJ1bnRpbWUiLCJqc3giLCJPYmplY3QiLCJhc3NpZ24iLCJ0ZXN0SUQiLCJMQU5HVUFHRV9MRVZFTFMiLCJ0aXRsZSIsImNvbG9yIiwiaWNvbiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfcmVhY3QiLCJfcmVhY3ROYXRpdmUiLCJfTGVhcm5pbmdQcm9ncmVzcyIsIl9UaGVtZUNvbnRleHQiLCJfcmVxdWlyZTIiLCJqZXN0IiwiZGVzY3JpYmUiLCJtb2NrVGhlbWUiLCJjb2xvcnMiLCJzdXJmYWNlIiwidGV4dCIsInRleHRTZWNvbmRhcnkiLCJtb2NrTGV2ZWxzIiwiaWQiLCJwcm9ncmVzcyIsImRlZmF1bHRQcm9wcyIsImxldmVscyIsImN1cnJlbnRMZXZlbCIsImdsb2JhbFByb2dyZXNzIiwicHJpbWFyeUNvbG9yIiwib25TZWxlY3RMZXZlbCIsImZuIiwib25DaGFuZ2VMZXZlbFZpc3VhbCIsInJlbmRlckNvbXBvbmVudCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImFsbFByb3BzIiwicmVuZGVyIiwiVGhlbWVDb250ZXh0IiwiUHJvdmlkZXIiLCJ2YWx1ZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJfcmVuZGVyQ29tcG9uZW50IiwiZ2V0QnlUZXh0IiwiZXhwZWN0IiwidG9CZVRydXRoeSIsIl9yZW5kZXJDb21wb25lbnQyIiwiX3JlbmRlckNvbXBvbmVudDMiLCJfcmVuZGVyQ29tcG9uZW50NCIsIl9yZW5kZXJDb21wb25lbnQ1IiwibGV2ZWxzV2l0aEJvbnVzIiwiY29uY2F0IiwiX3JlbmRlckNvbXBvbmVudDYiLCJtb2NrT25DaGFuZ2VMZXZlbFZpc3VhbCIsIl9yZW5kZXJDb21wb25lbnQ3IiwiZmlyZUV2ZW50IiwicHJlc3MiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsIm1vY2tPblNlbGVjdExldmVsIiwiX3JlbmRlckNvbXBvbmVudDgiLCJfcmVuZGVyIiwiX3JlbmRlcjIiLCJfcmVuZGVyQ29tcG9uZW50OSIsIl9yZW5kZXJDb21wb25lbnQwIiwiX3JlbmRlckNvbXBvbmVudDEiXSwic291cmNlcyI6WyJMZWFybmluZ1Byb2dyZXNzLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gX190ZXN0c19fL3NjcmVlbnMvRGFzaGJvYXJkL2NvbXBvbmVudHMvTGVhcm5pbmdQcm9ncmVzcy50ZXN0LmpzXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyLCBmaXJlRXZlbnQgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgTGVhcm5pbmdQcm9ncmVzcyBmcm9tICcuLi8uLi8uLi8uLi9zcmMvc2NyZWVucy9EYXNoYm9hcmQvY29tcG9uZW50cy9MZWFybmluZ1Byb2dyZXNzJztcbmltcG9ydCB7IFRoZW1lQ29udGV4dCB9IGZyb20gJy4uLy4uLy4uLy4uL3NyYy9jb250ZXh0cy9UaGVtZUNvbnRleHQnO1xuXG4vLyBNb2NrIGR1IGNvbXBvc2FudCBDYXJkXG5qZXN0Lm1vY2soJy4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3VpL0NhcmQnLCAoKSA9PiB7XG4gIGNvbnN0IHsgVmlldyB9ID0gcmVxdWlyZSgncmVhY3QtbmF0aXZlJyk7XG4gIHJldHVybiAoeyBjaGlsZHJlbiwgc3R5bGUsIC4uLnByb3BzIH0pID0+IChcbiAgICA8VmlldyBzdHlsZT17c3R5bGV9IHsuLi5wcm9wc30gdGVzdElEPVwibGVhcm5pbmctcHJvZ3Jlc3MtY2FyZFwiPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvVmlldz5cbiAgKTtcbn0pO1xuXG4vLyBNb2NrIGRlcyBjb25zdGFudGVzXG5qZXN0Lm1vY2soJy4uLy4uLy4uLy4uL3NyYy91dGlscy9jb25zdGFudHMnLCAoKSA9PiAoe1xuICBMQU5HVUFHRV9MRVZFTFM6IHtcbiAgICAnMSc6IHsgdGl0bGU6ICdEw6lidXRhbnQnLCBjb2xvcjogJyMxMEI5ODEnLCBpY29uOiAn8J+MsScgfSxcbiAgICAnMic6IHsgdGl0bGU6ICfDiWzDqW1lbnRhaXJlJywgY29sb3I6ICcjM0I4MkY2JywgaWNvbjogJ/Cfk5onIH0sXG4gICAgJzMnOiB7IHRpdGxlOiAnSW50ZXJtw6lkaWFpcmUnLCBjb2xvcjogJyM4QjVDRjYnLCBpY29uOiAn8J+OrycgfSxcbiAgICAnYm9udXMnOiB7IHRpdGxlOiAnQm9udXMnLCBjb2xvcjogJyM2MzY2RjEnLCBpY29uOiAn8J+OgScgfVxuICB9XG59KSk7XG5cbmRlc2NyaWJlKCdMZWFybmluZ1Byb2dyZXNzJywgKCkgPT4ge1xuICBjb25zdCBtb2NrVGhlbWUgPSB7XG4gICAgY29sb3JzOiB7XG4gICAgICBzdXJmYWNlOiAnI0ZGRkZGRicsXG4gICAgICB0ZXh0OiAnIzFGMjkzNycsXG4gICAgICB0ZXh0U2Vjb25kYXJ5OiAnIzZCNzI4MCdcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgbW9ja0xldmVscyA9IFtcbiAgICB7IGlkOiAnMScsIGNvbG9yOiAnIzEwQjk4MScsIHByb2dyZXNzOiA3NSB9LFxuICAgIHsgaWQ6ICcyJywgY29sb3I6ICcjM0I4MkY2JywgcHJvZ3Jlc3M6IDUwIH0sXG4gICAgeyBpZDogJzMnLCBjb2xvcjogJyM4QjVDRjYnLCBwcm9ncmVzczogMjUgfVxuICBdO1xuXG4gIFxuICAgIGNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgICAgIGxldmVsczogbW9ja0xldmVscyxcbiAgICAgIGN1cnJlbnRMZXZlbDogJzEnLFxuICAgICAgZ2xvYmFsUHJvZ3Jlc3M6IDc1LFxuICAgICAgcHJpbWFyeUNvbG9yOiAnIzEwQjk4MScsXG4gICAgICBvblNlbGVjdExldmVsOiBqZXN0LmZuKCksXG4gICAgICBvbkNoYW5nZUxldmVsVmlzdWFsOiBqZXN0LmZuKClcbiAgICB9O1xuICBjb25zdCByZW5kZXJDb21wb25lbnQgPSAocHJvcHMgPSB7fSkgPT4ge1xuXG4gICAgY29uc3QgYWxsUHJvcHMgPSB7IC4uLmRlZmF1bHRQcm9wcywgLi4ucHJvcHMgfTtcbiAgICByZXR1cm4gcmVuZGVyKFxuICAgICAgPFRoZW1lQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17bW9ja1RoZW1lfT5cbiAgICAgICAgPExlYXJuaW5nUHJvZ3Jlc3Mgey4uLmFsbFByb3BzfSAvPlxuICAgICAgPC9UaGVtZUNvbnRleHQuUHJvdmlkZXI+XG4gICAgKTtcbiAgfTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1JlbmR1IGRlIGJhc2UnLCAoKSA9PiB7XG4gICAgaXQoJ2RldnJhaXQgcmVuZHJlIGxlIGNvbXBvc2FudCBzYW5zIGVycmV1cicsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDb21wb25lbnQoKTtcbiAgICAgIGV4cGVjdChnZXRCeVRleHQoJ/Cfj4YgUHJvZ3Jlc3Npb24gZ8OpbsOpcmFsZScpKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGV2cmFpdCBhZmZpY2hlciBsZXMgaW5mb3JtYXRpb25zIGR1IG5pdmVhdSBjb3VyYW50JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNvbXBvbmVudCgpO1xuICAgICAgZXhwZWN0KGdldEJ5VGV4dCgnRMOpYnV0YW50JykpLnRvQmVUcnV0aHkoKTtcbiAgICAgIGV4cGVjdChnZXRCeVRleHQoJzc1JScpKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGV2cmFpdCBhZmZpY2hlciBsYSBiYXJyZSBkZSBwcm9ncmVzc2lvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDb21wb25lbnQoKTtcbiAgICAgIGV4cGVjdChnZXRCeVRleHQoJ1Byb2dyZXNzaW9uIGdsb2JhbGUnKSkudG9CZVRydXRoeSgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RldnJhaXQgYWZmaWNoZXIgbGUgYm91dG9uIGRcXCdleHBsb3JhdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDb21wb25lbnQoKTtcbiAgICAgIGV4cGVjdChnZXRCeVRleHQoJ0V4cGxvcmVyIGxlIG5pdmVhdSAxJykpLnRvQmVUcnV0aHkoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0dlc3Rpb24gZGVzIG5pdmVhdXgnLCAoKSA9PiB7XG4gICAgaXQoJ2RldnJhaXQgYWZmaWNoZXIgdG91cyBsZXMgY2VyY2xlcyBkZSBuaXZlYXUnLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyQ29tcG9uZW50KCk7XG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCcxJykpLnRvQmVUcnV0aHkoKTtcbiAgICAgIGV4cGVjdChnZXRCeVRleHQoJzInKSkudG9CZVRydXRoeSgpO1xuICAgICAgZXhwZWN0KGdldEJ5VGV4dCgnMycpKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGV2cmFpdCBnw6lyZXIgbGUgbml2ZWF1IGJvbnVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgbGV2ZWxzV2l0aEJvbnVzID0gWy4uLm1vY2tMZXZlbHMsIHsgaWQ6ICdib251cycsIGNvbG9yOiAnIzYzNjZGMScsIHByb2dyZXNzOiAxMCB9XTtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDb21wb25lbnQoeyBcbiAgICAgICAgbGV2ZWxzOiBsZXZlbHNXaXRoQm9udXMsXG4gICAgICAgIGN1cnJlbnRMZXZlbDogJ2JvbnVzJ1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChnZXRCeVRleHQoJ0InKSkudG9CZVRydXRoeSgpO1xuICAgICAgZXhwZWN0KGdldEJ5VGV4dCgnQm9udXMnKSkudG9CZVRydXRoeSgpO1xuICAgICAgZXhwZWN0KGdldEJ5VGV4dCgnRXhwbG9yZXIgbGUgbml2ZWF1IEInKSkudG9CZVRydXRoeSgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnSW50ZXJhY3Rpb25zJywgKCkgPT4ge1xuICAgIGl0KCdkZXZyYWl0IGFwcGVsZXIgb25DaGFuZ2VMZXZlbFZpc3VhbCBsb3JzIGR1IGNsaWMgc3VyIHVuIG5pdmVhdScsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tPbkNoYW5nZUxldmVsVmlzdWFsID0gamVzdC5mbigpO1xuICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNvbXBvbmVudCh7IG9uQ2hhbmdlTGV2ZWxWaXN1YWw6IG1vY2tPbkNoYW5nZUxldmVsVmlzdWFsIH0pO1xuICAgICAgXG4gICAgICBmaXJlRXZlbnQucHJlc3MoZ2V0QnlUZXh0KCcyJykpO1xuICAgICAgZXhwZWN0KG1vY2tPbkNoYW5nZUxldmVsVmlzdWFsKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnMicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RldnJhaXQgYXBwZWxlciBvblNlbGVjdExldmVsIGxvcnMgZHUgY2xpYyBzdXIgZXhwbG9yZXInLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrT25TZWxlY3RMZXZlbCA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDb21wb25lbnQoeyBvblNlbGVjdExldmVsOiBtb2NrT25TZWxlY3RMZXZlbCB9KTtcbiAgICAgIFxuICAgICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGV4dCgnRXhwbG9yZXIgbGUgbml2ZWF1IDEnKSk7XG4gICAgICBleHBlY3QobW9ja09uU2VsZWN0TGV2ZWwpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcxJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQcm9wcyBwYXIgZMOpZmF1dCcsICgpID0+IHtcbiAgICBpdCgnZGV2cmFpdCBmb25jdGlvbm5lciBhdmVjIGxlcyBwcm9wcyBwYXIgZMOpZmF1dCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXIoXG4gICAgICAgIDxUaGVtZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e21vY2tUaGVtZX0+XG4gICAgICAgICAgPExlYXJuaW5nUHJvZ3Jlc3MgLz5cbiAgICAgICAgPC9UaGVtZUNvbnRleHQuUHJvdmlkZXI+XG4gICAgICApO1xuICAgICAgXG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCfwn4+GIFByb2dyZXNzaW9uIGfDqW7DqXJhbGUnKSkudG9CZVRydXRoeSgpO1xuICAgICAgZXhwZWN0KGdldEJ5VGV4dCgnMCUnKSkudG9CZVRydXRoeSgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RldnJhaXQgZm9uY3Rpb25uZXIgc2FucyBjb250ZXh0ZSBkZSB0aMOobWUnLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyKDxMZWFybmluZ1Byb2dyZXNzIHsuLi5kZWZhdWx0UHJvcHN9IC8+KTtcbiAgICAgIGV4cGVjdChnZXRCeVRleHQoJ/Cfj4YgUHJvZ3Jlc3Npb24gZ8OpbsOpcmFsZScpKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDYXMgbGltaXRlcycsICgpID0+IHtcbiAgICBpdCgnZGV2cmFpdCBnw6lyZXIgdW5lIHByb2dyZXNzaW9uIHN1cMOpcmlldXJlIMOgIDEwMCUnLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyQ29tcG9uZW50KHsgZ2xvYmFsUHJvZ3Jlc3M6IDE1MCB9KTtcbiAgICAgIGV4cGVjdChnZXRCeVRleHQoJzE1MCUnKSkudG9CZVRydXRoeSgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RldnJhaXQgZ8OpcmVyIHVuIG5pdmVhdSBpbmV4aXN0YW50JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNvbXBvbmVudCh7IGN1cnJlbnRMZXZlbDogJ2ludmFsaWQnIH0pO1xuICAgICAgZXhwZWN0KGdldEJ5VGV4dCgnRMOpYnV0YW50JykpLnRvQmVUcnV0aHkoKTsgLy8gRmFsbGJhY2sgYXUgbml2ZWF1IDFcbiAgICB9KTtcblxuICAgIGl0KCdkZXZyYWl0IGfDqXJlciBkZXMgbml2ZWF1eCB2aWRlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDb21wb25lbnQoeyBsZXZlbHM6IFtdIH0pO1xuICAgICAgZXhwZWN0KGdldEJ5VGV4dCgn8J+PhiBQcm9ncmVzc2lvbiBnw6luw6lyYWxlJykpLnRvQmVUcnV0aHkoKTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXSwibWFwcGluZ3MiOiJBQU9BQSxXQUFBLEdBQUtDLElBQUksQ0FBQyxvQ0FBb0MsRUFBRSxZQUFNO0VBQ3BELElBQUFDLFFBQUEsR0FBaUJDLE9BQU8sQ0FBQyxjQUFjLENBQUM7SUFBaENDLElBQUksR0FBQUYsUUFBQSxDQUFKRSxJQUFJO0VBQ1osT0FBTyxVQUFBQyxJQUFBO0lBQUEsSUFBR0MsUUFBUSxHQUFBRCxJQUFBLENBQVJDLFFBQVE7TUFBRUMsS0FBSyxHQUFBRixJQUFBLENBQUxFLEtBQUs7TUFBS0MsS0FBSyxPQUFBQyx5QkFBQSxDQUFBQyxPQUFBLEVBQUFMLElBQUEsRUFBQU0sU0FBQTtJQUFBLE9BQ2pDLElBQUFDLFdBQUEsQ0FBQUMsR0FBQSxFQUFDVCxJQUFJLEVBQUFVLE1BQUEsQ0FBQUMsTUFBQTtNQUFDUixLQUFLLEVBQUVBO0lBQU0sR0FBS0MsS0FBSztNQUFFUSxNQUFNLEVBQUMsd0JBQXdCO01BQUFWLFFBQUEsRUFDM0RBO0lBQVEsRUFDTCxDQUFDO0VBQUEsQ0FDUjtBQUNILENBQUMsQ0FBQztBQUdGTixXQUFBLEdBQUtDLElBQUksQ0FBQyxpQ0FBaUMsRUFBRTtFQUFBLE9BQU87SUFDbERnQixlQUFlLEVBQUU7TUFDZixHQUFHLEVBQUU7UUFBRUMsS0FBSyxFQUFFLFVBQVU7UUFBRUMsS0FBSyxFQUFFLFNBQVM7UUFBRUMsSUFBSSxFQUFFO01BQUssQ0FBQztNQUN4RCxHQUFHLEVBQUU7UUFBRUYsS0FBSyxFQUFFLGFBQWE7UUFBRUMsS0FBSyxFQUFFLFNBQVM7UUFBRUMsSUFBSSxFQUFFO01BQUssQ0FBQztNQUMzRCxHQUFHLEVBQUU7UUFBRUYsS0FBSyxFQUFFLGVBQWU7UUFBRUMsS0FBSyxFQUFFLFNBQVM7UUFBRUMsSUFBSSxFQUFFO01BQUssQ0FBQztNQUM3RCxPQUFPLEVBQUU7UUFBRUYsS0FBSyxFQUFFLE9BQU87UUFBRUMsS0FBSyxFQUFFLFNBQVM7UUFBRUMsSUFBSSxFQUFFO01BQUs7SUFDMUQ7RUFDRixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBQUMsSUFBQUMsc0JBQUEsR0FBQWxCLE9BQUE7QUFBQSxJQUFBTSx5QkFBQSxHQUFBWSxzQkFBQSxDQUFBbEIsT0FBQTtBQXZCSixJQUFBbUIsTUFBQSxHQUFBRCxzQkFBQSxDQUFBbEIsT0FBQTtBQUNBLElBQUFvQixZQUFBLEdBQUFwQixPQUFBO0FBQ0EsSUFBQXFCLGlCQUFBLEdBQUFILHNCQUFBLENBQUFsQixPQUFBO0FBQ0EsSUFBQXNCLGFBQUEsR0FBQXRCLE9BQUE7QUFBcUUsSUFBQVMsV0FBQSxHQUFBVCxPQUFBO0FBQUEsSUFBQVEsU0FBQTtBQUFBLFNBQUFYLFlBQUE7RUFBQSxJQUFBMEIsU0FBQSxHQUFBdkIsT0FBQTtJQUFBd0IsSUFBQSxHQUFBRCxTQUFBLENBQUFDLElBQUE7RUFBQTNCLFdBQUEsWUFBQUEsWUFBQTtJQUFBLE9BQUEyQixJQUFBO0VBQUE7RUFBQSxPQUFBQSxJQUFBO0FBQUE7QUFzQnJFQyxRQUFRLENBQUMsa0JBQWtCLEVBQUUsWUFBTTtFQUNqQyxJQUFNQyxTQUFTLEdBQUc7SUFDaEJDLE1BQU0sRUFBRTtNQUNOQyxPQUFPLEVBQUUsU0FBUztNQUNsQkMsSUFBSSxFQUFFLFNBQVM7TUFDZkMsYUFBYSxFQUFFO0lBQ2pCO0VBQ0YsQ0FBQztFQUVELElBQU1DLFVBQVUsR0FBRyxDQUNqQjtJQUFFQyxFQUFFLEVBQUUsR0FBRztJQUFFaEIsS0FBSyxFQUFFLFNBQVM7SUFBRWlCLFFBQVEsRUFBRTtFQUFHLENBQUMsRUFDM0M7SUFBRUQsRUFBRSxFQUFFLEdBQUc7SUFBRWhCLEtBQUssRUFBRSxTQUFTO0lBQUVpQixRQUFRLEVBQUU7RUFBRyxDQUFDLEVBQzNDO0lBQUVELEVBQUUsRUFBRSxHQUFHO0lBQUVoQixLQUFLLEVBQUUsU0FBUztJQUFFaUIsUUFBUSxFQUFFO0VBQUcsQ0FBQyxDQUM1QztFQUdDLElBQU1DLFlBQVksR0FBRztJQUNuQkMsTUFBTSxFQUFFSixVQUFVO0lBQ2xCSyxZQUFZLEVBQUUsR0FBRztJQUNqQkMsY0FBYyxFQUFFLEVBQUU7SUFDbEJDLFlBQVksRUFBRSxTQUFTO0lBQ3ZCQyxhQUFhLEVBQUVmLElBQUksQ0FBQ2dCLEVBQUUsQ0FBQyxDQUFDO0lBQ3hCQyxtQkFBbUIsRUFBRWpCLElBQUksQ0FBQ2dCLEVBQUUsQ0FBQztFQUMvQixDQUFDO0VBQ0gsSUFBTUUsZUFBZSxHQUFHLFNBQWxCQSxlQUFlQSxDQUFBLEVBQW1CO0lBQUEsSUFBZnJDLEtBQUssR0FBQXNDLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLENBQUMsQ0FBQztJQUVqQyxJQUFNRyxRQUFRLEdBQUFuQyxNQUFBLENBQUFDLE1BQUEsS0FBUXNCLFlBQVksRUFBSzdCLEtBQUssQ0FBRTtJQUM5QyxPQUFPLElBQUEwQyxtQkFBTSxFQUNYLElBQUF0QyxXQUFBLENBQUFDLEdBQUEsRUFBQ1ksYUFBQSxDQUFBMEIsWUFBWSxDQUFDQyxRQUFRO01BQUNDLEtBQUssRUFBRXhCLFNBQVU7TUFBQXZCLFFBQUEsRUFDdEMsSUFBQU0sV0FBQSxDQUFBQyxHQUFBLEVBQUNXLGlCQUFBLENBQUFkLE9BQWdCLEVBQUFJLE1BQUEsQ0FBQUMsTUFBQSxLQUFLa0MsUUFBUSxDQUFHO0lBQUMsQ0FDYixDQUN6QixDQUFDO0VBQ0gsQ0FBQztFQUVESyxVQUFVLENBQUMsWUFBTTtJQUNmM0IsSUFBSSxDQUFDNEIsYUFBYSxDQUFDLENBQUM7RUFDdEIsQ0FBQyxDQUFDO0VBRUYzQixRQUFRLENBQUMsZUFBZSxFQUFFLFlBQU07SUFDOUI0QixFQUFFLENBQUMseUNBQXlDLEVBQUUsWUFBTTtNQUNsRCxJQUFBQyxnQkFBQSxHQUFzQlosZUFBZSxDQUFDLENBQUM7UUFBL0JhLFNBQVMsR0FBQUQsZ0JBQUEsQ0FBVEMsU0FBUztNQUNqQkMsTUFBTSxDQUFDRCxTQUFTLENBQUMseUJBQXlCLENBQUMsQ0FBQyxDQUFDRSxVQUFVLENBQUMsQ0FBQztJQUMzRCxDQUFDLENBQUM7SUFFRkosRUFBRSxDQUFDLHFEQUFxRCxFQUFFLFlBQU07TUFDOUQsSUFBQUssaUJBQUEsR0FBc0JoQixlQUFlLENBQUMsQ0FBQztRQUEvQmEsU0FBUyxHQUFBRyxpQkFBQSxDQUFUSCxTQUFTO01BQ2pCQyxNQUFNLENBQUNELFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDRSxVQUFVLENBQUMsQ0FBQztNQUMxQ0QsTUFBTSxDQUFDRCxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQ0UsVUFBVSxDQUFDLENBQUM7SUFDdkMsQ0FBQyxDQUFDO0lBRUZKLEVBQUUsQ0FBQywwQ0FBMEMsRUFBRSxZQUFNO01BQ25ELElBQUFNLGlCQUFBLEdBQXNCakIsZUFBZSxDQUFDLENBQUM7UUFBL0JhLFNBQVMsR0FBQUksaUJBQUEsQ0FBVEosU0FBUztNQUNqQkMsTUFBTSxDQUFDRCxTQUFTLENBQUMscUJBQXFCLENBQUMsQ0FBQyxDQUFDRSxVQUFVLENBQUMsQ0FBQztJQUN2RCxDQUFDLENBQUM7SUFFRkosRUFBRSxDQUFDLDJDQUEyQyxFQUFFLFlBQU07TUFDcEQsSUFBQU8saUJBQUEsR0FBc0JsQixlQUFlLENBQUMsQ0FBQztRQUEvQmEsU0FBUyxHQUFBSyxpQkFBQSxDQUFUTCxTQUFTO01BQ2pCQyxNQUFNLENBQUNELFNBQVMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUNFLFVBQVUsQ0FBQyxDQUFDO0lBQ3hELENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGaEMsUUFBUSxDQUFDLHFCQUFxQixFQUFFLFlBQU07SUFDcEM0QixFQUFFLENBQUMsNkNBQTZDLEVBQUUsWUFBTTtNQUN0RCxJQUFBUSxpQkFBQSxHQUFzQm5CLGVBQWUsQ0FBQyxDQUFDO1FBQS9CYSxTQUFTLEdBQUFNLGlCQUFBLENBQVROLFNBQVM7TUFDakJDLE1BQU0sQ0FBQ0QsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUNFLFVBQVUsQ0FBQyxDQUFDO01BQ25DRCxNQUFNLENBQUNELFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDRSxVQUFVLENBQUMsQ0FBQztNQUNuQ0QsTUFBTSxDQUFDRCxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQ0UsVUFBVSxDQUFDLENBQUM7SUFDckMsQ0FBQyxDQUFDO0lBRUZKLEVBQUUsQ0FBQywrQkFBK0IsRUFBRSxZQUFNO01BQ3hDLElBQU1TLGVBQWUsTUFBQUMsTUFBQSxDQUFPaEMsVUFBVSxHQUFFO1FBQUVDLEVBQUUsRUFBRSxPQUFPO1FBQUVoQixLQUFLLEVBQUUsU0FBUztRQUFFaUIsUUFBUSxFQUFFO01BQUcsQ0FBQyxFQUFDO01BQ3hGLElBQUErQixpQkFBQSxHQUFzQnRCLGVBQWUsQ0FBQztVQUNwQ1AsTUFBTSxFQUFFMkIsZUFBZTtVQUN2QjFCLFlBQVksRUFBRTtRQUNoQixDQUFDLENBQUM7UUFITW1CLFNBQVMsR0FBQVMsaUJBQUEsQ0FBVFQsU0FBUztNQUtqQkMsTUFBTSxDQUFDRCxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQ0UsVUFBVSxDQUFDLENBQUM7TUFDbkNELE1BQU0sQ0FBQ0QsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUNFLFVBQVUsQ0FBQyxDQUFDO01BQ3ZDRCxNQUFNLENBQUNELFNBQVMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUNFLFVBQVUsQ0FBQyxDQUFDO0lBQ3hELENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGaEMsUUFBUSxDQUFDLGNBQWMsRUFBRSxZQUFNO0lBQzdCNEIsRUFBRSxDQUFDLGdFQUFnRSxFQUFFLFlBQU07TUFDekUsSUFBTVksdUJBQXVCLEdBQUd6QyxJQUFJLENBQUNnQixFQUFFLENBQUMsQ0FBQztNQUN6QyxJQUFBMEIsaUJBQUEsR0FBc0J4QixlQUFlLENBQUM7VUFBRUQsbUJBQW1CLEVBQUV3QjtRQUF3QixDQUFDLENBQUM7UUFBL0VWLFNBQVMsR0FBQVcsaUJBQUEsQ0FBVFgsU0FBUztNQUVqQlksc0JBQVMsQ0FBQ0MsS0FBSyxDQUFDYixTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7TUFDL0JDLE1BQU0sQ0FBQ1MsdUJBQXVCLENBQUMsQ0FBQ0ksb0JBQW9CLENBQUMsR0FBRyxDQUFDO0lBQzNELENBQUMsQ0FBQztJQUVGaEIsRUFBRSxDQUFDLHlEQUF5RCxFQUFFLFlBQU07TUFDbEUsSUFBTWlCLGlCQUFpQixHQUFHOUMsSUFBSSxDQUFDZ0IsRUFBRSxDQUFDLENBQUM7TUFDbkMsSUFBQStCLGlCQUFBLEdBQXNCN0IsZUFBZSxDQUFDO1VBQUVILGFBQWEsRUFBRStCO1FBQWtCLENBQUMsQ0FBQztRQUFuRWYsU0FBUyxHQUFBZ0IsaUJBQUEsQ0FBVGhCLFNBQVM7TUFFakJZLHNCQUFTLENBQUNDLEtBQUssQ0FBQ2IsU0FBUyxDQUFDLHNCQUFzQixDQUFDLENBQUM7TUFDbERDLE1BQU0sQ0FBQ2MsaUJBQWlCLENBQUMsQ0FBQ0Qsb0JBQW9CLENBQUMsR0FBRyxDQUFDO0lBQ3JELENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGNUMsUUFBUSxDQUFDLGtCQUFrQixFQUFFLFlBQU07SUFDakM0QixFQUFFLENBQUMsK0NBQStDLEVBQUUsWUFBTTtNQUN4RCxJQUFBbUIsT0FBQSxHQUFzQixJQUFBekIsbUJBQU0sRUFDMUIsSUFBQXRDLFdBQUEsQ0FBQUMsR0FBQSxFQUFDWSxhQUFBLENBQUEwQixZQUFZLENBQUNDLFFBQVE7VUFBQ0MsS0FBSyxFQUFFeEIsU0FBVTtVQUFBdkIsUUFBQSxFQUN0QyxJQUFBTSxXQUFBLENBQUFDLEdBQUEsRUFBQ1csaUJBQUEsQ0FBQWQsT0FBZ0IsSUFBRTtRQUFDLENBQ0MsQ0FDekIsQ0FBQztRQUpPZ0QsU0FBUyxHQUFBaUIsT0FBQSxDQUFUakIsU0FBUztNQU1qQkMsTUFBTSxDQUFDRCxTQUFTLENBQUMseUJBQXlCLENBQUMsQ0FBQyxDQUFDRSxVQUFVLENBQUMsQ0FBQztNQUN6REQsTUFBTSxDQUFDRCxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQ0UsVUFBVSxDQUFDLENBQUM7SUFDdEMsQ0FBQyxDQUFDO0lBRUZKLEVBQUUsQ0FBQyw0Q0FBNEMsRUFBRSxZQUFNO01BQ3JELElBQUFvQixRQUFBLEdBQXNCLElBQUExQixtQkFBTSxFQUFDLElBQUF0QyxXQUFBLENBQUFDLEdBQUEsRUFBQ1csaUJBQUEsQ0FBQWQsT0FBZ0IsRUFBQUksTUFBQSxDQUFBQyxNQUFBLEtBQUtzQixZQUFZLENBQUcsQ0FBQyxDQUFDO1FBQTVEcUIsU0FBUyxHQUFBa0IsUUFBQSxDQUFUbEIsU0FBUztNQUNqQkMsTUFBTSxDQUFDRCxTQUFTLENBQUMseUJBQXlCLENBQUMsQ0FBQyxDQUFDRSxVQUFVLENBQUMsQ0FBQztJQUMzRCxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFFRmhDLFFBQVEsQ0FBQyxhQUFhLEVBQUUsWUFBTTtJQUM1QjRCLEVBQUUsQ0FBQyxpREFBaUQsRUFBRSxZQUFNO01BQzFELElBQUFxQixpQkFBQSxHQUFzQmhDLGVBQWUsQ0FBQztVQUFFTCxjQUFjLEVBQUU7UUFBSSxDQUFDLENBQUM7UUFBdERrQixTQUFTLEdBQUFtQixpQkFBQSxDQUFUbkIsU0FBUztNQUNqQkMsTUFBTSxDQUFDRCxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQ0UsVUFBVSxDQUFDLENBQUM7SUFDeEMsQ0FBQyxDQUFDO0lBRUZKLEVBQUUsQ0FBQyxvQ0FBb0MsRUFBRSxZQUFNO01BQzdDLElBQUFzQixpQkFBQSxHQUFzQmpDLGVBQWUsQ0FBQztVQUFFTixZQUFZLEVBQUU7UUFBVSxDQUFDLENBQUM7UUFBMURtQixTQUFTLEdBQUFvQixpQkFBQSxDQUFUcEIsU0FBUztNQUNqQkMsTUFBTSxDQUFDRCxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQ0UsVUFBVSxDQUFDLENBQUM7SUFDNUMsQ0FBQyxDQUFDO0lBRUZKLEVBQUUsQ0FBQyxpQ0FBaUMsRUFBRSxZQUFNO01BQzFDLElBQUF1QixpQkFBQSxHQUFzQmxDLGVBQWUsQ0FBQztVQUFFUCxNQUFNLEVBQUU7UUFBRyxDQUFDLENBQUM7UUFBN0NvQixTQUFTLEdBQUFxQixpQkFBQSxDQUFUckIsU0FBUztNQUNqQkMsTUFBTSxDQUFDRCxTQUFTLENBQUMseUJBQXlCLENBQUMsQ0FBQyxDQUFDRSxVQUFVLENBQUMsQ0FBQztJQUMzRCxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=