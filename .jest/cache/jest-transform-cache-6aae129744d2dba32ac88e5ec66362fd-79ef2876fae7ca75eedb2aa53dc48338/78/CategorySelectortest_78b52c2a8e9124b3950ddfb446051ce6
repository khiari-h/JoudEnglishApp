2564391d2b169c5f59803e8e1117fc05
_getJestObj().mock("react-native", function () {
  var RN = jest.requireActual("react-native");
  return Object.assign({}, RN, {
    Animated: Object.assign({}, RN.Animated, {
      Value: jest.fn(function () {
        return {
          interpolate: jest.fn()
        };
      }),
      timing: mockTiming,
      parallel: mockParallel,
      multiply: jest.fn(function (a, b) {
        return a || b;
      })
    })
  });
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _CategorySelector = _interopRequireDefault(require("../../../src/components/exercise-common/CategorySelector"));
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockTiming = jest.fn(function () {
  return {
    start: jest.fn(function (cb) {
      return cb && cb();
    })
  };
});
var mockParallel = jest.fn(function () {
  return {
    start: jest.fn(function (cb) {
      return cb && cb();
    })
  };
});
describe("CategorySelector - Animations", function () {
  var categories = [{
    id: "1",
    name: "Category 1"
  }, {
    id: "2",
    name: "Category 2"
  }];
  beforeEach(function () {
    jest.clearAllMocks();
  });
  it("triggers parallel animations when selectedCategory changes", (0, _asyncToGenerator2.default)(function* () {
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_CategorySelector.default, {
        categories: categories,
        selectedCategory: "1",
        onSelectCategory: jest.fn()
      })),
      rerender = _render.rerender;
    yield (0, _reactNative.waitFor)(function () {
      expect(require("react-native").Animated.Value).toHaveBeenCalled();
    });
    rerender((0, _jsxRuntime.jsx)(_CategorySelector.default, {
      categories: categories,
      selectedCategory: "2",
      onSelectCategory: jest.fn()
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockParallel).toHaveBeenCalledTimes(1);
      expect(mockTiming).toHaveBeenCalledTimes(2);
    });
  }));
  it("prevents animation conflicts with isAnimatingRef", (0, _asyncToGenerator2.default)(function* () {
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_CategorySelector.default, {
        categories: categories,
        selectedCategory: "1",
        onSelectCategory: jest.fn()
      })),
      rerender = _render2.rerender;
    yield (0, _reactNative.waitFor)(function () {
      expect(require("react-native").Animated.Value).toHaveBeenCalled();
    });
    rerender((0, _jsxRuntime.jsx)(_CategorySelector.default, {
      categories: categories,
      selectedCategory: "2",
      onSelectCategory: jest.fn()
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockParallel).toHaveBeenCalledTimes(1);
    });
    rerender((0, _jsxRuntime.jsx)(_CategorySelector.default, {
      categories: categories,
      selectedCategory: "1",
      onSelectCategory: jest.fn()
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockParallel).toHaveBeenCalledTimes(1);
    });
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJSTiIsImplc3QiLCJyZXF1aXJlQWN0dWFsIiwiT2JqZWN0IiwiYXNzaWduIiwiQW5pbWF0ZWQiLCJWYWx1ZSIsImZuIiwiaW50ZXJwb2xhdGUiLCJ0aW1pbmciLCJtb2NrVGltaW5nIiwicGFyYWxsZWwiLCJtb2NrUGFyYWxsZWwiLCJtdWx0aXBseSIsImEiLCJiIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVhY3QiLCJfcmVhY3ROYXRpdmUiLCJfQ2F0ZWdvcnlTZWxlY3RvciIsIl9qc3hSdW50aW1lIiwiX3JlcXVpcmUiLCJzdGFydCIsImNiIiwiZGVzY3JpYmUiLCJjYXRlZ29yaWVzIiwiaWQiLCJuYW1lIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsImRlZmF1bHQiLCJfcmVuZGVyIiwicmVuZGVyIiwianN4Iiwic2VsZWN0ZWRDYXRlZ29yeSIsIm9uU2VsZWN0Q2F0ZWdvcnkiLCJyZXJlbmRlciIsIndhaXRGb3IiLCJleHBlY3QiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwiX3JlbmRlcjIiXSwic291cmNlcyI6WyJDYXRlZ29yeVNlbGVjdG9yLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gX190ZXN0c19fL2NvbXBvbmVudHMvZXhlcmNpc2UtY29tbW9uL0NhdGVnb3J5U2VsZWN0b3IudGVzdC5qc1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgcmVuZGVyLCB3YWl0Rm9yIH0gZnJvbSBcIkB0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtbmF0aXZlXCI7XG5pbXBvcnQgQ2F0ZWdvcnlTZWxlY3RvciBmcm9tIFwiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvZXhlcmNpc2UtY29tbW9uL0NhdGVnb3J5U2VsZWN0b3JcIjtcblxuLy8g8J+UpyBNb2NrIEFuaW1hdGVkIEFQSVxuY29uc3QgbW9ja1RpbWluZyA9IGplc3QuZm4oKCkgPT4gKHsgc3RhcnQ6IGplc3QuZm4oY2IgPT4gY2IgJiYgY2IoKSkgfSkpO1xuY29uc3QgbW9ja1BhcmFsbGVsID0gamVzdC5mbigoKSA9PiAoeyBzdGFydDogamVzdC5mbihjYiA9PiBjYiAmJiBjYigpKSB9KSk7XG5cbmplc3QubW9jayhcInJlYWN0LW5hdGl2ZVwiLCAoKSA9PiB7XG4gIGNvbnN0IFJOID0gamVzdC5yZXF1aXJlQWN0dWFsKFwicmVhY3QtbmF0aXZlXCIpO1xuICByZXR1cm4ge1xuICAgIC4uLlJOLFxuICAgIEFuaW1hdGVkOiB7XG4gICAgICAuLi5STi5BbmltYXRlZCxcbiAgICAgIFZhbHVlOiBqZXN0LmZuKCgpID0+ICh7IGludGVycG9sYXRlOiBqZXN0LmZuKCkgfSkpLFxuICAgICAgdGltaW5nOiBtb2NrVGltaW5nLFxuICAgICAgcGFyYWxsZWw6IG1vY2tQYXJhbGxlbCxcbiAgICAgIG11bHRpcGx5OiBqZXN0LmZuKChhLCBiKSA9PiBhIHx8IGIpLFxuICAgIH0sXG4gIH07XG59KTtcblxuZGVzY3JpYmUoXCJDYXRlZ29yeVNlbGVjdG9yIC0gQW5pbWF0aW9uc1wiLCAoKSA9PiB7XG4gIGNvbnN0IGNhdGVnb3JpZXMgPSBbXG4gICAgeyBpZDogXCIxXCIsIG5hbWU6IFwiQ2F0ZWdvcnkgMVwiIH0sXG4gICAgeyBpZDogXCIyXCIsIG5hbWU6IFwiQ2F0ZWdvcnkgMlwiIH0sXG4gIF07XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGl0KFwidHJpZ2dlcnMgcGFyYWxsZWwgYW5pbWF0aW9ucyB3aGVuIHNlbGVjdGVkQ2F0ZWdvcnkgY2hhbmdlc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyByZXJlbmRlciB9ID0gcmVuZGVyKFxuICAgICAgPENhdGVnb3J5U2VsZWN0b3JcbiAgICAgICAgY2F0ZWdvcmllcz17Y2F0ZWdvcmllc31cbiAgICAgICAgc2VsZWN0ZWRDYXRlZ29yeT1cIjFcIlxuICAgICAgICBvblNlbGVjdENhdGVnb3J5PXtqZXN0LmZuKCl9XG4gICAgICAvPlxuICAgICk7XG5cbiAgICAvLyBhdHRlbmRyZSBsJ2luaXQgZGVzIEFuaW1hdGVkLlZhbHVlXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QocmVxdWlyZShcInJlYWN0LW5hdGl2ZVwiKS5BbmltYXRlZC5WYWx1ZSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgLy8gY2hhbmdlciBsYSBzw6lsZWN0aW9uXG4gICAgcmVyZW5kZXIoXG4gICAgICA8Q2F0ZWdvcnlTZWxlY3RvclxuICAgICAgICBjYXRlZ29yaWVzPXtjYXRlZ29yaWVzfVxuICAgICAgICBzZWxlY3RlZENhdGVnb3J5PVwiMlwiXG4gICAgICAgIG9uU2VsZWN0Q2F0ZWdvcnk9e2plc3QuZm4oKX1cbiAgICAgIC8+XG4gICAgKTtcblxuICAgIC8vIGF0dGVuZHJlIHF1ZSBsZXMgYW5pbWF0aW9ucyBzb2llbnQgYXBwZWzDqWVzXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QobW9ja1BhcmFsbGVsKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG4gICAgICBleHBlY3QobW9ja1RpbWluZykudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDIpO1xuICAgIH0pO1xuICB9KTtcblxuICBpdChcInByZXZlbnRzIGFuaW1hdGlvbiBjb25mbGljdHMgd2l0aCBpc0FuaW1hdGluZ1JlZlwiLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyByZXJlbmRlciB9ID0gcmVuZGVyKFxuICAgICAgPENhdGVnb3J5U2VsZWN0b3JcbiAgICAgICAgY2F0ZWdvcmllcz17Y2F0ZWdvcmllc31cbiAgICAgICAgc2VsZWN0ZWRDYXRlZ29yeT1cIjFcIlxuICAgICAgICBvblNlbGVjdENhdGVnb3J5PXtqZXN0LmZuKCl9XG4gICAgICAvPlxuICAgICk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChyZXF1aXJlKFwicmVhY3QtbmF0aXZlXCIpLkFuaW1hdGVkLlZhbHVlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICAvLyBQcmVtacOocmUgdHJhbnNpdGlvbiDihpIgZG9pdCBsYW5jZXIgdW5lIGFuaW1hdGlvblxuICAgIHJlcmVuZGVyKFxuICAgICAgPENhdGVnb3J5U2VsZWN0b3JcbiAgICAgICAgY2F0ZWdvcmllcz17Y2F0ZWdvcmllc31cbiAgICAgICAgc2VsZWN0ZWRDYXRlZ29yeT1cIjJcIlxuICAgICAgICBvblNlbGVjdENhdGVnb3J5PXtqZXN0LmZuKCl9XG4gICAgICAvPlxuICAgICk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChtb2NrUGFyYWxsZWwpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICB9KTtcblxuICAgIC8vIERldXhpw6htZSB0cmFuc2l0aW9uIGltbcOpZGlhdGUg4oaSIGJsb3F1w6llIHBhciBpc0FuaW1hdGluZ1JlZlxuICAgIHJlcmVuZGVyKFxuICAgICAgPENhdGVnb3J5U2VsZWN0b3JcbiAgICAgICAgY2F0ZWdvcmllcz17Y2F0ZWdvcmllc31cbiAgICAgICAgc2VsZWN0ZWRDYXRlZ29yeT1cIjFcIlxuICAgICAgICBvblNlbGVjdENhdGVnb3J5PXtqZXN0LmZuKCl9XG4gICAgICAvPlxuICAgICk7XG5cbiAgICAvLyBtb2NrUGFyYWxsZWwgbmUgZG9pdCBwYXMgYXZvaXIgYXVnbWVudMOpXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QobW9ja1BhcmFsbGVsKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQVNBQSxXQUFBLEdBQUtDLElBQUksQ0FBQyxjQUFjLEVBQUUsWUFBTTtFQUM5QixJQUFNQyxFQUFFLEdBQUdDLElBQUksQ0FBQ0Ms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