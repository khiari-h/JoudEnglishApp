f00496db8ddead3798767d27ad140c78
_getJestObj().mock('expo-router', function () {
  return {
    router: {
      push: jest.fn()
    }
  };
});
_getJestObj().mock('../../../hooks/useConversation');
_getJestObj().mock('../../../hooks/useLastActivity');
_getJestObj().mock('../../../utils/conversation/conversationDataHelper');
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _expoRouter = require("expo-router");
var _conversations = _interopRequireDefault(require("../../../src/screens/exercises/conversations"));
var _useConversation = _interopRequireDefault(require("./hooks/useConversation"));
var _useLastActivity = _interopRequireDefault(require("../../../hooks/useLastActivity"));
var _conversationDataHelper = require("../../../utils/conversation/conversationDataHelper");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('ConversationExercise - Tests Complets', function () {
  var mockSaveActivity = jest.fn();
  var mockChangeScenario = jest.fn();
  var mockSendMessage = jest.fn();
  var mockUseSuggestion = jest.fn();
  var mockToggleHelp = jest.fn();
  var mockToggleDetailedProgress = jest.fn();
  var mockConversationData = {
    exercises: [{
      id: '1',
      title: 'Scénario 1',
      description: 'Description 1'
    }, {
      id: '2',
      title: 'Scénario 2',
      description: 'Description 2'
    }]
  };
  var mockCurrentScenario = {
    title: 'Scénario Test',
    description: 'Description du scénario de test'
  };
  var setupMocks = function setupMocks() {
    var overrides = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var defaultMocks = {
      useConversation: Object.assign({
        currentScenarioIndex: 0,
        conversation: [],
        message: '',
        setMessage: jest.fn(),
        isTyping: false,
        suggestions: ['Bonjour', 'Comment allez-vous ?'],
        showHelp: false,
        completedScenarios: [],
        conversationHistory: {},
        loaded: true,
        showDetailedProgress: false,
        currentScenario: mockCurrentScenario,
        totalScenarios: 2,
        hasValidData: true,
        changeScenario: mockChangeScenario,
        sendMessage: mockSendMessage,
        useSuggestion: mockUseSuggestion,
        toggleHelp: mockToggleHelp,
        toggleDetailedProgress: mockToggleDetailedProgress,
        isConversationStarted: true,
        stats: {
          currentStep: 1,
          totalSteps: 5,
          completionProgress: 0.2
        },
        display: {
          currentHelp: 'Aide contextuelle'
        }
      }, overrides.useConversation),
      useLastActivity: Object.assign({
        saveActivity: mockSaveActivity
      }, overrides.useLastActivity),
      getConversationData: mockConversationData,
      getLevelColor: '#007AFF'
    };
    _useConversation.default.mockReturnValue(defaultMocks.useConversation);
    _useLastActivity.default.mockReturnValue(defaultMocks.useLastActivity);
    _conversationDataHelper.getConversationData.mockReturnValue(defaultMocks.getConversationData);
    _conversationDataHelper.getLevelColor.mockReturnValue(defaultMocks.getLevelColor);
  };
  beforeEach(function () {
    jest.clearAllMocks();
    setupMocks();
  });
  describe('Core Functionality', function () {
    it('should render completely and handle all core interactions', (0, _asyncToGenerator2.default)(function* () {
      var route = {
        params: {
          level: 'A1'
        }
      };
      (0, _reactNative.render)((0, _jsxRuntime.jsx)(_conversations.default, {
        route: route
      }));
      expect(_reactNative.screen.getByTestId('conversation-header')).toBeTruthy();
      expect(_reactNative.screen.getByTestId('conversation-selector')).toBeTruthy();
      expect(_reactNative.screen.getByTestId('conversation-progress')).toBeTruthy();
      expect(_reactNative.screen.getByTestId('conversation-scenario-description')).toBeTruthy();
      expect(_reactNative.screen.getByTestId('conversation-message-list')).toBeTruthy();
      expect(_reactNative.screen.getByTestId('conversation-suggestions')).toBeTruthy();
      expect(_reactNative.screen.getByTestId('conversation-input')).toBeTruthy();
      expect(mockSaveActivity).toHaveBeenCalledWith({
        title: "Conversations",
        level: "A1",
        type: "conversations",
        metadata: {
          scenario: 0,
          step: 1,
          totalSteps: 5,
          scenarioName: 'Scénario Test',
          totalScenarios: 2
        }
      });
      var backButton = _reactNative.screen.getByTestId('header-back-button');
      _reactNative.fireEvent.press(backButton);
      expect(_expoRouter.router.push).toHaveBeenCalledWith({
        pathname: "/tabs/exerciseSelection",
        params: {
          level: 'A1'
        }
      });
      var scenarioButton = _reactNative.screen.getByTestId('scenario-selector-1');
      _reactNative.fireEvent.press(scenarioButton);
      expect(mockChangeScenario).toHaveBeenCalledWith(1);
      var progressButton = _reactNative.screen.getByTestId('progress-toggle');
      _reactNative.fireEvent.press(progressButton);
      expect(mockToggleDetailedProgress).toHaveBeenCalled();
      var helpButton = _reactNative.screen.getByTestId('help-toggle');
      _reactNative.fireEvent.press(helpButton);
      expect(mockToggleHelp).toHaveBeenCalled();
      var suggestionButton = _reactNative.screen.getByTestId('suggestion-0');
      _reactNative.fireEvent.press(suggestionButton);
      expect(mockUseSuggestion).toHaveBeenCalledWith('Bonjour');
      var sendButton = _reactNative.screen.getByTestId('send-message-button');
      _reactNative.fireEvent.press(sendButton);
      expect(mockSendMessage).toHaveBeenCalled();
    }));
  });
  describe('States and Edge Cases', function () {
    it('should handle all states and edge cases correctly', function () {
      setupMocks({
        useConversation: {
          loaded: false,
          hasValidData: false
        }
      });
      var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_conversations.default, {
          route: {
            params: {
              level: 'A1'
            }
          }
        })),
        rerender = _render.rerender;
      expect(_reactNative.screen.getByTestId('loading-container')).toBeTruthy();
      expect(_reactNative.screen.queryByTestId('conversation-header')).toBeNull();
      setupMocks();
      rerender((0, _jsxRuntime.jsx)(_conversations.default, {
        route: {}
      }));
      expect(_useConversation.default).toHaveBeenCalledWith(mockConversationData, 'A1');
      rerender((0, _jsxRuntime.jsx)(_conversations.default, {
        route: undefined
      }));
      expect(_useConversation.default).toHaveBeenCalledWith(mockConversationData, 'A1');
      setupMocks({
        useConversation: {
          loaded: true,
          hasValidData: false,
          currentScenario: null
        }
      });
      rerender((0, _jsxRuntime.jsx)(_conversations.default, {
        route: {
          params: {
            level: 'B2'
          }
        }
      }));
      expect(_reactNative.screen.getByTestId('loading-container')).toBeTruthy();
      jest.clearAllMocks();
      setupMocks({
        useConversation: {
          isConversationStarted: false
        }
      });
      rerender((0, _jsxRuntime.jsx)(_conversations.default, {
        route: {
          params: {
            level: 'A1'
          }
        }
      }));
      expect(mockSaveActivity).not.toHaveBeenCalled();
    });
  });
  describe('Performance Optimizations', function () {
    it('should maintain performance optimizations', function () {
      var route = {
        params: {
          level: 'A1'
        }
      };
      var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_conversations.default, {
          route: route
        })),
        rerender = _render2.rerender;
      var initialCallbacks = {
        changeScenario: mockChangeScenario,
        sendMessage: mockSendMessage,
        useSuggestion: mockUseSuggestion,
        toggleHelp: mockToggleHelp
      };
      rerender((0, _jsxRuntime.jsx)(_conversations.default, {
        route: route
      }));
      expect(mockChangeScenario).toBe(initialCallbacks.changeScenario);
      expect(mockSendMessage).toBe(initialCallbacks.sendMessage);
      rerender((0, _jsxRuntime.jsx)(_conversations.default, {
        route: {
          params: {
            level: 'B1'
          }
        }
      }));
      expect(_conversationDataHelper.getConversationData).toHaveBeenCalledWith('B1');
      expect(_conversationDataHelper.getLevelColor).toHaveBeenCalledWith('B1');
    });
  });
  describe('Hooks Integration', function () {
    it('should integrate correctly with custom hooks', (0, _asyncToGenerator2.default)(function* () {
      var route = {
        params: {
          level: 'C1'
        }
      };
      (0, _reactNative.render)((0, _jsxRuntime.jsx)(_conversations.default, {
        route: route
      }));
      expect(_useConversation.default).toHaveBeenCalledWith(mockConversationData, 'C1');
      expect(_useLastActivity.default).toHaveBeenCalled();
      expect(_conversationDataHelper.getConversationData).toHaveBeenCalledWith('C1');
      expect(_conversationDataHelper.getLevelColor).toHaveBeenCalledWith('C1');
      yield (0, _reactNative.waitFor)(function () {
        expect(mockSaveActivity).toHaveBeenCalledWith({
          title: "Conversations",
          level: "C1",
          type: "conversations",
          metadata: {
            scenario: 0,
            step: 1,
            totalSteps: 5,
            scenarioName: 'Scénario Test',
            totalScenarios: 2
          }
        });
      });
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJyb3V0ZXIiLCJwdXNoIiwiamVzdCIsImZuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVhY3QiLCJfcmVhY3ROYXRpdmUiLCJfZXhwb1JvdXRlciIsIl9jb252ZXJzYXRpb25zIiwiX3VzZUNvbnZlcnNhdGlvbiIsIl91c2VMYXN0QWN0aXZpdHkiLCJfY29udmVyc2F0aW9uRGF0YUhlbHBlciIsIl9qc3hSdW50aW1lIiwiX3JlcXVpcmUiLCJkZXNjcmliZSIsIm1vY2tTYXZlQWN0aXZpdHkiLCJtb2NrQ2hhbmdlU2NlbmFyaW8iLCJtb2NrU2VuZE1lc3NhZ2UiLCJtb2NrVXNlU3VnZ2VzdGlvbiIsIm1vY2tUb2dnbGVIZWxwIiwibW9ja1RvZ2dsZURldGFpbGVkUHJvZ3Jlc3MiLCJtb2NrQ29udmVyc2F0aW9uRGF0YSIsImV4ZXJjaXNlcyIsImlkIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIm1vY2tDdXJyZW50U2NlbmFyaW8iLCJzZXR1cE1vY2tzIiwib3ZlcnJpZGVzIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiZGVmYXVsdE1vY2tzIiwidXNlQ29udmVyc2F0aW9uIiwiT2JqZWN0IiwiYXNzaWduIiwiY3VycmVudFNjZW5hcmlvSW5kZXgiLCJjb252ZXJzYXRpb24iLCJtZXNzYWdlIiwic2V0TWVzc2FnZSIsImlzVHlwaW5nIiwic3VnZ2VzdGlvbnMiLCJzaG93SGVscCIsImNvbXBsZXRlZFNjZW5hcmlvcyIsImNvbnZlcnNhdGlvbkhpc3RvcnkiLCJsb2FkZWQiLCJzaG93RGV0YWlsZWRQcm9ncmVzcyIsImN1cnJlbnRTY2VuYXJpbyIsInRvdGFsU2NlbmFyaW9zIiwiaGFzVmFsaWREYXRhIiwiY2hhbmdlU2NlbmFyaW8iLCJzZW5kTWVzc2FnZSIsInVzZVN1Z2dlc3Rpb24iLCJ0b2dnbGVIZWxwIiwidG9nZ2xlRGV0YWlsZWRQcm9ncmVzcyIsImlzQ29udmVyc2F0aW9uU3RhcnRlZCIsInN0YXRzIiwiY3VycmVudFN0ZXAiLCJ0b3RhbFN0ZXBzIiwiY29tcGxldGlvblByb2dyZXNzIiwiZGlzcGxheSIsImN1cnJlbnRIZWxwIiwidXNlTGFzdEFjdGl2aXR5Iiwic2F2ZUFjdGl2aXR5IiwiZ2V0Q29udmVyc2F0aW9uRGF0YSIsImdldExldmVsQ29sb3IiLCJtb2NrUmV0dXJuVmFsdWUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwiZGVmYXVsdCIsInJvdXRlIiwicGFyYW1zIiwibGV2ZWwiLCJyZW5kZXIiLCJqc3giLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRlc3RJZCIsInRvQmVUcnV0aHkiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInR5cGUiLCJtZXRhZGF0YSIsInNjZW5hcmlvIiwic3RlcCIsInNjZW5hcmlvTmFtZSIsImJhY2tCdXR0b24iLCJmaXJlRXZlbnQiLCJwcmVzcyIsInBhdGhuYW1lIiwic2NlbmFyaW9CdXR0b24iLCJwcm9ncmVzc0J1dHRvbiIsInRvSGF2ZUJlZW5DYWxsZWQiLCJoZWxwQnV0dG9uIiwic3VnZ2VzdGlvbkJ1dHRvbiIsInNlbmRCdXR0b24iLCJfcmVuZGVyIiwicmVyZW5kZXIiLCJxdWVyeUJ5VGVzdElkIiwidG9CZU51bGwiLCJub3QiLCJfcmVuZGVyMiIsImluaXRpYWxDYWxsYmFja3MiLCJ0b0JlIiwid2FpdEZvciJdLCJzb3VyY2VzIjpbIkNvbnZlcnNhdGlvbi50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvbnZlcnNhdGlvbkV4ZXJjaXNlLnRlc3QuanMgLSBURVNUUyBDT01QTEVUUyAoODAlIGRlIGNvdXZlcnR1cmUgYXZlYyAyMCUgZCdlZmZvcnQpXHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZSc7XHJcbmltcG9ydCB7IHJvdXRlciB9IGZyb20gJ2V4cG8tcm91dGVyJztcclxuaW1wb3J0IENvbnZlcnNhdGlvbkV4ZXJjaXNlIGZyb20gJy4uLy4uLy4uL3NyYy9zY3JlZW5zL2V4ZXJjaXNlcy9jb252ZXJzYXRpb25zJztcclxuXHJcbi8vIE1vY2tzXHJcbmplc3QubW9jaygnZXhwby1yb3V0ZXInLCAoKSA9PiAoe1xyXG4gIHJvdXRlcjoge1xyXG4gICAgcHVzaDogamVzdC5mbigpLFxyXG4gIH0sXHJcbn0pKTtcclxuXHJcbmplc3QubW9jaygnLi4vLi4vLi4vaG9va3MvdXNlQ29udmVyc2F0aW9uJyk7XHJcbmplc3QubW9jaygnLi4vLi4vLi4vaG9va3MvdXNlTGFzdEFjdGl2aXR5Jyk7XHJcbmplc3QubW9jaygnLi4vLi4vLi4vdXRpbHMvY29udmVyc2F0aW9uL2NvbnZlcnNhdGlvbkRhdGFIZWxwZXInKTtcclxuXHJcbi8vIEltcG9ydCBkZXMgbW9ja3MgYXByw6hzIGxhIGTDqWNsYXJhdGlvblxyXG5pbXBvcnQgdXNlQ29udmVyc2F0aW9uIGZyb20gJy4vaG9va3MvdXNlQ29udmVyc2F0aW9uJztcclxuaW1wb3J0IHVzZUxhc3RBY3Rpdml0eSBmcm9tICcuLi8uLi8uLi9ob29rcy91c2VMYXN0QWN0aXZpdHknO1xyXG5pbXBvcnQgeyBnZXRDb252ZXJzYXRpb25EYXRhLCBnZXRMZXZlbENvbG9yIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvY29udmVyc2F0aW9uL2NvbnZlcnNhdGlvbkRhdGFIZWxwZXInO1xyXG5cclxuZGVzY3JpYmUoJ0NvbnZlcnNhdGlvbkV4ZXJjaXNlIC0gVGVzdHMgQ29tcGxldHMnLCAoKSA9PiB7XHJcbiAgLy8gVmFyaWFibGVzIGRlIHRlc3QgY29tbXVuZXNcclxuICBjb25zdCBtb2NrU2F2ZUFjdGl2aXR5ID0gamVzdC5mbigpO1xyXG4gIGNvbnN0IG1vY2tDaGFuZ2VTY2VuYXJpbyA9IGplc3QuZm4oKTtcclxuICBjb25zdCBtb2NrU2VuZE1lc3NhZ2UgPSBqZXN0LmZuKCk7XHJcbiAgY29uc3QgbW9ja1VzZVN1Z2dlc3Rpb24gPSBqZXN0LmZuKCk7XHJcbiAgY29uc3QgbW9ja1RvZ2dsZUhlbHAgPSBqZXN0LmZuKCk7XHJcbiAgY29uc3QgbW9ja1RvZ2dsZURldGFpbGVkUHJvZ3Jlc3MgPSBqZXN0LmZuKCk7XHJcblxyXG4gIC8vIE1vY2sgZGF0YVxyXG4gIGNvbnN0IG1vY2tDb252ZXJzYXRpb25EYXRhID0ge1xyXG4gICAgZXhlcmNpc2VzOiBbXHJcbiAgICAgIHsgaWQ6ICcxJywgdGl0bGU6ICdTY8OpbmFyaW8gMScsIGRlc2NyaXB0aW9uOiAnRGVzY3JpcHRpb24gMScgfSxcclxuICAgICAgeyBpZDogJzInLCB0aXRsZTogJ1Njw6luYXJpbyAyJywgZGVzY3JpcHRpb246ICdEZXNjcmlwdGlvbiAyJyB9XHJcbiAgICBdXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgbW9ja0N1cnJlbnRTY2VuYXJpbyA9IHtcclxuICAgIHRpdGxlOiAnU2PDqW5hcmlvIFRlc3QnLFxyXG4gICAgZGVzY3JpcHRpb246ICdEZXNjcmlwdGlvbiBkdSBzY8OpbmFyaW8gZGUgdGVzdCdcclxuICB9O1xyXG5cclxuICAvLyBTZXR1cCBwYXIgZMOpZmF1dCBkZXMgbW9ja3NcclxuICBjb25zdCBzZXR1cE1vY2tzID0gKG92ZXJyaWRlcyA9IHt9KSA9PiB7XHJcbiAgICBjb25zdCBkZWZhdWx0TW9ja3MgPSB7XHJcbiAgICAgIC8vIHVzZUNvbnZlcnNhdGlvbiBtb2NrXHJcbiAgICAgIHVzZUNvbnZlcnNhdGlvbjoge1xyXG4gICAgICAgIGN1cnJlbnRTY2VuYXJpb0luZGV4OiAwLFxyXG4gICAgICAgIGNvbnZlcnNhdGlvbjogW10sXHJcbiAgICAgICAgbWVzc2FnZTogJycsXHJcbiAgICAgICAgc2V0TWVzc2FnZTogamVzdC5mbigpLFxyXG4gICAgICAgIGlzVHlwaW5nOiBmYWxzZSxcclxuICAgICAgICBzdWdnZXN0aW9uczogWydCb25qb3VyJywgJ0NvbW1lbnQgYWxsZXotdm91cyA/J10sXHJcbiAgICAgICAgc2hvd0hlbHA6IGZhbHNlLFxyXG4gICAgICAgIGNvbXBsZXRlZFNjZW5hcmlvczogW10sXHJcbiAgICAgICAgY29udmVyc2F0aW9uSGlzdG9yeToge30sXHJcbiAgICAgICAgbG9hZGVkOiB0cnVlLFxyXG4gICAgICAgIHNob3dEZXRhaWxlZFByb2dyZXNzOiBmYWxzZSxcclxuICAgICAgICBjdXJyZW50U2NlbmFyaW86IG1vY2tDdXJyZW50U2NlbmFyaW8sXHJcbiAgICAgICAgdG90YWxTY2VuYXJpb3M6IDIsXHJcbiAgICAgICAgaGFzVmFsaWREYXRhOiB0cnVlLFxyXG4gICAgICAgIGNoYW5nZVNjZW5hcmlvOiBtb2NrQ2hhbmdlU2NlbmFyaW8sXHJcbiAgICAgICAgc2VuZE1lc3NhZ2U6IG1vY2tTZW5kTWVzc2FnZSxcclxuICAgICAgICB1c2VTdWdnZXN0aW9uOiBtb2NrVXNlU3VnZ2VzdGlvbixcclxuICAgICAgICB0b2dnbGVIZWxwOiBtb2NrVG9nZ2xlSGVscCxcclxuICAgICAgICB0b2dnbGVEZXRhaWxlZFByb2dyZXNzOiBtb2NrVG9nZ2xlRGV0YWlsZWRQcm9ncmVzcyxcclxuICAgICAgICBpc0NvbnZlcnNhdGlvblN0YXJ0ZWQ6IHRydWUsXHJcbiAgICAgICAgc3RhdHM6IHtcclxuICAgICAgICAgIGN1cnJlbnRTdGVwOiAxLFxyXG4gICAgICAgICAgdG90YWxTdGVwczogNSxcclxuICAgICAgICAgIGNvbXBsZXRpb25Qcm9ncmVzczogMC4yXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkaXNwbGF5OiB7XHJcbiAgICAgICAgICBjdXJyZW50SGVscDogJ0FpZGUgY29udGV4dHVlbGxlJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLi4ub3ZlcnJpZGVzLnVzZUNvbnZlcnNhdGlvblxyXG4gICAgICB9LFxyXG4gICAgICAvLyB1c2VMYXN0QWN0aXZpdHkgbW9ja1xyXG4gICAgICB1c2VMYXN0QWN0aXZpdHk6IHtcclxuICAgICAgICBzYXZlQWN0aXZpdHk6IG1vY2tTYXZlQWN0aXZpdHksXHJcbiAgICAgICAgLi4ub3ZlcnJpZGVzLnVzZUxhc3RBY3Rpdml0eVxyXG4gICAgICB9LFxyXG4gICAgICAvLyBVdGlscyBtb2Nrc1xyXG4gICAgICBnZXRDb252ZXJzYXRpb25EYXRhOiBtb2NrQ29udmVyc2F0aW9uRGF0YSxcclxuICAgICAgZ2V0TGV2ZWxDb2xvcjogJyMwMDdBRkYnXHJcbiAgICB9O1xyXG5cclxuICAgIHVzZUNvbnZlcnNhdGlvbi5tb2NrUmV0dXJuVmFsdWUoZGVmYXVsdE1vY2tzLnVzZUNvbnZlcnNhdGlvbik7XHJcbiAgICB1c2VMYXN0QWN0aXZpdHkubW9ja1JldHVyblZhbHVlKGRlZmF1bHRNb2Nrcy51c2VMYXN0QWN0aXZpdHkpO1xyXG4gICAgZ2V0Q29udmVyc2F0aW9uRGF0YS5tb2NrUmV0dXJuVmFsdWUoZGVmYXVsdE1vY2tzLmdldENvbnZlcnNhdGlvbkRhdGEpO1xyXG4gICAgZ2V0TGV2ZWxDb2xvci5tb2NrUmV0dXJuVmFsdWUoZGVmYXVsdE1vY2tzLmdldExldmVsQ29sb3IpO1xyXG4gIH07XHJcblxyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbiAgICBzZXR1cE1vY2tzKCk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIPCfmoAgVEVTVCBDT01QTEVUICMxIC0gUmVuZHUgZXQgZm9uY3Rpb25uZW1lbnQgbm9ybWFsXHJcbiAgZGVzY3JpYmUoJ0NvcmUgRnVuY3Rpb25hbGl0eScsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgcmVuZGVyIGNvbXBsZXRlbHkgYW5kIGhhbmRsZSBhbGwgY29yZSBpbnRlcmFjdGlvbnMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJvdXRlID0geyBwYXJhbXM6IHsgbGV2ZWw6ICdBMScgfSB9O1xyXG4gICAgICBcclxuICAgICAgcmVuZGVyKDxDb252ZXJzYXRpb25FeGVyY2lzZSByb3V0ZT17cm91dGV9IC8+KTtcclxuXHJcbiAgICAgIC8vIOKchSBWw6lyaWZpY2F0aW9uIGR1IHJlbmR1IGNvbXBsZXRcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnY29udmVyc2F0aW9uLWhlYWRlcicpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2NvbnZlcnNhdGlvbi1zZWxlY3RvcicpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2NvbnZlcnNhdGlvbi1wcm9ncmVzcycpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2NvbnZlcnNhdGlvbi1zY2VuYXJpby1kZXNjcmlwdGlvbicpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2NvbnZlcnNhdGlvbi1tZXNzYWdlLWxpc3QnKSkudG9CZVRydXRoeSgpO1xyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdjb252ZXJzYXRpb24tc3VnZ2VzdGlvbnMnKSkudG9CZVRydXRoeSgpO1xyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdjb252ZXJzYXRpb24taW5wdXQnKSkudG9CZVRydXRoeSgpO1xyXG5cclxuICAgICAgLy8g4pyFIFbDqXJpZmljYXRpb24gZGUgbGEgc2F1dmVnYXJkZSBkJ2FjdGl2aXTDqVxyXG4gICAgICBleHBlY3QobW9ja1NhdmVBY3Rpdml0eSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xyXG4gICAgICAgIHRpdGxlOiBcIkNvbnZlcnNhdGlvbnNcIixcclxuICAgICAgICBsZXZlbDogXCJBMVwiLFxyXG4gICAgICAgIHR5cGU6IFwiY29udmVyc2F0aW9uc1wiLFxyXG4gICAgICAgIG1ldGFkYXRhOiB7XHJcbiAgICAgICAgICBzY2VuYXJpbzogMCxcclxuICAgICAgICAgIHN0ZXA6IDEsXHJcbiAgICAgICAgICB0b3RhbFN0ZXBzOiA1LFxyXG4gICAgICAgICAgc2NlbmFyaW9OYW1lOiAnU2PDqW5hcmlvIFRlc3QnLFxyXG4gICAgICAgICAgdG90YWxTY2VuYXJpb3M6IDJcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8g4pyFIFRlc3QgaW50ZXJhY3Rpb24gLSBOYXZpZ2F0aW9uIHJldG91clxyXG4gICAgICBjb25zdCBiYWNrQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKCdoZWFkZXItYmFjay1idXR0b24nKTtcclxuICAgICAgZmlyZUV2ZW50LnByZXNzKGJhY2tCdXR0b24pO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJvdXRlci5wdXNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XHJcbiAgICAgICAgcGF0aG5hbWU6IFwiL3RhYnMvZXhlcmNpc2VTZWxlY3Rpb25cIixcclxuICAgICAgICBwYXJhbXM6IHsgbGV2ZWw6ICdBMScgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIOKchSBUZXN0IGludGVyYWN0aW9uIC0gQ2hhbmdlbWVudCBkZSBzY8OpbmFyaW9cclxuICAgICAgY29uc3Qgc2NlbmFyaW9CdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NjZW5hcmlvLXNlbGVjdG9yLTEnKTtcclxuICAgICAgZmlyZUV2ZW50LnByZXNzKHNjZW5hcmlvQnV0dG9uKTtcclxuICAgICAgZXhwZWN0KG1vY2tDaGFuZ2VTY2VuYXJpbykudG9IYXZlQmVlbkNhbGxlZFdpdGgoMSk7XHJcblxyXG4gICAgICAvLyDinIUgVGVzdCBpbnRlcmFjdGlvbiAtIFRvZ2dsZSBwcm9ncmVzcyBkw6l0YWlsbMOpXHJcbiAgICAgIGNvbnN0IHByb2dyZXNzQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKCdwcm9ncmVzcy10b2dnbGUnKTtcclxuICAgICAgZmlyZUV2ZW50LnByZXNzKHByb2dyZXNzQnV0dG9uKTtcclxuICAgICAgZXhwZWN0KG1vY2tUb2dnbGVEZXRhaWxlZFByb2dyZXNzKS50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcblxyXG4gICAgICAvLyDinIUgVGVzdCBpbnRlcmFjdGlvbiAtIFRvZ2dsZSBhaWRlXHJcbiAgICAgIGNvbnN0IGhlbHBCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ2hlbHAtdG9nZ2xlJyk7XHJcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhoZWxwQnV0dG9uKTtcclxuICAgICAgZXhwZWN0KG1vY2tUb2dnbGVIZWxwKS50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcblxyXG4gICAgICAvLyDinIUgVGVzdCBpbnRlcmFjdGlvbiAtIFV0aWxpc2F0aW9uIHN1Z2dlc3Rpb25cclxuICAgICAgY29uc3Qgc3VnZ2VzdGlvbkJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnc3VnZ2VzdGlvbi0wJyk7XHJcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhzdWdnZXN0aW9uQnV0dG9uKTtcclxuICAgICAgZXhwZWN0KG1vY2tVc2VTdWdnZXN0aW9uKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnQm9uam91cicpO1xyXG5cclxuICAgICAgLy8g4pyFIFRlc3QgaW50ZXJhY3Rpb24gLSBFbnZvaSBtZXNzYWdlXHJcbiAgICAgIGNvbnN0IHNlbmRCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NlbmQtbWVzc2FnZS1idXR0b24nKTtcclxuICAgICAgZmlyZUV2ZW50LnByZXNzKHNlbmRCdXR0b24pO1xyXG4gICAgICBleHBlY3QobW9ja1NlbmRNZXNzYWdlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgLy8g8J+agCBURVNUIENPTVBMRVQgIzIgLSBHZXN0aW9uIGRlcyDDqXRhdHMgZXQgY2FzIGxpbWl0ZXNcclxuICBkZXNjcmliZSgnU3RhdGVzIGFuZCBFZGdlIENhc2VzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgYWxsIHN0YXRlcyBhbmQgZWRnZSBjYXNlcyBjb3JyZWN0bHknLCAoKSA9PiB7XHJcbiAgICAgIC8vIFRlc3QgMTogw4l0YXQgZGUgY2hhcmdlbWVudFxyXG4gICAgICBzZXR1cE1vY2tzKHtcclxuICAgICAgICB1c2VDb252ZXJzYXRpb246IHsgbG9hZGVkOiBmYWxzZSwgaGFzVmFsaWREYXRhOiBmYWxzZSB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgeyByZXJlbmRlciB9ID0gcmVuZGVyKDxDb252ZXJzYXRpb25FeGVyY2lzZSByb3V0ZT17eyBwYXJhbXM6IHsgbGV2ZWw6ICdBMScgfSB9fSAvPik7XHJcbiAgICAgIFxyXG4gICAgICAvLyBWw6lyaWZpY2F0aW9uIGRlIGwnw6l0YXQgbG9hZGluZ1xyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdsb2FkaW5nLWNvbnRhaW5lcicpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRlc3RJZCgnY29udmVyc2F0aW9uLWhlYWRlcicpKS50b0JlTnVsbCgpO1xyXG5cclxuICAgICAgLy8gVGVzdCAyOiBQYXJhbXMgbWFucXVhbnRzIChuaXZlYXUgcGFyIGTDqWZhdXQpXHJcbiAgICAgIHNldHVwTW9ja3MoKTsgLy8gUmVzZXQgYXV4IHZhbGV1cnMgcGFyIGTDqWZhdXRcclxuICAgICAgcmVyZW5kZXIoPENvbnZlcnNhdGlvbkV4ZXJjaXNlIHJvdXRlPXt7fX0gLz4pO1xyXG4gICAgICBcclxuICAgICAgLy8gRGV2cmFpdCB1dGlsaXNlciBBMSBwYXIgZMOpZmF1dFxyXG4gICAgICBleHBlY3QodXNlQ29udmVyc2F0aW9uKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcclxuICAgICAgICBtb2NrQ29udmVyc2F0aW9uRGF0YSwgXHJcbiAgICAgICAgJ0ExJ1xyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8gVGVzdCAzOiBSb3V0ZSB1bmRlZmluZWRcclxuICAgICAgcmVyZW5kZXIoPENvbnZlcnNhdGlvbkV4ZXJjaXNlIHJvdXRlPXt1bmRlZmluZWR9IC8+KTtcclxuICAgICAgZXhwZWN0KHVzZUNvbnZlcnNhdGlvbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXHJcbiAgICAgICAgbW9ja0NvbnZlcnNhdGlvbkRhdGEsIFxyXG4gICAgICAgICdBMSdcclxuICAgICAgKTtcclxuXHJcbiAgICAgIC8vIFRlc3QgNDogRG9ubsOpZXMgaW52YWxpZGVzXHJcbiAgICAgIHNldHVwTW9ja3Moe1xyXG4gICAgICAgIHVzZUNvbnZlcnNhdGlvbjogeyBcclxuICAgICAgICAgIGxvYWRlZDogdHJ1ZSwgXHJcbiAgICAgICAgICBoYXNWYWxpZERhdGE6IGZhbHNlLFxyXG4gICAgICAgICAgY3VycmVudFNjZW5hcmlvOiBudWxsXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIHJlcmVuZGVyKDxDb252ZXJzYXRpb25FeGVyY2lzZSByb3V0ZT17eyBwYXJhbXM6IHsgbGV2ZWw6ICdCMicgfSB9fSAvPik7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2xvYWRpbmctY29udGFpbmVyJykpLnRvQmVUcnV0aHkoKTtcclxuXHJcbiAgICAgIC8vIFRlc3QgNTogQ29udmVyc2F0aW9uIG5vbiBkw6ltYXJyw6llIChwYXMgZGUgc2F1dmVnYXJkZSlcclxuICAgICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbiAgICAgIHNldHVwTW9ja3Moe1xyXG4gICAgICAgIHVzZUNvbnZlcnNhdGlvbjogeyBcclxuICAgICAgICAgIGlzQ29udmVyc2F0aW9uU3RhcnRlZDogZmFsc2UgXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIHJlcmVuZGVyKDxDb252ZXJzYXRpb25FeGVyY2lzZSByb3V0ZT17eyBwYXJhbXM6IHsgbGV2ZWw6ICdBMScgfSB9fSAvPik7XHJcbiAgICAgIGV4cGVjdChtb2NrU2F2ZUFjdGl2aXR5KS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIPCfmoAgVEVTVCBDT01QTEVUICMzIC0gUGVyZm9ybWFuY2UgZXQgb3B0aW1pc2F0aW9uc1xyXG4gIGRlc2NyaWJlKCdQZXJmb3JtYW5jZSBPcHRpbWl6YXRpb25zJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBtYWludGFpbiBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb25zJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCByb3V0ZSA9IHsgcGFyYW1zOiB7IGxldmVsOiAnQTEnIH0gfTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHsgcmVyZW5kZXIgfSA9IHJlbmRlcig8Q29udmVyc2F0aW9uRXhlcmNpc2Ugcm91dGU9e3JvdXRlfSAvPik7XHJcbiAgICAgIFxyXG4gICAgICAvLyBWw6lyaWZpY2F0aW9uIHF1ZSBsZXMgY2FsbGJhY2tzIG5lIGNoYW5nZW50IHBhcyBsb3JzIGRlcyByZS1yZW5kZXJzXHJcbiAgICAgIGNvbnN0IGluaXRpYWxDYWxsYmFja3MgPSB7XHJcbiAgICAgICAgY2hhbmdlU2NlbmFyaW86IG1vY2tDaGFuZ2VTY2VuYXJpbyxcclxuICAgICAgICBzZW5kTWVzc2FnZTogbW9ja1NlbmRNZXNzYWdlLFxyXG4gICAgICAgIHVzZVN1Z2dlc3Rpb246IG1vY2tVc2VTdWdnZXN0aW9uLFxyXG4gICAgICAgIHRvZ2dsZUhlbHA6IG1vY2tUb2dnbGVIZWxwXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBSZS1yZW5kZXIgYXZlYyBsZXMgbcOqbWVzIHByb3BzXHJcbiAgICAgIHJlcmVuZGVyKDxDb252ZXJzYXRpb25FeGVyY2lzZSByb3V0ZT17cm91dGV9IC8+KTtcclxuXHJcbiAgICAgIC8vIExlcyBjYWxsYmFja3MgZG9pdmVudCByZXN0ZXIgc3RhYmxlc1xyXG4gICAgICBleHBlY3QobW9ja0NoYW5nZVNjZW5hcmlvKS50b0JlKGluaXRpYWxDYWxsYmFja3MuY2hhbmdlU2NlbmFyaW8pO1xyXG4gICAgICBleHBlY3QobW9ja1NlbmRNZXNzYWdlKS50b0JlKGluaXRpYWxDYWxsYmFja3Muc2VuZE1lc3NhZ2UpO1xyXG4gICAgICBcclxuICAgICAgLy8gVGVzdCBjaGFuZ2VtZW50IGRlIG5pdmVhdVxyXG4gICAgICByZXJlbmRlcig8Q29udmVyc2F0aW9uRXhlcmNpc2Ugcm91dGU9e3sgcGFyYW1zOiB7IGxldmVsOiAnQjEnIH0gfX0gLz4pO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KGdldENvbnZlcnNhdGlvbkRhdGEpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdCMScpO1xyXG4gICAgICBleHBlY3QoZ2V0TGV2ZWxDb2xvcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ0IxJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgLy8g8J+agCBURVNUIENPTVBMRVQgIzQgLSBJbnTDqWdyYXRpb24gaG9va3MgY3JpdGlxdWVzXHJcbiAgZGVzY3JpYmUoJ0hvb2tzIEludGVncmF0aW9uJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBpbnRlZ3JhdGUgY29ycmVjdGx5IHdpdGggY3VzdG9tIGhvb2tzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByb3V0ZSA9IHsgcGFyYW1zOiB7IGxldmVsOiAnQzEnIH0gfTtcclxuICAgICAgXHJcbiAgICAgIHJlbmRlcig8Q29udmVyc2F0aW9uRXhlcmNpc2Ugcm91dGU9e3JvdXRlfSAvPik7XHJcblxyXG4gICAgICAvLyDinIUgVsOpcmlmaWNhdGlvbiBhcHBlbCB1c2VDb252ZXJzYXRpb24gYXZlYyBib25uZXMgZG9ubsOpZXNcclxuICAgICAgZXhwZWN0KHVzZUNvbnZlcnNhdGlvbikudG9IYXZlQmVlbkNhbGxlZFdpdGgobW9ja0NvbnZlcnNhdGlvbkRhdGEsICdDMScpO1xyXG4gICAgICBcclxuICAgICAgLy8g4pyFIFbDqXJpZmljYXRpb24gYXBwZWwgdXNlTGFzdEFjdGl2aXR5XHJcbiAgICAgIGV4cGVjdCh1c2VMYXN0QWN0aXZpdHkpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuXHJcbiAgICAgIC8vIOKchSBWw6lyaWZpY2F0aW9uIHV0aWxzIGFwcGVsw6lzIGF2ZWMgYm9uIG5pdmVhdVxyXG4gICAgICBleHBlY3QoZ2V0Q29udmVyc2F0aW9uRGF0YSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ0MxJyk7XHJcbiAgICAgIGV4cGVjdChnZXRMZXZlbENvbG9yKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnQzEnKTtcclxuXHJcbiAgICAgIC8vIOKchSBUZXN0IHNhdXZlZ2FyZGUgYWN0aXZpdHkgYXZlYyBtw6l0YWRvbm7DqWVzIGNvbXBsw6h0ZXNcclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KG1vY2tTYXZlQWN0aXZpdHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcclxuICAgICAgICAgIHRpdGxlOiBcIkNvbnZlcnNhdGlvbnNcIixcclxuICAgICAgICAgIGxldmVsOiBcIkMxXCIsXHJcbiAgICAgICAgICB0eXBlOiBcImNvbnZlcnNhdGlvbnNcIixcclxuICAgICAgICAgIG1ldGFkYXRhOiB7XHJcbiAgICAgICAgICAgIHNjZW5hcmlvOiAwLFxyXG4gICAgICAgICAgICBzdGVwOiAxLFxyXG4gICAgICAgICAgICB0b3RhbFN0ZXBzOiA1LFxyXG4gICAgICAgICAgICBzY2VuYXJpb05hbWU6ICdTY8OpbmFyaW8gVGVzdCcsXHJcbiAgICAgICAgICAgIHRvdGFsU2NlbmFyaW9zOiAyXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiJBQU9BQSxXQUFBLEdBQUtDLElBQUksQ0FBQyxhQUFhLEVBQUU7RUFBQSxPQUFPO0lBQzlCQyxNQUFNLEVBQUU7TUFDTkMsSUFBSSxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQztJQUNoQjtFQUNGLENBQUM7QUFBQSxDQUFDLENBQUM7QUFFSEwsV0FBQSxHQUFLQyxJQUFJLENBQUMsZ0NBQWdDLENBQUM7QUFDM0NELFdBQUEsR0FBS0MsSUFBSSxDQUFDLGdDQUFnQyxD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