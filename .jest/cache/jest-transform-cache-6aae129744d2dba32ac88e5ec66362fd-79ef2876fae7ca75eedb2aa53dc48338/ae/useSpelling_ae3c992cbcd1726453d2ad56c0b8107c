bd60e5aa84a455a653b55517ac793851
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = require("react");
var _reactNative = require("react-native");
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var useSpelling = function useSpelling(spellingData, level, exerciseType) {
  var handleStorageError = function handleStorageError(error, operation) {
    var fallback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
    console.warn(`Spelling storage error in ${operation}:`, error);
    return fallback;
  };
  var STORAGE_KEY = `spelling_${level}_${exerciseType}`;
  var _useState = (0, _react.useState)(0),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    currentExerciseIndex = _useState2[0],
    setCurrentExerciseIndex = _useState2[1];
  var _useState3 = (0, _react.useState)(''),
    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
    userInput = _useState4[0],
    setUserInput = _useState4[1];
  var _useState5 = (0, _react.useState)(false),
    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),
    showHint = _useState6[0],
    setShowHint = _useState6[1];
  var _useState7 = (0, _react.useState)(false),
    _useState8 = (0, _slicedToArray2.default)(_useState7, 2),
    showFeedback = _useState8[0],
    setShowFeedback = _useState8[1];
  var _useState9 = (0, _react.useState)(false),
    _useState0 = (0, _slicedToArray2.default)(_useState9, 2),
    isCorrect = _useState0[0],
    setIsCorrect = _useState0[1];
  var _useState1 = (0, _react.useState)(false),
    _useState10 = (0, _slicedToArray2.default)(_useState1, 2),
    loaded = _useState10[0],
    setLoaded = _useState10[1];
  var _useState11 = (0, _react.useState)([]),
    _useState12 = (0, _slicedToArray2.default)(_useState11, 2),
    completedExercises = _useState12[0],
    setCompletedExercises = _useState12[1];
  var _useState13 = (0, _react.useState)([]),
    _useState14 = (0, _slicedToArray2.default)(_useState13, 2),
    userAnswers = _useState14[0],
    setUserAnswers = _useState14[1];
  var isInitialized = (0, _react.useRef)(false);
  var exercises = (spellingData == null ? void 0 : spellingData.exercises) || [];
  var totalExercises = exercises.length;
  var currentExercise = exercises[currentExerciseIndex];
  var hasValidData = exercises.length > 0;
  var loadStoredData = (0, _react.useCallback)((0, _asyncToGenerator2.default)(function* () {
    try {
      var saved = yield _asyncStorage.default.getItem(STORAGE_KEY);
      if (saved) {
        var _data$lastPosition;
        var data = JSON.parse(saved);
        setCompletedExercises(data.completedExercises || []);
        setUserAnswers(data.userAnswers || []);
        if (((_data$lastPosition = data.lastPosition) == null ? void 0 : _data$lastPosition.exerciseIndex) !== undefined && data.lastPosition.exerciseIndex >= 0 && data.lastPosition.exerciseIndex < totalExercises) {
          setCurrentExerciseIndex(data.lastPosition.exerciseIndex);
        }
      }
    } catch (error) {
      handleStorageError(error, 'loadStoredData');
    } finally {
      setLoaded(true);
    }
  }), [STORAGE_KEY, totalExercises]);
  (0, _react.useEffect)(function () {
    if (!isInitialized.current) {
      loadStoredData();
      isInitialized.current = true;
    }
  }, [loadStoredData]);
  var saveToStorage = (0, _react.useCallback)(function () {
    var _ref2 = (0, _asyncToGenerator2.default)(function* (dataToSave) {
      try {
        yield _asyncStorage.default.setItem(STORAGE_KEY, JSON.stringify(dataToSave));
      } catch (error) {
        handleStorageError(error, 'saveToStorage');
      }
    });
    return function (_x) {
      return _ref2.apply(this, arguments);
    };
  }(), [STORAGE_KEY]);
  var resetExerciseState = (0, _react.useCallback)(function () {
    setUserInput('');
    setShowHint(false);
    setShowFeedback(false);
    setIsCorrect(false);
  }, []);
  var toggleHint = (0, _react.useCallback)(function () {
    setShowHint(function (prev) {
      return !prev;
    });
  }, []);
  var checkAnswer = (0, _react.useCallback)(function () {
    if (!(currentExercise != null && currentExercise.correctAnswer)) {
      _reactNative.Alert.alert('Erreur', 'Réponse correcte non définie');
      return false;
    }
    try {
      var correct = false;
      switch (currentExercise.type) {
        case 'homophones':
          correct = userInput === currentExercise.correctAnswer;
          break;
        case 'correction':
        case 'spelling_rule':
        default:
          {
            var userAnswer = String(userInput).trim().toLowerCase();
            var correctAnswer = String(currentExercise.correctAnswer).trim().toLowerCase();
            correct = userAnswer === correctAnswer;
            break;
          }
      }
      setIsCorrect(correct);
      setShowFeedback(true);
      return correct;
    } catch (error) {
      console.warn('Error checking spelling answer:', error);
      setIsCorrect(false);
      setShowFeedback(true);
      return false;
    }
  }, [userInput, currentExercise]);
  var handleNext = (0, _react.useCallback)(function () {
    var newCompleted = completedExercises.includes(currentExerciseIndex) ? completedExercises : [].concat((0, _toConsumableArray2.default)(completedExercises), [currentExerciseIndex]);
    var newAnswer = {
      exerciseIndex: currentExerciseIndex,
      isCorrect: isCorrect,
      userAnswer: userInput,
      correctAnswer: (currentExercise == null ? void 0 : currentExercise.correctAnswer) || '',
      exerciseType: (currentExercise == null ? void 0 : currentExercise.type) || 'correction',
      timestamp: Date.now()
    };
    var newAnswers = [].concat((0, _toConsumableArray2.default)(userAnswers), [newAnswer]);
    var dataToSave = {
      completedExercises: newCompleted,
      userAnswers: newAnswers,
      lastPosition: {
        exerciseIndex: currentExerciseIndex < totalExercises - 1 ? currentExerciseIndex + 1 : currentExerciseIndex,
        exerciseType: exerciseType,
        timestamp: Date.now()
      }
    };
    saveToStorage(dataToSave);
    setCompletedExercises(newCompleted);
    setUserAnswers(newAnswers);
    if (currentExerciseIndex < totalExercises - 1) {
      setCurrentExerciseIndex(function (prev) {
        return prev + 1;
      });
      resetExerciseState();
    } else {
      _reactNative.Alert.alert("Félicitations", `Vous avez terminé tous les exercices d'orthographe ${exerciseType} du niveau ${level} !`);
      return {
        completed: true
      };
    }
    return {
      completed: false
    };
  }, [currentExerciseIndex, totalExercises, isCorrect, userInput, currentExercise, completedExercises, userAnswers, saveToStorage, resetExerciseState, exerciseType, level]);
  var retryExercise = (0, _react.useCallback)(function () {
    resetExerciseState();
  }, [resetExerciseState]);
  var stats = {
    totalExercises: totalExercises,
    completedExercisesCount: completedExercises.length,
    totalProgress: totalExercises > 0 ? Math.round(completedExercises.length / totalExercises * 100) : 0,
    remainingExercises: totalExercises - completedExercises.length,
    performance: {
      total: userAnswers.length,
      correct: userAnswers.filter(function (answer) {
        return answer.isCorrect;
      }).length,
      incorrect: userAnswers.filter(function (answer) {
        return !answer.isCorrect;
      }).length,
      accuracy: userAnswers.length > 0 ? Math.round(userAnswers.filter(function (answer) {
        return answer.isCorrect;
      }).length / userAnswers.length * 100) : 0
    },
    completedExercises: completedExercises,
    userAnswers: userAnswers
  };
  var isLastExercise = currentExerciseIndex === totalExercises - 1;
  return {
    currentExerciseIndex: currentExerciseIndex,
    userInput: userInput,
    showHint: showHint,
    showFeedback: showFeedback,
    isCorrect: isCorrect,
    completedExercises: completedExercises,
    userAnswers: userAnswers,
    loaded: loaded,
    currentExercise: currentExercise,
    totalExercises: totalExercises,
    exercises: exercises,
    setUserInput: setUserInput,
    toggleHint: toggleHint,
    checkAnswer: checkAnswer,
    handleNext: handleNext,
    retryExercise: retryExercise,
    resetExerciseState: resetExerciseState,
    isLastExercise: isLastExercise,
    hasValidData: hasValidData,
    stats: stats
  };
};
var _default = exports.default = useSpelling;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX3JlYWN0TmF0aXZlIiwiX2FzeW5jU3RvcmFnZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJ1c2VTcGVsbGluZyIsInNwZWxsaW5nRGF0YSIsImxldmVsIiwiZXhlcmNpc2VUeXBlIiwiaGFuZGxlU3RvcmFnZUVycm9yIiwiZXJyb3IiLCJvcGVyYXRpb24iLCJmYWxsYmFjayIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImNvbnNvbGUiLCJ3YXJuIiwiU1RPUkFHRV9LRVkiLCJfdXNlU3RhdGUiLCJ1c2VTdGF0ZSIsIl91c2VTdGF0ZTIiLCJfc2xpY2VkVG9BcnJheTIiLCJkZWZhdWx0IiwiY3VycmVudEV4ZXJjaXNlSW5kZXgiLCJzZXRDdXJyZW50RXhlcmNpc2VJbmRleCIsIl91c2VTdGF0ZTMiLCJfdXNlU3RhdGU0IiwidXNlcklucHV0Iiwic2V0VXNlcklucHV0IiwiX3VzZVN0YXRlNSIsIl91c2VTdGF0ZTYiLCJzaG93SGludCIsInNldFNob3dIaW50IiwiX3VzZVN0YXRlNyIsIl91c2VTdGF0ZTgiLCJzaG93RmVlZGJhY2siLCJzZXRTaG93RmVlZGJhY2siLCJfdXNlU3RhdGU5IiwiX3VzZVN0YXRlMCIsImlzQ29ycmVjdCIsInNldElzQ29ycmVjdCIsIl91c2VTdGF0ZTEiLCJfdXNlU3RhdGUxMCIsImxvYWRlZCIsInNldExvYWRlZCIsIl91c2VTdGF0ZTExIiwiX3VzZVN0YXRlMTIiLCJjb21wbGV0ZWRFeGVyY2lzZXMiLCJzZXRDb21wbGV0ZWRFeGVyY2lzZXMiLCJfdXNlU3RhdGUxMyIsIl91c2VTdGF0ZTE0IiwidXNlckFuc3dlcnMiLCJzZXRVc2VyQW5zd2VycyIsImlzSW5pdGlhbGl6ZWQiLCJ1c2VSZWYiLCJleGVyY2lzZXMiLCJ0b3RhbEV4ZXJjaXNlcyIsImN1cnJlbnRFeGVyY2lzZSIsImhhc1ZhbGlkRGF0YSIsImxvYWRTdG9yZWREYXRhIiwidXNlQ2FsbGJhY2siLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJzYXZlZCIsIkFzeW5jU3RvcmFnZSIsImdldEl0ZW0iLCJfZGF0YSRsYXN0UG9zaXRpb24iLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwibGFzdFBvc2l0aW9uIiwiZXhlcmNpc2VJbmRleCIsInVzZUVmZmVjdCIsImN1cnJlbnQiLCJzYXZlVG9TdG9yYWdlIiwiX3JlZjIiLCJkYXRhVG9TYXZlIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsIl94IiwiYXBwbHkiLCJyZXNldEV4ZXJjaXNlU3RhdGUiLCJ0b2dnbGVIaW50IiwicHJldiIsImNoZWNrQW5zd2VyIiwiY29ycmVjdEFuc3dlciIsIkFsZXJ0IiwiYWxlcnQiLCJjb3JyZWN0IiwidHlwZSIsInVzZXJBbnN3ZXIiLCJTdHJpbmciLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJoYW5kbGVOZXh0IiwibmV3Q29tcGxldGVkIiwiaW5jbHVkZXMiLCJjb25jYXQiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwibmV3QW5zd2VyIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsIm5ld0Fuc3dlcnMiLCJjb21wbGV0ZWQiLCJyZXRyeUV4ZXJjaXNlIiwic3RhdHMiLCJjb21wbGV0ZWRFeGVyY2lzZXNDb3VudCIsInRvdGFsUHJvZ3Jlc3MiLCJNYXRoIiwicm91bmQiLCJyZW1haW5pbmdFeGVyY2lzZXMiLCJwZXJmb3JtYW5jZSIsInRvdGFsIiwiZmlsdGVyIiwiYW5zd2VyIiwiaW5jb3JyZWN0IiwiYWNjdXJhY3kiLCJpc0xhc3RFeGVyY2lzZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbInVzZVNwZWxsaW5nLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9zY3JlZW5zL2V4ZXJjaXNlcy9zcGVsbGluZy9ob29rcy91c2VTcGVsbGluZy5qcyAtIFZFUlNJT04gQ09SUklHw4lFXHJcblxyXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBBbGVydCB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XHJcbmltcG9ydCBBc3luY1N0b3JhZ2UgZnJvbSAnQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlL2FzeW5jLXN0b3JhZ2UnO1xyXG5cclxuY29uc3QgdXNlU3BlbGxpbmcgPSAoc3BlbGxpbmdEYXRhLCBsZXZlbCwgZXhlcmNpc2VUeXBlKSA9PiB7XHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PSBFUlJPUiBIQU5ETElORyBIRUxQRVIgPT09PT09PT09PT09PT09PT09PVxyXG4gIGNvbnN0IGhhbmRsZVN0b3JhZ2VFcnJvciA9IChlcnJvciwgb3BlcmF0aW9uLCBmYWxsYmFjayA9IG51bGwpID0+IHtcclxuICAgIGNvbnNvbGUud2FybihgU3BlbGxpbmcgc3RvcmFnZSBlcnJvciBpbiAke29wZXJhdGlvbn06YCwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGZhbGxiYWNrO1xyXG4gIH07XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT0gU1RPUkFHRSBLRVkgPT09PT09PT09PT09PT09PT09PVxyXG4gIGNvbnN0IFNUT1JBR0VfS0VZID0gYHNwZWxsaW5nXyR7bGV2ZWx9XyR7ZXhlcmNpc2VUeXBlfWA7XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT0gU1RBVEUgPT09PT09PT09PT09PT09PT09PVxyXG4gIGNvbnN0IFtjdXJyZW50RXhlcmNpc2VJbmRleCwgc2V0Q3VycmVudEV4ZXJjaXNlSW5kZXhdID0gdXNlU3RhdGUoMCk7XHJcbiAgY29uc3QgW3VzZXJJbnB1dCwgc2V0VXNlcklucHV0XSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbc2hvd0hpbnQsIHNldFNob3dIaW50XSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbc2hvd0ZlZWRiYWNrLCBzZXRTaG93RmVlZGJhY2tdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtpc0NvcnJlY3QsIHNldElzQ29ycmVjdF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2xvYWRlZCwgc2V0TG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbY29tcGxldGVkRXhlcmNpc2VzLCBzZXRDb21wbGV0ZWRFeGVyY2lzZXNdID0gdXNlU3RhdGUoW10pO1xyXG4gIGNvbnN0IFt1c2VyQW5zd2Vycywgc2V0VXNlckFuc3dlcnNdID0gdXNlU3RhdGUoW10pO1xyXG5cclxuICBjb25zdCBpc0luaXRpYWxpemVkID0gdXNlUmVmKGZhbHNlKTtcclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PSBDT01QVVRFRCBWQUxVRVMgPT09PT09PT09PT09PT09PT09PVxyXG4gIGNvbnN0IGV4ZXJjaXNlcyA9IHNwZWxsaW5nRGF0YT8uZXhlcmNpc2VzIHx8IFtdO1xyXG4gIGNvbnN0IHRvdGFsRXhlcmNpc2VzID0gZXhlcmNpc2VzLmxlbmd0aDtcclxuICBjb25zdCBjdXJyZW50RXhlcmNpc2UgPSBleGVyY2lzZXNbY3VycmVudEV4ZXJjaXNlSW5kZXhdO1xyXG4gIGNvbnN0IGhhc1ZhbGlkRGF0YSA9IGV4ZXJjaXNlcy5sZW5ndGggPiAwO1xyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09IERBVEEgTE9BRElORyA9PT09PT09PT09PT09PT09PT09XHJcbiAgY29uc3QgbG9hZFN0b3JlZERhdGEgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IEFzeW5jU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZKTtcclxuICAgICAgaWYgKHNhdmVkKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2Uoc2F2ZWQpO1xyXG4gICAgICAgIHNldENvbXBsZXRlZEV4ZXJjaXNlcyhkYXRhLmNvbXBsZXRlZEV4ZXJjaXNlcyB8fCBbXSk7XHJcbiAgICAgICAgc2V0VXNlckFuc3dlcnMoZGF0YS51c2VyQW5zd2VycyB8fCBbXSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGRhdGEubGFzdFBvc2l0aW9uPy5leGVyY2lzZUluZGV4ICE9PSB1bmRlZmluZWQgJiYgXHJcbiAgICAgICAgICAgIGRhdGEubGFzdFBvc2l0aW9uLmV4ZXJjaXNlSW5kZXggPj0gMCAmJiBcclxuICAgICAgICAgICAgZGF0YS5sYXN0UG9zaXRpb24uZXhlcmNpc2VJbmRleCA8IHRvdGFsRXhlcmNpc2VzKSB7XHJcbiAgICAgICAgICBzZXRDdXJyZW50RXhlcmNpc2VJbmRleChkYXRhLmxhc3RQb3NpdGlvbi5leGVyY2lzZUluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIC8vIOKchSBHZXN0aW9uIGQnZXJyZXVyIGFwcHJvcHJpw6llXHJcbiAgICAgIGhhbmRsZVN0b3JhZ2VFcnJvcihlcnJvciwgJ2xvYWRTdG9yZWREYXRhJyk7XHJcbiAgICAgIC8vIEZhbGxiYWNrOiB1dGlsaXNlciBsZXMgdmFsZXVycyBwYXIgZMOpZmF1dFxyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0TG9hZGVkKHRydWUpO1xyXG4gICAgfVxyXG4gIH0sIFtTVE9SQUdFX0tFWSwgdG90YWxFeGVyY2lzZXNdKTtcclxuXHJcbiAgLy8g4pyFIEVGRkVUIFNJTVBMSUZJw4kgLSB1bmUgc2V1bGUgZm9pc1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWlzSW5pdGlhbGl6ZWQuY3VycmVudCkge1xyXG4gICAgICBsb2FkU3RvcmVkRGF0YSgpO1xyXG4gICAgICBpc0luaXRpYWxpemVkLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH0sIFtsb2FkU3RvcmVkRGF0YV0pO1xyXG5cclxuICAvLyDinIUgU0FWRSBGT05DVElPTiBTVEFCTEVcclxuICBjb25zdCBzYXZlVG9TdG9yYWdlID0gdXNlQ2FsbGJhY2soYXN5bmMgKGRhdGFUb1NhdmUpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IEFzeW5jU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZLCBKU09OLnN0cmluZ2lmeShkYXRhVG9TYXZlKSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAvLyDinIUgR2VzdGlvbiBkJ2VycmV1ciBhcHByb3ByacOpZVxyXG4gICAgICBoYW5kbGVTdG9yYWdlRXJyb3IoZXJyb3IsICdzYXZlVG9TdG9yYWdlJyk7XHJcbiAgICAgIC8vIEZhbGxiYWNrOiBjb250aW51ZXIgc2FucyBzYXV2ZWdhcmRlXHJcbiAgICB9XHJcbiAgfSwgW1NUT1JBR0VfS0VZXSk7XHJcblxyXG4gIGNvbnN0IHJlc2V0RXhlcmNpc2VTdGF0ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIHNldFVzZXJJbnB1dCgnJyk7XHJcbiAgICBzZXRTaG93SGludChmYWxzZSk7XHJcbiAgICBzZXRTaG93RmVlZGJhY2soZmFsc2UpO1xyXG4gICAgc2V0SXNDb3JyZWN0KGZhbHNlKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IHRvZ2dsZUhpbnQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBzZXRTaG93SGludChwcmV2ID0+ICFwcmV2KTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IGNoZWNrQW5zd2VyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgaWYgKCFjdXJyZW50RXhlcmNpc2U/LmNvcnJlY3RBbnN3ZXIpIHtcclxuICAgICAgQWxlcnQuYWxlcnQoJ0VycmV1cicsICdSw6lwb25zZSBjb3JyZWN0ZSBub24gZMOpZmluaWUnKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCBjb3JyZWN0ID0gZmFsc2U7XHJcblxyXG4gICAgICBzd2l0Y2ggKGN1cnJlbnRFeGVyY2lzZS50eXBlKSB7XHJcbiAgICAgICAgY2FzZSAnaG9tb3Bob25lcyc6XHJcbiAgICAgICAgICBjb3JyZWN0ID0gdXNlcklucHV0ID09PSBjdXJyZW50RXhlcmNpc2UuY29ycmVjdEFuc3dlcjtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ2NvcnJlY3Rpb24nOlxyXG4gICAgICAgIGNhc2UgJ3NwZWxsaW5nX3J1bGUnOlxyXG4gICAgICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICAgIGNvbnN0IHVzZXJBbnN3ZXIgPSBTdHJpbmcodXNlcklucHV0KS50cmltKCkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgIGNvbnN0IGNvcnJlY3RBbnN3ZXIgPSBTdHJpbmcoY3VycmVudEV4ZXJjaXNlLmNvcnJlY3RBbnN3ZXIpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgY29ycmVjdCA9IHVzZXJBbnN3ZXIgPT09IGNvcnJlY3RBbnN3ZXI7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNldElzQ29ycmVjdChjb3JyZWN0KTtcclxuICAgICAgc2V0U2hvd0ZlZWRiYWNrKHRydWUpO1xyXG4gICAgICByZXR1cm4gY29ycmVjdDtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAvLyDinIUgR2VzdGlvbiBkJ2VycmV1ciBhcHByb3ByacOpZVxyXG4gICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIGNoZWNraW5nIHNwZWxsaW5nIGFuc3dlcjonLCBlcnJvcik7XHJcbiAgICAgIHNldElzQ29ycmVjdChmYWxzZSk7XHJcbiAgICAgIHNldFNob3dGZWVkYmFjayh0cnVlKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH0sIFt1c2VySW5wdXQsIGN1cnJlbnRFeGVyY2lzZV0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVOZXh0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgLy8gTWFycXVlciBjb21tZSBjb21wbMOpdMOpXHJcbiAgICBjb25zdCBuZXdDb21wbGV0ZWQgPSBjb21wbGV0ZWRFeGVyY2lzZXMuaW5jbHVkZXMoY3VycmVudEV4ZXJjaXNlSW5kZXgpIFxyXG4gICAgICA/IGNvbXBsZXRlZEV4ZXJjaXNlcyBcclxuICAgICAgOiBbLi4uY29tcGxldGVkRXhlcmNpc2VzLCBjdXJyZW50RXhlcmNpc2VJbmRleF07XHJcblxyXG4gICAgY29uc3QgbmV3QW5zd2VyID0ge1xyXG4gICAgICBleGVyY2lzZUluZGV4OiBjdXJyZW50RXhlcmNpc2VJbmRleCxcclxuICAgICAgaXNDb3JyZWN0LFxyXG4gICAgICB1c2VyQW5zd2VyOiB1c2VySW5wdXQsXHJcbiAgICAgIGNvcnJlY3RBbnN3ZXI6IGN1cnJlbnRFeGVyY2lzZT8uY29ycmVjdEFuc3dlciB8fCAnJyxcclxuICAgICAgZXhlcmNpc2VUeXBlOiBjdXJyZW50RXhlcmNpc2U/LnR5cGUgfHwgJ2NvcnJlY3Rpb24nLFxyXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgbmV3QW5zd2VycyA9IFsuLi51c2VyQW5zd2VycywgbmV3QW5zd2VyXTtcclxuXHJcbiAgICAvLyBTYXV2ZWdhcmRlciBpbW3DqWRpYXRlbWVudFxyXG4gICAgY29uc3QgZGF0YVRvU2F2ZSA9IHtcclxuICAgICAgY29tcGxldGVkRXhlcmNpc2VzOiBuZXdDb21wbGV0ZWQsXHJcbiAgICAgIHVzZXJBbnN3ZXJzOiBuZXdBbnN3ZXJzLFxyXG4gICAgICBsYXN0UG9zaXRpb246IHtcclxuICAgICAgICBleGVyY2lzZUluZGV4OiBjdXJyZW50RXhlcmNpc2VJbmRleCA8IHRvdGFsRXhlcmNpc2VzIC0gMSA/IGN1cnJlbnRFeGVyY2lzZUluZGV4ICsgMSA6IGN1cnJlbnRFeGVyY2lzZUluZGV4LFxyXG4gICAgICAgIGV4ZXJjaXNlVHlwZSxcclxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBzYXZlVG9TdG9yYWdlKGRhdGFUb1NhdmUpO1xyXG5cclxuICAgIC8vIE1ldHRyZSDDoCBqb3VyIGxlcyBzdGF0ZXNcclxuICAgIHNldENvbXBsZXRlZEV4ZXJjaXNlcyhuZXdDb21wbGV0ZWQpO1xyXG4gICAgc2V0VXNlckFuc3dlcnMobmV3QW5zd2Vycyk7XHJcblxyXG4gICAgaWYgKGN1cnJlbnRFeGVyY2lzZUluZGV4IDwgdG90YWxFeGVyY2lzZXMgLSAxKSB7XHJcbiAgICAgIHNldEN1cnJlbnRFeGVyY2lzZUluZGV4KHByZXYgPT4gcHJldiArIDEpO1xyXG4gICAgICByZXNldEV4ZXJjaXNlU3RhdGUoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIEFsZXJ0LmFsZXJ0KFxyXG4gICAgICAgIFwiRsOpbGljaXRhdGlvbnNcIiwgXHJcbiAgICAgICAgYFZvdXMgYXZleiB0ZXJtaW7DqSB0b3VzIGxlcyBleGVyY2ljZXMgZCdvcnRob2dyYXBoZSAke2V4ZXJjaXNlVHlwZX0gZHUgbml2ZWF1ICR7bGV2ZWx9ICFgXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybiB7IGNvbXBsZXRlZDogdHJ1ZSB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4geyBjb21wbGV0ZWQ6IGZhbHNlIH07XHJcbiAgfSwgW1xyXG4gICAgY3VycmVudEV4ZXJjaXNlSW5kZXgsIFxyXG4gICAgdG90YWxFeGVyY2lzZXMsIFxyXG4gICAgaXNDb3JyZWN0LCBcclxuICAgIHVzZXJJbnB1dCwgXHJcbiAgICBjdXJyZW50RXhlcmNpc2UsIFxyXG4gICAgY29tcGxldGVkRXhlcmNpc2VzLCBcclxuICAgIHVzZXJBbnN3ZXJzLCBcclxuICAgIHNhdmVUb1N0b3JhZ2UsIFxyXG4gICAgcmVzZXRFeGVyY2lzZVN0YXRlLCBcclxuICAgIGV4ZXJjaXNlVHlwZSwgXHJcbiAgICBsZXZlbFxyXG4gIF0pO1xyXG5cclxuICBjb25zdCByZXRyeUV4ZXJjaXNlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgcmVzZXRFeGVyY2lzZVN0YXRlKCk7XHJcbiAgfSwgW3Jlc2V0RXhlcmNpc2VTdGF0ZV0pO1xyXG5cclxuICBjb25zdCBzdGF0cyA9IHtcclxuICAgIHRvdGFsRXhlcmNpc2VzLFxyXG4gICAgY29tcGxldGVkRXhlcmNpc2VzQ291bnQ6IGNvbXBsZXRlZEV4ZXJjaXNlcy5sZW5ndGgsXHJcbiAgICB0b3RhbFByb2dyZXNzOiB0b3RhbEV4ZXJjaXNlcyA+IDAgPyBNYXRoLnJvdW5kKChjb21wbGV0ZWRFeGVyY2lzZXMubGVuZ3RoIC8gdG90YWxFeGVyY2lzZXMpICogMTAwKSA6IDAsXHJcbiAgICByZW1haW5pbmdFeGVyY2lzZXM6IHRvdGFsRXhlcmNpc2VzIC0gY29tcGxldGVkRXhlcmNpc2VzLmxlbmd0aCxcclxuICAgIHBlcmZvcm1hbmNlOiB7XHJcbiAgICAgIHRvdGFsOiB1c2VyQW5zd2Vycy5sZW5ndGgsXHJcbiAgICAgIGNvcnJlY3Q6IHVzZXJBbnN3ZXJzLmZpbHRlcihhbnN3ZXIgPT4gYW5zd2VyLmlzQ29ycmVjdCkubGVuZ3RoLFxyXG4gICAgICBpbmNvcnJlY3Q6IHVzZXJBbnN3ZXJzLmZpbHRlcihhbnN3ZXIgPT4gIWFuc3dlci5pc0NvcnJlY3QpLmxlbmd0aCxcclxuICAgICAgYWNjdXJhY3k6IHVzZXJBbnN3ZXJzLmxlbmd0aCA+IDAgPyBNYXRoLnJvdW5kKCh1c2VyQW5zd2Vycy5maWx0ZXIoYW5zd2VyID0+IGFuc3dlci5pc0NvcnJlY3QpLmxlbmd0aCAvIHVzZXJBbnN3ZXJzLmxlbmd0aCkgKiAxMDApIDogMFxyXG4gICAgfSxcclxuICAgIGNvbXBsZXRlZEV4ZXJjaXNlcyxcclxuICAgIHVzZXJBbnN3ZXJzXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaXNMYXN0RXhlcmNpc2UgPSBjdXJyZW50RXhlcmNpc2VJbmRleCA9PT0gdG90YWxFeGVyY2lzZXMgLSAxO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgY3VycmVudEV4ZXJjaXNlSW5kZXgsXHJcbiAgICB1c2VySW5wdXQsXHJcbiAgICBzaG93SGludCxcclxuICAgIHNob3dGZWVkYmFjayxcclxuICAgIGlzQ29ycmVjdCxcclxuICAgIGNvbXBsZXRlZEV4ZXJjaXNlcyxcclxuICAgIHVzZXJBbnN3ZXJzLFxyXG4gICAgbG9hZGVkLFxyXG4gICAgY3VycmVudEV4ZXJjaXNlLFxyXG4gICAgdG90YWxFeGVyY2lzZXMsXHJcbiAgICBleGVyY2lzZXMsXHJcbiAgICBzZXRVc2VySW5wdXQsXHJcbiAgICB0b2dnbGVIaW50LFxyXG4gICAgY2hlY2tBbnN3ZXIsXHJcbiAgICBoYW5kbGVOZXh0LFxyXG4gICAgcmV0cnlFeGVyY2lzZSxcclxuICAgIHJlc2V0RXhlcmNpc2VTdGF0ZSxcclxuICAgIGlzTGFzdEV4ZXJjaXNlLFxyXG4gICAgaGFzVmFsaWREYXRhLFxyXG4gICAgc3RhdHMsXHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHVzZVNwZWxsaW5nOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFQSxJQUFBQSxNQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxZQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxhQUFBLEdBQUFDLHNCQUFBLENBQUFILE9BQUE7QUFFQSxJQUFNSSxXQUFXLEdBQUcsU0FBZEEsV0FBV0EsQ0FBSUMsWUFBWSxFQUFFQyxLQUFLLEVBQUVDLFlBQVksRUFBSztFQUV6RCxJQUFNQyxrQkFBa0IsR0FBRyxTQUFyQkEsa0JBQWtCQSxDQUFJQyxLQUFLLEVBQUVDLFNBQVMsRUFBc0I7SUFBQSxJQUFwQkMsUUFBUSxHQUFBQyxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxJQUFJO0lBQzNERyxPQUFPLENBQUNDLElBQUksQ0FBQyw2QkFBNkJOLFNBQVMsR0FBRyxFQUFFRCxLQUFLLENBQUM7SUFDOUQsT0FBT0UsUUFBUTtFQUNqQixDQUFDO0VBR0QsSUFBTU0sV0FBVyxHQUFHLFlBQVlYLEtBQUssSUFBSUMsWUFBWSxFQUFFO0VBR3ZELElBQUFXLFNBQUEsR0FBd0QsSUFBQUMsZUFBUSxFQUFDLENBQUMsQ0FBQztJQUFBQyxVQUFBLE9BQUFDLGVBQUEsQ0FBQUMsT0FBQSxF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