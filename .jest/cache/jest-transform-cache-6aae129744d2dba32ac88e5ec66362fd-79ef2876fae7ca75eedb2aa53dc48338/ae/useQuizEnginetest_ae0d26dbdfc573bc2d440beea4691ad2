43d07d8e20d88225880dd67b33d69f51
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _reactNative = require("@testing-library/react-native");
var _useQuizEngine = _interopRequireDefault(require("../../src/hooks/useQuizEngine"));
describe('useQuizEngine', function () {
  var mockQuestions = [{
    word: 'hello',
    choices: ['bonjour', 'au revoir', 'merci', 'salut'],
    correctAnswer: 'bonjour'
  }, {
    word: 'goodbye',
    choices: ['au revoir', 'bonjour', 'merci', 'salut'],
    correctAnswer: 'au revoir'
  }];
  it('devrait initialiser correctement avec des questions', function () {
    var _renderHook = (0, _reactNative.renderHook)(function () {
        return (0, _useQuizEngine.default)(mockQuestions);
      }),
      result = _renderHook.result;
    expect(result.current.currentQuestionIndex).toBe(0);
    expect(result.current.score).toBe(0);
    expect(result.current.selectedChoice).toBeNull();
    expect(result.current.showResult).toBe(false);
    expect(result.current.isFinished).toBe(false);
    expect(result.current.totalQuestions).toBe(2);
    expect(result.current.currentQuestion).toEqual(mockQuestions[0]);
    expect(result.current.progress).toBe(0);
    expect(result.current.userAnswers).toEqual([]);
  });
  it('devrait gérer correctement un quiz vide', function () {
    var _renderHook2 = (0, _reactNative.renderHook)(function () {
        return (0, _useQuizEngine.default)([]);
      }),
      result = _renderHook2.result;
    expect(result.current.totalQuestions).toBe(0);
    expect(result.current.currentQuestion).toBeNull();
    expect(result.current.progress).toBe(0);
    expect(result.current.isFinished).toBe(false);
  });
  it('devrait traiter une réponse correcte', function () {
    var _renderHook3 = (0, _reactNative.renderHook)(function () {
        return (0, _useQuizEngine.default)(mockQuestions);
      }),
      result = _renderHook3.result;
    (0, _reactNative.act)(function () {
      var isCorrect = result.current.handleAnswer('bonjour');
      expect(isCorrect).toBe(true);
    });
    expect(result.current.score).toBe(1);
    expect(result.current.selectedChoice).toBe('bonjour');
    expect(result.current.showResult).toBe(true);
    expect(result.current.userAnswers).toHaveLength(1);
    expect(result.current.userAnswers[0].isCorrect).toBe(true);
  });
  it('devrait traiter une réponse incorrecte', function () {
    var _renderHook4 = (0, _reactNative.renderHook)(function () {
        return (0, _useQuizEngine.default)(mockQuestions);
      }),
      result = _renderHook4.result;
    (0, _reactNative.act)(function () {
      var isCorrect = result.current.handleAnswer('au revoir');
      expect(isCorrect).toBe(false);
    });
    expect(result.current.score).toBe(0);
    expect(result.current.selectedChoice).toBe('au revoir');
    expect(result.current.showResult).toBe(true);
    expect(result.current.userAnswers).toHaveLength(1);
    expect(result.current.userAnswers[0].isCorrect).toBe(false);
  });
  it('devrait passer à la question suivante', function () {
    var _renderHook5 = (0, _reactNative.renderHook)(function () {
        return (0, _useQuizEngine.default)(mockQuestions);
      }),
      result = _renderHook5.result;
    (0, _reactNative.act)(function () {
      result.current.handleAnswer('bonjour');
      result.current.goToNextQuestion();
    });
    expect(result.current.currentQuestionIndex).toBe(1);
    expect(result.current.currentQuestion).toEqual(mockQuestions[1]);
    expect(result.current.selectedChoice).toBeNull();
    expect(result.current.showResult).toBe(false);
  });
  it('devrait marquer le quiz comme terminé après la dernière question', function () {
    var _renderHook6 = (0, _reactNative.renderHook)(function () {
        return (0, _useQuizEngine.default)(mockQuestions);
      }),
      result = _renderHook6.result;
    (0, _reactNative.act)(function () {
      result.current.handleAnswer('bonjour');
      result.current.goToNextQuestion();
      result.current.handleAnswer('au revoir');
      result.current.goToNextQuestion();
    });
    expect(result.current.isFinished).toBe(true);
    expect(result.current.currentQuestion).toBeNull();
  });
  it('devrait retourner false si handleAnswer est appelé avec un quiz vide', function () {
    var _renderHook7 = (0, _reactNative.renderHook)(function () {
        return (0, _useQuizEngine.default)([]);
      }),
      result = _renderHook7.result;
    var isCorrect = result.current.handleAnswer('bonjour');
    expect(isCorrect).toBe(false);
  });
  it('devrait retourner false si handleAnswer est appelé après la dernière question', function () {
    var _renderHook8 = (0, _reactNative.renderHook)(function () {
        return (0, _useQuizEngine.default)(mockQuestions);
      }),
      result = _renderHook8.result;
    (0, _reactNative.act)(function () {
      result.current.handleAnswer('bonjour');
      result.current.goToNextQuestion();
      result.current.handleAnswer('au revoir');
      result.current.goToNextQuestion();
    });
    var isCorrect = result.current.handleAnswer('merci');
    expect(isCorrect).toBe(false);
  });
  it('devrait redémarrer le quiz correctement', function () {
    var _renderHook9 = (0, _reactNative.renderHook)(function () {
        return (0, _useQuizEngine.default)(mockQuestions);
      }),
      result = _renderHook9.result;
    (0, _reactNative.act)(function () {
      result.current.handleAnswer('bonjour');
      result.current.goToNextQuestion();
      result.current.handleRestart();
    });
    expect(result.current.currentQuestionIndex).toBe(0);
    expect(result.current.score).toBe(0);
    expect(result.current.selectedChoice).toBeNull();
    expect(result.current.showResult).toBe(false);
    expect(result.current.isFinished).toBe(false);
    expect(result.current.userAnswers).toEqual([]);
    expect(result.current.currentQuestion).toEqual(mockQuestions[0]);
  });
  it('devrait empêcher les réponses multiples sur la même question', function () {
    var _renderHook0 = (0, _reactNative.renderHook)(function () {
        return (0, _useQuizEngine.default)(mockQuestions);
      }),
      result = _renderHook0.result;
    (0, _reactNative.act)(function () {
      result.current.handleAnswer('bonjour');
      var secondAttempt = result.current.handleAnswer('salut');
      expect(secondAttempt).toBe(false);
    });
    expect(result.current.score).toBe(1);
    expect(result.current.userAnswers).toHaveLength(1);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3ROYXRpdmUiLCJyZXF1aXJlIiwiX3VzZVF1aXpFbmdpbmUiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiZGVzY3JpYmUiLCJtb2NrUXVlc3Rpb25zIiwid29yZCIsImNob2ljZXMiLCJjb3JyZWN0QW5zd2VyIiwiaXQiLCJfcmVuZGVySG9vayIsInJlbmRlckhvb2siLCJ1c2VRdWl6RW5naW5lIiwicmVzdWx0IiwiZXhwZWN0IiwiY3VycmVudCIsImN1cnJlbnRRdWVzdGlvbkluZGV4IiwidG9CZSIsInNjb3JlIiwic2VsZWN0ZWRDaG9pY2UiLCJ0b0JlTnVsbCIsInNob3dSZXN1bHQiLCJpc0ZpbmlzaGVkIiwidG90YWxRdWVzdGlvbnMiLCJjdXJyZW50UXVlc3Rpb24iLCJ0b0VxdWFsIiwicHJvZ3Jlc3MiLCJ1c2VyQW5zd2VycyIsIl9yZW5kZXJIb29rMiIsIl9yZW5kZXJIb29rMyIsImFjdCIsImlzQ29ycmVjdCIsImhhbmRsZUFuc3dlciIsInRvSGF2ZUxlbmd0aCIsIl9yZW5kZXJIb29rNCIsIl9yZW5kZXJIb29rNSIsImdvVG9OZXh0UXVlc3Rpb24iLCJfcmVuZGVySG9vazYiLCJfcmVuZGVySG9vazciLCJfcmVuZGVySG9vazgiLCJfcmVuZGVySG9vazkiLCJoYW5kbGVSZXN0YXJ0IiwiX3JlbmRlckhvb2swIiwic2Vjb25kQXR0ZW1wdCJdLCJzb3VyY2VzIjpbInVzZVF1aXpFbmdpbmUudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZW5kZXJIb29rLCBhY3QgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgdXNlUXVpekVuZ2luZSBmcm9tICcuLi8uLi9zcmMvaG9va3MvdXNlUXVpekVuZ2luZSc7XG5cbmRlc2NyaWJlKCd1c2VRdWl6RW5naW5lJywgKCkgPT4ge1xuICAvLyBEb25uw6llcyBkZSB0ZXN0IHLDqXV0aWxpc2FibGVzXG4gIGNvbnN0IG1vY2tRdWVzdGlvbnMgPSBbXG4gICAge1xuICAgICAgd29yZDogJ2hlbGxvJyxcbiAgICAgIGNob2ljZXM6IFsnYm9uam91cicsICdhdSByZXZvaXInLCAnbWVyY2knLCAnc2FsdXQnXSxcbiAgICAgIGNvcnJlY3RBbnN3ZXI6ICdib25qb3VyJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICdnb29kYnllJyxcbiAgICAgIGNob2ljZXM6IFsnYXUgcmV2b2lyJywgJ2JvbmpvdXInLCAnbWVyY2knLCAnc2FsdXQnXSxcbiAgICAgIGNvcnJlY3RBbnN3ZXI6ICdhdSByZXZvaXInLFxuICAgIH0sXG4gIF07XG5cbiAgLy8gVGVzdCAxIDogSW5pdGlhbGlzYXRpb24gY29ycmVjdGUgYXZlYyBkZXMgcXVlc3Rpb25zXG4gIGl0KCdkZXZyYWl0IGluaXRpYWxpc2VyIGNvcnJlY3RlbWVudCBhdmVjIGRlcyBxdWVzdGlvbnMnLCAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlUXVpekVuZ2luZShtb2NrUXVlc3Rpb25zKSk7XG5cbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuY3VycmVudFF1ZXN0aW9uSW5kZXgpLnRvQmUoMCk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnNjb3JlKS50b0JlKDApO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zZWxlY3RlZENob2ljZSkudG9CZU51bGwoKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc2hvd1Jlc3VsdCkudG9CZShmYWxzZSk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzRmluaXNoZWQpLnRvQmUoZmFsc2UpO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC50b3RhbFF1ZXN0aW9ucykudG9CZSgyKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuY3VycmVudFF1ZXN0aW9uKS50b0VxdWFsKG1vY2tRdWVzdGlvbnNbMF0pO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5wcm9ncmVzcykudG9CZSgwKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQudXNlckFuc3dlcnMpLnRvRXF1YWwoW10pO1xuICB9KTtcblxuICAvLyBUZXN0IDIgOiBHZXN0aW9uIGQndW4gcXVpeiB2aWRlXG4gIGl0KCdkZXZyYWl0IGfDqXJlciBjb3JyZWN0ZW1lbnQgdW4gcXVpeiB2aWRlJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVF1aXpFbmdpbmUoW10pKTtcblxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC50b3RhbFF1ZXN0aW9ucykudG9CZSgwKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuY3VycmVudFF1ZXN0aW9uKS50b0JlTnVsbCgpO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5wcm9ncmVzcykudG9CZSgwKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNGaW5pc2hlZCkudG9CZShmYWxzZSk7XG4gIH0pO1xuXG4gIC8vIFRlc3QgMyA6IFLDqXBvbnNlIGNvcnJlY3RlXG4gIGl0KCdkZXZyYWl0IHRyYWl0ZXIgdW5lIHLDqXBvbnNlIGNvcnJlY3RlJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVF1aXpFbmdpbmUobW9ja1F1ZXN0aW9ucykpO1xuXG4gICAgYWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IGlzQ29ycmVjdCA9IHJlc3VsdC5jdXJyZW50LmhhbmRsZUFuc3dlcignYm9uam91cicpO1xuICAgICAgZXhwZWN0KGlzQ29ycmVjdCkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zY29yZSkudG9CZSgxKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc2VsZWN0ZWRDaG9pY2UpLnRvQmUoJ2JvbmpvdXInKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc2hvd1Jlc3VsdCkudG9CZSh0cnVlKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQudXNlckFuc3dlcnMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQudXNlckFuc3dlcnNbMF0uaXNDb3JyZWN0KS50b0JlKHRydWUpO1xuICB9KTtcblxuICAvLyBUZXN0IDQgOiBSw6lwb25zZSBpbmNvcnJlY3RlXG4gIGl0KCdkZXZyYWl0IHRyYWl0ZXIgdW5lIHLDqXBvbnNlIGluY29ycmVjdGUnLCAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlUXVpekVuZ2luZShtb2NrUXVlc3Rpb25zKSk7XG5cbiAgICBhY3QoKCkgPT4ge1xuICAgICAgY29uc3QgaXNDb3JyZWN0ID0gcmVzdWx0LmN1cnJlbnQuaGFuZGxlQW5zd2VyKCdhdSByZXZvaXInKTtcbiAgICAgIGV4cGVjdChpc0NvcnJlY3QpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnNjb3JlKS50b0JlKDApO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zZWxlY3RlZENob2ljZSkudG9CZSgnYXUgcmV2b2lyJyk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnNob3dSZXN1bHQpLnRvQmUodHJ1ZSk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnVzZXJBbnN3ZXJzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnVzZXJBbnN3ZXJzWzBdLmlzQ29ycmVjdCkudG9CZShmYWxzZSk7XG4gIH0pO1xuXG4gIC8vIFRlc3QgNSA6IFBhc3NhZ2Ugw6AgbGEgcXVlc3Rpb24gc3VpdmFudGVcbiAgaXQoJ2RldnJhaXQgcGFzc2VyIMOgIGxhIHF1ZXN0aW9uIHN1aXZhbnRlJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVF1aXpFbmdpbmUobW9ja1F1ZXN0aW9ucykpO1xuXG4gICAgYWN0KCgpID0+IHtcbiAgICAgIHJlc3VsdC5jdXJyZW50LmhhbmRsZUFuc3dlcignYm9uam91cicpO1xuICAgICAgcmVzdWx0LmN1cnJlbnQuZ29Ub05leHRRdWVzdGlvbigpO1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmN1cnJlbnRRdWVzdGlvbkluZGV4KS50b0JlKDEpO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jdXJyZW50UXVlc3Rpb24pLnRvRXF1YWwobW9ja1F1ZXN0aW9uc1sxXSk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnNlbGVjdGVkQ2hvaWNlKS50b0JlTnVsbCgpO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zaG93UmVzdWx0KS50b0JlKGZhbHNlKTtcbiAgfSk7XG5cbiAgLy8gVGVzdCA2IDogRmluIGR1IHF1aXpcbiAgaXQoJ2RldnJhaXQgbWFycXVlciBsZSBxdWl6IGNvbW1lIHRlcm1pbsOpIGFwcsOocyBsYSBkZXJuacOocmUgcXVlc3Rpb24nLCAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlUXVpekVuZ2luZShtb2NrUXVlc3Rpb25zKSk7XG5cbiAgICBhY3QoKCkgPT4ge1xuICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlQW5zd2VyKCdib25qb3VyJyk7XG4gICAgICByZXN1bHQuY3VycmVudC5nb1RvTmV4dFF1ZXN0aW9uKCk7XG4gICAgICByZXN1bHQuY3VycmVudC5oYW5kbGVBbnN3ZXIoJ2F1IHJldm9pcicpO1xuICAgICAgcmVzdWx0LmN1cnJlbnQuZ29Ub05leHRRdWVzdGlvbigpO1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzRmluaXNoZWQpLnRvQmUodHJ1ZSk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmN1cnJlbnRRdWVzdGlvbikudG9CZU51bGwoKTtcbiAgfSk7XG5cbiAgLy8gVGVzdCA3IDogVGVudGF0aXZlIGRlIHLDqXBvbnNlIHNhbnMgcXVlc3Rpb24gYWN0dWVsbGUgKHF1aXogdmlkZSlcbiAgaXQoJ2RldnJhaXQgcmV0b3VybmVyIGZhbHNlIHNpIGhhbmRsZUFuc3dlciBlc3QgYXBwZWzDqSBhdmVjIHVuIHF1aXogdmlkZScsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VRdWl6RW5naW5lKFtdKSk7XG4gICAgY29uc3QgaXNDb3JyZWN0ID0gcmVzdWx0LmN1cnJlbnQuaGFuZGxlQW5zd2VyKCdib25qb3VyJyk7XG4gICAgZXhwZWN0KGlzQ29ycmVjdCkudG9CZShmYWxzZSk7XG4gIH0pO1xuXG4gIC8vIFRlc3QgOCA6IFRlbnRhdGl2ZSBkZSByw6lwb25zZSBhcHLDqHMgbGEgZmluIGR1IHF1aXpcbiAgaXQoJ2RldnJhaXQgcmV0b3VybmVyIGZhbHNlIHNpIGhhbmRsZUFuc3dlciBlc3QgYXBwZWzDqSBhcHLDqHMgbGEgZGVybmnDqHJlIHF1ZXN0aW9uJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVF1aXpFbmdpbmUobW9ja1F1ZXN0aW9ucykpO1xuXG4gICAgYWN0KCgpID0+IHtcbiAgICAgIHJlc3VsdC5jdXJyZW50LmhhbmRsZUFuc3dlcignYm9uam91cicpO1xuICAgICAgcmVzdWx0LmN1cnJlbnQuZ29Ub05leHRRdWVzdGlvbigpO1xuICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlQW5zd2VyKCdhdSByZXZvaXInKTtcbiAgICAgIHJlc3VsdC5jdXJyZW50LmdvVG9OZXh0UXVlc3Rpb24oKTsgLy8gRmluIGR1IHF1aXpcbiAgICB9KTtcblxuICAgIGNvbnN0IGlzQ29ycmVjdCA9IHJlc3VsdC5jdXJyZW50LmhhbmRsZUFuc3dlcignbWVyY2knKTtcbiAgICBleHBlY3QoaXNDb3JyZWN0KS50b0JlKGZhbHNlKTtcbiAgfSk7XG5cbiAgLy8gVGVzdCA5IDogUmVkw6ltYXJyYWdlIGR1IHF1aXpcbiAgaXQoJ2RldnJhaXQgcmVkw6ltYXJyZXIgbGUgcXVpeiBjb3JyZWN0ZW1lbnQnLCAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlUXVpekVuZ2luZShtb2NrUXVlc3Rpb25zKSk7XG5cbiAgICBhY3QoKCkgPT4ge1xuICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlQW5zd2VyKCdib25qb3VyJyk7XG4gICAgICByZXN1bHQuY3VycmVudC5nb1RvTmV4dFF1ZXN0aW9uKCk7XG4gICAgICByZXN1bHQuY3VycmVudC5oYW5kbGVSZXN0YXJ0KCk7XG4gICAgfSk7XG5cbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuY3VycmVudFF1ZXN0aW9uSW5kZXgpLnRvQmUoMCk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnNjb3JlKS50b0JlKDApO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zZWxlY3RlZENob2ljZSkudG9CZU51bGwoKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc2hvd1Jlc3VsdCkudG9CZShmYWxzZSk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzRmluaXNoZWQpLnRvQmUoZmFsc2UpO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC51c2VyQW5zd2VycykudG9FcXVhbChbXSk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmN1cnJlbnRRdWVzdGlvbikudG9FcXVhbChtb2NrUXVlc3Rpb25zWzBdKTtcbiAgfSk7XG5cbiAgLy8gVGVzdCAxMCA6IEVtcMOqY2hlciBsZXMgcsOpcG9uc2VzIG11bHRpcGxlcyBzdXIgbGEgbcOqbWUgcXVlc3Rpb25cbiAgaXQoJ2RldnJhaXQgZW1ww6pjaGVyIGxlcyByw6lwb25zZXMgbXVsdGlwbGVzIHN1ciBsYSBtw6ptZSBxdWVzdGlvbicsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VRdWl6RW5naW5lKG1vY2tRdWVzdGlvbnMpKTtcblxuICAgIGFjdCgoKSA9PiB7XG4gICAgICByZXN1bHQuY3VycmVudC5oYW5kbGVBbnN3ZXIoJ2JvbmpvdXInKTsgLy8gUHJlbWnDqHJlIHLDqXBvbnNlXG4gICAgICBjb25zdCBzZWNvbmRBdHRlbXB0ID0gcmVzdWx0LmN1cnJlbnQuaGFuZGxlQW5zd2VyKCdzYWx1dCcpOyAvLyBEZXV4acOobWUgdGVudGF0aXZlXG4gICAgICBleHBlY3Qoc2Vjb25kQXR0ZW1wdCkudG9CZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc2NvcmUpLnRvQmUoMSk7IC8vIExlIHNjb3JlIG5lIGNoYW5nZSBwYXNcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQudXNlckFuc3dlcnMpLnRvSGF2ZUxlbmd0aCgxKTsgLy8gVW5lIHNldWxlIHLDqXBvbnNlIGVucmVnaXN0csOpZVxuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQUEsWUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsY0FBQSxHQUFBQyxzQkFBQSxDQUFBRixPQUFBO0FBRUFHLFFBQVEsQ0FBQyxlQUFlLEVBQUUsWUFBTTtFQUU5QixJQUFNQyxhQUFhLEdBQUcsQ0FDcEI7SUFDRUMsSUFBSSxFQUFFLE9BQU87SUFDYkMsT0FBTyxFQUFFLENBQUMsU0FBUyxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsT0FBTyxDQUFDO0lBQ25EQyxhQUFhLEVBQUU7RUFDakIsQ0FBQyxFQUNEO0lBQ0VGLElBQUksRUFBRSxTQUFTO0lBQ2ZDLE9BQU8sRUFBRSxDQUFDLFdBQVcsRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQztJQUNuREMsYUFBYSxFQUFFO0VBQ2pCLENBQUMsQ0FDRjtFQUdEQyxFQUFFLENBQUMscURBQXFELEVBQUUsWUFBTTtJQUM5RCxJQUFBQyxXQUFBLEdBQW1CLElBQUFDLHVCQUFVLEVBQUM7UUFBQSxPQUFNLElBQUFDLHNCQUFhLEVBQUNQLGFBQWEsQ0FBQztNQUFBLEVBQUM7TUFBekRRLE1BQU0sR0FBQUgs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