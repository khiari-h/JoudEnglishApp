d1186726151b7d0f219276762e402ac3
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _reactNative = require("react-native");
var _native = require("@react-navigation/native");
var _expoRouter = require("expo-router");
var _react = require("react");
var _Container = _interopRequireWildcard(require("../../../components/layout/Container"));
var _VocabularyHeader = _interopRequireDefault(require("./VocabularyHeader"));
var _VocabularyCategorySelector = _interopRequireDefault(require("./VocabularyCategorySelector"));
var _VocabularyProgress = _interopRequireDefault(require("./VocabularyProgress"));
var _VocabularyWordSection = _interopRequireDefault(require("./VocabularyWordSection"));
var _VocabularyNavigation = _interopRequireDefault(require("./VocabularyNavigation"));
var _useVocabulary2 = _interopRequireDefault(require("./hooks/useVocabulary"));
var _useLastActivity2 = _interopRequireDefault(require("../../../hooks/useLastActivity"));
var _vocabularyDataHelper = require("../../../utils/vocabulary/vocabularyDataHelper");
var _style = _interopRequireDefault(require("./style"));
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
var VocabularyExercise = function VocabularyExercise(_ref) {
  var route = _ref.route;
  var _ref2 = route.params || {},
    level = _ref2.level,
    mode = _ref2.mode;
  var navigation = (0, _native.useNavigation)();
  var styles = (0, _style.default)();
  var _useLastActivity = (0, _useLastActivity2.default)(),
    saveActivity = _useLastActivity.saveActivity;
  var finalMode = mode || ((0, _vocabularyDataHelper.isBonusLevel)(level) ? "fast" : "classic");
  var levelColor = (0, _vocabularyDataHelper.getLevelColor)(level);
  var _useState = (0, _react.useState)(null),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    vocabularyData = _useState2[0],
    setVocabularyData = _useState2[1];
  (0, _react.useEffect)(function () {
    var isMounted = true;
    var load = function () {
      var _ref3 = (0, _asyncToGenerator2.default)(function* () {
        var data = yield (0, _vocabularyDataHelper.loadVocabularyData)(level, finalMode);
        if (isMounted) setVocabularyData(data);
      });
      return function load() {
        return _ref3.apply(this, arguments);
      };
    }();
    load();
    return function () {
      isMounted = false;
    };
  }, [level, finalMode]);
  var _useVocabulary = (0, _useVocabulary2.default)(vocabularyData, level, finalMode),
    categoryIndex = _useVocabulary.categoryIndex,
    wordIndex = _useVocabulary.wordIndex,
    showTranslation = _useVocabulary.showTranslation,
    completedWords = _useVocabulary.completedWords,
    loaded = _useVocabulary.loaded,
    showDetailedProgress = _useVocabulary.showDetailedProgress,
    currentWord = _useVocabulary.currentWord,
    currentCategory = _useVocabulary.currentCategory,
    changeCategory = _useVocabulary.changeCategory,
    toggleTranslation = _useVocabulary.toggleTranslation,
    toggleDetailedProgress = _useVocabulary.toggleDetailedProgress,
    handleNext = _useVocabulary.handleNext,
    handlePrevious = _useVocabulary.handlePrevious,
    canGoToPrevious = _useVocabulary.canGoToPrevious,
    isLastWordInExercise = _useVocabulary.isLastWordInExercise,
    display = _useVocabulary.display,
    saveData = _useVocabulary.saveData;
  (0, _react.useEffect)(function () {
    if (!loaded || !vocabularyData || !currentWord) return;
    var totalWords = 15;
    if (vocabularyData.categories && Array.isArray(vocabularyData.categories)) {
      totalWords = vocabularyData.categories.reduce(function (total, cat) {
        var _cat$words;
        return total + (((_cat$words = cat.words) == null ? void 0 : _cat$words.length) || 0);
      }, 0);
    } else if (vocabularyData.exercises && Array.isArray(vocabularyData.exercises)) {
      totalWords = vocabularyData.exercises.reduce(function (total, ex) {
        var _ex$words;
        return total + (((_ex$words = ex.words) == null ? void 0 : _ex$words.length) || 0);
      }, 0);
    } else if (vocabularyData.words && Array.isArray(vocabularyData.words)) {
      totalWords = vocabularyData.words.length;
    }
    var activityData = {
      title: `Vocabulaire ${finalMode === "fast" ? "Fast" : ""}`,
      level: level,
      type: "vocabulary",
      mode: finalMode,
      metadata: {
        word: wordIndex,
        totalWords: totalWords,
        category: (currentCategory == null ? void 0 : currentCategory.name) || "Général",
        categoryIndex: categoryIndex,
        wordIndex: wordIndex
      }
    };
    saveActivity(activityData);
  }, [wordIndex]);
  (0, _react.useEffect)(function () {
    if (!loaded || !vocabularyData || !currentWord) return;
    var totalWords = 15;
    if (vocabularyData.categories && Array.isArray(vocabularyData.categories)) {
      totalWords = vocabularyData.categories.reduce(function (total, cat) {
        var _cat$words2;
        return total + (((_cat$words2 = cat.words) == null ? void 0 : _cat$words2.length) || 0);
      }, 0);
    } else if (vocabularyData.exercises && Array.isArray(vocabularyData.exercises)) {
      totalWords = vocabularyData.exercises.reduce(function (total, ex) {
        var _ex$words2;
        return total + (((_ex$words2 = ex.words) == null ? void 0 : _ex$words2.length) || 0);
      }, 0);
    } else if (vocabularyData.words && Array.isArray(vocabularyData.words)) {
      totalWords = vocabularyData.words.length;
    }
    var activityData = {
      title: `Vocabulaire ${finalMode === "fast" ? "Fast" : ""}`,
      level: level,
      type: "vocabulary",
      mode: finalMode,
      metadata: {
        word: wordIndex,
        totalWords: totalWords,
        category: (currentCategory == null ? void 0 : currentCategory.name) || "Général",
        categoryIndex: categoryIndex,
        wordIndex: wordIndex
      }
    };
    saveActivity(activityData);
  }, [loaded, vocabularyData]);
  var handleBackPress = (0, _react.useCallback)(function () {
    _expoRouter.router.push({
      pathname: "/tabs/exerciseSelection",
      params: {
        level: level
      }
    });
  }, [level]);
  var handleCategoryChange = (0, _react.useCallback)(function (index) {
    return changeCategory(index);
  }, [changeCategory]);
  var handleCategoryProgressPress = (0, _react.useCallback)(function (index) {
    return changeCategory(index);
  }, [changeCategory]);
  var handleToggleProgressDetails = (0, _react.useCallback)(function () {
    return toggleDetailedProgress();
  }, [toggleDetailedProgress]);
  var handleNextWord = (0, _react.useCallback)((0, _asyncToGenerator2.default)(function* () {
    var result = handleNext();
    if (typeof saveData === 'function') {
      yield saveData();
    }
    if (result.completed) {
      navigation.goBack();
    }
  }), [handleNext, navigation, saveData]);
  var handlePreviousWord = (0, _react.useCallback)(function () {
    return handlePrevious();
  }, [handlePrevious]);
  if (!loaded || !vocabularyData) {
    return (0, _jsxRuntime.jsx)(_Container.default, {
      safeArea: true,
      safeAreaEdges: _Container.CONTAINER_SAFE_EDGES.ALL,
      backgroundColor: "#f8fafc",
      statusBarStyle: "dark-content",
      children: (0, _jsxRuntime.jsx)(_reactNative.View, {
        style: styles.loadingContainer,
        children: (0, _jsxRuntime.jsx)(_reactNative.ActivityIndicator, {
          testID: "activity-indicator",
          size: "large",
          color: levelColor
        })
      })
    });
  }
  return (0, _jsxRuntime.jsxs)(_Container.default, {
    safeArea: true,
    safeAreaEdges: _Container.CONTAINER_SAFE_EDGES.ALL,
    withScrollView: true,
    backgroundColor: "#f8fafc",
    statusBarStyle: "dark-content",
    withPadding: false,
    scrollViewProps: {
      showsVerticalScrollIndicator: false,
      contentContainerStyle: styles.scrollContent
    },
    children: [(0, _jsxRuntime.jsx)(_VocabularyHeader.default, {
      level: level,
      mode: finalMode,
      onBackPress: handleBackPress
    }), (0, _jsxRuntime.jsx)(_VocabularyProgress.default, {
      vocabularyData: vocabularyData,
      completedWords: completedWords,
      levelColor: levelColor,
      expanded: showDetailedProgress,
      onToggleExpand: handleToggleProgressDetails,
      onCategoryPress: handleCategoryProgressPress
    }), (0, _jsxRuntime.jsx)(_VocabularyCategorySelector.default, {
      categories: display.categories,
      selectedIndex: categoryIndex,
      onSelectCategory: handleCategoryChange,
      levelColor: levelColor
    }), (0, _jsxRuntime.jsx)(_VocabularyWordSection.default, {
      currentWord: currentWord,
      wordCounter: display.wordCounter,
      mode: finalMode,
      level: level,
      levelColor: levelColor,
      showTranslation: showTranslation,
      onToggleTranslation: toggleTranslation
    }), (0, _jsxRuntime.jsx)(_VocabularyNavigation.default, {
      onNext: handleNextWord,
      onPrevious: handlePreviousWord,
      canGoPrevious: canGoToPrevious,
      isLast: isLastWordInExercise,
      levelColor: levelColor
    })]
  });
};
var _default = exports.default = VocabularyExercise;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3ROYXRpdmUiLCJyZXF1aXJlIiwiX25hdGl2ZSIsIl9leHBvUm91dGVyIiwiX3JlYWN0IiwiX0NvbnRhaW5lciIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX1ZvY2FidWxhcnlIZWFkZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX1ZvY2FidWxhcnlDYXRlZ29yeVNlbGVjdG9yIiwiX1ZvY2FidWxhcnlQcm9ncmVzcyIsIl9Wb2NhYnVsYXJ5V29yZFNlY3Rpb24iLCJfVm9jYWJ1bGFyeU5hdmlnYXRpb24iLCJfdXNlVm9jYWJ1bGFyeTIiLCJfdXNlTGFzdEFjdGl2aXR5MiIsIl92b2NhYnVsYXJ5RGF0YUhlbHBlciIsIl9zdHlsZSIsIl9qc3hSdW50aW1lIiwiZSIsInQiLCJXZWFrTWFwIiwiciIsIm4iLCJfX2VzTW9kdWxlIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiZGVmYXVsdCIsImhhcyIsImdldCIsInNldCIsIl90IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJWb2NhYnVsYXJ5RXhlcmNpc2UiLCJfcmVmIiwicm91dGUiLCJfcmVmMiIsInBhcmFtcyIsImxldmVsIiwibW9kZSIsIm5hdmlnYXRpb24iLCJ1c2VOYXZpZ2F0aW9uIiwic3R5bGVzIiwiY3JlYXRlU3R5bGVzIiwiX3VzZUxhc3RBY3Rpdml0eSIsInVzZUxhc3RBY3Rpdml0eSIsInNhdmVBY3Rpdml0eSIsImZpbmFsTW9kZSIsImlzQm9udXNMZXZlbCIsImxldmVsQ29sb3IiLCJnZXRMZXZlbENvbG9yIiwiX3VzZVN0YXRlIiwidXNlU3RhdGUiLCJfdXNlU3RhdGUyIiwiX3NsaWNlZFRvQXJyYXkyIiwidm9jYWJ1bGFyeURhdGEiLCJzZXRWb2NhYnVsYXJ5RGF0YSIsInVzZUVmZmVjdCIsImlzTW91bnRlZCIsImxvYWQiLCJfcmVmMyIsIl9hc3luY1RvR2VuZXJhdG9yMiIsImRhdGEiLCJsb2FkVm9jYWJ1bGFyeURhdGEiLCJhcHBseSIsImFyZ3VtZW50cyIsIl91c2VWb2NhYnVsYXJ5IiwidXNlVm9jYWJ1bGFyeSIsImNhdGVnb3J5SW5kZXgiLCJ3b3JkSW5kZXgiLCJzaG93VHJhbnNsYXRpb24iLCJjb21wbGV0ZWRXb3JkcyIsImxvYWRlZCIsInNob3dEZXRhaWxlZFByb2dyZXNzIiwiY3VycmVudFdvcmQiLCJjdXJyZW50Q2F0ZWdvcnkiLCJjaGFuZ2VDYXRlZ29yeSIsInRvZ2dsZVRyYW5zbGF0aW9uIiwidG9nZ2xlRGV0YWlsZWRQcm9ncmVzcyIsImhhbmRsZU5leHQiLCJoYW5kbGVQcmV2aW91cyIsImNhbkdvVG9QcmV2aW91cyIsImlzTGFzdFdvcmRJbkV4ZXJjaXNlIiwiZGlzcGxheSIsInNhdmVEYXRhIiwidG90YWxXb3JkcyIsImNhdGVnb3JpZXMiLCJBcnJheSIsImlzQXJyYXkiLCJyZWR1Y2UiLCJ0b3RhbCIsImNhdCIsIl9jYXQkd29yZHMiLCJ3b3JkcyIsImxlbmd0aCIsImV4ZXJjaXNlcyIsImV4IiwiX2V4JHdvcmRzIiwiYWN0aXZpdHlEYXRhIiwidGl0bGUiLCJ0eXBlIiwibWV0YWRhdGEiLCJ3b3JkIiwiY2F0ZWdvcnkiLCJuYW1lIiwiX2NhdCR3b3JkczIiLCJfZXgkd29yZHMyIiwiaGFuZGxlQmFja1ByZXNzIiwidXNlQ2FsbGJhY2siLCJyb3V0ZXIiLCJwdXNoIiwicGF0aG5hbWUiLCJoYW5kbGVDYXRlZ29yeUNoYW5nZSIsImluZGV4IiwiaGFuZGxlQ2F0ZWdvcnlQcm9ncmVzc1ByZXNzIiwiaGFuZGxlVG9nZ2xlUHJvZ3Jlc3NEZXRhaWxzIiwiaGFuZGxlTmV4dFdvcmQiLCJyZXN1bHQiLCJjb21wbGV0ZWQiLCJnb0JhY2siLCJoYW5kbGVQcmV2aW91c1dvcmQiLCJqc3giLCJzYWZlQXJlYSIsInNhZmVBcmVhRWRnZXMiLCJDT05UQUlORVJfU0FGRV9FREdFUyIsIkFMTCIsImJhY2tncm91bmRDb2xvciIsInN0YXR1c0JhclN0eWxlIiwiY2hpbGRyZW4iLCJWaWV3Iiwic3R5bGUiLCJsb2FkaW5nQ29udGFpbmVyIiwiQWN0aXZpdHlJbmRpY2F0b3IiLCJ0ZXN0SUQiLCJzaXplIiwiY29sb3IiLCJqc3hzIiwid2l0aFNjcm9sbFZpZXciLCJ3aXRoUGFkZGluZyIsInNjcm9sbFZpZXdQcm9wcyIsInNob3dzVmVydGljYWxTY3JvbGxJbmRpY2F0b3IiLCJjb250ZW50Q29udGFpbmVyU3R5bGUiLCJzY3JvbGxDb250ZW50Iiwib25CYWNrUHJlc3MiLCJleHBhbmRlZCIsIm9uVG9nZ2xlRXhwYW5kIiwib25DYXRlZ29yeVByZXNzIiwic2VsZWN0ZWRJbmRleCIsIm9uU2VsZWN0Q2F0ZWdvcnkiLCJ3b3JkQ291bnRlciIsIm9uVG9nZ2xlVHJhbnNsYXRpb24iLCJvbk5leHQiLCJvblByZXZpb3VzIiwiY2FuR29QcmV2aW91cyIsImlzTGFzdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFZvY2FidWxhcnlFeGVyY2lzZS9pbmRleC5qcyAtIEJPVUNMRSBJTkZJTklFIENPUlJJR8OJRVxyXG5cclxuaW1wb3J0IHsgVmlldywgQWN0aXZpdHlJbmRpY2F0b3IgfSBmcm9tIFwicmVhY3QtbmF0aXZlXCI7XHJcbmltcG9ydCB7IHVzZU5hdmlnYXRpb24gfSBmcm9tIFwiQHJlYWN0LW5hdmlnYXRpb24vbmF0aXZlXCI7XHJcbmltcG9ydCB7IHJvdXRlciB9IGZyb20gXCJleHBvLXJvdXRlclwiO1xyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xyXG5cclxuaW1wb3J0IENvbnRhaW5lciwgeyBDT05UQUlORVJfU0FGRV9FREdFUyB9IGZyb20gXCIuLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC9Db250YWluZXJcIjtcclxuaW1wb3J0IFZvY2FidWxhcnlIZWFkZXIgZnJvbSBcIi4vVm9jYWJ1bGFyeUhlYWRlclwiO1xyXG5pbXBvcnQgVm9jYWJ1bGFyeUNhdGVnb3J5U2VsZWN0b3IgZnJvbSBcIi4vVm9jYWJ1bGFyeUNhdGVnb3J5U2VsZWN0b3JcIjtcclxuaW1wb3J0IFZvY2FidWxhcnlQcm9ncmVzcyBmcm9tIFwiLi9Wb2NhYnVsYXJ5UHJvZ3Jlc3NcIjtcclxuaW1wb3J0IFZvY2FidWxhcnlXb3JkU2VjdGlvbiBmcm9tIFwiLi9Wb2NhYnVsYXJ5V29yZFNlY3Rpb25cIjtcclxuaW1wb3J0IFZvY2FidWxhcnlOYXZpZ2F0aW9uIGZyb20gXCIuL1ZvY2FidWxhcnlOYXZpZ2F0aW9uXCI7XHJcblxyXG5pbXBvcnQgdXNlVm9jYWJ1bGFyeSBmcm9tIFwiLi9ob29rcy91c2VWb2NhYnVsYXJ5XCI7XHJcbmltcG9ydCB1c2VMYXN0QWN0aXZpdHkgZnJvbSBcIi4uLy4uLy4uL2hvb2tzL3VzZUxhc3RBY3Rpdml0eVwiO1xyXG5pbXBvcnQgeyBpc0JvbnVzTGV2ZWwsIGdldExldmVsQ29sb3IsIGdldFZvY2FidWxhcnlEYXRhLCBsb2FkVm9jYWJ1bGFyeURhdGEgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvdm9jYWJ1bGFyeS92b2NhYnVsYXJ5RGF0YUhlbHBlclwiO1xyXG5pbXBvcnQgY3JlYXRlU3R5bGVzIGZyb20gXCIuL3N0eWxlXCI7XHJcblxyXG5jb25zdCBWb2NhYnVsYXJ5RXhlcmNpc2UgPSAoeyByb3V0ZSB9KSA9PiB7XHJcbiAgY29uc3QgeyBsZXZlbCwgbW9kZSB9ID0gcm91dGUucGFyYW1zIHx8IHt9O1xyXG4gIGNvbnN0IG5hdmlnYXRpb24gPSB1c2VOYXZpZ2F0aW9uKCk7XHJcbiAgY29uc3Qgc3R5bGVzID0gY3JlYXRlU3R5bGVzKCk7XHJcbiAgY29uc3QgeyBzYXZlQWN0aXZpdHkgfSA9IHVzZUxhc3RBY3Rpdml0eSgpO1xyXG5cclxuICAvLyBEYXRhXHJcbiAgY29uc3QgZmluYWxNb2RlID0gbW9kZSB8fCAoaXNCb251c0xldmVsKGxldmVsKSA/IFwiZmFzdFwiIDogXCJjbGFzc2ljXCIpO1xyXG4gIGNvbnN0IGxldmVsQ29sb3IgPSBnZXRMZXZlbENvbG9yKGxldmVsKTtcclxuICBjb25zdCBbdm9jYWJ1bGFyeURhdGEsIHNldFZvY2FidWxhcnlEYXRhXSA9IHVzZVN0YXRlKG51bGwpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgbGV0IGlzTW91bnRlZCA9IHRydWU7XHJcbiAgICBjb25zdCBsb2FkID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgbG9hZFZvY2FidWxhcnlEYXRhKGxldmVsLCBmaW5hbE1vZGUpO1xyXG4gICAgICBpZiAoaXNNb3VudGVkKSBzZXRWb2NhYnVsYXJ5RGF0YShkYXRhKTtcclxuICAgIH07XHJcbiAgICBsb2FkKCk7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBpc01vdW50ZWQgPSBmYWxzZTtcclxuICAgIH07XHJcbiAgfSwgW2xldmVsLCBmaW5hbE1vZGVdKTtcclxuXHJcbiAgLy8gSG9vayB1bmlmacOpXHJcbiAgY29uc3Qge1xyXG4gICAgY2F0ZWdvcnlJbmRleCxcclxuICAgIHdvcmRJbmRleCxcclxuICAgIHNob3dUcmFuc2xhdGlvbixcclxuICAgIGNvbXBsZXRlZFdvcmRzLFxyXG4gICAgbG9hZGVkLFxyXG4gICAgc2hvd0RldGFpbGVkUHJvZ3Jlc3MsXHJcbiAgICBjdXJyZW50V29yZCxcclxuICAgIGN1cnJlbnRDYXRlZ29yeSxcclxuICAgIGNoYW5nZUNhdGVnb3J5LFxyXG4gICAgdG9nZ2xlVHJhbnNsYXRpb24sXHJcbiAgICB0b2dnbGVEZXRhaWxlZFByb2dyZXNzLFxyXG4gICAgaGFuZGxlTmV4dCxcclxuICAgIGhhbmRsZVByZXZpb3VzLFxyXG4gICAgY2FuR29Ub1ByZXZpb3VzLFxyXG4gICAgaXNMYXN0V29yZEluRXhlcmNpc2UsXHJcbiAgICBkaXNwbGF5LFxyXG4gICAgc2F2ZURhdGEsIC8vIEFqb3V0w6kgaWNpXHJcbiAgfSA9IHVzZVZvY2FidWxhcnkodm9jYWJ1bGFyeURhdGEsIGxldmVsLCBmaW5hbE1vZGUpO1xyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09IFNBVVZFR0FSREUgQUNUSVZJVMOJIFNJTVBMSUZJw4lFID09PT09PT09PT09PT09PT09PT1cclxuICBcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgLy8g4pyFIENPTkRJVElPTiBTSU1QTElGScOJRSBwb3VyIMOpdml0ZXIgYm91Y2xlIGluZmluaWVcclxuICAgIGlmICghbG9hZGVkIHx8ICF2b2NhYnVsYXJ5RGF0YSB8fCAhY3VycmVudFdvcmQpIHJldHVybjtcclxuXHJcbiAgICAvLyDinIUgRMOJUEVOREFOQ0VTIExJTUlUw4lFUyAtIHNldWxlbWVudCB3b3JkSW5kZXggY2hhbmdlXHJcbiAgICBsZXQgdG90YWxXb3JkcyA9IDE1OyAvLyBmYWxsYmFja1xyXG4gICAgXHJcbiAgICBpZiAodm9jYWJ1bGFyeURhdGEuY2F0ZWdvcmllcyAmJiBBcnJheS5pc0FycmF5KHZvY2FidWxhcnlEYXRhLmNhdGVnb3JpZXMpKSB7XHJcbiAgICAgIHRvdGFsV29yZHMgPSB2b2NhYnVsYXJ5RGF0YS5jYXRlZ29yaWVzLnJlZHVjZSgodG90YWwsIGNhdCkgPT4gdG90YWwgKyAoY2F0LndvcmRzPy5sZW5ndGggfHwgMCksIDApO1xyXG4gICAgfSBlbHNlIGlmICh2b2NhYnVsYXJ5RGF0YS5leGVyY2lzZXMgJiYgQXJyYXkuaXNBcnJheSh2b2NhYnVsYXJ5RGF0YS5leGVyY2lzZXMpKSB7XHJcbiAgICAgIHRvdGFsV29yZHMgPSB2b2NhYnVsYXJ5RGF0YS5leGVyY2lzZXMucmVkdWNlKCh0b3RhbCwgZXgpID0+IHRvdGFsICsgKGV4LndvcmRzPy5sZW5ndGggfHwgMCksIDApO1xyXG4gICAgfSBlbHNlIGlmICh2b2NhYnVsYXJ5RGF0YS53b3JkcyAmJiBBcnJheS5pc0FycmF5KHZvY2FidWxhcnlEYXRhLndvcmRzKSkge1xyXG4gICAgICB0b3RhbFdvcmRzID0gdm9jYWJ1bGFyeURhdGEud29yZHMubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGFjdGl2aXR5RGF0YSA9IHtcclxuICAgICAgdGl0bGU6IGBWb2NhYnVsYWlyZSAke2ZpbmFsTW9kZSA9PT0gXCJmYXN0XCIgPyBcIkZhc3RcIiA6IFwiXCJ9YCxcclxuICAgICAgbGV2ZWwsXHJcbiAgICAgIHR5cGU6IFwidm9jYWJ1bGFyeVwiLFxyXG4gICAgICBtb2RlOiBmaW5hbE1vZGUsXHJcbiAgICAgIG1ldGFkYXRhOiB7XHJcbiAgICAgICAgd29yZDogd29yZEluZGV4LCAvLyDinIUgSW5kZXggcG91ciBwcm9ncmVzc2lvbiAoMC1iYXNlZClcclxuICAgICAgICB0b3RhbFdvcmRzLFxyXG4gICAgICAgIGNhdGVnb3J5OiBjdXJyZW50Q2F0ZWdvcnk/Lm5hbWUgfHwgXCJHw6luw6lyYWxcIixcclxuICAgICAgICBjYXRlZ29yeUluZGV4LFxyXG4gICAgICAgIHdvcmRJbmRleFxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHNhdmVBY3Rpdml0eShhY3Rpdml0eURhdGEpO1xyXG4gIH0sIFt3b3JkSW5kZXhdKTsgLy8g4pyFIFNFVUxFTUVOVCB3b3JkSW5kZXggLSBwbHVzIGRlIGJvdWNsZSAhXHJcblxyXG4gIC8vIEFwcGVsIGluaXRpYWwgcG91ciBlbnJlZ2lzdHJlciBsJ2FjdGl2aXTDqSBkw6hzIHF1ZSBsZXMgZG9ubsOpZXMgc29udCBwcsOqdGVzXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghbG9hZGVkIHx8ICF2b2NhYnVsYXJ5RGF0YSB8fCAhY3VycmVudFdvcmQpIHJldHVybjtcclxuXHJcbiAgICBsZXQgdG90YWxXb3JkcyA9IDE1O1xyXG4gICAgaWYgKHZvY2FidWxhcnlEYXRhLmNhdGVnb3JpZXMgJiYgQXJyYXkuaXNBcnJheSh2b2NhYnVsYXJ5RGF0YS5jYXRlZ29yaWVzKSkge1xyXG4gICAgICB0b3RhbFdvcmRzID0gdm9jYWJ1bGFyeURhdGEuY2F0ZWdvcmllcy5yZWR1Y2UoKHRvdGFsLCBjYXQpID0+IHRvdGFsICsgKGNhdC53b3Jkcz8ubGVuZ3RoIHx8IDApLCAwKTtcclxuICAgIH0gZWxzZSBpZiAodm9jYWJ1bGFyeURhdGEuZXhlcmNpc2VzICYmIEFycmF5LmlzQXJyYXkodm9jYWJ1bGFyeURhdGEuZXhlcmNpc2VzKSkge1xyXG4gICAgICB0b3RhbFdvcmRzID0gdm9jYWJ1bGFyeURhdGEuZXhlcmNpc2VzLnJlZHVjZSgodG90YWwsIGV4KSA9PiB0b3RhbCArIChleC53b3Jkcz8ubGVuZ3RoIHx8IDApLCAwKTtcclxuICAgIH0gZWxzZSBpZiAodm9jYWJ1bGFyeURhdGEud29yZHMgJiYgQXJyYXkuaXNBcnJheSh2b2NhYnVsYXJ5RGF0YS53b3JkcykpIHtcclxuICAgICAgdG90YWxXb3JkcyA9IHZvY2FidWxhcnlEYXRhLndvcmRzLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBhY3Rpdml0eURhdGEgPSB7XHJcbiAgICAgIHRpdGxlOiBgVm9jYWJ1bGFpcmUgJHtmaW5hbE1vZGUgPT09IFwiZmFzdFwiID8gXCJGYXN0XCIgOiBcIlwifWAsXHJcbiAgICAgIGxldmVsLFxyXG4gICAgICB0eXBlOiBcInZvY2FidWxhcnlcIixcclxuICAgICAgbW9kZTogZmluYWxNb2RlLFxyXG4gICAgICBtZXRhZGF0YToge1xyXG4gICAgICAgIHdvcmQ6IHdvcmRJbmRleCxcclxuICAgICAgICB0b3RhbFdvcmRzLFxyXG4gICAgICAgIGNhdGVnb3J5OiBjdXJyZW50Q2F0ZWdvcnk/Lm5hbWUgfHwgXCJHw6luw6lyYWxcIixcclxuICAgICAgICBjYXRlZ29yeUluZGV4LFxyXG4gICAgICAgIHdvcmRJbmRleCxcclxuICAgICAgfSxcclxuICAgIH07XHJcblxyXG4gICAgc2F2ZUFjdGl2aXR5KGFjdGl2aXR5RGF0YSk7XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXHJcbiAgfSwgW2xvYWRlZCwgdm9jYWJ1bGFyeURhdGFdKTtcclxuXHJcbiAgLy8gSGFuZGxlcnNcclxuICBjb25zdCBoYW5kbGVCYWNrUHJlc3MgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICByb3V0ZXIucHVzaCh7XHJcbiAgICAgIHBhdGhuYW1lOiBcIi90YWJzL2V4ZXJjaXNlU2VsZWN0aW9uXCIsXHJcbiAgICAgIHBhcmFtczogeyBsZXZlbCB9XHJcbiAgICB9KTtcclxuICB9LCBbbGV2ZWxdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQ2F0ZWdvcnlDaGFuZ2UgPSB1c2VDYWxsYmFjaygoaW5kZXgpID0+IGNoYW5nZUNhdGVnb3J5KGluZGV4KSwgW2NoYW5nZUNhdGVnb3J5XSk7XHJcbiAgY29uc3QgaGFuZGxlQ2F0ZWdvcnlQcm9ncmVzc1ByZXNzID0gdXNlQ2FsbGJhY2soKGluZGV4KSA9PiBjaGFuZ2VDYXRlZ29yeShpbmRleCksIFtjaGFuZ2VDYXRlZ29yeV0pO1xyXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZVByb2dyZXNzRGV0YWlscyA9IHVzZUNhbGxiYWNrKCgpID0+IHRvZ2dsZURldGFpbGVkUHJvZ3Jlc3MoKSwgW3RvZ2dsZURldGFpbGVkUHJvZ3Jlc3NdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTmV4dFdvcmQgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBoYW5kbGVOZXh0KCk7XHJcbiAgICAvLyBBdHRlbmRyZSBsYSBzYXV2ZWdhcmRlIGF2YW50IGRlIG5hdmlndWVyXHJcbiAgICBpZiAodHlwZW9mIHNhdmVEYXRhID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIGF3YWl0IHNhdmVEYXRhKCk7XHJcbiAgICB9XHJcbiAgICBpZiAocmVzdWx0LmNvbXBsZXRlZCkge1xyXG4gICAgICBuYXZpZ2F0aW9uLmdvQmFjaygpO1xyXG4gICAgfVxyXG4gIH0sIFtoYW5kbGVOZXh0LCBuYXZpZ2F0aW9uLCBzYXZlRGF0YV0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVQcmV2aW91c1dvcmQgPSB1c2VDYWxsYmFjaygoKSA9PiBoYW5kbGVQcmV2aW91cygpLCBbaGFuZGxlUHJldmlvdXNdKTtcclxuXHJcbiAgLy8gTG9hZGluZyBzdGF0ZVxyXG4gIGlmICghbG9hZGVkIHx8ICF2b2NhYnVsYXJ5RGF0YSkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPENvbnRhaW5lclxyXG4gICAgICAgIHNhZmVBcmVhXHJcbiAgICAgICAgc2FmZUFyZWFFZGdlcz17Q09OVEFJTkVSX1NBRkVfRURHRVMuQUxMfVxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcj1cIiNmOGZhZmNcIlxyXG4gICAgICAgIHN0YXR1c0JhclN0eWxlPVwiZGFyay1jb250ZW50XCJcclxuICAgICAgPlxyXG4gICAgICAgIDxWaWV3IHN0eWxlPXtzdHlsZXMubG9hZGluZ0NvbnRhaW5lcn0+XHJcbiAgICAgICAgICA8QWN0aXZpdHlJbmRpY2F0b3IgdGVzdElEPVwiYWN0aXZpdHktaW5kaWNhdG9yXCIgc2l6ZT1cImxhcmdlXCIgY29sb3I9e2xldmVsQ29sb3J9IC8+XHJcbiAgICAgICAgPC9WaWV3PlxyXG4gICAgICA8L0NvbnRhaW5lcj5cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPENvbnRhaW5lclxyXG4gICAgICBzYWZlQXJlYVxyXG4gICAgICBzYWZlQXJlYUVkZ2VzPXtDT05UQUlORVJfU0FGRV9FREdFUy5BTEx9XHJcbiAgICAgIHdpdGhTY3JvbGxWaWV3XHJcbiAgICAgIGJhY2tncm91bmRDb2xvcj1cIiNmOGZhZmNcIlxyXG4gICAgICBzdGF0dXNCYXJTdHlsZT1cImRhcmstY29udGVudFwiXHJcbiAgICAgIHdpdGhQYWRkaW5nPXtmYWxzZX1cclxuICAgICAgc2Nyb2xsVmlld1Byb3BzPXt7XHJcbiAgICAgICAgc2hvd3NWZXJ0aWNhbFNjcm9sbEluZGljYXRvcjogZmFsc2UsXHJcbiAgICAgICAgY29udGVudENvbnRhaW5lclN0eWxlOiBzdHlsZXMuc2Nyb2xsQ29udGVudCxcclxuICAgICAgfX1cclxuICAgID5cclxuICAgICAgPFZvY2FidWxhcnlIZWFkZXJcclxuICAgICAgICBsZXZlbD17bGV2ZWx9XHJcbiAgICAgICAgbW9kZT17ZmluYWxNb2RlfVxyXG4gICAgICAgIG9uQmFja1ByZXNzPXtoYW5kbGVCYWNrUHJlc3N9XHJcbiAgICAgIC8+XHJcblxyXG4gICAgICA8Vm9jYWJ1bGFyeVByb2dyZXNzXHJcbiAgICAgICAgdm9jYWJ1bGFyeURhdGE9e3ZvY2FidWxhcnlEYXRhfVxyXG4gICAgICAgIGNvbXBsZXRlZFdvcmRzPXtjb21wbGV0ZWRXb3Jkc31cclxuICAgICAgICBsZXZlbENvbG9yPXtsZXZlbENvbG9yfVxyXG4gICAgICAgIGV4cGFuZGVkPXtzaG93RGV0YWlsZWRQcm9ncmVzc31cclxuICAgICAgICBvblRvZ2dsZUV4cGFuZD17aGFuZGxlVG9nZ2xlUHJvZ3Jlc3NEZXRhaWxzfVxyXG4gICAgICAgIG9uQ2F0ZWdvcnlQcmVzcz17aGFuZGxlQ2F0ZWdvcnlQcm9ncmVzc1ByZXNzfVxyXG4gICAgICAvPlxyXG5cclxuICAgICAgPFZvY2FidWxhcnlDYXRlZ29yeVNlbGVjdG9yXHJcbiAgICAgICAgY2F0ZWdvcmllcz17ZGlzcGxheS5jYXRlZ29yaWVzfVxyXG4gICAgICAgIHNlbGVjdGVkSW5kZXg9e2NhdGVnb3J5SW5kZXh9XHJcbiAgICAgICAgb25TZWxlY3RDYXRlZ29yeT17aGFuZGxlQ2F0ZWdvcnlDaGFuZ2V9XHJcbiAgICAgICAgbGV2ZWxDb2xvcj17bGV2ZWxDb2xvcn1cclxuICAgICAgLz5cclxuXHJcbiAgICAgIDxWb2NhYnVsYXJ5V29yZFNlY3Rpb25cclxuICAgICAgICBjdXJyZW50V29yZD17Y3VycmVudFdvcmR9XHJcbiAgICAgICAgd29yZENvdW50ZXI9e2Rpc3BsYXkud29yZENvdW50ZXJ9XHJcbiAgICAgICAgbW9kZT17ZmluYWxNb2RlfVxyXG4gICAgICAgIGxldmVsPXtsZXZlbH1cclxuICAgICAgICBsZXZlbENvbG9yPXtsZXZlbENvbG9yfVxyXG4gICAgICAgIHNob3dUcmFuc2xhdGlvbj17c2hvd1RyYW5zbGF0aW9ufVxyXG4gICAgICAgIG9uVG9nZ2xlVHJhbnNsYXRpb249e3RvZ2dsZVRyYW5zbGF0aW9ufVxyXG4gICAgICAvPlxyXG5cclxuICAgICAgPFZvY2FidWxhcnlOYXZpZ2F0aW9uXHJcbiAgICAgICAgb25OZXh0PXtoYW5kbGVOZXh0V29yZH1cclxuICAgICAgICBvblByZXZpb3VzPXtoYW5kbGVQcmV2aW91c1dvcmR9XHJcbiAgICAgICAgY2FuR29QcmV2aW91cz17Y2FuR29Ub1ByZXZpb3VzfVxyXG4gICAgICAgIGlzTGFzdD17aXNMYXN0V29yZEluRXhlcmNpc2V9XHJcbiAgICAgICAgbGV2ZWxDb2xvcj17bGV2ZWxDb2xvcn1cclxuICAgICAgLz5cclxuICAgIDwvQ29udGFpbmVyPlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBWb2NhYnVsYXJ5RXhlcmNpc2U7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRUEsSUFBQUEsWUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsV0FBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsTUFBQSxHQUFBSCxPQUFBO0FBRUEsSUFBQUksVUFBQSxHQUFBQyx1QkFBQSxDQUFBTCxPQUFBO0FBQ0EsSUFBQU0saUJBQUEsR0FBQUMsc0JBQUEsQ0FBQVAsT0FBQTtBQUNBLElBQUFRLDJCQUFBLEdBQUFELHNCQUFBLENBQUFQLE9BQUE7QUFDQSxJQUFBUyxtQkFBQSxHQUFBRixzQkFBQSxDQUFBUCxPQUFBO0FBQ0EsSUFBQVUsc0JBQUEsR0FBQUgsc0JBQUEsQ0FBQVAsT0FBQTtBQUNBLElBQUFXLHFCQUFBLEdBQUFKLHNCQUFBLENBQUFQLE9BQUE7QUFFQSxJQUFBWSxlQUFBLEdBQUFMLHNCQUFBLENBQUFQLE9BQUE7QUFDQSxJQUFBYSxpQkFBQSxHQUFBTixzQkFBQSxDQUFBUCxPQUFBO0FBQ0EsSUFBQWMscUJBQUEsR0FBQWQsT0FBQTtBQUNBLElB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