97cd46a6306cccae6ccbc3a535ab7dcc
_getJestObj().mock('expo-router', function () {
  return {
    useFocusEffect: jest.fn(function (callback) {
      return callback();
    }),
    router: {
      push: jest.fn()
    },
    Stack: function Stack(_ref) {
      var children = _ref.children;
      return (0, _jsxRuntime.jsx)(_jsxRuntime.Fragment, {
        children: children
      });
    },
    useLocalSearchParams: function useLocalSearchParams() {
      return {};
    },
    useNavigation: function useNavigation() {
      return {
        navigate: jest.fn(),
        goBack: jest.fn(),
        canGoBack: jest.fn(function () {
          return true;
        }),
        addListener: jest.fn(),
        isFocused: jest.fn(function () {
          return true;
        })
      };
    }
  };
});
_getJestObj().mock('../../src/hooks/useLastActivity', function () {
  return function () {
    return {
      lastActivity: null,
      isLoading: false,
      saveActivity: jest.fn(),
      clearActivity: jest.fn(),
      reload: jest.fn()
    };
  };
});
_getJestObj().mock('../../src/hooks/useActivityMetrics', function () {
  return function () {
    return {
      currentStreak: 5,
      wordsToday: 0,
      timeToday: 0,
      isLoading: false
    };
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _reactNative2 = require("react-native");
var _ProgressContext = require("../../src/contexts/ProgressContext");
var _ThemeContext = require("../../src/contexts/ThemeContext");
var _CurrentLevelContext = require("../../src/contexts/CurrentLevelContext");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var FakeMetricsDisplay = function FakeMetricsDisplay() {
  var _progress$levels, _progress$levels2, _progress$levels3, _progress$levels4;
  var _useProgress = (0, _ProgressContext.useProgress)(),
    progress = _useProgress.progress,
    updateProgress = _useProgress.updateProgress;
  var simulateVocabularyProgress = function simulateVocabularyProgress() {
    updateProgress('A1', 'vocabulary', 80);
  };
  var simulateGrammarProgress = function simulateGrammarProgress() {
    updateProgress('A1', 'grammar', 60);
  };
  var simulateReadingProgress = function simulateReadingProgress() {
    updateProgress('A1', 'reading', 40);
  };
  var simulateMultipleUpdates = function simulateMultipleUpdates() {
    (0, _reactNative.act)(function () {
      updateProgress('A1', 'vocabulary', 90);
      updateProgress('A1', 'grammar', 70);
      updateProgress('A1', 'reading', 50);
    });
  };
  var overallProgress = (_progress$levels = progress.levels) != null && _progress$levels.A1 ? Object.values(progress.levels.A1).reduce(function (sum, val) {
    return sum + (val || 0);
  }, 0) / Object.keys(progress.levels.A1).length : 0;
  return (0, _jsxRuntime.jsxs)(_reactNative2.View, {
    children: [(0, _jsxRuntime.jsxs)(_reactNative2.Text, {
      testID: "overall-progress",
      children: ["Progression globale: ", Math.round(overallProgress), "%"]
    }), (0, _jsxRuntime.jsxs)(_reactNative2.Text, {
      testID: "vocabulary-progress",
      children: ["Vocabulaire: ", ((_progress$levels2 = progress.levels) == null || (_progress$levels2 = _progress$levels2.A1) == null ? void 0 : _progress$levels2.vocabulary) || 0, "%"]
    }), (0, _jsxRuntime.jsxs)(_reactNative2.Text, {
      testID: "grammar-progress",
      children: ["Grammaire: ", ((_progress$levels3 = progress.levels) == null || (_progress$levels3 = _progress$levels3.A1) == null ? void 0 : _progress$levels3.grammar) || 0, "%"]
    }), (0, _jsxRuntime.jsxs)(_reactNative2.Text, {
      testID: "reading-progress",
      children: ["Lecture: ", ((_progress$levels4 = progress.levels) == null || (_progress$levels4 = _progress$levels4.A1) == null ? void 0 : _progress$levels4.reading) || 0, "%"]
    }), (0, _jsxRuntime.jsx)(_reactNative2.TouchableOpacity, {
      testID: "vocabulary-button",
      onPress: simulateVocabularyProgress,
      children: (0, _jsxRuntime.jsx)(_reactNative2.Text, {
        children: "Progression Vocabulaire"
      })
    }), (0, _jsxRuntime.jsx)(_reactNative2.TouchableOpacity, {
      testID: "grammar-button",
      onPress: simulateGrammarProgress,
      children: (0, _jsxRuntime.jsx)(_reactNative2.Text, {
        children: "Progression Grammaire"
      })
    }), (0, _jsxRuntime.jsx)(_reactNative2.TouchableOpacity, {
      testID: "reading-button",
      onPress: simulateReadingProgress,
      children: (0, _jsxRuntime.jsx)(_reactNative2.Text, {
        children: "Progression Lecture"
      })
    }), (0, _jsxRuntime.jsx)(_reactNative2.TouchableOpacity, {
      testID: "multiple-updates",
      onPress: simulateMultipleUpdates,
      children: (0, _jsxRuntime.jsx)(_reactNative2.Text, {
        children: "Mises \xE0 jour multiples"
      })
    })]
  });
};
var FakeMetricsObserver = function FakeMetricsObserver() {
  var _progress$levels5, _progress$levels6, _progress$levels7;
  var _useProgress2 = (0, _ProgressContext.useProgress)(),
    progress = _useProgress2.progress;
  return (0, _jsxRuntime.jsxs)(_reactNative2.View, {
    children: [(0, _jsxRuntime.jsxs)(_reactNative2.Text, {
      testID: "observer-vocabulary",
      children: ["Obs: ", ((_progress$levels5 = progress.levels) == null || (_progress$levels5 = _progress$levels5.A1) == null ? void 0 : _progress$levels5.vocabulary) || 0, "%"]
    }), (0, _jsxRuntime.jsxs)(_reactNative2.Text, {
      testID: "observer-grammar",
      children: ["Obs: ", ((_progress$levels6 = progress.levels) == null || (_progress$levels6 = _progress$levels6.A1) == null ? void 0 : _progress$levels6.grammar) || 0, "%"]
    }), (0, _jsxRuntime.jsxs)(_reactNative2.Text, {
      testID: "observer-reading",
      children: ["Obs: ", ((_progress$levels7 = progress.levels) == null || (_progress$levels7 = _progress$levels7.A1) == null ? void 0 : _progress$levels7.reading) || 0, "%"]
    })]
  });
};
describe('Scénario 1: Métriques en temps réel - Mise à jour instantanée', function () {
  beforeEach(function () {
    jest.clearAllMocks();
  });
  it("devrait mettre à jour les métriques instantanément après modification", (0, _asyncToGenerator2.default)(function* () {
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ThemeContext.ThemeProvider, {
        children: (0, _jsxRuntime.jsx)(_ProgressContext.ProgressProvider, {
          children: (0, _jsxRuntime.jsx)(FakeMetricsDisplay, {})
        })
      })),
      getByTestId = _render.getByTestId;
    expect(getByTestId('vocabulary-progress')).toHaveTextContent('Vocabulaire: 0%');
    expect(getByTestId('grammar-progress')).toHaveTextContent('Grammaire: 0%');
    expect(getByTestId('reading-progress')).toHaveTextContent('Lecture: 0%');
    _reactNative.fireEvent.press(getByTestId('vocabulary-button'));
    yield (0, _reactNative.waitFor)(function () {
      expect(getByTestId('vocabulary-progress')).toHaveTextContent('Vocabulaire: 80%');
    });
    _reactNative.fireEvent.press(getByTestId('grammar-button'));
    yield (0, _reactNative.waitFor)(function () {
      expect(getByTestId('grammar-progress')).toHaveTextContent('Grammaire: 60%');
    });
    _reactNative.fireEvent.press(getByTestId('reading-button'));
    yield (0, _reactNative.waitFor)(function () {
      expect(getByTestId('reading-progress')).toHaveTextContent('Lecture: 40%');
    });
  }));
  it("devrait calculer correctement la progression globale", (0, _asyncToGenerator2.default)(function* () {
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ThemeContext.ThemeProvider, {
        children: (0, _jsxRuntime.jsx)(_ProgressContext.ProgressProvider, {
          children: (0, _jsxRuntime.jsx)(FakeMetricsDisplay, {})
        })
      })),
      getByTestId = _render2.getByTestId;
    expect(getByTestId('overall-progress')).toHaveTextContent('Progression globale: 0%');
    _reactNative.fireEvent.press(getByTestId('vocabulary-button'));
    _reactNative.fireEvent.press(getByTestId('grammar-button'));
    _reactNative.fireEvent.press(getByTestId('reading-button'));
    yield (0, _reactNative.waitFor)(function () {
      expect(getByTestId('overall-progress')).toHaveTextContent('Progression globale: 60%');
    });
  }));
});
describe('Scénario 2: Synchronisation entre composants', function () {
  beforeEach(function () {
    jest.clearAllMocks();
  });
  it("devrait synchroniser les métriques entre plusieurs composants", (0, _asyncToGenerator2.default)(function* () {
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ThemeContext.ThemeProvider, {
        children: (0, _jsxRuntime.jsx)(_ProgressContext.ProgressProvider, {
          children: (0, _jsxRuntime.jsxs)(_CurrentLevelContext.CurrentLevelProvider, {
            children: [(0, _jsxRuntime.jsx)(FakeMetricsDisplay, {}), (0, _jsxRuntime.jsx)(FakeMetricsObserver, {})]
          })
        })
      })),
      getByTestId = _render3.getByTestId;
    expect(getByTestId('vocabulary-progress')).toBeTruthy();
    expect(getByTestId('observer-vocabulary')).toBeTruthy();
    expect(getByTestId('vocabulary-progress')).toHaveTextContent('Vocabulaire: 0%');
    expect(getByTestId('observer-vocabulary')).toHaveTextContent('Obs: 0%');
    _reactNative.fireEvent.press(getByTestId('vocabulary-button'));
    yield (0, _reactNative.waitFor)(function () {
      expect(getByTestId('vocabulary-progress')).toHaveTextContent('Vocabulaire: 80%');
      expect(getByTestId('observer-vocabulary')).toHaveTextContent('Obs: 80%');
    });
  }));
  it("devrait maintenir la cohérence lors de mises à jour multiples", (0, _asyncToGenerator2.default)(function* () {
    var _render4 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ThemeContext.ThemeProvider, {
        children: (0, _jsxRuntime.jsx)(_ProgressContext.ProgressProvider, {
          children: (0, _jsxRuntime.jsxs)(_CurrentLevelContext.CurrentLevelProvider, {
            children: [(0, _jsxRuntime.jsx)(FakeMetricsDisplay, {}), (0, _jsxRuntime.jsx)(FakeMetricsObserver, {})]
          })
        })
      })),
      getByTestId = _render4.getByTestId;
    _reactNative.fireEvent.press(getByTestId('multiple-updates'));
    yield (0, _reactNative.waitFor)(function () {
      expect(getByTestId('vocabulary-progress')).toHaveTextContent('Vocabulaire: 90%');
      expect(getByTestId('observer-vocabulary')).toHaveTextContent('Obs: 90%');
      expect(getByTestId('grammar-progress')).toHaveTextContent('Grammaire: 70%');
      expect(getByTestId('observer-grammar')).toHaveTextContent('Obs: 70%');
      expect(getByTestId('reading-progress')).toHaveTextContent('Lecture: 50%');
      expect(getByTestId('observer-reading')).toHaveTextContent('Obs: 50%');
    });
  }));
});
describe('Scénario 3: Performance et réactivité', function () {
  beforeEach(function () {
    jest.clearAllMocks();
  });
  it("devrait gérer les mises à jour rapides sans perte de données", (0, _asyncToGenerator2.default)(function* () {
    var _render5 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ThemeContext.ThemeProvider, {
        children: (0, _jsxRuntime.jsx)(_ProgressContext.ProgressProvider, {
          children: (0, _jsxRuntime.jsx)(FakeMetricsDisplay, {})
        })
      })),
      getByTestId = _render5.getByTestId;
    (0, _reactNative.act)(function () {
      _reactNative.fireEvent.press(getByTestId('vocabulary-button'));
      _reactNative.fireEvent.press(getByTestId('grammar-button'));
      _reactNative.fireEvent.press(getByTestId('reading-button'));
    });
    yield (0, _reactNative.waitFor)(function () {
      expect(getByTestId('vocabulary-progress')).toHaveTextContent('Vocabulaire: 80%');
      expect(getByTestId('grammar-progress')).toHaveTextContent('Grammaire: 60%');
      expect(getByTestId('reading-progress')).toHaveTextContent('Lecture: 40%');
    });
  }));
  it("devrait maintenir la cohérence des données lors de stress", (0, _asyncToGenerator2.default)(function* () {
    var _render6 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ThemeContext.ThemeProvider, {
        children: (0, _jsxRuntime.jsx)(_ProgressContext.ProgressProvider, {
          children: (0, _jsxRuntime.jsx)(FakeMetricsDisplay, {})
        })
      })),
      getByTestId = _render6.getByTestId;
    for (var i = 0; i < 10; i++) {
      (0, _reactNative.act)(function () {
        _reactNative.fireEvent.press(getByTestId('vocabulary-button'));
      });
    }
    yield (0, _reactNative.waitFor)(function () {
      expect(getByTestId('vocabulary-progress')).toHaveTextContent('Vocabulaire: 80%');
    });
  }));
});
describe('Scénario 4: Gestion des erreurs et cas limites', function () {
  beforeEach(function () {
    jest.clearAllMocks();
  });
  it("devrait gérer les valeurs de progression invalides", (0, _asyncToGenerator2.default)(function* () {
    var _render7 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ThemeContext.ThemeProvider, {
        children: (0, _jsxRuntime.jsx)(_ProgressContext.ProgressProvider, {
          children: (0, _jsxRuntime.jsx)(FakeMetricsDisplay, {})
        })
      })),
      getByTestId = _render7.getByTestId;
    expect(getByTestId('overall-progress')).toHaveTextContent('Progression globale: 0%');
    (0, _reactNative.act)(function () {
      _reactNative.fireEvent.press(getByTestId('vocabulary-button'));
    });
    yield (0, _reactNative.waitFor)(function () {
      expect(getByTestId('overall-progress')).toHaveTextContent('Progression globale: 80%');
    });
  }));
  it("devrait gérer l'absence de données de progression", (0, _asyncToGenerator2.default)(function* () {
    var _render8 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ThemeContext.ThemeProvider, {
        children: (0, _jsxRuntime.jsx)(_ProgressContext.ProgressProvider, {
          children: (0, _jsxRuntime.jsx)(FakeMetricsDisplay, {})
        })
      })),
      getByTestId = _render8.getByTestId;
    expect(getByTestId('overall-progress')).toHaveTextContent('Progression globale: 0%');
    expect(getByTestId('vocabulary-progress')).toHaveTextContent('Vocabulaire: 0%');
    expect(getByTestId('grammar-progress')).toHaveTextContent('Grammaire: 0%');
    expect(getByTestId('reading-progress')).toHaveTextContent('Lecture: 0%');
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ1c2VGb2N1c0VmZmVjdCIsImplc3QiLCJmbiIsImNhbGxiYWNrIiwicm91dGVyIiwicHVzaCIsIlN0YWNrIiwiX3JlZiIsImNoaWxkcmVuIiwiX2pzeFJ1bnRpbWUiLCJqc3giLCJGcmFnbWVudCIsInVzZUxvY2FsU2VhcmNoUGFyYW1zIiwidXNlTmF2aWdhdGlvbiIsIm5hdmlnYXRlIiwiZ29CYWNrIiwiY2FuR29CYWNrIiwiYWRkTGlzdGVuZXIiLCJpc0ZvY3VzZWQiLCJsYXN0QWN0aXZpdHkiLCJpc0xvYWRpbmciLCJzYXZlQWN0aXZpdHkiLCJjbGVhckFjdGl2aXR5IiwicmVsb2FkIiwiY3VycmVudFN0cmVhayIsIndvcmRzVG9kYXkiLCJ0aW1lVG9kYXkiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWFjdCIsIl9yZWFjdE5hdGl2ZSIsIl9yZWFjdE5hdGl2ZTIiLCJfUHJvZ3Jlc3NDb250ZXh0IiwiX1RoZW1lQ29udGV4dCIsIl9DdXJyZW50TGV2ZWxDb250ZXh0IiwiX3JlcXVpcmUiLCJGYWtlTWV0cmljc0Rpc3BsYXkiLCJfcHJvZ3Jlc3MkbGV2ZWxzIiwiX3Byb2dyZXNzJGxldmVsczIiLCJfcHJvZ3Jlc3MkbGV2ZWxzMyIsIl9wcm9ncmVzcyRsZXZlbHM0IiwiX3VzZVByb2dyZXNzIiwidXNlUHJvZ3Jlc3MiLCJwcm9ncmVzcyIsInVwZGF0ZVByb2dyZXNzIiwic2ltdWxhdGVWb2NhYnVsYXJ5UHJvZ3Jlc3MiLCJzaW11bGF0ZUdyYW1tYXJQcm9ncmVzcyIsInNpbXVsYXRlUmVhZGluZ1Byb2dyZXNzIiwic2ltdWxhdGVNdWx0aXBsZVVwZGF0ZXMiLCJhY3QiLCJvdmVyYWxsUHJvZ3Jlc3MiLCJsZXZlbHMiLCJBMSIsIk9iamVjdCIsInZhbHVlcyIsInJlZHVjZSIsInN1bSIsInZhbCIsImtleXMiLCJsZW5ndGgiLCJqc3hzIiwiVmlldyIsIlRleHQiLCJ0ZXN0SUQiLCJNYXRoIiwicm91bmQiLCJ2b2NhYnVsYXJ5IiwiZ3JhbW1hciIsInJlYWRpbmciLCJUb3VjaGFibGVPcGFjaXR5Iiwib25QcmVzcyIsIkZha2VNZXRyaWNzT2JzZXJ2ZXIiLCJfcHJvZ3Jlc3MkbGV2ZWxzNSIsIl9wcm9ncmVzcyRsZXZlbHM2IiwiX3Byb2dyZXNzJGxldmVsczciLCJfdXNlUHJvZ3Jlc3MyIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwiZGVmYXVsdCIsIl9yZW5kZXIiLCJyZW5kZXIiLCJUaGVtZVByb3ZpZGVyIiwiUHJvZ3Jlc3NQcm92aWRlciIsImdldEJ5VGVzdElkIiwiZXhwZWN0IiwidG9IYXZlVGV4dENvbnRlbnQiLCJmaXJlRXZlbnQiLCJwcmVzcyIsIndhaXRGb3IiLCJfcmVuZGVyMiIsIl9yZW5kZXIzIiwiQ3VycmVudExldmVsUHJvdmlkZXIiLCJ0b0JlVHJ1dGh5IiwiX3JlbmRlcjQiLCJfcmVuZGVyNSIsIl9yZW5kZXI2IiwiaSIsIl9yZW5kZXI3IiwiX3JlbmRlcjgiXSwic291cmNlcyI6WyJyZWFsLXRpbWUtbWV0cmljcy50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIF9fdGVzdHNfXy9pbnRlZ3JhdGlvbi9yZWFsLXRpbWUtbWV0cmljcy50ZXN0LmpzXHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHJlbmRlciwgZmlyZUV2ZW50LCB3YWl0Rm9yLCBhY3QgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZSc7XHJcbmltcG9ydCB7IFRvdWNoYWJsZU9wYWNpdHksIFRleHQsIFZpZXcgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xyXG5pbXBvcnQgeyBQcm9ncmVzc1Byb3ZpZGVyLCB1c2VQcm9ncmVzcyB9IGZyb20gJy4uLy4uL3NyYy9jb250ZXh0cy9Qcm9ncmVzc0NvbnRleHQnO1xyXG5pbXBvcnQgeyBUaGVtZVByb3ZpZGVyIH0gZnJvbSAnLi4vLi4vc3JjL2NvbnRleHRzL1RoZW1lQ29udGV4dCc7XHJcbmltcG9ydCB7IEN1cnJlbnRMZXZlbFByb3ZpZGVyIH0gZnJvbSAnLi4vLi4vc3JjL2NvbnRleHRzL0N1cnJlbnRMZXZlbENvbnRleHQnO1xyXG5cclxuLy8gTW9jayBkZSBleHBvLXJvdXRlclxyXG5qZXN0Lm1vY2soJ2V4cG8tcm91dGVyJywgKCkgPT4gKHtcclxuICB1c2VGb2N1c0VmZmVjdDogamVzdC5mbihjYWxsYmFjayA9PiBjYWxsYmFjaygpKSxcclxuICByb3V0ZXI6IHtcclxuICAgIHB1c2g6IGplc3QuZm4oKSxcclxuICB9LFxyXG4gIFN0YWNrOiAoeyBjaGlsZHJlbiB9KSA9PiA8PntjaGlsZHJlbn08Lz4sXHJcbiAgdXNlTG9jYWxTZWFyY2hQYXJhbXM6ICgpID0+ICh7fSksXHJcbiAgdXNlTmF2aWdhdGlvbjogKCkgPT4gKHtcclxuICAgIG5hdmlnYXRlOiBqZXN0LmZuKCksXHJcbiAgICBnb0JhY2s6IGplc3QuZm4oKSxcclxuICAgIGNhbkdvQmFjazogamVzdC5mbigoKSA9PiB0cnVlKSxcclxuICAgIGFkZExpc3RlbmVyOiBqZXN0LmZuKCksXHJcbiAgICBpc0ZvY3VzZWQ6IGplc3QuZm4oKCkgPT4gdHJ1ZSksXHJcbiAgfSksXHJcbn0pKTtcclxuXHJcbi8vIE1vY2sgZGVzIGhvb2tzXHJcbmplc3QubW9jaygnLi4vLi4vc3JjL2hvb2tzL3VzZUxhc3RBY3Rpdml0eScsICgpID0+ICgpID0+ICh7XHJcbiAgbGFzdEFjdGl2aXR5OiBudWxsLFxyXG4gIGlzTG9hZGluZzogZmFsc2UsXHJcbiAgc2F2ZUFjdGl2aXR5OiBqZXN0LmZuKCksXHJcbiAgY2xlYXJBY3Rpdml0eTogamVzdC5mbigpLFxyXG4gIHJlbG9hZDogamVzdC5mbigpLFxyXG59KSk7XHJcblxyXG5qZXN0Lm1vY2soJy4uLy4uL3NyYy9ob29rcy91c2VBY3Rpdml0eU1ldHJpY3MnLCAoKSA9PiAoKSA9PiAoe1xyXG4gIGN1cnJlbnRTdHJlYWs6IDUsXHJcbiAgd29yZHNUb2RheTogMCxcclxuICB0aW1lVG9kYXk6IDAsXHJcbiAgaXNMb2FkaW5nOiBmYWxzZSxcclxufSkpO1xyXG5cclxuLy8gQ29tcG9zYW50IGRlIHRlc3QgcG91ciBzaW11bGVyIGxlcyBtw6l0cmlxdWVzIGVuIHRlbXBzIHLDqWVsXHJcbmNvbnN0IEZha2VNZXRyaWNzRGlzcGxheSA9ICgpID0+IHtcclxuICBjb25zdCB7IHByb2dyZXNzLCB1cGRhdGVQcm9ncmVzcyB9ID0gdXNlUHJvZ3Jlc3MoKTtcclxuXHJcbiAgY29uc3Qgc2ltdWxhdGVWb2NhYnVsYXJ5UHJvZ3Jlc3MgPSAoKSA9PiB7XHJcbiAgICB1cGRhdGVQcm9ncmVzcygnQTEnLCAndm9jYWJ1bGFyeScsIDgwKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBzaW11bGF0ZUdyYW1tYXJQcm9ncmVzcyA9ICgpID0+IHtcclxuICAgIHVwZGF0ZVByb2dyZXNzKCdBMScsICdncmFtbWFyJywgNjApO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNpbXVsYXRlUmVhZGluZ1Byb2dyZXNzID0gKCkgPT4ge1xyXG4gICAgdXBkYXRlUHJvZ3Jlc3MoJ0ExJywgJ3JlYWRpbmcnLCA0MCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc2ltdWxhdGVNdWx0aXBsZVVwZGF0ZXMgPSAoKSA9PiB7XHJcbiAgICBhY3QoKCkgPT4ge1xyXG4gICAgICB1cGRhdGVQcm9ncmVzcygnQTEnLCAndm9jYWJ1bGFyeScsIDkwKTtcclxuICAgICAgdXBkYXRlUHJvZ3Jlc3MoJ0ExJywgJ2dyYW1tYXInLCA3MCk7XHJcbiAgICAgIHVwZGF0ZVByb2dyZXNzKCdBMScsICdyZWFkaW5nJywgNTApO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLy8gQ2FsY3VsZXIgbGEgcHJvZ3Jlc3Npb24gZ2xvYmFsZVxyXG4gIGNvbnN0IG92ZXJhbGxQcm9ncmVzcyA9IHByb2dyZXNzLmxldmVscz8uQTEgXHJcbiAgICA/IE9iamVjdC52YWx1ZXMocHJvZ3Jlc3MubGV2ZWxzLkExKS5yZWR1Y2UoKHN1bSwgdmFsKSA9PiBzdW0gKyAodmFsIHx8IDApLCAwKSAvIE9iamVjdC5rZXlzKHByb2dyZXNzLmxldmVscy5BMSkubGVuZ3RoXHJcbiAgICA6IDA7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8Vmlldz5cclxuICAgICAgPFRleHQgdGVzdElEPVwib3ZlcmFsbC1wcm9ncmVzc1wiPlxyXG4gICAgICAgIFByb2dyZXNzaW9uIGdsb2JhbGU6IHtNYXRoLnJvdW5kKG92ZXJhbGxQcm9ncmVzcyl9JVxyXG4gICAgICA8L1RleHQ+XHJcbiAgICAgIDxUZXh0IHRlc3RJRD1cInZvY2FidWxhcnktcHJvZ3Jlc3NcIj5cclxuICAgICAgICBWb2NhYnVsYWlyZToge3Byb2dyZXNzLmxldmVscz8uQTE/LnZvY2FidWxhcnkgfHwgMH0lXHJcbiAgICAgIDwvVGV4dD5cclxuICAgICAgPFRleHQgdGVzdElEPVwiZ3JhbW1hci1wcm9ncmVzc1wiPlxyXG4gICAgICAgIEdyYW1tYWlyZToge3Byb2dyZXNzLmxldmVscz8uQTE/LmdyYW1tYXIgfHwgMH0lXHJcbiAgICAgIDwvVGV4dD5cclxuICAgICAgPFRleHQgdGVzdElEPVwicmVhZGluZy1wcm9ncmVzc1wiPlxyXG4gICAgICAgIExlY3R1cmU6IHtwcm9ncmVzcy5sZXZlbHM/LkExPy5yZWFkaW5nIHx8IDB9JVxyXG4gICAgICA8L1RleHQ+XHJcbiAgICAgIFxyXG4gICAgICA8VG91Y2hhYmxlT3BhY2l0eSB0ZXN0SUQ9XCJ2b2NhYnVsYXJ5LWJ1dHRvblwiIG9uUHJlc3M9e3NpbXVsYXRlVm9jYWJ1bGFyeVByb2dyZXNzfT5cclxuICAgICAgICA8VGV4dD5Qcm9ncmVzc2lvbiBWb2NhYnVsYWlyZTwvVGV4dD5cclxuICAgICAgPC9Ub3VjaGFibGVPcGFjaXR5PlxyXG4gICAgICBcclxuICAgICAgPFRvdWNoYWJsZU9wYWNpdHkgdGVzdElEPVwiZ3JhbW1hci1idXR0b25cIiBvblByZXNzPXtzaW11bGF0ZUdyYW1tYXJQcm9ncmVzc30+XHJcbiAgICAgICAgPFRleHQ+UHJvZ3Jlc3Npb24gR3JhbW1haXJlPC9UZXh0PlxyXG4gICAgICA8L1RvdWNoYWJsZU9wYWNpdHk+XHJcbiAgICAgIFxyXG4gICAgICA8VG91Y2hhYmxlT3BhY2l0eSB0ZXN0SUQ9XCJyZWFkaW5nLWJ1dHRvblwiIG9uUHJlc3M9e3NpbXVsYXRlUmVhZGluZ1Byb2dyZXNzfT5cclxuICAgICAgICA8VGV4dD5Qcm9ncmVzc2lvbiBMZWN0dXJlPC9UZXh0PlxyXG4gICAgICA8L1RvdWNoYWJsZU9wYWNpdHk+XHJcbiAgICAgIFxyXG4gICAgICA8VG91Y2hhYmxlT3BhY2l0eSB0ZXN0SUQ9XCJtdWx0aXBsZS11cGRhdGVzXCIgb25QcmVzcz17c2ltdWxhdGVNdWx0aXBsZVVwZGF0ZXN9PlxyXG4gICAgICAgIDxUZXh0Pk1pc2VzIMOgIGpvdXIgbXVsdGlwbGVzPC9UZXh0PlxyXG4gICAgICA8L1RvdWNoYWJsZU9wYWNpdHk+XHJcbiAgICA8L1ZpZXc+XHJcbiAgKTtcclxufTtcclxuXHJcbi8vIENvbXBvc2FudCBkZSB0ZXN0IHBvdXIgdsOpcmlmaWVyIGxhIHN5bmNocm9uaXNhdGlvblxyXG5jb25zdCBGYWtlTWV0cmljc09ic2VydmVyID0gKCkgPT4ge1xyXG4gIGNvbnN0IHsgcHJvZ3Jlc3MgfSA9IHVzZVByb2dyZXNzKCk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8Vmlldz5cclxuICAgICAgPFRleHQgdGVzdElEPVwib2JzZXJ2ZXItdm9jYWJ1bGFyeVwiPlxyXG4gICAgICAgIE9iczoge3Byb2dyZXNzLmxldmVscz8uQTE/LnZvY2FidWxhcnkgfHwgMH0lXHJcbiAgICAgIDwvVGV4dD5cclxuICAgICAgPFRleHQgdGVzdElEPVwib2JzZXJ2ZXItZ3JhbW1hclwiPlxyXG4gICAgICAgIE9iczoge3Byb2dyZXNzLmxldmVscz8uQTE/LmdyYW1tYXIgfHwgMH0lXHJcbiAgICAgIDwvVGV4dD5cclxuICAgICAgPFRleHQgdGVzdElEPVwib2JzZXJ2ZXItcmVhZGluZ1wiPlxyXG4gICAgICAgIE9iczoge3Byb2dyZXNzLmxldmVscz8uQTE/LnJlYWRpbmcgfHwgMH0lXHJcbiAgICAgIDwvVGV4dD5cclxuICAgIDwvVmlldz5cclxuICApO1xyXG59O1xyXG5cclxuZGVzY3JpYmUoJ1Njw6luYXJpbyAxOiBNw6l0cmlxdWVzIGVuIHRlbXBzIHLDqWVsIC0gTWlzZSDDoCBqb3VyIGluc3RhbnRhbsOpZScsICgpID0+IHtcclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG4gIH0pO1xyXG5cclxuICBpdChcImRldnJhaXQgbWV0dHJlIMOgIGpvdXIgbGVzIG3DqXRyaXF1ZXMgaW5zdGFudGFuw6ltZW50IGFwcsOocyBtb2RpZmljYXRpb25cIiwgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgeyBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyKFxyXG4gICAgICA8VGhlbWVQcm92aWRlcj5cclxuICAgICAgICA8UHJvZ3Jlc3NQcm92aWRlcj5cclxuICAgICAgICAgIDxGYWtlTWV0cmljc0Rpc3BsYXkgLz5cclxuICAgICAgICA8L1Byb2dyZXNzUHJvdmlkZXI+XHJcbiAgICAgIDwvVGhlbWVQcm92aWRlcj5cclxuICAgICk7XHJcblxyXG4gICAgLy8gVsOpcmlmaWVyIGwnw6l0YXQgaW5pdGlhbFxyXG4gICAgZXhwZWN0KGdldEJ5VGVzdElkKCd2b2NhYnVsYXJ5LXByb2dyZXNzJykpLnRvSGF2ZVRleHRDb250ZW50KCdWb2NhYnVsYWlyZTogMCUnKTtcclxuICAgIGV4cGVjdChnZXRCeVRlc3RJZCgnZ3JhbW1hci1wcm9ncmVzcycpKS50b0hhdmVUZXh0Q29udGVudCgnR3JhbW1haXJlOiAwJScpO1xyXG4gICAgZXhwZWN0KGdldEJ5VGVzdElkKCdyZWFkaW5nLXByb2dyZXNzJykpLnRvSGF2ZVRleHRDb250ZW50KCdMZWN0dXJlOiAwJScpO1xyXG5cclxuICAgIC8vIFNpbXVsZXIgbGEgcHJvZ3Jlc3Npb24gZW4gdm9jYWJ1bGFpcmVcclxuICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRlc3RJZCgndm9jYWJ1bGFyeS1idXR0b24nKSk7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChnZXRCeVRlc3RJZCgndm9jYWJ1bGFyeS1wcm9ncmVzcycpKS50b0hhdmVUZXh0Q29udGVudCgnVm9jYWJ1bGFpcmU6IDgwJScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gU2ltdWxlciBsYSBwcm9ncmVzc2lvbiBlbiBncmFtbWFpcmVcclxuICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRlc3RJZCgnZ3JhbW1hci1idXR0b24nKSk7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChnZXRCeVRlc3RJZCgnZ3JhbW1hci1wcm9ncmVzcycpKS50b0hhdmVUZXh0Q29udGVudCgnR3JhbW1haXJlOiA2MCUnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFNpbXVsZXIgbGEgcHJvZ3Jlc3Npb24gZW4gbGVjdHVyZVxyXG4gICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGVzdElkKCdyZWFkaW5nLWJ1dHRvbicpKTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KGdldEJ5VGVzdElkKCdyZWFkaW5nLXByb2dyZXNzJykpLnRvSGF2ZVRleHRDb250ZW50KCdMZWN0dXJlOiA0MCUnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBpdChcImRldnJhaXQgY2FsY3VsZXIgY29ycmVjdGVtZW50IGxhIHByb2dyZXNzaW9uIGdsb2JhbGVcIiwgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgeyBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyKFxyXG4gICAgICA8VGhlbWVQcm92aWRlcj5cclxuICAgICAgICA8UHJvZ3Jlc3NQcm92aWRlcj5cclxuICAgICAgICAgIDxGYWtlTWV0cmljc0Rpc3BsYXkgLz5cclxuICAgICAgICA8L1Byb2dyZXNzUHJvdmlkZXI+XHJcbiAgICAgIDwvVGhlbWVQcm92aWRlcj5cclxuICAgICk7XHJcblxyXG4gICAgLy8gVsOpcmlmaWVyIGwnw6l0YXQgaW5pdGlhbFxyXG4gICAgZXhwZWN0KGdldEJ5VGVzdElkKCdvdmVyYWxsLXByb2dyZXNzJykpLnRvSGF2ZVRleHRDb250ZW50KCdQcm9ncmVzc2lvbiBnbG9iYWxlOiAwJScpO1xyXG5cclxuICAgIC8vIFNpbXVsZXIgZGVzIHByb2dyZXNzaW9uc1xyXG4gICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGVzdElkKCd2b2NhYnVsYXJ5LWJ1dHRvbicpKTsgLy8gODAlXHJcbiAgICBmaXJlRXZlbnQucHJlc3MoZ2V0QnlUZXN0SWQoJ2dyYW1tYXItYnV0dG9uJykpOyAgICAvLyA2MCVcclxuICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRlc3RJZCgncmVhZGluZy1idXR0b24nKSk7ICAgIC8vIDQwJVxyXG5cclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICAvLyAoODAgKyA2MCArIDQwKSAvIDMgPSA2MCVcclxuICAgICAgZXhwZWN0KGdldEJ5VGVzdElkKCdvdmVyYWxsLXByb2dyZXNzJykpLnRvSGF2ZVRleHRDb250ZW50KCdQcm9ncmVzc2lvbiBnbG9iYWxlOiA2MCUnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbmRlc2NyaWJlKCdTY8OpbmFyaW8gMjogU3luY2hyb25pc2F0aW9uIGVudHJlIGNvbXBvc2FudHMnLCAoKSA9PiB7XHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICB9KTtcclxuXHJcbiAgaXQoXCJkZXZyYWl0IHN5bmNocm9uaXNlciBsZXMgbcOpdHJpcXVlcyBlbnRyZSBwbHVzaWV1cnMgY29tcG9zYW50c1wiLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGdldEJ5VGVzdElkIH0gPSByZW5kZXIoXHJcbiAgICAgIDxUaGVtZVByb3ZpZGVyPlxyXG4gICAgICAgIDxQcm9ncmVzc1Byb3ZpZGVyPlxyXG4gICAgICAgICAgPEN1cnJlbnRMZXZlbFByb3ZpZGVyPlxyXG4gICAgICAgICAgICA8RmFrZU1ldHJpY3NEaXNwbGF5IC8+XHJcbiAgICAgICAgICAgIDxGYWtlTWV0cmljc09ic2VydmVyIC8+XHJcbiAgICAgICAgICA8L0N1cnJlbnRMZXZlbFByb3ZpZGVyPlxyXG4gICAgICAgIDwvUHJvZ3Jlc3NQcm92aWRlcj5cclxuICAgICAgPC9UaGVtZVByb3ZpZGVyPlxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBWw6lyaWZpZXIgcXVlIGxlcyBkZXV4IGNvbXBvc2FudHMgc29udCByZW5kdXNcclxuICAgIGV4cGVjdChnZXRCeVRlc3RJZCgndm9jYWJ1bGFyeS1wcm9ncmVzcycpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICBleHBlY3QoZ2V0QnlUZXN0SWQoJ29ic2VydmVyLXZvY2FidWxhcnknKSkudG9CZVRydXRoeSgpO1xyXG5cclxuICAgIC8vIFbDqXJpZmllciBsJ8OpdGF0IGluaXRpYWwgc3luY2hyb25pc8OpXHJcbiAgICBleHBlY3QoZ2V0QnlUZXN0SWQoJ3ZvY2FidWxhcnktcHJvZ3Jlc3MnKSkudG9IYXZlVGV4dENvbnRlbnQoJ1ZvY2FidWxhaXJlOiAwJScpO1xyXG4gICAgZXhwZWN0KGdldEJ5VGVzdElkKCdvYnNlcnZlci12b2NhYnVsYXJ5JykpLnRvSGF2ZVRleHRDb250ZW50KCdPYnM6IDAlJyk7XHJcblxyXG4gICAgLy8gU2ltdWxlciB1bmUgbWlzZSDDoCBqb3VyXHJcbiAgICBmaXJlRXZlbnQucHJlc3MoZ2V0QnlUZXN0SWQoJ3ZvY2FidWxhcnktYnV0dG9uJykpO1xyXG5cclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICAvLyBMZXMgZGV1eCBjb21wb3NhbnRzIGRldnJhaWVudCDDqnRyZSBzeW5jaHJvbmlzw6lzXHJcbiAgICAgIGV4cGVjdChnZXRCeVRlc3RJZCgndm9jYWJ1bGFyeS1wcm9ncmVzcycpKS50b0hhdmVUZXh0Q29udGVudCgnVm9jYWJ1bGFpcmU6IDgwJScpO1xyXG4gICAgICBleHBlY3QoZ2V0QnlUZXN0SWQoJ29ic2VydmVyLXZvY2FidWxhcnknKSkudG9IYXZlVGV4dENvbnRlbnQoJ09iczogODAlJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoXCJkZXZyYWl0IG1haW50ZW5pciBsYSBjb2jDqXJlbmNlIGxvcnMgZGUgbWlzZXMgw6Agam91ciBtdWx0aXBsZXNcIiwgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgeyBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyKFxyXG4gICAgICA8VGhlbWVQcm92aWRlcj5cclxuICAgICAgICA8UHJvZ3Jlc3NQcm92aWRlcj5cclxuICAgICAgICAgIDxDdXJyZW50TGV2ZWxQcm92aWRlcj5cclxuICAgICAgICAgICAgPEZha2VNZXRyaWNzRGlzcGxheSAvPlxyXG4gICAgICAgICAgICA8RmFrZU1ldHJpY3NPYnNlcnZlciAvPlxyXG4gICAgICAgICAgPC9DdXJyZW50TGV2ZWxQcm92aWRlcj5cclxuICAgICAgICA8L1Byb2dyZXNzUHJvdmlkZXI+XHJcbiAgICAgIDwvVGhlbWVQcm92aWRlcj5cclxuICAgICk7XHJcblxyXG4gICAgLy8gU2ltdWxlciBkZXMgbWlzZXMgw6Agam91ciBtdWx0aXBsZXNcclxuICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRlc3RJZCgnbXVsdGlwbGUtdXBkYXRlcycpKTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgLy8gVsOpcmlmaWVyIHF1ZSB0b3VzIGxlcyBjb21wb3NhbnRzIHNvbnQgc3luY2hyb25pc8Opc1xyXG4gICAgICBleHBlY3QoZ2V0QnlUZXN0SWQoJ3ZvY2FidWxhcnktcHJvZ3Jlc3MnKSkudG9IYXZlVGV4dENvbnRlbnQoJ1ZvY2FidWxhaXJlOiA5MCUnKTtcclxuICAgICAgZXhwZWN0KGdldEJ5VGVzdElkKCdvYnNlcnZlci12b2NhYnVsYXJ5JykpLnRvSGF2ZVRleHRDb250ZW50KCdPYnM6IDkwJScpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KGdldEJ5VGVzdElkKCdncmFtbWFyLXByb2dyZXNzJykpLnRvSGF2ZVRleHRDb250ZW50KCdHcmFtbWFpcmU6IDcwJScpO1xyXG4gICAgICBleHBlY3QoZ2V0QnlUZXN0SWQoJ29ic2VydmVyLWdyYW1tYXInKSkudG9IYXZlVGV4dENvbnRlbnQoJ09iczogNzAlJyk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoZ2V0QnlUZXN0SWQoJ3JlYWRpbmctcHJvZ3Jlc3MnKSkudG9IYXZlVGV4dENvbnRlbnQoJ0xlY3R1cmU6IDUwJScpO1xyXG4gICAgICBleHBlY3QoZ2V0QnlUZXN0SWQoJ29ic2VydmVyLXJlYWRpbmcnKSkudG9IYXZlVGV4dENvbnRlbnQoJ09iczogNTAlJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcblxyXG5kZXNjcmliZSgnU2PDqW5hcmlvIDM6IFBlcmZvcm1hbmNlIGV0IHLDqWFjdGl2aXTDqScsICgpID0+IHtcclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG4gIH0pO1xyXG5cclxuICBpdChcImRldnJhaXQgZ8OpcmVyIGxlcyBtaXNlcyDDoCBqb3VyIHJhcGlkZXMgc2FucyBwZXJ0ZSBkZSBkb25uw6llc1wiLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGdldEJ5VGVzdElkIH0gPSByZW5kZXIoXHJcbiAgICAgIDxUaGVtZVByb3ZpZGVyPlxyXG4gICAgICAgIDxQcm9ncmVzc1Byb3ZpZGVyPlxyXG4gICAgICAgICAgPEZha2VNZXRyaWNzRGlzcGxheSAvPlxyXG4gICAgICAgIDwvUHJvZ3Jlc3NQcm92aWRlcj5cclxuICAgICAgPC9UaGVtZVByb3ZpZGVyPlxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBTaW11bGVyIGRlcyBtaXNlcyDDoCBqb3VyIHRyw6hzIHJhcGlkZXNcclxuICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRlc3RJZCgndm9jYWJ1bGFyeS1idXR0b24nKSk7XHJcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRlc3RJZCgnZ3JhbW1hci1idXR0b24nKSk7XHJcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRlc3RJZCgncmVhZGluZy1idXR0b24nKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgLy8gVG91dGVzIGxlcyBtaXNlcyDDoCBqb3VyIGRldnJhaWVudCDDqnRyZSBwcmlzZXMgZW4gY29tcHRlXHJcbiAgICAgIGV4cGVjdChnZXRCeVRlc3RJZCgndm9jYWJ1bGFyeS1wcm9ncmVzcycpKS50b0hhdmVUZXh0Q29udGVudCgnVm9jYWJ1bGFpcmU6IDgwJScpO1xyXG4gICAgICBleHBlY3QoZ2V0QnlUZXN0SWQoJ2dyYW1tYXItcHJvZ3Jlc3MnKSkudG9IYXZlVGV4dENvbnRlbnQoJ0dyYW1tYWlyZTogNjAlJyk7XHJcbiAgICAgIGV4cGVjdChnZXRCeVRlc3RJZCgncmVhZGluZy1wcm9ncmVzcycpKS50b0hhdmVUZXh0Q29udGVudCgnTGVjdHVyZTogNDAlJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoXCJkZXZyYWl0IG1haW50ZW5pciBsYSBjb2jDqXJlbmNlIGRlcyBkb25uw6llcyBsb3JzIGRlIHN0cmVzc1wiLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGdldEJ5VGVzdElkIH0gPSByZW5kZXIoXHJcbiAgICAgIDxUaGVtZVByb3ZpZGVyPlxyXG4gICAgICAgIDxQcm9ncmVzc1Byb3ZpZGVyPlxyXG4gICAgICAgICAgPEZha2VNZXRyaWNzRGlzcGxheSAvPlxyXG4gICAgICAgIDwvUHJvZ3Jlc3NQcm92aWRlcj5cclxuICAgICAgPC9UaGVtZVByb3ZpZGVyPlxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBTaW11bGVyIHVuIHN0cmVzcyB0ZXN0IGF2ZWMgYmVhdWNvdXAgZGUgbWlzZXMgw6Agam91clxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XHJcbiAgICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGVzdElkKCd2b2NhYnVsYXJ5LWJ1dHRvbicpKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIC8vIExhIGRlcm5pw6hyZSB2YWxldXIgZGV2cmFpdCDDqnRyZSBjb3JyZWN0ZVxyXG4gICAgICBleHBlY3QoZ2V0QnlUZXN0SWQoJ3ZvY2FidWxhcnktcHJvZ3Jlc3MnKSkudG9IYXZlVGV4dENvbnRlbnQoJ1ZvY2FidWxhaXJlOiA4MCUnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbmRlc2NyaWJlKCdTY8OpbmFyaW8gNDogR2VzdGlvbiBkZXMgZXJyZXVycyBldCBjYXMgbGltaXRlcycsICgpID0+IHtcclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG4gIH0pO1xyXG5cclxuICBpdChcImRldnJhaXQgZ8OpcmVyIGxlcyB2YWxldXJzIGRlIHByb2dyZXNzaW9uIGludmFsaWRlc1wiLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGdldEJ5VGVzdElkIH0gPSByZW5kZXIoXHJcbiAgICAgIDxUaGVtZVByb3ZpZGVyPlxyXG4gICAgICAgIDxQcm9ncmVzc1Byb3ZpZGVyPlxyXG4gICAgICAgICAgPEZha2VNZXRyaWNzRGlzcGxheSAvPlxyXG4gICAgICAgIDwvUHJvZ3Jlc3NQcm92aWRlcj5cclxuICAgICAgPC9UaGVtZVByb3ZpZGVyPlxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBWw6lyaWZpZXIgbCfDqXRhdCBpbml0aWFsXHJcbiAgICBleHBlY3QoZ2V0QnlUZXN0SWQoJ292ZXJhbGwtcHJvZ3Jlc3MnKSkudG9IYXZlVGV4dENvbnRlbnQoJ1Byb2dyZXNzaW9uIGdsb2JhbGU6IDAlJyk7XHJcblxyXG4gICAgLy8gU2ltdWxlciBkZXMgcHJvZ3Jlc3Npb25zIGF2ZWMgZGVzIHZhbGV1cnMgZXh0csOqbWVzXHJcbiAgICBhY3QoKCkgPT4ge1xyXG4gICAgICAvLyBDZXMgdmFsZXVycyBkZXZyYWllbnQgw6p0cmUgZ8OpcsOpZXMgY29ycmVjdGVtZW50XHJcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRlc3RJZCgndm9jYWJ1bGFyeS1idXR0b24nKSk7IC8vIDgwJVxyXG4gICAgfSk7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChnZXRCeVRlc3RJZCgnb3ZlcmFsbC1wcm9ncmVzcycpKS50b0hhdmVUZXh0Q29udGVudCgnUHJvZ3Jlc3Npb24gZ2xvYmFsZTogODAlJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoXCJkZXZyYWl0IGfDqXJlciBsJ2Fic2VuY2UgZGUgZG9ubsOpZXMgZGUgcHJvZ3Jlc3Npb25cIiwgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgeyBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyKFxyXG4gICAgICA8VGhlbWVQcm92aWRlcj5cclxuICAgICAgICA8UHJvZ3Jlc3NQcm92aWRlcj5cclxuICAgICAgICAgIDxGYWtlTWV0cmljc0Rpc3BsYXkgLz5cclxuICAgICAgICA8L1Byb2dyZXNzUHJvdmlkZXI+XHJcbiAgICAgIDwvVGhlbWVQcm92aWRlcj5cclxuICAgICk7XHJcblxyXG4gICAgLy8gVsOpcmlmaWVyIHF1ZSBsJ2FwcGxpY2F0aW9uIGZvbmN0aW9ubmUgbcOqbWUgc2FucyBkb25uw6llc1xyXG4gICAgZXhwZWN0KGdldEJ5VGVzdElkKCdvdmVyYWxsLXByb2dyZXNzJykpLnRvSGF2ZVRleHRDb250ZW50KCdQcm9ncmVzc2lvbiBnbG9iYWxlOiAwJScpO1xyXG4gICAgZXhwZWN0KGdldEJ5VGVzdElkKCd2b2NhYnVsYXJ5LXByb2dyZXNzJykpLnRvSGF2ZVRleHRDb250ZW50KCdWb2NhYnVsYWlyZTogMCUnKTtcclxuICAgIGV4cGVjdChnZXRCeVRlc3RJZCgnZ3JhbW1hci1wcm9ncmVzcycpKS50b0hhdmVUZXh0Q29udGVudCgnR3JhbW1haXJlOiAwJScpO1xyXG4gICAgZXhwZWN0KGdldEJ5VGVzdElkKCdyZWFkaW5nLXByb2dyZXNzJykpLnRvSGF2ZVRleHRDb250ZW50KCdMZWN0dXJlOiAwJScpO1xyXG4gIH0pO1xyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiQUFTQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsYUFBYSxFQUFFO0VBQUEsT0FBTztJQUM5QkMsY0FBYyxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxVQUFBQyxRQUFRO01BQUEsT0FBSUEsUUFBUSxDQUFDLENBQUM7SUFBQSxFQUFDO0lBQy9DQyxNQUFNLEVBQUU7TUFDTkMsSUFBSSxFQUFFSixJQUFJLENBQUNDLEVBQUUsQ0FBQztJQUNoQixDQUFDO0lBQ0RJLEtBQUssRUFBRSxTQUFQQSxLQUFLQSxDQUFBQyxJQUFBO01BQUEsSUFBS0MsUUFBUSxHQUFBRCxJQUFBLENBQVJDLFFBQVE7TUFBQSxPQUFPLElBQUFDLFdBQUEsQ0FBQUMsR0FBQSxFQUFBRCxXQUFBLENBQUFFLFFBQUE7UUFBQUgsUUFBQSxFQUFHQTtNQUFRLENBQUcsQ0FBQztJQUFBO0lBQ3hDSSxvQkFBb0IsRUFBRSxTQUF0QkEsb0JBQW9CQSxDQUFBO01BQUEsT0FBUyxDQUFDLENBQUM7SUFBQSxDQUFDO0lBQ2hDQyxhQUFhLEVBQUUsU0FBZkEsYUFBYUEsQ0FBQTtNQUFBLE9BQVM7UUFDcEJDLFFBQVEsRUFBRWIsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztRQUNuQmEsTUFBTSxFQUFFZCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO1FBQ2pCYyxTQUFTLEVBQUVmLElBQUksQ0FBQ0MsRUFBRSxDQUFDO1VBQUEsT0FBTSxJQUFJO1FBQUEsRUFBQztRQUM5QmUsV0FBVyxFQUFFaEIsSUFBSSxDQUFD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