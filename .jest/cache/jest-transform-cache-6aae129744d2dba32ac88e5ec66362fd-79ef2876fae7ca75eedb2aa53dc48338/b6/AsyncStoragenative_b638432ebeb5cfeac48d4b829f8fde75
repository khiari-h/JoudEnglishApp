ab511451d1492e82f9c48b38f352e5cd
"use strict";

var _interopRequireDefault2 = require("@babel/runtime/helpers/interopRequireDefault");
var _slicedToArray2 = _interopRequireDefault2(require("@babel/runtime/helpers/slicedToArray"));
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _helpers = require("./helpers");
var _RCTAsyncStorage = _interopRequireDefault(require("./RCTAsyncStorage"));
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}
if (!_RCTAsyncStorage.default) {
  throw new Error(`[@RNC/AsyncStorage]: NativeModule: AsyncStorage is null.

To fix this issue try these steps:

  • Uninstall, rebuild and restart the app.

  • Run the packager with \`--reset-cache\` flag.

  • If you are using CocoaPods on iOS, run \`pod install\` in the \`ios\` directory, then rebuild and re-run the app.

  • Make sure your project's \`package.json\` depends on \`@react-native-async-storage/async-storage\`, even if you only depend on it indirectly through other dependencies. CLI only autolinks native modules found in your \`package.json\`.

  • If this happens while testing with Jest, check out how to integrate AsyncStorage here: https://react-native-async-storage.github.io/async-storage/docs/advanced/jest

If none of these fix the issue, please open an issue on the GitHub repository: https://github.com/react-native-async-storage/async-storage/issues
`);
}
var AsyncStorage = function () {
  var _getRequests = [];
  var _getKeys = [];
  var _immediate = null;
  return {
    getItem: function getItem(key, callback) {
      return new Promise(function (resolve, reject) {
        (0, _helpers.checkValidInput)(key);
        _RCTAsyncStorage.default.multiGet([key], function (errors, result) {
          var _result$;
          var value = result !== null && result !== void 0 && (_result$ = result[0]) !== null && _result$ !== void 0 && _result$[1] ? result[0][1] : null;
          var errs = (0, _helpers.convertErrors)(errors);
          callback === null || callback === void 0 ? void 0 : callback(errs === null || errs === void 0 ? void 0 : errs[0], value);
          if (errs) {
            reject(errs[0]);
          } else {
            resolve(value);
          }
        });
      });
    },
    setItem: function setItem(key, value, callback) {
      return new Promise(function (resolve, reject) {
        (0, _helpers.checkValidInput)(key, value);
        _RCTAsyncStorage.default.multiSet([[key, value]], function (errors) {
          var errs = (0, _helpers.convertErrors)(errors);
          callback === null || callback === void 0 ? void 0 : callback(errs === null || errs === void 0 ? void 0 : errs[0]);
          if (errs) {
            reject(errs[0]);
          } else {
            resolve();
          }
        });
      });
    },
    removeItem: function removeItem(key, callback) {
      return new Promise(function (resolve, reject) {
        (0, _helpers.checkValidInput)(key);
        _RCTAsyncStorage.default.multiRemove([key], function (errors) {
          var errs = (0, _helpers.convertErrors)(errors);
          callback === null || callback === void 0 ? void 0 : callback(errs === null || errs === void 0 ? void 0 : errs[0]);
          if (errs) {
            reject(errs[0]);
          } else {
            resolve();
          }
        });
      });
    },
    mergeItem: function mergeItem(key, value, callback) {
      return new Promise(function (resolve, reject) {
        (0, _helpers.checkValidInput)(key, value);
        _RCTAsyncStorage.default.multiMerge([[key, value]], function (errors) {
          var errs = (0, _helpers.convertErrors)(errors);
          callback === null || callback === void 0 ? void 0 : callback(errs === null || errs === void 0 ? void 0 : errs[0]);
          if (errs) {
            reject(errs[0]);
          } else {
            resolve();
          }
        });
      });
    },
    clear: function clear(callback) {
      return new Promise(function (resolve, reject) {
        _RCTAsyncStorage.default.clear(function (error) {
          var err = (0, _helpers.convertError)(error);
          callback === null || callback === void 0 ? void 0 : callback(err);
          if (err) {
            reject(err);
          } else {
            resolve();
          }
        });
      });
    },
    getAllKeys: function getAllKeys(callback) {
      return new Promise(function (resolve, reject) {
        _RCTAsyncStorage.default.getAllKeys(function (error, keys) {
          var err = (0, _helpers.convertError)(error);
          callback === null || callback === void 0 ? void 0 : callback(err, keys);
          if (keys) {
            resolve(keys);
          } else {
            reject(err);
          }
        });
      });
    },
    flushGetRequests: function flushGetRequests() {
      var getRequests = _getRequests;
      var getKeys = _getKeys;
      _getRequests = [];
      _getKeys = [];
      _RCTAsyncStorage.default.multiGet(getKeys, function (errors, result) {
        var map = {};
        result === null || result === void 0 ? void 0 : result.forEach(function (_ref) {
          var _ref2 = (0, _slicedToArray2.default)(_ref, 2),
            key = _ref2[0],
            value = _ref2[1];
          map[key] = value;
          return value;
        });
        var reqLength = getRequests.length;
        var errorList = (0, _helpers.convertErrors)(errors);
        var error = errorList !== null && errorList !== void 0 && errorList.length ? errorList[0] : null;
        for (var i = 0; i < reqLength; i++) {
          var _request$callback2, _request$resolve;
          var request = getRequests[i];
          if (error) {
            var _request$callback, _request$reject;
            (_request$callback = request.callback) === null || _request$callback === void 0 ? void 0 : _request$callback.call(request, errorList);
            (_request$reject = request.reject) === null || _request$reject === void 0 ? void 0 : _request$reject.call(request, error);
            continue;
          }
          var requestResult = request.keys.map(function (key) {
            return [key, map[key]];
          });
          (_request$callback2 = request.callback) === null || _request$callback2 === void 0 ? void 0 : _request$callback2.call(request, null, requestResult);
          (_request$resolve = request.resolve) === null || _request$resolve === void 0 ? void 0 : _request$resolve.call(request, requestResult);
        }
      });
    },
    multiGet: function multiGet(keys, callback) {
      if (!_immediate) {
        _immediate = setImmediate(function () {
          _immediate = null;
          AsyncStorage.flushGetRequests();
        });
      }
      var getRequest = {
        keys: keys,
        callback: callback,
        keyIndex: _getKeys.length
      };
      var promiseResult = new Promise(function (resolve, reject) {
        getRequest.resolve = resolve;
        getRequest.reject = reject;
      });
      _getRequests.push(getRequest);
      keys.forEach(function (key) {
        if (_getKeys.indexOf(key) === -1) {
          _getKeys.push(key);
        }
      });
      return promiseResult;
    },
    multiSet: function multiSet(keyValuePairs, callback) {
      (0, _helpers.checkValidArgs)(keyValuePairs, callback);
      return new Promise(function (resolve, reject) {
        keyValuePairs.forEach(function (_ref3) {
          var _ref4 = (0, _slicedToArray2.default)(_ref3, 2),
            key = _ref4[0],
            value = _ref4[1];
          (0, _helpers.checkValidInput)(key, value);
        });
        _RCTAsyncStorage.default.multiSet(keyValuePairs, function (errors) {
          var error = (0, _helpers.convertErrors)(errors);
          callback === null || callback === void 0 ? void 0 : callback(error);
          if (error) {
            reject(error);
          } else {
            resolve();
          }
        });
      });
    },
    multiRemove: function multiRemove(keys, callback) {
      return new Promise(function (resolve, reject) {
        keys.forEach(function (key) {
          return (0, _helpers.checkValidInput)(key);
        });
        _RCTAsyncStorage.default.multiRemove(keys, function (errors) {
          var error = (0, _helpers.convertErrors)(errors);
          callback === null || callback === void 0 ? void 0 : callback(error);
          if (error) {
            reject(error);
          } else {
            resolve();
          }
        });
      });
    },
    multiMerge: function multiMerge(keyValuePairs, callback) {
      return new Promise(function (resolve, reject) {
        _RCTAsyncStorage.default.multiMerge(keyValuePairs, function (errors) {
          var error = (0, _helpers.convertErrors)(errors);
          callback === null || callback === void 0 ? void 0 : callback(error);
          if (error) {
            reject(error);
          } else {
            resolve();
          }
        });
      });
    }
  };
}();
var _default = AsyncStorage;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaGVscGVycyIsInJlcXVpcmUiLCJfUkNUQXN5bmNTdG9yYWdlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiRXJyb3IiLCJBc3luY1N0b3JhZ2UiLCJfZ2V0UmVxdWVzdHMiLCJfZ2V0S2V5cyIsIl9pbW1lZGlhdGUiLCJnZXRJdGVtIiwia2V5IiwiY2FsbGJhY2siLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImNoZWNrVmFsaWRJbnB1dCIsIm11bHRpR2V0IiwiZXJyb3JzIiwicmVzdWx0IiwiX3Jlc3VsdCQiLCJ2YWx1ZSIsImVycnMiLCJjb252ZXJ0RXJyb3JzIiwic2V0SXRlbSIsIm11bHRpU2V0IiwicmVtb3ZlSXRlbSIsIm11bHRpUmVtb3ZlIiwibWVyZ2VJdGVtIiwibXVsdGlNZXJnZSIsImNsZWFyIiwiZXJyb3IiLCJlcnIiLCJjb252ZXJ0RXJyb3IiLCJnZXRBbGxLZXlzIiwia2V5cyIsImZsdXNoR2V0UmVxdWVzdHMiLCJnZXRSZXF1ZXN0cyIsImdldEtleXMiLCJtYXAiLCJmb3JFYWNoIiwiX3JlZiIsIl9yZWYyIiwiX3NsaWNlZFRvQXJyYXkyIiwicmVxTGVuZ3RoIiwibGVuZ3RoIiwiZXJyb3JMaXN0IiwiaSIsIl9yZXF1ZXN0JGNhbGxiYWNrMiIsIl9yZXF1ZXN0JHJlc29sdmUiLCJyZXF1ZXN0IiwiX3JlcXVlc3QkY2FsbGJhY2siLCJfcmVxdWVzdCRyZWplY3QiLCJjYWxsIiwicmVxdWVzdFJlc3VsdCIsInNldEltbWVkaWF0ZSIsImdldFJlcXVlc3QiLCJrZXlJbmRleCIsInByb21pc2VSZXN1bHQiLCJwdXNoIiwiaW5kZXhPZiIsImtleVZhbHVlUGFpcnMiLCJjaGVja1ZhbGlkQXJncyIsIl9yZWYzIiwiX3JlZjQiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlcyI6WyJBc3luY1N0b3JhZ2UubmF0aXZlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IHtcbiAgY2hlY2tWYWxpZEFyZ3MsXG4gIGNoZWNrVmFsaWRJbnB1dCxcbiAgY29udmVydEVycm9yLFxuICBjb252ZXJ0RXJyb3JzLFxufSBmcm9tIFwiLi9oZWxwZXJzXCI7XG5pbXBvcnQgUkNUQXN5bmNTdG9yYWdlIGZyb20gXCIuL1JDVEFzeW5jU3RvcmFnZVwiO1xuaW1wb3J0IHR5cGUge1xuICBBc3luY1N0b3JhZ2VTdGF0aWMsXG4gIEVycm9yTGlrZSxcbiAgS2V5VmFsdWVQYWlyLFxuICBNdWx0aVJlcXVlc3QsXG59IGZyb20gXCIuL3R5cGVzXCI7XG5cbmlmICghUkNUQXN5bmNTdG9yYWdlKSB7XG4gIHRocm93IG5ldyBFcnJvcihgW0BSTkMvQXN5bmNTdG9yYWdlXTogTmF0aXZlTW9kdWxlOiBBc3luY1N0b3JhZ2UgaXMgbnVsbC5cblxuVG8gZml4IHRoaXMgaXNzdWUgdHJ5IHRoZXNlIHN0ZXBzOlxuXG4gIOKAoiBVbmluc3RhbGwsIHJlYnVpbGQgYW5kIHJlc3RhcnQgdGhlIGFwcC5cblxuICDigKIgUnVuIHRoZSBwYWNrYWdlciB3aXRoIFxcYC0tcmVzZXQtY2FjaGVcXGAgZmxhZy5cblxuICDigKIgSWYgeW91IGFyZSB1c2luZyBDb2NvYVBvZHMgb24gaU9TLCBydW4gXFxgcG9kIGluc3RhbGxcXGAgaW4gdGhlIFxcYGlvc1xcYCBkaXJlY3RvcnksIHRoZW4gcmVidWlsZCBhbmQgcmUtcnVuIHRoZSBhcHAuXG5cbiAg4oCiIE1ha2Ugc3VyZSB5b3VyIHByb2plY3QncyBcXGBwYWNrYWdlLmpzb25cXGAgZGVwZW5kcyBvbiBcXGBAcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UvYXN5bmMtc3RvcmFnZVxcYCwgZXZlbiBpZiB5b3Ugb25seSBkZXBlbmQgb24gaXQgaW5kaXJlY3RseSB0aHJvdWdoIG90aGVyIGRlcGVuZGVuY2llcy4gQ0xJIG9ubHkgYXV0b2xpbmtzIG5hdGl2ZSBtb2R1bGVzIGZvdW5kIGluIHlvdXIgXFxgcGFja2FnZS5qc29uXFxgLlxuXG4gIOKAoiBJZiB0aGlzIGhhcHBlbnMgd2hpbGUgdGVzdGluZyB3aXRoIEplc3QsIGNoZWNrIG91dCBob3cgdG8gaW50ZWdyYXRlIEFzeW5jU3RvcmFnZSBoZXJlOiBodHRwczovL3JlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlLmdpdGh1Yi5pby9hc3luYy1zdG9yYWdlL2RvY3MvYWR2YW5jZWQvamVzdFxuXG5JZiBub25lIG9mIHRoZXNlIGZpeCB0aGUgaXNzdWUsIHBsZWFzZSBvcGVuIGFuIGlzc3VlIG9uIHRoZSBHaXRIdWIgcmVwb3NpdG9yeTogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlL2FzeW5jLXN0b3JhZ2UvaXNzdWVzXG5gKTtcbn1cblxuLyoqXG4gKiBgQXN5bmNTdG9yYWdlYCBpcyBhIHNpbXBsZSwgdW5lbmNyeXB0ZWQsIGFzeW5jaHJvbm91cywgcGVyc2lzdGVudCwga2V5LXZhbHVlXG4gKiBzdG9yYWdlIHN5c3RlbSB0aGF0IGlzIGdsb2JhbCB0byB0aGUgYXBwLiBJdCBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkIG9mXG4gKiBMb2NhbFN0b3JhZ2UuXG4gKlxuICogU2VlIGh0dHBzOi8vcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UuZ2l0aHViLmlvL2FzeW5jLXN0b3JhZ2UvZG9jcy9hcGlcbiAqL1xuY29uc3QgQXN5bmNTdG9yYWdlID0gKCgpOiBBc3luY1N0b3JhZ2VTdGF0aWMgPT4ge1xuICBsZXQgX2dldFJlcXVlc3RzOiBNdWx0aVJlcXVlc3RbXSA9IFtdO1xuICBsZXQgX2dldEtleXM6IHN0cmluZ1tdID0gW107XG4gIGxldCBfaW1tZWRpYXRlOiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRJbW1lZGlhdGU+IHwgbnVsbCA9IG51bGw7XG5cbiAgcmV0dXJuIHtcbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIGFuIGl0ZW0gZm9yIGEgYGtleWAgYW5kIGludm9rZXMgYSBjYWxsYmFjayB1cG9uIGNvbXBsZXRpb24uXG4gICAgICpcbiAgICAgKiBTZWUgaHR0cHM6Ly9yZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS5naXRodWIuaW8vYXN5bmMtc3RvcmFnZS9kb2NzL2FwaSNnZXRpdGVtXG4gICAgICovXG4gICAgZ2V0SXRlbTogKGtleSwgY2FsbGJhY2spID0+IHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNoZWNrVmFsaWRJbnB1dChrZXkpO1xuICAgICAgICBSQ1RBc3luY1N0b3JhZ2UubXVsdGlHZXQoXG4gICAgICAgICAgW2tleV0sXG4gICAgICAgICAgKGVycm9ycz86IEVycm9yTGlrZVtdLCByZXN1bHQ/OiBzdHJpbmdbXVtdKSA9PiB7XG4gICAgICAgICAgICAvLyBVbnBhY2sgcmVzdWx0IHRvIGdldCB2YWx1ZSBmcm9tIFtba2V5LHZhbHVlXV1cbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVzdWx0Py5bMF0/LlsxXSA/IHJlc3VsdFswXVsxXSA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCBlcnJzID0gY29udmVydEVycm9ycyhlcnJvcnMpO1xuICAgICAgICAgICAgY2FsbGJhY2s/LihlcnJzPy5bMF0sIHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChlcnJzKSB7XG4gICAgICAgICAgICAgIHJlamVjdChlcnJzWzBdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB2YWx1ZSBmb3IgYSBga2V5YCBhbmQgaW52b2tlcyBhIGNhbGxiYWNrIHVwb24gY29tcGxldGlvbi5cbiAgICAgKlxuICAgICAqIFNlZSBodHRwczovL3JlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlLmdpdGh1Yi5pby9hc3luYy1zdG9yYWdlL2RvY3MvYXBpI3NldGl0ZW1cbiAgICAgKi9cbiAgICBzZXRJdGVtOiAoa2V5LCB2YWx1ZSwgY2FsbGJhY2spID0+IHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNoZWNrVmFsaWRJbnB1dChrZXksIHZhbHVlKTtcbiAgICAgICAgUkNUQXN5bmNTdG9yYWdlLm11bHRpU2V0KFtba2V5LCB2YWx1ZV1dLCAoZXJyb3JzPzogRXJyb3JMaWtlW10pID0+IHtcbiAgICAgICAgICBjb25zdCBlcnJzID0gY29udmVydEVycm9ycyhlcnJvcnMpO1xuICAgICAgICAgIGNhbGxiYWNrPy4oZXJycz8uWzBdKTtcbiAgICAgICAgICBpZiAoZXJycykge1xuICAgICAgICAgICAgcmVqZWN0KGVycnNbMF0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFuIGl0ZW0gZm9yIGEgYGtleWAgYW5kIGludm9rZXMgYSBjYWxsYmFjayB1cG9uIGNvbXBsZXRpb24uXG4gICAgICpcbiAgICAgKiBTZWUgaHR0cHM6Ly9yZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS5naXRodWIuaW8vYXN5bmMtc3RvcmFnZS9kb2NzL2FwaSNyZW1vdmVpdGVtXG4gICAgICovXG4gICAgcmVtb3ZlSXRlbTogKGtleSwgY2FsbGJhY2spID0+IHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNoZWNrVmFsaWRJbnB1dChrZXkpO1xuICAgICAgICBSQ1RBc3luY1N0b3JhZ2UubXVsdGlSZW1vdmUoW2tleV0sIChlcnJvcnM/OiBFcnJvckxpa2VbXSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGVycnMgPSBjb252ZXJ0RXJyb3JzKGVycm9ycyk7XG4gICAgICAgICAgY2FsbGJhY2s/LihlcnJzPy5bMF0pO1xuICAgICAgICAgIGlmIChlcnJzKSB7XG4gICAgICAgICAgICByZWplY3QoZXJyc1swXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1lcmdlcyBhbiBleGlzdGluZyBga2V5YCB2YWx1ZSB3aXRoIGFuIGlucHV0IHZhbHVlLCBhc3N1bWluZyBib3RoIHZhbHVlc1xuICAgICAqIGFyZSBzdHJpbmdpZmllZCBKU09OLlxuICAgICAqXG4gICAgICogU2VlIGh0dHBzOi8vcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UuZ2l0aHViLmlvL2FzeW5jLXN0b3JhZ2UvZG9jcy9hcGkjbWVyZ2VpdGVtXG4gICAgICovXG4gICAgbWVyZ2VJdGVtOiAoa2V5LCB2YWx1ZSwgY2FsbGJhY2spID0+IHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNoZWNrVmFsaWRJbnB1dChrZXksIHZhbHVlKTtcbiAgICAgICAgUkNUQXN5bmNTdG9yYWdlLm11bHRpTWVyZ2UoW1trZXksIHZhbHVlXV0sIChlcnJvcnM/OiBFcnJvckxpa2VbXSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGVycnMgPSBjb252ZXJ0RXJyb3JzKGVycm9ycyk7XG4gICAgICAgICAgY2FsbGJhY2s/LihlcnJzPy5bMF0pO1xuICAgICAgICAgIGlmIChlcnJzKSB7XG4gICAgICAgICAgICByZWplY3QoZXJyc1swXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEVyYXNlcyAqYWxsKiBgQXN5bmNTdG9yYWdlYCBmb3IgYWxsIGNsaWVudHMsIGxpYnJhcmllcywgZXRjLiBZb3UgcHJvYmFibHlcbiAgICAgKiBkb24ndCB3YW50IHRvIGNhbGwgdGhpczsgdXNlIGByZW1vdmVJdGVtYCBvciBgbXVsdGlSZW1vdmVgIHRvIGNsZWFyIG9ubHlcbiAgICAgKiB5b3VyIGFwcCdzIGtleXMuXG4gICAgICpcbiAgICAgKiBTZWUgaHR0cHM6Ly9yZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS5naXRodWIuaW8vYXN5bmMtc3RvcmFnZS9kb2NzL2FwaSNjbGVhclxuICAgICAqL1xuICAgIGNsZWFyOiAoY2FsbGJhY2spID0+IHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIFJDVEFzeW5jU3RvcmFnZS5jbGVhcigoZXJyb3I/OiBFcnJvckxpa2UpID0+IHtcbiAgICAgICAgICBjb25zdCBlcnIgPSBjb252ZXJ0RXJyb3IoZXJyb3IpO1xuICAgICAgICAgIGNhbGxiYWNrPy4oZXJyKTtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0cyAqYWxsKiBrZXlzIGtub3duIHRvIHlvdXIgYXBwOyBmb3IgYWxsIGNhbGxlcnMsIGxpYnJhcmllcywgZXRjLlxuICAgICAqXG4gICAgICogU2VlIGh0dHBzOi8vcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UuZ2l0aHViLmlvL2FzeW5jLXN0b3JhZ2UvZG9jcy9hcGkjZ2V0YWxsa2V5c1xuICAgICAqL1xuICAgIGdldEFsbEtleXM6IChjYWxsYmFjaykgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgUkNUQXN5bmNTdG9yYWdlLmdldEFsbEtleXMoKGVycm9yPzogRXJyb3JMaWtlLCBrZXlzPzogc3RyaW5nW10pID0+IHtcbiAgICAgICAgICBjb25zdCBlcnIgPSBjb252ZXJ0RXJyb3IoZXJyb3IpO1xuICAgICAgICAgIGNhbGxiYWNrPy4oZXJyLCBrZXlzKTtcbiAgICAgICAgICBpZiAoa2V5cykge1xuICAgICAgICAgICAgcmVzb2x2ZShrZXlzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGUgZm9sbG93aW5nIGJhdGNoZWQgZnVuY3Rpb25zIGFyZSB1c2VmdWwgZm9yIGV4ZWN1dGluZyBhIGxvdCBvZlxuICAgICAqIG9wZXJhdGlvbnMgYXQgb25jZSwgYWxsb3dpbmcgZm9yIG5hdGl2ZSBvcHRpbWl6YXRpb25zIGFuZCBwcm92aWRlIHRoZVxuICAgICAqIGNvbnZlbmllbmNlIG9mIGEgc2luZ2xlIGNhbGxiYWNrIGFmdGVyIGFsbCBvcGVyYXRpb25zIGFyZSBjb21wbGV0ZS5cbiAgICAgKlxuICAgICAqIFRoZXNlIGZ1bmN0aW9ucyByZXR1cm4gYXJyYXlzIG9mIGVycm9ycywgcG90ZW50aWFsbHkgb25lIGZvciBldmVyeSBrZXkuXG4gICAgICogRm9yIGtleS1zcGVjaWZpYyBlcnJvcnMsIHRoZSBFcnJvciBvYmplY3Qgd2lsbCBoYXZlIGEga2V5IHByb3BlcnR5IHRvXG4gICAgICogaW5kaWNhdGUgd2hpY2gga2V5IGNhdXNlZCB0aGUgZXJyb3IuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBGbHVzaGVzIGFueSBwZW5kaW5nIHJlcXVlc3RzIHVzaW5nIGEgc2luZ2xlIGJhdGNoIGNhbGwgdG8gZ2V0IHRoZSBkYXRhLlxuICAgICAqXG4gICAgICogU2VlIGh0dHBzOi8vcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UuZ2l0aHViLmlvL2FzeW5jLXN0b3JhZ2UvZG9jcy9hcGkjZmx1c2hnZXRyZXF1ZXN0c1xuICAgICAqICovXG4gICAgZmx1c2hHZXRSZXF1ZXN0czogKCkgPT4ge1xuICAgICAgY29uc3QgZ2V0UmVxdWVzdHMgPSBfZ2V0UmVxdWVzdHM7XG4gICAgICBjb25zdCBnZXRLZXlzID0gX2dldEtleXM7XG5cbiAgICAgIF9nZXRSZXF1ZXN0cyA9IFtdO1xuICAgICAgX2dldEtleXMgPSBbXTtcblxuICAgICAgUkNUQXN5bmNTdG9yYWdlLm11bHRpR2V0KFxuICAgICAgICBnZXRLZXlzLFxuICAgICAgICAoZXJyb3JzPzogRXJyb3JMaWtlW10sIHJlc3VsdD86IHN0cmluZ1tdW10pID0+IHtcbiAgICAgICAgICAvLyBFdmVuIHRob3VnaCB0aGUgcnVudGltZSBjb21wbGV4aXR5IG9mIHRoaXMgaXMgdGhlb3JldGljYWxseSB3b3JzZSB2cyBpZiB3ZSB1c2VkIGEgbWFwLFxuICAgICAgICAgIC8vIGl0J3MgbXVjaCwgbXVjaCBmYXN0ZXIgaW4gcHJhY3RpY2UgZm9yIHRoZSBkYXRhIHNldHMgd2UgZGVhbCB3aXRoICh3ZSBhdm9pZFxuICAgICAgICAgIC8vIGFsbG9jYXRpbmcgcmVzdWx0IHBhaXIgYXJyYXlzKS4gVGhpcyB3YXMgaGVhdmlseSBiZW5jaG1hcmtlZC5cbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vIElzIHRoZXJlIGEgd2F5IHRvIGF2b2lkIHVzaW5nIHRoZSBtYXAgYnV0IGZpeCB0aGUgYnVnIGluIHRoaXMgYnJlYWtpbmcgdGVzdD9cbiAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QtbmF0aXZlL2NvbW1pdC84ZGQ4YWQ3NjU3OWQ3ZmVlZjM0YzAxNGQzODdiZjAyMDY1NjkyMjY0XG4gICAgICAgICAgY29uc3QgbWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgICAgICAgcmVzdWx0Py5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIG1hcFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVxTGVuZ3RoID0gZ2V0UmVxdWVzdHMubGVuZ3RoO1xuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQXMgbWVudGlvbmVkIGZldyBsaW5lcyBhYm92ZSwgdGhpcyBtZXRob2QgY291bGQgYmUgY2FsbGVkIHdpdGggdGhlIGFycmF5IG9mIHBvdGVudGlhbCBlcnJvcixcbiAgICAgICAgICAgKiBpbiBjYXNlIG9mIGFueXRoaW5nIGdvZXMgd3JvbmcuIFRoZSBwcm9ibGVtIGlzLCBpZiBhbnkgb2YgdGhlIGJhdGNoZWQgY2FsbHMgZmFpbHNcbiAgICAgICAgICAgKiB0aGUgcmVzdCBvZiB0aGVtIHdvdWxkIGZhaWwgdG9vLCBidXQgdGhlIGVycm9yIHdvdWxkIGJlIGNvbnN1bWVkIGJ5IGp1c3Qgb25lLiBUaGUgcmVzdFxuICAgICAgICAgICAqIHdvdWxkIHNpbXBseSByZXR1cm4gYHVuZGVmaW5lZGAgYXMgdGhlaXIgcmVzdWx0LCByZW5kZXJpbmcgZmFsc2UgbmVnYXRpdmVzLlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogSW4gb3JkZXIgdG8gYXZvaWQgdGhpcyBzaXR1YXRpb24sIGluIGNhc2Ugb2YgYW55IGNhbGwgZmFpbGluZyxcbiAgICAgICAgICAgKiB0aGUgcmVzdCBvZiB0aGVtIHdpbGwgYmUgcmVqZWN0ZWQgYXMgd2VsbCAod2l0aCB0aGUgc2FtZSBlcnJvcikuXG4gICAgICAgICAgICovXG4gICAgICAgICAgY29uc3QgZXJyb3JMaXN0ID0gY29udmVydEVycm9ycyhlcnJvcnMpO1xuICAgICAgICAgIGNvbnN0IGVycm9yID0gZXJyb3JMaXN0Py5sZW5ndGggPyBlcnJvckxpc3RbMF0gOiBudWxsO1xuXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXFMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcmVxdWVzdCA9IGdldFJlcXVlc3RzW2ldO1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgIHJlcXVlc3QuY2FsbGJhY2s/LihlcnJvckxpc3QpO1xuICAgICAgICAgICAgICByZXF1ZXN0LnJlamVjdD8uKGVycm9yKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0UmVzdWx0ID0gcmVxdWVzdC5rZXlzLm1hcDxLZXlWYWx1ZVBhaXI+KChrZXkpID0+IFtcbiAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICBtYXBba2V5XSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgcmVxdWVzdC5jYWxsYmFjaz8uKG51bGwsIHJlcXVlc3RSZXN1bHQpO1xuICAgICAgICAgICAgcmVxdWVzdC5yZXNvbHZlPy4ocmVxdWVzdFJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGFsbG93cyB5b3UgdG8gYmF0Y2ggdGhlIGZldGNoaW5nIG9mIGl0ZW1zIGdpdmVuIGFuIGFycmF5IG9mIGBrZXlgXG4gICAgICogaW5wdXRzLiBZb3VyIGNhbGxiYWNrIHdpbGwgYmUgaW52b2tlZCB3aXRoIGFuIGFycmF5IG9mIGNvcnJlc3BvbmRpbmdcbiAgICAgKiBrZXktdmFsdWUgcGFpcnMgZm91bmQuXG4gICAgICpcbiAgICAgKiBTZWUgaHR0cHM6Ly9yZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS5naXRodWIuaW8vYXN5bmMtc3RvcmFnZS9kb2NzL2FwaSNtdWx0aWdldFxuICAgICAqL1xuICAgIG11bHRpR2V0OiAoa2V5cywgY2FsbGJhY2spID0+IHtcbiAgICAgIGlmICghX2ltbWVkaWF0ZSkge1xuICAgICAgICBfaW1tZWRpYXRlID0gc2V0SW1tZWRpYXRlKCgpID0+IHtcbiAgICAgICAgICBfaW1tZWRpYXRlID0gbnVsbDtcbiAgICAgICAgICBBc3luY1N0b3JhZ2UuZmx1c2hHZXRSZXF1ZXN0cygpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZ2V0UmVxdWVzdDogTXVsdGlSZXF1ZXN0ID0ge1xuICAgICAgICBrZXlzOiBrZXlzLFxuICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgIC8vIGRvIHdlIG5lZWQgdGhpcz9cbiAgICAgICAga2V5SW5kZXg6IF9nZXRLZXlzLmxlbmd0aCxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHByb21pc2VSZXN1bHQgPSBuZXcgUHJvbWlzZTxyZWFkb25seSBLZXlWYWx1ZVBhaXJbXT4oXG4gICAgICAgIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBnZXRSZXF1ZXN0LnJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgIGdldFJlcXVlc3QucmVqZWN0ID0gcmVqZWN0O1xuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgICBfZ2V0UmVxdWVzdHMucHVzaChnZXRSZXF1ZXN0KTtcbiAgICAgIC8vIGF2b2lkIGZldGNoaW5nIGR1cGxpY2F0ZXNcbiAgICAgIGtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGlmIChfZ2V0S2V5cy5pbmRleE9mKGtleSkgPT09IC0xKSB7XG4gICAgICAgICAgX2dldEtleXMucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHByb21pc2VSZXN1bHQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFVzZSB0aGlzIGFzIGEgYmF0Y2ggb3BlcmF0aW9uIGZvciBzdG9yaW5nIG11bHRpcGxlIGtleS12YWx1ZSBwYWlycy4gV2hlblxuICAgICAqIHRoZSBvcGVyYXRpb24gY29tcGxldGVzIHlvdSdsbCBnZXQgYSBzaW5nbGUgY2FsbGJhY2sgd2l0aCBhbnkgZXJyb3JzLlxuICAgICAqXG4gICAgICogU2VlIGh0dHBzOi8vcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UuZ2l0aHViLmlvL2FzeW5jLXN0b3JhZ2UvZG9jcy9hcGkjbXVsdGlzZXRcbiAgICAgKi9cbiAgICBtdWx0aVNldDogKGtleVZhbHVlUGFpcnMsIGNhbGxiYWNrKSA9PiB7XG4gICAgICBjaGVja1ZhbGlkQXJncyhrZXlWYWx1ZVBhaXJzLCBjYWxsYmFjayk7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBrZXlWYWx1ZVBhaXJzLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgIGNoZWNrVmFsaWRJbnB1dChrZXksIHZhbHVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgUkNUQXN5bmNTdG9yYWdlLm11bHRpU2V0KGtleVZhbHVlUGFpcnMsIChlcnJvcnM/OiBFcnJvckxpa2VbXSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGVycm9yID0gY29udmVydEVycm9ycyhlcnJvcnMpO1xuICAgICAgICAgIGNhbGxiYWNrPy4oZXJyb3IpO1xuICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsbCB0aGlzIHRvIGJhdGNoIHRoZSBkZWxldGlvbiBvZiBhbGwga2V5cyBpbiB0aGUgYGtleXNgIGFycmF5LlxuICAgICAqXG4gICAgICogU2VlIGh0dHBzOi8vcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UuZ2l0aHViLmlvL2FzeW5jLXN0b3JhZ2UvZG9jcy9hcGkjbXVsdGlyZW1vdmVcbiAgICAgKi9cbiAgICBtdWx0aVJlbW92ZTogKGtleXMsIGNhbGxiYWNrKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBrZXlzLmZvckVhY2goKGtleSkgPT4gY2hlY2tWYWxpZElucHV0KGtleSkpO1xuXG4gICAgICAgIFJDVEFzeW5jU3RvcmFnZS5tdWx0aVJlbW92ZShrZXlzLCAoZXJyb3JzPzogRXJyb3JMaWtlW10pID0+IHtcbiAgICAgICAgICBjb25zdCBlcnJvciA9IGNvbnZlcnRFcnJvcnMoZXJyb3JzKTtcbiAgICAgICAgICBjYWxsYmFjaz8uKGVycm9yKTtcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEJhdGNoIG9wZXJhdGlvbiB0byBtZXJnZSBpbiBleGlzdGluZyBhbmQgbmV3IHZhbHVlcyBmb3IgYSBnaXZlbiBzZXQgb2ZcbiAgICAgKiBrZXlzLiBUaGlzIGFzc3VtZXMgdGhhdCB0aGUgdmFsdWVzIGFyZSBzdHJpbmdpZmllZCBKU09OLlxuICAgICAqXG4gICAgICogU2VlIGh0dHBzOi8vcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UuZ2l0aHViLmlvL2FzeW5jLXN0b3JhZ2UvZG9jcy9hcGkjbXVsdGltZXJnZVxuICAgICAqL1xuICAgIG11bHRpTWVyZ2U6IChrZXlWYWx1ZVBhaXJzLCBjYWxsYmFjaykgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgUkNUQXN5bmNTdG9yYWdlLm11bHRpTWVyZ2Uoa2V5VmFsdWVQYWlycywgKGVycm9ycz86IEVycm9yTGlrZVtdKSA9PiB7XG4gICAgICAgICAgY29uc3QgZXJyb3IgPSBjb252ZXJ0RXJyb3JzKGVycm9ycyk7XG4gICAgICAgICAgY2FsbGJhY2s/LihlcnJvcik7XG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gIH07XG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBBc3luY1N0b3JhZ2U7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBT0EsSUFBQUEsUUFBQSxHQUFBQyxPQUFBO0FBTUEsSUFBQUMsZ0JBQUEsR0FBQUMsc0JBQUEsQ0FBQUYsT0FBQTtBQUFnRCxTQUFBRSx1QkFBQUMsR0FBQTtFQUFBLE9BQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUE7SUFBQUUsT0FBQSxFQUFBRjtFQUFBO0FBQUE7QUFRaEQsSUFBSSxDQUFDRixnQkFBQSxDQUFBSSxPQUFlLEVBQUU7RUFDcEIsTUFBTSxJQUFJQyxLQUFLLENBQUU7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsQ0FBQztBQUNGO0FBU0EsSUFBTUMsWUFBWSxHQUFJLFlBQTBCO0VBQzlDLElBQUlDLFlBQTRCLEdBQUcsRUFBRTtFQUNyQyxJQUFJQyxRQUFrQixHQUFHLEVBQUU7RUFDM0IsSUFBSUMsVUFBa0QsR0FBRyxJQUFJO0VBRTdELE9BQU87SUFNTEMsT0FBTyxFQUFFLFNBQVRBLE9BQU9BLENBQUdDLEdBQUcsRUFBRUMsUUFBUSxFQUFLO01BQzFCLE9BQU8sSUFBSUMsT0FBTyxDQUFDLFVBQUNDLE9BQU8sRUFBRUMsTUFBTSxFQUFLO1FBQ3RDLElBQUFqQixRQUFBLENBQUFrQixlQUFlLEVBQUNMLEdBQUcsQ0FBQztRQUNwQlgsZ0JBQUEsQ0FBQUksT0FBZSxDQUFDYSxR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