{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_reactNative2","_useModalAnimation","mockAnimatedValue","interpolate","jest","fn","addListener","removeAllListeners","spyOn","Animated","mockImplementation","mockStart","start","stop","describe","beforeEach","clearAllMocks","it","renderHook","useModalAnimation","isVisible","expect","timing","not","toHaveBeenCalled","_renderHook","_ref","initialProps","rerender","toHaveBeenCalledTimes","_renderHook2","_ref2","position","toHaveBeenCalledWith","objectContaining","toValue","duration","result","act","_renderHook3","current","transformStyle","toEqual","transform","arrayContaining","translateY","any","Object"],"sources":["useModalAnimation.test.js"],"sourcesContent":["import React from 'react';\r\nimport { renderHook, act } from '@testing-library/react-native';\r\nimport { Animated } from 'react-native';\r\nimport useModalAnimation from '../../../../src/components/ui/Modal/useModalAnimation';\r\n\r\n// Mock the Animated.Value constructor\r\nconst mockAnimatedValue = {\r\n  interpolate: jest.fn(),\r\n  addListener: jest.fn(),\r\n  removeAllListeners: jest.fn(),\r\n};\r\njest.spyOn(Animated, 'Value').mockImplementation(() => mockAnimatedValue);\r\n\r\n// Spy on Animated.timing\r\nconst mockStart = jest.fn();\r\njest.spyOn(Animated, 'timing').mockImplementation(() => ({\r\n  start: mockStart,\r\n  stop: jest.fn(),\r\n}));\r\n\r\ndescribe('useModalAnimation', () => {\r\n  beforeEach(() => {\r\n    // Clear mocks before each test to prevent side effects\r\n    jest.clearAllMocks();\r\n  });\r\n\r\n  it('should not start animation if isVisible is false on initial render', () => {\r\n    renderHook(() => useModalAnimation({ isVisible: false }));\r\n    expect(Animated.timing).not.toHaveBeenCalled();\r\n  });\r\n\r\n  it('should start animation when isVisible becomes true', () => {\r\n    const { rerender } = renderHook(({ isVisible }) => useModalAnimation({ isVisible }), {\r\n      initialProps: { isVisible: false },\r\n    });\r\n\r\n    rerender({ isVisible: true });\r\n\r\n    expect(Animated.timing).toHaveBeenCalledTimes(1);\r\n    expect(mockStart).toHaveBeenCalledTimes(1);\r\n  });\r\n\r\n  it('should call Animated.timing with the correct values for \"top\" position', () => {\r\n    const { rerender } = renderHook(({ isVisible, position }) => useModalAnimation({ isVisible, position }), {\r\n      initialProps: { isVisible: false, position: 'top' },\r\n    });\r\n\r\n    rerender({ isVisible: true, position: 'top' });\r\n\r\n    expect(Animated.timing).toHaveBeenCalledWith(\r\n      mockAnimatedValue, // Now a valid Animated.Value mock\r\n      expect.objectContaining({\r\n        toValue: 1,\r\n        duration: 300,\r\n      })\r\n    );\r\n  });\r\n\r\n  it('should return the correct transform styles for \"top\" position', () => {\r\n    // Use `act` to ensure side effects are applied for renderHook\r\n    let result;\r\n    act(() => {\r\n      ({ result } = renderHook(() => useModalAnimation({ isVisible: true, position: 'top' })));\r\n    });\r\n    \r\n    expect(result.current.transformStyle).toEqual(\r\n      expect.objectContaining({\r\n        transform: expect.arrayContaining([\r\n          expect.objectContaining({\r\n            translateY: expect.any(Object),\r\n          }),\r\n        ]),\r\n      })\r\n    );\r\n  });\r\n});"],"mappings":"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","ignoreList":[]}