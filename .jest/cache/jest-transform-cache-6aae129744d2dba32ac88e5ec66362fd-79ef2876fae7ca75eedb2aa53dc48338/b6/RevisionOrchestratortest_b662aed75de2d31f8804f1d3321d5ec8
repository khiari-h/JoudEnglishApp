fdb05ea1c31e869ac1ed66f4478c6bfb
_getJestObj().mock('../../../src/hooks/useRevisionSettings');
_getJestObj().mock('expo-router', function () {
  return {
    router: {
      push: jest.fn()
    }
  };
});
_getJestObj().mock('@react-native-async-storage/async-storage', function () {
  return {
    getItem: jest.fn()
  };
});
_getJestObj().mock('../../../src/contexts/ThemeContext', function () {
  return {
    ThemeContext: {
      Consumer: function Consumer(_ref) {
        var children = _ref.children;
        return children({
          colors: {
            surface: "#FFFFFF",
            text: "#1F2937",
            textSecondary: "#6B7280",
            primary: "#10B981",
            accent: "#3B82F6",
            warning: "#F59E0B"
          }
        });
      },
      Provider: function Provider(_ref2) {
        var children = _ref2.children,
          value = _ref2.value;
        return children;
      }
    },
    useTheme: function useTheme() {
      return {
        colors: {
          surface: "#FFFFFF",
          text: "#1F2937",
          textSecondary: "#6B7280",
          primary: "#10B981",
          accent: "#3B82F6",
          warning: "#F59E0B"
        }
      };
    }
  };
});
_getJestObj().mock('../../../src/screens/Dashboard/components/popup/RevisionPopup', function () {
  var React = require('react');
  var _require = require('react-native'),
    View = _require.View,
    Text = _require.Text,
    TouchableOpacity = _require.TouchableOpacity;
  return function (_ref3) {
    var visible = _ref3.visible,
      onChoice = _ref3.onChoice,
      onDismiss = _ref3.onDismiss,
      totalWordsLearned = _ref3.totalWordsLearned,
      questionsCount = _ref3.questionsCount;
    if (!visible) return null;
    return (0, _jsxRuntime.jsxs)(View, {
      testID: "revision-popup",
      children: [(0, _jsxRuntime.jsxs)(Text, {
        testID: "popup-words",
        children: ["Words: ", totalWordsLearned]
      }), (0, _jsxRuntime.jsxs)(Text, {
        testID: "popup-questions",
        children: ["Questions: ", questionsCount]
      }), (0, _jsxRuntime.jsx)(TouchableOpacity, {
        testID: "popup-now",
        onPress: function onPress() {
          return onChoice('now');
        },
        children: (0, _jsxRuntime.jsx)(Text, {
          children: "Now"
        })
      }), (0, _jsxRuntime.jsx)(TouchableOpacity, {
        testID: "popup-later50",
        onPress: function onPress() {
          return onChoice('later_50');
        },
        children: (0, _jsxRuntime.jsx)(Text, {
          children: "Later 50"
        })
      }), (0, _jsxRuntime.jsx)(TouchableOpacity, {
        testID: "popup-disable",
        onPress: function onPress() {
          return onChoice('disable');
        },
        children: (0, _jsxRuntime.jsx)(Text, {
          children: "Disable"
        })
      }), (0, _jsxRuntime.jsx)(TouchableOpacity, {
        testID: "popup-dismiss",
        onPress: onDismiss,
        children: (0, _jsxRuntime.jsx)(Text, {
          children: "Dismiss"
        })
      })]
    });
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _reactNative2 = require("react-native");
var _RevisionOrchestrator = _interopRequireDefault(require("../../../src/screens/VocabularyRevision/RevisionOrchestrator"));
var RevisionSettingsHook = _interopRequireWildcard(require("../../../src/hooks/useRevisionSettings"));
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _expoRouter = require("expo-router");
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function _getJestObj() {
  var _require2 = require("@jest/globals"),
    jest = _require2.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('RevisionOrchestrator', function () {
  var mockUseRevisionSettings;
  var createWordsData = function createWordsData(wordCount) {
    var levels = ['1', '2', '3', '4', '5', '6', 'bonus'];
    var modes = ['classic', 'fast'];
    var result = {};
    var totalCreated = 0;
    var _loop = function _loop(level) {
      var _loop2 = function _loop2(mode) {
          if (totalCreated >= wordCount) return 0;
          var wordsForThisSection = Math.min(wordCount - totalCreated, Math.ceil(wordCount / (levels.length * modes.length)));
          result[`vocabulary_${level}_${mode}`] = JSON.stringify({
            completedWords: {
              unit1: Array.from({
                length: wordsForThisSection
              }, function (_, i) {
                return `word_${level}_${mode}_${i}`;
              })
            }
          });
          totalCreated += wordsForThisSection;
          if (totalCreated >= wordCount) return 0;
        },
        _ret;
      for (var mode of modes) {
        _ret = _loop2(mode);
        if (_ret === 0) break;
      }
      if (totalCreated >= wordCount) return 1;
    };
    for (var level of levels) {
      if (_loop(level)) break;
    }
    return result;
  };
  beforeEach(function () {
    jest.clearAllMocks();
    jest.resetModules();
    jest.useFakeTimers();
    mockUseRevisionSettings = {
      preferences: {
        isDisabled: false,
        nextRevisionAt: 50,
        questionsCount: 10,
        frequency: 50
      },
      disableRevisions: jest.fn().mockResolvedValue(true),
      resetToNextTarget: jest.fn().mockResolvedValue(true),
      updatePreferences: jest.fn().mockResolvedValue(true)
    };
    RevisionSettingsHook.useRevisionSettings.mockReturnValue(mockUseRevisionSettings);
    _asyncStorage.default.getItem.mockReset();
    var defaultWordsData = createWordsData(3);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(defaultWordsData[key] || null);
    });
  });
  afterEach(function () {
    jest.useRealTimers();
  });
  it('ne rend rien si les révisions sont désactivées', (0, _asyncToGenerator2.default)(function* () {
    mockUseRevisionSettings.preferences.isDisabled = true;
    RevisionSettingsHook.useRevisionSettings.mockReturnValue(mockUseRevisionSettings);
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      queryByTestId = _render.queryByTestId;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(2000);
    }));
    expect(queryByTestId('revision-popup')).toBeNull();
  }));
  it('ne montre pas la popup si le nombre de mots est inférieur au seuil', (0, _asyncToGenerator2.default)(function* () {
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      queryByTestId = _render2.queryByTestId;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(2000);
    }));
    expect(queryByTestId('revision-popup')).toBeNull();
  }));
  it('montre la popup quand le nombre de mots atteint le seuil', (0, _asyncToGenerator2.default)(function* () {
    var wordsData = createWordsData(60);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(wordsData[key] || null);
    });
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      getByTestId = _render3.getByTestId,
      getByText = _render3.getByText,
      queryByTestId = _render3.queryByTestId;
    yield (0, _reactNative.waitFor)(function () {
      expect(_asyncStorage.default.getItem).toHaveBeenCalled();
    });
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(2000);
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(queryByTestId('revision-popup')).toBeTruthy();
    });
    expect(getByText('Words: 60')).toBeTruthy();
    expect(getByText('Questions: 10')).toBeTruthy();
  }));
  it('appelle resetToNextTarget et navigue quand "now" est choisi', (0, _asyncToGenerator2.default)(function* () {
    var wordsData = createWordsData(60);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(wordsData[key] || null);
    });
    var _render4 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {
        currentLevel: "A1"
      })),
      getByTestId = _render4.getByTestId,
      queryByTestId = _render4.queryByTestId;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(3000);
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(queryByTestId('revision-popup')).toBeTruthy();
    });
    var nowButton = getByTestId('popup-now');
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      _reactNative.fireEvent.press(nowButton);
    }));
    expect(mockUseRevisionSettings.resetToNextTarget).toHaveBeenCalledWith(60);
    expect(_expoRouter.router.push).toHaveBeenCalledWith({
      pathname: "/tabs/vocabularyRevision",
      params: {
        level: "A1",
        questionsCount: 10,
        source: 'popup_trigger'
      }
    });
  }));
  it('appelle updatePreferences quand "later_50" est choisi', (0, _asyncToGenerator2.default)(function* () {
    var wordsData = createWordsData(60);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(wordsData[key] || null);
    });
    var _render5 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      getByTestId = _render5.getByTestId,
      queryByTestId = _render5.queryByTestId;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(3000);
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(queryByTestId('revision-popup')).toBeTruthy();
    });
    var laterButton = getByTestId('popup-later50');
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      _reactNative.fireEvent.press(laterButton);
    }));
    expect(mockUseRevisionSettings.updatePreferences).toHaveBeenCalledWith({
      nextRevisionAt: 110
    });
  }));
  it('appelle disableRevisions quand "disable" est choisi', (0, _asyncToGenerator2.default)(function* () {
    var wordsData = createWordsData(60);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(wordsData[key] || null);
    });
    var _render6 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      getByTestId = _render6.getByTestId,
      queryByTestId = _render6.queryByTestId;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(3000);
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(queryByTestId('revision-popup')).toBeTruthy();
    });
    var disableButton = getByTestId('popup-disable');
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      _reactNative.fireEvent.press(disableButton);
    }));
    expect(mockUseRevisionSettings.disableRevisions).toHaveBeenCalled();
  }));
  it('gère la fermeture (dismiss) en choisissant "later_50" par défaut', (0, _asyncToGenerator2.default)(function* () {
    var wordsData = createWordsData(60);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(wordsData[key] || null);
    });
    var _render7 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      getByTestId = _render7.getByTestId,
      queryByTestId = _render7.queryByTestId;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(3000);
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(queryByTestId('revision-popup')).toBeTruthy();
    });
    var dismissButton = getByTestId('popup-dismiss');
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      _reactNative.fireEvent.press(dismissButton);
    }));
    expect(mockUseRevisionSettings.updatePreferences).toHaveBeenCalledWith({
      nextRevisionAt: 110
    });
  }));
  it('debug - vérifie les conditions de la popup', (0, _asyncToGenerator2.default)(function* () {
    var wordsData = createWordsData(60);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(wordsData[key] || null);
    });
    var getItemSpy = jest.spyOn(_asyncStorage.default, 'getItem');
    var TestComponent = function TestComponent() {
      var _React$useState = _react.default.useState({}),
        _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),
        debugInfo = _React$useState2[0],
        setDebugInfo = _React$useState2[1];
      var _RevisionSettingsHook = RevisionSettingsHook.useRevisionSettings(),
        preferences = _RevisionSettingsHook.preferences;
      _react.default.useEffect(function () {
        var countWords = function () {
          var _ref21 = (0, _asyncToGenerator2.default)(function* () {
            var total = 0;
            var levels = ['1', '2', '3', '4', '5', '6', 'bonus'];
            var modes = ['classic', 'fast'];
            for (var level of levels) {
              for (var mode of modes) {
                var stored = yield _asyncStorage.default.getItem(`vocabulary_${level}_${mode}`);
                if (stored) {
                  var data = JSON.parse(stored);
                  var completedWords = data.completedWords || {};
                  total += Object.values(completedWords).reduce(function (acc, words) {
                    if (Array.isArray(words)) {
                      return acc + words.length;
                    }
                    return acc;
                  }, 0);
                }
              }
            }
            setDebugInfo({
              totalWords: total,
              isDisabled: preferences.isDisabled,
              nextRevisionAt: preferences.nextRevisionAt,
              shouldShow: !preferences.isDisabled && total >= preferences.nextRevisionAt && total > 0
            });
          });
          return function countWords() {
            return _ref21.apply(this, arguments);
          };
        }();
        countWords();
      }, [preferences]);
      return (0, _jsxRuntime.jsxs)(_reactNative2.View, {
        testID: "debug-info",
        children: [(0, _jsxRuntime.jsx)(_reactNative2.Text, {
          testID: "debug-total",
          children: debugInfo.totalWords
        }), (0, _jsxRuntime.jsx)(_reactNative2.Text, {
          testID: "debug-disabled",
          children: String(debugInfo.isDisabled)
        }), (0, _jsxRuntime.jsx)(_reactNative2.Text, {
          testID: "debug-threshold",
          children: debugInfo.nextRevisionAt
        }), (0, _jsxRuntime.jsx)(_reactNative2.Text, {
          testID: "debug-should-show",
          children: String(debugInfo.shouldShow)
        })]
      });
    };
    var _render8 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(TestComponent, {})),
      getByTestId = _render8.getByTestId;
    yield (0, _reactNative.waitFor)(function () {
      expect(getItemSpy).toHaveBeenCalled();
    });
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(1000);
    }));
    var totalWords = getByTestId('debug-total').children[0];
    var isDisabled = getByTestId('debug-disabled').children[0];
    var threshold = getByTestId('debug-threshold').children[0];
    var shouldShow = getByTestId('debug-should-show').children[0];
    console.log('Debug info:', {
      totalWords: totalWords,
      isDisabled: isDisabled,
      threshold: threshold,
      shouldShow: shouldShow
    });
    expect(totalWords).toBe('60');
    expect(isDisabled).toBe('false');
    expect(threshold).toBe('50');
    expect(shouldShow).toBe('true');
  }));
  it('compte correctement les mots depuis AsyncStorage', (0, _asyncToGenerator2.default)(function* () {
    var wordsData = createWordsData(35);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(wordsData[key] || null);
    });
    var _render9 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      queryByTestId = _render9.queryByTestId;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(2000);
    }));
    expect(queryByTestId('revision-popup')).toBeNull();
    var expectedCalls = ['1', '2', '3', '4', '5', '6', 'bonus'].flatMap(function (level) {
      return ['classic', 'fast'].map(function (mode) {
        return `vocabulary_${level}_${mode}`;
      });
    });
    expectedCalls.forEach(function (key) {
      expect(_asyncStorage.default.getItem).toHaveBeenCalledWith(key);
    });
  }));
  it('debug - vérifie l\'état du composant RevisionOrchestrator', (0, _asyncToGenerator2.default)(function* () {
    var wordsData = createWordsData(60);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(wordsData[key] || null);
    });
    var _render0 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      getByTestId = _render0.getByTestId,
      queryByTestId = _render0.queryByTestId,
      debug = _render0.debug;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(1000);
    }));
    console.log('=== ÉTAT INITIAL ===');
    console.log('Popup visible:', queryByTestId('revision-popup') ? 'OUI' : 'NON');
    debug();
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(2000);
    }));
    console.log('=== APRÈS 3 SECONDES ===');
    console.log('Popup visible:', queryByTestId('revision-popup') ? 'OUI' : 'NON');
    debug();
    var popup = queryByTestId('revision-popup');
    expect(popup).toBeTruthy();
  }));
  it('debug - vérifie le mock AsyncStorage', (0, _asyncToGenerator2.default)(function* () {
    var wordsData = createWordsData(60);
    console.log('=== DONNÉES CRÉÉES ===');
    console.log('Words data:', wordsData);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      var result = wordsData[key] || null;
      console.log(`AsyncStorage.getItem("${key}") →`, result);
      return Promise.resolve(result);
    });
    var levels = ['1', '2', '3', '4', '5', '6', 'bonus'];
    var modes = ['classic', 'fast'];
    var total = 0;
    for (var level of levels) {
      for (var mode of modes) {
        var key = `vocabulary_${level}_${mode}`;
        var stored = yield _asyncStorage.default.getItem(key);
        if (stored) {
          var data = JSON.parse(stored);
          var completedWords = data.completedWords || {};
          var count = Object.values(completedWords).reduce(function (acc, words) {
            if (Array.isArray(words)) {
              return acc + words.length;
            }
            return acc;
          }, 0);
          total += count;
          console.log(`${key}: ${count} mots`);
        }
      }
    }
    console.log('Total calculé:', total);
    expect(total).toBe(60);
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJyb3V0ZXIiLCJwdXNoIiwiamVzdCIsImZuIiwiZ2V0SXRlbSIsIlRoZW1lQ29udGV4dCIsIkNvbnN1bWVyIiwiX3JlZiIsImNoaWxkcmVuIiwiY29sb3JzIiwic3VyZmFjZSIsInRleHQiLCJ0ZXh0U2Vjb25kYXJ5IiwicHJpbWFyeSIsImFjY2VudCIsIndhcm5pbmciLCJQcm92aWRlciIsIl9yZWYyIiwidmFsdWUiLCJ1c2VUaGVtZSIsIlJlYWN0IiwicmVxdWlyZSIsIl9yZXF1aXJlIiwiVmlldyIsIlRleHQiLCJUb3VjaGFibGVPcGFjaXR5IiwiX3JlZjMiLCJ2aXNpYmxlIiwib25DaG9pY2UiLCJvbkRpc21pc3MiLCJ0b3RhbFdvcmRzTGVhcm5lZCIsInF1ZXN0aW9uc0NvdW50IiwiX2pzeFJ1bnRpbWUiLCJqc3hzIiwidGVzdElEIiwianN4Iiwib25QcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfc2xpY2VkVG9BcnJheTIiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVhY3QiLCJfcmVhY3ROYXRpdmUiLCJfcmVhY3ROYXRpdmUyIiwiX1JldmlzaW9uT3JjaGVzdHJhdG9yIiwiUmV2aXNpb25TZXR0aW5nc0hvb2siLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9hc3luY1N0b3JhZ2UiLCJfZXhwb1JvdXRlciIsImUiLCJ0IiwiV2Vha01hcCIsInIiLCJuIiwiX19lc01vZHVsZSIsIm8iLCJpIiwiZiIsIl9fcHJvdG9fXyIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJzZXQiLCJfdCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX3JlcXVpcmUyIiwiZGVzY3JpYmUiLCJtb2NrVXNlUmV2aXNpb25TZXR0aW5ncyIsImNyZWF0ZVdvcmRzRGF0YSIsIndvcmRDb3VudCIsImxldmVscyIsIm1vZGVzIiwicmVzdWx0IiwidG90YWxDcmVhdGVkIiwiX2xvb3AiLCJsZXZlbCIsIl9sb29wMiIsIm1vZGUiLCJ3b3Jkc0ZvclRoaXNTZWN0aW9uIiwiTWF0aCIsIm1pbiIsImNlaWwiLCJsZW5ndGgiLCJKU09OIiwic3RyaW5naWZ5IiwiY29tcGxldGVkV29yZHMiLCJ1bml0MSIsIkFycmF5IiwiZnJvbSIsIl8iLCJfcmV0IiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJyZXNldE1vZHVsZXMiLCJ1c2VGYWtlVGltZXJzIiwicHJlZmVyZW5jZXMiLCJpc0Rpc2FibGVkIiwibmV4dFJldmlzaW9uQXQiLCJmcmVxdWVuY3kiLCJkaXNhYmxlUmV2aXNpb25zIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJyZXNldFRvTmV4dFRhcmdldCIsInVwZGF0ZVByZWZlcmVuY2VzIiwidXNlUmV2aXNpb25TZXR0aW5ncyIsIm1vY2tSZXR1cm5WYWx1ZSIsIkFzeW5jU3RvcmFnZSIsIm1vY2tSZXNldCIsImRlZmF1bHRXb3Jkc0RhdGEiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJrZXkiLCJQcm9taXNlIiwicmVzb2x2ZSIsImFmdGVyRWFjaCIsInVzZVJlYWxUaW1lcnMiLCJpdCIsIl9yZW5kZXIiLCJyZW5kZXIiLCJxdWVyeUJ5VGVzdElkIiwiYWN0IiwiYWR2YW5jZVRpbWVyc0J5VGltZSIsImV4cGVjdCIsInRvQmVOdWxsIiwiX3JlbmRlcjIiLCJ3b3Jkc0RhdGEiLCJfcmVuZGVyMyIsImdldEJ5VGVzdElkIiwiZ2V0QnlUZXh0Iiwid2FpdEZvciIsInRvSGF2ZUJlZW5DYWxsZWQiLCJ0b0JlVHJ1dGh5IiwiX3JlbmRlcjQiLCJjdXJyZW50TGV2ZWwiLCJub3dCdXR0b24iLCJmaXJlRXZlbnQiLCJwcmVzcyIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwicGF0aG5hbWUiLCJwYXJhbXMiLCJzb3VyY2UiLCJfcmVuZGVyNSIsImxhdGVyQnV0dG9uIiwiX3JlbmRlcjYiLCJkaXNhYmxlQnV0dG9uIiwiX3JlbmRlcjciLCJkaXNtaXNzQnV0dG9uIiwiZ2V0SXRlbVNweSIsInNweU9uIiwiVGVzdENvbXBvbmVudCIsIl9SZWFjdCR1c2VTdGF0ZSIsInVzZVN0YXRlIiwiX1JlYWN0JHVzZVN0YXRlMiIsImRlYnVnSW5mbyIsInNldERlYnVnSW5mbyIsIl9SZXZpc2lvblNldHRpbmdzSG9vayIsInVzZUVmZmVjdCIsImNvdW50V29yZHMiLCJfcmVmMjEiLCJ0b3RhbCIsInN0b3JlZCIsImRhdGEiLCJwYXJzZSIsInZhbHVlcyIsInJlZHVjZSIsImFjYyIsIndvcmRzIiwiaXNBcnJheSIsInRvdGFsV29yZHMiLCJzaG91bGRTaG93IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJTdHJpbmciLCJfcmVuZGVyOCIsInRocmVzaG9sZCIsImNvbnNvbGUiLCJsb2ciLCJ0b0JlIiwiX3JlbmRlcjkiLCJleHBlY3RlZENhbGxzIiwiZmxhdE1hcCIsIm1hcCIsImZvckVhY2giLCJfcmVuZGVyMCIsImRlYnVnIiwicG9wdXAiLCJjb3VudCJdLCJzb3VyY2VzIjpbIlJldmlzaW9uT3JjaGVzdHJhdG9yLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlciwgd2FpdEZvciwgZmlyZUV2ZW50LCBhY3QgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgeyBWaWV3LCBUZXh0IH0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCBSZXZpc2lvbk9yY2hlc3RyYXRvciBmcm9tICcuLi8uLi8uLi9zcmMvc2NyZWVucy9Wb2NhYnVsYXJ5UmV2aXNpb24vUmV2aXNpb25PcmNoZXN0cmF0b3InO1xuaW1wb3J0ICogYXMgUmV2aXNpb25TZXR0aW5nc0hvb2sgZnJvbSAnLi4vLi4vLi4vc3JjL2hvb2tzL3VzZVJldmlzaW9uU2V0dGluZ3MnO1xuaW1wb3J0IEFzeW5jU3RvcmFnZSBmcm9tICdAcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UvYXN5bmMtc3RvcmFnZSc7XG5pbXBvcnQgeyByb3V0ZXIgfSBmcm9tICdleHBvLXJvdXRlcic7XG5cbi8vIE1vY2tpbmcgZGVwZW5kZW5jaWVzXG5qZXN0Lm1vY2soJy4uLy4uLy4uL3NyYy9ob29rcy91c2VSZXZpc2lvblNldHRpbmdzJyk7XG5qZXN0Lm1vY2soJ2V4cG8tcm91dGVyJywgKCkgPT4gKHtcbiAgcm91dGVyOiB7XG4gICAgcHVzaDogamVzdC5mbigpLFxuICB9LFxufSkpO1xuamVzdC5tb2NrKCdAcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UvYXN5bmMtc3RvcmFnZScsICgpID0+ICh7XG4gIGdldEl0ZW06IGplc3QuZm4oKSxcbn0pKTtcblxuLy8gTW9jayBkdSBUaGVtZUNvbnRleHRcbmplc3QubW9jaygnLi4vLi4vLi4vc3JjL2NvbnRleHRzL1RoZW1lQ29udGV4dCcsICgpID0+ICh7XG4gIFRoZW1lQ29udGV4dDoge1xuICAgIENvbnN1bWVyOiAoeyBjaGlsZHJlbiB9KSA9PiBjaGlsZHJlbih7XG4gICAgICBjb2xvcnM6IHtcbiAgICAgICAgc3VyZmFjZTogXCIjRkZGRkZGXCIsXG4gICAgICAgIHRleHQ6IFwiIzFGMjkzN1wiLFxuICAgICAgICB0ZXh0U2Vjb25kYXJ5OiBcIiM2QjcyODBcIixcbiAgICAgICAgcHJpbWFyeTogXCIjMTBCOTgxXCIsXG4gICAgICAgIGFjY2VudDogXCIjM0I4MkY2XCIsXG4gICAgICAgIHdhcm5pbmc6IFwiI0Y1OUUwQlwiLFxuICAgICAgfVxuICAgIH0pLFxuICAgIFByb3ZpZGVyOiAoeyBjaGlsZHJlbiwgdmFsdWUgfSkgPT4gY2hpbGRyZW4sXG4gIH0sXG4gIHVzZVRoZW1lOiAoKSA9PiAoe1xuICAgIGNvbG9yczoge1xuICAgICAgc3VyZmFjZTogXCIjRkZGRkZGXCIsXG4gICAgICB0ZXh0OiBcIiMxRjI5MzdcIixcbiAgICAgIHRleHRTZWNvbmRhcnk6IFwiIzZCNzI4MFwiLFxuICAgICAgcHJpbWFyeTogXCIjMTBCOTgxXCIsXG4gICAgICBhY2NlbnQ6IFwiIzNCODJGNlwiLFxuICAgICAgd2FybmluZzogXCIjRjU5RTBCXCIsXG4gICAgfVxuICB9KSxcbn0pKTtcblxuLy8gTW9jayBzaW1wbGUgZGUgUmV2aXNpb25Qb3B1cCBwb3VyIMOpdml0ZXIgbGVzIGFuaW1hdGlvbnNcbmplc3QubW9jaygnLi4vLi4vLi4vc3JjL3NjcmVlbnMvRGFzaGJvYXJkL2NvbXBvbmVudHMvcG9wdXAvUmV2aXNpb25Qb3B1cCcsICgpID0+IHtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBjb25zdCB7IFZpZXcsIFRleHQsIFRvdWNoYWJsZU9wYWNpdHkgfSA9IHJlcXVpcmUoJ3JlYWN0LW5hdGl2ZScpO1xuICBcbiAgcmV0dXJuICh7IHZpc2libGUsIG9uQ2hvaWNlLCBvbkRpc21pc3MsIHRvdGFsV29yZHNMZWFybmVkLCBxdWVzdGlvbnNDb3VudCB9KSA9PiB7XG4gICAgaWYgKCF2aXNpYmxlKSByZXR1cm4gbnVsbDtcbiAgICBcbiAgICByZXR1cm4gKFxuICAgICAgPFZpZXcgdGVzdElEPVwicmV2aXNpb24tcG9wdXBcIj5cbiAgICAgICAgPFRleHQgdGVzdElEPVwicG9wdXAtd29yZHNcIj5Xb3Jkczoge3RvdGFsV29yZHNMZWFybmVkfTwvVGV4dD5cbiAgICAgICAgPFRleHQgdGVzdElEPVwicG9wdXAtcXVlc3Rpb25zXCI+UXVlc3Rpb25zOiB7cXVlc3Rpb25zQ291bnR9PC9UZXh0PlxuICAgICAgICA8VG91Y2hhYmxlT3BhY2l0eSB0ZXN0SUQ9XCJwb3B1cC1ub3dcIiBvblByZXNzPXsoKSA9PiBvbkNob2ljZSgnbm93Jyl9PlxuICAgICAgICAgIDxUZXh0Pk5vdzwvVGV4dD5cbiAgICAgICAgPC9Ub3VjaGFibGVPcGFjaXR5PlxuICAgICAgICA8VG91Y2hhYmxlT3BhY2l0eSB0ZXN0SUQ9XCJwb3B1cC1sYXRlcjUwXCIgb25QcmVzcz17KCkgPT4gb25DaG9pY2UoJ2xhdGVyXzUwJyl9PlxuICAgICAgICAgIDxUZXh0PkxhdGVyIDUwPC9UZXh0PlxuICAgICAgICA8L1RvdWNoYWJsZU9wYWNpdHk+XG4gICAgICAgIDxUb3VjaGFibGVPcGFjaXR5IHRlc3RJRD1cInBvcHVwLWRpc2FibGVcIiBvblByZXNzPXsoKSA9PiBvbkNob2ljZSgnZGlzYWJsZScpfT5cbiAgICAgICAgICA8VGV4dD5EaXNhYmxlPC9UZXh0PlxuICAgICAgICA8L1RvdWNoYWJsZU9wYWNpdHk+XG4gICAgICAgIDxUb3VjaGFibGVPcGFjaXR5IHRlc3RJRD1cInBvcHVwLWRpc21pc3NcIiBvblByZXNzPXtvbkRpc21pc3N9PlxuICAgICAgICAgIDxUZXh0PkRpc21pc3M8L1RleHQ+XG4gICAgICAgIDwvVG91Y2hhYmxlT3BhY2l0eT5cbiAgICAgIDwvVmlldz5cbiAgICApO1xuICB9O1xufSk7XG5cbmRlc2NyaWJlKCdSZXZpc2lvbk9yY2hlc3RyYXRvcicsICgpID0+IHtcbiAgbGV0IG1vY2tVc2VSZXZpc2lvblNldHRpbmdzO1xuXG4gIC8vIEhlbHBlciBwb3VyIGNyw6llciBkZXMgZG9ubsOpZXMgZGUgbW90cyBhcHByaXNcbiAgY29uc3QgY3JlYXRlV29yZHNEYXRhID0gKHdvcmRDb3VudCkgPT4ge1xuICAgIGNvbnN0IGxldmVscyA9IFsnMScsICcyJywgJzMnLCAnNCcsICc1JywgJzYnLCAnYm9udXMnXTtcbiAgICBjb25zdCBtb2RlcyA9IFsnY2xhc3NpYycsICdmYXN0J107XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgXG4gICAgbGV0IHRvdGFsQ3JlYXRlZCA9IDA7XG4gICAgZm9yIChjb25zdCBsZXZlbCBvZiBsZXZlbHMpIHtcbiAgICAgIGZvciAoY29uc3QgbW9kZSBvZiBtb2Rlcykge1xuICAgICAgICBpZiAodG90YWxDcmVhdGVkID49IHdvcmRDb3VudCkgYnJlYWs7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB3b3Jkc0ZvclRoaXNTZWN0aW9uID0gTWF0aC5taW4od29yZENvdW50IC0gdG90YWxDcmVhdGVkLCBNYXRoLmNlaWwod29yZENvdW50IC8gKGxldmVscy5sZW5ndGggKiBtb2Rlcy5sZW5ndGgpKSk7XG4gICAgICAgIHJlc3VsdFtgdm9jYWJ1bGFyeV8ke2xldmVsfV8ke21vZGV9YF0gPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgY29tcGxldGVkV29yZHM6IHtcbiAgICAgICAgICAgIHVuaXQxOiBBcnJheS5mcm9tKHsgbGVuZ3RoOiB3b3Jkc0ZvclRoaXNTZWN0aW9uIH0sIChfLCBpKSA9PiBgd29yZF8ke2xldmVsfV8ke21vZGV9XyR7aX1gKVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRvdGFsQ3JlYXRlZCArPSB3b3Jkc0ZvclRoaXNTZWN0aW9uO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRvdGFsQ3JlYXRlZCA+PSB3b3JkQ291bnQpIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKHRvdGFsQ3JlYXRlZCA+PSB3b3JkQ291bnQpIGJyZWFrO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIC8vIFLDqWluaXRpYWxpc2VyIHRvdXMgbGVzIG1vY2tzIGF2YW50IGNoYXF1ZSB0ZXN0XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gICAgamVzdC5yZXNldE1vZHVsZXMoKTsgLy8g4pyFIFLDiUlOSVRJQUxJU0FUSU9OIENPTVBMw4hURSBkZXMgbW9kdWxlc1xuICAgIGplc3QudXNlRmFrZVRpbWVycygpO1xuXG4gICAgLy8gTW9jayBwYXIgZMOpZmF1dCBwb3VyIGxlIGhvb2sgdXNlUmV2aXNpb25TZXR0aW5nc1xuICAgIG1vY2tVc2VSZXZpc2lvblNldHRpbmdzID0ge1xuICAgICAgcHJlZmVyZW5jZXM6IHtcbiAgICAgICAgaXNEaXNhYmxlZDogZmFsc2UsXG4gICAgICAgIG5leHRSZXZpc2lvbkF0OiA1MCwgLy8g4pyFIEFsaWduw6kgYXZlYyBsZSBob29rIHLDqWVsICjDqXRhaXQgMTAwKVxuICAgICAgICBxdWVzdGlvbnNDb3VudDogMTAsXG4gICAgICAgIGZyZXF1ZW5jeTogNTAsXG4gICAgICB9LFxuICAgICAgZGlzYWJsZVJldmlzaW9uczogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHRydWUpLFxuICAgICAgcmVzZXRUb05leHRUYXJnZXQ6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh0cnVlKSxcbiAgICAgIHVwZGF0ZVByZWZlcmVuY2VzOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodHJ1ZSksXG4gICAgfTtcbiAgICBSZXZpc2lvblNldHRpbmdzSG9vay51c2VSZXZpc2lvblNldHRpbmdzLm1vY2tSZXR1cm5WYWx1ZShtb2NrVXNlUmV2aXNpb25TZXR0aW5ncyk7XG5cbiAgICAvLyDinIUgUsOJSU5JVElBTElTQVRJT04gQ09NUEzDiFRFIGQnQXN5bmNTdG9yYWdlXG4gICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1Jlc2V0KCk7XG4gICAgXG4gICAgLy8gTW9jayBwYXIgZMOpZmF1dCBwb3VyIEFzeW5jU3RvcmFnZSAocGV1IGRlIG1vdHMpXG4gICAgY29uc3QgZGVmYXVsdFdvcmRzRGF0YSA9IGNyZWF0ZVdvcmRzRGF0YSgzKTtcbiAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrSW1wbGVtZW50YXRpb24oKGtleSkgPT4ge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShkZWZhdWx0V29yZHNEYXRhW2tleV0gfHwgbnVsbCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgamVzdC51c2VSZWFsVGltZXJzKCk7XG4gIH0pO1xuXG4gIGl0KCduZSByZW5kIHJpZW4gc2kgbGVzIHLDqXZpc2lvbnMgc29udCBkw6lzYWN0aXbDqWVzJywgYXN5bmMgKCkgPT4ge1xuICAgIG1vY2tVc2VSZXZpc2lvblNldHRpbmdzLnByZWZlcmVuY2VzLmlzRGlzYWJsZWQgPSB0cnVlO1xuICAgIFJldmlzaW9uU2V0dGluZ3NIb29rLnVzZVJldmlzaW9uU2V0dGluZ3MubW9ja1JldHVyblZhbHVlKG1vY2tVc2VSZXZpc2lvblNldHRpbmdzKTtcblxuICAgIGNvbnN0IHsgcXVlcnlCeVRlc3RJZCB9ID0gcmVuZGVyKDxSZXZpc2lvbk9yY2hlc3RyYXRvciAvPik7XG4gICAgXG4gICAgLy8gQXR0ZW5kcmUgcXVlIGxlcyBkb25uw6llcyBzb2llbnQgY2hhcmfDqWVzXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgyMDAwKTtcbiAgICB9KTtcbiAgICBcbiAgICBleHBlY3QocXVlcnlCeVRlc3RJZCgncmV2aXNpb24tcG9wdXAnKSkudG9CZU51bGwoKTtcbiAgfSk7XG5cbiAgaXQoJ25lIG1vbnRyZSBwYXMgbGEgcG9wdXAgc2kgbGUgbm9tYnJlIGRlIG1vdHMgZXN0IGluZsOpcmlldXIgYXUgc2V1aWwnLCBhc3luYyAoKSA9PiB7XG4gICAgLy8gTGUgbW9jayBwYXIgZMOpZmF1dCBhIDMgbW90cywgbGUgc2V1aWwgZXN0IG1haW50ZW5hbnQgw6AgNTBcbiAgICBjb25zdCB7IHF1ZXJ5QnlUZXN0SWQgfSA9IHJlbmRlcig8UmV2aXNpb25PcmNoZXN0cmF0b3IgLz4pO1xuICAgIFxuICAgIC8vIEF0dGVuZHJlIHF1ZSBsZXMgZG9ubsOpZXMgc29pZW50IGNoYXJnw6llcyBldCBsZSB0aW1lciBzJ2V4w6ljdXRlXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgyMDAwKTtcbiAgICB9KTtcblxuICAgIGV4cGVjdChxdWVyeUJ5VGVzdElkKCdyZXZpc2lvbi1wb3B1cCcpKS50b0JlTnVsbCgpO1xuICB9KTtcblxuICBpdCgnbW9udHJlIGxhIHBvcHVwIHF1YW5kIGxlIG5vbWJyZSBkZSBtb3RzIGF0dGVpbnQgbGUgc2V1aWwnLCBhc3luYyAoKSA9PiB7XG4gICAgLy8gQ29uZmlndXJlciBBc3luY1N0b3JhZ2UgcG91ciByZXRvdXJuZXIgNjAgbW90cyAo4omlIDUwKVxuICAgIGNvbnN0IHdvcmRzRGF0YSA9IGNyZWF0ZVdvcmRzRGF0YSg2MCk7XG4gICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja0ltcGxlbWVudGF0aW9uKChrZXkpID0+IHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUod29yZHNEYXRhW2tleV0gfHwgbnVsbCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCB7IGdldEJ5VGVzdElkLCBnZXRCeVRleHQsIHF1ZXJ5QnlUZXN0SWQgfSA9IHJlbmRlcig8UmV2aXNpb25PcmNoZXN0cmF0b3IgLz4pO1xuICAgIFxuICAgIC8vIEF0dGVuZHJlIHF1ZSBsZXMgZG9ubsOpZXMgQXN5bmNTdG9yYWdlIHNvaWVudCBjaGFyZ8OpZXNcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChBc3luY1N0b3JhZ2UuZ2V0SXRlbSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgLy8gQXR0ZW5kcmUgcXVlIGxlcyBkb25uw6llcyBzb2llbnQgY2hhcmfDqWVzIGV0IGxlIHRpbWVyIHMnZXjDqWN1dGVcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDIwMDApOyAvLyBEw6lwYXNzZSBsZSBkw6lsYWkgZGUgMTAwMG1zIGR1IHNldFRpbWVvdXRcbiAgICB9KTtcblxuICAgIC8vIEF0dGVuZHJlIHF1ZSBsYSBwb3B1cCBzb2l0IHJlbmR1ZVxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHF1ZXJ5QnlUZXN0SWQoJ3JldmlzaW9uLXBvcHVwJykpLnRvQmVUcnV0aHkoKTtcbiAgICB9KTtcblxuICAgIGV4cGVjdChnZXRCeVRleHQoJ1dvcmRzOiA2MCcpKS50b0JlVHJ1dGh5KCk7XG4gICAgZXhwZWN0KGdldEJ5VGV4dCgnUXVlc3Rpb25zOiAxMCcpKS50b0JlVHJ1dGh5KCk7XG4gIH0pO1xuXG4gIGl0KCdhcHBlbGxlIHJlc2V0VG9OZXh0VGFyZ2V0IGV0IG5hdmlndWUgcXVhbmQgXCJub3dcIiBlc3QgY2hvaXNpJywgYXN5bmMgKCkgPT4ge1xuICAgIC8vIENvbmZpZ3VyZXIgQXN5bmNTdG9yYWdlIHBvdXIgcmV0b3VybmVyIDYwIG1vdHNcbiAgICBjb25zdCB3b3Jkc0RhdGEgPSBjcmVhdGVXb3Jkc0RhdGEoNjApO1xuICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tJbXBsZW1lbnRhdGlvbigoa2V5KSA9PiB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHdvcmRzRGF0YVtrZXldIHx8IG51bGwpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgeyBnZXRCeVRlc3RJZCwgcXVlcnlCeVRlc3RJZCB9ID0gcmVuZGVyKDxSZXZpc2lvbk9yY2hlc3RyYXRvciBjdXJyZW50TGV2ZWw9XCJBMVwiIC8+KTtcbiAgICBcbiAgICAvLyBBdHRlbmRyZSBxdWUgbGEgcG9wdXAgYXBwYXJhaXNzZVxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMzAwMCk7XG4gICAgfSk7XG5cbiAgICAvLyBBdHRlbmRyZSBxdWUgbGEgcG9wdXAgc29pdCByZW5kdWVcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChxdWVyeUJ5VGVzdElkKCdyZXZpc2lvbi1wb3B1cCcpKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBub3dCdXR0b24gPSBnZXRCeVRlc3RJZCgncG9wdXAtbm93Jyk7XG4gICAgXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhub3dCdXR0b24pO1xuICAgIH0pO1xuXG4gICAgLy8gVsOpcmlmaWVyIGxlcyBhcHBlbHNcbiAgICBleHBlY3QobW9ja1VzZVJldmlzaW9uU2V0dGluZ3MucmVzZXRUb05leHRUYXJnZXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKDYwKTtcbiAgICBleHBlY3Qocm91dGVyLnB1c2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgIHBhdGhuYW1lOiBcIi90YWJzL3ZvY2FidWxhcnlSZXZpc2lvblwiLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIGxldmVsOiBcIkExXCIsXG4gICAgICAgIHF1ZXN0aW9uc0NvdW50OiAxMCxcbiAgICAgICAgc291cmNlOiAncG9wdXBfdHJpZ2dlcicsXG4gICAgICB9LFxuICAgIH0pO1xuICB9KTtcblxuICBpdCgnYXBwZWxsZSB1cGRhdGVQcmVmZXJlbmNlcyBxdWFuZCBcImxhdGVyXzUwXCIgZXN0IGNob2lzaScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB3b3Jkc0RhdGEgPSBjcmVhdGVXb3Jkc0RhdGEoNjApO1xuICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tJbXBsZW1lbnRhdGlvbigoa2V5KSA9PiB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHdvcmRzRGF0YVtrZXldIHx8IG51bGwpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgeyBnZXRCeVRlc3RJZCwgcXVlcnlCeVRlc3RJZCB9ID0gcmVuZGVyKDxSZXZpc2lvbk9yY2hlc3RyYXRvciAvPik7XG4gICAgXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgzMDAwKTtcbiAgICB9KTtcblxuICAgIC8vIEF0dGVuZHJlIHF1ZSBsYSBwb3B1cCBzb2l0IHJlbmR1ZVxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHF1ZXJ5QnlUZXN0SWQoJ3JldmlzaW9uLXBvcHVwJykpLnRvQmVUcnV0aHkoKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGxhdGVyQnV0dG9uID0gZ2V0QnlUZXN0SWQoJ3BvcHVwLWxhdGVyNTAnKTtcbiAgICBcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgZmlyZUV2ZW50LnByZXNzKGxhdGVyQnV0dG9uKTtcbiAgICB9KTtcblxuICAgIC8vIFbDqXJpZmllciBsJ2FwcGVsIC0gNjAgbW90cyArIDUwID0gMTEwXG4gICAgZXhwZWN0KG1vY2tVc2VSZXZpc2lvblNldHRpbmdzLnVwZGF0ZVByZWZlcmVuY2VzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7IFxuICAgICAgbmV4dFJldmlzaW9uQXQ6IDExMCBcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ2FwcGVsbGUgZGlzYWJsZVJldmlzaW9ucyBxdWFuZCBcImRpc2FibGVcIiBlc3QgY2hvaXNpJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHdvcmRzRGF0YSA9IGNyZWF0ZVdvcmRzRGF0YSg2MCk7XG4gICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja0ltcGxlbWVudGF0aW9uKChrZXkpID0+IHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUod29yZHNEYXRhW2tleV0gfHwgbnVsbCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCB7IGdldEJ5VGVzdElkLCBxdWVyeUJ5VGVzdElkIH0gPSByZW5kZXIoPFJldmlzaW9uT3JjaGVzdHJhdG9yIC8+KTtcbiAgICBcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDMwMDApO1xuICAgIH0pO1xuXG4gICAgLy8gQXR0ZW5kcmUgcXVlIGxhIHBvcHVwIHNvaXQgcmVuZHVlXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QocXVlcnlCeVRlc3RJZCgncmV2aXNpb24tcG9wdXAnKSkudG9CZVRydXRoeSgpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgZGlzYWJsZUJ1dHRvbiA9IGdldEJ5VGVzdElkKCdwb3B1cC1kaXNhYmxlJyk7XG4gICAgXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhkaXNhYmxlQnV0dG9uKTtcbiAgICB9KTtcblxuICAgIC8vIFbDqXJpZmllciBsJ2FwcGVsXG4gICAgZXhwZWN0KG1vY2tVc2VSZXZpc2lvblNldHRpbmdzLmRpc2FibGVSZXZpc2lvbnMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgfSk7XG5cbiAgaXQoJ2fDqHJlIGxhIGZlcm1ldHVyZSAoZGlzbWlzcykgZW4gY2hvaXNpc3NhbnQgXCJsYXRlcl81MFwiIHBhciBkw6lmYXV0JywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHdvcmRzRGF0YSA9IGNyZWF0ZVdvcmRzRGF0YSg2MCk7XG4gICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja0ltcGxlbWVudGF0aW9uKChrZXkpID0+IHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUod29yZHNEYXRhW2tleV0gfHwgbnVsbCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCB7IGdldEJ5VGVzdElkLCBxdWVyeUJ5VGVzdElkIH0gPSByZW5kZXIoPFJldmlzaW9uT3JjaGVzdHJhdG9yIC8+KTtcbiAgICBcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDMwMDApO1xuICAgIH0pO1xuXG4gICAgLy8gQXR0ZW5kcmUgcXVlIGxhIHBvcHVwIHNvaXQgcmVuZHVlXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QocXVlcnlCeVRlc3RJZCgncmV2aXNpb24tcG9wdXAnKSkudG9CZVRydXRoeSgpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgZGlzbWlzc0J1dHRvbiA9IGdldEJ5VGVzdElkKCdwb3B1cC1kaXNtaXNzJyk7XG4gICAgXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhkaXNtaXNzQnV0dG9uKTtcbiAgICB9KTtcblxuICAgIC8vIFbDqXJpZmllciBsJ2FwcGVsIC0gNjAgbW90cyArIDUwID0gMTEwXG4gICAgZXhwZWN0KG1vY2tVc2VSZXZpc2lvblNldHRpbmdzLnVwZGF0ZVByZWZlcmVuY2VzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7IFxuICAgICAgbmV4dFJldmlzaW9uQXQ6IDExMCBcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gVGVzdCBkZSBkZWJ1Z2dpbmcgcG91ciBjb21wcmVuZHJlIGxlIGNvbXBvcnRlbWVudFxuICBpdCgnZGVidWcgLSB2w6lyaWZpZSBsZXMgY29uZGl0aW9ucyBkZSBsYSBwb3B1cCcsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB3b3Jkc0RhdGEgPSBjcmVhdGVXb3Jkc0RhdGEoNjApO1xuICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tJbXBsZW1lbnRhdGlvbigoa2V5KSA9PiB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHdvcmRzRGF0YVtrZXldIHx8IG51bGwpO1xuICAgIH0pO1xuXG4gICAgLy8gRXNwaW9ubmVyIGxlcyBhcHBlbHMgQXN5bmNTdG9yYWdlXG4gICAgY29uc3QgZ2V0SXRlbVNweSA9IGplc3Quc3B5T24oQXN5bmNTdG9yYWdlLCAnZ2V0SXRlbScpO1xuXG4gICAgY29uc3QgVGVzdENvbXBvbmVudCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IFtkZWJ1Z0luZm8sIHNldERlYnVnSW5mb10gPSBSZWFjdC51c2VTdGF0ZSh7fSk7XG4gICAgICBjb25zdCB7IHByZWZlcmVuY2VzIH0gPSBSZXZpc2lvblNldHRpbmdzSG9vay51c2VSZXZpc2lvblNldHRpbmdzKCk7XG4gICAgICBcbiAgICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvdW50V29yZHMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgbGV0IHRvdGFsID0gMDtcbiAgICAgICAgICBjb25zdCBsZXZlbHMgPSBbJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJ2JvbnVzJ107XG4gICAgICAgICAgY29uc3QgbW9kZXMgPSBbJ2NsYXNzaWMnLCAnZmFzdCddO1xuXG4gICAgICAgICAgZm9yIChjb25zdCBsZXZlbCBvZiBsZXZlbHMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbW9kZSBvZiBtb2Rlcykge1xuICAgICAgICAgICAgICBjb25zdCBzdG9yZWQgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShgdm9jYWJ1bGFyeV8ke2xldmVsfV8ke21vZGV9YCk7XG4gICAgICAgICAgICAgIGlmIChzdG9yZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShzdG9yZWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRlZFdvcmRzID0gZGF0YS5jb21wbGV0ZWRXb3JkcyB8fCB7fTtcbiAgICAgICAgICAgICAgICB0b3RhbCArPSBPYmplY3QudmFsdWVzKGNvbXBsZXRlZFdvcmRzKS5yZWR1Y2UoKGFjYywgd29yZHMpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHdvcmRzKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjICsgd29yZHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBzZXREZWJ1Z0luZm8oe1xuICAgICAgICAgICAgdG90YWxXb3JkczogdG90YWwsXG4gICAgICAgICAgICBpc0Rpc2FibGVkOiBwcmVmZXJlbmNlcy5pc0Rpc2FibGVkLFxuICAgICAgICAgICAgbmV4dFJldmlzaW9uQXQ6IHByZWZlcmVuY2VzLm5leHRSZXZpc2lvbkF0LFxuICAgICAgICAgICAgc2hvdWxkU2hvdzogIXByZWZlcmVuY2VzLmlzRGlzYWJsZWQgJiYgdG90YWwgPj0gcHJlZmVyZW5jZXMubmV4dFJldmlzaW9uQXQgJiYgdG90YWwgPiAwXG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY291bnRXb3JkcygpO1xuICAgICAgfSwgW3ByZWZlcmVuY2VzXSk7XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxWaWV3IHRlc3RJRD1cImRlYnVnLWluZm9cIj5cbiAgICAgICAgICA8VGV4dCB0ZXN0SUQ9XCJkZWJ1Zy10b3RhbFwiPntkZWJ1Z0luZm8udG90YWxXb3Jkc308L1RleHQ+XG4gICAgICAgICAgPFRleHQgdGVzdElEPVwiZGVidWctZGlzYWJsZWRcIj57U3RyaW5nKGRlYnVnSW5mby5pc0Rpc2FibGVkKX08L1RleHQ+XG4gICAgICAgICAgPFRleHQgdGVzdElEPVwiZGVidWctdGhyZXNob2xkXCI+e2RlYnVnSW5mby5uZXh0UmV2aXNpb25BdH08L1RleHQ+XG4gICAgICAgICAgPFRleHQgdGVzdElEPVwiZGVidWctc2hvdWxkLXNob3dcIj57U3RyaW5nKGRlYnVnSW5mby5zaG91bGRTaG93KX08L1RleHQ+XG4gICAgICAgIDwvVmlldz5cbiAgICAgICk7XG4gICAgfTtcblxuICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcig8VGVzdENvbXBvbmVudCAvPik7XG4gICAgXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QoZ2V0SXRlbVNweSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxMDAwKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHRvdGFsV29yZHMgPSBnZXRCeVRlc3RJZCgnZGVidWctdG90YWwnKS5jaGlsZHJlblswXTtcbiAgICBjb25zdCBpc0Rpc2FibGVkID0gZ2V0QnlUZXN0SWQoJ2RlYnVnLWRpc2FibGVkJykuY2hpbGRyZW5bMF07XG4gICAgY29uc3QgdGhyZXNob2xkID0gZ2V0QnlUZXN0SWQoJ2RlYnVnLXRocmVzaG9sZCcpLmNoaWxkcmVuWzBdO1xuICAgIGNvbnN0IHNob3VsZFNob3cgPSBnZXRCeVRlc3RJZCgnZGVidWctc2hvdWxkLXNob3cnKS5jaGlsZHJlblswXTtcblxuICAgIGNvbnNvbGUubG9nKCdEZWJ1ZyBpbmZvOicsIHtcbiAgICAgIHRvdGFsV29yZHMsXG4gICAgICBpc0Rpc2FibGVkLFxuICAgICAgdGhyZXNob2xkLFxuICAgICAgc2hvdWxkU2hvd1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KHRvdGFsV29yZHMpLnRvQmUoJzYwJyk7XG4gICAgZXhwZWN0KGlzRGlzYWJsZWQpLnRvQmUoJ2ZhbHNlJyk7XG4gICAgZXhwZWN0KHRocmVzaG9sZCkudG9CZSgnNTAnKTtcbiAgICBleHBlY3Qoc2hvdWxkU2hvdykudG9CZSgndHJ1ZScpO1xuICB9KTtcblxuICAvLyBUZXN0IHN1cHBsw6ltZW50YWlyZSBwb3VyIHbDqXJpZmllciBsZSBjb21wdGFnZSBkZXMgbW90c1xuICBpdCgnY29tcHRlIGNvcnJlY3RlbWVudCBsZXMgbW90cyBkZXB1aXMgQXN5bmNTdG9yYWdlJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHdvcmRzRGF0YSA9IGNyZWF0ZVdvcmRzRGF0YSgzNSk7XG4gICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja0ltcGxlbWVudGF0aW9uKChrZXkpID0+IHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUod29yZHNEYXRhW2tleV0gfHwgbnVsbCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCB7IHF1ZXJ5QnlUZXN0SWQgfSA9IHJlbmRlcig8UmV2aXNpb25PcmNoZXN0cmF0b3IgLz4pO1xuICAgIFxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMjAwMCk7XG4gICAgfSk7XG5cbiAgICAvLyBBdmVjIDM1IG1vdHMgZXQgdW4gc2V1aWwgw6AgNTAsIGxhIHBvcHVwIG5lIGRvaXQgcGFzIGFwcGFyYcOudHJlXG4gICAgZXhwZWN0KHF1ZXJ5QnlUZXN0SWQoJ3JldmlzaW9uLXBvcHVwJykpLnRvQmVOdWxsKCk7XG4gICAgXG4gICAgLy8gVsOpcmlmaWVyIHF1ZSBBc3luY1N0b3JhZ2UgYSDDqXTDqSBhcHBlbMOpIHBvdXIgdG91cyBsZXMgbml2ZWF1eC9tb2Rlc1xuICAgIGNvbnN0IGV4cGVjdGVkQ2FsbHMgPSBbJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJ2JvbnVzJ11cbiAgICAgIC5mbGF0TWFwKGxldmVsID0+IFsnY2xhc3NpYycsICdmYXN0J10ubWFwKG1vZGUgPT4gYHZvY2FidWxhcnlfJHtsZXZlbH1fJHttb2RlfWApKTtcbiAgICBcbiAgICBleHBlY3RlZENhbGxzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGV4cGVjdChBc3luY1N0b3JhZ2UuZ2V0SXRlbSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoa2V5KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gVGVzdCBkZSBkZWJ1ZyBwb3VyIHbDqXJpZmllciBsJ8OpdGF0IGR1IGNvbXBvc2FudCBSZXZpc2lvbk9yY2hlc3RyYXRvclxuICBpdCgnZGVidWcgLSB2w6lyaWZpZSBsXFwnw6l0YXQgZHUgY29tcG9zYW50IFJldmlzaW9uT3JjaGVzdHJhdG9yJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHdvcmRzRGF0YSA9IGNyZWF0ZVdvcmRzRGF0YSg2MCk7XG4gICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja0ltcGxlbWVudGF0aW9uKChrZXkpID0+IHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUod29yZHNEYXRhW2tleV0gfHwgbnVsbCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCB7IGdldEJ5VGVzdElkLCBxdWVyeUJ5VGVzdElkLCBkZWJ1ZyB9ID0gcmVuZGVyKDxSZXZpc2lvbk9yY2hlc3RyYXRvciAvPik7XG4gICAgXG4gICAgLy8gQXR0ZW5kcmUgcXVlIGxlcyBkb25uw6llcyBzb2llbnQgY2hhcmfDqWVzXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxMDAwKTtcbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKCc9PT0gw4lUQVQgSU5JVElBTCA9PT0nKTtcbiAgICBjb25zb2xlLmxvZygnUG9wdXAgdmlzaWJsZTonLCBxdWVyeUJ5VGVzdElkKCdyZXZpc2lvbi1wb3B1cCcpID8gJ09VSScgOiAnTk9OJyk7XG4gICAgZGVidWcoKTtcblxuICAgIC8vIEF0dGVuZHJlIHF1ZSBsYSBwb3B1cCBhcHBhcmFpc3NlXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgyMDAwKTtcbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKCc9PT0gQVBSw4hTIDMgU0VDT05ERVMgPT09Jyk7XG4gICAgY29uc29sZS5sb2coJ1BvcHVwIHZpc2libGU6JywgcXVlcnlCeVRlc3RJZCgncmV2aXNpb24tcG9wdXAnKSA/ICdPVUknIDogJ05PTicpO1xuICAgIGRlYnVnKCk7XG5cbiAgICAvLyBWw6lyaWZpZXIgcXVlIGxhIHBvcHVwIGVzdCB2aXNpYmxlXG4gICAgY29uc3QgcG9wdXAgPSBxdWVyeUJ5VGVzdElkKCdyZXZpc2lvbi1wb3B1cCcpO1xuICAgIGV4cGVjdChwb3B1cCkudG9CZVRydXRoeSgpO1xuICB9KTtcblxuICAvLyBUZXN0IHBvdXIgdsOpcmlmaWVyIGxlIG1vY2sgQXN5bmNTdG9yYWdlXG4gIGl0KCdkZWJ1ZyAtIHbDqXJpZmllIGxlIG1vY2sgQXN5bmNTdG9yYWdlJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHdvcmRzRGF0YSA9IGNyZWF0ZVdvcmRzRGF0YSg2MCk7XG4gICAgY29uc29sZS5sb2coJz09PSBET05Ow4lFUyBDUsOJw4lFUyA9PT0nKTtcbiAgICBjb25zb2xlLmxvZygnV29yZHMgZGF0YTonLCB3b3Jkc0RhdGEpO1xuICAgIFxuICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tJbXBsZW1lbnRhdGlvbigoa2V5KSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSB3b3Jkc0RhdGFba2V5XSB8fCBudWxsO1xuICAgICAgY29uc29sZS5sb2coYEFzeW5jU3RvcmFnZS5nZXRJdGVtKFwiJHtrZXl9XCIpIOKGkmAsIHJlc3VsdCk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgfSk7XG5cbiAgICAvLyBTaW11bGVyIGxlcyBhcHBlbHNcbiAgICBjb25zdCBsZXZlbHMgPSBbJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJ2JvbnVzJ107XG4gICAgY29uc3QgbW9kZXMgPSBbJ2NsYXNzaWMnLCAnZmFzdCddO1xuICAgIFxuICAgIGxldCB0b3RhbCA9IDA7XG4gICAgZm9yIChjb25zdCBsZXZlbCBvZiBsZXZlbHMpIHtcbiAgICAgIGZvciAoY29uc3QgbW9kZSBvZiBtb2Rlcykge1xuICAgICAgICBjb25zdCBrZXkgPSBgdm9jYWJ1bGFyeV8ke2xldmVsfV8ke21vZGV9YDtcbiAgICAgICAgY29uc3Qgc3RvcmVkID0gYXdhaXQgQXN5bmNTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgaWYgKHN0b3JlZCkge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHN0b3JlZCk7XG4gICAgICAgICAgY29uc3QgY29tcGxldGVkV29yZHMgPSBkYXRhLmNvbXBsZXRlZFdvcmRzIHx8IHt9O1xuICAgICAgICAgIGNvbnN0IGNvdW50ID0gT2JqZWN0LnZhbHVlcyhjb21wbGV0ZWRXb3JkcykucmVkdWNlKChhY2MsIHdvcmRzKSA9PiB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh3b3JkcykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGFjYyArIHdvcmRzLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgdG90YWwgKz0gY291bnQ7XG4gICAgICAgICAgY29uc29sZS5sb2coYCR7a2V5fTogJHtjb3VudH0gbW90c2ApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdUb3RhbCBjYWxjdWzDqTonLCB0b3RhbCk7XG4gICAgZXhwZWN0KHRvdGFsKS50b0JlKDYwKTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBU0FBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLHdDQUF3QyxDQUFDO0FBQ25ERCxXQUFBLEdBQUtDLElBQUksQ0FBQyxhQUFhLEVBQUU7RUFBQSxPQUFPO0lBQzlCQyxNQUFNLEVBQUU7TUFDTkMsSUFBSSxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQztJQUNoQjtFQUNGLENBQUM7QUFBQSxDQUFDLENBQUM7QUFDSEwsV0FBQSxHQUFLQyxJQUFJLENBQUMsMkNBQTJDLEVBQUU7RUFBQSxPQUFPO0lBQzVESyxPQUFPLEVBQUVGLElBQUksQ0FBQ0MsRUFBRSxDQUFDO0VBQ25CLENBQUM7QUFBQSxDQUFDLENBQUM7QUFHSEwsV0FBQSxHQUFLQyxJQUFJLENBQUMsb0NBQW9DLEVBQUU7RUFBQSxPQUFPO0lBQ3JETSxZQUFZLEVBQUU7TUFDWkMsUUFBUSxFQUFFLFNBQVZBLFFBQVFBLENBQUFDLElBQUE7UUFBQSxJQUFLQyxRQUFRLEdBQUFELElBQUEsQ0FBUkMsUUFBUTtRQUFBLE9BQU9BLFFBQVEsQ0FBQztVQUNuQ0MsTUFBTSxFQUFFO1lBQ05DLE9BQU8sRUFBRSxTQUFTO1lBQ2xCQyxJQUFJLEVBQUUsU0FBUztZQUNmQyxhQUFhLEVBQUUsU0FBUztZQUN4QkMsT0FBTyxFQUFFLFNBQVM7WUFDbEJDLE1BQU0sRUFBRSxTQUFTO1lBQ2pCQyxPQUFPLEVBQUU7VUFDWDtRQUNGLENBQUMsQ0FBQztNQUFBO01BQ0ZDLFFBQVEsRUFBRSxTQUFWQSxRQUFRQSxDQUFBQyxLQUFBO1FBQUEsSUFBS1QsUUFBUSxHQUFBUyxLQUFBLENBQVJULFFBQVE7VUFBRVUsS0FBSyxHQUFBRCxLQUFBLENBQUxDLEtBQUs7UUFBQSxPQUFPVixRQUFRO01BQUE7SUFDN0MsQ0FBQztJQUNEVyxRQUFRLEVBQUUsU0FBVkEsUUFBUUEsQ0FBQTtNQUFBLE9BQVM7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