9c443fb94ea69a4294ed57d121d9472b
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _reactNative = require("@testing-library/react-native");
var _useDashboardState = require("../../../../src/screens/Dashboard/hooks/useDashboardState");
describe('useDashboardState', function () {
  var mockLoadLastActivities = jest.fn();
  beforeEach(function () {
    jest.clearAllMocks();
    mockLoadLastActivities.mockResolvedValue();
  });
  it('devrait initialiser avec les valeurs par défaut', function () {
    var _renderHook = (0, _reactNative.renderHook)(function () {
        return (0, _useDashboardState.useDashboardState)(mockLoadLastActivities);
      }),
      result = _renderHook.result;
    expect(result.current.showLevelProgress).toBe(false);
    expect(result.current.refreshing).toBe(false);
    expect(result.current.activeTab).toBe('home');
  });
  it('devrait ouvrir et fermer la modal de progression', function () {
    var _renderHook2 = (0, _reactNative.renderHook)(function () {
        return (0, _useDashboardState.useDashboardState)(mockLoadLastActivities);
      }),
      result = _renderHook2.result;
    (0, _reactNative.act)(function () {
      result.current.openLevelProgressModal();
    });
    expect(result.current.showLevelProgress).toBe(true);
    (0, _reactNative.act)(function () {
      result.current.closeLevelProgressModal();
    });
    expect(result.current.showLevelProgress).toBe(false);
  });
  it('devrait changer l\'état de la modal directement', function () {
    var _renderHook3 = (0, _reactNative.renderHook)(function () {
        return (0, _useDashboardState.useDashboardState)(mockLoadLastActivities);
      }),
      result = _renderHook3.result;
    (0, _reactNative.act)(function () {
      result.current.setShowLevelProgress(true);
    });
    expect(result.current.showLevelProgress).toBe(true);
    (0, _reactNative.act)(function () {
      result.current.setShowLevelProgress(false);
    });
    expect(result.current.showLevelProgress).toBe(false);
  });
  it('devrait changer l\'onglet actif', function () {
    var _renderHook4 = (0, _reactNative.renderHook)(function () {
        return (0, _useDashboardState.useDashboardState)(mockLoadLastActivities);
      }),
      result = _renderHook4.result;
    (0, _reactNative.act)(function () {
      result.current.setActiveTab('progress');
    });
    expect(result.current.activeTab).toBe('progress');
    (0, _reactNative.act)(function () {
      result.current.setActiveTab('settings');
    });
    expect(result.current.activeTab).toBe('settings');
  });
  it('devrait gérer le pull-to-refresh avec succès', (0, _asyncToGenerator2.default)(function* () {
    var _renderHook5 = (0, _reactNative.renderHook)(function () {
        return (0, _useDashboardState.useDashboardState)(mockLoadLastActivities);
      }),
      result = _renderHook5.result;
    expect(result.current.refreshing).toBe(false);
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      yield result.current.onRefresh();
    }));
    expect(result.current.refreshing).toBe(false);
    expect(mockLoadLastActivities).toHaveBeenCalledTimes(1);
  }));
  it('devrait gérer les erreurs de refresh gracieusement', (0, _asyncToGenerator2.default)(function* () {
    mockLoadLastActivities.mockRejectedValue(new Error('Network error'));
    var _renderHook6 = (0, _reactNative.renderHook)(function () {
        return (0, _useDashboardState.useDashboardState)(mockLoadLastActivities);
      }),
      result = _renderHook6.result;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      yield result.current.onRefresh();
    }));
    expect(result.current.refreshing).toBe(false);
    expect(mockLoadLastActivities).toHaveBeenCalledTimes(1);
  }));
  it('devrait mémoriser la fonction onRefresh', function () {
    var _renderHook7 = (0, _reactNative.renderHook)(function (_ref5) {
        var loadFn = _ref5.loadFn;
        return (0, _useDashboardState.useDashboardState)(loadFn);
      }, {
        initialProps: {
          loadFn: mockLoadLastActivities
        }
      }),
      result = _renderHook7.result,
      rerender = _renderHook7.rerender;
    var initialOnRefresh = result.current.onRefresh;
    rerender({
      loadFn: mockLoadLastActivities
    });
    expect(result.current.onRefresh).toBe(initialOnRefresh);
    var newMockFn = jest.fn();
    rerender({
      loadFn: newMockFn
    });
    expect(result.current.onRefresh).not.toBe(initialOnRefresh);
  });
  it('devrait mémoriser les fonctions de modal', function () {
    var _renderHook8 = (0, _reactNative.renderHook)(function () {
        return (0, _useDashboardState.useDashboardState)(mockLoadLastActivities);
      }),
      result = _renderHook8.result,
      rerender = _renderHook8.rerender;
    var initialOpenModal = result.current.openLevelProgressModal;
    var initialCloseModal = result.current.closeLevelProgressModal;
    rerender();
    expect(result.current.openLevelProgressModal).toBe(initialOpenModal);
    expect(result.current.closeLevelProgressModal).toBe(initialCloseModal);
  });
  it('devrait permettre plusieurs refresh simultanés sans conflit', (0, _asyncToGenerator2.default)(function* () {
    var _renderHook9 = (0, _reactNative.renderHook)(function () {
        return (0, _useDashboardState.useDashboardState)(mockLoadLastActivities);
      }),
      result = _renderHook9.result;
    var firstRefresh = (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      yield result.current.onRefresh();
    }));
    var secondRefresh = (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      yield result.current.onRefresh();
    }));
    yield firstRefresh;
    yield secondRefresh;
    expect(result.current.refreshing).toBe(false);
    expect(mockLoadLastActivities).toHaveBeenCalledTimes(2);
  }));
  it('devrait exposer toutes les fonctions et états nécessaires', function () {
    var _renderHook0 = (0, _reactNative.renderHook)(function () {
        return (0, _useDashboardState.useDashboardState)(mockLoadLastActivities);
      }),
      result = _renderHook0.result;
    expect(typeof result.current.showLevelProgress).toBe('boolean');
    expect(typeof result.current.refreshing).toBe('boolean');
    expect(typeof result.current.activeTab).toBe('string');
    expect(typeof result.current.setShowLevelProgress).toBe('function');
    expect(typeof result.current.openLevelProgressModal).toBe('function');
    expect(typeof result.current.closeLevelProgressModal).toBe('function');
    expect(typeof result.current.setActiveTab).toBe('function');
    expect(typeof result.current.onRefresh).toBe('function');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3ROYXRpdmUiLCJyZXF1aXJlIiwiX3VzZURhc2hib2FyZFN0YXRlIiwiZGVzY3JpYmUiLCJtb2NrTG9hZExhc3RBY3Rpdml0aWVzIiwiamVzdCIsImZuIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsIml0IiwiX3JlbmRlckhvb2siLCJyZW5kZXJIb29rIiwidXNlRGFzaGJvYXJkU3RhdGUiLCJyZXN1bHQiLCJleHBlY3QiLCJjdXJyZW50Iiwic2hvd0xldmVsUHJvZ3Jlc3MiLCJ0b0JlIiwicmVmcmVzaGluZyIsImFjdGl2ZVRhYiIsIl9yZW5kZXJIb29rMiIsImFjdCIsIm9wZW5MZXZlbFByb2dyZXNzTW9kYWwiLCJjbG9zZUxldmVsUHJvZ3Jlc3NNb2RhbCIsIl9yZW5kZXJIb29rMyIsInNldFNob3dMZXZlbFByb2dyZXNzIiwiX3JlbmRlckhvb2s0Iiwic2V0QWN0aXZlVGFiIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiZGVmYXVsdCIsIl9yZW5kZXJIb29rNSIsIm9uUmVmcmVzaCIsInRvSGF2ZUJlZW5DYWxsZWRUaW1lcyIsIm1vY2tSZWplY3RlZFZhbHVlIiwiRXJyb3IiLCJfcmVuZGVySG9vazYiLCJfcmVuZGVySG9vazciLCJfcmVmNSIsImxvYWRGbiIsImluaXRpYWxQcm9wcyIsInJlcmVuZGVyIiwiaW5pdGlhbE9uUmVmcmVzaCIsIm5ld01vY2tGbiIsIm5vdCIsIl9yZW5kZXJIb29rOCIsImluaXRpYWxPcGVuTW9kYWwiLCJpbml0aWFsQ2xvc2VNb2RhbCIsIl9yZW5kZXJIb29rOSIsImZpcnN0UmVmcmVzaCIsInNlY29uZFJlZnJlc2giLCJfcmVuZGVySG9vazAiXSwic291cmNlcyI6WyJ1c2VEYXNoYm9hcmRTdGF0ZS50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIF9fdGVzdHNfXy9zY3JlZW5zL0Rhc2hib2FyZC9ob29rcy91c2VEYXNoYm9hcmRTdGF0ZS50ZXN0LmpzXG5pbXBvcnQgeyByZW5kZXJIb29rLCBhY3QsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgeyB1c2VEYXNoYm9hcmRTdGF0ZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NyYy9zY3JlZW5zL0Rhc2hib2FyZC9ob29rcy91c2VEYXNoYm9hcmRTdGF0ZSc7XG5cbmRlc2NyaWJlKCd1c2VEYXNoYm9hcmRTdGF0ZScsICgpID0+IHtcbiAgY29uc3QgbW9ja0xvYWRMYXN0QWN0aXZpdGllcyA9IGplc3QuZm4oKTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBtb2NrTG9hZExhc3RBY3Rpdml0aWVzLm1vY2tSZXNvbHZlZFZhbHVlKCk7XG4gIH0pO1xuXG4gIGl0KCdkZXZyYWl0IGluaXRpYWxpc2VyIGF2ZWMgbGVzIHZhbGV1cnMgcGFyIGTDqWZhdXQnLCAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gXG4gICAgICB1c2VEYXNoYm9hcmRTdGF0ZShtb2NrTG9hZExhc3RBY3Rpdml0aWVzKVxuICAgICk7XG5cbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc2hvd0xldmVsUHJvZ3Jlc3MpLnRvQmUoZmFsc2UpO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5yZWZyZXNoaW5nKS50b0JlKGZhbHNlKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuYWN0aXZlVGFiKS50b0JlKCdob21lJyk7XG4gIH0pO1xuXG4gIGl0KCdkZXZyYWl0IG91dnJpciBldCBmZXJtZXIgbGEgbW9kYWwgZGUgcHJvZ3Jlc3Npb24nLCAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gXG4gICAgICB1c2VEYXNoYm9hcmRTdGF0ZShtb2NrTG9hZExhc3RBY3Rpdml0aWVzKVxuICAgICk7XG5cbiAgICAvLyBPdXZyaXIgbGEgbW9kYWxcbiAgICBhY3QoKCkgPT4ge1xuICAgICAgcmVzdWx0LmN1cnJlbnQub3BlbkxldmVsUHJvZ3Jlc3NNb2RhbCgpO1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnNob3dMZXZlbFByb2dyZXNzKS50b0JlKHRydWUpO1xuXG4gICAgLy8gRmVybWVyIGxhIG1vZGFsXG4gICAgYWN0KCgpID0+IHtcbiAgICAgIHJlc3VsdC5jdXJyZW50LmNsb3NlTGV2ZWxQcm9ncmVzc01vZGFsKCk7XG4gICAgfSk7XG5cbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc2hvd0xldmVsUHJvZ3Jlc3MpLnRvQmUoZmFsc2UpO1xuICB9KTtcblxuICBpdCgnZGV2cmFpdCBjaGFuZ2VyIGxcXCfDqXRhdCBkZSBsYSBtb2RhbCBkaXJlY3RlbWVudCcsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiBcbiAgICAgIHVzZURhc2hib2FyZFN0YXRlKG1vY2tMb2FkTGFzdEFjdGl2aXRpZXMpXG4gICAgKTtcblxuICAgIGFjdCgoKSA9PiB7XG4gICAgICByZXN1bHQuY3VycmVudC5zZXRTaG93TGV2ZWxQcm9ncmVzcyh0cnVlKTtcbiAgICB9KTtcblxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zaG93TGV2ZWxQcm9ncmVzcykudG9CZSh0cnVlKTtcblxuICAgIGFjdCgoKSA9PiB7XG4gICAgICByZXN1bHQuY3VycmVudC5zZXRTaG93TGV2ZWxQcm9ncmVzcyhmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc2hvd0xldmVsUHJvZ3Jlc3MpLnRvQmUoZmFsc2UpO1xuICB9KTtcblxuICBpdCgnZGV2cmFpdCBjaGFuZ2VyIGxcXCdvbmdsZXQgYWN0aWYnLCAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gXG4gICAgICB1c2VEYXNoYm9hcmRTdGF0ZShtb2NrTG9hZExhc3RBY3Rpdml0aWVzKVxuICAgICk7XG5cbiAgICBhY3QoKCkgPT4ge1xuICAgICAgcmVzdWx0LmN1cnJlbnQuc2V0QWN0aXZlVGFiKCdwcm9ncmVzcycpO1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmFjdGl2ZVRhYikudG9CZSgncHJvZ3Jlc3MnKTtcblxuICAgIGFjdCgoKSA9PiB7XG4gICAgICByZXN1bHQuY3VycmVudC5zZXRBY3RpdmVUYWIoJ3NldHRpbmdzJyk7XG4gICAgfSk7XG5cbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuYWN0aXZlVGFiKS50b0JlKCdzZXR0aW5ncycpO1xuICB9KTtcblxuICBpdCgnZGV2cmFpdCBnw6lyZXIgbGUgcHVsbC10by1yZWZyZXNoIGF2ZWMgc3VjY8OocycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiBcbiAgICAgIHVzZURhc2hib2FyZFN0YXRlKG1vY2tMb2FkTGFzdEFjdGl2aXRpZXMpXG4gICAgKTtcblxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5yZWZyZXNoaW5nKS50b0JlKGZhbHNlKTtcblxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5vblJlZnJlc2goKTtcbiAgICB9KTtcblxuICAgIC8vIEFwcsOocyBsZSByZWZyZXNoXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnJlZnJlc2hpbmcpLnRvQmUoZmFsc2UpO1xuICAgIGV4cGVjdChtb2NrTG9hZExhc3RBY3Rpdml0aWVzKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG4gIH0pO1xuXG4gIGl0KCdkZXZyYWl0IGfDqXJlciBsZXMgZXJyZXVycyBkZSByZWZyZXNoIGdyYWNpZXVzZW1lbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgbW9ja0xvYWRMYXN0QWN0aXZpdGllcy5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ05ldHdvcmsgZXJyb3InKSk7XG5cbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiBcbiAgICAgIHVzZURhc2hib2FyZFN0YXRlKG1vY2tMb2FkTGFzdEFjdGl2aXRpZXMpXG4gICAgKTtcblxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5vblJlZnJlc2goKTtcbiAgICB9KTtcblxuICAgIC8vIExlIHJlZnJlc2hpbmcgZGV2cmFpdCDDqnRyZSByZW1pcyDDoCBmYWxzZSBtw6ptZSBlbiBjYXMgZCdlcnJldXJcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQucmVmcmVzaGluZykudG9CZShmYWxzZSk7XG4gICAgZXhwZWN0KG1vY2tMb2FkTGFzdEFjdGl2aXRpZXMpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgfSk7XG5cbiAgaXQoJ2RldnJhaXQgbcOpbW9yaXNlciBsYSBmb25jdGlvbiBvblJlZnJlc2gnLCAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQsIHJlcmVuZGVyIH0gPSByZW5kZXJIb29rKFxuICAgICAgKHsgbG9hZEZuIH0pID0+IHVzZURhc2hib2FyZFN0YXRlKGxvYWRGbiksXG4gICAgICB7IGluaXRpYWxQcm9wczogeyBsb2FkRm46IG1vY2tMb2FkTGFzdEFjdGl2aXRpZXMgfSB9XG4gICAgKTtcblxuICAgIGNvbnN0IGluaXRpYWxPblJlZnJlc2ggPSByZXN1bHQuY3VycmVudC5vblJlZnJlc2g7XG5cbiAgICAvLyBSZXJlbmRlciBhdmVjIGxhIG3Dqm1lIGZvbmN0aW9uXG4gICAgcmVyZW5kZXIoeyBsb2FkRm46IG1vY2tMb2FkTGFzdEFjdGl2aXRpZXMgfSk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lm9uUmVmcmVzaCkudG9CZShpbml0aWFsT25SZWZyZXNoKTtcblxuICAgIC8vIFJlcmVuZGVyIGF2ZWMgdW5lIGZvbmN0aW9uIGRpZmbDqXJlbnRlXG4gICAgY29uc3QgbmV3TW9ja0ZuID0gamVzdC5mbigpO1xuICAgIHJlcmVuZGVyKHsgbG9hZEZuOiBuZXdNb2NrRm4gfSk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lm9uUmVmcmVzaCkubm90LnRvQmUoaW5pdGlhbE9uUmVmcmVzaCk7XG4gIH0pO1xuXG4gIGl0KCdkZXZyYWl0IG3DqW1vcmlzZXIgbGVzIGZvbmN0aW9ucyBkZSBtb2RhbCcsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCwgcmVyZW5kZXIgfSA9IHJlbmRlckhvb2soKCkgPT4gXG4gICAgICB1c2VEYXNoYm9hcmRTdGF0ZShtb2NrTG9hZExhc3RBY3Rpdml0aWVzKVxuICAgICk7XG5cbiAgICBjb25zdCBpbml0aWFsT3Blbk1vZGFsID0gcmVzdWx0LmN1cnJlbnQub3BlbkxldmVsUHJvZ3Jlc3NNb2RhbDtcbiAgICBjb25zdCBpbml0aWFsQ2xvc2VNb2RhbCA9IHJlc3VsdC5jdXJyZW50LmNsb3NlTGV2ZWxQcm9ncmVzc01vZGFsO1xuXG4gICAgLy8gUmVyZW5kZXIgLSBsZXMgZm9uY3Rpb25zIGRldnJhaWVudCByZXN0ZXIgbGVzIG3Dqm1lc1xuICAgIHJlcmVuZGVyKCk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lm9wZW5MZXZlbFByb2dyZXNzTW9kYWwpLnRvQmUoaW5pdGlhbE9wZW5Nb2RhbCk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmNsb3NlTGV2ZWxQcm9ncmVzc01vZGFsKS50b0JlKGluaXRpYWxDbG9zZU1vZGFsKTtcbiAgfSk7XG5cbiAgaXQoJ2RldnJhaXQgcGVybWV0dHJlIHBsdXNpZXVycyByZWZyZXNoIHNpbXVsdGFuw6lzIHNhbnMgY29uZmxpdCcsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiBcbiAgICAgIHVzZURhc2hib2FyZFN0YXRlKG1vY2tMb2FkTGFzdEFjdGl2aXRpZXMpXG4gICAgKTtcblxuICAgIC8vIETDqW1hcnJlciBkZXV4IHJlZnJlc2ggZW4gcGFyYWxsw6hsZVxuICAgIGNvbnN0IGZpcnN0UmVmcmVzaCA9IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5vblJlZnJlc2goKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHNlY29uZFJlZnJlc2ggPSBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQub25SZWZyZXNoKCk7XG4gICAgfSk7XG5cbiAgICAvLyBBdHRlbmRyZSBxdWUgbGVzIGRldXggc2UgdGVybWluZW50XG4gICAgYXdhaXQgZmlyc3RSZWZyZXNoO1xuICAgIGF3YWl0IHNlY29uZFJlZnJlc2g7XG5cbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQucmVmcmVzaGluZykudG9CZShmYWxzZSk7XG4gICAgZXhwZWN0KG1vY2tMb2FkTGFzdEFjdGl2aXRpZXMpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygyKTtcbiAgfSk7XG5cbiAgaXQoJ2RldnJhaXQgZXhwb3NlciB0b3V0ZXMgbGVzIGZvbmN0aW9ucyBldCDDqXRhdHMgbsOpY2Vzc2FpcmVzJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IFxuICAgICAgdXNlRGFzaGJvYXJkU3RhdGUobW9ja0xvYWRMYXN0QWN0aXZpdGllcylcbiAgICApO1xuXG4gICAgLy8gw4l0YXRzXG4gICAgZXhwZWN0KHR5cGVvZiByZXN1bHQuY3VycmVudC5zaG93TGV2ZWxQcm9ncmVzcykudG9CZSgnYm9vbGVhbicpO1xuICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LmN1cnJlbnQucmVmcmVzaGluZykudG9CZSgnYm9vbGVhbicpO1xuICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LmN1cnJlbnQuYWN0aXZlVGFiKS50b0JlKCdzdHJpbmcnKTtcblxuICAgIC8vIEZvbmN0aW9uc1xuICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LmN1cnJlbnQuc2V0U2hvd0xldmVsUHJvZ3Jlc3MpLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgZXhwZWN0KHR5cGVvZiByZXN1bHQuY3VycmVudC5vcGVuTGV2ZWxQcm9ncmVzc01vZGFsKS50b0JlKCdmdW5jdGlvbicpO1xuICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LmN1cnJlbnQuY2xvc2VMZXZlbFByb2dyZXNzTW9kYWwpLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgZXhwZWN0KHR5cGVvZiByZXN1bHQuY3VycmVudC5zZXRBY3RpdmVUYWIpLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgZXhwZWN0KHR5cGVvZiByZXN1bHQuY3VycmVudC5vblJlZnJlc2gpLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gIH0pO1xufSk7Il0sIm1hcHBpbmdzIjoiOztBQUNBLElBQUFBLFlBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLGtCQUFBLEdBQUFELE9BQUE7QUFFQUUsUUFBUSxDQUFDLG1CQUFtQixFQUFFLFlBQU07RUFDbEMsSUFBTUMsc0JBQXNCLEdBQUdDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFFeENDLFVBQVUsQ0FBQyxZQUFNO0lBQ2ZGLElBQUksQ0FBQ0csYUFBYSxDQUFDLENBQUM7SUFDcEJKLHNCQUFzQixDQUFDSyxpQkFBaUIsQ0FBQyxDQUFDO0VBQzVDLENBQUMsQ0FBQztFQUVGQyxFQUFFLENBQUMsaURBQWlELEVBQUUsWUFBTTtJQUMxRCxJQUFBQyxXQUFBLEdBQW1CLElBQUFDLHVCQUFVLEVBQUM7UUFBQSxPQUM1QixJQUFBQyxvQ0FBaUIsRUFBQ1Qsc0JBQXNCLENBQUM7TUFBQSxDQUMzQyxDQUFDO01BRk9VLE1BQU0sR0FBQUgsV0FBQSxDQUFORyxNQUFNO0lBSWRDLE1BQU0sQ0FBQ0QsTUFBTSxDQUFDRSxPQUFPLENBQUNDLGlCQUFpQixDQUFDLENBQUNDLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDcERILE1BQU0sQ0FBQ0QsTUFBTSxDQUFDRSxPQUFPLENBQUNHLFVBQVUsQ0FBQyxDQUFDRCxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQzdDSCxNQUFNLENBQUNELE1BQU0sQ0FBQ0UsT0FBTyxDQUFDSSxTQUFTLENBQUMsQ0FBQ0YsSUFBSSxDQUFDLE1BQU0sQ0FBQztFQUMvQyxDQUFDLENBQUM7RUFFRlIsRUFBRSxDQUFDLGtEQUFrRCxFQUFFLFlBQU07SUFDM0QsSUFBQVcsWUFBQSxHQUFtQixJQUFBVCx1QkFBVSxFQUFDO1FBQUEsT0FDNUIsSUFBQUMsb0NBQWlCLEVBQUNULHNCQUFzQixDQUFDO01BQUEsQ0FDM0MsQ0FBQztNQUZPVSxNQUFNLEdBQUFPLFlBQUEsQ0FBTlAsTUFBTTtJQUtkLElBQUFRLGdCQUFHLEVBQUMsWUFBTTtNQUNSUixNQUFNLENBQUNFLE9BQU8sQ0FBQ08sc0JBQXNCLENBQUMsQ0FBQztJQUN6QyxDQUFDLENBQUM7SUFFRlIsTUFBTSxDQUFDRCxNQUFNLENBQUNFLE9BQU8sQ0FBQ0MsaUJBQWlCLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLElBQUksQ0FBQztJQUduRCxJQUFBSSxnQkFBRyxFQUFDLFlBQU07TUFDUlIsTUFBTSxDQUFDRSxPQUFPLENBQUNRLHVCQUF1QixDQUFDLENBQUM7SUFDMUMsQ0FBQyxDQUFDO0lBRUZULE1BQU0sQ0FBQ0QsTUFBTSxDQUFDRSxPQUFPLENBQUNDLGlCQUFpQixDQUFDLENBQUNDLElBQUksQ0FBQyxLQUFLLENBQUM7RUFDdEQsQ0FBQyxDQUFDO0VBRUZSLEVBQUUsQ0FBQyxpREFBaUQsRUFBRSxZQUFNO0lBQzFELElBQUFlLFlBQUEsR0FBbUIsSUFBQWIsdUJBQVUsRUFBQztRQUFBLE9BQzVCLElBQUFDLG9DQUFpQixFQUFDVCxzQkFBc0IsQ0FBQztNQUFBLENBQzNDLENBQUM7TUFGT1UsTUFBTSxHQUFBVyxZQUFBLENBQU5YLE1BQU07SUFJZCxJQUFBUSxnQkFBRyxFQUFDLFlBQU07TUFDUlIsTUFBTSxDQUFDRSxPQUFPLENBQUNVLG9CQUFvQixDQUFDLElBQUksQ0FBQztJQUMzQyxDQUFDLENBQUM7SUFFRlgsTUFBTSxDQUFDRCxNQUFNLENBQUNFLE9BQU8sQ0FBQ0MsaUJBQWlCLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLElBQUksQ0FBQztJQUVuRCxJQUFBSSxnQkFBRyxFQUFDLFlBQU07TUFDUlIsTUFBTSxDQUFDRSxPQUFPLENBQUNVLG9CQUFvQixDQUFDLEtBQUssQ0FBQztJQUM1QyxDQUFDLENBQUM7SUFFRlgsTUFBTSxDQUFDRCxNQUFNLENBQUNFLE9BQU8sQ0FBQ0MsaUJBQWlCLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLEtBQUssQ0FBQztFQUN0RCxDQUFDLENBQUM7RUFFRlIsRUFBRSxDQUFDLGlDQUFpQyxFQUFFLFlBQU07SUFDMUMsSUFBQWlCLFlBQUEsR0FBbUIsSUFBQWYsdUJBQVUsRUFBQztRQUFBLE9BQzVCLElBQUFDLG9DQUFpQixFQUFDVCxzQkFBc0IsQ0FBQztNQUFBLENBQzNDLENBQUM7TUFGT1UsTUFBTSxHQUFBYSxZQUFBLENBQU5iLE1BQU07SUFJZCxJQUFBUSxnQkFBRyxFQUFDLFlBQU07TUFDUlIsTUFBTSxDQUFDRSxPQUFPLENBQUNZLFlBQVksQ0FBQyxVQUFVLENBQUM7SUFDekMsQ0FBQyxDQUFDO0lBRUZiLE1BQU0sQ0FBQ0QsTUFBTSxDQUFDRSxPQUFPLENBQUNJLFNBQVMsQ0FBQyxDQUFDRixJQUFJLENBQUMsVUFBVSxDQUFDO0lBRWpELElBQUFJLGdCQUFHLEVBQUMsWUFBTTtNQUNSUixNQUFNLENBQUNFLE9BQU8sQ0FBQ1ksWUFBWSxDQUFDLFVBQVUsQ0FBQztJQUN6QyxDQUFDLENBQUM7SUFFRmIsTUFBTSxDQUFDRCxNQUFNLENBQUNFLE9BQU8sQ0FBQ0ksU0FBUyxDQUFDLENBQUNGLElBQUksQ0FBQyxVQUFVLENBQUM7RUFDbkQsQ0FBQyxDQUFDO0VBRUZSLEVBQUUsQ0FBQyw4Q0FBOEMsTUFBQW1CLGtCQUFBLENBQUFDLE9BQUEsRUFBRSxhQUFZO0lBQzdELElBQUFDLFlBQUEsR0FBbUIsSUFBQW5CLHVCQUFVLEVBQUM7UUFBQSxPQUM1QixJQUFBQyxvQ0FBaUIsRUFBQ1Qsc0JBQXNCLENBQUM7TUFBQSxDQUMzQyxDQUFDO01BRk9VLE1BQU0sR0FBQWlCLFlBQUEsQ0FBTmpCLE1BQU07SUFJZEMsTUFBTSxDQUFDRCxNQUFNLENBQUNFLE9BQU8sQ0FBQ0csVUFBVSxDQUFDLENBQUNELElBQUksQ0FBQyxLQUFLLENBQUM7SUFFN0MsTUFBTSxJQUFBSSxnQkFBRyxNQUFBTyxrQkFBQSxDQUFBQyxPQUFBLEVBQUMsYUFBWTtNQUNwQixNQUFNaEIsTUFBTSxDQUFDRSxPQUFPLENBQUNnQixTQUFTLENBQUMsQ0FBQztJQUNsQyxDQUFDLEVBQUM7SUFHRmpCLE1BQU0sQ0FBQ0QsTUFBTSxDQUFDRSxPQUFPLENBQUNHLFVBQVUsQ0FBQyxDQUFDRCxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQzdDSCxNQUFNLENBQUNYLHNCQUFzQixDQUFDLENBQUM2QixxQkFBcUIsQ0FBQyxDQUFDLENBQUM7RUFDekQsQ0FBQyxFQUFDO0VBRUZ2QixFQUFFLENBQUMsb0RBQW9ELE1BQUFtQixrQkFBQSxDQUFBQyxPQUFBLEVBQUUsYUFBWTtJQUNuRTFCLHNCQUFzQixDQUFDOEIsaUJBQWlCLENBQUMsSUFBSUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBRXBFLElBQUFDLFlBQUEsR0FBbUIsSUFBQXhCLHVCQUFVLEVBQUM7UUFBQSxPQUM1QixJQUFBQyxvQ0FBaUIsRUFBQ1Qsc0JBQXNCLENBQUM7TUFBQSxDQUMzQyxDQUFDO01BRk9VLE1BQU0sR0FBQXNCLFlBQUEsQ0FBTnRCLE1BQU07SUFJZCxNQUFNLElBQUFRLGdCQUFHLE1BQUFPLGtCQUFBLENBQUFDLE9BQUEsRUFBQyxhQUFZO01BQ3BCLE1BQU1oQixNQUFNLENBQUNFLE9BQU8sQ0FBQ2dCLFNBQVMsQ0FBQyxDQUFDO0lBQ2xDLENBQUMsRUFBQztJQUdGakIsTUFBTSxDQUFDRCxNQUFNLENBQUNFLE9BQU8sQ0FBQ0csVUFBVSxDQUFDLENBQUNELElBQUksQ0FBQyxLQUFLLENBQUM7SUFDN0NILE1BQU0sQ0FBQ1gsc0JBQXNCLENBQUMsQ0FBQzZCLHFCQUFxQixDQUFDLENBQUMsQ0FBQztFQUN6RCxDQUFDLEVBQUM7RUFFRnZCLEVBQUUsQ0FBQyx5Q0FBeUMsRUFBRSxZQUFNO0lBQ2xELElBQUEyQixZQUFBLEdBQTZCLElBQUF6Qix1QkFBVSxFQUNyQyxVQUFBMEIsS0FBQTtRQUFBLElBQUdDLE1BQU0sR0FBQUQsS0FBQSxDQUFOQyxNQUFNO1FBQUEsT0FBTyxJQUFBMUIsb0NBQWlCLEVBQUMwQixNQUFNLENBQUM7TUFBQSxHQUN6QztRQUFFQyxZQUFZLEVBQUU7VUFBRUQsTUFBTSxFQUFFbkM7UUFBdUI7TUFBRSxDQUNyRCxDQUFDO01BSE9VLE1BQU0sR0FBQXVCLFlBQUEsQ0FBTnZCLE1BQU07TUFBRTJCLFFBQVEsR0FBQUosWUFBQSxDQUFSSSxRQUFRO0lBS3hCLElBQU1DLGdCQUFnQixHQUFHNUIsTUFBTSxDQUFDRSxPQUFPLENBQUNnQixTQUFTO0lBR2pEUyxRQUFRLENBQUM7TUFBRUYsTUFBTSxFQUFFbkM7SUFBdUIsQ0FBQyxDQUFDO0lBQzVDVyxNQUFNLENBQUNELE1BQU0sQ0FBQ0UsT0FBTyxDQUFDZ0IsU0FBUyxDQUFDLENBQUNkLElBQUksQ0FBQ3dCLGdCQUFnQixDQUFDO0lBR3ZELElBQU1DLFNBQVMsR0FBR3RDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDM0JtQyxRQUFRLENBQUM7TUFBRUYsTUFBTSxFQUFFSTtJQUFVLENBQUMsQ0FBQztJQUMvQjVCLE1BQU0sQ0FBQ0QsTUFBTSxDQUFDRSxPQUFPLENBQUNnQixTQUFTLENBQUMsQ0FBQ1ksR0FBRyxDQUFDMUIsSUFBSSxDQUFDd0IsZ0JBQWdCLENBQUM7RUFDN0QsQ0FBQyxDQUFDO0VBRUZoQyxFQUFFLENBQUMsMENBQTBDLEVBQUUsWUFBTTtJQUNuRCxJQUFBbUMsWUFBQSxHQUE2QixJQUFBakMsdUJBQVUsRUFBQztRQUFBLE9BQ3RDLElBQUFDLG9DQUFpQixFQUFDVCxzQkFBc0IsQ0FBQztNQUFBLENBQzNDLENBQUM7TUFGT1UsTUFBTSxHQUFBK0IsWUFBQSxDQUFOL0IsTUFBTTtNQUFFMkIsUUFBUSxHQUFBSSxZQUFBLENBQVJKLFFBQVE7SUFJeEIsSUFBTUssZ0JBQWdCLEdBQUdoQyxNQUFNLENBQUNFLE9BQU8sQ0FBQ08sc0JBQXNCO0lBQzlELElBQU13QixpQkFBaUIsR0FBR2pDLE1BQU0sQ0FBQ0UsT0FBTyxDQUFDUSx1QkFBdUI7SUFHaEVpQixRQUFRLENBQUMsQ0FBQztJQUNWMUIsTUFBTSxDQUFDRCxNQUFNLENBQUNFLE9BQU8sQ0FBQ08sc0JBQXNCLENBQUMsQ0FBQ0wsSUFBSSxDQUFDNEIsZ0JBQWdCLENBQUM7SUFDcEUvQixNQUFNLENBQUNELE1BQU0sQ0FBQ0UsT0FBTyxDQUFDUSx1QkFBdUIsQ0FBQyxDQUFDTixJQUFJLENBQUM2QixpQkFBaUIsQ0FBQztFQUN4RSxDQUFDLENBQUM7RUFFRnJDLEVBQUUsQ0FBQyw2REFBNkQsTUFBQW1CLGtCQUFBLENBQUFDLE9BQUEsRUFBRSxhQUFZO0lBQzVFLElBQUFrQixZQUFBLEdBQW1CLElBQUFwQyx1QkFBVSxFQUFDO1FBQUEsT0FDNUIsSUFBQUMsb0NBQWlCLEVBQUNULHNCQUFzQixDQUFDO01BQUEsQ0FDM0MsQ0FBQztNQUZPVSxNQUFNLEdBQUFrQyxZQUFBLENBQU5sQyxNQUFNO0lBS2QsSUFBTW1DLFlBQVksR0FBRyxJQUFBM0IsZ0JBQUcsTUFBQU8sa0JBQUEsQ0FBQUMsT0FBQSxFQUFDLGFBQVk7TUFDbkMsTUFBTWhCLE1BQU0sQ0FBQ0UsT0FBTyxDQUFDZ0IsU0FBUyxDQUFDLENBQUM7SUFDbEMsQ0FBQyxFQUFDO0lBRUYsSUFBTWtCLGFBQWEsR0FBRyxJQUFBNUIsZ0JBQUcsTUFBQU8sa0JBQUEsQ0FBQUMsT0FBQSxFQUFDLGFBQVk7TUFDcEMsTUFBTWhCLE1BQU0sQ0FBQ0UsT0FBTyxDQUFDZ0IsU0FBUyxDQUFDLENBQUM7SUFDbEMsQ0FBQyxFQUFDO0lBR0YsTUFBTWlCLFlBQVk7SUFDbEIsTUFBTUMsYUFBYTtJQUVuQm5DLE1BQU0sQ0FBQ0QsTUFBTSxDQUFDRSxPQUFPLENBQUNHLFVBQVUsQ0FBQyxDQUFDRCxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQzdDSCxNQUFNLENBQUNYLHNCQUFzQixDQUFDLENBQUM2QixxQkFBcUIsQ0FBQyxDQUFDLENBQUM7RUFDekQsQ0FBQyxFQUFDO0VBRUZ2QixFQUFFLENBQUMsMkRBQTJELEVBQUUsWUFBTTtJQUNwRSxJQUFBeUMsWUFBQSxHQUFtQixJQUFBdkMsdUJBQVUsRUFBQztRQUFBLE9BQzVCLElBQUFDLG9DQUFpQixFQUFDVCxzQkFBc0IsQ0FBQztNQUFBLENBQzNDLENBQUM7TUFGT1UsTUFBTSxHQUFBcUMsWUFBQSxDQUFOckMsTUFBTTtJQUtkQyxNQUFNLENBQUMsT0FBT0QsTUFBTSxDQUFDRSxPQUFPLENBQUNDLGlCQUFpQixDQUFDLENBQUNDLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDL0RILE1BQU0sQ0FBQyxPQUFPRCxNQUFNLENBQUNFLE9BQU8sQ0FBQ0csVUFBVSxDQUFDLENBQUNELElBQUksQ0FBQyxTQUFTLENBQUM7SUFDeERILE1BQU0sQ0FBQyxPQUFPRCxNQUFNLENBQUNFLE9BQU8sQ0FBQ0ksU0FBUyxDQUFDLENBQUNGLElBQUksQ0FBQyxRQUFRLENBQUM7SUFHdERILE1BQU0sQ0FBQyxPQUFPRCxNQUFNLENBQUNFLE9BQU8sQ0FBQ1Usb0JBQW9CLENBQUMsQ0FBQ1IsSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUNuRUgsTUFBTSxDQUFDLE9BQU9ELE1BQU0sQ0FBQ0UsT0FBTyxDQUFDTyxzQkFBc0IsQ0FBQyxDQUFDTCxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQ3JFSCxNQUFNLENBQUMsT0FBT0QsTUFBTSxDQUFDRSxPQUFPLENBQUNRLHVCQUF1QixDQUFDLENBQUNOLElBQUksQ0FBQyxVQUFVLENBQUM7SUFDdEVILE1BQU0sQ0FBQyxPQUFPRCxNQUFNLENBQUNFLE9BQU8sQ0FBQ1ksWUFBWSxDQUFDLENBQUNWLElBQUksQ0FBQyxVQUFVLENBQUM7SUFDM0RILE1BQU0sQ0FBQyxPQUFPRCxNQUFNLENBQUNFLE9BQU8sQ0FBQ2dCLFNBQVMsQ0FBQyxDQUFDZCxJQUFJLENBQUMsVUFBVSxDQUFDO0VBQzFELENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==