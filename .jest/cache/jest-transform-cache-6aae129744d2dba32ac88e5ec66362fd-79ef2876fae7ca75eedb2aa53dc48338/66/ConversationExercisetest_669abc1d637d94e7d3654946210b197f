ef849edf258c6868d4b61310d7475597
var createMockComponent = function createMockComponent(name) {
  return function (props) {
    return (0, _jsxRuntime.jsx)(_reactNative2.View, Object.assign({
      testID: name
    }, props, {
      children: (0, _jsxRuntime.jsx)(_reactNative2.Text, {
        children: name
      })
    }));
  };
};
_getJestObj().mock('expo-router', function () {
  return {
    router: {
      push: jest.fn()
    }
  };
});
_getJestObj().mock('../../../../src/screens/exercises/conversations/hooks/useConversation');
_getJestObj().mock('../../../../src/hooks/useLastActivity', function () {
  var mockUseLastActivity = jest.fn();
  mockUseLastActivity.mockReturnValue({
    saveActivity: jest.fn()
  });
  return mockUseLastActivity;
});
_getJestObj().mock('../../../../src/utils/conversation/conversationDataHelper', function () {
  return {
    getConversationData: jest.fn(),
    getLevelColor: jest.fn(function () {
      return '#0000FF';
    })
  };
});
_getJestObj().mock('../../../../src/screens/exercises/conversations/ConversationHeader', function () {
  return createMockComponent('ConversationHeader');
});
_getJestObj().mock('../../../../src/screens/exercises/conversations/ConversationSelector', function () {
  return createMockComponent('ConversationSelector');
});
_getJestObj().mock('../../../../src/screens/exercises/conversations/ConversationProgress', function () {
  return createMockComponent('ConversationProgress');
});
_getJestObj().mock('../../../../src/screens/exercises/conversations/ConversationScenarioDescription', function () {
  return createMockComponent('ConversationScenarioDescription');
});
_getJestObj().mock('../../../../src/screens/exercises/conversations/ConversationMessageList', function () {
  return createMockComponent('ConversationMessageList');
});
_getJestObj().mock('../../../../src/screens/exercises/conversations/ConversationSuggestions', function () {
  return createMockComponent('ConversationSuggestions');
});
_getJestObj().mock('../../../../src/screens/exercises/conversations/ConversationInput', function () {
  return createMockComponent('ConversationInput');
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _reactNative2 = require("react-native");
var _conversations = _interopRequireDefault(require("../../../../src/screens/exercises/conversations"));
var _useConversation = _interopRequireDefault(require("../../../../src/screens/exercises/conversations/hooks/useConversation"));
var _useLastActivity = _interopRequireDefault(require("../../../../src/hooks/useLastActivity"));
var _expoRouter = require("expo-router");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('ConversationExercise', function () {
  var mockRoute = {
    params: {
      level: 'A1'
    }
  };
  var mockSaveActivity;
  var createMockConversationState = function createMockConversationState() {
    var overrides = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    return Object.assign({
      loaded: true,
      hasValidData: true,
      currentScenario: {
        title: 'Scenario de Test',
        description: 'Description du scenario.'
      },
      conversation: [{
        sender: 'bot',
        text: 'Hello!'
      }],
      suggestions: ['Hi', 'Hello there'],
      message: '',
      isTyping: false,
      stats: {
        completionProgress: 50,
        currentStep: 1,
        totalSteps: 2
      },
      isConversationStarted: true,
      changeScenario: jest.fn(),
      sendMessage: jest.fn(),
      useSuggestion: jest.fn(),
      toggleHelp: jest.fn(),
      toggleDetailedProgress: jest.fn(),
      setMessage: jest.fn()
    }, overrides);
  };
  beforeEach(function () {
    jest.clearAllMocks();
    mockSaveActivity = jest.fn();
    _useLastActivity.default.mockReturnValue({
      saveActivity: mockSaveActivity
    });
    _useConversation.default.mockReturnValue(createMockConversationState());
  });
  test('should render loading state correctly', function () {
    _useConversation.default.mockReturnValue(createMockConversationState({
      loaded: false
    }));
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_conversations.default, {
        route: mockRoute
      })),
      queryByTestId = _render.queryByTestId;
    expect(queryByTestId('ConversationHeader')).toBeNull();
  });
  test('should render main content when data is loaded', function () {
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_conversations.default, {
        route: mockRoute
      })),
      getByTestId = _render2.getByTestId;
    expect(getByTestId('ConversationHeader')).toBeTruthy();
    var descriptionComponent = getByTestId('ConversationScenarioDescription');
    expect(descriptionComponent.props.description).toBe('Description du scenario.');
  });
  test('should call saveActivity on mount if conversation has started', function () {
    _useConversation.default.mockReturnValue(createMockConversationState({
      isConversationStarted: true
    }));
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_conversations.default, {
      route: mockRoute
    }));
    expect(mockSaveActivity).toHaveBeenCalledTimes(1);
    expect(mockSaveActivity).toHaveBeenCalledWith(expect.objectContaining({
      title: 'Conversations',
      level: 'A1',
      type: 'conversations',
      metadata: expect.any(Object)
    }));
  });
  test('should NOT call saveActivity on mount if conversation has not started', function () {
    _useConversation.default.mockReturnValue(createMockConversationState({
      isConversationStarted: false
    }));
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_conversations.default, {
      route: mockRoute
    }));
    expect(mockSaveActivity).not.toHaveBeenCalled();
  });
  test('should handle back press correctly', function () {
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_conversations.default, {
        route: mockRoute
      })),
      getByTestId = _render3.getByTestId;
    var header = getByTestId('ConversationHeader');
    header.props.onBackPress();
    expect(_expoRouter.router.push).toHaveBeenCalledWith({
      pathname: '/tabs/exerciseSelection',
      params: {
        level: 'A1'
      }
    });
  });
  test('should handle scenario change correctly', function () {
    var mockConversationState = createMockConversationState();
    _useConversation.default.mockReturnValue(mockConversationState);
    var _render4 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_conversations.default, {
        route: mockRoute
      })),
      getByTestId = _render4.getByTestId;
    var selector = getByTestId('ConversationSelector');
    selector.props.onSelectScenario(1);
    expect(mockConversationState.changeScenario).toHaveBeenCalledWith(1);
  });
  test('should handle sending a message correctly', function () {
    var mockConversationState = createMockConversationState();
    _useConversation.default.mockReturnValue(mockConversationState);
    var _render5 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_conversations.default, {
        route: mockRoute
      })),
      getByTestId = _render5.getByTestId;
    var input = getByTestId('ConversationInput');
    input.props.onSendMessage();
    expect(mockConversationState.sendMessage).toHaveBeenCalledTimes(1);
  });
  test('should handle using a suggestion correctly', function () {
    var mockConversationState = createMockConversationState();
    _useConversation.default.mockReturnValue(mockConversationState);
    var _render6 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_conversations.default, {
        route: mockRoute
      })),
      getByTestId = _render6.getByTestId;
    var suggestions = getByTestId('ConversationSuggestions');
    suggestions.props.onPressSuggestion('Hi');
    expect(mockConversationState.useSuggestion).toHaveBeenCalledWith('Hi');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjcmVhdGVNb2NrQ29tcG9uZW50IiwibmFtZSIsInByb3BzIiwiX2pzeFJ1bnRpbWUiLCJqc3giLCJfcmVhY3ROYXRpdmUyIiwiVmlldyIsIk9iamVjdCIsImFzc2lnbiIsInRlc3RJRCIsImNoaWxkcmVuIiwiVGV4dCIsIl9nZXRKZXN0T2JqIiwibW9jayIsInJvdXRlciIsInB1c2giLCJqZXN0IiwiZm4iLCJtb2NrVXNlTGFzdEFjdGl2aXR5IiwibW9ja1JldHVyblZhbHVlIiwic2F2ZUFjdGl2aXR5IiwiZ2V0Q29udmVyc2F0aW9uRGF0YSIsImdldExldmVsQ29sb3IiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdCIsIl9yZWFjdE5hdGl2ZSIsIl9jb252ZXJzYXRpb25zIiwiX3VzZUNvbnZlcnNhdGlvbiIsIl91c2VMYXN0QWN0aXZpdHkiLCJfZXhwb1JvdXRlciIsIl9yZXF1aXJlIiwiZGVzY3JpYmUiLCJtb2NrUm91dGUiLCJwYXJhbXMiLCJsZXZlbCIsIm1vY2tTYXZlQWN0aXZpdHkiLCJjcmVhdGVNb2NrQ29udmVyc2F0aW9uU3RhdGUiLCJvdmVycmlkZXMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJsb2FkZWQiLCJoYXNWYWxpZERhdGEiLCJjdXJyZW50U2NlbmFyaW8iLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiY29udmVyc2F0aW9uIiwic2VuZGVyIiwidGV4dCIsInN1Z2dlc3Rpb25zIiwibWVzc2FnZSIsImlzVHlwaW5nIiwic3RhdHMiLCJjb21wbGV0aW9uUHJvZ3Jlc3MiLCJjdXJyZW50U3RlcCIsInRvdGFsU3RlcHMiLCJpc0NvbnZlcnNhdGlvblN0YXJ0ZWQiLCJjaGFuZ2VTY2VuYXJpbyIsInNlbmRNZXNzYWdlIiwidXNlU3VnZ2VzdGlvbiIsInRvZ2dsZUhlbHAiLCJ0b2dnbGVEZXRhaWxlZFByb2dyZXNzIiwic2V0TWVzc2FnZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwidXNlTGFzdEFjdGl2aXR5IiwidXNlQ29udmVyc2F0aW9uIiwidGVzdCIsIl9yZW5kZXIiLCJyZW5kZXIiLCJkZWZhdWx0Iiwicm91dGUiLCJxdWVyeUJ5VGVzdElkIiwiZXhwZWN0IiwidG9CZU51bGwiLCJfcmVuZGVyMiIsImdldEJ5VGVzdElkIiwidG9CZVRydXRoeSIsImRlc2NyaXB0aW9uQ29tcG9uZW50IiwidG9CZSIsInRvSGF2ZUJlZW5DYWxsZWRUaW1lcyIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwib2JqZWN0Q29udGFpbmluZyIsInR5cGUiLCJtZXRhZGF0YSIsImFueSIsIm5vdCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJfcmVuZGVyMyIsImhlYWRlciIsIm9uQmFja1ByZXNzIiwicGF0aG5hbWUiLCJtb2NrQ29udmVyc2F0aW9uU3RhdGUiLCJfcmVuZGVyNCIsInNlbGVjdG9yIiwib25TZWxlY3RTY2VuYXJpbyIsIl9yZW5kZXI1IiwiaW5wdXQiLCJvblNlbmRNZXNzYWdlIiwiX3JlbmRlcjYiLCJvblByZXNzU3VnZ2VzdGlvbiJdLCJzb3VyY2VzIjpbIkNvbnZlcnNhdGlvbkV4ZXJjaXNlLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtbmF0aXZlJztcbmltcG9ydCB7IFZpZXcsIFRleHQgfSBmcm9tICdyZWFjdC1uYXRpdmUnOyAvLyBJbXBvcnQgVGV4dCBmb3IgYmV0dGVyIGRlYnVnZ2luZyBvZiBtb2NrZWQgY29tcG9uZW50c1xuaW1wb3J0IENvbnZlcnNhdGlvbkV4ZXJjaXNlIGZyb20gJy4uLy4uLy4uLy4uL3NyYy9zY3JlZW5zL2V4ZXJjaXNlcy9jb252ZXJzYXRpb25zJztcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIE1PQ0tTIFNFVFVQXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vLyBNb2NrIGV4cG8tcm91dGVyIGZvciBuYXZpZ2F0aW9uXG5qZXN0Lm1vY2soJ2V4cG8tcm91dGVyJywgKCkgPT4gKHtcbiAgcm91dGVyOiB7XG4gICAgcHVzaDogamVzdC5mbigpLFxuICB9LFxufSkpO1xuXG4vLyBNb2NrIHRoZSBjb3JlIHVzZUNvbnZlcnNhdGlvbiBob29rXG5qZXN0Lm1vY2soJy4uLy4uLy4uLy4uL3NyYy9zY3JlZW5zL2V4ZXJjaXNlcy9jb252ZXJzYXRpb25zL2hvb2tzL3VzZUNvbnZlcnNhdGlvbicpO1xuXG4vLyBNb2NrIHVzZUxhc3RBY3Rpdml0eSBob29rXG5qZXN0Lm1vY2soJy4uLy4uLy4uLy4uL3NyYy9ob29rcy91c2VMYXN0QWN0aXZpdHknLCAoKSA9PiB7XG4gIC8vIFRoaXMgZmFjdG9yeSBmdW5jdGlvbiBlbnN1cmVzIHVzZUxhc3RBY3Rpdml0eSBpcyBhIGplc3QuZm4oKSBmcm9tIHRoZSBzdGFydFxuICBjb25zdCBtb2NrVXNlTGFzdEFjdGl2aXR5ID0gamVzdC5mbigpO1xuICAvLyBTZXQgYSBkZWZhdWx0IHJldHVybiB2YWx1ZSBmb3IgdGhlIG1vY2ssIHdoaWNoIGNhbiBiZSBvdmVycmlkZGVuIGluIHRlc3RzXG4gIG1vY2tVc2VMYXN0QWN0aXZpdHkubW9ja1JldHVyblZhbHVlKHtcbiAgICBzYXZlQWN0aXZpdHk6IGplc3QuZm4oKSxcbiAgfSk7XG4gIHJldHVybiBtb2NrVXNlTGFzdEFjdGl2aXR5O1xufSk7XG5cbmplc3QubW9jaygnLi4vLi4vLi4vLi4vc3JjL3V0aWxzL2NvbnZlcnNhdGlvbi9jb252ZXJzYXRpb25EYXRhSGVscGVyJywgKCkgPT4gKHtcbiAgZ2V0Q29udmVyc2F0aW9uRGF0YTogamVzdC5mbigpLFxuICBnZXRMZXZlbENvbG9yOiBqZXN0LmZuKCgpID0+ICcjMDAwMEZGJyksXG59KSk7XG5cbi8vIEhlbHBlciB0byBjcmVhdGUgbW9jayBjb21wb25lbnRzIHRoYXQgYWNjZXB0IHByb3BzIGFuZCBjYW4gYmUgZm91bmQgd2l0aCB0ZXN0SURcbi8vIFdlIHVzZSBUZXh0IGluc2lkZSBWaWV3IHRvIG1ha2UgaXQgZWFzaWVyIHRvIGRlYnVnIGlmIG5lZWRlZFxuY29uc3QgY3JlYXRlTW9ja0NvbXBvbmVudCA9IChuYW1lKSA9PiAocHJvcHMpID0+IChcbiAgPFZpZXcgdGVzdElEPXtuYW1lfSB7Li4ucHJvcHN9PlxuICAgIDxUZXh0PntuYW1lfTwvVGV4dD5cbiAgPC9WaWV3PlxuKTtcblxuLy8gTW9jayBhbGwgY2hpbGQgY29tcG9uZW50cyB0byBpc29sYXRlIENvbnZlcnNhdGlvbkV4ZXJjaXNlXG5qZXN0Lm1vY2soJy4uLy4uLy4uLy4uL3NyYy9zY3JlZW5zL2V4ZXJjaXNlcy9jb252ZXJzYXRpb25zL0NvbnZlcnNhdGlvbkhlYWRlcicsICgpID0+IGNyZWF0ZU1vY2tDb21wb25lbnQoJ0NvbnZlcnNhdGlvbkhlYWRlcicpKTtcbmplc3QubW9jaygnLi4vLi4vLi4vLi4vc3JjL3NjcmVlbnMvZXhlcmNpc2VzL2NvbnZlcnNhdGlvbnMvQ29udmVyc2F0aW9uU2VsZWN0b3InLCAoKSA9PiBjcmVhdGVNb2NrQ29tcG9uZW50KCdDb252ZXJzYXRpb25TZWxlY3RvcicpKTtcbmplc3QubW9jaygnLi4vLi4vLi4vLi4vc3JjL3NjcmVlbnMvZXhlcmNpc2VzL2NvbnZlcnNhdGlvbnMvQ29udmVyc2F0aW9uUHJvZ3Jlc3MnLCAoKSA9PiBjcmVhdGVNb2NrQ29tcG9uZW50KCdDb252ZXJzYXRpb25Qcm9ncmVzcycpKTtcbmplc3QubW9jaygnLi4vLi4vLi4vLi4vc3JjL3NjcmVlbnMvZXhlcmNpc2VzL2NvbnZlcnNhdGlvbnMvQ29udmVyc2F0aW9uU2NlbmFyaW9EZXNjcmlwdGlvbicsICgpID0+IGNyZWF0ZU1vY2tDb21wb25lbnQoJ0NvbnZlcnNhdGlvblNjZW5hcmlvRGVzY3JpcHRpb24nKSk7XG5qZXN0Lm1vY2soJy4uLy4uLy4uLy4uL3NyYy9zY3JlZW5zL2V4ZXJjaXNlcy9jb252ZXJzYXRpb25zL0NvbnZlcnNhdGlvbk1lc3NhZ2VMaXN0JywgKCkgPT4gY3JlYXRlTW9ja0NvbXBvbmVudCgnQ29udmVyc2F0aW9uTWVzc2FnZUxpc3QnKSk7XG5qZXN0Lm1vY2soJy4uLy4uLy4uLy4uL3NyYy9zY3JlZW5zL2V4ZXJjaXNlcy9jb252ZXJzYXRpb25zL0NvbnZlcnNhdGlvblN1Z2dlc3Rpb25zJywgKCkgPT4gY3JlYXRlTW9ja0NvbXBvbmVudCgnQ29udmVyc2F0aW9uU3VnZ2VzdGlvbnMnKSk7XG5qZXN0Lm1vY2soJy4uLy4uLy4uLy4uL3NyYy9zY3JlZW5zL2V4ZXJjaXNlcy9jb252ZXJzYXRpb25zL0NvbnZlcnNhdGlvbklucHV0JywgKCkgPT4gY3JlYXRlTW9ja0NvbXBvbmVudCgnQ29udmVyc2F0aW9uSW5wdXQnKSk7XG5cbi8vIEltcG9ydCB0aGUgbW9ja2VkIGhvb2tzIHRvIGNvbnRyb2wgdGhlaXIgYmVoYXZpb3JcbmltcG9ydCB1c2VDb252ZXJzYXRpb24gZnJvbSAnLi4vLi4vLi4vLi4vc3JjL3NjcmVlbnMvZXhlcmNpc2VzL2NvbnZlcnNhdGlvbnMvaG9va3MvdXNlQ29udmVyc2F0aW9uJztcbmltcG9ydCB1c2VMYXN0QWN0aXZpdHkgZnJvbSAnLi4vLi4vLi4vLi4vc3JjL2hvb2tzL3VzZUxhc3RBY3Rpdml0eSc7XG5pbXBvcnQgeyByb3V0ZXIgfSBmcm9tICdleHBvLXJvdXRlcic7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBURVNUIFNVSVRFXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5kZXNjcmliZSgnQ29udmVyc2F0aW9uRXhlcmNpc2UnLCAoKSA9PiB7XG4gIGNvbnN0IG1vY2tSb3V0ZSA9IHsgcGFyYW1zOiB7IGxldmVsOiAnQTEnIH0gfTtcbiAgbGV0IG1vY2tTYXZlQWN0aXZpdHk7XG5cbiAgLy8gSGVscGVyIHRvIGNyZWF0ZSBhIGRlZmF1bHQgbW9jayBzdGF0ZSBmb3IgdGhlIHVzZUNvbnZlcnNhdGlvbiBob29rXG4gIGNvbnN0IGNyZWF0ZU1vY2tDb252ZXJzYXRpb25TdGF0ZSA9IChvdmVycmlkZXMgPSB7fSkgPT4gKHtcbiAgICBsb2FkZWQ6IHRydWUsXG4gICAgaGFzVmFsaWREYXRhOiB0cnVlLFxuICAgIGN1cnJlbnRTY2VuYXJpbzoge1xuICAgICAgdGl0bGU6ICdTY2VuYXJpbyBkZSBUZXN0JyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnRGVzY3JpcHRpb24gZHUgc2NlbmFyaW8uJyxcbiAgICB9LFxuICAgIGNvbnZlcnNhdGlvbjogW3sgc2VuZGVyOiAnYm90JywgdGV4dDogJ0hlbGxvIScgfV0sXG4gICAgc3VnZ2VzdGlvbnM6IFsnSGknLCAnSGVsbG8gdGhlcmUnXSxcbiAgICBtZXNzYWdlOiAnJyxcbiAgICBpc1R5cGluZzogZmFsc2UsXG4gICAgc3RhdHM6IHsgY29tcGxldGlvblByb2dyZXNzOiA1MCwgY3VycmVudFN0ZXA6IDEsIHRvdGFsU3RlcHM6IDIgfSxcbiAgICBpc0NvbnZlcnNhdGlvblN0YXJ0ZWQ6IHRydWUsXG4gICAgLy8gTW9jayBmdW5jdGlvbnMgdGhhdCB3ZSBjYW4gc3B5IG9uXG4gICAgY2hhbmdlU2NlbmFyaW86IGplc3QuZm4oKSxcbiAgICBzZW5kTWVzc2FnZTogamVzdC5mbigpLFxuICAgIHVzZVN1Z2dlc3Rpb246IGplc3QuZm4oKSxcbiAgICB0b2dnbGVIZWxwOiBqZXN0LmZuKCksXG4gICAgdG9nZ2xlRGV0YWlsZWRQcm9ncmVzczogamVzdC5mbigpLFxuICAgIHNldE1lc3NhZ2U6IGplc3QuZm4oKSxcbiAgICAuLi5vdmVycmlkZXMsXG4gIH0pO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIC8vIFJlc2V0IGFsbCBtb2NrcyBiZWZvcmUgZWFjaCB0ZXN0IHRvIGVuc3VyZSBpc29sYXRpb25cbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcblxuICAgIC8vIFNldHVwIHRoZSBtb2NrIGZvciB1c2VMYXN0QWN0aXZpdHkgY29ycmVjdGx5XG4gICAgLy8gV2UgZ2V0IHRoZSBtb2NrU2F2ZUFjdGl2aXR5IGZyb20gdGhlIHJldHVybiB2YWx1ZSBvZiB1c2VMYXN0QWN0aXZpdHlcbiAgICBtb2NrU2F2ZUFjdGl2aXR5ID0gamVzdC5mbigpO1xuICAgIHVzZUxhc3RBY3Rpdml0eS5tb2NrUmV0dXJuVmFsdWUoeyBzYXZlQWN0aXZpdHk6IG1vY2tTYXZlQWN0aXZpdHkgfSk7XG5cbiAgICAvLyBSZXNldCB0aGUgdXNlQ29udmVyc2F0aW9uIG1vY2sgZm9yIGVhY2ggdGVzdFxuICAgIHVzZUNvbnZlcnNhdGlvbi5tb2NrUmV0dXJuVmFsdWUoY3JlYXRlTW9ja0NvbnZlcnNhdGlvblN0YXRlKCkpO1xuICB9KTtcblxuICAvLyAtLS0gVGVzdCBTY2VuYXJpb3MgLS0tXG5cbiAgdGVzdCgnc2hvdWxkIHJlbmRlciBsb2FkaW5nIHN0YXRlIGNvcnJlY3RseScsICgpID0+IHtcbiAgICB1c2VDb252ZXJzYXRpb24ubW9ja1JldHVyblZhbHVlKGNyZWF0ZU1vY2tDb252ZXJzYXRpb25TdGF0ZSh7IGxvYWRlZDogZmFsc2UgfSkpO1xuICAgIGNvbnN0IHsgcXVlcnlCeVRlc3RJZCB9ID0gcmVuZGVyKDxDb252ZXJzYXRpb25FeGVyY2lzZSByb3V0ZT17bW9ja1JvdXRlfSAvPik7XG4gICAgLy8gSW4gbG9hZGluZyBzdGF0ZSwgdGhlIG1haW4gY29udGVudCAoY2hpbGQgY29tcG9uZW50cykgc2hvdWxkIG5vdCBiZSB2aXNpYmxlXG4gICAgZXhwZWN0KHF1ZXJ5QnlUZXN0SWQoJ0NvbnZlcnNhdGlvbkhlYWRlcicpKS50b0JlTnVsbCgpO1xuICB9KTtcblxuICB0ZXN0KCdzaG91bGQgcmVuZGVyIG1haW4gY29udGVudCB3aGVuIGRhdGEgaXMgbG9hZGVkJywgKCkgPT4ge1xuICAgIC8vIHVzZUNvbnZlcnNhdGlvbiBpcyBhbHJlYWR5IG1vY2tlZCB0byByZXR1cm4gbG9hZGVkOiB0cnVlIGluIGJlZm9yZUVhY2hcbiAgICBjb25zdCB7IGdldEJ5VGVzdElkIH0gPSByZW5kZXIoPENvbnZlcnNhdGlvbkV4ZXJjaXNlIHJvdXRlPXttb2NrUm91dGV9IC8+KTtcblxuICAgIC8vIENoZWNrIHRoYXQgY2hpbGQgY29tcG9uZW50cyBhcmUgcmVuZGVyZWQgYW5kIHRoZWlyIHByb3BzIGFyZSBwYXNzZWQgY29ycmVjdGx5XG4gICAgZXhwZWN0KGdldEJ5VGVzdElkKCdDb252ZXJzYXRpb25IZWFkZXInKSkudG9CZVRydXRoeSgpO1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uQ29tcG9uZW50ID0gZ2V0QnlUZXN0SWQoJ0NvbnZlcnNhdGlvblNjZW5hcmlvRGVzY3JpcHRpb24nKTtcbiAgICBleHBlY3QoZGVzY3JpcHRpb25Db21wb25lbnQucHJvcHMuZGVzY3JpcHRpb24pLnRvQmUoJ0Rlc2NyaXB0aW9uIGR1IHNjZW5hcmlvLicpO1xuICB9KTtcblxuICB0ZXN0KCdzaG91bGQgY2FsbCBzYXZlQWN0aXZpdHkgb24gbW91bnQgaWYgY29udmVyc2F0aW9uIGhhcyBzdGFydGVkJywgKCkgPT4ge1xuICAgIHVzZUNvbnZlcnNhdGlvbi5tb2NrUmV0dXJuVmFsdWUoY3JlYXRlTW9ja0NvbnZlcnNhdGlvblN0YXRlKHsgaXNDb252ZXJzYXRpb25TdGFydGVkOiB0cnVlIH0pKTtcbiAgICByZW5kZXIoPENvbnZlcnNhdGlvbkV4ZXJjaXNlIHJvdXRlPXttb2NrUm91dGV9IC8+KTtcblxuICAgIGV4cGVjdChtb2NrU2F2ZUFjdGl2aXR5KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG4gICAgZXhwZWN0KG1vY2tTYXZlQWN0aXZpdHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgIHRpdGxlOiAnQ29udmVyc2F0aW9ucycsXG4gICAgICBsZXZlbDogJ0ExJyxcbiAgICAgIHR5cGU6ICdjb252ZXJzYXRpb25zJyxcbiAgICAgIG1ldGFkYXRhOiBleHBlY3QuYW55KE9iamVjdCksXG4gICAgfSkpO1xuICB9KTtcblxuICB0ZXN0KCdzaG91bGQgTk9UIGNhbGwgc2F2ZUFjdGl2aXR5IG9uIG1vdW50IGlmIGNvbnZlcnNhdGlvbiBoYXMgbm90IHN0YXJ0ZWQnLCAoKSA9PiB7XG4gICAgdXNlQ29udmVyc2F0aW9uLm1vY2tSZXR1cm5WYWx1ZShjcmVhdGVNb2NrQ29udmVyc2F0aW9uU3RhdGUoeyBpc0NvbnZlcnNhdGlvblN0YXJ0ZWQ6IGZhbHNlIH0pKTtcbiAgICByZW5kZXIoPENvbnZlcnNhdGlvbkV4ZXJjaXNlIHJvdXRlPXttb2NrUm91dGV9IC8+KTtcblxuICAgIGV4cGVjdChtb2NrU2F2ZUFjdGl2aXR5KS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICB9KTtcblxuICB0ZXN0KCdzaG91bGQgaGFuZGxlIGJhY2sgcHJlc3MgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcig8Q29udmVyc2F0aW9uRXhlcmNpc2Ugcm91dGU9e21vY2tSb3V0ZX0gLz4pO1xuXG4gICAgY29uc3QgaGVhZGVyID0gZ2V0QnlUZXN0SWQoJ0NvbnZlcnNhdGlvbkhlYWRlcicpO1xuICAgIC8vIERpcmVjdGx5IGludm9rZSB0aGUgY2FsbGJhY2sgcHJvcCB0byBzaW11bGF0ZSB0aGUgZXZlbnRcbiAgICBoZWFkZXIucHJvcHMub25CYWNrUHJlc3MoKTtcblxuICAgIGV4cGVjdChyb3V0ZXIucHVzaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoeyBcbiAgICAgIHBhdGhuYW1lOiAnL3RhYnMvZXhlcmNpc2VTZWxlY3Rpb24nLCBcbiAgICAgIHBhcmFtczogeyBsZXZlbDogJ0ExJyB9IFxuICAgIH0pO1xuICB9KTtcblxuICB0ZXN0KCdzaG91bGQgaGFuZGxlIHNjZW5hcmlvIGNoYW5nZSBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgY29uc3QgbW9ja0NvbnZlcnNhdGlvblN0YXRlID0gY3JlYXRlTW9ja0NvbnZlcnNhdGlvblN0YXRlKCk7XG4gICAgdXNlQ29udmVyc2F0aW9uLm1vY2tSZXR1cm5WYWx1ZShtb2NrQ29udmVyc2F0aW9uU3RhdGUpO1xuICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcig8Q29udmVyc2F0aW9uRXhlcmNpc2Ugcm91dGU9e21vY2tSb3V0ZX0gLz4pO1xuXG4gICAgY29uc3Qgc2VsZWN0b3IgPSBnZXRCeVRlc3RJZCgnQ29udmVyc2F0aW9uU2VsZWN0b3InKTtcbiAgICAvLyBEaXJlY3RseSBpbnZva2UgdGhlIGNhbGxiYWNrIHByb3Agd2l0aCB0aGUgbmV3IHNjZW5hcmlvIGluZGV4XG4gICAgc2VsZWN0b3IucHJvcHMub25TZWxlY3RTY2VuYXJpbygxKTtcblxuICAgIGV4cGVjdChtb2NrQ29udmVyc2F0aW9uU3RhdGUuY2hhbmdlU2NlbmFyaW8pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKDEpO1xuICB9KTtcblxuICB0ZXN0KCdzaG91bGQgaGFuZGxlIHNlbmRpbmcgYSBtZXNzYWdlIGNvcnJlY3RseScsICgpID0+IHtcbiAgICBjb25zdCBtb2NrQ29udmVyc2F0aW9uU3RhdGUgPSBjcmVhdGVNb2NrQ29udmVyc2F0aW9uU3RhdGUoKTtcbiAgICB1c2VDb252ZXJzYXRpb24ubW9ja1JldHVyblZhbHVlKG1vY2tDb252ZXJzYXRpb25TdGF0ZSk7XG4gICAgY29uc3QgeyBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyKDxDb252ZXJzYXRpb25FeGVyY2lzZSByb3V0ZT17bW9ja1JvdXRlfSAvPik7XG5cbiAgICBjb25zdCBpbnB1dCA9IGdldEJ5VGVzdElkKCdDb252ZXJzYXRpb25JbnB1dCcpO1xuICAgIC8vIERpcmVjdGx5IGludm9rZSB0aGUgY2FsbGJhY2sgcHJvcFxuICAgIGlucHV0LnByb3BzLm9uU2VuZE1lc3NhZ2UoKTtcblxuICAgIGV4cGVjdChtb2NrQ29udmVyc2F0aW9uU3RhdGUuc2VuZE1lc3NhZ2UpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgfSk7XG5cbiAgdGVzdCgnc2hvdWxkIGhhbmRsZSB1c2luZyBhIHN1Z2dlc3Rpb24gY29ycmVjdGx5JywgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tDb252ZXJzYXRpb25TdGF0ZSA9IGNyZWF0ZU1vY2tDb252ZXJzYXRpb25TdGF0ZSgpO1xuICAgIHVzZUNvbnZlcnNhdGlvbi5tb2NrUmV0dXJuVmFsdWUobW9ja0NvbnZlcnNhdGlvblN0YXRlKTtcbiAgICBjb25zdCB7IGdldEJ5VGVzdElkIH0gPSByZW5kZXIoPENvbnZlcnNhdGlvbkV4ZXJjaXNlIHJvdXRlPXttb2NrUm91dGV9IC8+KTtcblxuICAgIGNvbnN0IHN1Z2dlc3Rpb25zID0gZ2V0QnlUZXN0SWQoJ0NvbnZlcnNhdGlvblN1Z2dlc3Rpb25zJyk7XG4gICAgLy8gRGlyZWN0bHkgaW52b2tlIHRoZSBjYWxsYmFjayBwcm9wIHdpdGggYSBzYW1wbGUgc3VnZ2VzdGlvblxuICAgIHN1Z2dlc3Rpb25zLnByb3BzLm9uUHJlc3NTdWdnZXN0aW9uKCdIaScpO1xuXG4gICAgZXhwZWN0KG1vY2tDb252ZXJzYXRpb25TdGF0ZS51c2VTdWdnZXN0aW9uKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnSGknKTtcbiAgfSk7XG59KTsiXSwibWFwcGluZ3MiOiJJQXFDTUEsbUJBQW1CLEdBQUcsU0FBdEJBLG1CQUFtQkEsQ0FBSUMsSUFBSTtFQUFBLE9BQUssVUFBQ0MsS0FBSztJQUFBLE9BQzFDLElBQUFDLFdBQUEsQ0FBQUMsR0FBQSxFQUFDQyxhQUFBLENBQUFDLElBQUksRUFBQUMsTUFBQSxDQUFBQyxNQUFBO01BQUNDLE1BQU0sRUFBRVI7SUFBSyxHQUFLQyxLQUFLO01BQUFRLFFBQUEsRUFDM0IsSUFBQVAsV0FBQSxDQUFBQyxHQUFBLEVBQUNDLGFBQUEsQ0FBQU0sSUFBSTtRQUFBRCxRQUFBLEVBQUVUO01BQUksQ0FBTztJQUFDLEVBQ2YsQ0FBQztFQUFBLENBQ1I7QUFB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