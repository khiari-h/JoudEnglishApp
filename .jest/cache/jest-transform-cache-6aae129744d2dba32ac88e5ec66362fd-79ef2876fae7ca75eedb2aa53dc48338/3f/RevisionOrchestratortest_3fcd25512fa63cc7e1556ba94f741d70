91a9535f760ad95f0cc7d08b0760901c
_getJestObj().mock('../../../src/hooks/useRevisionSettings');
_getJestObj().mock('expo-router', function () {
  return {
    router: {
      push: jest.fn()
    }
  };
});
_getJestObj().mock('@react-native-async-storage/async-storage', function () {
  return {
    getItem: jest.fn()
  };
});
_getJestObj().mock('../../../src/contexts/ThemeContext', function () {
  return {
    ThemeContext: {
      Consumer: function Consumer(_ref) {
        var children = _ref.children;
        return children({
          colors: {
            surface: "#FFFFFF",
            text: "#1F2937",
            textSecondary: "#6B7280",
            primary: "#10B981",
            accent: "#3B82F6",
            warning: "#F59E0B"
          }
        });
      },
      Provider: function Provider(_ref2) {
        var children = _ref2.children,
          value = _ref2.value;
        return children;
      }
    },
    useTheme: function useTheme() {
      return {
        colors: {
          surface: "#FFFFFF",
          text: "#1F2937",
          textSecondary: "#6B7280",
          primary: "#10B981",
          accent: "#3B82F6",
          warning: "#F59E0B"
        }
      };
    }
  };
});
_getJestObj().mock('../../../src/screens/Dashboard/components/popup/RevisionPopup', function () {
  var React = require('react');
  var _require = require('react-native'),
    View = _require.View,
    Text = _require.Text,
    TouchableOpacity = _require.TouchableOpacity;
  return function (_ref3) {
    var visible = _ref3.visible,
      onChoice = _ref3.onChoice,
      onDismiss = _ref3.onDismiss,
      totalWordsLearned = _ref3.totalWordsLearned,
      questionsCount = _ref3.questionsCount;
    if (!visible) return null;
    return (0, _jsxRuntime.jsxs)(View, {
      testID: "revision-popup",
      children: [(0, _jsxRuntime.jsxs)(Text, {
        testID: "popup-words",
        children: ["Words: ", totalWordsLearned]
      }), (0, _jsxRuntime.jsxs)(Text, {
        testID: "popup-questions",
        children: ["Questions: ", questionsCount]
      }), (0, _jsxRuntime.jsx)(TouchableOpacity, {
        testID: "popup-now",
        onPress: function onPress() {
          return onChoice('now');
        },
        children: (0, _jsxRuntime.jsx)(Text, {
          children: "Now"
        })
      }), (0, _jsxRuntime.jsx)(TouchableOpacity, {
        testID: "popup-later50",
        onPress: function onPress() {
          return onChoice('later_50');
        },
        children: (0, _jsxRuntime.jsx)(Text, {
          children: "Later 50"
        })
      }), (0, _jsxRuntime.jsx)(TouchableOpacity, {
        testID: "popup-disable",
        onPress: function onPress() {
          return onChoice('disable');
        },
        children: (0, _jsxRuntime.jsx)(Text, {
          children: "Disable"
        })
      }), (0, _jsxRuntime.jsx)(TouchableOpacity, {
        testID: "popup-dismiss",
        onPress: onDismiss,
        children: (0, _jsxRuntime.jsx)(Text, {
          children: "Dismiss"
        })
      })]
    });
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _reactNative2 = require("react-native");
var _RevisionOrchestrator = _interopRequireDefault(require("../../../src/screens/VocabularyRevision/RevisionOrchestrator"));
var RevisionSettingsHook = _interopRequireWildcard(require("../../../src/hooks/useRevisionSettings"));
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _expoRouter = require("expo-router");
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function _getJestObj() {
  var _require2 = require("@jest/globals"),
    jest = _require2.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('RevisionOrchestrator', function () {
  var mockUseRevisionSettings;
  var createWordsData = function createWordsData(wordCount) {
    var levels = ['1', '2', '3', '4', '5', '6', 'bonus'];
    var modes = ['classic', 'fast'];
    var result = {};
    var totalCreated = 0;
    var _loop = function _loop(level) {
      var _loop2 = function _loop2(mode) {
          if (totalCreated >= wordCount) return 0;
          var wordsForThisSection = Math.min(wordCount - totalCreated, Math.ceil(wordCount / (levels.length * modes.length)));
          result[`vocabulary_${level}_${mode}`] = JSON.stringify({
            completedWords: {
              unit1: Array.from({
                length: wordsForThisSection
              }, function (_, i) {
                return `word_${level}_${mode}_${i}`;
              })
            }
          });
          totalCreated += wordsForThisSection;
          if (totalCreated >= wordCount) return 0;
        },
        _ret;
      for (var mode of modes) {
        _ret = _loop2(mode);
        if (_ret === 0) break;
      }
      if (totalCreated >= wordCount) return 1;
    };
    for (var level of levels) {
      if (_loop(level)) break;
    }
    return result;
  };
  beforeEach(function () {
    jest.clearAllMocks();
    jest.useFakeTimers();
    mockUseRevisionSettings = {
      preferences: {
        isDisabled: false,
        nextRevisionAt: 50,
        questionsCount: 10,
        frequency: 50
      },
      disableRevisions: jest.fn().mockResolvedValue(true),
      resetToNextTarget: jest.fn().mockResolvedValue(true),
      updatePreferences: jest.fn().mockResolvedValue(true)
    };
    RevisionSettingsHook.useRevisionSettings.mockReturnValue(mockUseRevisionSettings);
    _asyncStorage.default.getItem.mockReset();
    var defaultWordsData = createWordsData(3);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(defaultWordsData[key] || null);
    });
  });
  afterEach(function () {
    jest.useRealTimers();
  });
  it('ne rend rien si les révisions sont désactivées', (0, _asyncToGenerator2.default)(function* () {
    mockUseRevisionSettings.preferences.isDisabled = true;
    RevisionSettingsHook.useRevisionSettings.mockReturnValue(mockUseRevisionSettings);
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      queryByTestId = _render.queryByTestId;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(2000);
    }));
    expect(queryByTestId('revision-popup')).toBeNull();
  }));
  it('ne montre pas la popup si le nombre de mots est inférieur au seuil', (0, _asyncToGenerator2.default)(function* () {
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      queryByTestId = _render2.queryByTestId;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(2000);
    }));
    expect(queryByTestId('revision-popup')).toBeNull();
  }));
  it('montre la popup quand le nombre de mots atteint le seuil', (0, _asyncToGenerator2.default)(function* () {
    var wordsData = createWordsData(60);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(wordsData[key] || null);
    });
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      getByTestId = _render3.getByTestId,
      getByText = _render3.getByText,
      queryByTestId = _render3.queryByTestId;
    yield (0, _reactNative.waitFor)(function () {
      expect(_asyncStorage.default.getItem).toHaveBeenCalled();
    });
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(2000);
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(queryByTestId('revision-popup')).toBeTruthy();
    });
    expect(getByText('Words: 60')).toBeTruthy();
    expect(getByText('Questions: 10')).toBeTruthy();
  }));
  it('appelle resetToNextTarget et navigue quand "now" est choisi', (0, _asyncToGenerator2.default)(function* () {
    _asyncStorage.default.getItem.mockReset();
    var wordsData = createWordsData(60);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(wordsData[key] || null);
    });
    var _render4 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {
        currentLevel: "A1"
      })),
      getByTestId = _render4.getByTestId,
      queryByTestId = _render4.queryByTestId;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(3000);
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(queryByTestId('revision-popup')).toBeTruthy();
    });
    var nowButton = getByTestId('popup-now');
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      _reactNative.fireEvent.press(nowButton);
    }));
    expect(mockUseRevisionSettings.resetToNextTarget).toHaveBeenCalledWith(60);
    expect(_expoRouter.router.push).toHaveBeenCalledWith({
      pathname: "/tabs/vocabularyRevision",
      params: {
        level: "A1",
        questionsCount: 10,
        source: 'popup_trigger'
      }
    });
  }));
  it('appelle updatePreferences quand "later_50" est choisi', (0, _asyncToGenerator2.default)(function* () {
    _asyncStorage.default.getItem.mockReset();
    var wordsData = createWordsData(60);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(wordsData[key] || null);
    });
    var _render5 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      getByTestId = _render5.getByTestId,
      queryByTestId = _render5.queryByTestId;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(3000);
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(queryByTestId('revision-popup')).toBeTruthy();
    });
    var laterButton = getByTestId('popup-later50');
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      _reactNative.fireEvent.press(laterButton);
    }));
    expect(mockUseRevisionSettings.updatePreferences).toHaveBeenCalledWith({
      nextRevisionAt: 110
    });
  }));
  it('appelle disableRevisions quand "disable" est choisi', (0, _asyncToGenerator2.default)(function* () {
    _asyncStorage.default.getItem.mockReset();
    var wordsData = createWordsData(60);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(wordsData[key] || null);
    });
    var _render6 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      getByTestId = _render6.getByTestId;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(3000);
    }));
    var popup = getByTestId('revision-popup');
    expect(popup).toBeTruthy();
    var disableButton = getByTestId('popup-disable');
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      _reactNative.fireEvent.press(disableButton);
    }));
    expect(mockUseRevisionSettings.disableRevisions).toHaveBeenCalled();
  }));
  it('gère la fermeture (dismiss) en choisissant "later_50" par défaut', (0, _asyncToGenerator2.default)(function* () {
    _asyncStorage.default.getItem.mockReset();
    var wordsData = createWordsData(60);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(wordsData[key] || null);
    });
    var _render7 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      getByTestId = _render7.getByTestId;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(3000);
    }));
    var popup = getByTestId('revision-popup');
    expect(popup).toBeTruthy();
    var dismissButton = getByTestId('popup-dismiss');
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      _reactNative.fireEvent.press(dismissButton);
    }));
    expect(mockUseRevisionSettings.updatePreferences).toHaveBeenCalledWith({
      nextRevisionAt: 110
    });
  }));
  it('debug - vérifie les conditions de la popup', (0, _asyncToGenerator2.default)(function* () {
    var wordsData = createWordsData(60);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(wordsData[key] || null);
    });
    var getItemSpy = jest.spyOn(_asyncStorage.default, 'getItem');
    var TestComponent = function TestComponent() {
      var _React$useState = _react.default.useState({}),
        _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),
        debugInfo = _React$useState2[0],
        setDebugInfo = _React$useState2[1];
      var _RevisionSettingsHook = RevisionSettingsHook.useRevisionSettings(),
        preferences = _RevisionSettingsHook.preferences;
      _react.default.useEffect(function () {
        var countWords = function () {
          var _ref21 = (0, _asyncToGenerator2.default)(function* () {
            var total = 0;
            var levels = ['1', '2', '3', '4', '5', '6', 'bonus'];
            var modes = ['classic', 'fast'];
            for (var level of levels) {
              for (var mode of modes) {
                var stored = yield _asyncStorage.default.getItem(`vocabulary_${level}_${mode}`);
                if (stored) {
                  var data = JSON.parse(stored);
                  var completedWords = data.completedWords || {};
                  total += Object.values(completedWords).reduce(function (acc, words) {
                    if (Array.isArray(words)) {
                      return acc + words.length;
                    }
                    return acc;
                  }, 0);
                }
              }
            }
            setDebugInfo({
              totalWords: total,
              isDisabled: preferences.isDisabled,
              nextRevisionAt: preferences.nextRevisionAt,
              shouldShow: !preferences.isDisabled && total >= preferences.nextRevisionAt && total > 0
            });
          });
          return function countWords() {
            return _ref21.apply(this, arguments);
          };
        }();
        countWords();
      }, [preferences]);
      return (0, _jsxRuntime.jsxs)(_reactNative2.View, {
        testID: "debug-info",
        children: [(0, _jsxRuntime.jsx)(_reactNative2.Text, {
          testID: "debug-total",
          children: debugInfo.totalWords
        }), (0, _jsxRuntime.jsx)(_reactNative2.Text, {
          testID: "debug-disabled",
          children: String(debugInfo.isDisabled)
        }), (0, _jsxRuntime.jsx)(_reactNative2.Text, {
          testID: "debug-threshold",
          children: debugInfo.nextRevisionAt
        }), (0, _jsxRuntime.jsx)(_reactNative2.Text, {
          testID: "debug-should-show",
          children: String(debugInfo.shouldShow)
        })]
      });
    };
    var _render8 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(TestComponent, {})),
      getByTestId = _render8.getByTestId;
    yield (0, _reactNative.waitFor)(function () {
      expect(getItemSpy).toHaveBeenCalled();
    });
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(1000);
    }));
    var totalWords = getByTestId('debug-total').children[0];
    var isDisabled = getByTestId('debug-disabled').children[0];
    var threshold = getByTestId('debug-threshold').children[0];
    var shouldShow = getByTestId('debug-should-show').children[0];
    console.log('Debug info:', {
      totalWords: totalWords,
      isDisabled: isDisabled,
      threshold: threshold,
      shouldShow: shouldShow
    });
    expect(totalWords).toBe('60');
    expect(isDisabled).toBe('false');
    expect(threshold).toBe('50');
    expect(shouldShow).toBe('true');
  }));
  it('compte correctement les mots depuis AsyncStorage', (0, _asyncToGenerator2.default)(function* () {
    var wordsData = createWordsData(35);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(wordsData[key] || null);
    });
    var _render9 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      queryByTestId = _render9.queryByTestId;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(2000);
    }));
    expect(queryByTestId('revision-popup')).toBeNull();
    var expectedCalls = ['1', '2', '3', '4', '5', '6', 'bonus'].flatMap(function (level) {
      return ['classic', 'fast'].map(function (mode) {
        return `vocabulary_${level}_${mode}`;
      });
    });
    expectedCalls.forEach(function (key) {
      expect(_asyncStorage.default.getItem).toHaveBeenCalledWith(key);
    });
  }));
  it('debug - vérifie l\'état du composant RevisionOrchestrator', (0, _asyncToGenerator2.default)(function* () {
    var wordsData = createWordsData(60);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      return Promise.resolve(wordsData[key] || null);
    });
    var _render0 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_RevisionOrchestrator.default, {})),
      getByTestId = _render0.getByTestId,
      queryByTestId = _render0.queryByTestId,
      debug = _render0.debug;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(1000);
    }));
    console.log('=== ÉTAT INITIAL ===');
    console.log('Popup visible:', queryByTestId('revision-popup') ? 'OUI' : 'NON');
    debug();
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      jest.advanceTimersByTime(2000);
    }));
    console.log('=== APRÈS 3 SECONDES ===');
    console.log('Popup visible:', queryByTestId('revision-popup') ? 'OUI' : 'NON');
    debug();
    var popup = queryByTestId('revision-popup');
    expect(popup).toBeTruthy();
  }));
  it('debug - vérifie le mock AsyncStorage', (0, _asyncToGenerator2.default)(function* () {
    var wordsData = createWordsData(60);
    console.log('=== DONNÉES CRÉÉES ===');
    console.log('Words data:', wordsData);
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      var result = wordsData[key] || null;
      console.log(`AsyncStorage.getItem("${key}") →`, result);
      return Promise.resolve(result);
    });
    var levels = ['1', '2', '3', '4', '5', '6', 'bonus'];
    var modes = ['classic', 'fast'];
    var total = 0;
    for (var level of levels) {
      for (var mode of modes) {
        var key = `vocabulary_${level}_${mode}`;
        var stored = yield _asyncStorage.default.getItem(key);
        if (stored) {
          var data = JSON.parse(stored);
          var completedWords = data.completedWords || {};
          var count = Object.values(completedWords).reduce(function (acc, words) {
            if (Array.isArray(words)) {
              return acc + words.length;
            }
            return acc;
          }, 0);
          total += count;
          console.log(`${key}: ${count} mots`);
        }
      }
    }
    console.log('Total calculé:', total);
    expect(total).toBe(60);
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJyb3V0ZXIiLCJwdXNoIiwiamVzdCIsImZuIiwiZ2V0SXRlbSIsIlRoZW1lQ29udGV4dCIsIkNvbnN1bWVyIiwiX3JlZiIsImNoaWxkcmVuIiwiY29sb3JzIiwic3VyZmFjZSIsInRleHQiLCJ0ZXh0U2Vjb25kYXJ5IiwicHJpbWFyeSIsImFjY2VudCIsIndhcm5pbmciLCJQcm92aWRlciIsIl9yZWYyIiwidmFsdWUiLCJ1c2VUaGVtZSIsIlJlYWN0IiwicmVxdWlyZSIsIl9yZXF1aXJlIiwiVmlldyIsIlRleHQiLCJUb3VjaGFibGVPcGFjaXR5IiwiX3JlZjMiLCJ2aXNpYmxlIiwib25DaG9pY2UiLCJvbkRpc21pc3MiLCJ0b3RhbFdvcmRzTGVhcm5lZCIsInF1ZXN0aW9uc0NvdW50IiwiX2pzeFJ1bnRpbWUiLCJqc3hzIiwidGVzdElEIiwianN4Iiwib25QcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfc2xpY2VkVG9BcnJheTIiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVhY3QiLCJfcmVhY3ROYXRpdmUiLCJfcmVhY3ROYXRpdmUyIiwiX1JldmlzaW9uT3JjaGVzdHJhdG9yIiwiUmV2aXNpb25TZXR0aW5nc0hvb2siLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9hc3luY1N0b3JhZ2UiLCJfZXhwb1JvdXRlciIsImUiLCJ0IiwiV2Vha01hcCIsInIiLCJuIiwiX19lc01vZHVsZSIsIm8iLCJpIiwiZiIsIl9fcHJvdG9fXyIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJzZXQiLCJfdCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX3JlcXVpcmUyIiwiZGVzY3JpYmUiLCJtb2NrVXNlUmV2aXNpb25TZXR0aW5ncyIsImNyZWF0ZVdvcmRzRGF0YSIsIndvcmRDb3VudCIsImxldmVscyIsIm1vZGVzIiwicmVzdWx0IiwidG90YWxDcmVhdGVkIiwiX2xvb3AiLCJsZXZlbCIsIl9sb29wMiIsIm1vZGUiLCJ3b3Jkc0ZvclRoaXNTZWN0aW9uIiwiTWF0aCIsIm1pbiIsImNlaWwiLCJsZW5ndGgiLCJKU09OIiwic3RyaW5naWZ5IiwiY29tcGxldGVkV29yZHMiLCJ1bml0MSIsIkFycmF5IiwiZnJvbSIsIl8iLCJfcmV0IiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJ1c2VGYWtlVGltZXJzIiwicHJlZmVyZW5jZXMiLCJpc0Rpc2FibGVkIiwibmV4dFJldmlzaW9uQXQiLCJmcmVxdWVuY3kiLCJkaXNhYmxlUmV2aXNpb25zIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJyZXNldFRvTmV4dFRhcmdldCIsInVwZGF0ZVByZWZlcmVuY2VzIiwidXNlUmV2aXNpb25TZXR0aW5ncyIsIm1vY2tSZXR1cm5WYWx1ZSIsIkFzeW5jU3RvcmFnZSIsIm1vY2tSZXNldCIsImRlZmF1bHRXb3Jkc0RhdGEiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJrZXkiLCJQcm9taXNlIiwicmVzb2x2ZSIsImFmdGVyRWFjaCIsInVzZVJlYWxUaW1lcnMiLCJpdCIsIl9yZW5kZXIiLCJyZW5kZXIiLCJxdWVyeUJ5VGVzdElkIiwiYWN0IiwiYWR2YW5jZVRpbWVyc0J5VGltZSIsImV4cGVjdCIsInRvQmVOdWxsIiwiX3JlbmRlcjIiLCJ3b3Jkc0RhdGEiLCJfcmVuZGVyMyIsImdldEJ5VGVzdElkIiwiZ2V0QnlUZXh0Iiwid2FpdEZvciIsInRvSGF2ZUJlZW5DYWxsZWQiLCJ0b0JlVHJ1dGh5IiwiX3JlbmRlcjQiLCJjdXJyZW50TGV2ZWwiLCJub3dCdXR0b24iLCJmaXJlRXZlbnQiLCJwcmVzcyIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwicGF0aG5hbWUiLCJwYXJhbXMiLCJzb3VyY2UiLCJfcmVuZGVyNSIsImxhdGVyQnV0dG9uIiwiX3JlbmRlcjYiLCJwb3B1cCIsImRpc2FibGVCdXR0b24iLCJfcmVuZGVyNyIsImRpc21pc3NCdXR0b24iLCJnZXRJdGVtU3B5Iiwic3B5T24iLCJUZXN0Q29tcG9uZW50IiwiX1JlYWN0JHVzZVN0YXRlIiwidXNlU3RhdGUiLCJfUmVhY3QkdXNlU3RhdGUyIiwiZGVidWdJbmZvIiwic2V0RGVidWdJbmZvIiwiX1JldmlzaW9uU2V0dGluZ3NIb29rIiwidXNlRWZmZWN0IiwiY291bnRXb3JkcyIsIl9yZWYyMSIsInRvdGFsIiwic3RvcmVkIiwiZGF0YSIsInBhcnNlIiwidmFsdWVzIiwicmVkdWNlIiwiYWNjIiwid29yZHMiLCJpc0FycmF5IiwidG90YWxXb3JkcyIsInNob3VsZFNob3ciLCJhcHBseSIsImFyZ3VtZW50cyIsIlN0cmluZyIsIl9yZW5kZXI4IiwidGhyZXNob2xkIiwiY29uc29sZSIsImxvZyIsInRvQmUiLCJfcmVuZGVyOSIsImV4cGVjdGVkQ2FsbHMiLCJmbGF0TWFwIiwibWFwIiwiZm9yRWFjaCIsIl9yZW5kZXIwIiwiZGVidWciLCJjb3VudCJdLCJzb3VyY2VzIjpbIlJldmlzaW9uT3JjaGVzdHJhdG9yLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlciwgd2FpdEZvciwgZmlyZUV2ZW50LCBhY3QgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgeyBWaWV3LCBUZXh0IH0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCBSZXZpc2lvbk9yY2hlc3RyYXRvciBmcm9tICcuLi8uLi8uLi9zcmMvc2NyZWVucy9Wb2NhYnVsYXJ5UmV2aXNpb24vUmV2aXNpb25PcmNoZXN0cmF0b3InO1xuaW1wb3J0ICogYXMgUmV2aXNpb25TZXR0aW5nc0hvb2sgZnJvbSAnLi4vLi4vLi4vc3JjL2hvb2tzL3VzZVJldmlzaW9uU2V0dGluZ3MnO1xuaW1wb3J0IEFzeW5jU3RvcmFnZSBmcm9tICdAcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UvYXN5bmMtc3RvcmFnZSc7XG5pbXBvcnQgeyByb3V0ZXIgfSBmcm9tICdleHBvLXJvdXRlcic7XG5cbi8vIE1vY2tpbmcgZGVwZW5kZW5jaWVzXG5qZXN0Lm1vY2soJy4uLy4uLy4uL3NyYy9ob29rcy91c2VSZXZpc2lvblNldHRpbmdzJyk7XG5qZXN0Lm1vY2soJ2V4cG8tcm91dGVyJywgKCkgPT4gKHtcbiAgcm91dGVyOiB7XG4gICAgcHVzaDogamVzdC5mbigpLFxuICB9LFxufSkpO1xuamVzdC5tb2NrKCdAcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UvYXN5bmMtc3RvcmFnZScsICgpID0+ICh7XG4gIGdldEl0ZW06IGplc3QuZm4oKSxcbn0pKTtcblxuLy8gTW9jayBkdSBUaGVtZUNvbnRleHRcbmplc3QubW9jaygnLi4vLi4vLi4vc3JjL2NvbnRleHRzL1RoZW1lQ29udGV4dCcsICgpID0+ICh7XG4gIFRoZW1lQ29udGV4dDoge1xuICAgIENvbnN1bWVyOiAoeyBjaGlsZHJlbiB9KSA9PiBjaGlsZHJlbih7XG4gICAgICBjb2xvcnM6IHtcbiAgICAgICAgc3VyZmFjZTogXCIjRkZGRkZGXCIsXG4gICAgICAgIHRleHQ6IFwiIzFGMjkzN1wiLFxuICAgICAgICB0ZXh0U2Vjb25kYXJ5OiBcIiM2QjcyODBcIixcbiAgICAgICAgcHJpbWFyeTogXCIjMTBCOTgxXCIsXG4gICAgICAgIGFjY2VudDogXCIjM0I4MkY2XCIsXG4gICAgICAgIHdhcm5pbmc6IFwiI0Y1OUUwQlwiLFxuICAgICAgfVxuICAgIH0pLFxuICAgIFByb3ZpZGVyOiAoeyBjaGlsZHJlbiwgdmFsdWUgfSkgPT4gY2hpbGRyZW4sXG4gIH0sXG4gIHVzZVRoZW1lOiAoKSA9PiAoe1xuICAgIGNvbG9yczoge1xuICAgICAgc3VyZmFjZTogXCIjRkZGRkZGXCIsXG4gICAgICB0ZXh0OiBcIiMxRjI5MzdcIixcbiAgICAgIHRleHRTZWNvbmRhcnk6IFwiIzZCNzI4MFwiLFxuICAgICAgcHJpbWFyeTogXCIjMTBCOTgxXCIsXG4gICAgICBhY2NlbnQ6IFwiIzNCODJGNlwiLFxuICAgICAgd2FybmluZzogXCIjRjU5RTBCXCIsXG4gICAgfVxuICB9KSxcbn0pKTtcblxuLy8gTW9jayBzaW1wbGUgZGUgUmV2aXNpb25Qb3B1cCBwb3VyIMOpdml0ZXIgbGVzIGFuaW1hdGlvbnNcbmplc3QubW9jaygnLi4vLi4vLi4vc3JjL3NjcmVlbnMvRGFzaGJvYXJkL2NvbXBvbmVudHMvcG9wdXAvUmV2aXNpb25Qb3B1cCcsICgpID0+IHtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBjb25zdCB7IFZpZXcsIFRleHQsIFRvdWNoYWJsZU9wYWNpdHkgfSA9IHJlcXVpcmUoJ3JlYWN0LW5hdGl2ZScpO1xuICBcbiAgcmV0dXJuICh7IHZpc2libGUsIG9uQ2hvaWNlLCBvbkRpc21pc3MsIHRvdGFsV29yZHNMZWFybmVkLCBxdWVzdGlvbnNDb3VudCB9KSA9PiB7XG4gICAgaWYgKCF2aXNpYmxlKSByZXR1cm4gbnVsbDtcbiAgICBcbiAgICByZXR1cm4gKFxuICAgICAgPFZpZXcgdGVzdElEPVwicmV2aXNpb24tcG9wdXBcIj5cbiAgICAgICAgPFRleHQgdGVzdElEPVwicG9wdXAtd29yZHNcIj5Xb3Jkczoge3RvdGFsV29yZHNMZWFybmVkfTwvVGV4dD5cbiAgICAgICAgPFRleHQgdGVzdElEPVwicG9wdXAtcXVlc3Rpb25zXCI+UXVlc3Rpb25zOiB7cXVlc3Rpb25zQ291bnR9PC9UZXh0PlxuICAgICAgICA8VG91Y2hhYmxlT3BhY2l0eSB0ZXN0SUQ9XCJwb3B1cC1ub3dcIiBvblByZXNzPXsoKSA9PiBvbkNob2ljZSgnbm93Jyl9PlxuICAgICAgICAgIDxUZXh0Pk5vdzwvVGV4dD5cbiAgICAgICAgPC9Ub3VjaGFibGVPcGFjaXR5PlxuICAgICAgICA8VG91Y2hhYmxlT3BhY2l0eSB0ZXN0SUQ9XCJwb3B1cC1sYXRlcjUwXCIgb25QcmVzcz17KCkgPT4gb25DaG9pY2UoJ2xhdGVyXzUwJyl9PlxuICAgICAgICAgIDxUZXh0PkxhdGVyIDUwPC9UZXh0PlxuICAgICAgICA8L1RvdWNoYWJsZU9wYWNpdHk+XG4gICAgICAgIDxUb3VjaGFibGVPcGFjaXR5IHRlc3RJRD1cInBvcHVwLWRpc2FibGVcIiBvblByZXNzPXsoKSA9PiBvbkNob2ljZSgnZGlzYWJsZScpfT5cbiAgICAgICAgICA8VGV4dD5EaXNhYmxlPC9UZXh0PlxuICAgICAgICA8L1RvdWNoYWJsZU9wYWNpdHk+XG4gICAgICAgIDxUb3VjaGFibGVPcGFjaXR5IHRlc3RJRD1cInBvcHVwLWRpc21pc3NcIiBvblByZXNzPXtvbkRpc21pc3N9PlxuICAgICAgICAgIDxUZXh0PkRpc21pc3M8L1RleHQ+XG4gICAgICAgIDwvVG91Y2hhYmxlT3BhY2l0eT5cbiAgICAgIDwvVmlldz5cbiAgICApO1xuICB9O1xufSk7XG5cbmRlc2NyaWJlKCdSZXZpc2lvbk9yY2hlc3RyYXRvcicsICgpID0+IHtcbiAgbGV0IG1vY2tVc2VSZXZpc2lvblNldHRpbmdzO1xuXG4gIC8vIEhlbHBlciBwb3VyIGNyw6llciBkZXMgZG9ubsOpZXMgZGUgbW90cyBhcHByaXNcbiAgY29uc3QgY3JlYXRlV29yZHNEYXRhID0gKHdvcmRDb3VudCkgPT4ge1xuICAgIGNvbnN0IGxldmVscyA9IFsnMScsICcyJywgJzMnLCAnNCcsICc1JywgJzYnLCAnYm9udXMnXTtcbiAgICBjb25zdCBtb2RlcyA9IFsnY2xhc3NpYycsICdmYXN0J107XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgXG4gICAgbGV0IHRvdGFsQ3JlYXRlZCA9IDA7XG4gICAgZm9yIChjb25zdCBsZXZlbCBvZiBsZXZlbHMpIHtcbiAgICAgIGZvciAoY29uc3QgbW9kZSBvZiBtb2Rlcykge1xuICAgICAgICBpZiAodG90YWxDcmVhdGVkID49IHdvcmRDb3VudCkgYnJlYWs7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB3b3Jkc0ZvclRoaXNTZWN0aW9uID0gTWF0aC5taW4od29yZENvdW50IC0gdG90YWxDcmVhdGVkLCBNYXRoLmNlaWwod29yZENvdW50IC8gKGxldmVscy5sZW5ndGggKiBtb2Rlcy5sZW5ndGgpKSk7XG4gICAgICAgIHJlc3VsdFtgdm9jYWJ1bGFyeV8ke2xldmVsfV8ke21vZGV9YF0gPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgY29tcGxldGVkV29yZHM6IHtcbiAgICAgICAgICAgIHVuaXQxOiBBcnJheS5mcm9tKHsgbGVuZ3RoOiB3b3Jkc0ZvclRoaXNTZWN0aW9uIH0sIChfLCBpKSA9PiBgd29yZF8ke2xldmVsfV8ke21vZGV9XyR7aX1gKVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRvdGFsQ3JlYXRlZCArPSB3b3Jkc0ZvclRoaXNTZWN0aW9uO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRvdGFsQ3JlYXRlZCA+PSB3b3JkQ291bnQpIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKHRvdGFsQ3JlYXRlZCA+PSB3b3JkQ291bnQpIGJyZWFrO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIC8vIFLDqWluaXRpYWxpc2VyIHRvdXMgbGVzIG1vY2tzIGF2YW50IGNoYXF1ZSB0ZXN0XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gICAgamVzdC51c2VGYWtlVGltZXJzKCk7XG5cbiAgICAvLyBNb2NrIHBhciBkw6lmYXV0IHBvdXIgbGUgaG9vayB1c2VSZXZpc2lvblNldHRpbmdzXG4gICAgbW9ja1VzZVJldmlzaW9uU2V0dGluZ3MgPSB7XG4gICAgICBwcmVmZXJlbmNlczoge1xuICAgICAgICBpc0Rpc2FibGVkOiBmYWxzZSxcbiAgICAgICAgbmV4dFJldmlzaW9uQXQ6IDUwLCAvLyDinIUgQWxpZ27DqSBhdmVjIGxlIGhvb2sgcsOpZWwgKMOpdGFpdCAxMDApXG4gICAgICAgIHF1ZXN0aW9uc0NvdW50OiAxMCxcbiAgICAgICAgZnJlcXVlbmN5OiA1MCxcbiAgICAgIH0sXG4gICAgICBkaXNhYmxlUmV2aXNpb25zOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodHJ1ZSksXG4gICAgICByZXNldFRvTmV4dFRhcmdldDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHRydWUpLFxuICAgICAgdXBkYXRlUHJlZmVyZW5jZXM6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh0cnVlKSxcbiAgICB9O1xuICAgIFJldmlzaW9uU2V0dGluZ3NIb29rLnVzZVJldmlzaW9uU2V0dGluZ3MubW9ja1JldHVyblZhbHVlKG1vY2tVc2VSZXZpc2lvblNldHRpbmdzKTtcblxuICAgIC8vIOKchSBSw4lJTklUSUFMSVNBVElPTiBDT01QTMOIVEUgZCdBc3luY1N0b3JhZ2VcbiAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrUmVzZXQoKTtcbiAgICBcbiAgICAvLyBNb2NrIHBhciBkw6lmYXV0IHBvdXIgQXN5bmNTdG9yYWdlIChwZXUgZGUgbW90cylcbiAgICBjb25zdCBkZWZhdWx0V29yZHNEYXRhID0gY3JlYXRlV29yZHNEYXRhKDMpO1xuICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tJbXBsZW1lbnRhdGlvbigoa2V5KSA9PiB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRlZmF1bHRXb3Jkc0RhdGFba2V5XSB8fCBudWxsKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBqZXN0LnVzZVJlYWxUaW1lcnMoKTtcbiAgfSk7XG5cbiAgaXQoJ25lIHJlbmQgcmllbiBzaSBsZXMgcsOpdmlzaW9ucyBzb250IGTDqXNhY3RpdsOpZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgbW9ja1VzZVJldmlzaW9uU2V0dGluZ3MucHJlZmVyZW5jZXMuaXNEaXNhYmxlZCA9IHRydWU7XG4gICAgUmV2aXNpb25TZXR0aW5nc0hvb2sudXNlUmV2aXNpb25TZXR0aW5ncy5tb2NrUmV0dXJuVmFsdWUobW9ja1VzZVJldmlzaW9uU2V0dGluZ3MpO1xuXG4gICAgY29uc3QgeyBxdWVyeUJ5VGVzdElkIH0gPSByZW5kZXIoPFJldmlzaW9uT3JjaGVzdHJhdG9yIC8+KTtcbiAgICBcbiAgICAvLyBBdHRlbmRyZSBxdWUgbGVzIGRvbm7DqWVzIHNvaWVudCBjaGFyZ8OpZXNcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDIwMDApO1xuICAgIH0pO1xuICAgIFxuICAgIGV4cGVjdChxdWVyeUJ5VGVzdElkKCdyZXZpc2lvbi1wb3B1cCcpKS50b0JlTnVsbCgpO1xuICB9KTtcblxuICBpdCgnbmUgbW9udHJlIHBhcyBsYSBwb3B1cCBzaSBsZSBub21icmUgZGUgbW90cyBlc3QgaW5mw6lyaWV1ciBhdSBzZXVpbCcsIGFzeW5jICgpID0+IHtcbiAgICAvLyBMZSBtb2NrIHBhciBkw6lmYXV0IGEgMyBtb3RzLCBsZSBzZXVpbCBlc3QgbWFpbnRlbmFudCDDoCA1MFxuICAgIGNvbnN0IHsgcXVlcnlCeVRlc3RJZCB9ID0gcmVuZGVyKDxSZXZpc2lvbk9yY2hlc3RyYXRvciAvPik7XG4gICAgXG4gICAgLy8gQXR0ZW5kcmUgcXVlIGxlcyBkb25uw6llcyBzb2llbnQgY2hhcmfDqWVzIGV0IGxlIHRpbWVyIHMnZXjDqWN1dGVcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDIwMDApO1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KHF1ZXJ5QnlUZXN0SWQoJ3JldmlzaW9uLXBvcHVwJykpLnRvQmVOdWxsKCk7XG4gIH0pO1xuXG4gIGl0KCdtb250cmUgbGEgcG9wdXAgcXVhbmQgbGUgbm9tYnJlIGRlIG1vdHMgYXR0ZWludCBsZSBzZXVpbCcsIGFzeW5jICgpID0+IHtcbiAgICAvLyBDb25maWd1cmVyIEFzeW5jU3RvcmFnZSBwb3VyIHJldG91cm5lciA2MCBtb3RzICjiiaUgNTApXG4gICAgY29uc3Qgd29yZHNEYXRhID0gY3JlYXRlV29yZHNEYXRhKDYwKTtcbiAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrSW1wbGVtZW50YXRpb24oKGtleSkgPT4ge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh3b3Jkc0RhdGFba2V5XSB8fCBudWxsKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQsIGdldEJ5VGV4dCwgcXVlcnlCeVRlc3RJZCB9ID0gcmVuZGVyKDxSZXZpc2lvbk9yY2hlc3RyYXRvciAvPik7XG4gICAgXG4gICAgLy8gQXR0ZW5kcmUgcXVlIGxlcyBkb25uw6llcyBBc3luY1N0b3JhZ2Ugc29pZW50IGNoYXJnw6llc1xuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KEFzeW5jU3RvcmFnZS5nZXRJdGVtKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICAvLyBBdHRlbmRyZSBxdWUgbGVzIGRvbm7DqWVzIHNvaWVudCBjaGFyZ8OpZXMgZXQgbGUgdGltZXIgcydleMOpY3V0ZVxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMjAwMCk7IC8vIETDqXBhc3NlIGxlIGTDqWxhaSBkZSAxMDAwbXMgZHUgc2V0VGltZW91dFxuICAgIH0pO1xuXG4gICAgLy8gQXR0ZW5kcmUgcXVlIGxhIHBvcHVwIHNvaXQgcmVuZHVlXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QocXVlcnlCeVRlc3RJZCgncmV2aXNpb24tcG9wdXAnKSkudG9CZVRydXRoeSgpO1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KGdldEJ5VGV4dCgnV29yZHM6IDYwJykpLnRvQmVUcnV0aHkoKTtcbiAgICBleHBlY3QoZ2V0QnlUZXh0KCdRdWVzdGlvbnM6IDEwJykpLnRvQmVUcnV0aHkoKTtcbiAgfSk7XG5cbiAgaXQoJ2FwcGVsbGUgcmVzZXRUb05leHRUYXJnZXQgZXQgbmF2aWd1ZSBxdWFuZCBcIm5vd1wiIGVzdCBjaG9pc2knLCBhc3luYyAoKSA9PiB7XG4gICAgLy8g4pyFIEZPUkNFUiBsYSByw6lpbml0aWFsaXNhdGlvbiBkJ0FzeW5jU3RvcmFnZVxuICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tSZXNldCgpO1xuICAgIFxuICAgIC8vIENvbmZpZ3VyZXIgQXN5bmNTdG9yYWdlIHBvdXIgcmV0b3VybmVyIDYwIG1vdHNcbiAgICBjb25zdCB3b3Jkc0RhdGEgPSBjcmVhdGVXb3Jkc0RhdGEoNjApO1xuICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tJbXBsZW1lbnRhdGlvbigoa2V5KSA9PiB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHdvcmRzRGF0YVtrZXldIHx8IG51bGwpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgeyBnZXRCeVRlc3RJZCwgcXVlcnlCeVRlc3RJZCB9ID0gcmVuZGVyKDxSZXZpc2lvbk9yY2hlc3RyYXRvciBjdXJyZW50TGV2ZWw9XCJBMVwiIC8+KTtcbiAgICBcbiAgICAvLyBBdHRlbmRyZSBxdWUgbGEgcG9wdXAgYXBwYXJhaXNzZVxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMzAwMCk7XG4gICAgfSk7XG5cbiAgICAvLyBBdHRlbmRyZSBxdWUgbGEgcG9wdXAgc29pdCByZW5kdWVcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChxdWVyeUJ5VGVzdElkKCdyZXZpc2lvbi1wb3B1cCcpKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBub3dCdXR0b24gPSBnZXRCeVRlc3RJZCgncG9wdXAtbm93Jyk7XG4gICAgXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhub3dCdXR0b24pO1xuICAgIH0pO1xuXG4gICAgLy8gVsOpcmlmaWVyIGxlcyBhcHBlbHNcbiAgICBleHBlY3QobW9ja1VzZVJldmlzaW9uU2V0dGluZ3MucmVzZXRUb05leHRUYXJnZXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKDYwKTtcbiAgICBleHBlY3Qocm91dGVyLnB1c2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgIHBhdGhuYW1lOiBcIi90YWJzL3ZvY2FidWxhcnlSZXZpc2lvblwiLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIGxldmVsOiBcIkExXCIsXG4gICAgICAgIHF1ZXN0aW9uc0NvdW50OiAxMCxcbiAgICAgICAgc291cmNlOiAncG9wdXBfdHJpZ2dlcicsXG4gICAgICB9LFxuICAgIH0pO1xuICB9KTtcblxuICBpdCgnYXBwZWxsZSB1cGRhdGVQcmVmZXJlbmNlcyBxdWFuZCBcImxhdGVyXzUwXCIgZXN0IGNob2lzaScsIGFzeW5jICgpID0+IHtcbiAgICAvLyDinIUgRk9SQ0VSIGxhIHLDqWluaXRpYWxpc2F0aW9uIGQnQXN5bmNTdG9yYWdlXG4gICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1Jlc2V0KCk7XG4gICAgXG4gICAgY29uc3Qgd29yZHNEYXRhID0gY3JlYXRlV29yZHNEYXRhKDYwKTtcbiAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrSW1wbGVtZW50YXRpb24oKGtleSkgPT4ge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh3b3Jkc0RhdGFba2V5XSB8fCBudWxsKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQsIHF1ZXJ5QnlUZXN0SWQgfSA9IHJlbmRlcig8UmV2aXNpb25PcmNoZXN0cmF0b3IgLz4pO1xuICAgIFxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMzAwMCk7XG4gICAgfSk7XG5cbiAgICAvLyBBdHRlbmRyZSBxdWUgbGEgcG9wdXAgc29pdCByZW5kdWVcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChxdWVyeUJ5VGVzdElkKCdyZXZpc2lvbi1wb3B1cCcpKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBsYXRlckJ1dHRvbiA9IGdldEJ5VGVzdElkKCdwb3B1cC1sYXRlcjUwJyk7XG4gICAgXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhsYXRlckJ1dHRvbik7XG4gICAgfSk7XG5cbiAgICAvLyBWw6lyaWZpZXIgbCdhcHBlbCAtIDYwIG1vdHMgKyA1MCA9IDExMFxuICAgIGV4cGVjdChtb2NrVXNlUmV2aXNpb25TZXR0aW5ncy51cGRhdGVQcmVmZXJlbmNlcykudG9IYXZlQmVlbkNhbGxlZFdpdGgoeyBcbiAgICAgIG5leHRSZXZpc2lvbkF0OiAxMTAgXG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdhcHBlbGxlIGRpc2FibGVSZXZpc2lvbnMgcXVhbmQgXCJkaXNhYmxlXCIgZXN0IGNob2lzaScsIGFzeW5jICgpID0+IHtcbiAgICAvLyDinIUgRk9SQ0VSIGxhIHLDqWluaXRpYWxpc2F0aW9uIGQnQXN5bmNTdG9yYWdlXG4gICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1Jlc2V0KCk7XG4gICAgXG4gICAgY29uc3Qgd29yZHNEYXRhID0gY3JlYXRlV29yZHNEYXRhKDYwKTtcbiAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrSW1wbGVtZW50YXRpb24oKGtleSkgPT4ge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh3b3Jkc0RhdGFba2V5XSB8fCBudWxsKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcig8UmV2aXNpb25PcmNoZXN0cmF0b3IgLz4pO1xuICAgIFxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMzAwMCk7XG4gICAgfSk7XG5cbiAgICAvLyBWw6lyaWZpZXIgcXVlIGxhIHBvcHVwIGVzdCB2aXNpYmxlXG4gICAgY29uc3QgcG9wdXAgPSBnZXRCeVRlc3RJZCgncmV2aXNpb24tcG9wdXAnKTtcbiAgICBleHBlY3QocG9wdXApLnRvQmVUcnV0aHkoKTtcblxuICAgIGNvbnN0IGRpc2FibGVCdXR0b24gPSBnZXRCeVRlc3RJZCgncG9wdXAtZGlzYWJsZScpO1xuICAgIFxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBmaXJlRXZlbnQucHJlc3MoZGlzYWJsZUJ1dHRvbik7XG4gICAgfSk7XG5cbiAgICAvLyBWw6lyaWZpZXIgbCdhcHBlbFxuICAgIGV4cGVjdChtb2NrVXNlUmV2aXNpb25TZXR0aW5ncy5kaXNhYmxlUmV2aXNpb25zKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gIH0pO1xuXG4gIGl0KCdnw6hyZSBsYSBmZXJtZXR1cmUgKGRpc21pc3MpIGVuIGNob2lzaXNzYW50IFwibGF0ZXJfNTBcIiBwYXIgZMOpZmF1dCcsIGFzeW5jICgpID0+IHtcbiAgICAvLyDinIUgRk9SQ0VSIGxhIHLDqWluaXRpYWxpc2F0aW9uIGQnQXN5bmNTdG9yYWdlXG4gICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1Jlc2V0KCk7XG4gICAgXG4gICAgY29uc3Qgd29yZHNEYXRhID0gY3JlYXRlV29yZHNEYXRhKDYwKTtcbiAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrSW1wbGVtZW50YXRpb24oKGtleSkgPT4ge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh3b3Jkc0RhdGFba2V5XSB8fCBudWxsKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcig8UmV2aXNpb25PcmNoZXN0cmF0b3IgLz4pO1xuICAgIFxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMzAwMCk7XG4gICAgfSk7XG5cbiAgICAvLyBWw6lyaWZpZXIgcXVlIGxhIHBvcHVwIGVzdCB2aXNpYmxlXG4gICAgY29uc3QgcG9wdXAgPSBnZXRCeVRlc3RJZCgncmV2aXNpb24tcG9wdXAnKTtcbiAgICBleHBlY3QocG9wdXApLnRvQmVUcnV0aHkoKTtcblxuICAgIGNvbnN0IGRpc21pc3NCdXR0b24gPSBnZXRCeVRlc3RJZCgncG9wdXAtZGlzbWlzcycpO1xuICAgIFxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBmaXJlRXZlbnQucHJlc3MoZGlzbWlzc0J1dHRvbik7XG4gICAgfSk7XG5cbiAgICAvLyBWw6lyaWZpZXIgbCdhcHBlbCAtIDYwIG1vdHMgKyA1MCA9IDExMFxuICAgIGV4cGVjdChtb2NrVXNlUmV2aXNpb25TZXR0aW5ncy51cGRhdGVQcmVmZXJlbmNlcykudG9IYXZlQmVlbkNhbGxlZFdpdGgoeyBcbiAgICAgIG5leHRSZXZpc2lvbkF0OiAxMTAgXG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIFRlc3QgZGUgZGVidWdnaW5nIHBvdXIgY29tcHJlbmRyZSBsZSBjb21wb3J0ZW1lbnRcbiAgaXQoJ2RlYnVnIC0gdsOpcmlmaWUgbGVzIGNvbmRpdGlvbnMgZGUgbGEgcG9wdXAnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qgd29yZHNEYXRhID0gY3JlYXRlV29yZHNEYXRhKDYwKTtcbiAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrSW1wbGVtZW50YXRpb24oKGtleSkgPT4ge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh3b3Jkc0RhdGFba2V5XSB8fCBudWxsKTtcbiAgICB9KTtcblxuICAgIC8vIEVzcGlvbm5lciBsZXMgYXBwZWxzIEFzeW5jU3RvcmFnZVxuICAgIGNvbnN0IGdldEl0ZW1TcHkgPSBqZXN0LnNweU9uKEFzeW5jU3RvcmFnZSwgJ2dldEl0ZW0nKTtcblxuICAgIGNvbnN0IFRlc3RDb21wb25lbnQgPSAoKSA9PiB7XG4gICAgICBjb25zdCBbZGVidWdJbmZvLCBzZXREZWJ1Z0luZm9dID0gUmVhY3QudXNlU3RhdGUoe30pO1xuICAgICAgY29uc3QgeyBwcmVmZXJlbmNlcyB9ID0gUmV2aXNpb25TZXR0aW5nc0hvb2sudXNlUmV2aXNpb25TZXR0aW5ncygpO1xuICAgICAgXG4gICAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBjb3VudFdvcmRzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGxldCB0b3RhbCA9IDA7XG4gICAgICAgICAgY29uc3QgbGV2ZWxzID0gWycxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICdib251cyddO1xuICAgICAgICAgIGNvbnN0IG1vZGVzID0gWydjbGFzc2ljJywgJ2Zhc3QnXTtcblxuICAgICAgICAgIGZvciAoY29uc3QgbGV2ZWwgb2YgbGV2ZWxzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1vZGUgb2YgbW9kZXMpIHtcbiAgICAgICAgICAgICAgY29uc3Qgc3RvcmVkID0gYXdhaXQgQXN5bmNTdG9yYWdlLmdldEl0ZW0oYHZvY2FidWxhcnlfJHtsZXZlbH1fJHttb2RlfWApO1xuICAgICAgICAgICAgICBpZiAoc3RvcmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2Uoc3RvcmVkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21wbGV0ZWRXb3JkcyA9IGRhdGEuY29tcGxldGVkV29yZHMgfHwge307XG4gICAgICAgICAgICAgICAgdG90YWwgKz0gT2JqZWN0LnZhbHVlcyhjb21wbGV0ZWRXb3JkcykucmVkdWNlKChhY2MsIHdvcmRzKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh3b3JkcykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYyArIHdvcmRzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgc2V0RGVidWdJbmZvKHtcbiAgICAgICAgICAgIHRvdGFsV29yZHM6IHRvdGFsLFxuICAgICAgICAgICAgaXNEaXNhYmxlZDogcHJlZmVyZW5jZXMuaXNEaXNhYmxlZCxcbiAgICAgICAgICAgIG5leHRSZXZpc2lvbkF0OiBwcmVmZXJlbmNlcy5uZXh0UmV2aXNpb25BdCxcbiAgICAgICAgICAgIHNob3VsZFNob3c6ICFwcmVmZXJlbmNlcy5pc0Rpc2FibGVkICYmIHRvdGFsID49IHByZWZlcmVuY2VzLm5leHRSZXZpc2lvbkF0ICYmIHRvdGFsID4gMFxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvdW50V29yZHMoKTtcbiAgICAgIH0sIFtwcmVmZXJlbmNlc10pO1xuXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8VmlldyB0ZXN0SUQ9XCJkZWJ1Zy1pbmZvXCI+XG4gICAgICAgICAgPFRleHQgdGVzdElEPVwiZGVidWctdG90YWxcIj57ZGVidWdJbmZvLnRvdGFsV29yZHN9PC9UZXh0PlxuICAgICAgICAgIDxUZXh0IHRlc3RJRD1cImRlYnVnLWRpc2FibGVkXCI+e1N0cmluZyhkZWJ1Z0luZm8uaXNEaXNhYmxlZCl9PC9UZXh0PlxuICAgICAgICAgIDxUZXh0IHRlc3RJRD1cImRlYnVnLXRocmVzaG9sZFwiPntkZWJ1Z0luZm8ubmV4dFJldmlzaW9uQXR9PC9UZXh0PlxuICAgICAgICAgIDxUZXh0IHRlc3RJRD1cImRlYnVnLXNob3VsZC1zaG93XCI+e1N0cmluZyhkZWJ1Z0luZm8uc2hvdWxkU2hvdyl9PC9UZXh0PlxuICAgICAgICA8L1ZpZXc+XG4gICAgICApO1xuICAgIH07XG5cbiAgICBjb25zdCB7IGdldEJ5VGVzdElkIH0gPSByZW5kZXIoPFRlc3RDb21wb25lbnQgLz4pO1xuICAgIFxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KGdldEl0ZW1TcHkpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMTAwMCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCB0b3RhbFdvcmRzID0gZ2V0QnlUZXN0SWQoJ2RlYnVnLXRvdGFsJykuY2hpbGRyZW5bMF07XG4gICAgY29uc3QgaXNEaXNhYmxlZCA9IGdldEJ5VGVzdElkKCdkZWJ1Zy1kaXNhYmxlZCcpLmNoaWxkcmVuWzBdO1xuICAgIGNvbnN0IHRocmVzaG9sZCA9IGdldEJ5VGVzdElkKCdkZWJ1Zy10aHJlc2hvbGQnKS5jaGlsZHJlblswXTtcbiAgICBjb25zdCBzaG91bGRTaG93ID0gZ2V0QnlUZXN0SWQoJ2RlYnVnLXNob3VsZC1zaG93JykuY2hpbGRyZW5bMF07XG5cbiAgICBjb25zb2xlLmxvZygnRGVidWcgaW5mbzonLCB7XG4gICAgICB0b3RhbFdvcmRzLFxuICAgICAgaXNEaXNhYmxlZCxcbiAgICAgIHRocmVzaG9sZCxcbiAgICAgIHNob3VsZFNob3dcbiAgICB9KTtcblxuICAgIGV4cGVjdCh0b3RhbFdvcmRzKS50b0JlKCc2MCcpO1xuICAgIGV4cGVjdChpc0Rpc2FibGVkKS50b0JlKCdmYWxzZScpO1xuICAgIGV4cGVjdCh0aHJlc2hvbGQpLnRvQmUoJzUwJyk7XG4gICAgZXhwZWN0KHNob3VsZFNob3cpLnRvQmUoJ3RydWUnKTtcbiAgfSk7XG5cbiAgLy8gVGVzdCBzdXBwbMOpbWVudGFpcmUgcG91ciB2w6lyaWZpZXIgbGUgY29tcHRhZ2UgZGVzIG1vdHNcbiAgaXQoJ2NvbXB0ZSBjb3JyZWN0ZW1lbnQgbGVzIG1vdHMgZGVwdWlzIEFzeW5jU3RvcmFnZScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB3b3Jkc0RhdGEgPSBjcmVhdGVXb3Jkc0RhdGEoMzUpO1xuICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tJbXBsZW1lbnRhdGlvbigoa2V5KSA9PiB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHdvcmRzRGF0YVtrZXldIHx8IG51bGwpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgeyBxdWVyeUJ5VGVzdElkIH0gPSByZW5kZXIoPFJldmlzaW9uT3JjaGVzdHJhdG9yIC8+KTtcbiAgICBcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDIwMDApO1xuICAgIH0pO1xuXG4gICAgLy8gQXZlYyAzNSBtb3RzIGV0IHVuIHNldWlsIMOgIDUwLCBsYSBwb3B1cCBuZSBkb2l0IHBhcyBhcHBhcmHDrnRyZVxuICAgIGV4cGVjdChxdWVyeUJ5VGVzdElkKCdyZXZpc2lvbi1wb3B1cCcpKS50b0JlTnVsbCgpO1xuICAgIFxuICAgIC8vIFbDqXJpZmllciBxdWUgQXN5bmNTdG9yYWdlIGEgw6l0w6kgYXBwZWzDqSBwb3VyIHRvdXMgbGVzIG5pdmVhdXgvbW9kZXNcbiAgICBjb25zdCBleHBlY3RlZENhbGxzID0gWycxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICdib251cyddXG4gICAgICAuZmxhdE1hcChsZXZlbCA9PiBbJ2NsYXNzaWMnLCAnZmFzdCddLm1hcChtb2RlID0+IGB2b2NhYnVsYXJ5XyR7bGV2ZWx9XyR7bW9kZX1gKSk7XG4gICAgXG4gICAgZXhwZWN0ZWRDYWxscy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBleHBlY3QoQXN5bmNTdG9yYWdlLmdldEl0ZW0pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGtleSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIFRlc3QgZGUgZGVidWcgcG91ciB2w6lyaWZpZXIgbCfDqXRhdCBkdSBjb21wb3NhbnQgUmV2aXNpb25PcmNoZXN0cmF0b3JcbiAgaXQoJ2RlYnVnIC0gdsOpcmlmaWUgbFxcJ8OpdGF0IGR1IGNvbXBvc2FudCBSZXZpc2lvbk9yY2hlc3RyYXRvcicsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB3b3Jkc0RhdGEgPSBjcmVhdGVXb3Jkc0RhdGEoNjApO1xuICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tJbXBsZW1lbnRhdGlvbigoa2V5KSA9PiB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHdvcmRzRGF0YVtrZXldIHx8IG51bGwpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgeyBnZXRCeVRlc3RJZCwgcXVlcnlCeVRlc3RJZCwgZGVidWcgfSA9IHJlbmRlcig8UmV2aXNpb25PcmNoZXN0cmF0b3IgLz4pO1xuICAgIFxuICAgIC8vIEF0dGVuZHJlIHF1ZSBsZXMgZG9ubsOpZXMgc29pZW50IGNoYXJnw6llc1xuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMTAwMCk7XG4gICAgfSk7XG5cbiAgICBjb25zb2xlLmxvZygnPT09IMOJVEFUIElOSVRJQUwgPT09Jyk7XG4gICAgY29uc29sZS5sb2coJ1BvcHVwIHZpc2libGU6JywgcXVlcnlCeVRlc3RJZCgncmV2aXNpb24tcG9wdXAnKSA/ICdPVUknIDogJ05PTicpO1xuICAgIGRlYnVnKCk7XG5cbiAgICAvLyBBdHRlbmRyZSBxdWUgbGEgcG9wdXAgYXBwYXJhaXNzZVxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMjAwMCk7XG4gICAgfSk7XG5cbiAgICBjb25zb2xlLmxvZygnPT09IEFQUsOIUyAzIFNFQ09OREVTID09PScpO1xuICAgIGNvbnNvbGUubG9nKCdQb3B1cCB2aXNpYmxlOicsIHF1ZXJ5QnlUZXN0SWQoJ3JldmlzaW9uLXBvcHVwJykgPyAnT1VJJyA6ICdOT04nKTtcbiAgICBkZWJ1ZygpO1xuXG4gICAgLy8gVsOpcmlmaWVyIHF1ZSBsYSBwb3B1cCBlc3QgdmlzaWJsZVxuICAgIGNvbnN0IHBvcHVwID0gcXVlcnlCeVRlc3RJZCgncmV2aXNpb24tcG9wdXAnKTtcbiAgICBleHBlY3QocG9wdXApLnRvQmVUcnV0aHkoKTtcbiAgfSk7XG5cbiAgLy8gVGVzdCBwb3VyIHbDqXJpZmllciBsZSBtb2NrIEFzeW5jU3RvcmFnZVxuICBpdCgnZGVidWcgLSB2w6lyaWZpZSBsZSBtb2NrIEFzeW5jU3RvcmFnZScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB3b3Jkc0RhdGEgPSBjcmVhdGVXb3Jkc0RhdGEoNjApO1xuICAgIGNvbnNvbGUubG9nKCc9PT0gRE9OTsOJRVMgQ1LDicOJRVMgPT09Jyk7XG4gICAgY29uc29sZS5sb2coJ1dvcmRzIGRhdGE6Jywgd29yZHNEYXRhKTtcbiAgICBcbiAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrSW1wbGVtZW50YXRpb24oKGtleSkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gd29yZHNEYXRhW2tleV0gfHwgbnVsbDtcbiAgICAgIGNvbnNvbGUubG9nKGBBc3luY1N0b3JhZ2UuZ2V0SXRlbShcIiR7a2V5fVwiKSDihpJgLCByZXN1bHQpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgIH0pO1xuXG4gICAgLy8gU2ltdWxlciBsZXMgYXBwZWxzXG4gICAgY29uc3QgbGV2ZWxzID0gWycxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICdib251cyddO1xuICAgIGNvbnN0IG1vZGVzID0gWydjbGFzc2ljJywgJ2Zhc3QnXTtcbiAgICBcbiAgICBsZXQgdG90YWwgPSAwO1xuICAgIGZvciAoY29uc3QgbGV2ZWwgb2YgbGV2ZWxzKSB7XG4gICAgICBmb3IgKGNvbnN0IG1vZGUgb2YgbW9kZXMpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gYHZvY2FidWxhcnlfJHtsZXZlbH1fJHttb2RlfWA7XG4gICAgICAgIGNvbnN0IHN0b3JlZCA9IGF3YWl0IEFzeW5jU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICAgIGlmIChzdG9yZWQpIHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShzdG9yZWQpO1xuICAgICAgICAgIGNvbnN0IGNvbXBsZXRlZFdvcmRzID0gZGF0YS5jb21wbGV0ZWRXb3JkcyB8fCB7fTtcbiAgICAgICAgICBjb25zdCBjb3VudCA9IE9iamVjdC52YWx1ZXMoY29tcGxldGVkV29yZHMpLnJlZHVjZSgoYWNjLCB3b3JkcykgPT4ge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkod29yZHMpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBhY2MgKyB3b3Jkcy5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgIH0sIDApO1xuICAgICAgICAgIHRvdGFsICs9IGNvdW50O1xuICAgICAgICAgIGNvbnNvbGUubG9nKGAke2tleX06ICR7Y291bnR9IG1vdHNgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygnVG90YWwgY2FsY3Vsw6k6JywgdG90YWwpO1xuICAgIGV4cGVjdCh0b3RhbCkudG9CZSg2MCk7XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQVNBQSxXQUFBLEdBQUtDLElBQUksQ0FBQyx3Q0FBd0MsQ0FBQztBQUNuREQsV0FBQSxHQUFLQyxJQUFJLENBQUMsYUFBYSxFQUFFO0VBQUEsT0FBTztJQUM5QkMsTUFBTSxFQUFFO01BQ05DLElBQUksRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUM7SUFDaEI7RUFDRixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBQ0hMLFdBQUEsR0FBS0MsSUFBSSxDQUFDLDJDQUEyQyxFQUFFO0VBQUEsT0FBTztJQUM1REssT0FBTyxFQUFFRixJQUFJLENBQUNDLEVBQUUsQ0FBQztFQUNuQixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBR0hMLFdBQUEsR0FBS0MsSUFBSSxDQUFDLG9DQUFvQyxFQUFFO0VBQUEsT0FBTztJQUNyRE0sWUFBWSxFQUFFO01BQ1pDLFFBQVEsRUFBRSxTQUFWQSxRQUFRQSxDQUFBQyxJQUFBO1FBQUEsSUFBS0MsUUFBUSxHQUFBRCxJQUFBLENBQVJDLFFBQVE7UUFBQSxPQUFPQSxRQUFRLENBQUM7VUFDbkNDLE1BQU0sRUFBRTtZQUNOQyxPQUFPLEVBQUUsU0FBUztZQUNsQkMsSUFBSSxFQUFFLFNBQVM7WUFDZkMsYUFBYSxFQUFFLFNBQVM7WUFDeEJDLE9BQU8sRUFB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QUFNLEVBQUVwQyxNQUFNLENBQUM7TUFDdkQsT0FBT3FDLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDdEMsTUFBTSxDQUFDO0lBQ2hDLENBQUMsQ0FBQztJQUdGLElBQU1GLE1BQU0sR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLE9BQU8sQ0FBQztJQUN0RCxJQUFNQyxLQUFLLEdBQUcsQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDO0lBRWpDLElBQUlzRixLQUFLLEdBQUcsQ0FBQztJQUNiLEtBQUssSUFBTWxGLEtBQUssSUFBSUwsTUFBTSxFQUFFO01BQzFCLEtBQUssSUFBTU8sSUFBSSxJQUFJTixLQUFLLEVBQUU7UUFDeEIsSUFBTXFDLEdBQUcsR0FBRyxjQUFjakMsS0FBSyxJQUFJRSxJQUFJLEVBQUU7UUFDekMsSUFBTWlGLE1BQU0sU0FBU3RELHFCQUFZLENBQUN2RyxPQUFPLENBQUMyRyxHQUFHLENBQUM7UUFDOUMsSUFBSWtELE1BQU0sRUFBRTtVQUNWLElBQU1DLElBQUksR0FBRzVFLElBQUksQ0FBQzZFLEtBQUssQ0FBQ0YsTUFBTSxDQUFDO1VBQy9CLElBQU16RSxjQUFjLEdBQUcwRSxJQUFJLENBQUMxRSxjQUFjLElBQUksQ0FBQyxDQUFDO1VBQ2hELElBQU1rRyxLQUFLLEdBQUd6SCxNQUFNLENBQUNtRyxNQUFNLENBQUM1RSxjQUFjLENBQUMsQ0FBQzZFLE1BQU0sQ0FBQyxVQUFDQyxHQUFHLEVBQUVDLEtBQUssRUFBSztZQUNqRSxJQUFJN0UsS0FBSyxDQUFDOEUsT0FBTyxDQUFDRCxLQUFLLENBQUMsRUFBRTtjQUN4QixPQUFPRCxHQUFHLEdBQUdDLEtBQUssQ0FBQ2xGLE1BQU07WUFDM0I7WUFDQSxPQUFPaUYsR0FBRztVQUNaLENBQUMsRUFBRSxDQUFDLENBQUM7VUFDTE4sS0FBSyxJQUFJMEIsS0FBSztVQUNkVixPQUFPLENBQUNDLEdBQUcsQ0FBQyxHQUFHbEUsR0FBRyxLQUFLMkUsS0FBSyxPQUFPLENBQUM7UUFDdEM7TUFDRjtJQUNGO0lBRUFWLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGdCQUFnQixFQUFFakIsS0FBSyxDQUFDO0lBQ3BDdEMsTUFBTSxDQUFDc0MsS0FBSyxDQUFDLENBQUNrQixJQUFJLENBQUMsRUFBRSxDQUFDO0VBQ3hCLENBQUMsRUFBQztBQUNKLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==