46e26a82ae14259c499b28b7855fa705
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _ExerciseCard = _interopRequireDefault(require("../../../src/components/exercise-common/ExerciseCard"));
var _jsxRuntime = require("react/jsx-runtime");
describe("ExerciseCard", function () {
  var baseProps = {
    title: "Titre de l'exercice",
    description: "Description de l'exercice",
    icon: "ðŸ“š",
    progress: 0,
    onPress: jest.fn()
  };
  it("renders title, description and icon correctly", function () {
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ExerciseCard.default, Object.assign({}, baseProps))),
      getByText = _render.getByText;
    expect(getByText(baseProps.title)).toBeTruthy();
    expect(getByText(baseProps.description)).toBeTruthy();
    expect(getByText(baseProps.icon)).toBeTruthy();
  });
  it("renders progress bar with correct width if progress > 0", function () {
    var progress = 45;
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ExerciseCard.default, Object.assign({}, baseProps, {
        progress: progress
      }))),
      getByText = _render2.getByText,
      getByTestId = _render2.getByTestId;
    expect(getByText(`${progress}%`)).toBeTruthy();
    var progressFill = getByTestId("progress-fill");
    expect(progressFill.props.style).toEqual(expect.arrayContaining([expect.objectContaining({
      width: `${progress}%`
    })]));
  });
  it("renders 'Nouveau' badge if isNew and progress is 0", function () {
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ExerciseCard.default, Object.assign({}, baseProps, {
        progress: 0,
        isNew: true
      }))),
      getByText = _render3.getByText;
    expect(getByText("Nouveau")).toBeTruthy();
  });
  it("does not render progress or badge if progress = 0 and isNew = false", function () {
    var _render4 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ExerciseCard.default, Object.assign({}, baseProps, {
        progress: 0,
        isNew: false
      }))),
      queryByText = _render4.queryByText;
    expect(queryByText("Nouveau")).toBeNull();
    expect(queryByText("%")).toBeNull();
  });
  it("calls onPress when card is pressed", function () {
    var onPressMock = jest.fn();
    var _render5 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ExerciseCard.default, Object.assign({}, baseProps, {
        onPress: onPressMock
      }))),
      getByText = _render5.getByText;
    _reactNative.fireEvent.press(getByText(baseProps.title));
    expect(onPressMock).toHaveBeenCalled();
  });
  it("calls onPress when 'Commencer' button is pressed", function () {
    var onPressMock = jest.fn();
    var _render6 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ExerciseCard.default, Object.assign({}, baseProps, {
        onPress: onPressMock
      }))),
      getByText = _render6.getByText;
    _reactNative.fireEvent.press(getByText("Commencer"));
    expect(onPressMock).toHaveBeenCalled();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdE5hdGl2ZSIsIl9FeGVyY2lzZUNhcmQiLCJfanN4UnVudGltZSIsImRlc2NyaWJlIiwiYmFzZVByb3BzIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImljb24iLCJwcm9ncmVzcyIsIm9uUHJlc3MiLCJqZXN0IiwiZm4iLCJpdCIsIl9yZW5kZXIiLCJyZW5kZXIiLCJqc3giLCJkZWZhdWx0IiwiT2JqZWN0IiwiYXNzaWduIiwiZ2V0QnlUZXh0IiwiZXhwZWN0IiwidG9CZVRydXRoeSIsIl9yZW5kZXIyIiwiZ2V0QnlUZXN0SWQiLCJwcm9ncmVzc0ZpbGwiLCJwcm9wcyIsInN0eWxlIiwidG9FcXVhbCIsImFycmF5Q29udGFpbmluZyIsIm9iamVjdENvbnRhaW5pbmciLCJ3aWR0aCIsIl9yZW5kZXIzIiwiaXNOZXciLCJfcmVuZGVyNCIsInF1ZXJ5QnlUZXh0IiwidG9CZU51bGwiLCJvblByZXNzTW9jayIsIl9yZW5kZXI1IiwiZmlyZUV2ZW50IiwicHJlc3MiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwiX3JlbmRlcjYiXSwic291cmNlcyI6WyJFeGVyY2lzZUNhcmQudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBfX3Rlc3RzX18vY29tcG9uZW50cy9leGVyY2lzZS1jb21tb24vRXhlcmNpc2VDYXJkLnRlc3QuanNcclxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyByZW5kZXIsIGZpcmVFdmVudCB9IGZyb20gXCJAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZVwiO1xyXG5pbXBvcnQgRXhlcmNpc2VDYXJkIGZyb20gXCIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9leGVyY2lzZS1jb21tb24vRXhlcmNpc2VDYXJkXCI7XHJcblxyXG5kZXNjcmliZShcIkV4ZXJjaXNlQ2FyZFwiLCAoKSA9PiB7XHJcbiAgY29uc3QgYmFzZVByb3BzID0ge1xyXG4gICAgdGl0bGU6IFwiVGl0cmUgZGUgbCdleGVyY2ljZVwiLFxyXG4gICAgZGVzY3JpcHRpb246IFwiRGVzY3JpcHRpb24gZGUgbCdleGVyY2ljZVwiLFxyXG4gICAgaWNvbjogXCLwn5OaXCIsXHJcbiAgICBwcm9ncmVzczogMCxcclxuICAgIG9uUHJlc3M6IGplc3QuZm4oKSxcclxuICB9O1xyXG5cclxuICBpdChcInJlbmRlcnMgdGl0bGUsIGRlc2NyaXB0aW9uIGFuZCBpY29uIGNvcnJlY3RseVwiLCAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyKDxFeGVyY2lzZUNhcmQgey4uLmJhc2VQcm9wc30gLz4pO1xyXG4gICAgZXhwZWN0KGdldEJ5VGV4dChiYXNlUHJvcHMudGl0bGUpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICBleHBlY3QoZ2V0QnlUZXh0KGJhc2VQcm9wcy5kZXNjcmlwdGlvbikpLnRvQmVUcnV0aHkoKTtcclxuICAgIGV4cGVjdChnZXRCeVRleHQoYmFzZVByb3BzLmljb24pKS50b0JlVHJ1dGh5KCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KFwicmVuZGVycyBwcm9ncmVzcyBiYXIgd2l0aCBjb3JyZWN0IHdpZHRoIGlmIHByb2dyZXNzID4gMFwiLCAoKSA9PiB7XHJcbiAgICBjb25zdCBwcm9ncmVzcyA9IDQ1O1xyXG4gICAgY29uc3QgeyBnZXRCeVRleHQsIGdldEJ5VGVzdElkIH0gPSByZW5kZXIoXHJcbiAgICAgIDxFeGVyY2lzZUNhcmQgey4uLmJhc2VQcm9wc30gcHJvZ3Jlc3M9e3Byb2dyZXNzfSAvPlxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBWw6lyaWZpZSBxdWUgbGUgdGV4dGUgZGUgcHJvZ3Jlc3Npb24gZXN0IHZpc2libGVcclxuICAgIGV4cGVjdChnZXRCeVRleHQoYCR7cHJvZ3Jlc3N9JWApKS50b0JlVHJ1dGh5KCk7XHJcblxyXG4gICAgLy8gT24gZG9pdCBham91dGVyIHVuIHRlc3RJRCBkYW5zIEV4ZXJjaXNlQ2FyZCBzdXIgbGEgVmlldyBwcm9ncmVzc0ZpbGwgcG91ciBjZXR0ZSBhc3NlcnRpb25cclxuICAgIGNvbnN0IHByb2dyZXNzRmlsbCA9IGdldEJ5VGVzdElkKFwicHJvZ3Jlc3MtZmlsbFwiKTtcclxuICAgIGV4cGVjdChwcm9ncmVzc0ZpbGwucHJvcHMuc3R5bGUpLnRvRXF1YWwoXHJcbiAgICAgIGV4cGVjdC5hcnJheUNvbnRhaW5pbmcoW1xyXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHsgd2lkdGg6IGAke3Byb2dyZXNzfSVgIH0pLFxyXG4gICAgICBdKVxyXG4gICAgKTtcclxuICB9KTtcclxuXHJcbiAgaXQoXCJyZW5kZXJzICdOb3V2ZWF1JyBiYWRnZSBpZiBpc05ldyBhbmQgcHJvZ3Jlc3MgaXMgMFwiLCAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyKFxyXG4gICAgICA8RXhlcmNpc2VDYXJkIHsuLi5iYXNlUHJvcHN9IHByb2dyZXNzPXswfSBpc05ldz17dHJ1ZX0gLz5cclxuICAgICk7XHJcbiAgICBleHBlY3QoZ2V0QnlUZXh0KFwiTm91dmVhdVwiKSkudG9CZVRydXRoeSgpO1xyXG4gIH0pO1xyXG5cclxuICBpdChcImRvZXMgbm90IHJlbmRlciBwcm9ncmVzcyBvciBiYWRnZSBpZiBwcm9ncmVzcyA9IDAgYW5kIGlzTmV3ID0gZmFsc2VcIiwgKCkgPT4ge1xyXG4gICAgY29uc3QgeyBxdWVyeUJ5VGV4dCB9ID0gcmVuZGVyKFxyXG4gICAgICA8RXhlcmNpc2VDYXJkIHsuLi5iYXNlUHJvcHN9IHByb2dyZXNzPXswfSBpc05ldz17ZmFsc2V9IC8+XHJcbiAgICApO1xyXG4gICAgZXhwZWN0KHF1ZXJ5QnlUZXh0KFwiTm91dmVhdVwiKSkudG9CZU51bGwoKTtcclxuICAgIGV4cGVjdChxdWVyeUJ5VGV4dChcIiVcIikpLnRvQmVOdWxsKCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KFwiY2FsbHMgb25QcmVzcyB3aGVuIGNhcmQgaXMgcHJlc3NlZFwiLCAoKSA9PiB7XHJcbiAgICBjb25zdCBvblByZXNzTW9jayA9IGplc3QuZm4oKTtcclxuICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXIoXHJcbiAgICAgIDxFeGVyY2lzZUNhcmQgey4uLmJhc2VQcm9wc30gb25QcmVzcz17b25QcmVzc01vY2t9IC8+XHJcbiAgICApO1xyXG4gICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGV4dChiYXNlUHJvcHMudGl0bGUpKTtcclxuICAgIGV4cGVjdChvblByZXNzTW9jaykudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gIH0pO1xyXG5cclxuICBpdChcImNhbGxzIG9uUHJlc3Mgd2hlbiAnQ29tbWVuY2VyJyBidXR0b24gaXMgcHJlc3NlZFwiLCAoKSA9PiB7XHJcbiAgICBjb25zdCBvblByZXNzTW9jayA9IGplc3QuZm4oKTtcclxuICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXIoXHJcbiAgICAgIDxFeGVyY2lzZUNhcmQgey4uLmJhc2VQcm9wc30gb25QcmVzcz17b25QcmVzc01vY2t9IC8+XHJcbiAgICApO1xyXG4gICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGV4dChcIkNvbW1lbmNlclwiKSk7XHJcbiAgICBleHBlY3Qob25QcmVzc01vY2spLnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJtYXBwaW5ncyI6IjtBQUNBLElBQUFBLE1BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFlBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLGFBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFnRixJQUFBRyxXQUFBLEdBQUFILE9BQUE7QUFFaEZJLFFBQVEsQ0FBQyxjQUFjLEVBQUUsWUFBTTtFQUM3QixJQUFNQyxTQUFTLEdBQUc7SUFDaEJDLEtBQUssRUFBRSxxQkFBcUI7SUFDNUJDLFdBQVcsRUFBRSwyQkFBMkI7SUFDeENDLElBQUksRUFBRSxJQUFJO0lBQ1ZDLFFBQVEsRUFBRSxDQUFDO0lB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