{"version":3,"names":["_react","require","_reactNative","_ThemeContext","_useActivityMetrics2","_interopRequireDefault","_useDailyWords2","_style","_jsxRuntime","SimpleMetrics","_ref","_ref$accentColor","accentColor","themeContext","useContext","ThemeContext","colors","surface","text","textSecondary","_useActivityMetrics","useActivityMetrics","currentStreak","streakTrend","formattedTime","_useDailyWords","useDailyWords","wordsToday","wordsLoading","isLoading","jsx","View","style","styles","container","children","jsxs","loadingContainer","ActivityIndicator","size","color","Text","loadingText","metrics","id","icon","value","toString","label","trend","hasActivity","emptyState","emptyIcon","emptyTitle","emptySubtitle","sectionTitle","metricsGrid","map","metric","MetricCard","_ref2","getTrendStyle","isPositive","includes","isNegative","backgroundColor","trendStyle","metricCard","trendIndicator","trendText","metricIcon","metricValue","metricLabel","_default","exports","default"],"sources":["index.js"],"sourcesContent":["// src/screens/Dashboard/components/SimpleMetrics/index.js - M√âTRIQUES CORRIG√âES\r\n\r\nimport { useContext } from \"react\";\r\nimport { View, Text, ActivityIndicator } from \"react-native\";\r\nimport { ThemeContext } from \"../../../../contexts/ThemeContext\";\r\nimport useActivityMetrics from \"../../../../hooks/useActivityMetrics\";\r\nimport useDailyWords from \"../../../../hooks/useDailyWords\";\r\nimport styles from \"./style\";\r\n\r\n/**\r\n * üìä SimpleMetrics - CORRIG√â\r\n * ‚úÖ Temps quotidien (pas total)\r\n * ‚úÖ Mots sans trend\r\n * ‚úÖ Plus de confusion quotidien/cumulatif\r\n */\r\nconst SimpleMetrics = ({ accentColor = \"#3B82F6\" }) => {\r\n  const themeContext = useContext(ThemeContext);\r\n  const colors = themeContext?.colors || {\r\n    surface: \"#FFFFFF\",\r\n    text: \"#1F2937\",\r\n    textSecondary: \"#6B7280\",\r\n  };\r\n\r\n  // =================== HOOKS CORRIG√âS ===================\r\n  const { \r\n    currentStreak, \r\n    streakTrend, \r\n    formattedTime // ‚úÖ Maintenant quotidien\r\n  } = useActivityMetrics();\r\n\r\n  const { \r\n    wordsToday,\r\n    isLoading: wordsLoading \r\n    // ‚úÖ Plus de trend\r\n  } = useDailyWords();\r\n\r\n  // =================== LOADING STATE ===================\r\n  if (wordsLoading) {\r\n    return (\r\n      <View style={styles.container}>\r\n        <View style={styles.loadingContainer}>\r\n          <ActivityIndicator size=\"small\" color={accentColor} />\r\n          <Text style={[styles.loadingText, { color: colors.textSecondary }]}>\r\n            Chargement des m√©triques...\r\n          </Text>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  // =================== DONN√âES DES M√âTRIQUES CORRIG√âES ===================\r\n  const metrics = [\r\n    {\r\n      id: 'streak',\r\n      icon: 'üî•',\r\n      value: (currentStreak || 0).toString(),\r\n      label: 'Jours de suite',\r\n      trend: streakTrend, // ‚úÖ Gard√© pour streak\r\n    },\r\n    {\r\n      id: 'words',\r\n      icon: 'üìö',\r\n      value: (wordsToday || 0).toString(),\r\n      label: 'Mots aujourd\\'hui',\r\n      trend: null, // ‚úÖ SUPPRIM√â : plus de trend trompeur\r\n    },\r\n    {\r\n      id: 'time',\r\n      icon: '‚è±Ô∏è',\r\n      value: formattedTime || '0min',\r\n      label: 'Temps aujourd\\'hui', // ‚úÖ CHANG√â : quotidien\r\n      trend: null,\r\n    }\r\n  ];\r\n\r\n  // Masquer si toutes les m√©triques sont √† 0\r\n  const hasActivity = currentStreak > 0 || wordsToday > 0 || (formattedTime && formattedTime !== '0min');\r\n  \r\n  if (!hasActivity) {\r\n    return (\r\n      <View style={styles.container}>\r\n        <View style={styles.emptyState}>\r\n          <Text style={styles.emptyIcon}>üéØ</Text>\r\n          <Text style={[styles.emptyTitle, { color: colors.text }]}>\r\n            Commencez votre premi√®re session !\r\n          </Text>\r\n          <Text style={[styles.emptySubtitle, { color: colors.textSecondary }]}>\r\n            Vos statistiques appara√Ætront ici\r\n          </Text>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  // =================== RENDER PRINCIPAL ===================\r\n  return (\r\n    <View style={styles.container}>\r\n      <Text style={[styles.sectionTitle, { color: colors.text }]}>üìä Aujourd&apos;hui</Text>\r\n      \r\n      <View style={styles.metricsGrid}>\r\n        {metrics.map((metric) => (\r\n          <MetricCard\r\n            key={metric.id}\r\n            metric={metric}\r\n            colors={colors}\r\n            accentColor={accentColor}\r\n          />\r\n        ))}\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\n/**\r\n * üìà Carte m√©trique individuelle - INCHANG√âE\r\n */\r\nconst MetricCard = ({ metric, colors }) => {\r\n  const getTrendStyle = (trend) => {\r\n    if (!trend) return null;\r\n    \r\n    const isPositive = trend.includes('+') || trend.includes('üèÜ') || trend.includes('üí™') || trend.includes('üî•');\r\n    const isNegative = trend.includes('-');\r\n    \r\n    if (isPositive) {\r\n      return {\r\n        backgroundColor: '#DCFCE7',\r\n        color: '#16A34A'\r\n      };\r\n    }\r\n    \r\n    if (isNegative) {\r\n      return {\r\n        backgroundColor: '#FEF2F2', \r\n        color: '#DC2626'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      backgroundColor: '#F1F5F9',\r\n      color: '#64748B'\r\n    };\r\n  };\r\n\r\n  const trendStyle = getTrendStyle(metric.trend);\r\n\r\n  return (\r\n    <View style={[styles.metricCard, { backgroundColor: colors.surface }]}>\r\n      {/* Trend indicator */}\r\n      {metric.trend && trendStyle && (\r\n        <View style={[styles.trendIndicator, { backgroundColor: trendStyle.backgroundColor }]}>\r\n          <Text style={[styles.trendText, { color: trendStyle.color }]}>\r\n            {metric.trend}\r\n          </Text>\r\n        </View>\r\n      )}\r\n      \r\n      {/* Icon */}\r\n      <Text style={styles.metricIcon}>{metric.icon}</Text>\r\n      \r\n      {/* Value */}\r\n      <Text style={[styles.metricValue, { color: colors.text }]}>\r\n        {metric.value}\r\n      </Text>\r\n      \r\n      {/* Label */}\r\n      <Text style={[styles.metricLabel, { color: colors.textSecondary }]}>\r\n        {metric.label}\r\n      </Text>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default SimpleMetrics;"],"mappings":"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","ignoreList":[]}