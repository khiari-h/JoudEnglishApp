7139fd551b9faa7de3e6f9b02a24e247
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _reactNative2 = require("react-native");
var _CategorySelector = _interopRequireWildcard(require("../../../src/components/exercise-common/CategorySelector"));
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
jest.spyOn(_reactNative2.Animated, 'timing').mockImplementation(function (value, config) {
  var mockTiming = {
    start: function start(callback) {
      if (callback) {
        callback({
          finished: true
        });
      }
    },
    stop: jest.fn()
  };
  return mockTiming;
});
jest.spyOn(_reactNative2.ScrollView.prototype, 'scrollTo').mockImplementation(function () {});
describe('CategorySelector Component', function () {
  var mockCategories = [{
    id: '1',
    name: 'Fruits'
  }, {
    id: '2',
    name: 'Vegetables'
  }, {
    id: '3',
    name: 'Dairy Products'
  }, {
    id: '4',
    name: 'Meat & Fish'
  }, {
    id: '5',
    name: 'Beverages'
  }];
  var defaultProps = {
    categories: mockCategories,
    selectedCategory: '1',
    onSelectCategory: jest.fn()
  };
  var renderCategorySelector = function renderCategorySelector() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    return (0, _reactNative.render)((0, _jsxRuntime.jsx)(_CategorySelector.default, Object.assign({}, defaultProps, props)));
  };
  beforeEach(function () {
    jest.clearAllMocks();
  });
  describe('Rendering', function () {
    it('should render without crashing', function () {
      expect(renderCategorySelector()).toBeTruthy();
    });
    it('should render all categories correctly', function () {
      var _renderCategorySelect = renderCategorySelector(),
        getByText = _renderCategorySelect.getByText;
      mockCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
    it('should render categories in the correct order', function () {
      var _renderCategorySelect2 = renderCategorySelector(),
        getAllByRole = _renderCategorySelect2.getAllByRole;
      var categoryNames = getAllByRole('button').map(function (element) {
        return element.props.accessibilityLabel;
      });
      expect(categoryNames).toEqual(mockCategories.map(function (cat) {
        return cat.name;
      }));
    });
    it('should handle empty categories array gracefully', function () {
      var _renderCategorySelect3 = renderCategorySelector({
          categories: []
        }),
        queryByText = _renderCategorySelect3.queryByText;
      mockCategories.forEach(function (category) {
        expect(queryByText(category.name)).toBeNull();
      });
    });
    it('should highlight the selected category visually', function () {
      var _renderCategorySelect4 = renderCategorySelector({
          selectedCategory: '2'
        }),
        getByRole = _renderCategorySelect4.getByRole;
      var selectedPill = getByRole('button', {
        name: 'Vegetables'
      });
      expect(selectedPill).toHaveAccessibilityState({
        selected: true
      });
    });
  });
  describe('User Interactions', function () {
    it('should call onSelectCategory when a different category is pressed', function () {
      var mockOnSelect = jest.fn();
      var _renderCategorySelect5 = renderCategorySelector({
          selectedCategory: '1',
          onSelectCategory: mockOnSelect
        }),
        getByText = _renderCategorySelect5.getByText;
      _reactNative.fireEvent.press(getByText('Vegetables'));
      expect(mockOnSelect).toHaveBeenCalledTimes(1);
      expect(mockOnSelect).toHaveBeenCalledWith('2');
    });
    it('should not call onSelectCategory when the same category is pressed', function () {
      var mockOnSelect = jest.fn();
      var _renderCategorySelect6 = renderCategorySelector({
          selectedCategory: '1',
          onSelectCategory: mockOnSelect
        }),
        getByText = _renderCategorySelect6.getByText;
      _reactNative.fireEvent.press(getByText('Fruits'));
      expect(mockOnSelect).not.toHaveBeenCalled();
    });
    it('should call onSelectCategory with correct category id for each category', function () {
      var mockOnSelect = jest.fn();
      var _renderCategorySelect7 = renderCategorySelector({
          selectedCategory: '1',
          onSelectCategory: mockOnSelect
        }),
        getByText = _renderCategorySelect7.getByText;
      var categoriesToTest = mockCategories.filter(function (cat) {
        return cat.id !== '1';
      });
      categoriesToTest.forEach(function (category) {
        _reactNative.fireEvent.press(getByText(category.name));
        expect(mockOnSelect).toHaveBeenCalledWith(category.id);
      });
      expect(mockOnSelect).toHaveBeenCalledTimes(categoriesToTest.length);
    });
  });
  describe('Animations', function () {
    it('should trigger press animations correctly', function () {
      var _renderCategorySelect8 = renderCategorySelector(),
        getByText = _renderCategorySelect8.getByText;
      var categoryPill = getByText('Vegetables');
      (0, _reactNative.act)(function () {
        (0, _reactNative.fireEvent)(categoryPill, 'pressIn');
        (0, _reactNative.fireEvent)(categoryPill, 'pressOut');
      });
      expect(categoryPill).toBeTruthy();
    });
    it('should handle rapid press interactions without crashing', function () {
      var mockOnSelect = jest.fn();
      var _renderCategorySelect9 = renderCategorySelector({
          onSelectCategory: mockOnSelect
        }),
        getByText = _renderCategorySelect9.getByText;
      var categoryPill = getByText('Vegetables');
      (0, _reactNative.act)(function () {
        (0, _reactNative.fireEvent)(categoryPill, 'pressIn');
        (0, _reactNative.fireEvent)(categoryPill, 'pressOut');
        _reactNative.fireEvent.press(categoryPill);
        (0, _reactNative.fireEvent)(categoryPill, 'pressIn');
        (0, _reactNative.fireEvent)(categoryPill, 'pressOut');
      });
      expect(mockOnSelect).toHaveBeenCalledWith('2');
      expect(categoryPill).toBeTruthy();
    });
    it('should not trigger new animation if one is already in progress', function () {
      var mockOnSelect = jest.fn();
      var _renderCategorySelect0 = renderCategorySelector({
          selectedCategory: '1',
          onSelectCategory: mockOnSelect
        }),
        getByText = _renderCategorySelect0.getByText;
      var animatedSpy = jest.spyOn(_reactNative2.Animated, 'timing');
      _reactNative.fireEvent.press(getByText('Vegetables'));
      _reactNative.fireEvent.press(getByText('Dairy Products'));
      expect(mockOnSelect).toHaveBeenCalledTimes(1);
      expect(mockOnSelect).toHaveBeenCalledWith('2');
      animatedSpy.mockRestore();
    });
  });
  describe('Scrolling Behavior', function () {
    it('should scroll to selected category on mount', (0, _asyncToGenerator2.default)(function* () {
      var _renderCategorySelect1 = renderCategorySelector({
          selectedCategory: '4'
        }),
        getByText = _renderCategorySelect1.getByText;
      expect(getByText('Meat & Fish')).toBeTruthy();
    }));
    it('should handle scrolling when selectedCategory changes', (0, _asyncToGenerator2.default)(function* () {
      var _renderCategorySelect10 = renderCategorySelector({
          selectedCategory: '1'
        }),
        rerender = _renderCategorySelect10.rerender,
        getByText = _renderCategorySelect10.getByText;
      var scrollToSpy = jest.spyOn(_reactNative2.ScrollView.prototype, 'scrollTo');
      rerender((0, _jsxRuntime.jsx)(_CategorySelector.default, Object.assign({}, defaultProps, {
        selectedCategory: "5"
      })));
      yield (0, _reactNative.waitFor)(function () {
        expect(scrollToSpy).toHaveBeenCalled();
      });
      expect(getByText('Beverages')).toBeTruthy();
      scrollToSpy.mockRestore();
    }));
  });
  describe('Edge Cases', function () {
    it('should handle undefined selectedCategory gracefully', function () {
      var _renderCategorySelect11 = renderCategorySelector({
          selectedCategory: undefined
        }),
        getByText = _renderCategorySelect11.getByText;
      mockCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
    it('should handle null selectedCategory gracefully', function () {
      var _renderCategorySelect12 = renderCategorySelector({
          selectedCategory: null
        }),
        getByText = _renderCategorySelect12.getByText;
      mockCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
    it('should handle non-existent selectedCategory id', function () {
      var _renderCategorySelect13 = renderCategorySelector({
          selectedCategory: 'non-existent'
        }),
        getByText = _renderCategorySelect13.getByText;
      mockCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
    it('should handle missing onSelectCategory prop gracefully', function () {
      var _renderCategorySelect14 = renderCategorySelector({
          onSelectCategory: undefined
        }),
        getByText = _renderCategorySelect14.getByText;
      expect(function () {
        _reactNative.fireEvent.press(getByText('Vegetables'));
      }).not.toThrow();
    });
    it('should handle categories with special characters in names', function () {
      var specialCategories = [{
        id: '1',
        name: 'Café & Thé'
      }, {
        id: '2',
        name: 'Fruits & Légumes'
      }, {
        id: '3',
        name: 'Viande/Poisson'
      }];
      var _renderCategorySelect15 = renderCategorySelector({
          categories: specialCategories
        }),
        getByText = _renderCategorySelect15.getByText;
      specialCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
    it('should handle very long category names', function () {
      var longNameCategories = [{
        id: '1',
        name: 'This is a very long category name that might cause layout issues'
      }, {
        id: '2',
        name: 'Short'
      }];
      var _renderCategorySelect16 = renderCategorySelector({
          categories: longNameCategories
        }),
        getByText = _renderCategorySelect16.getByText;
      longNameCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
  });
  describe('Performance', function () {
    it('should not re-render unnecessarily when props do not change', function () {
      var renderSpy = jest.fn();
      var TestWrapper = function TestWrapper(props) {
        renderSpy();
        return (0, _jsxRuntime.jsx)(_CategorySelector.default, Object.assign({}, props));
      };
      var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(TestWrapper, Object.assign({}, defaultProps))),
        rerender = _render.rerender;
      renderSpy.mockClear();
      rerender((0, _jsxRuntime.jsx)(TestWrapper, Object.assign({}, defaultProps)));
      expect(renderSpy).toHaveBeenCalledTimes(0);
    });
    it('should handle large number of categories efficiently', function () {
      var manyCategories = Array.from({
        length: 100
      }, function (_, i) {
        return {
          id: `${i + 1}`,
          name: `Category ${i + 1}`
        };
      });
      var startTime = Date.now();
      var _renderCategorySelect17 = renderCategorySelector({
          categories: manyCategories
        }),
        queryAllByText = _renderCategorySelect17.queryAllByText;
      var endTime = Date.now();
      expect(endTime - startTime).toBeLessThan(1000);
      var categoryElements = queryAllByText(/^Category/);
      expect(categoryElements).toHaveLength(100);
    });
  });
  describe('Accessibility', function () {
    it('should have proper accessibility labels', function () {
      var _renderCategorySelect18 = renderCategorySelector(),
        getByLabelText = _renderCategorySelect18.getByLabelText;
      mockCategories.forEach(function (category) {
        var element = getByLabelText(category.name);
        expect(element).toBeTruthy();
      });
    });
    it('should support screen reader navigation', function () {
      var _renderCategorySelect19 = renderCategorySelector(),
        getAllByRole = _renderCategorySelect19.getAllByRole;
      var buttons = getAllByRole('button');
      expect(buttons).toHaveLength(mockCategories.length);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdE5hdGl2ZSIsIl9yZWFjdE5hdGl2ZTIiLCJfQ2F0ZWdvcnlTZWxlY3RvciIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX2pzeFJ1bnRpbWUiLCJlIiwidCIsIldlYWtNYXAiLCJyIiwibiIsIl9fZXNNb2R1bGUiLCJvIiwiaSIsImYiLCJfX3Byb3RvX18iLCJkZWZhdWx0IiwiaGFzIiwiZ2V0Iiwic2V0IiwiX3QiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImplc3QiLCJzcHlPbiIsIkFuaW1hdGVkIiwibW9ja0ltcGxlbWVudGF0aW9uIiwidmFsdWUiLCJjb25maWciLCJtb2NrVGltaW5nIiwic3RhcnQiLCJjYWxsYmFjayIsImZpbmlzaGVkIiwic3RvcCIsImZuIiwiU2Nyb2xsVmlldyIsInByb3RvdHlwZSIsImRlc2NyaWJlIiwibW9ja0NhdGVnb3JpZXMiLCJpZCIsIm5hbWUiLCJkZWZhdWx0UHJvcHMiLCJjYXRlZ29yaWVzIiwic2VsZWN0ZWRDYXRlZ29yeSIsIm9uU2VsZWN0Q2F0ZWdvcnkiLCJyZW5kZXJDYXRlZ29yeVNlbGVjdG9yIiwicHJvcHMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJyZW5kZXIiLCJqc3giLCJhc3NpZ24iLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwiZXhwZWN0IiwidG9CZVRydXRoeSIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdCIsImdldEJ5VGV4dCIsImZvckVhY2giLCJjYXRlZ29yeSIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDIiLCJnZXRBbGxCeVJvbGUiLCJjYXRlZ29yeU5hbWVzIiwibWFwIiwiZWxlbWVudCIsImFjY2Vzc2liaWxpdHlMYWJlbCIsInRvRXF1YWwiLCJjYXQiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3QzIiwicXVlcnlCeVRleHQiLCJ0b0JlTnVsbCIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDQiLCJnZXRCeVJvbGUiLCJzZWxlY3RlZFBpbGwiLCJ0b0hhdmVBY2Nlc3NpYmlsaXR5U3RhdGUiLCJzZWxlY3RlZCIsIm1vY2tPblNlbGVjdCIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDUiLCJmaXJlRXZlbnQiLCJwcmVzcyIsInRvSGF2ZUJlZW5DYWxsZWRUaW1lcyIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0NiIsIm5vdCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3Q3IiwiY2F0ZWdvcmllc1RvVGVzdCIsImZpbHRlciIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDgiLCJjYXRlZ29yeVBpbGwiLCJhY3QiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3Q5IiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0MCIsImFuaW1hdGVkU3B5IiwibW9ja1Jlc3RvcmUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3QxIiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0MTAiLCJyZXJlbmRlciIsInNjcm9sbFRvU3B5Iiwid2FpdEZvciIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDExIiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0MTIiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3QxMyIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDE0IiwidG9UaHJvdyIsInNwZWNpYWxDYXRlZ29yaWVzIiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0MTUiLCJsb25nTmFtZUNhdGVnb3JpZXMiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3QxNiIsInJlbmRlclNweSIsIlRlc3RXcmFwcGVyIiwiX3JlbmRlciIsIm1vY2tDbGVhciIsIm1hbnlDYXRlZ29yaWVzIiwiQXJyYXkiLCJmcm9tIiwiXyIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3QxNyIsInF1ZXJ5QWxsQnlUZXh0IiwiZW5kVGltZSIsInRvQmVMZXNzVGhhbiIsImNhdGVnb3J5RWxlbWVudHMiLCJ0b0hhdmVMZW5ndGgiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3QxOCIsImdldEJ5TGFiZWxUZXh0IiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0MTkiLCJidXR0b25zIl0sInNvdXJjZXMiOlsiQ2F0ZWdvcnlTZWxlY3Rvci50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIF9fdGVzdHNfXy9DYXRlZ29yeVNlbGVjdG9yLnRlc3QuanNcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZW5kZXIsIGZpcmVFdmVudCwgYWN0LCB3YWl0Rm9yIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdC1uYXRpdmUnO1xuaW1wb3J0IHsgQW5pbWF0ZWQsIFNjcm9sbFZpZXcgfSBmcm9tICdyZWFjdC1uYXRpdmUnOyAvLyBJbXBvcnRleiBTY3JvbGxWaWV3IHBvdXIgbGUgbW9ja2VyXG5pbXBvcnQgQ2F0ZWdvcnlTZWxlY3RvciwgeyBhcmVFcXVhbCB9IGZyb20gJy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL2V4ZXJjaXNlLWNvbW1vbi9DYXRlZ29yeVNlbGVjdG9yJztcblxuLy8gLS0tIETDqWZpbml0aW9uIGRlcyBNb2NrcyBwb3VyIHLDqXNvdWRyZSBsZXMgcHJvYmzDqG1lcyBkZSByZW5kdS9hbmltYXRpb24gLS0tXG5cbi8vIE1vY2tlciBBbmltYXRlZC50aW1pbmcgcG91ciBxdSdpbCBzZSB0ZXJtaW5lIGltbcOpZGlhdGVtZW50XG5qZXN0LnNweU9uKEFuaW1hdGVkLCAndGltaW5nJykubW9ja0ltcGxlbWVudGF0aW9uKCh2YWx1ZSwgY29uZmlnKSA9PiB7XG4gIGNvbnN0IG1vY2tUaW1pbmcgPSB7XG4gICAgc3RhcnQ6IChjYWxsYmFjaykgPT4ge1xuICAgICAgLy8gRXjDqWN1dGVyIGxlIGNhbGxiYWNrIGRlIGZpbiBkJ2FuaW1hdGlvbiBpbW3DqWRpYXRlbWVudFxuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKHsgZmluaXNoZWQ6IHRydWUgfSk7IC8vIFNpbXVsZXIgbGEgZmluIGRlIGwnYW5pbWF0aW9uXG4gICAgICB9XG4gICAgfSxcbiAgICBzdG9wOiBqZXN0LmZuKCksXG4gIH07XG4gIHJldHVybiBtb2NrVGltaW5nO1xufSk7XG5cbi8vIE1vY2tlciBsYSBtw6l0aG9kZSBgc2Nyb2xsVG9gIGRlIFNjcm9sbFZpZXcgcG91ciDDqXZpdGVyIGxlcyBlcnJldXJzIGRlIGxheW91dFxuamVzdC5zcHlPbihTY3JvbGxWaWV3LnByb3RvdHlwZSwgJ3Njcm9sbFRvJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHt9KTtcblxuLy8gLS0tIEZpbiBkZXMgTW9ja3MgLS0tXG5cbmRlc2NyaWJlKCdDYXRlZ29yeVNlbGVjdG9yIENvbXBvbmVudCcsICgpID0+IHtcbiAgLy8gTW9jayBkYXRhXG4gIGNvbnN0IG1vY2tDYXRlZ29yaWVzID0gW1xuICAgIHsgaWQ6ICcxJywgbmFtZTogJ0ZydWl0cycgfSxcbiAgICB7IGlkOiAnMicsIG5hbWU6ICdWZWdldGFibGVzJyB9LFxuICAgIHsgaWQ6ICczJywgbmFtZTogJ0RhaXJ5IFByb2R1Y3RzJyB9LFxuICAgIHsgaWQ6ICc0JywgbmFtZTogJ01lYXQgJiBGaXNoJyB9LFxuICAgIHsgaWQ6ICc1JywgbmFtZTogJ0JldmVyYWdlcycgfSxcbiAgXTtcblxuICBjb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gICAgY2F0ZWdvcmllczogbW9ja0NhdGVnb3JpZXMsXG4gICAgc2VsZWN0ZWRDYXRlZ29yeTogJzEnLFxuICAgIG9uU2VsZWN0Q2F0ZWdvcnk6IGplc3QuZm4oKSxcbiAgfTtcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gcG91ciBjcsOpZXIgbGUgY29tcG9zYW50IGF2ZWMgcHJvcHNcbiAgY29uc3QgcmVuZGVyQ2F0ZWdvcnlTZWxlY3RvciA9IChwcm9wcyA9IHt9KSA9PiB7XG4gICAgcmV0dXJuIHJlbmRlcig8Q2F0ZWdvcnlTZWxlY3RvciB7Li4uZGVmYXVsdFByb3BzfSB7Li4ucHJvcHN9IC8+KTtcbiAgfTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgLy8gLS0tIFJFTkRFUklORyAtLS1cbiAgZGVzY3JpYmUoJ1JlbmRlcmluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJlbmRlciB3aXRob3V0IGNyYXNoaW5nJywgKCkgPT4ge1xuICAgICAgLy8gTGUgY29tcG9zYW50IG5lIGNyYXNoIHBhcyBzJ2lsIGVzdCByZW5kdVxuICAgICAgZXhwZWN0KHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoKSkudG9CZVRydXRoeSgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgYWxsIGNhdGVnb3JpZXMgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoKTtcbiAgICAgIFxuICAgICAgbW9ja0NhdGVnb3JpZXMuZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICAgIGV4cGVjdChnZXRCeVRleHQoY2F0ZWdvcnkubmFtZSkpLnRvQmVUcnV0aHkoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG5pdCgnc2hvdWxkIHJlbmRlciBjYXRlZ29yaWVzIGluIHRoZSBjb3JyZWN0IG9yZGVyJywgKCkgPT4ge1xuICAgIC8vIDEuIFV0aWxpc2V6IGBnZXRBbGxCeVJvbGVgIHBvdXIgcsOpY3Vww6lyZXIgdG91cyBsZXMgw6lsw6ltZW50cyBhdmVjIGxlIHLDtGxlICdidXR0b24nICh2b3MgJ3BpbGxzJykuXG4gICAgLy8gQ2VzIMOpbMOpbWVudHMgc29udCBwbHVzIHN0YWJsZXMgcXVlIGRlIHNlIGJhc2VyIHN1ciBsZSB0ZXh0ZSBzZXVsLlxuICAgIGNvbnN0IHsgZ2V0QWxsQnlSb2xlIH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKCk7XG4gICAgXG4gICAgLy8gMi4gRXh0cmF5ZXogbCdgYWNjZXNzaWJpbGl0eUxhYmVsYCBkZSBjaGFxdWUgw6lsw6ltZW50LlxuICAgIC8vIEwnYGFjY2Vzc2liaWxpdHlMYWJlbGAgZXN0IHVuZSBwcm9wcmnDqXTDqSBmaWFibGUgcG91ciBsZXMgdGVzdHMsIGNhciBlbGxlIGVzdCBkZXN0aW7DqWVcbiAgICAvLyBhdXggbGVjdGV1cnMgZCfDqWNyYW4gZXQgbmUgY29udGllbnQgcGFzIGQnw6lsw6ltZW50cyBkZSBkw6ljb3JhdGlvbiBjb21tZSBsJ2Vtb2ppLlxuICAgIGNvbnN0IGNhdGVnb3J5TmFtZXMgPSBnZXRBbGxCeVJvbGUoJ2J1dHRvbicpLm1hcChlbGVtZW50ID0+IGVsZW1lbnQucHJvcHMuYWNjZXNzaWJpbGl0eUxhYmVsKTtcbiAgICBcbiAgICAvLyAzLiBDb21wYXJleiBsZSB0YWJsZWF1IGRlcyBub21zIGF2ZWMgdm90cmUgbW9jayBkZSBkb25uw6llcy5cbiAgICBleHBlY3QoY2F0ZWdvcnlOYW1lcykudG9FcXVhbChtb2NrQ2F0ZWdvcmllcy5tYXAoY2F0ID0+IGNhdC5uYW1lKSk7XG4gIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgY2F0ZWdvcmllcyBhcnJheSBncmFjZWZ1bGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBxdWVyeUJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7IGNhdGVnb3JpZXM6IFtdIH0pO1xuICAgICAgXG4gICAgICBtb2NrQ2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgZXhwZWN0KHF1ZXJ5QnlUZXh0KGNhdGVnb3J5Lm5hbWUpKS50b0JlTnVsbCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbi8vIFJlbXBsYWNleiBsZSB0ZXN0IGV4aXN0YW50IHBhciBjZWx1aS1jaSA6XG5pdCgnc2hvdWxkIGhpZ2hsaWdodCB0aGUgc2VsZWN0ZWQgY2F0ZWdvcnkgdmlzdWFsbHknLCAoKSA9PiB7XG4gIGNvbnN0IHsgZ2V0QnlSb2xlIH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHsgc2VsZWN0ZWRDYXRlZ29yeTogJzInIH0pO1xuICBcbiAgLy8gT24gdHJvdXZlIGwnw6lsw6ltZW50IHF1aSBhIGxlIHLDtGxlIGRlIGJvdXRvbiBldCBsJ8OpdGlxdWV0dGUgJ1ZlZ2V0YWJsZXMnXG4gIGNvbnN0IHNlbGVjdGVkUGlsbCA9IGdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAnVmVnZXRhYmxlcycgfSk7XG4gIFxuICAvLyBPbiB2w6lyaWZpZSBxdWUgc29uIMOpdGF0IGQnYWNjZXNzaWJpbGl0w6kgZXN0IGJpZW4gJ3NlbGVjdGVkOiB0cnVlJ1xuICBleHBlY3Qoc2VsZWN0ZWRQaWxsKS50b0hhdmVBY2Nlc3NpYmlsaXR5U3RhdGUoeyBzZWxlY3RlZDogdHJ1ZSB9KTtcbn0pO1xuICB9KTtcblxuICAvLyAtLS0gVVNFUiBJTlRFUkFDVElPTlMgLS0tXG4gIGRlc2NyaWJlKCdVc2VyIEludGVyYWN0aW9ucycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNhbGwgb25TZWxlY3RDYXRlZ29yeSB3aGVuIGEgZGlmZmVyZW50IGNhdGVnb3J5IGlzIHByZXNzZWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrT25TZWxlY3QgPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7IFxuICAgICAgICBzZWxlY3RlZENhdGVnb3J5OiAnMScsIFxuICAgICAgICBvblNlbGVjdENhdGVnb3J5OiBtb2NrT25TZWxlY3QgXG4gICAgICB9KTtcblxuICAgICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGV4dCgnVmVnZXRhYmxlcycpKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KG1vY2tPblNlbGVjdCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAgICAgZXhwZWN0KG1vY2tPblNlbGVjdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJzInKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbm90IGNhbGwgb25TZWxlY3RDYXRlZ29yeSB3aGVuIHRoZSBzYW1lIGNhdGVnb3J5IGlzIHByZXNzZWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrT25TZWxlY3QgPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7IFxuICAgICAgICBzZWxlY3RlZENhdGVnb3J5OiAnMScsIFxuICAgICAgICBvblNlbGVjdENhdGVnb3J5OiBtb2NrT25TZWxlY3QgXG4gICAgICB9KTtcblxuICAgICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGV4dCgnRnJ1aXRzJykpO1xuICAgICAgXG4gICAgICBleHBlY3QobW9ja09uU2VsZWN0KS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjYWxsIG9uU2VsZWN0Q2F0ZWdvcnkgd2l0aCBjb3JyZWN0IGNhdGVnb3J5IGlkIGZvciBlYWNoIGNhdGVnb3J5JywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja09uU2VsZWN0ID0gamVzdC5mbigpO1xuICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoeyBcbiAgICAgICAgc2VsZWN0ZWRDYXRlZ29yeTogJzEnLCBcbiAgICAgICAgb25TZWxlY3RDYXRlZ29yeTogbW9ja09uU2VsZWN0IFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGNhdGVnb3JpZXNUb1Rlc3QgPSBtb2NrQ2F0ZWdvcmllcy5maWx0ZXIoY2F0ID0+IGNhdC5pZCAhPT0gJzEnKTtcbiAgICAgIFxuICAgICAgY2F0ZWdvcmllc1RvVGVzdC5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGV4dChjYXRlZ29yeS5uYW1lKSk7XG4gICAgICAgIGV4cGVjdChtb2NrT25TZWxlY3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGNhdGVnb3J5LmlkKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QobW9ja09uU2VsZWN0KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoY2F0ZWdvcmllc1RvVGVzdC5sZW5ndGgpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyAtLS0gQU5JTUFUSU9OUyAtLS1cbiAgZGVzY3JpYmUoJ0FuaW1hdGlvbnMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCB0cmlnZ2VyIHByZXNzIGFuaW1hdGlvbnMgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoKTtcbiAgICAgIGNvbnN0IGNhdGVnb3J5UGlsbCA9IGdldEJ5VGV4dCgnVmVnZXRhYmxlcycpO1xuXG4gICAgICAvLyBUZXN0IHByZXNzSW4vcHJlc3NPdXQgYW5pbWF0aW9ucyBzYW5zIGNyYXNoXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICBmaXJlRXZlbnQoY2F0ZWdvcnlQaWxsLCAncHJlc3NJbicpO1xuICAgICAgICBmaXJlRXZlbnQoY2F0ZWdvcnlQaWxsLCAncHJlc3NPdXQnKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoY2F0ZWdvcnlQaWxsKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSByYXBpZCBwcmVzcyBpbnRlcmFjdGlvbnMgd2l0aG91dCBjcmFzaGluZycsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tPblNlbGVjdCA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHsgb25TZWxlY3RDYXRlZ29yeTogbW9ja09uU2VsZWN0IH0pO1xuICAgICAgY29uc3QgY2F0ZWdvcnlQaWxsID0gZ2V0QnlUZXh0KCdWZWdldGFibGVzJyk7XG5cbiAgICAgIC8vIFNpbXVsZXIgZGVzIHByZXNzaW9ucyByYXBpZGVzXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICBmaXJlRXZlbnQoY2F0ZWdvcnlQaWxsLCAncHJlc3NJbicpO1xuICAgICAgICBmaXJlRXZlbnQoY2F0ZWdvcnlQaWxsLCAncHJlc3NPdXQnKTtcbiAgICAgICAgZmlyZUV2ZW50LnByZXNzKGNhdGVnb3J5UGlsbCk7XG4gICAgICAgIGZpcmVFdmVudChjYXRlZ29yeVBpbGwsICdwcmVzc0luJyk7XG4gICAgICAgIGZpcmVFdmVudChjYXRlZ29yeVBpbGwsICdwcmVzc091dCcpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChtb2NrT25TZWxlY3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcyJyk7XG4gICAgICBleHBlY3QoY2F0ZWdvcnlQaWxsKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG5vdCB0cmlnZ2VyIG5ldyBhbmltYXRpb24gaWYgb25lIGlzIGFscmVhZHkgaW4gcHJvZ3Jlc3MnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1vY2tPblNlbGVjdCA9IGplc3QuZm4oKTtcbiAgICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoeyBzZWxlY3RlZENhdGVnb3J5OiAnMScsIG9uU2VsZWN0Q2F0ZWdvcnk6IG1vY2tPblNlbGVjdCB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGFuaW1hdGVkU3B5ID0gamVzdC5zcHlPbihBbmltYXRlZCwgJ3RpbWluZycpO1xuICAgICAgICBcbiAgICAgICAgLy8gU2ltdWxlciB1biBjbGljIHF1aSBjb21tZW5jZSB1bmUgYW5pbWF0aW9uXG4gICAgICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRleHQoJ1ZlZ2V0YWJsZXMnKSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTaW11bGVyIHVuIHNlY29uZCBjbGljIGF2YW50IHF1ZSBsYSBwcmVtacOocmUgYW5pbWF0aW9uIG5lIHNvaXQgdGVybWluw6llIChsZSBtb2NrIGwnaWdub3JlKVxuICAgICAgICBmaXJlRXZlbnQucHJlc3MoZ2V0QnlUZXh0KCdEYWlyeSBQcm9kdWN0cycpKTtcbiAgICAgICAgXG4gICAgICAgIGV4cGVjdChtb2NrT25TZWxlY3QpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTsgLy8gU2V1bCBsZSBwcmVtaWVyIGNsaWMgZG9pdCDDqnRyZSBwcmlzIGVuIGNvbXB0ZVxuICAgICAgICBleHBlY3QobW9ja09uU2VsZWN0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnMicpO1xuICAgICAgICBcbiAgICAgICAgYW5pbWF0ZWRTcHkubW9ja1Jlc3RvcmUoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gLS0tIFNDUk9MTElORyBCRUhBVklPUiAtLS1cbiAgZGVzY3JpYmUoJ1Njcm9sbGluZyBCZWhhdmlvcicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHNjcm9sbCB0byBzZWxlY3RlZCBjYXRlZ29yeSBvbiBtb3VudCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHsgc2VsZWN0ZWRDYXRlZ29yeTogJzQnIH0pO1xuICAgICAgXG4gICAgICAvLyBMYSBsaWduZSBkZSBtb2NrIGBqZXN0LnNweU9uKFNjcm9sbFZpZXcucHJvdG90eXBlLCAnc2Nyb2xsVG8nKS4uLmBcbiAgICAgIC8vIGEgZMOpasOgIG1pcyBlbiBwbGFjZSBsYSB2w6lyaWZpY2F0aW9uLlxuICAgICAgLy8gTGUgc2ltcGxlIGZhaXQgcXVlIGxlIHRlc3QgbmUgY3Jhc2ggcGFzIGVzdCB1bmUgdmFsaWRhdGlvbi5cbiAgICAgIGV4cGVjdChnZXRCeVRleHQoJ01lYXQgJiBGaXNoJykpLnRvQmVUcnV0aHkoKTtcbiAgICAgIFxuICAgICAgLy8gT24gcGV1dCBham91dGVyIHVuZSBhc3NlcnRpb24gcGx1cyBzcMOpY2lmaXF1ZSBzaSBvbiB2ZXV0XG4gICAgICAvLyBleHBlY3QoU2Nyb2xsVmlldy5wcm90b3R5cGUuc2Nyb2xsVG8pLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHNjcm9sbGluZyB3aGVuIHNlbGVjdGVkQ2F0ZWdvcnkgY2hhbmdlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVyZW5kZXIsIGdldEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7IHNlbGVjdGVkQ2F0ZWdvcnk6ICcxJyB9KTtcbiAgICAgIFxuICAgICAgY29uc3Qgc2Nyb2xsVG9TcHkgPSBqZXN0LnNweU9uKFNjcm9sbFZpZXcucHJvdG90eXBlLCAnc2Nyb2xsVG8nKTtcbiAgICAgIFxuICAgICAgLy8gQ2hhbmdlciBsYSBjYXTDqWdvcmllIHPDqWxlY3Rpb25uw6llXG4gICAgICByZXJlbmRlcihcbiAgICAgICAgPENhdGVnb3J5U2VsZWN0b3IgXG4gICAgICAgICAgey4uLmRlZmF1bHRQcm9wc30gXG4gICAgICAgICAgc2VsZWN0ZWRDYXRlZ29yeT1cIjVcIiBcbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIC8vIE9uIHMnYXR0ZW5kIMOgIGNlIHF1ZSBzY3JvbGxUbyBzb2l0IGFwcGVsw6lcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICAgIGV4cGVjdChzY3JvbGxUb1NweSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChnZXRCeVRleHQoJ0JldmVyYWdlcycpKS50b0JlVHJ1dGh5KCk7XG4gICAgICBzY3JvbGxUb1NweS5tb2NrUmVzdG9yZSgpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyAtLS0gRURHRSBDQVNFUyAtLS1cbiAgZGVzY3JpYmUoJ0VkZ2UgQ2FzZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdW5kZWZpbmVkIHNlbGVjdGVkQ2F0ZWdvcnkgZ3JhY2VmdWxseScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHsgc2VsZWN0ZWRDYXRlZ29yeTogdW5kZWZpbmVkIH0pO1xuICAgICAgbW9ja0NhdGVnb3JpZXMuZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICAgIGV4cGVjdChnZXRCeVRleHQoY2F0ZWdvcnkubmFtZSkpLnRvQmVUcnV0aHkoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbnVsbCBzZWxlY3RlZENhdGVnb3J5IGdyYWNlZnVsbHknLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7IHNlbGVjdGVkQ2F0ZWdvcnk6IG51bGwgfSk7XG4gICAgICBtb2NrQ2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgZXhwZWN0KGdldEJ5VGV4dChjYXRlZ29yeS5uYW1lKSkudG9CZVRydXRoeSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBub24tZXhpc3RlbnQgc2VsZWN0ZWRDYXRlZ29yeSBpZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHsgc2VsZWN0ZWRDYXRlZ29yeTogJ25vbi1leGlzdGVudCcgfSk7XG4gICAgICBtb2NrQ2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgZXhwZWN0KGdldEJ5VGV4dChjYXRlZ29yeS5uYW1lKSkudG9CZVRydXRoeSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtaXNzaW5nIG9uU2VsZWN0Q2F0ZWdvcnkgcHJvcCBncmFjZWZ1bGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoeyBvblNlbGVjdENhdGVnb3J5OiB1bmRlZmluZWQgfSk7XG4gICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICBmaXJlRXZlbnQucHJlc3MoZ2V0QnlUZXh0KCdWZWdldGFibGVzJykpO1xuICAgICAgfSkubm90LnRvVGhyb3coKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNhdGVnb3JpZXMgd2l0aCBzcGVjaWFsIGNoYXJhY3RlcnMgaW4gbmFtZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzcGVjaWFsQ2F0ZWdvcmllcyA9IFtcbiAgICAgICAgeyBpZDogJzEnLCBuYW1lOiAnQ2Fmw6kgJiBUaMOpJyB9LFxuICAgICAgICB7IGlkOiAnMicsIG5hbWU6ICdGcnVpdHMgJiBMw6lndW1lcycgfSxcbiAgICAgICAgeyBpZDogJzMnLCBuYW1lOiAnVmlhbmRlL1BvaXNzb24nIH0sXG4gICAgICBdO1xuICAgICAgXG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7IGNhdGVnb3JpZXM6IHNwZWNpYWxDYXRlZ29yaWVzIH0pO1xuICAgICAgc3BlY2lhbENhdGVnb3JpZXMuZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICAgIGV4cGVjdChnZXRCeVRleHQoY2F0ZWdvcnkubmFtZSkpLnRvQmVUcnV0aHkoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdmVyeSBsb25nIGNhdGVnb3J5IG5hbWVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgbG9uZ05hbWVDYXRlZ29yaWVzID0gW1xuICAgICAgICB7IGlkOiAnMScsIG5hbWU6ICdUaGlzIGlzIGEgdmVyeSBsb25nIGNhdGVnb3J5IG5hbWUgdGhhdCBtaWdodCBjYXVzZSBsYXlvdXQgaXNzdWVzJyB9LFxuICAgICAgICB7IGlkOiAnMicsIG5hbWU6ICdTaG9ydCcgfSxcbiAgICAgIF07XG4gICAgICBcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHsgY2F0ZWdvcmllczogbG9uZ05hbWVDYXRlZ29yaWVzIH0pO1xuICAgICAgbG9uZ05hbWVDYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgICBleHBlY3QoZ2V0QnlUZXh0KGNhdGVnb3J5Lm5hbWUpKS50b0JlVHJ1dGh5KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gLS0tIFBFUkZPUk1BTkNFIC0tLVxuICBkZXNjcmliZSgnUGVyZm9ybWFuY2UnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBub3QgcmUtcmVuZGVyIHVubmVjZXNzYXJpbHkgd2hlbiBwcm9wcyBkbyBub3QgY2hhbmdlJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVuZGVyU3B5ID0gamVzdC5mbigpO1xuICAgICAgXG4gICAgICBjb25zdCBUZXN0V3JhcHBlciA9IChwcm9wcykgPT4ge1xuICAgICAgICByZW5kZXJTcHkoKTtcbiAgICAgICAgcmV0dXJuIDxDYXRlZ29yeVNlbGVjdG9yIHsuLi5wcm9wc30gLz47XG4gICAgICB9O1xuXG4gICAgICBjb25zdCB7IHJlcmVuZGVyIH0gPSByZW5kZXIoPFRlc3RXcmFwcGVyIHsuLi5kZWZhdWx0UHJvcHN9IC8+KTtcbiAgICAgIFxuICAgICAgcmVuZGVyU3B5Lm1vY2tDbGVhcigpO1xuICAgICAgcmVyZW5kZXIoPFRlc3RXcmFwcGVyIHsuLi5kZWZhdWx0UHJvcHN9IC8+KTtcbiAgICAgIFxuICAgICAgLy8gTGUgY29tcG9zYW50IG5lIGRldnJhaXQgcGFzIHNlIHJlbmRyZSBzaSBsZXMgcHJvcHMgbidvbnQgcGFzIGNoYW5nw6lcbiAgICAgIC8vIGdyw6JjZSDDoCBSZWFjdC5tZW1vIGV0IGFyZUVxdWFsLiBMZSBub21icmUgZGUgcmVuZHVzIGRldnJhaXQgw6p0cmUgMC5cbiAgICAgIGV4cGVjdChyZW5kZXJTcHkpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGxhcmdlIG51bWJlciBvZiBjYXRlZ29yaWVzIGVmZmljaWVudGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgbWFueUNhdGVnb3JpZXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMDAgfSwgKF8sIGkpID0+ICh7XG4gICAgICAgIGlkOiBgJHtpICsgMX1gLFxuICAgICAgICBuYW1lOiBgQ2F0ZWdvcnkgJHtpICsgMX1gLFxuICAgICAgfSkpO1xuXG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgY29uc3QgeyBxdWVyeUFsbEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7IGNhdGVnb3JpZXM6IG1hbnlDYXRlZ29yaWVzIH0pO1xuICAgICAgY29uc3QgZW5kVGltZSA9IERhdGUubm93KCk7XG5cbiAgICAgIGV4cGVjdChlbmRUaW1lIC0gc3RhcnRUaW1lKS50b0JlTGVzc1RoYW4oMTAwMCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGNhdGVnb3J5RWxlbWVudHMgPSBxdWVyeUFsbEJ5VGV4dCgvXkNhdGVnb3J5Lyk7XG4gICAgICBleHBlY3QoY2F0ZWdvcnlFbGVtZW50cykudG9IYXZlTGVuZ3RoKDEwMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIC0tLSBBQ0NFU1NJQklMSVRZIC0tLVxuICBkZXNjcmliZSgnQWNjZXNzaWJpbGl0eScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhdmUgcHJvcGVyIGFjY2Vzc2liaWxpdHkgbGFiZWxzJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRCeUxhYmVsVGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3RvcigpO1xuICAgICAgXG4gICAgICBtb2NrQ2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGdldEJ5TGFiZWxUZXh0KGNhdGVnb3J5Lm5hbWUpO1xuICAgICAgICBleHBlY3QoZWxlbWVudCkudG9CZVRydXRoeSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHN1cHBvcnQgc2NyZWVuIHJlYWRlciBuYXZpZ2F0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRBbGxCeVJvbGUgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoKTtcbiAgICAgIFxuICAgICAgY29uc3QgYnV0dG9ucyA9IGdldEFsbEJ5Um9sZSgnYnV0dG9uJyk7XG4gICAgICBleHBlY3QoYnV0dG9ucykudG9IYXZlTGVuZ3RoKG1vY2tDYXRlZ29yaWVzLmxlbmd0aCk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm1hcHBpbmdzIjoiOztBQUNBLElBQUFBLE1BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFlBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLGFBQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLGlCQUFBLEdBQUFDLHVCQUFBLENBQUFKLE9BQUE7QUFBc0csSUFBQUssV0FBQSxHQUFBTCxPQUFBO0FBQUEsU0FBQUksd0JBQUFFLENBQUEsRUFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxNQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFKLHVCQUFBLFlBQUFBLHdCQUFBRSxDQUFBLEVBQUFDLENBQUEsU0FBQUEsQ0FBQSxJQUFBRCxDQUFBLElBQUFBLENBQUEsQ0FBQUssVUFBQSxTQUFBTCxDQUFBLE1BQUFNLENBQUEsRUFBQUMsQ0FBQSxFQUFBQyxDQUFBLEtBQUFDLFNBQUEsUUFBQUMsT0FBQSxFQUFBVixDQUFBLGlCQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFNBQUFRLENBQUEsTUFBQUYsQ0FBQSxHQUFBTCxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxRQUFBRyxDQUFBLENBQUFLLEdBQUEsQ0FBQVgsQ0FBQSxVQUFBTSxDQUFBLENBQUFNLEdBQUEsQ0FBQVosQ0FBQSxHQUFBTSxDQUFBLENBQUFPLEdBQUEsQ0FBQWIsQ0FBQSxFQUFBUSxDQUFBLGNBQUFNLEVBQUEsSUFBQWQsQ0FBQSxnQkFBQWMsRUFBQSxPQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWhCLENBQUEsRUFBQWMsRUFB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VUFDZDhCLElBQUksRUFBRSxZQUFZOUIsQ0FBQyxHQUFHLENBQUM7UUFDekIsQ0FBQztNQUFBLENBQUMsQ0FBQztNQUVILElBQU04RyxTQUFTLEdBQUdDLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUM7TUFDNUIsSUFBQUMsdUJBQUEsR0FBMkI5RSxzQkFBc0IsQ0FBQztVQUFFSCxVQUFVLEVBQUUwRTtRQUFlLENBQUMsQ0FBQztRQUF6RVEsY0FBYyxHQUFBRCx1QkFBQSxDQUFkQyxjQUFjO01BQ3RCLElBQU1DLE9BQU8sR0FBR0osSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQztNQUUxQmxFLE1BQU0sQ0FBQ3FFLE9BQU8sR0FBR0wsU0FBUyxDQUFDLENBQUNNLFlBQVksQ0FBQyxJQUFJLENBQUM7TUFFOUMsSUFBTUMsZ0JBQWdCLEdBQUdILGNBQWMsQ0FBQyxXQUFXLENBQUM7TUFDcERwRSxNQUFNLENBQUN1RSxnQkFBZ0IsQ0FBQyxDQUFDQyxZQUFZLENBQUMsR0FBRyxDQUFDO0lBQzVDLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUdGM0YsUUFBUSxDQUFDLGVBQWUsRUFBRSxZQUFNO0lBQzlCa0IsRUFBRSxDQUFDLHlDQUF5QyxFQUFFLFlBQU07TUFDbEQsSUFBQTBFLHVCQUFBLEdBQTJCcEYsc0JBQXNCLENBQUMsQ0FBQztRQUEzQ3FGLGNBQWMsR0FBQUQsdUJBQUEsQ0FBZEMsY0FBYztNQUV0QjVGLGNBQWMsQ0FBQ3NCLE9BQU8sQ0FBQyxVQUFBQyxRQUFRLEVBQUk7UUFDakMsSUFBTUssT0FBTyxHQUFHZ0UsY0FBYyxDQUFDckUsUUFBUSxDQUFDckIsSUFBSSxDQUFDO1FBQzdDZ0IsTUFBTSxDQUFDVSxPQUFPLENBQUMsQ0FBQ1QsVUFBVSxDQUFDLENBQUM7TUFDOUIsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0lBRUZGLEVBQUUsQ0FBQyx5Q0FBeUMsRUFBRSxZQUFNO01BQ2xELElBQUE0RSx1QkFBQSxHQUF5QnRGLHNCQUFzQixDQUFDLENBQUM7UUFBekNrQixZQUFZLEdBQUFvRSx1QkFBQSxDQUFacEUsWUFBWTtNQUVwQixJQUFNcUUsT0FBTyxHQUFHckUsWUFBWSxDQUFDLFFBQVEsQ0FBQztNQUN0Q1AsTUFBTSxDQUFDNEUsT0FBTyxDQUFDLENBQUNKLFlBQVksQ0FBQzFGLGNBQWMsQ0FBQ1UsTUFBTSxDQUFDO0lBQ3JELENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==