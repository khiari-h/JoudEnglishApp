bf0979716c97f2c66c38fb5160f3136e
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = require("react");
var _expoRouter = require("expo-router");
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _RevisionPopup = _interopRequireDefault(require("../../Dashboard/components/popup/RevisionPopup"));
var _useRevisionSettings2 = require("../../../hooks/useRevisionSettings");
var _jsxRuntime = require("react/jsx-runtime");
var RevisionOrchestrator = function RevisionOrchestrator(_ref) {
  var _ref$currentLevel = _ref.currentLevel,
    currentLevel = _ref$currentLevel === void 0 ? "mixed" : _ref$currentLevel;
  var _useState = (0, _react.useState)(false),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    showPopup = _useState2[0],
    setShowPopup = _useState2[1];
  var _useState3 = (0, _react.useState)(0),
    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
    totalWords = _useState4[0],
    setTotalWords = _useState4[1];
  var _useState5 = (0, _react.useState)(false),
    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),
    isLoaded = _useState6[0],
    setIsLoaded = _useState6[1];
  var _useRevisionSettings = (0, _useRevisionSettings2.useRevisionSettings)(),
    preferences = _useRevisionSettings.preferences,
    disableRevisions = _useRevisionSettings.disableRevisions,
    resetToNextTarget = _useRevisionSettings.resetToNextTarget,
    updatePreferences = _useRevisionSettings.updatePreferences;
  var popupShownRef = (0, _react.useRef)(false);
  var countWords = function () {
    var _ref2 = (0, _asyncToGenerator2.default)(function* () {
      try {
        var total = 0;
        var levels = ['1', '2', '3', '4', '5', '6', 'bonus'];
        var modes = ['classic', 'fast'];
        for (var level of levels) {
          for (var mode of modes) {
            var stored = yield _asyncStorage.default.getItem(`vocabulary_${level}_${mode}`);
            if (stored) {
              var data = JSON.parse(stored);
              var completedWords = data.completedWords || {};
              total += Object.values(completedWords).reduce(function (acc, words) {
                if (Array.isArray(words)) {
                  return acc + words.length;
                }
                return acc;
              }, 0);
            }
          }
        }
        setTotalWords(total);
        return total;
      } catch (error) {
        return 0;
      }
    });
    return function countWords() {
      return _ref2.apply(this, arguments);
    };
  }();
  (0, _react.useEffect)(function () {
    var initializeRevision = function () {
      var _ref3 = (0, _asyncToGenerator2.default)(function* () {
        yield countWords();
        setIsLoaded(true);
      });
      return function initializeRevision() {
        return _ref3.apply(this, arguments);
      };
    }();
    initializeRevision();
  }, []);
  (0, _react.useEffect)(function () {
    if (!isLoaded) return;
    var shouldShow = !preferences.isDisabled && totalWords >= preferences.nextRevisionAt && totalWords > 0 && !popupShownRef.current;
    if (shouldShow) {
      popupShownRef.current = true;
      setTimeout(function () {
        return setShowPopup(true);
      }, 1000);
    }
  }, [isLoaded, preferences.isDisabled, totalWords, preferences.nextRevisionAt]);
  var handleChoice = (0, _react.useCallback)(function () {
    var _ref4 = (0, _asyncToGenerator2.default)(function* (choice) {
      setShowPopup(false);
      popupShownRef.current = false;
      switch (choice) {
        case 'now':
          {
            yield resetToNextTarget(totalWords);
            _expoRouter.router.push({
              pathname: "/tabs/vocabularyRevision",
              params: {
                level: currentLevel,
                questionsCount: preferences.questionsCount,
                source: 'popup_trigger'
              }
            });
            break;
          }
        case 'later_50':
          {
            var next50 = totalWords + 50;
            yield updatePreferences({
              nextRevisionAt: next50
            });
            break;
          }
        case 'later_100':
          {
            var next100 = totalWords + 100;
            yield updatePreferences({
              nextRevisionAt: next100
            });
            break;
          }
        case 'disable':
          {
            yield disableRevisions();
            break;
          }
        default:
          {
            var defaultNext = totalWords + 50;
            yield updatePreferences({
              nextRevisionAt: defaultNext
            });
            break;
          }
      }
    });
    return function (_x) {
      return _ref4.apply(this, arguments);
    };
  }(), [totalWords, disableRevisions, resetToNextTarget, updatePreferences, currentLevel, preferences.questionsCount]);
  var handleDismiss = (0, _react.useCallback)(function () {
    return handleChoice('later_50');
  }, [handleChoice]);
  if (preferences.isDisabled) {
    return null;
  }
  return (0, _jsxRuntime.jsx)(_RevisionPopup.default, {
    visible: showPopup,
    totalWordsLearned: totalWords,
    questionsCount: preferences.questionsCount,
    currentLevel: currentLevel,
    onChoice: handleChoice,
    onDismiss: handleDismiss
  });
};
var _default = exports.default = RevisionOrchestrator;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX2V4cG9Sb3V0ZXIiLCJfYXN5bmNTdG9yYWdlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9SZXZpc2lvblBvcHVwIiwiX3VzZVJldmlzaW9uU2V0dGluZ3MyIiwiX2pzeFJ1bnRpbWUiLCJSZXZpc2lvbk9yY2hlc3RyYXRvciIsIl9yZWYiLCJfcmVmJGN1cnJlbnRMZXZlbCIsImN1cnJlbnRMZXZlbCIsIl91c2VTdGF0ZSIsInVzZVN0YXRlIiwiX3VzZVN0YXRlMiIsIl9zbGljZWRUb0FycmF5MiIsImRlZmF1bHQiLCJzaG93UG9wdXAiLCJzZXRTaG93UG9wdXAiLCJfdXNlU3RhdGUzIiwiX3VzZVN0YXRlNCIsInRvdGFsV29yZHMiLCJzZXRUb3RhbFdvcmRzIiwiX3VzZVN0YXRlNSIsIl91c2VTdGF0ZTYiLCJpc0xvYWRlZCIsInNldElzTG9hZGVkIiwiX3VzZVJldmlzaW9uU2V0dGluZ3MiLCJ1c2VSZXZpc2lvblNldHRpbmdzIiwicHJlZmVyZW5jZXMiLCJkaXNhYmxlUmV2aXNpb25zIiwicmVzZXRUb05leHRUYXJnZXQiLCJ1cGRhdGVQcmVmZXJlbmNlcyIsInBvcHVwU2hvd25SZWYiLCJ1c2VSZWYiLCJjb3VudFdvcmRzIiwiX3JlZjIiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJ0b3RhbCIsImxldmVscyIsIm1vZGVzIiwibGV2ZWwiLCJtb2RlIiwic3RvcmVkIiwiQXN5bmNTdG9yYWdlIiwiZ2V0SXRlbSIsImRhdGEiLCJKU09OIiwicGFyc2UiLCJjb21wbGV0ZWRXb3JkcyIsIk9iamVjdCIsInZhbHVlcyIsInJlZHVjZSIsImFjYyIsIndvcmRzIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiZXJyb3IiLCJhcHBseSIsImFyZ3VtZW50cyIsInVzZUVmZmVjdCIsImluaXRpYWxpemVSZXZpc2lvbiIsIl9yZWYzIiwic2hvdWxkU2hvdyIsImlzRGlzYWJsZWQiLCJuZXh0UmV2aXNpb25BdCIsImN1cnJlbnQiLCJzZXRUaW1lb3V0IiwiaGFuZGxlQ2hvaWNlIiwidXNlQ2FsbGJhY2siLCJfcmVmNCIsImNob2ljZSIsInJvdXRlciIsInB1c2giLCJwYXRobmFtZSIsInBhcmFtcyIsInF1ZXN0aW9uc0NvdW50Iiwic291cmNlIiwibmV4dDUwIiwibmV4dDEwMCIsImRlZmF1bHROZXh0IiwiX3giLCJoYW5kbGVEaXNtaXNzIiwianN4IiwidmlzaWJsZSIsInRvdGFsV29yZHNMZWFybmVkIiwib25DaG9pY2UiLCJvbkRpc21pc3MiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvY29tcG9uZW50cy9yZXZpc2lvbi9SZXZpc2lvbk9yY2hlc3RyYXRvci9pbmRleC5qcyAtIFZFUlNJT04gQVZFQyBIT09LIFBBUlRBR8OJXHJcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHJvdXRlciB9IGZyb20gJ2V4cG8tcm91dGVyJztcclxuaW1wb3J0IEFzeW5jU3RvcmFnZSBmcm9tICdAcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UvYXN5bmMtc3RvcmFnZSc7XHJcbmltcG9ydCBSZXZpc2lvblBvcHVwIGZyb20gJy4uLy4uL0Rhc2hib2FyZC9jb21wb25lbnRzL3BvcHVwL1JldmlzaW9uUG9wdXAnO1xyXG5pbXBvcnQgeyB1c2VSZXZpc2lvblNldHRpbmdzIH0gZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlUmV2aXNpb25TZXR0aW5ncyc7IC8vIPCflKUgVVRJTElTRSBMRSBIT09LIEVYSVNUQU5UXHJcblxyXG5jb25zdCBSZXZpc2lvbk9yY2hlc3RyYXRvciA9ICh7IGN1cnJlbnRMZXZlbCA9IFwibWl4ZWRcIiB9KSA9PiB7XHJcbiAgY29uc3QgW3Nob3dQb3B1cCwgc2V0U2hvd1BvcHVwXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbdG90YWxXb3Jkcywgc2V0VG90YWxXb3Jkc10gPSB1c2VTdGF0ZSgwKTtcclxuICBjb25zdCBbaXNMb2FkZWQsIHNldElzTG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBcclxuICAvLyDwn5SlIFVUSUxJU0UgTEUgSE9PSyBQQVJUQUfDiSBBVSBMSUVVIERFIFNBIFBST1BSRSBMT0dJUVVFXHJcbiAgY29uc3QgeyBcclxuICAgIHByZWZlcmVuY2VzLCBcclxuICAgIGRpc2FibGVSZXZpc2lvbnMsIFxyXG4gICAgcmVzZXRUb05leHRUYXJnZXQsXHJcbiAgICB1cGRhdGVQcmVmZXJlbmNlcyBcclxuICB9ID0gdXNlUmV2aXNpb25TZXR0aW5ncygpO1xyXG4gIFxyXG4gIC8vIOKchSBQUk9URUNUSU9OIGNvbnRyZSBkb3VibGUtcG9wdXBcclxuICBjb25zdCBwb3B1cFNob3duUmVmID0gdXNlUmVmKGZhbHNlKTtcclxuXHJcbiAgLy8gPT09PT09PT09PSBDT01QVEFHRSBTSU1QTEUgKElOQ0hBTkfDiSkgPT09PT09PT09PVxyXG4gIGNvbnN0IGNvdW50V29yZHMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgdG90YWwgPSAwO1xyXG4gICAgICBjb25zdCBsZXZlbHMgPSBbJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJ2JvbnVzJ107XHJcbiAgICAgIGNvbnN0IG1vZGVzID0gWydjbGFzc2ljJywgJ2Zhc3QnXTtcclxuXHJcbiAgICAgIGZvciAoY29uc3QgbGV2ZWwgb2YgbGV2ZWxzKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBtb2RlIG9mIG1vZGVzKSB7XHJcbiAgICAgICAgICBjb25zdCBzdG9yZWQgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShgdm9jYWJ1bGFyeV8ke2xldmVsfV8ke21vZGV9YCk7XHJcbiAgICAgICAgICBpZiAoc3RvcmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHN0b3JlZCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRlZFdvcmRzID0gZGF0YS5jb21wbGV0ZWRXb3JkcyB8fCB7fTtcclxuICAgICAgICAgICAgdG90YWwgKz0gT2JqZWN0LnZhbHVlcyhjb21wbGV0ZWRXb3JkcykucmVkdWNlKChhY2MsIHdvcmRzKSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkod29yZHMpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjICsgd29yZHMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNldFRvdGFsV29yZHModG90YWwpO1xyXG4gICAgICByZXR1cm4gdG90YWw7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyA9PT09PT09PT09IENIQVJHRU1FTlQgSU5JVElBTCA9PT09PT09PT09XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGluaXRpYWxpemVSZXZpc2lvbiA9IGFzeW5jICgpID0+IHtcclxuICAgICAgYXdhaXQgY291bnRXb3JkcygpO1xyXG4gICAgICBzZXRJc0xvYWRlZCh0cnVlKTtcclxuICAgIH07XHJcblxyXG4gICAgaW5pdGlhbGl6ZVJldmlzaW9uKCk7XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyA9PT09PT09PT09IFbDiVJJRklDQVRJT04gUsOJVklTSU9OIChBVkVDIEhPT0spID09PT09PT09PT1cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgLy8g4pyFIEFUVEVORFJFIHF1ZSB0b3V0IHNvaXQgY2hhcmfDqVxyXG4gICAgaWYgKCFpc0xvYWRlZCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAvLyDwn5SlIFVUSUxJU0UgTEVTIFBSRUZFUkVOQ0VTIERVIEhPT0tcclxuICAgIGNvbnN0IHNob3VsZFNob3cgPSAhcHJlZmVyZW5jZXMuaXNEaXNhYmxlZCAmJiBcclxuICAgICAgICAgICAgICAgICAgICAgIHRvdGFsV29yZHMgPj0gcHJlZmVyZW5jZXMubmV4dFJldmlzaW9uQXQgJiYgXHJcbiAgICAgICAgICAgICAgICAgICAgICB0b3RhbFdvcmRzID4gMCAmJiBcclxuICAgICAgICAgICAgICAgICAgICAgICFwb3B1cFNob3duUmVmLmN1cnJlbnQ7IC8vIOKchSBTdXBwcmltw6kgIXNob3dQb3B1cCBwb3VyIMOpdml0ZXIgbGEgYm91Y2xlIGluZmluaWVcclxuXHJcbiAgICBpZiAoc2hvdWxkU2hvdykge1xyXG4gICAgICAvLyDinIUgUFJPVEVDVElPTiBkb3VibGUtcG9wdXBcclxuICAgICAgcG9wdXBTaG93blJlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRTaG93UG9wdXAodHJ1ZSksIDEwMDApO1xyXG4gICAgfVxyXG4gIH0sIFtpc0xvYWRlZCwgcHJlZmVyZW5jZXMuaXNEaXNhYmxlZCwgdG90YWxXb3JkcywgcHJlZmVyZW5jZXMubmV4dFJldmlzaW9uQXRdKTsgLy8g4pyFIFN1cHByaW3DqSBzaG93UG9wdXAgZGVzIGTDqXBlbmRhbmNlc1xyXG5cclxuICAvLyA9PT09PT09PT09IEhBTkRMRVJTIEFWRUMgSE9PSyBQQVJUQUfDiSA9PT09PT09PT09XHJcbiAgY29uc3QgaGFuZGxlQ2hvaWNlID0gdXNlQ2FsbGJhY2soYXN5bmMgKGNob2ljZSkgPT4ge1xyXG4gICAgc2V0U2hvd1BvcHVwKGZhbHNlKTtcclxuICAgIHBvcHVwU2hvd25SZWYuY3VycmVudCA9IGZhbHNlOyAvLyDinIUgUmVzZXQgcHJvdGVjdGlvblxyXG4gICAgXHJcbiAgICBzd2l0Y2ggKGNob2ljZSkge1xyXG4gICAgICBjYXNlICdub3cnOiB7XHJcbiAgICAgICAgLy8g4pyFIFByb2dyYW1tZXIgcHJvY2hhaW5lIHLDqXZpc2lvbiBBVkVDIExFIEhPT0tcclxuICAgICAgICBhd2FpdCByZXNldFRvTmV4dFRhcmdldCh0b3RhbFdvcmRzKTtcclxuICAgICAgICAvLyBOYXZpZ2F0aW9uXHJcbiAgICAgICAgcm91dGVyLnB1c2goe1xyXG4gICAgICAgICAgcGF0aG5hbWU6IFwiL3RhYnMvdm9jYWJ1bGFyeVJldmlzaW9uXCIsXHJcbiAgICAgICAgICBwYXJhbXM6IHtcclxuICAgICAgICAgICAgbGV2ZWw6IGN1cnJlbnRMZXZlbCxcclxuICAgICAgICAgICAgcXVlc3Rpb25zQ291bnQ6IHByZWZlcmVuY2VzLnF1ZXN0aW9uc0NvdW50LFxyXG4gICAgICAgICAgICBzb3VyY2U6ICdwb3B1cF90cmlnZ2VyJ1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgJ2xhdGVyXzUwJzoge1xyXG4gICAgICAgIGNvbnN0IG5leHQ1MCA9IHRvdGFsV29yZHMgKyA1MDtcclxuICAgICAgICBhd2FpdCB1cGRhdGVQcmVmZXJlbmNlcyh7IG5leHRSZXZpc2lvbkF0OiBuZXh0NTAgfSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgY2FzZSAnbGF0ZXJfMTAwJzoge1xyXG4gICAgICAgIGNvbnN0IG5leHQxMDAgPSB0b3RhbFdvcmRzICsgMTAwO1xyXG4gICAgICAgIGF3YWl0IHVwZGF0ZVByZWZlcmVuY2VzKHsgbmV4dFJldmlzaW9uQXQ6IG5leHQxMDAgfSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgY2FzZSAnZGlzYWJsZSc6IHtcclxuICAgICAgICAvLyDwn5SlIFVUSUxJU0UgTEEgRk9OQ1RJT04gRFUgSE9PSyAtIE1JU0Ugw4AgSk9VUiBBVVRPTUFUSVFVRSAhXHJcbiAgICAgICAgYXdhaXQgZGlzYWJsZVJldmlzaW9ucygpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICAvLyBGZXJtZXR1cmUgPSBsYXRlcl81MCBwYXIgZMOpZmF1dFxyXG4gICAgICAgIGNvbnN0IGRlZmF1bHROZXh0ID0gdG90YWxXb3JkcyArIDUwO1xyXG4gICAgICAgIGF3YWl0IHVwZGF0ZVByZWZlcmVuY2VzKHsgbmV4dFJldmlzaW9uQXQ6IGRlZmF1bHROZXh0IH0pO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSwgW3RvdGFsV29yZHMsIGRpc2FibGVSZXZpc2lvbnMsIHJlc2V0VG9OZXh0VGFyZ2V0LCB1cGRhdGVQcmVmZXJlbmNlcywgY3VycmVudExldmVsLCBwcmVmZXJlbmNlcy5xdWVzdGlvbnNDb3VudF0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVEaXNtaXNzID0gdXNlQ2FsbGJhY2soKCkgPT4gaGFuZGxlQ2hvaWNlKCdsYXRlcl81MCcpLCBbaGFuZGxlQ2hvaWNlXSk7XHJcblxyXG4gIC8vIOKchSBORSBQQVMgUkVORFJFIFNJIERJU0FCTEVEIChBVkVDIEhPT0spXHJcbiAgaWYgKHByZWZlcmVuY2VzLmlzRGlzYWJsZWQpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxSZXZpc2lvblBvcHVwXHJcbiAgICAgIHZpc2libGU9e3Nob3dQb3B1cH1cclxuICAgICAgdG90YWxXb3Jkc0xlYXJuZWQ9e3RvdGFsV29yZHN9XHJcbiAgICAgIHF1ZXN0aW9uc0NvdW50PXtwcmVmZXJlbmNlcy5xdWVzdGlvbnNDb3VudH0gLy8g8J+UpSBVVElMSVNFIExBIFZBTEVVUiBEVSBIT09LXHJcbiAgICAgIGN1cnJlbnRMZXZlbD17Y3VycmVudExldmVsfVxyXG4gICAgICBvbkNob2ljZT17aGFuZGxlQ2hvaWNlfVxyXG4gICAgICBvbkRpc21pc3M9e2hhbmRsZURpc21pc3N9XHJcbiAgICAvPlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBSZXZpc2lvbk9yY2hlc3Ry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