769c4b6d5aeccdca670cdbb1822813c7
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = require("react");
var _reactNative = require("react-native");
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var useErrorCorrection = function useErrorCorrection() {
  var _errorCorrectionData$;
  var errorCorrectionData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
  var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "A1";
  var _useState = (0, _react.useState)(null),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    selectedCategory = _useState2[0],
    setSelectedCategory = _useState2[1];
  var _useState3 = (0, _react.useState)(0),
    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
    currentExerciseIndex = _useState4[0],
    setCurrentExerciseIndex = _useState4[1];
  var _useState5 = (0, _react.useState)('full'),
    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),
    correctionMode = _useState6[0],
    setCorrectionMode = _useState6[1];
  var _useState7 = (0, _react.useState)(false),
    _useState8 = (0, _slicedToArray2.default)(_useState7, 2),
    showFeedback = _useState8[0],
    setShowFeedback = _useState8[1];
  var _useState9 = (0, _react.useState)(false),
    _useState0 = (0, _slicedToArray2.default)(_useState9, 2),
    isCorrect = _useState0[0],
    setIsCorrect = _useState0[1];
  var _useState1 = (0, _react.useState)(false),
    _useState10 = (0, _slicedToArray2.default)(_useState1, 2),
    showResults = _useState10[0],
    setShowResults = _useState10[1];
  var _useState11 = (0, _react.useState)(false),
    _useState12 = (0, _slicedToArray2.default)(_useState11, 2),
    isFinished = _useState12[0],
    setIsFinished = _useState12[1];
  var _useState13 = (0, _react.useState)({}),
    _useState14 = (0, _slicedToArray2.default)(_useState13, 2),
    completedExercises = _useState14[0],
    setCompletedExercises = _useState14[1];
  var _useState15 = (0, _react.useState)(false),
    _useState16 = (0, _slicedToArray2.default)(_useState15, 2),
    loaded = _useState16[0],
    setLoaded = _useState16[1];
  var _useState17 = (0, _react.useState)(false),
    _useState18 = (0, _slicedToArray2.default)(_useState17, 2),
    showDetailedProgress = _useState18[0],
    setShowDetailedProgress = _useState18[1];
  var _useState19 = (0, _react.useState)(''),
    _useState20 = (0, _slicedToArray2.default)(_useState19, 2),
    userCorrection = _useState20[0],
    setUserCorrection = _useState20[1];
  var _useState21 = (0, _react.useState)([]),
    _useState22 = (0, _slicedToArray2.default)(_useState21, 2),
    selectedErrorIndices = _useState22[0],
    setSelectedErrorIndices = _useState22[1];
  var _useState23 = (0, _react.useState)(null),
    _useState24 = (0, _slicedToArray2.default)(_useState23, 2),
    selectedChoiceIndex = _useState24[0],
    setSelectedChoiceIndex = _useState24[1];
  var _useState25 = (0, _react.useState)(0),
    _useState26 = (0, _slicedToArray2.default)(_useState25, 2),
    score = _useState26[0],
    setScore = _useState26[1];
  var _useState27 = (0, _react.useState)(false),
    _useState28 = (0, _slicedToArray2.default)(_useState27, 2),
    showHint = _useState28[0],
    setShowHint = _useState28[1];
  var isInitialized = (0, _react.useRef)(false);
  var categories = (errorCorrectionData == null ? void 0 : errorCorrectionData.categories) || [];
  var exercises = (errorCorrectionData == null || (_errorCorrectionData$ = errorCorrectionData.exercises) == null ? void 0 : _errorCorrectionData$.filter(function (ex) {
    return ex.categoryId === selectedCategory;
  })) || [];
  var currentCategory = categories.find(function (cat) {
    return cat.id === selectedCategory;
  }) || {
    name: "",
    id: null
  };
  var currentExercise = exercises[currentExerciseIndex] || {
    text: "",
    correctedText: "",
    errorPositions: [],
    choices: []
  };
  var totalCategories = categories.length;
  var totalExercisesInCategory = exercises.length;
  var STORAGE_KEY = `error_correction_${level}`;
  (0, _react.useEffect)(function () {
    var loadData = function () {
      var _ref = (0, _asyncToGenerator2.default)(function* () {
        try {
          var saved = yield _asyncStorage.default.getItem(STORAGE_KEY);
          if (saved) {
            var _JSON$parse = JSON.parse(saved),
              savedCompleted = _JSON$parse.completedExercises,
              lastPosition = _JSON$parse.lastPosition;
            setCompletedExercises(savedCompleted || {});
            if (lastPosition) {
              setSelectedCategory(lastPosition.categoryId || null);
              setCurrentExerciseIndex(lastPosition.exerciseIndex || 0);
            }
          }
        } catch (error) {} finally {
          setLoaded(true);
        }
      });
      return function loadData() {
        return _ref.apply(this, arguments);
      };
    }();
    loadData();
  }, [STORAGE_KEY]);
  var saveData = (0, _react.useCallback)((0, _asyncToGenerator2.default)(function* () {
    try {
      var dataToSave = {
        completedExercises: completedExercises,
        lastPosition: {
          categoryId: selectedCategory,
          exerciseIndex: currentExerciseIndex
        }
      };
      yield _asyncStorage.default.setItem(STORAGE_KEY, JSON.stringify(dataToSave));
    } catch (error) {}
  }), [completedExercises, selectedCategory, currentExerciseIndex, STORAGE_KEY]);
  (0, _react.useEffect)(function () {
    if (loaded) saveData();
  }, [saveData, loaded]);
  (0, _react.useEffect)(function () {
    if (loaded && errorCorrectionData && !isInitialized.current) {
      var newCompletedExercises = Object.assign({}, completedExercises);
      categories.forEach(function (category) {
        if (!newCompletedExercises[category.id]) {
          newCompletedExercises[category.id] = [];
        }
      });
      setCompletedExercises(newCompletedExercises);
      isInitialized.current = true;
    }
  }, [loaded, errorCorrectionData, categories, completedExercises]);
  (0, _react.useEffect)(function () {
    if (loaded && categories.length > 0 && !selectedCategory) {
      setSelectedCategory(categories[0].id);
    }
  }, [loaded, categories, selectedCategory]);
  var resetExerciseState = (0, _react.useCallback)(function () {
    setSelectedErrorIndices([]);
    setShowFeedback(false);
    setIsCorrect(false);
    setShowHint(false);
    setUserCorrection('');
  }, []);
  var changeCategory = (0, _react.useCallback)(function (newCategoryId) {
    setSelectedCategory(newCategoryId);
    setCurrentExerciseIndex(0);
    resetExerciseState();
  }, [resetExerciseState]);
  var startExercise = (0, _react.useCallback)(function () {
    var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'full';
    setCorrectionMode(mode);
    resetExerciseState();
    setShowResults(false);
    setScore(0);
    if (exercises.length > 0) {
      var firstExercise = exercises[0];
      switch (mode) {
        case 'full':
          setUserCorrection(firstExercise.text || '');
          break;
        case 'identify':
          setSelectedErrorIndices([]);
          break;
        case 'multiple_choice':
          setSelectedChoiceIndex(null);
          break;
        default:
          break;
      }
    }
  }, [exercises, resetExerciseState]);
  var toggleDetailedProgress = (0, _react.useCallback)(function () {
    setShowDetailedProgress(function (prev) {
      return !prev;
    });
  }, []);
  var handleWordPress = (0, _react.useCallback)(function (wordIndex) {
    if (showFeedback || correctionMode !== 'identify') return;
    setSelectedErrorIndices(function (prev) {
      return prev.includes(wordIndex) ? prev.filter(function (i) {
        return i !== wordIndex;
      }) : [].concat((0, _toConsumableArray2.default)(prev), [wordIndex]);
    });
  }, [showFeedback, correctionMode]);
  var handleChoiceSelect = (0, _react.useCallback)(function (choiceIndex) {
    if (showFeedback) return;
    setSelectedChoiceIndex(choiceIndex);
  }, [showFeedback]);
  var markExerciseAsCompleted = (0, _react.useCallback)(function (catId, exIndex) {
    setCompletedExercises(function (prev) {
      var categoryCompleted = prev[catId] || [];
      if (!categoryCompleted.includes(exIndex)) {
        return Object.assign({}, prev, (0, _defineProperty2.default)({}, catId, [].concat((0, _toConsumableArray2.default)(categoryCompleted), [exIndex])));
      }
      return prev;
    });
  }, []);
  var findNextUncompletedCategory = (0, _react.useCallback)(function () {
    var numCategories = categories.length;
    var _loop = function _loop() {
        var _errorCorrectionData$2, _completedExercises$n;
        var nextIndex = (categories.findIndex(function (cat) {
          return cat.id === selectedCategory;
        }) + i) % numCategories;
        var nextCategory = categories[nextIndex];
        var exercisesInCategory = (errorCorrectionData == null || (_errorCorrectionData$2 = errorCorrectionData.exercises) == null || (_errorCorrectionData$2 = _errorCorrectionData$2.filter(function (ex) {
          return ex.categoryId === nextCategory.id;
        })) == null ? void 0 : _errorCorrectionData$2.length) || 0;
        var completedInCategory = ((_completedExercises$n = completedExercises[nextCategory.id]) == null ? void 0 : _completedExercises$n.length) || 0;
        if (completedInCategory < exercisesInCategory) {
          return {
            v: nextCategory.id
          };
        }
      },
      _ret;
    for (var i = 1; i <= numCategories; i++) {
      _ret = _loop();
      if (_ret) return _ret.v;
    }
    return null;
  }, [categories, selectedCategory, completedExercises, errorCorrectionData]);
  var checkAnswer = (0, _react.useCallback)(function () {
    if (showFeedback) return false;
    var answerCorrect = false;
    switch (correctionMode) {
      case 'full':
        if (!userCorrection.trim()) return false;
        answerCorrect = userCorrection.trim().toLowerCase() === (currentExercise.correctedText || '').trim().toLowerCase();
        break;
      case 'identify':
        {
          var errorPositions = currentExercise.errorPositions || [];
          answerCorrect = selectedErrorIndices.length === errorPositions.length && selectedErrorIndices.every(function (index) {
            return errorPositions.includes(index);
          });
          break;
        }
      case 'multiple_choice':
        answerCorrect = selectedChoiceIndex === currentExercise.correctChoiceIndex;
        break;
      default:
        return false;
    }
    setIsCorrect(answerCorrect);
    setShowFeedback(true);
    if (answerCorrect) {
      setScore(function (prev) {
        return prev + 1;
      });
    }
    return answerCorrect;
  }, [showFeedback, correctionMode, userCorrection, selectedErrorIndices, selectedChoiceIndex, currentExercise]);
  var handleNext = (0, _react.useCallback)(function () {
    markExerciseAsCompleted(selectedCategory, currentExerciseIndex);
    if (currentExerciseIndex < totalExercisesInCategory - 1) {
      var nextIndex = currentExerciseIndex + 1;
      setCurrentExerciseIndex(nextIndex);
      resetExerciseState();
      var nextExercise = exercises[nextIndex];
      switch (correctionMode) {
        case 'full':
          setUserCorrection(nextExercise.text || '');
          break;
        case 'identify':
          setSelectedErrorIndices([]);
          break;
        case 'multiple_choice':
          setSelectedChoiceIndex(null);
          break;
        default:
          break;
      }
    } else {
      var nextCategoryId = findNextUncompletedCategory();
      if (nextCategoryId === null) {
        setIsFinished(true);
        var completionMessage = `Félicitations ! Vous avez terminé tous les exercices de correction d'erreurs ${level} !`;
        _reactNative.Alert.alert("Félicitations", completionMessage);
        return {
          completed: true
        };
      } else {
        changeCategory(nextCategoryId);
      }
    }
    return {
      completed: false
    };
  }, [selectedCategory, currentExerciseIndex, totalExercisesInCategory, markExerciseAsCompleted, resetExerciseState, exercises, correctionMode, findNextUncompletedCategory, changeCategory, level]);
  var handlePrevious = (0, _react.useCallback)(function () {
    if (currentExerciseIndex > 0) {
      var prevIndex = currentExerciseIndex - 1;
      setCurrentExerciseIndex(prevIndex);
      resetExerciseState();
      var prevExercise = exercises[prevIndex];
      switch (correctionMode) {
        case 'full':
          setUserCorrection(prevExercise.text || '');
          break;
        case 'identify':
          setSelectedErrorIndices([]);
          break;
        case 'multiple_choice':
          setSelectedChoiceIndex(null);
          break;
        default:
          break;
      }
      return;
    }
    var currentCategoryIndex = categories.findIndex(function (cat) {
      return cat.id === selectedCategory;
    });
    if (currentCategoryIndex > 0) {
      var _errorCorrectionData$3;
      var previousCategory = categories[currentCategoryIndex - 1];
      var exercisesInPreviousCategory = (errorCorrectionData == null || (_errorCorrectionData$3 = errorCorrectionData.exercises) == null ? void 0 : _errorCorrectionData$3.filter(function (ex) {
        return ex.categoryId === previousCategory.id;
      })) || [];
      var lastExerciseIndex = exercisesInPreviousCategory.length - 1;
      changeCategory(previousCategory.id);
      setCurrentExerciseIndex(lastExerciseIndex);
    }
  }, [currentExerciseIndex, exercises, correctionMode, resetExerciseState, categories, selectedCategory, errorCorrectionData, changeCategory]);
  var getStats = (0, _react.useCallback)(function () {
    var _completedExercises$s;
    var totalExercises = categories.reduce(function (sum, cat) {
      var _errorCorrectionData$4;
      var exercisesInCat = (errorCorrectionData == null || (_errorCorrectionData$4 = errorCorrectionData.exercises) == null || (_errorCorrectionData$4 = _errorCorrectionData$4.filter(function (ex) {
        return ex.categoryId === cat.id;
      })) == null ? void 0 : _errorCorrectionData$4.length) || 0;
      return sum + exercisesInCat;
    }, 0);
    var completedExercisesCount = Object.values(completedExercises).reduce(function (sum, completed) {
      return sum + ((completed == null ? void 0 : completed.length) || 0);
    }, 0);
    var totalProgress = totalExercises > 0 ? Math.round(completedExercisesCount / totalExercises * 100) : 0;
    return {
      totalExercises: totalExercises,
      completedExercisesCount: completedExercisesCount,
      totalProgress: totalProgress,
      completedInCurrentCategory: ((_completedExercises$s = completedExercises[selectedCategory]) == null ? void 0 : _completedExercises$s.length) || 0,
      totalInCurrentCategory: totalExercisesInCategory,
      completedExercises: completedExercises,
      score: score
    };
  }, [categories, errorCorrectionData, completedExercises, selectedCategory, totalExercisesInCategory, score]);
  var getDisplayData = (0, _react.useCallback)(function () {
    var exerciseCounter = `${currentExerciseIndex + 1} / ${totalExercisesInCategory}`;
    var categoryNames = categories.map(function (cat) {
      return cat.name;
    });
    return {
      exerciseCounter: exerciseCounter,
      categories: categoryNames,
      currentExercise: currentExercise,
      currentCategory: currentCategory
    };
  }, [currentExerciseIndex, totalExercisesInCategory, categories, currentExercise, currentCategory]);
  var canGoToPrevious = (0, _react.useCallback)(function () {
    if (currentExerciseIndex > 0) return true;
    var currentCategoryIndex = categories.findIndex(function (cat) {
      return cat.id === selectedCategory;
    });
    if (currentCategoryIndex > 0) {
      var _errorCorrectionData$5;
      var previousCategory = categories[currentCategoryIndex - 1];
      var exercisesInPreviousCategory = (errorCorrectionData == null || (_errorCorrectionData$5 = errorCorrectionData.exercises) == null ? void 0 : _errorCorrectionData$5.filter(function (ex) {
        return ex.categoryId === previousCategory.id;
      })) || [];
      return exercisesInPreviousCategory.length > 0;
    }
    return false;
  }, [currentExerciseIndex, categories, selectedCategory, errorCorrectionData]);
  var isLastExerciseInCategory = (0, _react.useCallback)(function () {
    return currentExerciseIndex === totalExercisesInCategory - 1;
  }, [currentExerciseIndex, totalExercisesInCategory]);
  var hasValidData = (errorCorrectionData == null ? void 0 : errorCorrectionData.categories) && Array.isArray(errorCorrectionData.categories) && errorCorrectionData.categories.length > 0;
  return {
    selectedCategory: selectedCategory,
    currentExerciseIndex: currentExerciseIndex,
    correctionMode: correctionMode,
    showFeedback: showFeedback,
    isCorrect: isCorrect,
    showResults: showResults,
    isFinished: isFinished,
    completedExercises: completedExercises,
    loaded: loaded,
    showDetailedProgress: showDetailedProgress,
    userCorrection: userCorrection,
    selectedErrorIndices: selectedErrorIndices,
    selectedChoiceIndex: selectedChoiceIndex,
    score: score,
    showHint: showHint,
    currentExercise: currentExercise,
    currentCategory: currentCategory,
    totalCategories: totalCategories,
    totalExercisesInCategory: totalExercisesInCategory,
    exercises: exercises,
    changeCategory: changeCategory,
    startExercise: startExercise,
    resetExerciseState: resetExerciseState,
    toggleDetailedProgress: toggleDetailedProgress,
    handleNext: handleNext,
    handlePrevious: handlePrevious,
    checkAnswer: checkAnswer,
    handleWordPress: handleWordPress,
    handleChoiceSelect: handleChoiceSelect,
    setUserCorrection: setUserCorrection,
    setShowHint: setShowHint,
    setShowResults: setShowResults,
    canGoToPrevious: canGoToPrevious(),
    isLastExerciseInCategory: isLastExerciseInCategory(),
    hasValidData: hasValidData,
    stats: getStats(),
    display: getDisplayData()
  };
};
var _default = exports.default = useErrorCorrection;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX3JlYWN0TmF0aXZlIiwiX2FzeW5jU3RvcmFnZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJ1c2VFcnJvckNvcnJlY3Rpb24iLCJfZXJyb3JDb3JyZWN0aW9uRGF0YSQiLCJlcnJvckNvcnJlY3Rpb25EYXRhIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwibGV2ZWwiLCJfdXNlU3RhdGUiLCJ1c2VTdGF0ZSIsIl91c2VTdGF0ZTIiLCJfc2xpY2VkVG9BcnJheTIiLCJkZWZhdWx0Iiwic2VsZWN0ZWRDYXRlZ29yeSIsInNldFNlbGVjdGVkQ2F0ZWdvcnkiLCJfdXNlU3RhdGUzIiwiX3VzZVN0YXRlNCIsImN1cnJlbnRFeGVyY2lzZUluZGV4Iiwic2V0Q3VycmVudEV4ZXJjaXNlSW5kZXgiLCJfdXNlU3RhdGU1IiwiX3VzZVN0YXRlNiIsImNvcnJlY3Rpb25Nb2RlIiwic2V0Q29ycmVjdGlvbk1vZGUiLCJfdXNlU3RhdGU3IiwiX3VzZVN0YXRlOCIsInNob3dGZWVkYmFjayIsInNldFNob3dGZWVkYmFjayIsIl91c2VTdGF0ZTkiLCJfdXNlU3RhdGUwIiwiaXNDb3JyZWN0Iiwic2V0SXNDb3JyZWN0IiwiX3VzZVN0YXRlMSIsIl91c2VTdGF0ZTEwIiwic2hvd1Jlc3VsdHMiLCJzZXRTaG93UmVzdWx0cyIsIl91c2VTdGF0ZTExIiwiX3VzZVN0YXRlMTIiLCJpc0ZpbmlzaGVkIiwic2V0SXNGaW5pc2hlZCIsIl91c2VTdGF0ZTEzIiwiX3VzZVN0YXRlMTQiLCJjb21wbGV0ZWRFeGVyY2lzZXMiLCJzZXRDb21wbGV0ZWRFeGVyY2lzZXMiLCJfdXNlU3RhdGUxNSIsIl91c2VTdGF0ZTE2IiwibG9hZGVkIiwic2V0TG9hZGVkIiwiX3VzZVN0YXRlMTciLCJfdXNlU3RhdGUxOCIsInNob3dEZXRhaWxlZFByb2dyZXNzIiwic2V0U2hvd0RldGFpbGVkUHJvZ3Jlc3MiLCJfdXNlU3RhdGUxOSIsIl91c2VTdGF0ZTIwIiwidXNlckNvcnJlY3Rpb24iLCJzZXRVc2VyQ29ycmVjdGlvbiIsIl91c2VTdGF0ZTIxIiwiX3VzZVN0YXRlMjIiLCJzZWxlY3RlZEVycm9ySW5kaWNlcyIsInNldFNlbGVjdGVkRXJyb3JJbmRpY2VzIiwiX3VzZVN0YXRlMjMiLCJfdXNlU3RhdGUyNCIsInNlbGVjdGVkQ2hvaWNlSW5kZXgiLCJzZXRTZWxlY3RlZENob2ljZUluZGV4IiwiX3VzZVN0YXRlMjUiLCJfdXNlU3RhdGUyNiIsInNjb3JlIiwic2V0U2NvcmUiLCJfdXNlU3RhdGUyNyIsIl91c2VTdGF0ZTI4Iiwic2hvd0hpbnQiLCJzZXRTaG93SGludCIsImlzSW5pdGlhbGl6ZWQiLCJ1c2VSZWYiLCJjYXRlZ29yaWVzIiwiZXhlcmNpc2VzIiwiZmlsdGVyIiwiZXgiLCJjYXRlZ29yeUlkIiwiY3VycmVudENhdGVnb3J5IiwiZmluZCIsImNhdCIsImlkIiwibmFtZSIsImN1cnJlbnRFeGVyY2lzZSIsInRleHQiLCJjb3JyZWN0ZWRUZXh0IiwiZXJyb3JQb3NpdGlvbnMiLCJjaG9pY2VzIiwidG90YWxDYXRlZ29yaWVzIiwidG90YWxFeGVyY2lzZXNJbkNhdGVnb3J5IiwiU1RPUkFHRV9LRVkiLCJ1c2VFZmZlY3QiLCJsb2FkRGF0YSIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJzYXZlZCIsIkFzeW5jU3RvcmFnZSIsImdldEl0ZW0iLCJfSlNPTiRwYXJzZSIsIkpTT04iLCJwYXJzZSIsInNhdmVkQ29tcGxldGVkIiwibGFzdFBvc2l0aW9uIiwiZXhlcmNpc2VJbmRleCIsImVycm9yIiwiYXBwbHkiLCJzYXZlRGF0YSIsInVzZUNhbGxiYWNrIiwiZGF0YVRvU2F2ZSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJjdXJyZW50IiwibmV3Q29tcGxldGVkRXhlcmNpc2VzIiwiT2JqZWN0IiwiYXNzaWduIiwiZm9yRWFjaCIsImNhdGVnb3J5IiwicmVzZXRFeGVyY2lzZVN0YXRlIiwiY2hhbmdlQ2F0ZWdvcnkiLCJuZXdDYXRlZ29yeUlkIiwic3RhcnRFeGVyY2lzZSIsIm1vZGUiLCJmaXJzdEV4ZXJjaXNlIiwidG9nZ2xlRGV0YWlsZWRQcm9ncmVzcyIsInByZXYiLCJoYW5kbGVXb3JkUHJlc3MiLCJ3b3JkSW5kZXgiLCJpbmNsdWRlcyIsImkiLCJjb25jYXQiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwiaGFuZGxlQ2hvaWNlU2VsZWN0IiwiY2hvaWNlSW5kZXgiLCJtYXJrRXhlcmNpc2VBc0NvbXBsZXRlZCIsImNhdElkIiwiZXhJbmRleCIsImNhdGVnb3J5Q29tcGxldGVkIiwiX2RlZmluZVByb3BlcnR5MiIsImZpbmROZXh0VW5jb21wbGV0ZWRDYXRlZ29yeSIsIm51bUNhdGVnb3JpZXMiLCJfbG9vcCIsIl9lcnJvckNvcnJlY3Rpb25EYXRhJDIiLCJfY29tcGxldGVkRXhlcmNpc2VzJG4iLCJuZXh0SW5kZXgiLCJmaW5kSW5kZXgiLCJuZXh0Q2F0ZWdvcnkiLCJleGVyY2lzZXNJbkNhdGVnb3J5IiwiY29tcGxldGVkSW5DYXRlZ29yeSIsInYiLCJfcmV0IiwiY2hlY2tBbnN3ZXIiLCJhbnN3ZXJDb3JyZWN0IiwidHJpbSIsInRvTG93ZXJDYXNlIiwiZXZlcnkiLCJpbmRleCIsImNvcnJlY3RDaG9pY2VJbmRleCIsImhhbmRsZU5leHQiLCJuZXh0RXhlcmNpc2UiLCJuZXh0Q2F0ZWdvcnlJZCIsImNvbXBsZXRpb25NZXNzYWdlIiwiQWxlcnQiLCJhbGVydCIsImNvbXBsZXRlZCIsImhhbmRsZVByZXZpb3VzIiwicHJldkluZGV4IiwicHJldkV4ZXJjaXNlIiwiY3VycmVudENhdGVnb3J5SW5kZXgiLCJfZXJyb3JDb3JyZWN0aW9uRGF0YSQzIiwicHJldmlvdXNDYXRlZ29yeSIsImV4ZXJjaXNlc0luUHJldmlvdXNDYXRlZ29yeSIsImxhc3RFeGVyY2lzZUluZGV4IiwiZ2V0U3RhdHMiLCJfY29tcGxldGVkRXhlcmNpc2VzJHMiLCJ0b3RhbEV4ZXJjaXNlcyIsInJlZHVjZSIsInN1bSIsIl9lcnJvckNvcnJlY3Rpb25EYXRhJDQiLCJleGVyY2lzZXNJbkNhdCIsImNvbXBsZXRlZEV4ZXJjaXNlc0NvdW50IiwidmFsdWVzIiwidG90YWxQcm9ncmVzcyIsIk1hdGgiLCJyb3VuZCIsImNvbXBsZXRlZEluQ3VycmVudENhdGVnb3J5IiwidG90YWxJbkN1cnJlbnRDYXRlZ29yeSIsImdldERpc3BsYXlEYXRhIiwiZXhlcmNpc2VDb3VudGVyIiwiY2F0ZWdvcnlOYW1lcyIsIm1hcCIsImNhbkdvVG9QcmV2aW91cyIsIl9lcnJvckNvcnJlY3Rpb25EYXRhJDUiLCJpc0xhc3RFeGVyY2lzZUluQ2F0ZWdvcnkiLCJoYXNWYWxpZERhdGEiLCJBcnJheSIsImlzQXJyYXkiLCJzdGF0cyIsImRpc3BsYXkiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlcyI6WyJ1c2VFcnJvckNvcnJlY3Rpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaG9va3MvdXNlRXJyb3JDb3JyZWN0aW9uLmpzIC0gSE9PSyBVTklGScOJIFNJTVBMRVxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEFsZXJ0IH0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCBBc3luY1N0b3JhZ2UgZnJvbSAnQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlL2FzeW5jLXN0b3JhZ2UnO1xuXG4vKipcbiAqIPCfjq8gSG9vayB1bmlmacOpIHBvdXIgRXJyb3IgQ29ycmVjdGlvbiBFeGVyY2lzZVxuICogUmVtcGxhY2UgdXNlRXJyb3JDb3JyZWN0aW9uRXhlcmNpc2VTdGF0ZSArIHVzZUVycm9yQ29ycmVjdGlvblByb2dyZXNzXG4gKiBTaW1wbGUsIGVmZmljYWNlLCBtYWludGVuYWJsZSAtIHBhdHRlcm4gaWRlbnRpcXVlIMOgIHVzZVZvY2FidWxhcnlcbiAqL1xuY29uc3QgdXNlRXJyb3JDb3JyZWN0aW9uID0gKGVycm9yQ29ycmVjdGlvbkRhdGEgPSBudWxsLCBsZXZlbCA9IFwiQTFcIikgPT4ge1xuICBcbiAgLy8gPT09PT09PT09PT09PT09PT09PSBDT1JFIFNUQVRFID09PT09PT09PT09PT09PT09PT1cbiAgY29uc3QgW3NlbGVjdGVkQ2F0ZWdvcnksIHNldFNlbGVjdGVkQ2F0ZWdvcnldID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtjdXJyZW50RXhlcmNpc2VJbmRleCwgc2V0Q3VycmVudEV4ZXJjaXNlSW5kZXhdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtjb3JyZWN0aW9uTW9kZSwgc2V0Q29ycmVjdGlvbk1vZGVdID0gdXNlU3RhdGUoJ2Z1bGwnKTsgLy8gJ2Z1bGwnLCAnaWRlbnRpZnknLCAnbXVsdGlwbGVfY2hvaWNlJ1xuICBjb25zdCBbc2hvd0ZlZWRiYWNrLCBzZXRTaG93RmVlZGJhY2tdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNDb3JyZWN0LCBzZXRJc0NvcnJlY3RdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd1Jlc3VsdHMsIHNldFNob3dSZXN1bHRzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzRmluaXNoZWQsIHNldElzRmluaXNoZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29tcGxldGVkRXhlcmNpc2VzLCBzZXRDb21wbGV0ZWRFeGVyY2lzZXNdID0gdXNlU3RhdGUoe30pO1xuICBjb25zdCBbbG9hZGVkLCBzZXRMb2FkZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd0RldGFpbGVkUHJvZ3Jlc3MsIHNldFNob3dEZXRhaWxlZFByb2dyZXNzXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyA9PT09PT09PT09PT09PT09PT09IE1PREUtU1BFQ0lGSUMgU1RBVEUgPT09PT09PT09PT09PT09PT09PVxuICBjb25zdCBbdXNlckNvcnJlY3Rpb24sIHNldFVzZXJDb3JyZWN0aW9uXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3NlbGVjdGVkRXJyb3JJbmRpY2VzLCBzZXRTZWxlY3RlZEVycm9ySW5kaWNlc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtzZWxlY3RlZENob2ljZUluZGV4LCBzZXRTZWxlY3RlZENob2ljZUluZGV4XSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbc2NvcmUsIHNldFNjb3JlXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbc2hvd0hpbnQsIHNldFNob3dIaW50XSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyA9PT09PT09PT09PT09PT09PT09IFJFRlMgPT09PT09PT09PT09PT09PT09PVxuICBjb25zdCBpc0luaXRpYWxpemVkID0gdXNlUmVmKGZhbHNlKTtcblxuICAvLyA9PT09PT09PT09PT09PT09PT09IENPTVBVVEVEIFZBTFVFUyA9PT09PT09PT09PT09PT09PT09XG4gIGNvbnN0IGNhdGVnb3JpZXMgPSBlcnJvckNvcnJlY3Rpb25EYXRhPy5jYXRlZ29yaWVzIHx8IFtdO1xuICBjb25zdCBleGVyY2lzZXMgPSBlcnJvckNvcnJlY3Rpb25EYXRhPy5leGVyY2lzZXM/LmZpbHRlcihcbiAgICBleCA9PiBleC5jYXRlZ29yeUlkID09PSBzZWxlY3RlZENhdGVnb3J5XG4gICkgfHwgW107XG4gIGNvbnN0IGN1cnJlbnRDYXRlZ29yeSA9IGNhdGVnb3JpZXMuZmluZChjYXQgPT4gY2F0LmlkID09PSBzZWxlY3RlZENhdGVnb3J5KSB8fCB7IG5hbWU6IFwiXCIsIGlkOiBudWxsIH07XG4gIGNvbnN0IGN1cnJlbnRFeGVyY2lzZSA9IGV4ZXJjaXNlc1tjdXJyZW50RXhlcmNpc2VJbmRleF0gfHwgeyB0ZXh0OiBcIlwiLCBjb3JyZWN0ZWRUZXh0OiBcIlwiLCBlcnJvclBvc2l0aW9uczogW10sIGNob2ljZXM6IFtdIH07XG4gIGNvbnN0IHRvdGFsQ2F0ZWdvcmllcyA9IGNhdGVnb3JpZXMubGVuZ3RoO1xuICBjb25zdCB0b3RhbEV4ZXJjaXNlc0luQ2F0ZWdvcnkgPSBleGVyY2lzZXMubGVuZ3RoO1xuICBcbiAgLy8gPT09PT09PT09PT09PT09PT09PSBQRVJTSVNURU5DRSA9PT09PT09PT09PT09PT09PT09XG4gIGNvbnN0IFNUT1JBR0VfS0VZID0gYGVycm9yX2NvcnJlY3Rpb25fJHtsZXZlbH1gO1xuXG4gIC8vIExvYWQgZGF0YSBmcm9tIHN0b3JhZ2VcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBsb2FkRGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgQXN5bmNTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVkpO1xuICAgICAgICBpZiAoc2F2ZWQpIHtcbiAgICAgICAgICBjb25zdCB7IGNvbXBsZXRlZEV4ZXJjaXNlczogc2F2ZWRDb21wbGV0ZWQsIGxhc3RQb3NpdGlvbiB9ID0gSlNPTi5wYXJzZShzYXZlZCk7XG4gICAgICAgICAgc2V0Q29tcGxldGVkRXhlcmNpc2VzKHNhdmVkQ29tcGxldGVkIHx8IHt9KTtcbiAgICAgICAgICBpZiAobGFzdFBvc2l0aW9uKSB7XG4gICAgICAgICAgICBzZXRTZWxlY3RlZENhdGVnb3J5KGxhc3RQb3NpdGlvbi5jYXRlZ29yeUlkIHx8IG51bGwpO1xuICAgICAgICAgICAgc2V0Q3VycmVudEV4ZXJjaXNlSW5kZXgobGFzdFBvc2l0aW9uLmV4ZXJjaXNlSW5kZXggfHwgMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBJZ25vcmVkIG9uIHB1cnBvc2VcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldExvYWRlZCh0cnVlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGxvYWREYXRhKCk7XG4gIH0sIFtTVE9SQUdFX0tFWV0pOyAvLyBEw6lwZW5kYW5jZSBwbHVzIGV4cGxpY2l0ZSBldCBjb2jDqXJlbnRlXG5cbiAgLy8gU2F2ZSBkYXRhIHRvIHN0b3JhZ2VcbiAgY29uc3Qgc2F2ZURhdGEgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRhdGFUb1NhdmUgPSB7XG4gICAgICAgIGNvbXBsZXRlZEV4ZXJjaXNlcyxcbiAgICAgICAgbGFzdFBvc2l0aW9uOiB7XG4gICAgICAgICAgY2F0ZWdvcnlJZDogc2VsZWN0ZWRDYXRlZ29yeSxcbiAgICAgICAgICBleGVyY2lzZUluZGV4OiBjdXJyZW50RXhlcmNpc2VJbmRleFxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgYXdhaXQgQXN5bmNTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVksIEpTT04uc3RyaW5naWZ5KGRhdGFUb1NhdmUpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gSWdub3JlZCBvbiBwdXJwb3NlXG4gICAgfVxuICB9LCBbY29tcGxldGVkRXhlcmNpc2VzLCBzZWxlY3RlZENhdGVnb3J5LCBjdXJyZW50RXhlcmNpc2VJbmRleCwgU1RPUkFHRV9LRVldKTtcblxuICAvLyBBdXRvLXNhdmUgd2hlbiBkYXRhIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAobG9hZGVkKSBzYXZlRGF0YSgpO1xuICB9LCBbc2F2ZURhdGEsIGxvYWRlZF0pO1xuXG4gIC8vIEluaXRpYWxpemUgcHJvZ3Jlc3MgZm9yIG5ldyBjYXRlZ29yaWVzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGxvYWRlZCAmJiBlcnJvckNvcnJlY3Rpb25EYXRhICYmICFpc0luaXRpYWxpemVkLmN1cnJlbnQpIHtcbiAgICAgIGNvbnN0IG5ld0NvbXBsZXRlZEV4ZXJjaXNlcyA9IHsgLi4uY29tcGxldGVkRXhlcmNpc2VzIH07XG4gICAgICBjYXRlZ29yaWVzLmZvckVhY2goKGNhdGVnb3J5KSA9PiB7XG4gICAgICAgIGlmICghbmV3Q29tcGxldGVkRXhlcmNpc2VzW2NhdGVnb3J5LmlkXSkge1xuICAgICAgICAgIG5ld0NvbXBsZXRlZEV4ZXJjaXNlc1tjYXRlZ29yeS5pZF0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBzZXRDb21wbGV0ZWRFeGVyY2lzZXMobmV3Q29tcGxldGVkRXhlcmNpc2VzKTtcbiAgICAgIGlzSW5pdGlhbGl6ZWQuY3VycmVudCA9IHRydWU7XG4gICAgfVxuICB9LCBbbG9hZGVkLCBlcnJvckNvcnJlY3Rpb25EYXRhLCBjYXRlZ29yaWVzLCBjb21wbGV0ZWRFeGVyY2lzZXNdKTtcblxuICAvLyBJbml0aWFsaXplIGZpcnN0IGNhdGVnb3J5XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGxvYWRlZCAmJiBjYXRlZ29yaWVzLmxlbmd0aCA+IDAgJiYgIXNlbGVjdGVkQ2F0ZWdvcnkpIHtcbiAgICAgIHNldFNlbGVjdGVkQ2F0ZWdvcnkoY2F0ZWdvcmllc1swXS5pZCk7XG4gICAgfVxuICB9LCBbbG9hZGVkLCBjYXRlZ29yaWVzLCBzZWxlY3RlZENhdGVnb3J5XSk7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PSBOQVZJR0FUSU9OIEFDVElPTlMgPT09PT09PT09PT09PT09PT09PVxuICBjb25zdCByZXNldEV4ZXJjaXNlU3RhdGUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0U2VsZWN0ZWRFcnJvckluZGljZXMoW10pO1xuICAgIHNldFNob3dGZWVkYmFjayhmYWxzZSk7XG4gICAgc2V0SXNDb3JyZWN0KGZhbHNlKTtcbiAgICBzZXRTaG93SGludChmYWxzZSk7XG4gICAgc2V0VXNlckNvcnJlY3Rpb24oJycpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgY2hhbmdlQ2F0ZWdvcnkgPSB1c2VDYWxsYmFjaygobmV3Q2F0ZWdvcnlJZCkgPT4ge1xuICAgIHNldFNlbGVjdGVkQ2F0ZWdvcnkobmV3Q2F0ZWdvcnlJZCk7XG4gICAgc2V0Q3VycmVudEV4ZXJjaXNlSW5kZXgoMCk7XG4gICAgcmVzZXRFeGVyY2lzZVN0YXRlKCk7XG4gIH0sIFtyZXNldEV4ZXJjaXNlU3RhdGVdKTtcblxuICBjb25zdCBzdGFydEV4ZXJjaXNlID0gdXNlQ2FsbGJhY2soKG1vZGUgPSAnZnVsbCcpID0+IHtcbiAgICBzZXRDb3JyZWN0aW9uTW9kZShtb2RlKTtcbiAgICByZXNldEV4ZXJjaXNlU3RhdGUoKTtcbiAgICBzZXRTaG93UmVzdWx0cyhmYWxzZSk7XG4gICAgc2V0U2NvcmUoMCk7XG5cbiAgICAvLyBJbml0aWFsaXplIGJhc2VkIG9uIG1vZGVcbiAgICBpZiAoZXhlcmNpc2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGZpcnN0RXhlcmNpc2UgPSBleGVyY2lzZXNbMF07XG4gICAgICBzd2l0Y2gobW9kZSkge1xuICAgICAgICBjYXNlICdmdWxsJzpcbiAgICAgICAgICBzZXRVc2VyQ29ycmVjdGlvbihmaXJzdEV4ZXJjaXNlLnRleHQgfHwgJycpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdpZGVudGlmeSc6XG4gICAgICAgICAgc2V0U2VsZWN0ZWRFcnJvckluZGljZXMoW10pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdtdWx0aXBsZV9jaG9pY2UnOlxuICAgICAgICAgIHNldFNlbGVjdGVkQ2hvaWNlSW5kZXgobnVsbCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gTm8gZGVmYXVsdCBhY3Rpb24gbmVlZGVkXG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9LCBbZXhlcmNpc2VzLCByZXNldEV4ZXJjaXNlU3RhdGVdKTtcblxuICBjb25zdCB0b2dnbGVEZXRhaWxlZFByb2dyZXNzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldFNob3dEZXRhaWxlZFByb2dyZXNzKHByZXYgPT4gIXByZXYpO1xuICB9LCBbXSk7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PSBNT0RFLVNQRUNJRklDIEFDVElPTlMgPT09PT09PT09PT09PT09PT09PVxuICBjb25zdCBoYW5kbGVXb3JkUHJlc3MgPSB1c2VDYWxsYmFjaygod29yZEluZGV4KSA9PiB7XG4gICAgaWYgKHNob3dGZWVkYmFjayB8fCBjb3JyZWN0aW9uTW9kZSAhPT0gJ2lkZW50aWZ5JykgcmV0dXJuO1xuXG4gICAgc2V0U2VsZWN0ZWRFcnJvckluZGljZXMocHJldiA9PiBcbiAgICAgIHByZXYuaW5jbHVkZXMod29yZEluZGV4KSBcbiAgICAgICAgPyBwcmV2LmZpbHRlcihpID0+IGkgIT09IHdvcmRJbmRleClcbiAgICAgICAgOiBbLi4ucHJldiwgd29yZEluZGV4XVxuICAgICk7XG4gIH0sIFtzaG93RmVlZGJhY2ssIGNvcnJlY3Rpb25Nb2RlXSk7XG5cbiAgY29uc3QgaGFuZGxlQ2hvaWNlU2VsZWN0ID0gdXNlQ2FsbGJhY2soKGNob2ljZUluZGV4KSA9PiB7XG4gICAgaWYgKHNob3dGZWVkYmFjaykgcmV0dXJuO1xuICAgIHNldFNlbGVjdGVkQ2hvaWNlSW5kZXgoY2hvaWNlSW5kZXgpO1xuICB9LCBbc2hvd0ZlZWRiYWNrXSk7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PSBDT01QTEVUSU9OIExPR0lDID09PT09PT09PT09PT09PT09PT1cbiAgY29uc3QgbWFya0V4ZXJjaXNlQXNDb21wbGV0ZWQgPSB1c2VDYWxsYmFjaygoY2F0SWQsIGV4SW5kZXgpID0+IHtcbiAgICBzZXRDb21wbGV0ZWRFeGVyY2lzZXMocHJldiA9PiB7XG4gICAgICBjb25zdCBjYXRlZ29yeUNvbXBsZXRlZCA9IHByZXZbY2F0SWRdIHx8IFtdO1xuICAgICAgaWYgKCFjYXRlZ29yeUNvbXBsZXRlZC5pbmNsdWRlcyhleEluZGV4KSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgW2NhdElkXTogWy4uLmNhdGVnb3J5Q29tcGxldGVkLCBleEluZGV4XVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByZXY7XG4gICAgfSk7XG4gIH0sIFtdKTtcblxuICAvLyBGaW5kIG5leHQgdW5jb21wbGV0ZWQgY2F0ZWdvcnlcbiAgY29uc3QgZmluZE5leHRVbmNvbXBsZXRlZENhdGVnb3J5ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IG51bUNhdGVnb3JpZXMgPSBjYXRlZ29yaWVzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBudW1DYXRlZ29yaWVzOyBpKyspIHtcbiAgICAgIGNvbnN0IG5leHRJbmRleCA9IChjYXRlZ29yaWVzLmZpbmRJbmRleChjYXQgPT4gY2F0LmlkID09PSBzZWxlY3RlZENhdGVnb3J5KSArIGkpICUgbnVtQ2F0ZWdvcmllcztcbiAgICAgIGNvbnN0IG5leHRDYXRlZ29yeSA9IGNhdGVnb3JpZXNbbmV4dEluZGV4XTtcbiAgICAgIGNvbnN0IGV4ZXJjaXNlc0luQ2F0ZWdvcnkgPSBlcnJvckNvcnJlY3Rpb25EYXRhPy5leGVyY2lzZXM/LmZpbHRlcihcbiAgICAgICAgZXggPT4gZXguY2F0ZWdvcnlJZCA9PT0gbmV4dENhdGVnb3J5LmlkXG4gICAgICApPy5sZW5ndGggfHwgMDtcbiAgICAgIGNvbnN0IGNvbXBsZXRlZEluQ2F0ZWdvcnkgPSBjb21wbGV0ZWRFeGVyY2lzZXNbbmV4dENhdGVnb3J5LmlkXT8ubGVuZ3RoIHx8IDA7XG4gICAgICBcbiAgICAgIGlmIChjb21wbGV0ZWRJbkNhdGVnb3J5IDwgZXhlcmNpc2VzSW5DYXRlZ29yeSkge1xuICAgICAgICByZXR1cm4gbmV4dENhdGVnb3J5LmlkO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSwgW2NhdGVnb3JpZXMsIHNlbGVjdGVkQ2F0ZWdvcnksIGNvbXBsZXRlZEV4ZXJjaXNlcywgZXJyb3JDb3JyZWN0aW9uRGF0YV0pO1xuXG4gIC8vID09PT09PT09PT09PT09PT09PT0gQU5TV0VSIENIRUNLSU5HID09PT09PT09PT09PT09PT09PT1cbiAgY29uc3QgY2hlY2tBbnN3ZXIgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKHNob3dGZWVkYmFjaykgcmV0dXJuIGZhbHNlO1xuXG4gICAgbGV0IGFuc3dlckNvcnJlY3QgPSBmYWxzZTtcblxuICAgIHN3aXRjaChjb3JyZWN0aW9uTW9kZSkge1xuICAgICAgY2FzZSAnZnVsbCc6XG4gICAgICAgIGlmICghdXNlckNvcnJlY3Rpb24udHJpbSgpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGFuc3dlckNvcnJlY3QgPSB1c2VyQ29ycmVjdGlvbi50cmltKCkudG9Mb3dlckNhc2UoKSA9PT0gXG4gICAgICAgICAgICAgICAgICAgICAgIChjdXJyZW50RXhlcmNpc2UuY29ycmVjdGVkVGV4dCB8fCAnJykudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdpZGVudGlmeSc6IHtcbiAgICAgICAgY29uc3QgZXJyb3JQb3NpdGlvbnMgPSBjdXJyZW50RXhlcmNpc2UuZXJyb3JQb3NpdGlvbnMgfHwgW107XG4gICAgICAgIGFuc3dlckNvcnJlY3QgPSBzZWxlY3RlZEVycm9ySW5kaWNlcy5sZW5ndGggPT09IGVycm9yUG9zaXRpb25zLmxlbmd0aCAmJlxuICAgICAgICAgIHNlbGVjdGVkRXJyb3JJbmRpY2VzLmV2ZXJ5KGluZGV4ID0+IGVycm9yUG9zaXRpb25zLmluY2x1ZGVzKGluZGV4KSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdtdWx0aXBsZV9jaG9pY2UnOlxuICAgICAgICBhbnN3ZXJDb3JyZWN0ID0gc2VsZWN0ZWRDaG9pY2VJbmRleCA9PT0gY3VycmVudEV4ZXJjaXNlLmNvcnJlY3RDaG9pY2VJbmRleDtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBzZXRJc0NvcnJlY3QoYW5zd2VyQ29ycmVjdCk7XG4gICAgc2V0U2hvd0ZlZWRiYWNrKHRydWUpO1xuXG4gICAgaWYgKGFuc3dlckNvcnJlY3QpIHtcbiAgICAgIHNldFNjb3JlKHByZXYgPT4gcHJldiArIDEpO1xuICAgIH1cblxuICAgIHJldHVybiBhbnN3ZXJDb3JyZWN0O1xuICB9LCBbc2hvd0ZlZWRiYWNrLCBjb3JyZWN0aW9uTW9kZSwgdXNlckNvcnJlY3Rpb24sIHNlbGVjdGVkRXJyb3JJbmRpY2VzLCBzZWxlY3RlZENob2ljZUluZGV4LCBjdXJyZW50RXhlcmNpc2VdKTtcblxuICAvLyA9PT09PT09PT09PT09PT09PT09IE1BSU4gTkFWSUdBVElPTiA9PT09PT09PT09PT09PT09PT09XG4gIGNvbnN0IGhhbmRsZU5leHQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgLy8gTWFyayBjdXJyZW50IGV4ZXJjaXNlIGFzIGNvbXBsZXRlZFxuICAgIG1hcmtFeGVyY2lzZUFzQ29tcGxldGVkKHNlbGVjdGVkQ2F0ZWdvcnksIGN1cnJlbnRFeGVyY2lzZUluZGV4KTtcblxuICAgIC8vIENoZWNrIGlmIHRoZXJlIGFyZSBtb3JlIGV4ZXJjaXNlcyBpbiBjdXJyZW50IGNhdGVnb3J5XG4gICAgaWYgKGN1cnJlbnRFeGVyY2lzZUluZGV4IDwgdG90YWxFeGVyY2lzZXNJbkNhdGVnb3J5IC0gMSkge1xuICAgICAgY29uc3QgbmV4dEluZGV4ID0gY3VycmVudEV4ZXJjaXNlSW5kZXggKyAxO1xuICAgICAgc2V0Q3VycmVudEV4ZXJjaXNlSW5kZXgobmV4dEluZGV4KTtcbiAgICAgIHJlc2V0RXhlcmNpc2VTdGF0ZSgpO1xuXG4gICAgICAvLyBJbml0aWFsaXplIG5leHQgZXhlcmNpc2UgYmFzZWQgb24gbW9kZVxuICAgICAgY29uc3QgbmV4dEV4ZXJjaXNlID0gZXhlcmNpc2VzW25leHRJbmRleF07XG4gICAgICBzd2l0Y2goY29ycmVjdGlvbk1vZGUpIHtcbiAgICAgICAgY2FzZSAnZnVsbCc6XG4gICAgICAgICAgc2V0VXNlckNvcnJlY3Rpb24obmV4dEV4ZXJjaXNlLnRleHQgfHwgJycpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdpZGVudGlmeSc6XG4gICAgICAgICAgc2V0U2VsZWN0ZWRFcnJvckluZGljZXMoW10pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdtdWx0aXBsZV9jaG9pY2UnOlxuICAgICAgICAgIHNldFNlbGVjdGVkQ2hvaWNlSW5kZXgobnVsbCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gTm8gZGVmYXVsdCBhY3Rpb24gbmVlZGVkXG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEVuZCBvZiBjYXRlZ29yeSAtIGZpbmQgbmV4dCB1bmNvbXBsZXRlZCBjYXRlZ29yeVxuICAgICAgY29uc3QgbmV4dENhdGVnb3J5SWQgPSBmaW5kTmV4dFVuY29tcGxldGVkQ2F0ZWdvcnkoKTtcbiAgICAgIGlmIChuZXh0Q2F0ZWdvcnlJZCA9PT0gbnVsbCkge1xuICAgICAgICAvLyBBbGwgZG9uZSFcbiAgICAgICAgc2V0SXNGaW5pc2hlZCh0cnVlKTtcbiAgICAgICAgY29uc3QgY29tcGxldGlvbk1lc3NhZ2UgPSBgRsOpbGljaXRhdGlvbnMgISBWb3VzIGF2ZXogdGVybWluw6kgdG91cyBsZXMgZXhlcmNpY2VzIGRlIGNvcnJlY3Rpb24gZCdlcnJldXJzICR7bGV2ZWx9ICFgO1xuICAgICAgICBBbGVydC5hbGVydChcIkbDqWxpY2l0YXRpb25zXCIsIGNvbXBsZXRpb25NZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIHsgY29tcGxldGVkOiB0cnVlIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGFuZ2VDYXRlZ29yeShuZXh0Q2F0ZWdvcnlJZCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IGNvbXBsZXRlZDogZmFsc2UgfTtcbiAgfSwgW3NlbGVjdGVkQ2F0ZWdvcnksIGN1cnJlbnRFeGVyY2lzZUluZGV4LCB0b3RhbEV4ZXJjaXNlc0luQ2F0ZWdvcnksIG1hcmtFeGVyY2lzZUFzQ29tcGxldGVkLCBcbiAgICAgIHJlc2V0RXhlcmNpc2VTdGF0ZSwgZXhlcmNpc2VzLCBjb3JyZWN0aW9uTW9kZSwgZmluZE5leHRVbmNvbXBsZXRlZENhdGVnb3J5LCBjaGFuZ2VDYXRlZ29yeSwgbGV2ZWxdKTtcblxuICBjb25zdCBoYW5kbGVQcmV2aW91cyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAvLyBDYXNlIDE6IE5vdCBmaXJzdCBleGVyY2lzZSBpbiBjYXRlZ29yeVxuICAgIGlmIChjdXJyZW50RXhlcmNpc2VJbmRleCA+IDApIHtcbiAgICAgIGNvbnN0IHByZXZJbmRleCA9IGN1cnJlbnRFeGVyY2lzZUluZGV4IC0gMTtcbiAgICAgIHNldEN1cnJlbnRFeGVyY2lzZUluZGV4KHByZXZJbmRleCk7XG4gICAgICByZXNldEV4ZXJjaXNlU3RhdGUoKTtcblxuICAgICAgLy8gSW5pdGlhbGl6ZSBwcmV2aW91cyBleGVyY2lzZSBiYXNlZCBvbiBtb2RlXG4gICAgICBjb25zdCBwcmV2RXhlcmNpc2UgPSBleGVyY2lzZXNbcHJldkluZGV4XTtcbiAgICAgIHN3aXRjaChjb3JyZWN0aW9uTW9kZSkge1xuICAgICAgICBjYXNlICdmdWxsJzpcbiAgICAgICAgICBzZXRVc2VyQ29ycmVjdGlvbihwcmV2RXhlcmNpc2UudGV4dCB8fCAnJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2lkZW50aWZ5JzpcbiAgICAgICAgICBzZXRTZWxlY3RlZEVycm9ySW5kaWNlcyhbXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ211bHRpcGxlX2Nob2ljZSc6XG4gICAgICAgICAgc2V0U2VsZWN0ZWRDaG9pY2VJbmRleChudWxsKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBObyBkZWZhdWx0IGFjdGlvbiBuZWVkZWRcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2FzZSAyOiBGaXJzdCBleGVyY2lzZSBpbiBjYXRlZ29yeSAtIGdvIHRvIHByZXZpb3VzIGNhdGVnb3J5XG4gICAgY29uc3QgY3VycmVudENhdGVnb3J5SW5kZXggPSBjYXRlZ29yaWVzLmZpbmRJbmRleChjYXQgPT4gY2F0LmlkID09PSBzZWxlY3RlZENhdGVnb3J5KTtcbiAgICBpZiAoY3VycmVudENhdGVnb3J5SW5kZXggPiAwKSB7XG4gICAgICBjb25zdCBwcmV2aW91c0NhdGVnb3J5ID0gY2F0ZWdvcmllc1tjdXJyZW50Q2F0ZWdvcnlJbmRleCAtIDFdO1xuICAgICAgY29uc3QgZXhlcmNpc2VzSW5QcmV2aW91c0NhdGVnb3J5ID0gZXJyb3JDb3JyZWN0aW9uRGF0YT8uZXhlcmNpc2VzPy5maWx0ZXIoXG4gICAgICAgIGV4ID0+IGV4LmNhdGVnb3J5SWQgPT09IHByZXZpb3VzQ2F0ZWdvcnkuaWRcbiAgICAgICkgfHwgW107XG4gICAgICBjb25zdCBsYXN0RXhlcmNpc2VJbmRleCA9IGV4ZXJjaXNlc0luUHJldmlvdXNDYXRlZ29yeS5sZW5ndGggLSAxO1xuICAgICAgXG4gICAgICBjaGFuZ2VDYXRlZ29yeShwcmV2aW91c0NhdGVnb3J5LmlkKTtcbiAgICAgIHNldEN1cnJlbnRFeGVyY2lzZUluZGV4KGxhc3RFeGVyY2lzZUluZGV4KTtcbiAgICB9XG4gIH0sIFtjdXJyZW50RXhlcmNpc2VJbmRleCwgZXhlcmNpc2VzLCBjb3JyZWN0aW9uTW9kZSwgcmVzZXRFeGVyY2lzZVN0YXRlLCBcbiAgICAgIGNhdGVnb3JpZXMsIHNlbGVjdGVkQ2F0ZWdvcnksIGVycm9yQ29ycmVjdGlvbkRhdGEsIGNoYW5nZUNhdGVnb3J5XSk7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PSBDT01QVVRFRCBTVEFUUyA9PT09PT09PT09PT09PT09PT09XG4gIGNvbnN0IGdldFN0YXRzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IHRvdGFsRXhlcmNpc2VzID0gY2F0ZWdvcmllcy5yZWR1Y2UoKHN1bSwgY2F0KSA9PiB7XG4gICAgICBjb25zdCBleGVyY2lzZXNJbkNhdCA9IGVycm9yQ29ycmVjdGlvbkRhdGE/LmV4ZXJjaXNlcz8uZmlsdGVyKFxuICAgICAgICBleCA9PiBleC5jYXRlZ29yeUlkID09PSBjYXQuaWRcbiAgICAgICk/Lmxlbmd0aCB8fCAwO1xuICAgICAgcmV0dXJuIHN1bSArIGV4ZXJjaXNlc0luQ2F0O1xuICAgIH0sIDApO1xuICAgIFxuICAgIGNvbnN0IGNvbXBsZXRlZEV4ZXJjaXNlc0NvdW50ID0gT2JqZWN0LnZhbHVlcyhjb21wbGV0ZWRFeGVyY2lzZXMpLnJlZHVjZShcbiAgICAgIChzdW0sIGNvbXBsZXRlZCkgPT4gc3VtICsgKGNvbXBsZXRlZD8ubGVuZ3RoIHx8IDApLCAwXG4gICAgKTtcbiAgICBcbiAgICBjb25zdCB0b3RhbFByb2dyZXNzID0gdG90YWxFeGVyY2lzZXMgPiAwID8gTWF0aC5yb3VuZCgoY29tcGxldGVkRXhlcmNpc2VzQ291bnQgLyB0b3RhbEV4ZXJjaXNlcykgKiAxMDApIDogMDtcblxuICAgIHJldHVybiB7XG4gICAgICB0b3RhbEV4ZXJjaXNlcyxcbiAgICAgIGNvbXBsZXRlZEV4ZXJjaXNlc0NvdW50LFxuICAgICAgdG90YWxQcm9ncmVzcyxcbiAgICAgIGNvbXBsZXRlZEluQ3VycmVudENhdGVnb3J5OiBjb21wbGV0ZWRFeGVyY2lzZXNbc2VsZWN0ZWRDYXRlZ29yeV0/Lmxlbmd0aCB8fCAwLFxuICAgICAgdG90YWxJbkN1cnJlbnRDYXRlZ29yeTogdG90YWxFeGVyY2lzZXNJbkNhdGVnb3J5LFxuICAgICAgY29tcGxldGVkRXhlcmNpc2VzLFxuICAgICAgc2NvcmVcbiAgICB9O1xuICB9LCBbY2F0ZWdvcmllcywgZXJyb3JDb3JyZWN0aW9uRGF0YSwgY29tcGxldGVkRXhlcmNpc2VzLCBzZWxlY3RlZENhdGVnb3J5LCB0b3RhbEV4ZXJjaXNlc0luQ2F0ZWdvcnksIHNjb3JlXSk7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PSBDT01QVVRFRCBESVNQTEFZID09PT09PT09PT09PT09PT09PT1cbiAgY29uc3QgZ2V0RGlzcGxheURhdGEgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgZXhlcmNpc2VDb3VudGVyID0gYCR7Y3VycmVudEV4ZXJjaXNlSW5kZXggKyAxfSAvICR7dG90YWxFeGVyY2lzZXNJbkNhdGVnb3J5fWA7XG4gICAgY29uc3QgY2F0ZWdvcnlOYW1lcyA9IGNhdGVnb3JpZXMubWFwKGNhdCA9PiBjYXQubmFtZSk7XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIGV4ZXJjaXNlQ291bnRlcixcbiAgICAgIGNhdGVnb3JpZXM6IGNhdGVnb3J5TmFtZXMsXG4gICAgICBjdXJyZW50RXhlcmNpc2UsXG4gICAgICBjdXJyZW50Q2F0ZWdvcnlcbiAgICB9O1xuICB9LCBbY3VycmVudEV4ZXJjaXNlSW5kZXgsIHRvdGFsRXhlcmNpc2VzSW5DYXRlZ29yeSwgY2F0ZWdvcmllcywgY3VycmVudEV4ZXJjaXNlLCBjdXJyZW50Q2F0ZWdvcnldKTtcblxuICAvLyA9PT09PT09PT09PT09PT09PT09IFZBTElEQVRJT04gPT09PT09PT09PT09PT09PT09PVxuICBjb25zdCBjYW5Hb1RvUHJldmlvdXMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKGN1cnJlbnRFeGVyY2lzZUluZGV4ID4gMCkgcmV0dXJuIHRydWU7XG4gICAgY29uc3QgY3VycmVudENhdGVnb3J5SW5kZXggPSBjYXRlZ29yaWVzLmZpbmRJbmRleChjYXQgPT4gY2F0LmlkID09PSBzZWxlY3RlZENhdGVnb3J5KTtcbiAgICBpZiAoY3VycmVudENhdGVnb3J5SW5kZXggPiAwKSB7XG4gICAgICBjb25zdCBwcmV2aW91c0NhdGVnb3J5ID0gY2F0ZWdvcmllc1tjdXJyZW50Q2F0ZWdvcnlJbmRleCAtIDFdO1xuICAgICAgY29uc3QgZXhlcmNpc2VzSW5QcmV2aW91c0NhdGVnb3J5ID0gZXJyb3JDb3JyZWN0aW9uRGF0YT8uZXhlcmNpc2VzPy5maWx0ZXIoXG4gICAgICAgIGV4ID0+IGV4LmNhdGVnb3J5SWQgPT09IHByZXZpb3VzQ2F0ZWdvcnkuaWRcbiAgICAgICkgfHwgW107XG4gICAgICByZXR1cm4gZXhlcmNpc2VzSW5QcmV2aW91c0NhdGVnb3J5Lmxlbmd0aCA+IDA7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSwgW2N1cnJlbnRFeGVyY2lzZUluZGV4LCBjYXRlZ29yaWVzLCBzZWxlY3RlZENhdGVnb3J5LCBlcnJvckNvcnJlY3Rpb25EYXRhXSk7XG5cbiAgY29uc3QgaXNMYXN0RXhlcmNpc2VJbkNhdGVnb3J5ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHJldHVybiBjdXJyZW50RXhlcmNpc2VJbmRleCA9PT0gdG90YWxFeGVyY2lzZXNJbkNhdGVnb3J5IC0gMTtcbiAgfSwgW2N1cnJlbnRFeGVyY2lzZUluZGV4LCB0b3RhbEV4ZXJjaXNlc0luQ2F0ZWdvcnldKTtcblxuICBjb25zdCBoYXNWYWxpZERhdGEgPSBlcnJvckNvcnJlY3Rpb25EYXRhPy5jYXRlZ29yaWVzICYmIFxuICAgICAgICAgICAgICAgICAgICAgIEFycmF5LmlzQXJyYXkoZXJyb3JDb3JyZWN0aW9uRGF0YS5jYXRlZ29yaWVzKSAmJiBcbiAgICAgICAgICAgICAgICAgICAgICBlcnJvckNvcnJlY3Rpb25EYXRhLmNhdGVnb3JpZXMubGVuZ3RoID4gMDtcblxuICByZXR1cm4ge1xuICAgIC8vIFN0YXRlXG4gICAgc2VsZWN0ZWRDYXRlZ29yeSxcbiAgICBjdXJyZW50RXhlcmNpc2VJbmRleCxcbiAgICBjb3JyZWN0aW9uTW9kZSxcbiAgICBzaG93RmVlZGJhY2ssXG4gICAgaXNDb3JyZWN0LFxuICAgIHNob3dSZXN1bHRzLFxuICAgIGlzRmluaXNoZWQsXG4gICAgY29tcGxldGVkRXhlcmNpc2VzLFxuICAgIGxvYWRlZCxcbiAgICBzaG93RGV0YWlsZWRQcm9ncmVzcyxcbiAgICBcbiAgICAvLyBNb2RlLXNwZWNpZmljIHN0YXRlXG4gICAgdXNlckNvcnJlY3Rpb24sXG4gICAgc2VsZWN0ZWRFcnJvckluZGljZXMsXG4gICAgc2VsZWN0ZWRDaG9pY2VJbmRleCxcbiAgICBzY29yZSxcbiAgICBzaG93SGludCxcbiAgICBcbiAgICAvLyBEYXRhXG4gICAgY3VycmVudEV4ZXJjaXNlLFxuICAgIGN1cnJlbnRDYXRlZ29yeSxcbiAgICB0b3RhbENhdGVnb3JpZXMsXG4gICAgdG90YWxFeGVyY2lzZXNJbkNhdGVnb3J5LFxuICAgIGV4ZXJjaXNlcyxcbiAgICBcbiAgICAvLyBBY3Rpb25zXG4gICAgY2hhbmdlQ2F0ZWdvcnksXG4gICAgc3RhcnRFeGVyY2lzZSxcbiAgICByZXNldEV4ZXJjaXNlU3RhdGUsXG4gICAgdG9nZ2xlRGV0YWlsZWRQcm9ncmVzcyxcbiAgICBoYW5kbGVOZXh0LFxuICAgIGhhbmRsZVByZXZpb3VzLFxuICAgIGNoZWNrQW5zd2VyLFxuICAgIGhhbmRsZVdvcmRQcmVzcyxcbiAgICBoYW5kbGVDaG9pY2VTZWxlY3QsXG4gICAgc2V0VXNlckNvcnJlY3Rpb24sXG4gICAgc2V0U2hvd0hpbnQsXG4gICAgc2V0U2hvd1Jlc3VsdHMsXG4gICAgXG4gICAgLy8gQ29tcHV0ZWRcbiAgICBjYW5Hb1RvUHJldmlvdXM6IGNhbkdvVG9QcmV2aW91cygpLFxuICAgIGlzTGFzdEV4ZXJjaXNlSW5DYXRlZ29yeTogaXNMYXN0RXhlcmNpc2VJbkNhdGVnb3J5KCksXG4gICAgaGFzVmFsaWREYXRhLFxuICAgIHN0YXRzOiBnZXRTdGF0cygpLFxuICAgIGRpc3BsYXk6IGdldERpc3BsYXlEYXRhKCksXG4gIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCB1c2VFcnJvckNvcnJlY3Rpb247Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFDQSxJQUFBQSxNQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxZQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxhQUFBLEdBQUFDLHNCQUFBLENBQUFILE9BQUE7QUFPQSxJQUFNSSxrQkFBa0IsR0FBRyxTQUFyQkEsa0JBQWtCQSxDQUFBLEVBQWlEO0VBQUEsSUFBQUMscUJBQUE7RUFBQSxJQUE3Q0MsbUJBQW1CLEdBQUFDLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNB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