{"version":3,"names":["_react","require","cov_29zq544tn","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","s","f","b","_coverageSchema","coverage","actualCoverage","useDashboardState","exports","loadLastActivities","_ref","useState","_ref2","_slicedToArray2","default","showLevelProgress","setShowLevelProgress","_ref3","_ref4","refreshing","setRefreshing","_ref5","_ref6","activeTab","setActiveTab","onRefresh","useCallback","_asyncToGenerator2","error","console","warn","openLevelProgressModal","closeLevelProgressModal"],"sources":["useDashboardState.js"],"sourcesContent":["// src/screens/Dashboard/hooks/useDashboardState.js - VERSION CORRIGÉE\n\nimport { useState, useCallback } from \"react\";\n\nexport const useDashboardState = (loadLastActivities) => {\n  const [showLevelProgress, setShowLevelProgress] = useState(false);\n  const [refreshing, setRefreshing] = useState(false);\n  const [activeTab, setActiveTab] = useState(\"home\");\n\n  // Gérer le pull-to-refresh optimisé\n  const onRefresh = useCallback(async () => {\n    setRefreshing(true);\n    try {\n      await loadLastActivities();\n    } catch (error) {\n      // ✅ Gestion d'erreur appropriée\n      console.warn('Error refreshing dashboard activities:', error);\n      // Fallback: continuer même si le refresh échoue\n    } finally {\n      setRefreshing(false);\n    }\n  }, [loadLastActivities]);\n\n  // Gestionnaires pour la modal de progression\n  const openLevelProgressModal = useCallback(() => {\n    setShowLevelProgress(true);\n  }, []);\n\n  const closeLevelProgressModal = useCallback(() => {\n    setShowLevelProgress(false);\n  }, []);\n\n  return {\n    showLevelProgress,\n    setShowLevelProgress,\n    openLevelProgressModal,\n    closeLevelProgressModal,\n    refreshing,\n    activeTab,\n    setActiveTab,\n    onRefresh,\n  };\n};\n\n"],"mappings":"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","ignoreList":[]}