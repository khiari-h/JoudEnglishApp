440080eafeb4d1732caca77a7363dfe4
_getJestObj().mock('../../src/services/lockService', function () {
  return {
    isEnabled: jest.fn(),
    verifyPin: jest.fn(),
    disableLock: jest.fn(),
    enableLock: jest.fn()
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _LockContext = require("../../src/contexts/LockContext");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var Lock = require('../../src/services/lockService');
var Consumer = function Consumer() {
  var _useLock = (0, _LockContext.useLock)(),
    isEnabled = _useLock.isEnabled,
    isLocked = _useLock.isLocked,
    unlockWithPin = _useLock.unlockWithPin,
    disable = _useLock.disable,
    enable = _useLock.enable,
    isLoading = _useLock.isLoading;
  return (0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {
    children: ["\xA0 \xA0 \xA0 ", isLoading && (0, _jsxRuntime.jsx)("text", {
      testID: "loading",
      children: "Loading..."
    }), "\xA0 \xA0 \xA0 ", (0, _jsxRuntime.jsx)("text", {
      testID: "enabled",
      children: String(isEnabled)
    }), "\xA0 \xA0 \xA0 ", (0, _jsxRuntime.jsx)("text", {
      testID: "locked",
      children: String(isLocked)
    }), "\xA0 \xA0 \xA0 ", (0, _jsxRuntime.jsx)("button", {
      testID: "unlock-correct-pin",
      onPress: function onPress() {
        return unlockWithPin('1234');
      }
    }), "\xA0 \xA0 \xA0 ", (0, _jsxRuntime.jsx)("button", {
      testID: "unlock-wrong-pin",
      onPress: function onPress() {
        return unlockWithPin('0000');
      }
    }), "\xA0 \xA0 \xA0 ", (0, _jsxRuntime.jsx)("button", {
      testID: "unlock-lockout",
      onPress: function onPress() {
        return unlockWithPin('0000');
      }
    }), "\xA0 \xA0 \xA0 ", (0, _jsxRuntime.jsx)("button", {
      testID: "disable",
      onPress: disable
    }), "\xA0 \xA0 \xA0 ", (0, _jsxRuntime.jsx)("button", {
      testID: "enable",
      onPress: enable
    }), "\xA0 \xA0 "]
  });
};
var TestText = function TestText(_ref) {
  var children = _ref.children,
    testID = _ref.testID;
  return (0, _jsxRuntime.jsx)("text", {
    testID: testID,
    children: children
  });
};
var TestButton = function TestButton(_ref2) {
  var onPress = _ref2.onPress,
    testID = _ref2.testID;
  return (0, _jsxRuntime.jsx)("button", {
    testID: testID,
    onPress: onPress
  });
};
describe('LockContext', function () {
  beforeEach(function () {
    jest.clearAllMocks();
    Lock.isEnabled.mockResolvedValue(true);
    Lock.verifyPin.mockResolvedValue({
      ok: true
    });
    Lock.disableLock.mockResolvedValue(true);
    Lock.enableLock.mockResolvedValue(true);
  });
  it('initializes locked when enabled, unlocks with correct PIN, and can disable', (0, _asyncToGenerator2.default)(function* () {
    var ui = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_LockContext.LockProvider, {
      children: (0, _jsxRuntime.jsx)(Consumer, {})
    }));
    yield (0, _reactNative.waitFor)(function () {
      return expect(ui.queryByTestId('loading')).toBeNull();
    });
    expect(ui.getByTestId('enabled').props.children).toBe('true');
    expect(ui.getByTestId('locked').props.children).toBe('true');
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      _reactNative.fireEvent.press(ui.getByTestId('unlock-correct-pin'));
    }));
    expect(ui.getByTestId('locked').props.children).toBe('false');
    expect(Lock.verifyPin).toHaveBeenCalledWith('1234');
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      _reactNative.fireEvent.press(ui.getByTestId('disable'));
    }));
    expect(ui.getByTestId('enabled').props.children).toBe('false');
    expect(Lock.disableLock).toHaveBeenCalled();
  }));
  it('initializes unlocked when not enabled', (0, _asyncToGenerator2.default)(function* () {
    Lock.isEnabled.mockResolvedValueOnce(false);
    var ui = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_LockContext.LockProvider, {
      children: (0, _jsxRuntime.jsx)(Consumer, {})
    }));
    yield (0, _reactNative.waitFor)(function () {
      return expect(ui.queryByTestId('loading')).toBeNull();
    });
    expect(ui.getByTestId('enabled').props.children).toBe('false');
    expect(ui.getByTestId('locked').props.children).toBe('false');
  }));
  it('should not unlock with an incorrect PIN', (0, _asyncToGenerator2.default)(function* () {
    Lock.verifyPin.mockResolvedValueOnce({
      ok: false
    });
    var ui = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_LockContext.LockProvider, {
      children: (0, _jsxRuntime.jsx)(Consumer, {})
    }));
    yield (0, _reactNative.waitFor)(function () {
      return expect(ui.queryByTestId('loading')).toBeNull();
    });
    expect(ui.getByTestId('locked').props.children).toBe('true');
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      _reactNative.fireEvent.press(ui.getByTestId('unlock-wrong-pin'));
    }));
    expect(ui.getByTestId('locked').props.children).toBe('true');
    expect(Lock.verifyPin).toHaveBeenCalledWith('0000');
  }));
  it('should return lockout reason when pin verification fails with lockout', (0, _asyncToGenerator2.default)(function* () {
    Lock.verifyPin.mockResolvedValueOnce({
      ok: false,
      reason: 'lockout'
    });
    var ui = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_LockContext.LockProvider, {
      children: (0, _jsxRuntime.jsx)(Consumer, {})
    }));
    yield (0, _reactNative.waitFor)(function () {
      return expect(ui.queryByTestId('loading')).toBeNull();
    });
    var result;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      result = yield ui.getByTestId('unlock-lockout').props.onPress();
    }));
    expect(ui.getByTestId('locked').props.children).toBe('true');
    expect(result).toEqual({
      ok: false,
      reason: 'lockout'
    });
    expect(Lock.verifyPin).toHaveBeenCalledWith('0000');
  }));
  it('should enable the lock', (0, _asyncToGenerator2.default)(function* () {
    Lock.isEnabled.mockResolvedValueOnce(false);
    var ui = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_LockContext.LockProvider, {
      children: (0, _jsxRuntime.jsx)(Consumer, {})
    }));
    yield (0, _reactNative.waitFor)(function () {
      return expect(ui.queryByTestId('loading')).toBeNull();
    });
    expect(ui.getByTestId('enabled').props.children).toBe('false');
    expect(ui.getByTestId('locked').props.children).toBe('false');
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      _reactNative.fireEvent.press(ui.getByTestId('enable'));
    }));
    expect(ui.getByTestId('enabled').props.children).toBe('true');
    expect(ui.getByTestId('locked').props.children).toBe('true');
    expect(Lock.enableLock).toHaveBeenCalled();
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJpc0VuYWJsZWQiLCJqZXN0IiwiZm4iLCJ2ZXJpZnlQaW4iLCJkaXNhYmxlTG9jayIsImVuYWJsZUxvY2siLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWFjdCIsIl9yZWFjdE5hdGl2ZSIsIl9Mb2NrQ29udGV4dCIsIl9qc3hSdW50aW1lIiwiX3JlcXVpcmUiLCJMb2NrIiwiQ29uc3VtZXIiLCJfdXNlTG9jayIsInVzZUxvY2siLCJpc0xvY2tlZCIsInVubG9ja1dpdGhQaW4iLCJkaXNhYmxlIiwiZW5hYmxlIiwiaXNMb2FkaW5nIiwianN4cyIsIkZyYWdtZW50IiwiY2hpbGRyZW4iLCJqc3giLCJ0ZXN0SUQiLCJTdHJpbmciLCJvblByZXNzIiwiVGVzdFRleHQiLCJfcmVmIiwiVGVzdEJ1dHRvbiIsIl9yZWYyIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1vY2tSZXNvbHZlZFZhbHVlIiwib2siLCJpdCIsImRlZmF1bHQiLCJ1aSIsInJlbmRlciIsIkxvY2tQcm92aWRlciIsIndhaXRGb3IiLCJleHBlY3QiLCJxdWVyeUJ5VGVzdElkIiwidG9CZU51bGwiLCJnZXRCeVRlc3RJZCIsInByb3BzIiwidG9CZSIsImFjdCIsImZpcmVFdmVudCIsInByZXNzIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwibW9ja1Jlc29sdmVkVmFsdWVPbmNlIiwicmVhc29uIiwicmVzdWx0IiwidG9FcXVhbCJdLCJzb3VyY2VzIjpbIkxvY2tDb250ZXh0LnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgcmVuZGVyLCBhY3QsIGZpcmVFdmVudCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtbmF0aXZlJztcclxuaW1wb3J0IHsgTG9ja1Byb3ZpZGVyLCB1c2VMb2NrIH0gZnJvbSAnLi4vLi4vc3JjL2NvbnRleHRzL0xvY2tDb250ZXh0JztcclxuXHJcbmplc3QubW9jaygnLi4vLi4vc3JjL3NlcnZpY2VzL2xvY2tTZXJ2aWNlJywgKCkgPT4gKHtcclxuwqAgaXNFbmFibGVkOiBqZXN0LmZuKCksXHJcbsKgIHZlcmlmeVBpbjogamVzdC5mbigpLFxyXG7CoCBkaXNhYmxlTG9jazogamVzdC5mbigpLFxyXG7CoCBlbmFibGVMb2NrOiBqZXN0LmZuKCksXHJcbn0pKTtcclxuXHJcbmNvbnN0IExvY2sgPSByZXF1aXJlKCcuLi8uLi9zcmMvc2VydmljZXMvbG9ja1NlcnZpY2UnKTtcclxuXHJcbmNvbnN0IENvbnN1bWVyID0gKCkgPT4ge1xyXG7CoCBjb25zdCB7IGlzRW5hYmxlZCwgaXNMb2NrZWQsIHVubG9ja1dpdGhQaW4sIGRpc2FibGUsIGVuYWJsZSwgaXNMb2FkaW5nIH0gPSB1c2VMb2NrKCk7XHJcbsKgIHJldHVybiAoXHJcbsKgIMKgIDw+XHJcbsKgIMKgIMKgIHtpc0xvYWRpbmcgJiYgPHRleHQgdGVzdElEPVwibG9hZGluZ1wiPkxvYWRpbmcuLi48L3RleHQ+fVxyXG7CoCDCoCDCoCA8dGV4dCB0ZXN0SUQ9XCJlbmFibGVkXCI+e1N0cmluZyhpc0VuYWJsZWQpfTwvdGV4dD5cclxuwqAgwqAgwqAgPHRleHQgdGVzdElEPVwibG9ja2VkXCI+e1N0cmluZyhpc0xvY2tlZCl9PC90ZXh0PlxyXG7CoCDCoCDCoCA8YnV0dG9uIHRlc3RJRD1cInVubG9jay1jb3JyZWN0LXBpblwiIG9uUHJlc3M9eygpID0+IHVubG9ja1dpdGhQaW4oJzEyMzQnKX0gLz5cclxuwqAgwqAgwqAgPGJ1dHRvbiB0ZXN0SUQ9XCJ1bmxvY2std3JvbmctcGluXCIgb25QcmVzcz17KCkgPT4gdW5sb2NrV2l0aFBpbignMDAwMCcpfSAvPlxyXG7CoCDCoCDCoCA8YnV0dG9uIHRlc3RJRD1cInVubG9jay1sb2Nrb3V0XCIgb25QcmVzcz17KCkgPT4gdW5sb2NrV2l0aFBpbignMDAwMCcpfSAvPlxyXG7CoCDCoCDCoCA8YnV0dG9uIHRlc3RJRD1cImRpc2FibGVcIiBvblByZXNzPXtkaXNhYmxlfSAvPlxyXG7CoCDCoCDCoCA8YnV0dG9uIHRlc3RJRD1cImVuYWJsZVwiIG9uUHJlc3M9e2VuYWJsZX0gLz5cclxuwqAgwqAgPC8+XHJcbsKgICk7XHJcbn07XHJcblxyXG5jb25zdCBUZXN0VGV4dCA9ICh7IGNoaWxkcmVuLCB0ZXN0SUQgfSkgPT4gKDx0ZXh0IHRlc3RJRD17dGVzdElEfT57Y2hpbGRyZW59PC90ZXh0Pik7XHJcbmNvbnN0IFRlc3RCdXR0b24gPSAoeyBvblByZXNzLCB0ZXN0SUQgfSkgPT4gKDxidXR0b24gdGVzdElEPXt0ZXN0SUR9IG9uUHJlc3M9e29uUHJlc3N9IC8+KTtcclxuXHJcbmRlc2NyaWJlKCdMb2NrQ29udGV4dCcsICgpID0+IHtcclxuwqAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbsKgIMKgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG7CoCDCoCBMb2NrLmlzRW5hYmxlZC5tb2NrUmVzb2x2ZWRWYWx1ZSh0cnVlKTtcclxuwqAgwqAgTG9jay52ZXJpZnlQaW4ubW9ja1Jlc29sdmVkVmFsdWUoeyBvazogdHJ1ZSB9KTtcclxuwqAgwqAgTG9jay5kaXNhYmxlTG9jay5tb2NrUmVzb2x2ZWRWYWx1ZSh0cnVlKTtcclxuwqAgwqAgTG9jay5lbmFibGVMb2NrLm1vY2tSZXNvbHZlZFZhbHVlKHRydWUpO1xyXG7CoCB9KTtcclxuXHJcbsKgIGl0KCdpbml0aWFsaXplcyBsb2NrZWQgd2hlbiBlbmFibGVkLCB1bmxvY2tzIHdpdGggY29ycmVjdCBQSU4sIGFuZCBjYW4gZGlzYWJsZScsIGFzeW5jICgpID0+IHtcclxuwqAgwqAgY29uc3QgdWkgPSByZW5kZXIoPExvY2tQcm92aWRlcj48Q29uc3VtZXIgLz48L0xvY2tQcm92aWRlcj4pO1xyXG7CoCDCoCBhd2FpdCB3YWl0Rm9yKCgpID0+IGV4cGVjdCh1aS5xdWVyeUJ5VGVzdElkKCdsb2FkaW5nJykpLnRvQmVOdWxsKCkpO1xyXG7CoCDCoCBleHBlY3QodWkuZ2V0QnlUZXN0SWQoJ2VuYWJsZWQnKS5wcm9wcy5jaGlsZHJlbikudG9CZSgndHJ1ZScpO1xyXG7CoCDCoCBleHBlY3QodWkuZ2V0QnlUZXN0SWQoJ2xvY2tlZCcpLnByb3BzLmNoaWxkcmVuKS50b0JlKCd0cnVlJyk7XHJcblxyXG7CoCDCoCBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xyXG7CoCDCoCDCoCBmaXJlRXZlbnQucHJlc3ModWkuZ2V0QnlUZXN0SWQoJ3VubG9jay1jb3JyZWN0LXBpbicpKTtcclxuwqAgwqAgfSk7XHJcbsKgIMKgIGV4cGVjdCh1aS5nZXRCeVRlc3RJZCgnbG9ja2VkJykucHJvcHMuY2hpbGRyZW4pLnRvQmUoJ2ZhbHNlJyk7XHJcbsKgIMKgIGV4cGVjdChMb2NrLnZlcmlmeVBpbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoJzEyMzQnKTtcclxuXHJcbsKgIMKgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XHJcbsKgIMKgIMKgIGZpcmVFdmVudC5wcmVzcyh1aS5nZXRCeVRlc3RJZCgnZGlzYWJsZScpKTtcclxuwqAgwqAgfSk7XHJcbsKgIMKgIGV4cGVjdCh1aS5nZXRCeVRlc3RJZCgnZW5hYmxlZCcpLnByb3BzLmNoaWxkcmVuKS50b0JlKCdmYWxzZScpO1xyXG7CoCDCoCBleHBlY3QoTG9jay5kaXNhYmxlTG9jaykudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG7CoCB9KTtcclxuXHJcbsKgIGl0KCdpbml0aWFsaXplcyB1bmxvY2tlZCB3aGVuIG5vdCBlbmFibGVkJywgYXN5bmMgKCkgPT4ge1xyXG7CoCDCoCBMb2NrLmlzRW5hYmxlZC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoZmFsc2UpO1xyXG7CoCDCoCBjb25zdCB1aSA9IHJlbmRlcig8TG9ja1Byb3ZpZGVyPjxDb25zdW1lciAvPjwvTG9ja1Byb3ZpZGVyPik7XHJcbsKgIMKgIGF3YWl0IHdhaXRGb3IoKCkgPT4gZXhwZWN0KHVpLnF1ZXJ5QnlUZXN0SWQoJ2xvYWRpbmcnKSkudG9CZU51bGwoKSk7XHJcbsKgIMKgIGV4cGVjdCh1aS5nZXRCeVRlc3RJZCgnZW5hYmxlZCcpLnByb3BzLmNoaWxkcmVuKS50b0JlKCdmYWxzZScpO1xyXG7CoCDCoCBleHBlY3QodWkuZ2V0QnlUZXN0SWQoJ2xvY2tlZCcpLnByb3BzLmNoaWxkcmVuKS50b0JlKCdmYWxzZScpO1xyXG7CoCB9KTtcclxuXHJcbsKgIGl0KCdzaG91bGQgbm90IHVubG9jayB3aXRoIGFuIGluY29ycmVjdCBQSU4nLCBhc3luYyAoKSA9PiB7XHJcbsKgIMKgIExvY2sudmVyaWZ5UGluLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7IG9rOiBmYWxzZSB9KTtcclxuwqAgwqAgY29uc3QgdWkgPSByZW5kZXIoPExvY2tQcm92aWRlcj48Q29uc3VtZXIgLz48L0xvY2tQcm92aWRlcj4pO1xyXG7CoCDCoCBhd2FpdCB3YWl0Rm9yKCgpID0+IGV4cGVjdCh1aS5xdWVyeUJ5VGVzdElkKCdsb2FkaW5nJykpLnRvQmVOdWxsKCkpO1xyXG7CoCDCoCBleHBlY3QodWkuZ2V0QnlUZXN0SWQoJ2xvY2tlZCcpLnByb3BzLmNoaWxkcmVuKS50b0JlKCd0cnVlJyk7XHJcblxyXG7CoCDCoCBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xyXG7CoCDCoCDCoCBmaXJlRXZlbnQucHJlc3ModWkuZ2V0QnlUZXN0SWQoJ3VubG9jay13cm9uZy1waW4nKSk7XHJcbsKgIMKgIH0pO1xyXG7CoCDCoCBleHBlY3QodWkuZ2V0QnlUZXN0SWQoJ2xvY2tlZCcpLnByb3BzLmNoaWxkcmVuKS50b0JlKCd0cnVlJyk7XHJcbsKgIMKgIGV4cGVjdChMb2NrLnZlcmlmeVBpbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoJzAwMDAnKTtcclxuwqAgfSk7XHJcblxyXG7CoCBpdCgnc2hvdWxkIHJldHVybiBsb2Nrb3V0IHJlYXNvbiB3aGVuIHBpbiB2ZXJpZmljYXRpb24gZmFpbHMgd2l0aCBsb2Nrb3V0JywgYXN5bmMgKCkgPT4ge1xyXG7CoCDCoCBMb2NrLnZlcmlmeVBpbi5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoeyBvazogZmFsc2UsIHJlYXNvbjogJ2xvY2tvdXQnIH0pO1xyXG7CoCDCoCBjb25zdCB1aSA9IHJlbmRlcig8TG9ja1Byb3ZpZGVyPjxDb25zdW1lciAvPjwvTG9ja1Byb3ZpZGVyPik7XHJcbsKgIMKgIGF3YWl0IHdhaXRGb3IoKCkgPT4gZXhwZWN0KHVpLnF1ZXJ5QnlUZXN0SWQoJ2xvYWRpbmcnKSkudG9CZU51bGwoKSk7XHJcblxyXG7CoCDCoCBsZXQgcmVzdWx0O1xyXG7CoCDCoCBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xyXG7CoCDCoCDCoCByZXN1bHQgPSBhd2FpdCB1aS5nZXRCeVRlc3RJZCgndW5sb2NrLWxvY2tvdXQnKS5wcm9wcy5vblByZXNzKCk7XHJcbsKgIMKgIH0pO1xyXG7CoCDCoCBleHBlY3QodWkuZ2V0QnlUZXN0SWQoJ2xvY2tlZCcpLnByb3BzLmNoaWxkcmVuKS50b0JlKCd0cnVlJyk7XHJcbsKgIMKgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoeyBvazogZmFsc2UsIHJlYXNvbjogJ2xvY2tvdXQnIH0pO1xyXG7CoCDCoCBleHBlY3QoTG9jay52ZXJpZnlQaW4pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcwMDAwJyk7XHJcbsKgIH0pO1xyXG5cclxuwqAgaXQoJ3Nob3VsZCBlbmFibGUgdGhlIGxvY2snLCBhc3luYyAoKSA9PiB7XHJcbsKgIMKgIExvY2suaXNFbmFibGVkLm1vY2tSZXNvbHZlZFZhbHVlT25jZShmYWxzZSk7XHJcbsKgIMKgIGNvbnN0IHVpID0gcmVuZGVyKDxMb2NrUHJvdmlkZXI+PENvbnN1bWVyIC8+PC9Mb2NrUHJvdmlkZXI+KTtcclxuwqAgwqAgYXdhaXQgd2FpdEZvcigoKSA9PiBleHBlY3QodWkucXVlcnlCeVRlc3RJZCgnbG9hZGluZycpKS50b0JlTnVsbCgpKTtcclxuwqAgwqAgZXhwZWN0KHVpLmdldEJ5VGVzdElkKCdlbmFibGVkJykucHJvcHMuY2hpbGRyZW4pLnRvQmUoJ2ZhbHNlJyk7XHJcbsKgIMKgIGV4cGVjdCh1aS5nZXRCeVRlc3RJZCgnbG9ja2VkJykucHJvcHMuY2hpbGRyZW4pLnRvQmUoJ2ZhbHNlJyk7XHJcblxyXG7CoCDCoCBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xyXG7CoCDCoCDCoCBmaXJlRXZlbnQucHJlc3ModWkuZ2V0QnlUZXN0SWQoJ2VuYWJsZScpKTtcclxuwqAgwqAgfSk7XHJcbsKgIMKgIGV4cGVjdCh1aS5nZXRCeVRlc3RJZCgnZW5hYmxlZCcpLnByb3BzLmNoaWxkcmVuKS50b0JlKCd0cnVlJyk7XHJcbsKgIMKgIGV4cGVjdCh1aS5nZXRCeVRlc3RJZCgnbG9ja2VkJykucHJvcHMuY2hpbGRyZW4pLnRvQmUoJ3RydWUnKTtcclxuwqAgwqAgZXhwZWN0KExvY2suZW5hYmxlTG9jaykudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG7CoCB9KTtcclxufSk7Il0sIm1hcHBpbmdzIjoiQUFJQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsZ0NBQWdDLEVBQUU7RUFBQSxPQUFPO0lBQ2pEQyxTQUFTLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDcEJDLFNBQVMsRUFBRUYsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztJQUNwQkUsV0FBVyxFQUFFSCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0lBQ3RCRyxVQUFVLEVBQUVKLElBQUksQ0FBQ0MsRUFBRSxDQUFDO0VBQ3RCLENBQUM7QUFBQSxDQUFDLENBQUM7QUFBQyxJQUFBSSxzQkFBQSxHQUFBQyxPQUFBO0FBQUEsSUFBQUMsa0JBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQVRKLElBQUFFLE1BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFlBQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLFlBQUEsR0FBQUosT0FBQTtBQUF1RSxJQUFBSyxXQUFBLEdBQUFMLE9BQUE7QUFBQSxTQUFBVCxZQUFBO0VBQUEsSUFBQWUsUUFBQSxHQUFBTixPQUFB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