94b0669ebb51a59167274c9e44d86fa7
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = require("react");
var _reactNative = require("react-native");
var _vectorIcons = require("@expo/vector-icons");
var _style = _interopRequireDefault(require("./style"));
var _jsxRuntime = require("react/jsx-runtime");
var OptionsList = function OptionsList(_ref) {
  var _ref$options = _ref.options,
    options = _ref$options === void 0 ? [] : _ref$options,
    _ref$selectedOptionId = _ref.selectedOptionId,
    selectedOptionId = _ref$selectedOptionId === void 0 ? null : _ref$selectedOptionId,
    onSelectOption = _ref.onSelectOption,
    _ref$correctOptionId = _ref.correctOptionId,
    correctOptionId = _ref$correctOptionId === void 0 ? null : _ref$correctOptionId,
    _ref$showCorrectAnswe = _ref.showCorrectAnswer,
    showCorrectAnswer = _ref$showCorrectAnswe === void 0 ? false : _ref$showCorrectAnswe,
    _ref$disabled = _ref.disabled,
    disabled = _ref$disabled === void 0 ? false : _ref$disabled,
    _ref$primaryColor = _ref.primaryColor,
    primaryColor = _ref$primaryColor === void 0 ? "#5E60CE" : _ref$primaryColor,
    _ref$layout = _ref.layout,
    layout = _ref$layout === void 0 ? "vertical" : _ref$layout;
  var isCorrectOption = function isCorrectOption(optionId) {
    return showCorrectAnswer && optionId === correctOptionId;
  };
  var isIncorrectSelection = function isIncorrectSelection(optionId) {
    return showCorrectAnswer && selectedOptionId === optionId && optionId !== correctOptionId;
  };
  var getOptionStyle = function getOptionStyle(optionId) {
    if (isCorrectOption(optionId)) {
      return _style.default.correctOption;
    }
    if (isIncorrectSelection(optionId)) {
      return _style.default.incorrectOption;
    }
    if (selectedOptionId === optionId) {
      return Object.assign({}, _style.default.selectedOption, {
        borderColor: primaryColor
      });
    }
    return _style.default.option;
  };
  var getOptionTextStyle = function getOptionTextStyle(optionId) {
    if (isCorrectOption(optionId)) {
      return _style.default.correctOptionText;
    }
    if (isIncorrectSelection(optionId)) {
      return _style.default.incorrectOptionText;
    }
    if (selectedOptionId === optionId) {
      return Object.assign({}, _style.default.selectedOptionText, {
        color: primaryColor
      });
    }
    return _style.default.optionText;
  };
  var handleOptionPress = (0, _react.useCallback)(function (optionId) {
    return function () {
      if (!disabled) onSelectOption(optionId);
    };
  }, [onSelectOption, disabled]);
  var renderVerticalOptions = function renderVerticalOptions() {
    return (0, _jsxRuntime.jsx)(_reactNative.View, {
      style: _style.default.verticalContainer,
      testID: "vertical-container",
      children: options.map(function (option) {
        return (0, _jsxRuntime.jsxs)(_reactNative.TouchableOpacity, {
          testID: `option-item-${option.id}`,
          style: [_style.default.optionItem, getOptionStyle(option.id)],
          onPress: handleOptionPress(option.id),
          disabled: disabled,
          accessibilityRole: "button",
          accessibilityLabel: String(option.text),
          accessibilityState: {
            disabled: disabled,
            selected: selectedOptionId === option.id
          },
          children: [(0, _jsxRuntime.jsx)(_reactNative.Text, {
            style: [_style.default.optionItemText, getOptionTextStyle(option.id)],
            children: option.text
          }), isCorrectOption(option.id) && (0, _jsxRuntime.jsx)(_vectorIcons.Ionicons, {
            name: "checkmark-circle",
            size: 24,
            color: "#10B981"
          }), isIncorrectSelection(option.id) && (0, _jsxRuntime.jsx)(_vectorIcons.Ionicons, {
            name: "close-circle",
            size: 24,
            color: "#EF4444"
          }), selectedOptionId === option.id && !showCorrectAnswer && (0, _jsxRuntime.jsx)(_reactNative.View, {
            testID: `selected-indicator-${option.id}`,
            style: [_style.default.selectedIndicator, {
              backgroundColor: primaryColor
            }]
          })]
        }, option.id);
      })
    });
  };
  var renderGridOptions = function renderGridOptions() {
    return (0, _jsxRuntime.jsx)(_reactNative.View, {
      style: _style.default.gridContainer,
      testID: "grid-container",
      children: options.map(function (option) {
        return (0, _jsxRuntime.jsxs)(_reactNative.TouchableOpacity, {
          testID: `grid-option-item-${option.id}`,
          style: [_style.default.gridOptionItem, getOptionStyle(option.id), {
            width: `${100 / Math.min(options.length, 2) - 2}%`
          }],
          onPress: handleOptionPress(option.id),
          disabled: disabled,
          accessibilityRole: "button",
          accessibilityLabel: String(option.text),
          accessibilityState: {
            disabled: disabled,
            selected: selectedOptionId === option.id
          },
          children: [(0, _jsxRuntime.jsx)(_reactNative.Text, {
            style: [_style.default.gridOptionText, getOptionTextStyle(option.id)],
            children: option.text
          }), isCorrectOption(option.id) && (0, _jsxRuntime.jsx)(_vectorIcons.Ionicons, {
            name: "checkmark-circle",
            size: 24,
            color: "#10B981"
          }), isIncorrectSelection(option.id) && (0, _jsxRuntime.jsx)(_vectorIcons.Ionicons, {
            name: "close-circle",
            size: 24,
            color: "#EF4444"
          })]
        }, option.id);
      })
    });
  };
  return layout === "vertical" ? renderVerticalOptions() : renderGridOptions();
};
function areEqual(prevProps, nextProps) {
  return prevProps.selectedOptionId === nextProps.selectedOptionId && prevProps.correctOptionId === nextProps.correctOptionId && prevProps.showCorrectAnswer === nextProps.showCorrectAnswer && prevProps.disabled === nextProps.disabled && prevProps.primaryColor === nextProps.primaryColor && prevProps.layout === nextProps.layout && prevProps.options === nextProps.options;
}
var _default = exports.default = (0, _react.memo)(OptionsList, areEqual);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX3JlYWN0TmF0aXZlIiwiX3ZlY3Rvckljb25zIiwiX3N0eWxlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9qc3hSdW50aW1lIiwiT3B0aW9uc0xpc3QiLCJfcmVmIiwiX3JlZiRvcHRpb25zIiwib3B0aW9ucyIsIl9yZWYkc2VsZWN0ZWRPcHRpb25JZCIsInNlbGVjdGVkT3B0aW9uSWQiLCJvblNlbGVjdE9wdGlvbiIsIl9yZWYkY29ycmVjdE9wdGlvbklkIiwiY29ycmVjdE9wdGlvbklkIiwiX3JlZiRzaG93Q29ycmVjdEFuc3dlIiwic2hvd0NvcnJlY3RBbnN3ZXIiLCJfcmVmJGRpc2FibGVkIiwiZGlzYWJsZWQiLCJfcmVmJHByaW1hcnlDb2xvciIsInByaW1hcnlDb2xvciIsIl9yZWYkbGF5b3V0IiwibGF5b3V0IiwiaXNDb3JyZWN0T3B0aW9uIiwib3B0aW9uSWQiLCJpc0luY29ycmVjdFNlbGVjdGlvbiIsImdldE9wdGlvblN0eWxlIiwic3R5bGVzIiwiY29ycmVjdE9wdGlvbiIsImluY29ycmVjdE9wdGlvbiIsIk9iamVjdCIsImFzc2lnbiIsInNlbGVjdGVkT3B0aW9uIiwiYm9yZGVyQ29sb3IiLCJvcHRpb24iLCJnZXRPcHRpb25UZXh0U3R5bGUiLCJjb3JyZWN0T3B0aW9uVGV4dCIsImluY29ycmVjdE9wdGlvblRleHQiLCJzZWxlY3RlZE9wdGlvblRleHQiLCJjb2xvciIsIm9wdGlvblRleHQiLCJoYW5kbGVPcHRpb25QcmVzcyIsInVzZUNhbGxiYWNrIiwicmVuZGVyVmVydGljYWxPcHRpb25zIiwianN4IiwiVmlldyIsInN0eWxlIiwidmVydGljYWxDb250YWluZXIiLCJ0ZXN0SUQiLCJjaGlsZHJlbiIsIm1hcCIsImpzeHMiLCJUb3VjaGFibGVPcGFjaXR5IiwiaWQiLCJvcHRpb25JdGVtIiwib25QcmVzcyIsImFjY2Vzc2liaWxpdHlSb2xlIiwiYWNjZXNzaWJpbGl0eUxhYmVsIiwiU3RyaW5nIiwidGV4dCIsImFjY2Vzc2liaWxpdHlTdGF0ZSIsInNlbGVjdGVkIiwiVGV4dCIsIm9wdGlvbkl0ZW1UZXh0IiwiSW9uaWNvbnMiLCJuYW1lIiwic2l6ZSIsInNlbGVjdGVkSW5kaWNhdG9yIiwiYmFja2dyb3VuZENvbG9yIiwicmVuZGVyR3JpZE9wdGlvbnMiLCJncmlkQ29udGFpbmVyIiwiZ3JpZE9wdGlvbkl0ZW0iLCJ3aWR0aCIsIk1hdGgiLCJtaW4iLCJsZW5ndGgiLCJncmlkT3B0aW9uVGV4dCIsImFyZUVxdWFsIiwicHJldlByb3BzIiwibmV4dFByb3BzIiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiZGVmYXVsdCIsIm1lbW8iXSwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvY29tcG9uZW50cy9leGVyY2lzZS1jb21tb24vT3B0aW9uc0xpc3QvaW5kZXguanNcclxuaW1wb3J0IHsgbWVtbywgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgVmlldywgVGV4dCwgVG91Y2hhYmxlT3BhY2l0eSB9IGZyb20gXCJyZWFjdC1uYXRpdmVcIjtcclxuaW1wb3J0IHsgSW9uaWNvbnMgfSBmcm9tIFwiQGV4cG8vdmVjdG9yLWljb25zXCI7XHJcbmltcG9ydCBzdHlsZXMgZnJvbSBcIi4vc3R5bGVcIjtcclxuXHJcbi8qKlxyXG4gKiBMaXN0ZSBkJ29wdGlvbnMgc8OpbGVjdGlvbm5hYmxlcyBwb3VyIGxlcyBleGVyY2ljZXMgw6AgY2hvaXggbXVsdGlwbGVzXHJcbiAqL1xyXG5jb25zdCBPcHRpb25zTGlzdCA9ICh7XHJcbiAgb3B0aW9ucyA9IFtdLFxyXG4gIHNlbGVjdGVkT3B0aW9uSWQgPSBudWxsLFxyXG4gIG9uU2VsZWN0T3B0aW9uLFxyXG4gIGNvcnJlY3RPcHRpb25JZCA9IG51bGwsXHJcbiAgc2hvd0NvcnJlY3RBbnN3ZXIgPSBmYWxzZSxcclxuICBkaXNhYmxlZCA9IGZhbHNlLFxyXG4gIHByaW1hcnlDb2xvciA9IFwiIzVFNjBDRVwiLFxyXG4gIGxheW91dCA9IFwidmVydGljYWxcIiwgLy8gJ3ZlcnRpY2FsJyBvdSAnZ3JpZCdcclxufSkgPT4ge1xyXG4gIC8vIETDqXRlcm1pbmUgc2kgdW5lIG9wdGlvbiBlc3QgY29ycmVjdGUgKHV0aWxlIHBvdXIgbCdhZmZpY2hhZ2UgZGVzIHLDqXBvbnNlcylcclxuICBjb25zdCBpc0NvcnJlY3RPcHRpb24gPSAob3B0aW9uSWQpID0+IHtcclxuICAgIHJldHVybiBzaG93Q29ycmVjdEFuc3dlciAmJiBvcHRpb25JZCA9PT0gY29ycmVjdE9wdGlvbklkO1xyXG4gIH07XHJcblxyXG4gIC8vIETDqXRlcm1pbmUgc2kgdW5lIG9wdGlvbiBlc3QgaW5jb3JyZWN0ZSAodXRpbGUgcG91ciBsJ2FmZmljaGFnZSBkZXMgcsOpcG9uc2VzKVxyXG4gIGNvbnN0IGlzSW5jb3JyZWN0U2VsZWN0aW9uID0gKG9wdGlvbklkKSA9PiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBzaG93Q29ycmVjdEFuc3dlciAmJlxyXG4gICAgICBzZWxlY3RlZE9wdGlvbklkID09PSBvcHRpb25JZCAmJlxyXG4gICAgICBvcHRpb25JZCAhPT0gY29ycmVjdE9wdGlvbklkXHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gIC8vIETDqWZpbml0IGxlIHN0eWxlIHBvdXIgY2hhcXVlIG9wdGlvblxyXG4gIGNvbnN0IGdldE9wdGlvblN0eWxlID0gKG9wdGlvbklkKSA9PiB7XHJcbiAgICBpZiAoaXNDb3JyZWN0T3B0aW9uKG9wdGlvbklkKSkge1xyXG4gICAgICByZXR1cm4gc3R5bGVzLmNvcnJlY3RPcHRpb247XHJcbiAgICB9XHJcbiAgICBpZiAoaXNJbmNvcnJlY3RTZWxlY3Rpb24ob3B0aW9uSWQpKSB7XHJcbiAgICAgIHJldHVybiBzdHlsZXMuaW5jb3JyZWN0T3B0aW9uO1xyXG4gICAgfVxyXG4gICAgaWYgKHNlbGVjdGVkT3B0aW9uSWQgPT09IG9wdGlvbklkKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgLi4uc3R5bGVzLnNlbGVjdGVkT3B0aW9uLFxyXG4gICAgICAgIGJvcmRlckNvbG9yOiBwcmltYXJ5Q29sb3IsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3R5bGVzLm9wdGlvbjtcclxuICB9O1xyXG5cclxuICAvLyBEw6lmaW5pdCBsZSBzdHlsZSBkdSB0ZXh0ZSBwb3VyIGNoYXF1ZSBvcHRpb25cclxuICBjb25zdCBnZXRPcHRpb25UZXh0U3R5bGUgPSAob3B0aW9uSWQpID0+IHtcclxuICAgIGlmIChpc0NvcnJlY3RPcHRpb24ob3B0aW9uSWQpKSB7XHJcbiAgICAgIHJldHVybiBzdHlsZXMuY29ycmVjdE9wdGlvblRleHQ7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNJbmNvcnJlY3RTZWxlY3Rpb24ob3B0aW9uSWQpKSB7XHJcbiAgICAgIHJldHVybiBzdHlsZXMuaW5jb3JyZWN0T3B0aW9uVGV4dDtcclxuICAgIH1cclxuICAgIGlmIChzZWxlY3RlZE9wdGlvbklkID09PSBvcHRpb25JZCkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnN0eWxlcy5zZWxlY3RlZE9wdGlvblRleHQsXHJcbiAgICAgICAgY29sb3I6IHByaW1hcnlDb2xvcixcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIHJldHVybiBzdHlsZXMub3B0aW9uVGV4dDtcclxuICB9O1xyXG5cclxuICAvLyBGYWN0b3J5IGRlIGhhbmRsZXIgcG91ciDDqXZpdGVyIGxhIGNyw6lhdGlvbiBkZSBmb25jdGlvbnMgaW5saW5lXHJcbiAgY29uc3QgaGFuZGxlT3B0aW9uUHJlc3MgPSB1c2VDYWxsYmFjaygob3B0aW9uSWQpID0+ICgpID0+IHtcclxuICAgIGlmICghZGlzYWJsZWQpIG9uU2VsZWN0T3B0aW9uKG9wdGlvbklkKTtcclxuICB9LCBbb25TZWxlY3RPcHRpb24sIGRpc2FibGVkXSk7XHJcblxyXG4gIC8vIFJlbmR1IHBvdXIgbGEgbWlzZSBlbiBwYWdlIHZlcnRpY2FsZVxyXG4gIGNvbnN0IHJlbmRlclZlcnRpY2FsT3B0aW9ucyA9ICgpID0+IChcclxuICAgIDxWaWV3IHN0eWxlPXtzdHlsZXMudmVydGljYWxDb250YWluZXJ9IHRlc3RJRD1cInZlcnRpY2FsLWNvbnRhaW5lclwiPlxyXG4gICAgICB7b3B0aW9ucy5tYXAoKG9wdGlvbikgPT4gKFxyXG4gICAgICAgIDxUb3VjaGFibGVPcGFjaXR5XHJcbiAgICAgICAgICBrZXk9e29wdGlvbi5pZH1cclxuICAgICAgICAgIHRlc3RJRD17YG9wdGlvbi1pdGVtLSR7b3B0aW9uLmlkfWB9IC8vIOKchSBDJ2VzdCBsZSBib24gZW5kcm9pdCBwb3VyIGwnaXRlbVxyXG4gICAgICAgICAgc3R5bGU9e1tzdHlsZXMub3B0aW9uSXRlbSwgZ2V0T3B0aW9uU3R5bGUob3B0aW9uLmlkKV19XHJcbiAgICAgICAgICBvblByZXNzPXtoYW5kbGVPcHRpb25QcmVzcyhvcHRpb24uaWQpfVxyXG4gICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxyXG4gICAgICAgICAgYWNjZXNzaWJpbGl0eVJvbGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsPXtTdHJpbmcob3B0aW9uLnRleHQpfVxyXG4gICAgICAgICAgYWNjZXNzaWJpbGl0eVN0YXRlPXt7XHJcbiAgICAgICAgICAgIGRpc2FibGVkLFxyXG4gICAgICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWRPcHRpb25JZCA9PT0gb3B0aW9uLmlkLFxyXG4gICAgICAgICAgfX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICA8VGV4dCBzdHlsZT17W3N0eWxlcy5vcHRpb25JdGVtVGV4dCwgZ2V0T3B0aW9uVGV4dFN0eWxlKG9wdGlvbi5pZCldfT5cclxuICAgICAgICAgICAge29wdGlvbi50ZXh0fVxyXG4gICAgICAgICAgPC9UZXh0PlxyXG5cclxuICAgICAgICAgIHtpc0NvcnJlY3RPcHRpb24ob3B0aW9uLmlkKSAmJiAoXHJcbiAgICAgICAgICAgIDxJb25pY29ucyBuYW1lPVwiY2hlY2ttYXJrLWNpcmNsZVwiIHNpemU9ezI0fSBjb2xvcj1cIiMxMEI5ODFcIiAvPlxyXG4gICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICB7aXNJbmNvcnJlY3RTZWxlY3Rpb24ob3B0aW9uLmlkKSAmJiAoXHJcbiAgICAgICAgICAgIDxJb25pY29ucyBuYW1lPVwiY2xvc2UtY2lyY2xlXCIgc2l6ZT17MjR9IGNvbG9yPVwiI0VGNDQ0NFwiIC8+XHJcbiAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgIHtzZWxlY3RlZE9wdGlvbklkID09PSBvcHRpb24uaWQgJiYgIXNob3dDb3JyZWN0QW5zd2VyICYmIChcclxuICAgICAgICAgICAgPFZpZXdcclxuICAgICAgICAgICAgICB0ZXN0SUQ9e2BzZWxlY3RlZC1pbmRpY2F0b3ItJHtvcHRpb24uaWR9YH0gLy8g4pyFIEMnZXN0IGxlIGJvbiBlbmRyb2l0IHBvdXIgbCdpbmRpY2F0ZXVyXHJcbiAgICAgICAgICAgICAgc3R5bGU9e1tcclxuICAgICAgICAgICAgICAgIHN0eWxlcy5zZWxlY3RlZEluZGljYXRvcixcclxuICAgICAgICAgICAgICAgIHsgYmFja2dyb3VuZENvbG9yOiBwcmltYXJ5Q29sb3IgfSxcclxuICAgICAgICAgICAgICBdfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L1RvdWNoYWJsZU9wYWNpdHk+XHJcbiAgICAgICkpfVxyXG4gICAgPC9WaWV3PlxyXG4gICk7XHJcblxyXG4gIC8vIFJlbmR1IHBvdXIgbGEgbWlzZSBlbiBwYWdlIGVuIGdyaWxsZVxyXG4gIGNvbnN0IHJlbmRlckdyaWRPcHRpb25zID0gKCkgPT4gKFxyXG4gICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5ncmlkQ29udGFpbmVyfSB0ZXN0SUQ9XCJncmlkLWNvbnRhaW5lclwiPlxyXG4gICAgICB7b3B0aW9ucy5tYXAoKG9wdGlvbikgPT4gKFxyXG4gICAgICAgIDxUb3VjaGFibGVPcGFjaXR5XHJcbiAgICAgICAgICBrZXk9e29wdGlvbi5pZH1cclxuICAgICAgICAgIHRlc3RJRD17YGdyaWQtb3B0aW9uLWl0ZW0tJHtvcHRpb24uaWR9YH0gLy8g4pyFIEMnZXN0IGxlIGJvbiBlbmRyb2l0IHBvdXIgbCdpdGVtXHJcbiAgICAgICAgICBzdHlsZT17W1xyXG4gICAgICAgICAgICBzdHlsZXMuZ3JpZE9wdGlvbkl0ZW0sXHJcbiAgICAgICAgICAgIGdldE9wdGlvblN0eWxlKG9wdGlvbi5pZCksXHJcbiAgICAgICAgICAgIHsgd2lkdGg6IGAkezEwMCAvIE1hdGgubWluKG9wdGlvbnMubGVuZ3RoLCAyKSAtIDJ9JWAgfSxcclxuICAgICAgICAgIF19XHJcbiAgICAgICAgICBvblByZXNzPXtoYW5kbGVPcHRpb25QcmVzcyhvcHRpb24uaWQpfVxyXG4gICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxyXG4gICAgICAgICAgYWNjZXNzaWJpbGl0eVJvbGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsPXtTdHJpbmcob3B0aW9uLnRleHQpfVxyXG4gICAgICAgICAgYWNjZXNzaWJpbGl0eVN0YXRlPXt7XHJcbiAgICAgICAgICAgIGRpc2FibGVkLFxyXG4gICAgICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWRPcHRpb25JZCA9PT0gb3B0aW9uLmlkLFxyXG4gICAgICAgICAgfX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICA8VGV4dCBzdHlsZT17W3N0eWxlcy5ncmlkT3B0aW9uVGV4dCwgZ2V0T3B0aW9uVGV4dFN0eWxlKG9wdGlvbi5pZCldfT5cclxuICAgICAgICAgICAge29wdGlvbi50ZXh0fVxyXG4gICAgICAgICAgPC9UZXh0PlxyXG5cclxuICAgICAgICAgIHtpc0NvcnJlY3RPcHRpb24ob3B0aW9uLmlkKSAmJiAoXHJcbiAgICAgICAgICAgIDxJb25pY29ucyBuYW1lPVwiY2hlY2ttYXJrLWNpcmNsZVwiIHNpemU9ezI0fSBjb2xvcj1cIiMxMEI5ODFcIiAvPlxyXG4gICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICB7aXNJbmNvcnJlY3RTZWxlY3Rpb24ob3B0aW9uLmlkKSAmJiAoXHJcbiAgICAgICAgICAgIDxJb25pY29ucyBuYW1lPVwiY2xvc2UtY2lyY2xlXCIgc2l6ZT17MjR9IGNvbG9yPVwiI0VGNDQ0NFwiIC8+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvVG91Y2hhYmxlT3BhY2l0eT5cclxuICAgICAgKSl9XHJcbiAgICA8L1ZpZXc+XHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIGxheW91dCA9PT0gXCJ2ZXJ0aWNhbFwiID8gcmVuZGVyVmVydGljYWxPcHRpb25zKCkgOiByZW5kZXJHcmlkT3B0aW9ucygpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gYXJlRXF1YWwocHJldlByb3BzLCBuZXh0UHJvcHMpIHtcclxuICByZXR1cm4gKFxyXG4gICAgcHJldlByb3BzLnNlbGVjdGVkT3B0aW9uSWQgPT09IG5leHRQcm9wcy5zZWxlY3RlZE9wdGlvbklkICYmXHJcbiAgICBwcmV2UHJvcHMuY29ycmVjdE9wdGlvbklkID09PSBuZXh0UHJvcHMuY29ycmVjdE9wdGlvbklkICYmXHJcbiAgICBwcmV2UHJvcHMuc2hvd0NvcnJlY3RBbnN3ZXIgPT09IG5leHRQcm9wcy5zaG93Q29ycmVjdEFuc3dlciAmJlxyXG4gICAgcHJldlByb3BzLmRpc2FibGVkID09PSBuZXh0UHJvcHMuZGlzYWJsZWQgJiZcclxuICAgIHByZXZQcm9wcy5wcmltYXJ5Q29sb3IgPT09IG5leHRQcm9wcy5wcmltYXJ5Q29sb3IgJiZcclxuICAgIHByZXZQcm9wcy5sYXlvdXQgPT09IG5leHRQcm9wcy5sYXlvdXQgJiZcclxuICAgIHByZXZQcm9wcy5vcHRpb25zID09PSBuZXh0UHJvcHMub3B0aW9uc1xyXG4gICk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1lbW8oT3B0aW9uc0xpc3QsIGFyZUVxdWFsKTsiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQ0EsSUFBQUEsTUFBQSxHQUFB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