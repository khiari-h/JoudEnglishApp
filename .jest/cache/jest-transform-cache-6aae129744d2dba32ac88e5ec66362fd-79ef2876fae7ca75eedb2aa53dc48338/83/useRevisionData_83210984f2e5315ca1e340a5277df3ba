10b263e1494d426073cc33188e271af7
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = require("react");
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _vocabularyDataHelper = require("../utils/vocabulary/vocabularyDataHelper");
var useRevisionData = function useRevisionData() {
  var level = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "mixed";
  var questionsCount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;
  var _useState = (0, _react.useState)([]),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    allLearnedWords = _useState2[0],
    setAllLearnedWords = _useState2[1];
  var _useState3 = (0, _react.useState)(true),
    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
    isLoading = _useState4[0],
    setIsLoading = _useState4[1];
  var _useState5 = (0, _react.useState)(null),
    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),
    error = _useState6[0],
    setError = _useState6[1];
  (0, _react.useEffect)(function () {
    var loadLearnedWords = function () {
      var _ref = (0, _asyncToGenerator2.default)(function* () {
        try {
          setIsLoading(true);
          setError(null);
          var learnedWords = [];
          var levels = level === "mixed" ? ['1', '2', '3', '4', '5', '6', 'bonus'] : [level];
          var modes = ['classic', 'fast'];
          var _loop = function* _loop(levelKey) {
              var _loop2 = function* _loop2(mode) {
                  var storageKey = `vocabulary_${levelKey}_${mode}`;
                  try {
                    var stored = yield _asyncStorage.default.getItem(storageKey);
                    if (!stored) {
                      return 0;
                    }
                    var data = JSON.parse(stored);
                    var completedWordsRefs = data.completedWords || {};
                    if (Object.keys(completedWordsRefs).length === 0) {
                      return 0;
                    }
                    var originalData = (0, _vocabularyDataHelper.getVocabularyData)(levelKey, mode);
                    if (!(originalData != null && originalData.exercises)) {
                      return {
                        v: {
                          v: void 0
                        }
                      };
                    }
                    Object.entries(completedWordsRefs).forEach(function (_ref2) {
                      var _ref3 = (0, _slicedToArray2.default)(_ref2, 2),
                        categoryIndex = _ref3[0],
                        wordRefs = _ref3[1];
                      if (!Array.isArray(wordRefs) || wordRefs.length === 0) return;
                      var catIndex = parseInt(categoryIndex);
                      var category = originalData.exercises[catIndex];
                      if (!(category != null && category.words)) {
                        return;
                      }
                      wordRefs.forEach(function (wordRef) {
                        var wordIndex;
                        var timestamp = Date.now();
                        if (typeof wordRef === 'object' && wordRef.wordIndex !== undefined) {
                          wordIndex = wordRef.wordIndex;
                          timestamp = wordRef.timestamp || timestamp;
                        } else if (typeof wordRef === 'number') {
                          wordIndex = wordRef;
                        } else if (typeof wordRef === 'string') {
                          var foundIndex = category.words.findIndex(function (w) {
                            return w.word === wordRef;
                          });
                          if (foundIndex !== -1) wordIndex = foundIndex;
                        }
                        if (wordIndex !== undefined && category.words[wordIndex]) {
                          var realWord = category.words[wordIndex];
                          learnedWords.push({
                            word: realWord.word,
                            translation: realWord.translation,
                            definition: realWord.definition || '',
                            example: realWord.example || '',
                            fromLevel: levelKey,
                            fromMode: mode,
                            categoryIndex: catIndex,
                            wordIndex: wordIndex,
                            timestamp: timestamp,
                            uniqueId: `${levelKey}_${mode}_${catIndex}_${wordIndex}`
                          });
                        } else {}
                      });
                    });
                  } catch (storageError) {
                    console.error(`❌ Erreur traitement ${storageKey}:`, storageError);
                  }
                },
                _ret2;
              for (var mode of modes) {
                _ret2 = yield* _loop2(mode);
                if (_ret2 === 0) continue;
                if (_ret2) return _ret2.v;
              }
            },
            _ret;
          for (var levelKey of levels) {
            _ret = yield* _loop(levelKey);
            if (_ret) return _ret.v;
          }
          var uniqueWords = learnedWords.filter(function (word, index, self) {
            return index === self.findIndex(function (w) {
              return w.uniqueId === word.uniqueId;
            });
          });
          setAllLearnedWords(uniqueWords);
        } catch (mainError) {
          console.error('❌ Erreur générale useRevisionData:', mainError);
          setError(mainError.message);
          setAllLearnedWords([]);
        } finally {
          setIsLoading(false);
        }
      });
      return function loadLearnedWords() {
        return _ref.apply(this, arguments);
      };
    }();
    loadLearnedWords();
  }, [level]);
  var revisionQuestions = (0, _react.useMemo)(function () {
    if (allLearnedWords.length === 0) return [];
    var shuffledWords = (0, _toConsumableArray2.default)(allLearnedWords).sort(function () {
      return Math.random() - 0.5;
    });
    var selectedWords = shuffledWords.slice(0, Math.min(questionsCount, allLearnedWords.length));
    var questionsWithChoices = selectedWords.map(function (word) {
      var otherWords = allLearnedWords.filter(function (w) {
        return w.uniqueId !== word.uniqueId;
      });
      var wrongAnswers = otherWords.sort(function () {
        return Math.random() - 0.5;
      }).slice(0, 3).map(function (w) {
        return w.translation;
      });
      if (wrongAnswers.length < 3) {
        var _fallbackData$exercis;
        var fallbackData = (0, _vocabularyDataHelper.getVocabularyData)('1', 'classic');
        if (fallbackData != null && (_fallbackData$exercis = fallbackData.exercises) != null && (_fallbackData$exercis = _fallbackData$exercis[0]) != null && _fallbackData$exercis.words) {
          var needed = 3 - wrongAnswers.length;
          var randomFallback = fallbackData.exercises[0].words.sort(function () {
            return Math.random() - 0.5;
          }).filter(function (w) {
            return !wrongAnswers.includes(w.translation) && w.translation !== word.translation;
          }).slice(0, needed).map(function (w) {
            return w.translation;
          });
          wrongAnswers = [].concat((0, _toConsumableArray2.default)(wrongAnswers), (0, _toConsumableArray2.default)(randomFallback));
        }
      }
      var choices = [word.translation].concat((0, _toConsumableArray2.default)(wrongAnswers.slice(0, 3))).sort(function () {
        return Math.random() - 0.5;
      });
      return Object.assign({}, word, {
        choices: choices,
        correctAnswer: word.translation
      });
    });
    return questionsWithChoices;
  }, [allLearnedWords, questionsCount]);
  var stats = (0, _react.useMemo)(function () {
    var totalLearned = allLearnedWords.length;
    var byLevel = {};
    var byMode = {};
    allLearnedWords.forEach(function (word) {
      byLevel[word.fromLevel] = (byLevel[word.fromLevel] || 0) + 1;
      byMode[word.fromMode] = (byMode[word.fromMode] || 0) + 1;
    });
    return {
      totalLearned: totalLearned,
      byLevel: byLevel,
      byMode: byMode,
      questionsGenerated: revisionQuestions.length
    };
  }, [allLearnedWords, revisionQuestions]);
  return {
    allLearnedWords: allLearnedWords,
    revisionQuestions: revisionQuestions,
    isLoading: isLoading,
    error: error,
    stats: stats,
    hasEnoughWords: allLearnedWords.length > 0,
    canGenerateQuestions: revisionQuestions.length > 0
  };
};
var _default = exports.default = useRevisionData;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX2FzeW5jU3RvcmFnZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfdm9jYWJ1bGFyeURhdGFIZWxwZXIiLCJ1c2VSZXZpc2lvbkRhdGEiLCJsZXZlbCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInF1ZXN0aW9uc0NvdW50IiwiX3VzZVN0YXRlIiwidXNlU3RhdGUiLCJfdXNlU3RhdGUyIiwiX3NsaWNlZFRvQXJyYXkyIiwiZGVmYXVsdCIsImFsbExlYXJuZWRXb3JkcyIsInNldEFsbExlYXJuZWRXb3JkcyIsIl91c2VTdGF0ZTMiLCJfdXNlU3RhdGU0IiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiX3VzZVN0YXRlNSIsIl91c2VTdGF0ZTYiLCJlcnJvciIsInNldEVycm9yIiwidXNlRWZmZWN0IiwibG9hZExlYXJuZWRXb3JkcyIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJsZWFybmVkV29yZHMiLCJsZXZlbHMiLCJtb2RlcyIsIl9sb29wIiwibGV2ZWxLZXkiLCJfbG9vcDIiLCJtb2RlIiwic3RvcmFnZUtleSIsInN0b3JlZCIsIkFzeW5jU3RvcmFnZSIsImdldEl0ZW0iLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwiY29tcGxldGVkV29yZHNSZWZzIiwiY29tcGxldGVkV29yZHMiLCJPYmplY3QiLCJrZXlzIiwib3JpZ2luYWxEYXRhIiwiZ2V0Vm9jYWJ1bGFyeURhdGEiLCJleGVyY2lzZXMiLCJ2IiwiZW50cmllcyIsImZvckVhY2giLCJfcmVmMiIsIl9yZWYzIiwiY2F0ZWdvcnlJbmRleCIsIndvcmRSZWZzIiwiQXJyYXkiLCJpc0FycmF5IiwiY2F0SW5kZXgiLCJwYXJzZUludCIsImNhdGVnb3J5Iiwid29yZHMiLCJ3b3JkUmVmIiwid29yZEluZGV4IiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsImZvdW5kSW5kZXgiLCJmaW5kSW5kZXgiLCJ3Iiwid29yZCIsInJlYWxXb3JkIiwicHVzaCIsInRyYW5zbGF0aW9uIiwiZGVmaW5pdGlvbiIsImV4YW1wbGUiLCJmcm9tTGV2ZWwiLCJmcm9tTW9kZSIsInVuaXF1ZUlkIiwic3RvcmFnZUVycm9yIiwiY29uc29sZSIsIl9yZXQyIiwiX3JldCIsInVuaXF1ZVdvcmRzIiwiZmlsdGVyIiwiaW5kZXgiLCJzZWxmIiwibWFpbkVycm9yIiwibWVzc2FnZSIsImFwcGx5IiwicmV2aXNpb25RdWVzdGlvbnMiLCJ1c2VNZW1vIiwic2h1ZmZsZWRXb3JkcyIsIl90b0NvbnN1bWFibGVBcnJheTIiLCJzb3J0IiwiTWF0aCIsInJhbmRvbSIsInNlbGVjdGVkV29yZHMiLCJzbGljZSIsIm1pbiIsInF1ZXN0aW9uc1dpdGhDaG9pY2VzIiwibWFwIiwib3RoZXJXb3JkcyIsIndyb25nQW5zd2VycyIsIl9mYWxsYmFja0RhdGEkZXhlcmNpcyIsImZhbGxiYWNrRGF0YSIsIm5lZWRlZCIsInJhbmRvbUZhbGxiYWNrIiwiaW5jbHVkZXMiLCJjb25jYXQiLCJjaG9pY2VzIiwiYXNzaWduIiwiY29ycmVjdEFuc3dlciIsInN0YXRzIiwidG90YWxMZWFybmVkIiwiYnlMZXZlbCIsImJ5TW9kZSIsInF1ZXN0aW9uc0dlbmVyYXRlZCIsImhhc0Vub3VnaFdvcmRzIiwiY2FuR2VuZXJhdGVRdWVzdGlvbnMiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlcyI6WyJ1c2VSZXZpc2lvbkRhdGEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2hvb2tzL3VzZVJldmlzaW9uRGF0YS5qcyAtIEhPT0sgUE9VUiBSw4lDVVDDiVJFUiBMRVMgTU9UUyBBUFBSSVNcclxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IEFzeW5jU3RvcmFnZSBmcm9tICdAcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UvYXN5bmMtc3RvcmFnZSc7XHJcbmltcG9ydCB7IGdldFZvY2FidWxhcnlEYXRhIH0gZnJvbSAnLi4vdXRpbHMvdm9jYWJ1bGFyeS92b2NhYnVsYXJ5RGF0YUhlbHBlcic7XHJcblxyXG5jb25zdCB1c2VSZXZpc2lvbkRhdGEgPSAobGV2ZWwgPSBcIm1peGVkXCIsIHF1ZXN0aW9uc0NvdW50ID0gMTApID0+IHtcclxuICBjb25zdCBbYWxsTGVhcm5lZFdvcmRzLCBzZXRBbGxMZWFybmVkV29yZHNdID0gdXNlU3RhdGUoW10pO1xyXG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcclxuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xyXG5cclxuICAvLyA9PT09PT09PT09IFLDiUNVUMOJUkFUSU9OIERFUyBNT1RTIEFQUFJJUyA9PT09PT09PT09XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGxvYWRMZWFybmVkV29yZHMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgIFxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcclxuICAgICAgICBzZXRFcnJvcihudWxsKTtcclxuICAgICAgICBjb25zdCBsZWFybmVkV29yZHMgPSBbXTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBsZXZlbHMgPSBsZXZlbCA9PT0gXCJtaXhlZFwiID8gWycxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICdib251cyddIDogW2xldmVsXTtcclxuICAgICAgICBjb25zdCBtb2RlcyA9IFsnY2xhc3NpYycsICdmYXN0J107XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgbGV2ZWxLZXkgb2YgbGV2ZWxzKSB7XHJcbiAgICAgICAgICBmb3IgKGNvbnN0IG1vZGUgb2YgbW9kZXMpIHtcclxuICAgICAgICAgICAgY29uc3Qgc3RvcmFnZUtleSA9IGB2b2NhYnVsYXJ5XyR7bGV2ZWxLZXl9XyR7bW9kZX1gO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBjb25zdCBzdG9yZWQgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5KTtcclxuICAgICAgICAgICAgICBpZiAoIXN0b3JlZCkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShzdG9yZWQpO1xyXG4gICAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRlZFdvcmRzUmVmcyA9IGRhdGEuY29tcGxldGVkV29yZHMgfHwge307XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGNvbXBsZXRlZFdvcmRzUmVmcykubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgLy8gUsOpY3Vww6lyZXIgbGVzIGRvbm7DqWVzIG9yaWdpbmFsZXMgZHUgdm9jYWJ1bGFpcmVcclxuICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbERhdGEgPSBnZXRWb2NhYnVsYXJ5RGF0YShsZXZlbEtleSwgbW9kZSk7XHJcbiAgICAgICAgICAgICAgaWYgKCFvcmlnaW5hbERhdGE/LmV4ZXJjaXNlcykge1xyXG4gICAgICAgICAgICAgICAgLy8gUGFzIGRlIGRvbm7DqWVzIG9yaWdpbmFsZXMgcG91ciBjZSBuaXZlYXUvbW9kZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAvLyBUcmFpdGVyIGNoYXF1ZSBjYXTDqWdvcmllXHJcbiAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoY29tcGxldGVkV29yZHNSZWZzKS5mb3JFYWNoKChbY2F0ZWdvcnlJbmRleCwgd29yZFJlZnNdKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkod29yZFJlZnMpIHx8IHdvcmRSZWZzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjb25zdCBjYXRJbmRleCA9IHBhcnNlSW50KGNhdGVnb3J5SW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSBvcmlnaW5hbERhdGEuZXhlcmNpc2VzW2NhdEluZGV4XTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKCFjYXRlZ29yeT8ud29yZHMpIHtcclxuICAgICAgICAgICAgICAgICAgLy8gQ2F0w6lnb3JpZSBpbnRyb3V2YWJsZSBkYW5zIGNlIG5pdmVhdS9tb2RlXHJcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gUsOpY3Vww6lyZXIgY2hhcXVlIG1vdCBhcHByaXNcclxuICAgICAgICAgICAgICAgIHdvcmRSZWZzLmZvckVhY2goKHdvcmRSZWYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgbGV0IHdvcmRJbmRleDsgLy8gc2tpcGNxOiBKUy0wMTE5IC0gSW5pdGlhbGlzYXRpb24gZMOpcGVuZCBkZSBsYSBsb2dpcXVlIGNpLWRlc3NvdXNcclxuICAgICAgICAgICAgICAgICAgbGV0IHRpbWVzdGFtcCA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0IG5vdXZlYXUgZm9ybWF0IChvYmpldCBhdmVjIHdvcmRJbmRleCArIHRpbWVzdGFtcClcclxuICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3b3JkUmVmID09PSAnb2JqZWN0JyAmJiB3b3JkUmVmLndvcmRJbmRleCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd29yZEluZGV4ID0gd29yZFJlZi53b3JkSW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wID0gd29yZFJlZi50aW1lc3RhbXAgfHwgdGltZXN0YW1wO1xyXG4gICAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0IGFuY2llbiBmb3JtYXQgKGp1c3RlIGwnaW5kZXgpXHJcbiAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB3b3JkUmVmID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHdvcmRJbmRleCA9IHdvcmRSZWY7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydCB0csOocyBhbmNpZW4gZm9ybWF0IChzdHJpbmcgZHUgbW90KVxyXG4gICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygd29yZFJlZiA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3VuZEluZGV4ID0gY2F0ZWdvcnkud29yZHMuZmluZEluZGV4KHcgPT4gdy53b3JkID09PSB3b3JkUmVmKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZm91bmRJbmRleCAhPT0gLTEpIHdvcmRJbmRleCA9IGZvdW5kSW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgIC8vIFLDqWN1cMOpcmVyIGxlIHZyYWkgbW90IGRlcHVpcyBsZXMgZG9ubsOpZXMgb3JpZ2luYWxlc1xyXG4gICAgICAgICAgICAgICAgICBpZiAod29yZEluZGV4ICE9PSB1bmRlZmluZWQgJiYgY2F0ZWdvcnkud29yZHNbd29yZEluZGV4XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlYWxXb3JkID0gY2F0ZWdvcnkud29yZHNbd29yZEluZGV4XTtcclxuICAgICAgICAgICAgICAgICAgICBsZWFybmVkV29yZHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAvLyBEb25uw6llcyBkdSBtb3RcclxuICAgICAgICAgICAgICAgICAgICAgIHdvcmQ6IHJlYWxXb3JkLndvcmQsXHJcbiAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbjogcmVhbFdvcmQudHJhbnNsYXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICBkZWZpbml0aW9uOiByZWFsV29yZC5kZWZpbml0aW9uIHx8ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgZXhhbXBsZTogcmVhbFdvcmQuZXhhbXBsZSB8fCAnJyxcclxuICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gTcOpdGFkb25uw6llc1xyXG4gICAgICAgICAgICAgICAgICAgICAgZnJvbUxldmVsOiBsZXZlbEtleSxcclxuICAgICAgICAgICAgICAgICAgICAgIGZyb21Nb2RlOiBtb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlJbmRleDogY2F0SW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgICB3b3JkSW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgIC8vIElEIHVuaXF1ZSBwb3VyIMOpdml0ZXIgZG91YmxvbnNcclxuICAgICAgICAgICAgICAgICAgICAgIHVuaXF1ZUlkOiBgJHtsZXZlbEtleX1fJHttb2RlfV8ke2NhdEluZGV4fV8ke3dvcmRJbmRleH1gXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV29yZEluZGV4IGludHJvdXZhYmxlIGRhbnMgbGEgY2F0w6lnb3JpZVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSBjYXRjaCAoc3RvcmFnZUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIEVycmV1ciB0cmFpdGVtZW50ICR7c3RvcmFnZUtleX06YCwgc3RvcmFnZUVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBTdXBwcmltZXIgbGVzIGRvdWJsb25zIHBvdGVudGllbHMgYmFzw6lzIHN1ciB1bmlxdWVJZFxyXG4gICAgICAgIGNvbnN0IHVuaXF1ZVdvcmRzID0gbGVhcm5lZFdvcmRzLmZpbHRlcigod29yZCwgaW5kZXgsIHNlbGYpID0+IFxyXG4gICAgICAgICAgaW5kZXggPT09IHNlbGYuZmluZEluZGV4KHcgPT4gdy51bmlxdWVJZCA9PT0gd29yZC51bmlxdWVJZClcclxuICAgICAgICApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHNldEFsbExlYXJuZWRXb3Jkcyh1bmlxdWVXb3Jkcyk7XHJcbiAgICAgICAgXHJcbiAgICAgIH0gY2F0Y2ggKG1haW5FcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJldXIgZ8OpbsOpcmFsZSB1c2VSZXZpc2lvbkRhdGE6JywgbWFpbkVycm9yKTtcclxuICAgICAgICBzZXRFcnJvcihtYWluRXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgc2V0QWxsTGVhcm5lZFdvcmRzKFtdKTtcclxuICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGxvYWRMZWFybmVkV29yZHMoKTtcclxuICB9LCBbbGV2ZWxdKTsgLy8gUmVjaGFyZ2VyIHNpIGxlIG5pdmVhdSBjaGFuZ2VcclxuXHJcbiAgLy8gPT09PT09PT09PSBHw4lOw4lSQVRJT04gREVTIFFVRVNUSU9OUyA9PT09PT09PT09XHJcbiAgY29uc3QgcmV2aXNpb25RdWVzdGlvbnMgPSB1c2VNZW1vKCgpID0+IHtcclxuICAgIGlmIChhbGxMZWFybmVkV29yZHMubGVuZ3RoID09PSAwKSByZXR1cm4gW107XHJcblxyXG4gICAgLy8gTcOpbGFuZ2VyIGV0IHPDqWxlY3Rpb25uZXJcclxuICAgIGNvbnN0IHNodWZmbGVkV29yZHMgPSBbLi4uYWxsTGVhcm5lZFdvcmRzXS5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAwLjUpO1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRXb3JkcyA9IHNodWZmbGVkV29yZHMuc2xpY2UoMCwgTWF0aC5taW4ocXVlc3Rpb25zQ291bnQsIGFsbExlYXJuZWRXb3Jkcy5sZW5ndGgpKTtcclxuICAgIFxyXG4gICAgLy8gR8OpbsOpcmVyIGxlcyBjaG9peCBwb3VyIGNoYXF1ZSBxdWVzdGlvblxyXG4gICAgY29uc3QgcXVlc3Rpb25zV2l0aENob2ljZXMgPSBzZWxlY3RlZFdvcmRzLm1hcCgod29yZCkgPT4ge1xyXG4gICAgICAvLyBQb29sIGRlcyBhdXRyZXMgbW90cyBwb3VyIGxlcyBtYXV2YWlzZXMgcsOpcG9uc2VzXHJcbiAgICAgIGNvbnN0IG90aGVyV29yZHMgPSBhbGxMZWFybmVkV29yZHMuZmlsdGVyKHcgPT4gdy51bmlxdWVJZCAhPT0gd29yZC51bmlxdWVJZCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBQcmVuZHJlIDMgbWF1dmFpc2VzIHLDqXBvbnNlc1xyXG4gICAgICBsZXQgd3JvbmdBbnN3ZXJzID0gb3RoZXJXb3Jkc1xyXG4gICAgICAgIC5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAwLjUpXHJcbiAgICAgICAgLnNsaWNlKDAsIDMpXHJcbiAgICAgICAgLm1hcCh3ID0+IHcudHJhbnNsYXRpb24pO1xyXG4gICAgICBcclxuICAgICAgLy8gU2kgcGFzIGFzc2V6IGRlIG1hdXZhaXNlcyByw6lwb25zZXMsIGNvbXBsw6l0ZXIgYXZlYyBkYXRhc2V0IGRlIGZhbGxiYWNrXHJcbiAgICAgIGlmICh3cm9uZ0Fuc3dlcnMubGVuZ3RoIDwgMykge1xyXG4gICAgICAgIGNvbnN0IGZhbGxiYWNrRGF0YSA9IGdldFZvY2FidWxhcnlEYXRhKCcxJywgJ2NsYXNzaWMnKTtcclxuICAgICAgICBpZiAoZmFsbGJhY2tEYXRhPy5leGVyY2lzZXM/LlswXT8ud29yZHMpIHtcclxuICAgICAgICAgIGNvbnN0IG5lZWRlZCA9IDMgLSB3cm9uZ0Fuc3dlcnMubGVuZ3RoO1xyXG4gICAgICAgICAgY29uc3QgcmFuZG9tRmFsbGJhY2sgPSBmYWxsYmFja0RhdGEuZXhlcmNpc2VzWzBdLndvcmRzXHJcbiAgICAgICAgICAgIC5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAwLjUpXHJcbiAgICAgICAgICAgIC5maWx0ZXIodyA9PiAhd3JvbmdBbnN3ZXJzLmluY2x1ZGVzKHcudHJhbnNsYXRpb24pICYmIHcudHJhbnNsYXRpb24gIT09IHdvcmQudHJhbnNsYXRpb24pXHJcbiAgICAgICAgICAgIC5zbGljZSgwLCBuZWVkZWQpXHJcbiAgICAgICAgICAgIC5tYXAodyA9PiB3LnRyYW5zbGF0aW9uKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgd3JvbmdBbnN3ZXJzID0gWy4uLndyb25nQW5zd2VycywgLi4ucmFuZG9tRmFsbGJhY2tdO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gTcOpbGFuZ2VyIHRvdXRlcyBsZXMgcsOpcG9uc2VzXHJcbiAgICAgIGNvbnN0IGNob2ljZXMgPSBbd29yZC50cmFuc2xhdGlvbiwgLi4ud3JvbmdBbnN3ZXJzLnNsaWNlKDAsIDMpXVxyXG4gICAgICAgIC5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAwLjUpO1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAuLi53b3JkLFxyXG4gICAgICAgIGNob2ljZXMsXHJcbiAgICAgICAgY29ycmVjdEFuc3dlcjogd29yZC50cmFuc2xhdGlvblxyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHF1ZXN0aW9uc1dpdGhDaG9pY2VzO1xyXG4gICAgXHJcbiAgfSwgW2FsbExlYXJuZWRXb3JkcywgcXVlc3Rpb25zQ291bnRdKTtcclxuXHJcbiAgLy8gPT09PT09PT09PSBTVEFUSVNUSVFVRVMgPT09PT09PT09PVxyXG4gIGNvbnN0IHN0YXRzID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBjb25zdCB0b3RhbExlYXJuZWQgPSBhbGxMZWFybmVkV29yZHMubGVuZ3RoO1xyXG4gICAgY29uc3QgYnlMZXZlbCA9IHt9O1xyXG4gICAgY29uc3QgYnlNb2RlID0ge307XHJcbiAgICBcclxuICAgIGFsbExlYXJuZWRXb3Jkcy5mb3JFYWNoKHdvcmQgPT4ge1xyXG4gICAgICBieUxldmVsW3dvcmQuZnJvbUxldmVsXSA9IChieUxldmVsW3dvcmQuZnJvbUxldmVsXSB8fCAwKSArIDE7XHJcbiAgICAgIGJ5TW9kZVt3b3JkLmZyb21Nb2RlXSA9IChieU1vZGVbd29yZC5mcm9tTW9kZV0gfHwgMCkgKyAxO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHRvdGFsTGVhcm5lZCxcclxuICAgICAgYnlMZXZlbCxcclxuICAgICAgYnlNb2RlLFxyXG4gICAgICBxdWVzdGlvbnNHZW5lcmF0ZWQ6IHJldmlzaW9uUXVlc3Rpb25zLmxlbmd0aFxyXG4gICAgfTtcclxuICB9LCBbYWxsTGVhcm5lZFdvcmRzLCByZXZpc2lvblF1ZXN0aW9uc10pO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgLy8gRG9ubsOpZXMgcHJpbmNpcGFsZXNcclxuICAgIGFsbExlYXJuZWRXb3JkcyxcclxuICAgIHJldmlzaW9uUXVlc3Rpb25zLFxyXG4gICAgXHJcbiAgICAvLyDDiXRhdFxyXG4gICAgaXNMb2FkaW5nLFxyXG4gICAgZXJyb3IsXHJcbiAgICBcclxuICAgIC8vIFN0YXRpc3RpcXVlc1xyXG4gICAgc3RhdHMsXHJcbiAgICBcclxuICAgIC8vIE3DqXRob2RlcyB1dGlsZXNcclxuICAgIGhhc0Vub3VnaFdvcmRzOiBhbGxMZWFybmVkV29yZHMubGVuZ3RoID4gMCxcclxuICAgIGNhbkdlbmVyYXRlUXVlc3Rpb25zOiByZXZpc2lvblF1ZXN0aW9ucy5sZW5ndGggPiAwXHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHVzZVJldmlzaW9uRGF0YTsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQ0EsSUFBQUEsTUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsYUFBQSxHQUFBQyxzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQUcscUJBQUEsR0FBQUgsT0FBQTtBQUVBLElBQU1JLGVBQWUsR0FBRyxTQUFsQkEsZUFBZUEsQ0FBQSxFQUE2QztFQUFBLElBQXpDQyxLQUFLLEdBQUFDLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLE9BQU87RUFBQSxJQUFFRyxjQUFjLEdBQUFILFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLEVBQUU7RUFDM0QsSUFBQUksU0FBQSxHQUE4QyxJQUFBQyxlQUFRLEVBQUMsRUFBRSxDQUFDO0lBQUFDLFVBQUEsT0FBQUMsZUFBQSxDQUFBQyxPQUFBLEVBQUFKLFNBQUE7SUFBbkRLLGVBQWUsR0FBQUgsVUFBQTtJQUFFSSxrQkFBa0IsR0FBQUosVUFBQTtFQUMxQyxJQUFBSyxVQUFBLEdBQWtDLElBQUFOLGVBQVEsRUFBQyxJQUFJLENBQUM7SUFBQU8sVUFBQSxPQUFBTCxlQUFBLENBQUFDLE9BQUEsRUFBQUcsVUFBQTtJQUF6Q0UsU0FBUyxHQUFBRCxVQUFBO0lBQUVFLFlBQVksR0FBQUYsVUFBQTtFQUM5QixJQUFBRyxVQUFBLEdBQTBCLElBQUFWLGVBQVEsRUFBQyxJQUFJLENBQUM7SUFBQVcsVUFBQSxPQUFBVCxlQUFBLENBQUFD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