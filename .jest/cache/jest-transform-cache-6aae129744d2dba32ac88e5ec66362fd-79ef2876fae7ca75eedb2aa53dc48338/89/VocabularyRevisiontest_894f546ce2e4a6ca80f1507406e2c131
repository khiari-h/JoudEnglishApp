720feff509443aef12619263ceda14e5
_getJestObj().mock('../../../src/hooks/useRevisionManager', function () {
  return {
    __esModule: true,
    default: jest.fn(function () {
      return {
        markRevisionCompleted: mockMarkRevisionCompleted
      };
    })
  };
});
_getJestObj().mock('@react-navigation/native', function () {
  return {
    useNavigation: jest.fn(function () {
      return {
        goBack: mockGoBack
      };
    })
  };
});
_getJestObj().mock('../../../src/hooks/useRevisionData', function () {
  return {
    __esModule: true,
    default: jest.fn(function () {
      return {
        revisionQuestions: [],
        isLoading: false,
        error: null,
        stats: {
          totalLearned: 0
        },
        hasEnoughWords: false,
        canGenerateQuestions: false
      };
    })
  };
});
_getJestObj().mock('../../../src/hooks/useQuizEngine', function () {
  return {
    __esModule: true,
    default: jest.fn(function () {
      return {
        currentQuestion: null,
        currentQuestionIndex: 0,
        totalQuestions: 0,
        score: 0,
        isFinished: false,
        showResult: false,
        handleAnswer: jest.fn(function () {
          return true;
        }),
        goToNextQuestion: jest.fn(),
        handleRestart: jest.fn()
      };
    })
  };
});
_getJestObj().mock('../../../src/contexts/ThemeContext', function () {
  return {
    ThemeContext: {
      Consumer: function Consumer(_ref) {
        var children = _ref.children;
        return children({
          colors: {
            background: "#F8FAFC",
            surface: "#FFFFFF",
            text: "#1F2937",
            textSecondary: "#6B7280",
            primary: "#3B82F6"
          }
        });
      },
      useContext: function useContext() {
        return {
          colors: {
            background: "#F8FAFC",
            surface: "#FFFFFF",
            text: "#1F2937",
            textSecondary: "#6B7280",
            primary: "#3B82F6"
          }
        };
      }
    }
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _reactNative2 = require("react-native");
var _VocabularyRevision = _interopRequireDefault(require("../../../src/screens/VocabularyRevision"));
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockMarkRevisionCompleted = jest.fn();
var mockGoBack = jest.fn();
jest.spyOn(_reactNative2.Dimensions, 'get').mockReturnValue({
  width: 300,
  height: 600
});
describe('VocabularyRevision Integration Tests', function () {
  beforeEach(function () {
    jest.clearAllMocks();
    require('../../../src/hooks/useRevisionData').default.mockImplementation(function () {
      return {
        revisionQuestions: [],
        isLoading: false,
        error: null,
        stats: {
          totalLearned: 0
        },
        hasEnoughWords: false,
        canGenerateQuestions: false
      };
    });
    require('../../../src/hooks/useQuizEngine').default.mockImplementation(function () {
      return {
        currentQuestion: null,
        currentQuestionIndex: 0,
        totalQuestions: 0,
        score: 0,
        isFinished: false,
        showResult: false,
        handleAnswer: jest.fn(function () {
          return true;
        }),
        goToNextQuestion: jest.fn(),
        handleRestart: jest.fn()
      };
    });
    mockMarkRevisionCompleted.mockClear();
    mockGoBack.mockClear();
  });
  test('renders loading state initially', (0, _asyncToGenerator2.default)(function* () {
    require('../../../src/hooks/useRevisionData').default.mockImplementation(function () {
      return {
        isLoading: true,
        revisionQuestions: [],
        error: null,
        stats: {
          totalLearned: 0
        },
        hasEnoughWords: false,
        canGenerateQuestions: false
      };
    });
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_VocabularyRevision.default, {})),
      getByText = _render.getByText;
    yield (0, _reactNative.waitFor)(function () {
      expect(getByText('Récupération de vos mots appris')).toBeTruthy();
    });
  }));
  test('renders error state', (0, _asyncToGenerator2.default)(function* () {
    require('../../../src/hooks/useRevisionData').default.mockImplementation(function () {
      return {
        isLoading: false,
        error: 'Failed to load data',
        revisionQuestions: [],
        stats: {
          totalLearned: 0
        },
        hasEnoughWords: false,
        canGenerateQuestions: false
      };
    });
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_VocabularyRevision.default, {})),
      getByText = _render2.getByText;
    yield (0, _reactNative.waitFor)(function () {
      expect(getByText('Failed to load data')).toBeTruthy();
    });
  }));
  test('renders locked state when not enough words', (0, _asyncToGenerator2.default)(function* () {
    require('../../../src/hooks/useRevisionData').default.mockImplementation(function () {
      return {
        isLoading: false,
        error: null,
        revisionQuestions: [],
        stats: {
          totalLearned: 30
        },
        hasEnoughWords: false,
        canGenerateQuestions: false
      };
    });
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_VocabularyRevision.default, {})),
      getByText = _render3.getByText;
    yield (0, _reactNative.waitFor)(function () {
      expect(getByText(/Apprenez 50 mots pour débloquer le mode révision et tester vos connaissances !/i)).toBeTruthy();
      expect(getByText('30 / 50')).toBeTruthy();
    });
  }));
  test('renders noWords state when enough words but cannot generate questions', (0, _asyncToGenerator2.default)(function* () {
    require('../../../src/hooks/useRevisionData').default.mockImplementation(function () {
      return {
        isLoading: false,
        error: null,
        revisionQuestions: [],
        stats: {
          totalLearned: 60
        },
        hasEnoughWords: true,
        canGenerateQuestions: false
      };
    });
    var _render4 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_VocabularyRevision.default, {
        route: {
          params: {
            questionsCount: 10
          }
        }
      })),
      getByText = _render4.getByText;
    yield (0, _reactNative.waitFor)(function () {
      expect(getByText(/Continuez d'apprendre pour diversifier les questions !/i)).toBeTruthy();
      expect(getByText(/Un quiz de 10 questions ne peut pas être généré pour ce niveau./i)).toBeTruthy();
    });
  }));
  test('renders QuizScreen and handles answer and continue', (0, _asyncToGenerator2.default)(function* () {
    var mockQuestions = [{
      id: 'q1',
      word: 'Word 1',
      choices: ['A', 'B', 'C'],
      correctAnswer: 'A'
    }, {
      id: 'q2',
      word: 'Word 2',
      choices: ['D', 'E', 'F'],
      correctAnswer: 'D'
    }];
    var useRevisionDataMock = require('../../../src/hooks/useRevisionData').default;
    useRevisionDataMock.mockImplementation(function () {
      return {
        revisionQuestions: mockQuestions,
        isLoading: false,
        error: null,
        stats: {
          totalLearned: 100
        },
        hasEnoughWords: true,
        canGenerateQuestions: true
      };
    });
    var useQuizEngineMock = require('../../../src/hooks/useQuizEngine').default;
    var mockGoToNextQuestion = jest.fn();
    var mockHandleAnswer = jest.fn(function (choice) {
      return choice === 'A';
    });
    useQuizEngineMock.mockImplementation(function () {
      return {
        currentQuestion: mockQuestions[0],
        currentQuestionIndex: 0,
        totalQuestions: mockQuestions.length,
        score: 0,
        isFinished: false,
        showResult: false,
        handleAnswer: mockHandleAnswer,
        goToNextQuestion: mockGoToNextQuestion,
        handleRestart: jest.fn()
      };
    });
    var _render5 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_VocabularyRevision.default, {})),
      getByText = _render5.getByText,
      queryByText = _render5.queryByText;
    yield (0, _reactNative.waitFor)(function () {
      expect(getByText('Word 1')).toBeTruthy();
      expect(queryByText('Result Screen')).toBeNull();
    });
    _reactNative.fireEvent.press(getByText('A'));
    expect(mockHandleAnswer).toHaveBeenCalledWith('A');
    _reactNative.fireEvent.press(getByText('Continuer'));
    expect(mockGoToNextQuestion).toHaveBeenCalled();
  }));
  test('renders ResultScreen when quiz is finished', (0, _asyncToGenerator2.default)(function* () {
    var mockQuestions = [{
      id: 'q1',
      word: 'Word 1',
      choices: ['A', 'B', 'C'],
      correctAnswer: 'A'
    }];
    require('../../../src/hooks/useRevisionData').default.mockImplementation(function () {
      return {
        revisionQuestions: mockQuestions,
        isLoading: false,
        error: null,
        stats: {
          totalLearned: 100
        },
        hasEnoughWords: true,
        canGenerateQuestions: true
      };
    });
    var useQuizEngineMock = require('../../../src/hooks/useQuizEngine').default;
    useQuizEngineMock.mockImplementation(function () {
      return {
        currentQuestion: null,
        currentQuestionIndex: 1,
        totalQuestions: mockQuestions.length,
        score: 1,
        isFinished: true,
        showResult: true,
        handleAnswer: jest.fn(),
        goToNextQuestion: jest.fn(),
        handleRestart: jest.fn()
      };
    });
    var _render6 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_VocabularyRevision.default, {})),
      getByText = _render6.getByText;
    yield (0, _reactNative.waitFor)(function () {
      expect(getByText('1')).toBeTruthy();
      expect(getByText('/1')).toBeTruthy();
      expect(getByText('Rejouer')).toBeTruthy();
      expect(getByText('Terminer')).toBeTruthy();
    });
  }));
  test('handles restart from ResultScreen', (0, _asyncToGenerator2.default)(function* () {
    var mockQuestions = [{
      id: 'q1',
      word: 'Word 1',
      choices: ['A', 'B', 'C'],
      correctAnswer: 'A'
    }];
    require('../../../src/hooks/useRevisionData').default.mockImplementation(function () {
      return {
        revisionQuestions: mockQuestions,
        isLoading: false,
        error: null,
        stats: {
          totalLearned: 100
        },
        hasEnoughWords: true,
        canGenerateQuestions: true
      };
    });
    var useQuizEngineMock = require('../../../src/hooks/useQuizEngine').default;
    var mockHandleRestart = jest.fn();
    useQuizEngineMock.mockImplementation(function () {
      return {
        currentQuestion: null,
        currentQuestionIndex: 1,
        totalQuestions: mockQuestions.length,
        score: 1,
        isFinished: true,
        showResult: true,
        handleAnswer: jest.fn(),
        goToNextQuestion: jest.fn(),
        handleRestart: mockHandleRestart
      };
    });
    var _render7 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_VocabularyRevision.default, {})),
      getByText = _render7.getByText;
    yield (0, _reactNative.waitFor)(function () {
      expect(getByText('Rejouer')).toBeTruthy();
    });
    _reactNative.fireEvent.press(getByText('Rejouer'));
    expect(mockHandleRestart).toHaveBeenCalled();
  }));
  test('handles finish from ResultScreen', (0, _asyncToGenerator2.default)(function* () {
    var mockQuestions = [{
      id: 'q1',
      word: 'Word 1',
      choices: ['A', 'B', 'C'],
      correctAnswer: 'A'
    }];
    require('../../../src/hooks/useRevisionData').default.mockImplementation(function () {
      return {
        revisionQuestions: mockQuestions,
        isLoading: false,
        error: null,
        stats: {
          totalLearned: 100
        },
        hasEnoughWords: true,
        canGenerateQuestions: true
      };
    });
    var useQuizEngineMock = require('../../../src/hooks/useQuizEngine').default;
    useQuizEngineMock.mockImplementation(function () {
      return {
        currentQuestion: null,
        currentQuestionIndex: 1,
        totalQuestions: mockQuestions.length,
        score: 1,
        isFinished: true,
        showResult: true,
        handleAnswer: jest.fn(),
        goToNextQuestion: jest.fn(),
        handleRestart: jest.fn()
      };
    });
    var _render8 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_VocabularyRevision.default, {})),
      getByText = _render8.getByText;
    yield (0, _reactNative.waitFor)(function () {
      expect(getByText('Terminer')).toBeTruthy();
    });
    _reactNative.fireEvent.press(getByText('Terminer'));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockMarkRevisionCompleted).toHaveBeenCalledWith(mockQuestions, 1, 1);
      expect(mockGoBack).toHaveBeenCalled();
    });
  }));
  test('handleGoBack is called when back button is pressed in QuizScreen', (0, _asyncToGenerator2.default)(function* () {
    var mockQuestions = [{
      id: 'q1',
      word: 'Word 1',
      choices: ['A', 'B', 'C'],
      correctAnswer: 'A'
    }];
    require('../../../src/hooks/useRevisionData').default.mockImplementation(function () {
      return {
        revisionQuestions: mockQuestions,
        isLoading: false,
        error: null,
        stats: {
          totalLearned: 100
        },
        hasEnoughWords: true,
        canGenerateQuestions: true
      };
    });
    var useQuizEngineMock = require('../../../src/hooks/useQuizEngine').default;
    useQuizEngineMock.mockImplementation(function () {
      return {
        currentQuestion: mockQuestions[0],
        currentQuestionIndex: 0,
        totalQuestions: mockQuestions.length,
        score: 0,
        isFinished: false,
        showResult: false,
        handleAnswer: jest.fn(),
        goToNextQuestion: jest.fn(),
        handleRestart: jest.fn()
      };
    });
    var _render9 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_VocabularyRevision.default, {})),
      getByLabelText = _render9.getByLabelText;
    yield (0, _reactNative.waitFor)(function () {
      expect(getByLabelText('Retour')).toBeTruthy();
    });
    _reactNative.fireEvent.press(getByLabelText('Retour'));
    expect(mockGoBack).toHaveBeenCalled();
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImplc3QiLCJmbiIsIm1hcmtSZXZpc2lvbkNvbXBsZXRlZCIsIm1vY2tNYXJrUmV2aXNpb25Db21wbGV0ZWQiLCJ1c2VOYXZpZ2F0aW9uIiwiZ29CYWNrIiwibW9ja0dvQmFjayIsInJldmlzaW9uUXVlc3Rpb25zIiwiaXNMb2FkaW5nIiwiZXJyb3IiLCJzdGF0cyIsInRvdGFsTGVhcm5lZCIsImhhc0Vub3VnaFdvcmRzIiwiY2FuR2VuZXJhdGVRdWVzdGlvbnMiLCJjdXJyZW50UXVlc3Rpb24iLCJjdXJyZW50UXVlc3Rpb25JbmRleCIsInRvdGFsUXVlc3Rpb25zIiwic2NvcmUiLCJpc0ZpbmlzaGVkIiwic2hvd1Jlc3VsdCIsImhhbmRsZUFuc3dlciIsImdvVG9OZXh0UXVlc3Rpb24iLCJoYW5kbGVSZXN0YXJ0IiwiVGhlbWVDb250ZXh0IiwiQ29uc3VtZXIiLCJfcmVmIiwiY2hpbGRyZW4iLCJjb2xvcnMiLCJiYWNrZ3JvdW5kIiwic3VyZmFjZSIsInRleHQiLCJ0ZXh0U2Vjb25kYXJ5IiwicHJpbWFyeSIsInVzZUNvbnRleHQiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWFjdCIsIl9yZWFjdE5hdGl2ZSIsIl9yZWFjdE5hdGl2ZTIiLCJfVm9jYWJ1bGFyeVJldmlzaW9uIiwiX2pzeFJ1bnRpbWUiLCJfcmVxdWlyZSIsInNweU9uIiwiRGltZW5zaW9ucyIsIm1vY2tSZXR1cm5WYWx1ZSIsIndpZHRoIiwiaGVpZ2h0IiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsIm1vY2tDbGVhciIsInRlc3QiLCJfcmVuZGVyIiwicmVuZGVyIiwianN4IiwiZ2V0QnlUZXh0Iiwid2FpdEZvciIsImV4cGVjdCIsInRvQmVUcnV0aHkiLCJfcmVuZGVyMiIsIl9yZW5kZXIzIiwiX3JlbmRlcjQiLCJyb3V0ZSIsInBhcmFtcyIsInF1ZXN0aW9uc0NvdW50IiwibW9ja1F1ZXN0aW9ucyIsImlkIiwid29yZCIsImNob2ljZXMiLCJjb3JyZWN0QW5zd2VyIiwidXNlUmV2aXNpb25EYXRhTW9jayIsInVzZVF1aXpFbmdpbmVNb2NrIiwibW9ja0dvVG9OZXh0UXVlc3Rpb24iLCJtb2NrSGFuZGxlQW5zd2VyIiwiY2hvaWNlIiwibGVuZ3RoIiwiX3JlbmRlcjUiLCJxdWVyeUJ5VGV4dCIsInRvQmVOdWxsIiwiZmlyZUV2ZW50IiwicHJlc3MiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJfcmVuZGVyNiIsIm1vY2tIYW5kbGVSZXN0YXJ0IiwiX3JlbmRlcjciLCJfcmVuZGVyOCIsIl9yZW5kZXI5IiwiZ2V0QnlMYWJlbFRleHQiXSwic291cmNlcyI6WyJWb2NhYnVsYXJ5UmV2aXNpb24udGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyLCB3YWl0Rm9yLCBmaXJlRXZlbnQgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgeyBEaW1lbnNpb25zIH0gZnJvbSAncmVhY3QtbmF0aXZlJztcblxuLy8gU2NyZWVuIHRvIHRlc3RcbmltcG9ydCBWb2NhYnVsYXJ5UmV2aXNpb24gZnJvbSAnLi4vLi4vLi4vc3JjL3NjcmVlbnMvVm9jYWJ1bGFyeVJldmlzaW9uJztcblxuLy8gTW9jayBjdXN0b20gaG9va3NcbmNvbnN0IG1vY2tNYXJrUmV2aXNpb25Db21wbGV0ZWQgPSBqZXN0LmZuKCk7XG5qZXN0Lm1vY2soJy4uLy4uLy4uL3NyYy9ob29rcy91c2VSZXZpc2lvbk1hbmFnZXInLCAoKSA9PiAoe1xuICBfX2VzTW9kdWxlOiB0cnVlLFxuICBkZWZhdWx0OiBqZXN0LmZuKCgpID0+ICh7XG4gICAgbWFya1JldmlzaW9uQ29tcGxldGVkOiBtb2NrTWFya1JldmlzaW9uQ29tcGxldGVkLFxuICB9KSksXG59KSk7XG5cbmNvbnN0IG1vY2tHb0JhY2sgPSBqZXN0LmZuKCk7IC8vIE1vdmVkIHRvIHRvcCBsZXZlbFxuamVzdC5tb2NrKCdAcmVhY3QtbmF2aWdhdGlvbi9uYXRpdmUnLCAoKSA9PiAoe1xuICB1c2VOYXZpZ2F0aW9uOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgZ29CYWNrOiBtb2NrR29CYWNrLFxuICB9KSksXG59KSk7XG5cbmplc3QubW9jaygnLi4vLi4vLi4vc3JjL2hvb2tzL3VzZVJldmlzaW9uRGF0YScsICgpID0+ICh7XG4gIF9fZXNNb2R1bGU6IHRydWUsXG4gIGRlZmF1bHQ6IGplc3QuZm4oKCkgPT4gKHtcbiAgICByZXZpc2lvblF1ZXN0aW9uczogW10sXG4gICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICBlcnJvcjogbnVsbCxcbiAgICBzdGF0czogeyB0b3RhbExlYXJuZWQ6IDAgfSxcbiAgICBoYXNFbm91Z2hXb3JkczogZmFsc2UsXG4gICAgY2FuR2VuZXJhdGVRdWVzdGlvbnM6IGZhbHNlLFxuICB9KSksXG59KSk7XG5cbmplc3QubW9jaygnLi4vLi4vLi4vc3JjL2hvb2tzL3VzZVF1aXpFbmdpbmUnLCAoKSA9PiAoe1xuICBfX2VzTW9kdWxlOiB0cnVlLFxuICBkZWZhdWx0OiBqZXN0LmZuKCgpID0+ICh7XG4gICAgY3VycmVudFF1ZXN0aW9uOiBudWxsLFxuICAgIGN1cnJlbnRRdWVzdGlvbkluZGV4OiAwLFxuICAgIHRvdGFsUXVlc3Rpb25zOiAwLFxuICAgIHNjb3JlOiAwLFxuICAgIGlzRmluaXNoZWQ6IGZhbHNlLFxuICAgIHNob3dSZXN1bHQ6IGZhbHNlLFxuICAgIGhhbmRsZUFuc3dlcjogamVzdC5mbigoKSA9PiB0cnVlKSxcbiAgICBnb1RvTmV4dFF1ZXN0aW9uOiBqZXN0LmZuKCksXG4gICAgaGFuZGxlUmVzdGFydDogamVzdC5mbigpLFxuICB9KSksXG59KSk7XG5cbi8vIE1vY2sgVGhlbWVDb250ZXh0XG5qZXN0Lm1vY2soJy4uLy4uLy4uL3NyYy9jb250ZXh0cy9UaGVtZUNvbnRleHQnLCAoKSA9PiAoe1xuICBUaGVtZUNvbnRleHQ6IHtcbiAgICBDb25zdW1lcjogKHsgY2hpbGRyZW4gfSkgPT4gY2hpbGRyZW4oe1xuICAgICAgY29sb3JzOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IFwiI0Y4RkFGQ1wiLFxuICAgICAgICBzdXJmYWNlOiBcIiNGRkZGRkZcIixcbiAgICAgICAgdGV4dDogXCIjMUYyOTM3XCIsXG4gICAgICAgIHRleHRTZWNvbmRhcnk6IFwiIzZCNzI4MFwiLFxuICAgICAgICBwcmltYXJ5OiBcIiMzQjgyRjZcIlxuICAgICAgfVxuICAgIH0pLFxuICAgIHVzZUNvbnRleHQ6ICgpID0+ICh7XG4gICAgICBjb2xvcnM6IHtcbiAgICAgICAgYmFja2dyb3VuZDogXCIjRjhGQUZDXCIsXG4gICAgICAgIHN1cmZhY2U6IFwiI0ZGRkZGRlwiLFxuICAgICAgICB0ZXh0OiBcIiMxRjI5MzdcIixcbiAgICAgICAgdGV4dFNlY29uZGFyeTogXCIjNkI3MjgwXCIsXG4gICAgICAgIHByaW1hcnk6IFwiIzNCODJGNlwiXG4gICAgICB9XG4gICAgfSksXG4gIH0sXG59KSk7XG5cbi8vIE1vY2sgRGltZW5zaW9ucyBmb3IgQW5pbWF0ZWQgdmFsdWVzXG5qZXN0LnNweU9uKERpbWVuc2lvbnMsICdnZXQnKS5tb2NrUmV0dXJuVmFsdWUoeyB3aWR0aDogMzAwLCBoZWlnaHQ6IDYwMCB9KTtcblxuZGVzY3JpYmUoJ1ZvY2FidWxhcnlSZXZpc2lvbiBJbnRlZ3JhdGlvbiBUZXN0cycsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gICAgLy8gUmVzZXQgbW9jayBpbXBsZW1lbnRhdGlvbnMgZm9yIGVhY2ggdGVzdFxuICAgIHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9ob29rcy91c2VSZXZpc2lvbkRhdGEnKS5kZWZhdWx0Lm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xuICAgICAgcmV2aXNpb25RdWVzdGlvbnM6IFtdLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGVycm9yOiBudWxsLFxuICAgICAgc3RhdHM6IHsgdG90YWxMZWFybmVkOiAwIH0sXG4gICAgICBoYXNFbm91Z2hXb3JkczogZmFsc2UsXG4gICAgICBjYW5HZW5lcmF0ZVF1ZXN0aW9uczogZmFsc2UsXG4gICAgfSkpO1xuICAgIHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9ob29rcy91c2VRdWl6RW5naW5lJykuZGVmYXVsdC5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gKHtcbiAgICAgIGN1cnJlbnRRdWVzdGlvbjogbnVsbCxcbiAgICAgIGN1cnJlbnRRdWVzdGlvbkluZGV4OiAwLFxuICAgICAgdG90YWxRdWVzdGlvbnM6IDAsXG4gICAgICBzY29yZTogMCxcbiAgICAgIGlzRmluaXNoZWQ6IGZhbHNlLFxuICAgICAgc2hvd1Jlc3VsdDogZmFsc2UsXG4gICAgICBoYW5kbGVBbnN3ZXI6IGplc3QuZm4oKCkgPT4gdHJ1ZSksXG4gICAgICBnb1RvTmV4dFF1ZXN0aW9uOiBqZXN0LmZuKCksXG4gICAgICBoYW5kbGVSZXN0YXJ0OiBqZXN0LmZuKCksXG4gICAgfSkpO1xuICAgIG1vY2tNYXJrUmV2aXNpb25Db21wbGV0ZWQubW9ja0NsZWFyKCk7XG4gICAgbW9ja0dvQmFjay5tb2NrQ2xlYXIoKTsgLy8gQ2xlYXIgbW9jayBmb3IgZWFjaCB0ZXN0XG4gIH0pO1xuXG4gIHRlc3QoJ3JlbmRlcnMgbG9hZGluZyBzdGF0ZSBpbml0aWFsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2hvb2tzL3VzZVJldmlzaW9uRGF0YScpLmRlZmF1bHQubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XG4gICAgICBpc0xvYWRpbmc6IHRydWUsXG4gICAgICByZXZpc2lvblF1ZXN0aW9uczogW10sXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICAgIHN0YXRzOiB7IHRvdGFsTGVhcm5lZDogMCB9LFxuICAgICAgaGFzRW5vdWdoV29yZHM6IGZhbHNlLFxuICAgICAgY2FuR2VuZXJhdGVRdWVzdGlvbnM6IGZhbHNlLFxuICAgIH0pKTtcblxuICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXIoPFZvY2FidWxhcnlSZXZpc2lvbiAvPik7XG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCdSw6ljdXDDqXJhdGlvbiBkZSB2b3MgbW90cyBhcHByaXMnKSkudG9CZVRydXRoeSgpO1xuICAgIH0pO1xuICB9KTtcblxuICB0ZXN0KCdyZW5kZXJzIGVycm9yIHN0YXRlJywgYXN5bmMgKCkgPT4ge1xuICAgIHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9ob29rcy91c2VSZXZpc2lvbkRhdGEnKS5kZWZhdWx0Lm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGxvYWQgZGF0YScsXG4gICAgICByZXZpc2lvblF1ZXN0aW9uczogW10sXG4gICAgICBzdGF0czogeyB0b3RhbExlYXJuZWQ6IDAgfSxcbiAgICAgIGhhc0Vub3VnaFdvcmRzOiBmYWxzZSxcbiAgICAgIGNhbkdlbmVyYXRlUXVlc3Rpb25zOiBmYWxzZSxcbiAgICB9KSk7XG5cbiAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyKDxWb2NhYnVsYXJ5UmV2aXNpb24gLz4pO1xuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KGdldEJ5VGV4dCgnRmFpbGVkIHRvIGxvYWQgZGF0YScpKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHRlc3QoJ3JlbmRlcnMgbG9ja2VkIHN0YXRlIHdoZW4gbm90IGVub3VnaCB3b3JkcycsIGFzeW5jICgpID0+IHtcbiAgICByZXF1aXJlKCcuLi8uLi8uLi9zcmMvaG9va3MvdXNlUmV2aXNpb25EYXRhJykuZGVmYXVsdC5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gKHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICAgIHJldmlzaW9uUXVlc3Rpb25zOiBbXSxcbiAgICAgIHN0YXRzOiB7IHRvdGFsTGVhcm5lZDogMzAgfSwgLy8gTGVzcyB0aGFuIE1JTl9XT1JEU19GT1JfUkVWSVNJT05fVU5MT0NLICg1MClcbiAgICAgIGhhc0Vub3VnaFdvcmRzOiBmYWxzZSxcbiAgICAgIGNhbkdlbmVyYXRlUXVlc3Rpb25zOiBmYWxzZSxcbiAgICB9KSk7XG5cbiAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyKDxWb2NhYnVsYXJ5UmV2aXNpb24gLz4pO1xuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgLy8gQ29ycmlnw6k6IHV0aWxpc2UgbGUgdGV4dGUgcsOpZWwgYWZmaWNow6kgZGFucyBRdWlja0FjdGlvbnNcbiAgICAgIGV4cGVjdChnZXRCeVRleHQoL0FwcHJlbmV6IDUwIG1vdHMgcG91ciBkw6libG9xdWVyIGxlIG1vZGUgcsOpdmlzaW9uIGV0IHRlc3RlciB2b3MgY29ubmFpc3NhbmNlcyAhL2kpKS50b0JlVHJ1dGh5KCk7XG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCczMCAvIDUwJykpLnRvQmVUcnV0aHkoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgdGVzdCgncmVuZGVycyBub1dvcmRzIHN0YXRlIHdoZW4gZW5vdWdoIHdvcmRzIGJ1dCBjYW5ub3QgZ2VuZXJhdGUgcXVlc3Rpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgIHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9ob29rcy91c2VSZXZpc2lvbkRhdGEnKS5kZWZhdWx0Lm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGVycm9yOiBudWxsLFxuICAgICAgcmV2aXNpb25RdWVzdGlvbnM6IFtdLFxuICAgICAgc3RhdHM6IHsgdG90YWxMZWFybmVkOiA2MCB9LCAvLyBNb3JlIHRoYW4gTUlOX1dPUkRTX0ZPUl9SRVZJU0lPTl9VTkxPQ0tcbiAgICAgIGhhc0Vub3VnaFdvcmRzOiB0cnVlLFxuICAgICAgY2FuR2VuZXJhdGVRdWVzdGlvbnM6IGZhbHNlLFxuICAgIH0pKTtcblxuICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXIoPFZvY2FidWxhcnlSZXZpc2lvbiByb3V0ZT17eyBwYXJhbXM6IHsgcXVlc3Rpb25zQ291bnQ6IDEwIH0gfX0gLz4pO1xuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KGdldEJ5VGV4dCgvQ29udGludWV6IGQnYXBwcmVuZHJlIHBvdXIgZGl2ZXJzaWZpZXIgbGVzIHF1ZXN0aW9ucyAhL2kpKS50b0JlVHJ1dGh5KCk7XG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KC9VbiBxdWl6IGRlIDEwIHF1ZXN0aW9ucyBuZSBwZXV0IHBhcyDDqnRyZSBnw6luw6lyw6kgcG91ciBjZSBuaXZlYXUuL2kpKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHRlc3QoJ3JlbmRlcnMgUXVpelNjcmVlbiBhbmQgaGFuZGxlcyBhbnN3ZXIgYW5kIGNvbnRpbnVlJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tRdWVzdGlvbnMgPSBbXG4gICAgICB7IFxuICAgICAgICBpZDogJ3ExJywgXG4gICAgICAgIHdvcmQ6ICdXb3JkIDEnLCBcbiAgICAgICAgY2hvaWNlczogWydBJywgJ0InLCAnQyddLCAvLyBDb3JyaWfDqTogY2hvaWNlcyBhdSBsaWV1IGQnb3B0aW9uc1xuICAgICAgICBjb3JyZWN0QW5zd2VyOiAnQScgXG4gICAgICB9LFxuICAgICAgeyBcbiAgICAgICAgaWQ6ICdxMicsIFxuICAgICAgICB3b3JkOiAnV29yZCAyJywgXG4gICAgICAgIGNob2ljZXM6IFsnRCcsICdFJywgJ0YnXSwgLy8gQ29ycmlnw6k6IGNob2ljZXMgYXUgbGlldSBkJ29wdGlvbnNcbiAgICAgICAgY29ycmVjdEFuc3dlcjogJ0QnIFxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgY29uc3QgdXNlUmV2aXNpb25EYXRhTW9jayA9IHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9ob29rcy91c2VSZXZpc2lvbkRhdGEnKS5kZWZhdWx0O1xuICAgIHVzZVJldmlzaW9uRGF0YU1vY2subW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XG4gICAgICByZXZpc2lvblF1ZXN0aW9uczogbW9ja1F1ZXN0aW9ucyxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICAgIHN0YXRzOiB7IHRvdGFsTGVhcm5lZDogMTAwIH0sXG4gICAgICBoYXNFbm91Z2hXb3JkczogdHJ1ZSxcbiAgICAgIGNhbkdlbmVyYXRlUXVlc3Rpb25zOiB0cnVlLFxuICAgIH0pKTtcblxuICAgIGNvbnN0IHVzZVF1aXpFbmdpbmVNb2NrID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2hvb2tzL3VzZVF1aXpFbmdpbmUnKS5kZWZhdWx0O1xuICAgIGNvbnN0IG1vY2tHb1RvTmV4dFF1ZXN0aW9uID0gamVzdC5mbigpO1xuICAgIGNvbnN0IG1vY2tIYW5kbGVBbnN3ZXIgPSBqZXN0LmZuKChjaG9pY2UpID0+IGNob2ljZSA9PT0gJ0EnKTsgLy8gU2ltdWxhdGUgY29ycmVjdCBhbnN3ZXIgZm9yIGZpcnN0IHF1ZXN0aW9uXG4gICAgdXNlUXVpekVuZ2luZU1vY2subW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XG4gICAgICBjdXJyZW50UXVlc3Rpb246IG1vY2tRdWVzdGlvbnNbMF0sXG4gICAgICBjdXJyZW50UXVlc3Rpb25JbmRleDogMCxcbiAgICAgIHRvdGFsUXVlc3Rpb25zOiBtb2NrUXVlc3Rpb25zLmxlbmd0aCxcbiAgICAgIHNjb3JlOiAwLFxuICAgICAgaXNGaW5pc2hlZDogZmFsc2UsXG4gICAgICBzaG93UmVzdWx0OiBmYWxzZSxcbiAgICAgIGhhbmRsZUFuc3dlcjogbW9ja0hhbmRsZUFuc3dlcixcbiAgICAgIGdvVG9OZXh0UXVlc3Rpb246IG1vY2tHb1RvTmV4dFF1ZXN0aW9uLFxuICAgICAgaGFuZGxlUmVzdGFydDogamVzdC5mbigpLFxuICAgIH0pKTtcblxuICAgIGNvbnN0IHsgZ2V0QnlUZXh0LCBxdWVyeUJ5VGV4dCB9ID0gcmVuZGVyKDxWb2NhYnVsYXJ5UmV2aXNpb24gLz4pO1xuXG4gICAgLy8gSW5pdGlhbCBRdWl6U2NyZWVuIHN0YXRlXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCdXb3JkIDEnKSkudG9CZVRydXRoeSgpO1xuICAgICAgZXhwZWN0KHF1ZXJ5QnlUZXh0KCdSZXN1bHQgU2NyZWVuJykpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG5cbiAgICAvLyBTaW11bGF0ZSBhbnN3ZXJpbmcgY29ycmVjdGx5XG4gICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGV4dCgnQScpKTtcbiAgICBleHBlY3QobW9ja0hhbmRsZUFuc3dlcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ0EnKTtcblxuICAgIC8vIFNpbXVsYXRlIGNvbnRpbnVlIHRvIG5leHQgcXVlc3Rpb25cbiAgICBmaXJlRXZlbnQucHJlc3MoZ2V0QnlUZXh0KCdDb250aW51ZXInKSk7XG4gICAgZXhwZWN0KG1vY2tHb1RvTmV4dFF1ZXN0aW9uKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gIH0pO1xuXG4gIHRlc3QoJ3JlbmRlcnMgUmVzdWx0U2NyZWVuIHdoZW4gcXVpeiBpcyBmaW5pc2hlZCcsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBtb2NrUXVlc3Rpb25zID0gW1xuICAgICAgeyBcbiAgICAgICAgaWQ6ICdxMScsIFxuICAgICAgICB3b3JkOiAnV29yZCAxJywgXG4gICAgICAgIGNob2ljZXM6IFsnQScsICdCJywgJ0MnXSwgLy8gQ29ycmlnw6k6IGNob2ljZXMgYXUgbGlldSBkJ29wdGlvbnNcbiAgICAgICAgY29ycmVjdEFuc3dlcjogJ0EnIFxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2hvb2tzL3VzZVJldmlzaW9uRGF0YScpLmRlZmF1bHQubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XG4gICAgICByZXZpc2lvblF1ZXN0aW9uczogbW9ja1F1ZXN0aW9ucyxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICAgIHN0YXRzOiB7IHRvdGFsTGVhcm5lZDogMTAwIH0sXG4gICAgICBoYXNFbm91Z2hXb3JkczogdHJ1ZSxcbiAgICAgIGNhbkdlbmVyYXRlUXVlc3Rpb25zOiB0cnVlLFxuICAgIH0pKTtcblxuICAgIGNvbnN0IHVzZVF1aXpFbmdpbmVNb2NrID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2hvb2tzL3VzZVF1aXpFbmdpbmUnKS5kZWZhdWx0O1xuICAgIHVzZVF1aXpFbmdpbmVNb2NrLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xuICAgICAgY3VycmVudFF1ZXN0aW9uOiBudWxsLFxuICAgICAgY3VycmVudFF1ZXN0aW9uSW5kZXg6IDEsXG4gICAgICB0b3RhbFF1ZXN0aW9uczogbW9ja1F1ZXN0aW9ucy5sZW5ndGgsXG4gICAgICBzY29yZTogMSwgLy8gRW5zdXJlIHNjb3JlIGlzIDEgZm9yIHRoaXMgdGVzdFxuICAgICAgaXNGaW5pc2hlZDogdHJ1ZSxcbiAgICAgIHNob3dSZXN1bHQ6IHRydWUsXG4gICAgICBoYW5kbGVBbnN3ZXI6IGplc3QuZm4oKSxcbiAgICAgIGdvVG9OZXh0UXVlc3Rpb246IGplc3QuZm4oKSxcbiAgICAgIGhhbmRsZVJlc3RhcnQ6IGplc3QuZm4oKSxcbiAgICB9KSk7XG5cbiAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyKDxWb2NhYnVsYXJ5UmV2aXNpb24gLz4pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAvLyBDb3JyaWfDqTogY2hlcmNoZSBsZXMgw6lsw6ltZW50cyBxdWkgZXhpc3RlbnQgcsOpZWxsZW1lbnRcbiAgICAgIGV4cGVjdChnZXRCeVRleHQoJzEnKSkudG9CZVRydXRoeSgpOyAvLyBGb3IgdGhlIHNjb3JlXG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCcvMScpKS50b0JlVHJ1dGh5KCk7IC8vIEZvciB0aGUgdG90YWwgcXVlc3Rpb25zXG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCdSZWpvdWVyJykpLnRvQmVUcnV0aHkoKTsgLy8gQ29ycmlnw6k6IFwiUmVqb3VlclwiIGF1IGxpZXUgZGUgXCJSZWNvbW1lbmNlclwiXG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCdUZXJtaW5lcicpKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHRlc3QoJ2hhbmRsZXMgcmVzdGFydCBmcm9tIFJlc3VsdFNjcmVlbicsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBtb2NrUXVlc3Rpb25zID0gW1xuICAgICAgeyBcbiAgICAgICAgaWQ6ICdxMScsIFxuICAgICAgICB3b3JkOiAnV29yZCAxJywgXG4gICAgICAgIGNob2ljZXM6IFsnQScsICdCJywgJ0MnXSwgLy8gQ29ycmlnw6k6IGNob2ljZXMgYXUgbGlldSBkJ29wdGlvbnNcbiAgICAgICAgY29ycmVjdEFuc3dlcjogJ0EnIFxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2hvb2tzL3VzZVJldmlzaW9uRGF0YScpLmRlZmF1bHQubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XG4gICAgICByZXZpc2lvblF1ZXN0aW9uczogbW9ja1F1ZXN0aW9ucyxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICAgIHN0YXRzOiB7IHRvdGFsTGVhcm5lZDogMTAwIH0sXG4gICAgICBoYXNFbm91Z2hXb3JkczogdHJ1ZSxcbiAgICAgIGNhbkdlbmVyYXRlUXVlc3Rpb25zOiB0cnVlLFxuICAgIH0pKTtcblxuICAgIGNvbnN0IHVzZVF1aXpFbmdpbmVNb2NrID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2hvb2tzL3VzZVF1aXpFbmdpbmUnKS5kZWZhdWx0O1xuICAgIGNvbnN0IG1vY2tIYW5kbGVSZXN0YXJ0ID0gamVzdC5mbigpO1xuICAgIHVzZVF1aXpFbmdpbmVNb2NrLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xuICAgICAgY3VycmVudFF1ZXN0aW9uOiBudWxsLFxuICAgICAgY3VycmVudFF1ZXN0aW9uSW5kZXg6IDEsXG4gICAgICB0b3RhbFF1ZXN0aW9uczogbW9ja1F1ZXN0aW9ucy5sZW5ndGgsXG4gICAgICBzY29yZTogMSxcbiAgICAgIGlzRmluaXNoZWQ6IHRydWUsXG4gICAgICBzaG93UmVzdWx0OiB0cnVlLFxuICAgICAgaGFuZGxlQW5zd2VyOiBqZXN0LmZuKCksXG4gICAgICBnb1RvTmV4dFF1ZXN0aW9uOiBqZXN0LmZuKCksXG4gICAgICBoYW5kbGVSZXN0YXJ0OiBtb2NrSGFuZGxlUmVzdGFydCxcbiAgICB9KSk7XG5cbiAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyKDxWb2NhYnVsYXJ5UmV2aXNpb24gLz4pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCdSZWpvdWVyJykpLnRvQmVUcnV0aHkoKTsgLy8gQ29ycmlnw6k6IFwiUmVqb3VlclwiIGF1IGxpZXUgZGUgXCJSZWNvbW1lbmNlclwiXG4gICAgfSk7XG5cbiAgICBmaXJlRXZlbnQucHJlc3MoZ2V0QnlUZXh0KCdSZWpvdWVyJykpO1xuICAgIGV4cGVjdChtb2NrSGFuZGxlUmVzdGFydCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICB9KTtcblxuICB0ZXN0KCdoYW5kbGVzIGZpbmlzaCBmcm9tIFJlc3VsdFNjcmVlbicsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBtb2NrUXVlc3Rpb25zID0gW1xuICAgICAgeyBcbiAgICAgICAgaWQ6ICdxMScsIFxuICAgICAgICB3b3JkOiAnV29yZCAxJywgXG4gICAgICAgIGNob2ljZXM6IFsnQScsICdCJywgJ0MnXSwgLy8gQ29ycmlnw6k6IGNob2ljZXMgYXUgbGlldSBkJ29wdGlvbnNcbiAgICAgICAgY29ycmVjdEFuc3dlcjogJ0EnIFxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2hvb2tzL3VzZVJldmlzaW9uRGF0YScpLmRlZmF1bHQubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XG4gICAgICByZXZpc2lvblF1ZXN0aW9uczogbW9ja1F1ZXN0aW9ucyxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICAgIHN0YXRzOiB7IHRvdGFsTGVhcm5lZDogMTAwIH0sXG4gICAgICBoYXNFbm91Z2hXb3JkczogdHJ1ZSxcbiAgICAgIGNhbkdlbmVyYXRlUXVlc3Rpb25zOiB0cnVlLFxuICAgIH0pKTtcblxuICAgIGNvbnN0IHVzZVF1aXpFbmdpbmVNb2NrID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2hvb2tzL3VzZVF1aXpFbmdpbmUnKS5kZWZhdWx0O1xuICAgIHVzZVF1aXpFbmdpbmVNb2NrLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xuICAgICAgY3VycmVudFF1ZXN0aW9uOiBudWxsLFxuICAgICAgY3VycmVudFF1ZXN0aW9uSW5kZXg6IDEsXG4gICAgICB0b3RhbFF1ZXN0aW9uczogbW9ja1F1ZXN0aW9ucy5sZW5ndGgsXG4gICAgICBzY29yZTogMSxcbiAgICAgIGlzRmluaXNoZWQ6IHRydWUsXG4gICAgICBzaG93UmVzdWx0OiB0cnVlLFxuICAgICAgaGFuZGxlQW5zd2VyOiBqZXN0LmZuKCksXG4gICAgICBnb1RvTmV4dFF1ZXN0aW9uOiBqZXN0LmZuKCksXG4gICAgICBoYW5kbGVSZXN0YXJ0OiBqZXN0LmZuKCksXG4gICAgfSkpO1xuXG4gICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlcig8Vm9jYWJ1bGFyeVJldmlzaW9uIC8+KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KGdldEJ5VGV4dCgnVGVybWluZXInKSkudG9CZVRydXRoeSgpO1xuICAgIH0pO1xuXG4gICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGV4dCgnVGVybWluZXInKSk7XG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QobW9ja01hcmtSZXZpc2lvbkNvbXBsZXRlZCkudG9IYXZlQmVlbkNhbGxlZFdpdGgobW9ja1F1ZXN0aW9ucywgMSwgMSk7XG4gICAgICBleHBlY3QobW9ja0dvQmFjaykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICB0ZXN0KCdoYW5kbGVHb0JhY2sgaXMgY2FsbGVkIHdoZW4gYmFjayBidXR0b24gaXMgcHJlc3NlZCBpbiBRdWl6U2NyZWVuJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tRdWVzdGlvbnMgPSBbXG4gICAgICB7IFxuICAgICAgICBpZDogJ3ExJywgXG4gICAgICAgIHdvcmQ6ICdXb3JkIDEnLCBcbiAgICAgICAgY2hvaWNlczogWydBJywgJ0InLCAnQyddLCAvLyBDb3JyaWfDqTogY2hvaWNlcyBhdSBsaWV1IGQnb3B0aW9uc1xuICAgICAgICBjb3JyZWN0QW5zd2VyOiAnQScgXG4gICAgICB9LFxuICAgIF07XG5cbiAgICByZXF1aXJlKCcuLi8uLi8uLi9zcmMvaG9va3MvdXNlUmV2aXNpb25EYXRhJykuZGVmYXVsdC5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gKHtcbiAgICAgIHJldmlzaW9uUXVlc3Rpb25zOiBtb2NrUXVlc3Rpb25zLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGVycm9yOiBudWxsLFxuICAgICAgc3RhdHM6IHsgdG90YWxMZWFybmVkOiAxMDAgfSxcbiAgICAgIGhhc0Vub3VnaFdvcmRzOiB0cnVlLFxuICAgICAgY2FuR2VuZXJhdGVRdWVzdGlvbnM6IHRydWUsXG4gICAgfSkpO1xuXG4gICAgY29uc3QgdXNlUXVpekVuZ2luZU1vY2sgPSByZXF1aXJlKCcuLi8uLi8uLi9zcmMvaG9va3MvdXNlUXVpekVuZ2luZScpLmRlZmF1bHQ7XG4gICAgdXNlUXVpekVuZ2luZU1vY2subW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XG4gICAgICBjdXJyZW50UXVlc3Rpb246IG1vY2tRdWVzdGlvbnNbMF0sXG4gICAgICBjdXJyZW50UXVlc3Rpb25JbmRleDogMCxcbiAgICAgIHRvdGFsUXVlc3Rpb25zOiBtb2NrUXVlc3Rpb25zLmxlbmd0aCxcbiAgICAgIHNjb3JlOiAwLFxuICAgICAgaXNGaW5pc2hlZDogZmFsc2UsXG4gICAgICBzaG93UmVzdWx0OiBmYWxzZSxcbiAgICAgIGhhbmRsZUFuc3dlcjogamVzdC5mbigpLFxuICAgICAgZ29Ub05leHRRdWVzdGlvbjogamVzdC5mbigpLFxuICAgICAgaGFuZGxlUmVzdGFydDogamVzdC5mbigpLFxuICAgIH0pKTtcblxuICAgIGNvbnN0IHsgZ2V0QnlMYWJlbFRleHQgfSA9IHJlbmRlcig8Vm9jYWJ1bGFyeVJldmlzaW9uIC8+KTsgLy8gQ2hhbmdlZCB0byBnZXRCeUxhYmVsVGV4dFxuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QoZ2V0QnlMYWJlbFRleHQoJ1JldG91cicpKS50b0JlVHJ1dGh5KCk7IC8vIENoYW5nZWQgdG8gZ2V0QnlMYWJlbFRleHRcbiAgICB9KTtcblxuICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeUxhYmVsVGV4dCgnUmV0b3VyJykpOyAvLyBDaGFuZ2VkIHRvIGdldEJ5TGFiZWxUZXh0XG4gICAgZXhwZWN0KG1vY2tHb0JhY2spLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgfSk7XG59KTsiXSwibWFwcGluZ3MiOiJBQVNBQSxXQUFBLEdBQUtDLElBQUksQ0FBQyx1Q0FBdUMsRUFBRTtFQUFBLE9BQU87SUFDeERDLFVBQVUsRUFBRSxJQUFJO0lBQ2hCQyxPQUFPLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDO01BQUEsT0FBTztRQUN0QkMs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