0d1263c88f5eeb6d919843d4a2ed4b3e
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useProgress = exports.default = exports.ProgressProvider = exports.ProgressContext = void 0;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = require("react");
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _constants = require("../utils/constants");
var _jsxRuntime = require("react/jsx-runtime");
var ProgressContext = exports.ProgressContext = (0, _react.createContext)();
var createInitialProgress = function createInitialProgress() {
  return {
    levels: {
      '1': {
        completed: 0,
        total: 100
      },
      '2': {
        completed: 0,
        total: 100
      },
      '3': {
        completed: 0,
        total: 100
      },
      '4': {
        completed: 0,
        total: 100
      },
      '5': {
        completed: 0,
        total: 100
      },
      '6': {
        completed: 0,
        total: 100
      },
      'bonus': {
        completed: 0,
        total: 100
      }
    },
    exercises: {
      vocabulary: {
        '1': {
          completed: 0,
          total: 100
        },
        '2': {
          completed: 0,
          total: 100
        },
        '3': {
          completed: 0,
          total: 100
        },
        '4': {
          completed: 0,
          total: 100
        },
        '5': {
          completed: 0,
          total: 100
        },
        '6': {
          completed: 0,
          total: 100
        },
        'bonus': {
          completed: 0,
          total: 100
        }
      },
      phrases: {
        '1': {
          completed: 0,
          total: 100
        },
        '2': {
          completed: 0,
          total: 100
        },
        '3': {
          completed: 0,
          total: 100
        },
        '4': {
          completed: 0,
          total: 100
        },
        '5': {
          completed: 0,
          total: 100
        },
        '6': {
          completed: 0,
          total: 100
        },
        'bonus': {
          completed: 0,
          total: 100
        }
      },
      grammar: {
        '1': {
          completed: 0,
          total: 100
        },
        '2': {
          completed: 0,
          total: 100
        },
        '3': {
          completed: 0,
          total: 100
        },
        '4': {
          completed: 0,
          total: 100
        },
        '5': {
          completed: 0,
          total: 100
        },
        '6': {
          completed: 0,
          total: 100
        }
      }
    },
    stats: {
      streak: 0,
      totalTimeSpent: 0,
      correctAnswers: 0,
      totalAnswers: 0,
      exercisesCompleted: 0,
      lastLogin: null
    },
    lastActivity: {
      type: null,
      level: null,
      timestamp: null
    }
  };
};
var ProgressProvider = exports.ProgressProvider = function ProgressProvider(_ref) {
  var children = _ref.children;
  var _useState = (0, _react.useState)(createInitialProgress()),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    progress = _useState2[0],
    setProgress = _useState2[1];
  var _useState3 = (0, _react.useState)(true),
    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
    isLoading = _useState4[0],
    setIsLoading = _useState4[1];
  var saveTimeoutRef = (0, _react.useRef)(null);
  var isInitialLoad = (0, _react.useRef)(true);
  (0, _react.useEffect)(function () {
    var loadProgress = function () {
      var _ref2 = (0, _asyncToGenerator2.default)(function* () {
        try {
          var stored = yield _asyncStorage.default.getItem(_constants.STORAGE_KEYS.USER_PROGRESS);
          if (stored) {
            var parsed = JSON.parse(stored);
            setProgress(parsed);
          }
        } catch (error) {
          console.error('Erreur chargement progression:', error);
        } finally {
          setIsLoading(false);
          isInitialLoad.current = false;
        }
      });
      return function loadProgress() {
        return _ref2.apply(this, arguments);
      };
    }();
    loadProgress();
  }, []);
  (0, _react.useEffect)(function () {
    if (isLoading || isInitialLoad.current) {
      return;
    }
    if (saveTimeoutRef.current) {
      clearTimeout(saveTimeoutRef.current);
    }
    saveTimeoutRef.current = setTimeout((0, _asyncToGenerator2.default)(function* () {
      try {
        yield _asyncStorage.default.setItem(_constants.STORAGE_KEYS.USER_PROGRESS, JSON.stringify(progress));
      } catch (error) {
        console.error('Erreur sauvegarde progression:', error);
      }
    }), 500);
    return function () {
      if (saveTimeoutRef.current) {
        clearTimeout(saveTimeoutRef.current);
      }
    };
  }, [progress, isLoading]);
  var updateExerciseProgress = (0, _react.useCallback)(function (exerciseType, level, completed) {
    setProgress(function (prev) {
      var newProgress = Object.assign({}, prev);
      if (!newProgress.exercises[exerciseType]) {
        newProgress.exercises[exerciseType] = {};
      }
      if (!newProgress.exercises[exerciseType][level]) {
        newProgress.exercises[exerciseType][level] = {
          completed: 0,
          total: 100
        };
      }
      newProgress.exercises[exerciseType][level].completed = Math.min(Math.max(0, completed), 100);
      var levelExercises = Object.keys(newProgress.exercises).map(function (type) {
        var _newProgress$exercise;
        return ((_newProgress$exercise = newProgress.exercises[type][level]) == null ? void 0 : _newProgress$exercise.completed) || 0;
      }).filter(function (val) {
        return val > 0;
      });
      if (levelExercises.length > 0) {
        var averageProgress = levelExercises.reduce(function (sum, val) {
          return sum + val;
        }, 0) / levelExercises.length;
        newProgress.levels[level].completed = Math.round(averageProgress);
      }
      newProgress.lastActivity = {
        type: exerciseType,
        level: level,
        timestamp: new Date().toISOString()
      };
      return newProgress;
    });
  }, []);
  var updateStats = (0, _react.useCallback)(function (newStats) {
    setProgress(function (prev) {
      return Object.assign({}, prev, {
        stats: Object.assign({}, prev.stats, newStats)
      });
    });
  }, []);
  var calculateGlobalProgress = (0, _react.useCallback)(function () {
    var levels = Object.values(progress.levels);
    if (levels.length === 0) return 0;
    var total = levels.reduce(function (sum, level) {
      return sum + level.completed;
    }, 0);
    return Math.round(total / levels.length);
  }, [progress.levels]);
  var calculateLevelProgress = (0, _react.useCallback)(function (level) {
    var _progress$levels$leve;
    return ((_progress$levels$leve = progress.levels[level]) == null ? void 0 : _progress$levels$leve.completed) || 0;
  }, [progress.levels]);
  var resetProgress = (0, _react.useCallback)((0, _asyncToGenerator2.default)(function* () {
    try {
      yield _asyncStorage.default.removeItem(_constants.STORAGE_KEYS.USER_PROGRESS);
      setProgress(createInitialProgress());
      return true;
    } catch (error) {
      console.error('Erreur reset progression:', error);
      return false;
    }
  }), []);
  var contextValue = (0, _react.useMemo)(function () {
    return {
      progress: progress,
      isLoading: isLoading,
      updateExerciseProgress: updateExerciseProgress,
      updateStats: updateStats,
      calculateGlobalProgress: calculateGlobalProgress,
      calculateLevelProgress: calculateLevelProgress,
      resetProgress: resetProgress
    };
  }, [progress, isLoading, updateExerciseProgress, updateStats, calculateGlobalProgress, calculateLevelProgress, resetProgress]);
  return (0, _jsxRuntime.jsx)(ProgressContext.Provider, {
    value: contextValue,
    children: children
  });
};
var useProgress = exports.useProgress = function useProgress() {
  var context = (0, _react.useContext)(ProgressContext);
  if (!context) {
    throw new Error('useProgress must be used within a ProgressProvider');
  }
  return context;
};
var _default = exports.default = ProgressContext;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX2FzeW5jU3RvcmFnZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfY29uc3RhbnRzIiwiX2pzeFJ1bnRpbWUiLCJQcm9ncmVzc0NvbnRleHQiLCJleHBvcnRzIiwiY3JlYXRlQ29udGV4dCIsImNyZWF0ZUluaXRpYWxQcm9ncmVzcyIsImxldmVscyIsImNvbXBsZXRlZCIsInRvdGFsIiwiZXhlcmNpc2VzIiwidm9jYWJ1bGFyeSIsInBocmFzZXMiLCJncmFtbWFyIiwic3RhdHMiLCJzdHJlYWsiLCJ0b3RhbFRpbWVTcGVudCIsImNvcnJlY3RBbnN3ZXJzIiwidG90YWxBbnN3ZXJzIiwiZXhlcmNpc2VzQ29tcGxldGVkIiwibGFzdExvZ2luIiwibGFzdEFjdGl2aXR5IiwidHlwZSIsImxldmVsIiwidGltZXN0YW1wIiwiUHJvZ3Jlc3NQcm92aWRlciIsIl9yZWYiLCJjaGlsZHJlbiIsIl91c2VTdGF0ZSIsInVzZVN0YXRlIiwiX3VzZVN0YXRlMiIsIl9zbGljZWRUb0FycmF5MiIsImRlZmF1bHQiLCJwcm9ncmVzcyIsInNldFByb2dyZXNzIiwiX3VzZVN0YXRlMyIsIl91c2VTdGF0ZTQiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJzYXZlVGltZW91dFJlZiIsInVzZVJlZiIsImlzSW5pdGlhbExvYWQiLCJ1c2VFZmZlY3QiLCJsb2FkUHJvZ3Jlc3MiLCJfcmVmMiIsIl9hc3luY1RvR2VuZXJhdG9yMiIsInN0b3JlZCIsIkFzeW5jU3RvcmFnZSIsImdldEl0ZW0iLCJTVE9SQUdFX0tFWVMiLCJVU0VSX1BST0dSRVNTIiwicGFyc2VkIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJjb25zb2xlIiwiY3VycmVudCIsImFwcGx5IiwiYXJndW1lbnRzIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJ1cGRhdGVFeGVyY2lzZVByb2dyZXNzIiwidXNlQ2FsbGJhY2siLCJleGVyY2lzZVR5cGUiLCJwcmV2IiwibmV3UHJvZ3Jlc3MiLCJPYmplY3QiLCJhc3NpZ24iLCJNYXRoIiwibWluIiwibWF4IiwibGV2ZWxFeGVyY2lzZXMiLCJrZXlzIiwibWFwIiwiX25ld1Byb2dyZXNzJGV4ZXJjaXNlIiwiZmlsdGVyIiwidmFsIiwibGVuZ3RoIiwiYXZlcmFnZVByb2dyZXNzIiwicmVkdWNlIiwic3VtIiwicm91bmQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ1cGRhdGVTdGF0cyIsIm5ld1N0YXRzIiwiY2FsY3VsYXRlR2xvYmFsUHJvZ3Jlc3MiLCJ2YWx1ZXMiLCJjYWxjdWxhdGVMZXZlbFByb2dyZXNzIiwiX3Byb2dyZXNzJGxldmVscyRsZXZlIiwicmVzZXRQcm9ncmVzcyIsInJlbW92ZUl0ZW0iLCJjb250ZXh0VmFsdWUiLCJ1c2VNZW1vIiwianN4IiwiUHJvdmlkZXIiLCJ2YWx1ZSIsInVzZVByb2dyZXNzIiwiY29udGV4dCIsInVzZUNvbnRleHQiLCJFcnJvciIsIl9kZWZhdWx0Il0sInNvdXJjZXMiOlsiUHJvZ3Jlc3NDb250ZXh0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9jb250ZXh0cy9Qcm9ncmVzc0NvbnRleHQuanMgLSBWRVJTSU9OIENPUlJJR8OJRSBTQU5TIEJPVUNMRVxyXG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDb250ZXh0LCB1c2VDYWxsYmFjaywgdXNlUmVmLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgQXN5bmNTdG9yYWdlIGZyb20gJ0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS9hc3luYy1zdG9yYWdlJztcclxuaW1wb3J0IHsgU1RPUkFHRV9LRVlTIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuXHJcbi8vIENyw6llciBsZSBjb250ZXh0ZVxyXG5leHBvcnQgY29uc3QgUHJvZ3Jlc3NDb250ZXh0ID0gY3JlYXRlQ29udGV4dCgpO1xyXG5cclxuLy8gRG9ubsOpZXMgaW5pdGlhbGVzIHNpbXBsZXNcclxuY29uc3QgY3JlYXRlSW5pdGlhbFByb2dyZXNzID0gKCkgPT4gKHtcclxuICAvLyBQcm9ncmVzc2lvbiBwYXIgbml2ZWF1ICgwLTEwMCUpXHJcbiAgbGV2ZWxzOiB7XHJcbiAgICAnMSc6IHsgY29tcGxldGVkOiAwLCB0b3RhbDogMTAwIH0sXHJcbiAgICAnMic6IHsgY29tcGxldGVkOiAwLCB0b3RhbDogMTAwIH0sXHJcbiAgICAnMyc6IHsgY29tcGxldGVkOiAwLCB0b3RhbDogMTAwIH0sXHJcbiAgICAnNCc6IHsgY29tcGxldGVkOiAwLCB0b3RhbDogMTAwIH0sXHJcbiAgICAnNSc6IHsgY29tcGxldGVkOiAwLCB0b3RhbDogMTAwIH0sXHJcbiAgICAnNic6IHsgY29tcGxldGVkOiAwLCB0b3RhbDogMTAwIH0sXHJcbiAgICAnYm9udXMnOiB7IGNvbXBsZXRlZDogMCwgdG90YWw6IDEwMCB9LFxyXG4gIH0sXHJcbiAgXHJcbiAgLy8gUHJvZ3Jlc3Npb24gcGFyIGV4ZXJjaWNlIGV0IG5pdmVhdVxyXG4gIGV4ZXJjaXNlczoge1xyXG4gICAgdm9jYWJ1bGFyeToge1xyXG4gICAgICAnMSc6IHsgY29tcGxldGVkOiAwLCB0b3RhbDogMTAwIH0sXHJcbiAgICAgICcyJzogeyBjb21wbGV0ZWQ6IDAsIHRvdGFsOiAxMDAgfSxcclxuICAgICAgJzMnOiB7IGNvbXBsZXRlZDogMCwgdG90YWw6IDEwMCB9LFxyXG4gICAgICAnNCc6IHsgY29tcGxldGVkOiAwLCB0b3RhbDogMTAwIH0sXHJcbiAgICAgICc1JzogeyBjb21wbGV0ZWQ6IDAsIHRvdGFsOiAxMDAgfSxcclxuICAgICAgJzYnOiB7IGNvbXBsZXRlZDogMCwgdG90YWw6IDEwMCB9LFxyXG4gICAgICAnYm9udXMnOiB7IGNvbXBsZXRlZDogMCwgdG90YWw6IDEwMCB9LFxyXG4gICAgfSxcclxuICAgIHBocmFzZXM6IHtcclxuICAgICAgJzEnOiB7IGNvbXBsZXRlZDogMCwgdG90YWw6IDEwMCB9LFxyXG4gICAgICAnMic6IHsgY29tcGxldGVkOiAwLCB0b3RhbDogMTAwIH0sXHJcbiAgICAgICczJzogeyBjb21wbGV0ZWQ6IDAsIHRvdGFsOiAxMDAgfSxcclxuICAgICAgJzQnOiB7IGNvbXBsZXRlZDogMCwgdG90YWw6IDEwMCB9LFxyXG4gICAgICAnNSc6IHsgY29tcGxldGVkOiAwLCB0b3RhbDogMTAwIH0sXHJcbiAgICAgICc2JzogeyBjb21wbGV0ZWQ6IDAsIHRvdGFsOiAxMDAgfSxcclxuICAgICAgJ2JvbnVzJzogeyBjb21wbGV0ZWQ6IDAsIHRvdGFsOiAxMDAgfSxcclxuICAgIH0sXHJcbiAgICBncmFtbWFyOiB7XHJcbiAgICAgICcxJzogeyBjb21wbGV0ZWQ6IDAsIHRvdGFsOiAxMDAgfSxcclxuICAgICAgJzInOiB7IGNvbXBsZXRlZDogMCwgdG90YWw6IDEwMCB9LFxyXG4gICAgICAnMyc6IHsgY29tcGxldGVkOiAwLCB0b3RhbDogMTAwIH0sXHJcbiAgICAgICc0JzogeyBjb21wbGV0ZWQ6IDAsIHRvdGFsOiAxMDAgfSxcclxuICAgICAgJzUnOiB7IGNvbXBsZXRlZDogMCwgdG90YWw6IDEwMCB9LFxyXG4gICAgICAnNic6IHsgY29tcGxldGVkOiAwLCB0b3RhbDogMTAwIH0sXHJcbiAgICB9LFxyXG4gICAgLy8gLi4uIGF1dHJlcyBleGVyY2ljZXMgcGV1dmVudCDDqnRyZSBham91dMOpcyBhdSBiZXNvaW5cclxuICB9LFxyXG5cclxuICAvLyBTdGF0cyBnbG9iYWxlc1xyXG4gIHN0YXRzOiB7XHJcbiAgICBzdHJlYWs6IDAsXHJcbiAgICB0b3RhbFRpbWVTcGVudDogMCxcclxuICAgIGNvcnJlY3RBbnN3ZXJzOiAwLFxyXG4gICAgdG90YWxBbnN3ZXJzOiAwLFxyXG4gICAgZXhlcmNpc2VzQ29tcGxldGVkOiAwLFxyXG4gICAgbGFzdExvZ2luOiBudWxsLFxyXG4gIH0sXHJcblxyXG4gIC8vIERlcm5pw6hyZSBhY3Rpdml0w6lcclxuICBsYXN0QWN0aXZpdHk6IHtcclxuICAgIHR5cGU6IG51bGwsXHJcbiAgICBsZXZlbDogbnVsbCxcclxuICAgIHRpbWVzdGFtcDogbnVsbCxcclxuICB9LFxyXG59KTtcclxuXHJcbi8vIEZvdXJuaXNzZXVyIGR1IGNvbnRleHRlXHJcbmV4cG9ydCBjb25zdCBQcm9ncmVzc1Byb3ZpZGVyID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xyXG4gIGNvbnN0IFtwcm9ncmVzcywgc2V0UHJvZ3Jlc3NdID0gdXNlU3RhdGUoY3JlYXRlSW5pdGlhbFByb2dyZXNzKCkpO1xyXG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcclxuICBcclxuICAvLyDinIUgQ09SUkVDVElPTiA6IFJlZiBwb3VyIMOpdml0ZXIgbGEgYm91Y2xlIGRlIHNhdXZlZ2FyZGVcclxuICBjb25zdCBzYXZlVGltZW91dFJlZiA9IHVzZVJlZihudWxsKTtcclxuICBjb25zdCBpc0luaXRpYWxMb2FkID0gdXNlUmVmKHRydWUpO1xyXG5cclxuICAvLyA9PT09PT09PT09IENIQVJHRU1FTlQgSU5JVElBTCA9PT09PT09PT09XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGxvYWRQcm9ncmVzcyA9IGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBzdG9yZWQgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWVMuVVNFUl9QUk9HUkVTUyk7XHJcbiAgICAgICAgaWYgKHN0b3JlZCkge1xyXG4gICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShzdG9yZWQpO1xyXG4gICAgICAgICAgc2V0UHJvZ3Jlc3MocGFyc2VkKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyZXVyIGNoYXJnZW1lbnQgcHJvZ3Jlc3Npb246JywgZXJyb3IpO1xyXG4gICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgaXNJbml0aWFsTG9hZC5jdXJyZW50ID0gZmFsc2U7IC8vIOKchSBNYXJxdWVyIHF1ZSBsZSBjaGFyZ2VtZW50IGluaXRpYWwgZXN0IGZpbmlcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBsb2FkUHJvZ3Jlc3MoKTtcclxuICB9LCBbXSk7IC8vIOKchSBDT1JSSUfDiSA6IEF1Y3VuZSBkw6lwZW5kYW5jZVxyXG5cclxuICAvLyA9PT09PT09PT09IFNBVVZFR0FSREUgQVVUTyBDT1JSSUfDiUUgPT09PT09PT09PVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAvLyDinIUgQ09SUkVDVElPTiA6IE5lIHBhcyBzYXV2ZWdhcmRlciBwZW5kYW50IGxlIGNoYXJnZW1lbnQgaW5pdGlhbFxyXG4gICAgaWYgKGlzTG9hZGluZyB8fCBpc0luaXRpYWxMb2FkLmN1cnJlbnQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENsZWFyIHByZXZpb3VzIHRpbWVvdXRcclxuICAgIGlmIChzYXZlVGltZW91dFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGNsZWFyVGltZW91dChzYXZlVGltZW91dFJlZi5jdXJyZW50KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZXQgbmV3IHRpbWVvdXQgZm9yIGRlYm91bmNlZCBzYXZlXHJcbiAgICBzYXZlVGltZW91dFJlZi5jdXJyZW50ID0gc2V0VGltZW91dChhc3luYyAoKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgQXN5bmNTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVlTLlVTRVJfUFJPR1JFU1MsIEpTT04uc3RyaW5naWZ5KHByb2dyZXNzKSk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyZXVyIHNhdXZlZ2FyZGUgcHJvZ3Jlc3Npb246JywgZXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICB9LCA1MDApO1xyXG5cclxuICAgIC8vIENsZWFudXAgdGltZW91dFxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgaWYgKHNhdmVUaW1lb3V0UmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBjbGVhclRpbWVvdXQoc2F2ZVRpbWVvdXRSZWYuY3VycmVudCk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gU3VwcHJlc3Npb24gZHUgcmV0dXJuIG51bGwgKGF1Y3VuIHJldHVybiBhdHRlbmR1KVxyXG4gICAgfTtcclxuICB9LCBbcHJvZ3Jlc3MsIGlzTG9hZGluZ10pOyAvLyDinIUgSU1QT1JUQU5UIDogSW5jbHVyZSBpc0xvYWRpbmcgcG91ciDDqXZpdGVyIHNhdXZlZ2FyZGUgcGVuZGFudCBjaGFyZ2VtZW50XHJcblxyXG4gIC8vID09PT09PT09PT0gTcOJVEhPREVTIE3DiU1PUklTw4lFUyA9PT09PT09PT09XHJcblxyXG4gIC8vIOKchSBDT1JSRUNUSU9OIDogTcOpbW9yaXNlciB0b3V0ZXMgbGVzIGZvbmN0aW9uc1xyXG4gIGNvbnN0IHVwZGF0ZUV4ZXJjaXNlUHJvZ3Jlc3MgPSB1c2VDYWxsYmFjaygoZXhlcmNpc2VUeXBlLCBsZXZlbCwgY29tcGxldGVkKSA9PiB7XHJcbiAgICBzZXRQcm9ncmVzcyhwcmV2ID0+IHtcclxuICAgICAgY29uc3QgbmV3UHJvZ3Jlc3MgPSB7IC4uLnByZXYgfTtcclxuICAgICAgXHJcbiAgICAgIC8vIFbDqXJpZmllciBxdWUgbCdleGVyY2ljZSBleGlzdGVcclxuICAgICAgaWYgKCFuZXdQcm9ncmVzcy5leGVyY2lzZXNbZXhlcmNpc2VUeXBlXSkge1xyXG4gICAgICAgIG5ld1Byb2dyZXNzLmV4ZXJjaXNlc1tleGVyY2lzZVR5cGVdID0ge307XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmICghbmV3UHJvZ3Jlc3MuZXhlcmNpc2VzW2V4ZXJjaXNlVHlwZV1bbGV2ZWxdKSB7XHJcbiAgICAgICAgbmV3UHJvZ3Jlc3MuZXhlcmNpc2VzW2V4ZXJjaXNlVHlwZV1bbGV2ZWxdID0geyBjb21wbGV0ZWQ6IDAsIHRvdGFsOiAxMDAgfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTWV0dHJlIMOgIGpvdXIgbCdleGVyY2ljZVxyXG4gICAgICBuZXdQcm9ncmVzcy5leGVyY2lzZXNbZXhlcmNpc2VUeXBlXVtsZXZlbF0uY29tcGxldGVkID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgY29tcGxldGVkKSwgMTAwKTtcclxuXHJcbiAgICAgIC8vIFJlY2FsY3VsZXIgcHJvZ3Jlc3Npb24gZHUgbml2ZWF1IChtb3llbm5lIGRlcyBleGVyY2ljZXMpXHJcbiAgICAgIGNvbnN0IGxldmVsRXhlcmNpc2VzID0gT2JqZWN0LmtleXMobmV3UHJvZ3Jlc3MuZXhlcmNpc2VzKS5tYXAodHlwZSA9PiBcclxuICAgICAgICBuZXdQcm9ncmVzcy5leGVyY2lzZXNbdHlwZV1bbGV2ZWxdPy5jb21wbGV0ZWQgfHwgMFxyXG4gICAgICApLmZpbHRlcih2YWwgPT4gdmFsID4gMCk7XHJcblxyXG4gICAgICBpZiAobGV2ZWxFeGVyY2lzZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnN0IGF2ZXJhZ2VQcm9ncmVzcyA9IGxldmVsRXhlcmNpc2VzLnJlZHVjZSgoc3VtLCB2YWwpID0+IHN1bSArIHZhbCwgMCkgLyBsZXZlbEV4ZXJjaXNlcy5sZW5ndGg7XHJcbiAgICAgICAgbmV3UHJvZ3Jlc3MubGV2ZWxzW2xldmVsXS5jb21wbGV0ZWQgPSBNYXRoLnJvdW5kKGF2ZXJhZ2VQcm9ncmVzcyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE1ldHRyZSDDoCBqb3VyIGRlcm5pw6hyZSBhY3Rpdml0w6lcclxuICAgICAgbmV3UHJvZ3Jlc3MubGFzdEFjdGl2aXR5ID0ge1xyXG4gICAgICAgIHR5cGU6IGV4ZXJjaXNlVHlwZSxcclxuICAgICAgICBsZXZlbCxcclxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJldHVybiBuZXdQcm9ncmVzcztcclxuICAgIH0pO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgdXBkYXRlU3RhdHMgPSB1c2VDYWxsYmFjaygobmV3U3RhdHMpID0+IHtcclxuICAgIHNldFByb2dyZXNzKHByZXYgPT4gKHtcclxuICAgICAgLi4ucHJldixcclxuICAgICAgc3RhdHM6IHsgLi4ucHJldi5zdGF0cywgLi4ubmV3U3RhdHMgfVxyXG4gICAgfSkpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgY2FsY3VsYXRlR2xvYmFsUHJvZ3Jlc3MgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBjb25zdCBsZXZlbHMgPSBPYmplY3QudmFsdWVzKHByb2dyZXNzLmxldmVscyk7XHJcbiAgICBpZiAobGV2ZWxzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDA7XHJcbiAgICBcclxuICAgIGNvbnN0IHRvdGFsID0gbGV2ZWxzLnJlZHVjZSgoc3VtLCBsZXZlbCkgPT4gc3VtICsgbGV2ZWwuY29tcGxldGVkLCAwKTtcclxuICAgIHJldHVybiBNYXRoLnJvdW5kKHRvdGFsIC8gbGV2ZWxzLmxlbmd0aCk7XHJcbiAgfSwgW3Byb2dyZXNzLmxldmVsc10pO1xyXG5cclxuICBjb25zdCBjYWxjdWxhdGVMZXZlbFByb2dyZXNzID0gdXNlQ2FsbGJhY2soKGxldmVsKSA9PiB7XHJcbiAgICByZXR1cm4gcHJvZ3Jlc3MubGV2ZWxzW2xldmVsXT8uY29tcGxldGVkIHx8IDA7XHJcbiAgfSwgW3Byb2dyZXNzLmxldmVsc10pO1xyXG5cclxuICBjb25zdCByZXNldFByb2dyZXNzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgQXN5bmNTdG9yYWdlLnJlbW92ZUl0ZW0oU1RPUkFHRV9LRVlTLlVTRVJfUFJPR1JFU1MpO1xyXG4gICAgICBzZXRQcm9ncmVzcyhjcmVhdGVJbml0aWFsUHJvZ3Jlc3MoKSk7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyZXVyIHJlc2V0IHByb2dyZXNzaW9uOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gPT09PT09PT09PSDwn5qoIENPUlJFQ1RJT04gUFJJTkNJUEFMRSA6IFZBTEVVUiBNw4lNT1JJU8OJRSA9PT09PT09PT09XHJcbiAgY29uc3QgY29udGV4dFZhbHVlID0gdXNlTWVtbygoKSA9PiAoe1xyXG4gICAgcHJvZ3Jlc3MsXHJcbiAgICBpc0xvYWRpbmcsXHJcbiAgICB1cGRhdGVFeGVyY2lzZVByb2dyZXNzLFxyXG4gICAgdXBkYXRlU3RhdHMsXHJcbiAgICBjYWxjdWxhdGVHbG9iYWxQcm9ncmVzcyxcclxuICAgIGNhbGN1bGF0ZUxldmVsUHJvZ3Jlc3MsXHJcbiAgICByZXNldFByb2dyZXNzLFxyXG4gIH0pLCBbXHJcbiAgICBwcm9ncmVzcywgXHJcbiAgICBpc0xvYWRpbmcsIFxyXG4gICAgdXBkYXRlRXhlcmNpc2VQcm9ncmVzcywgXHJcbiAgICB1cGRhdGVTdGF0cywgXHJcbiAgICBjYWxjdWxhdGVHbG9iYWxQcm9ncmVzcywgXHJcbiAgICBjYWxjdWxhdGVMZXZlbFByb2dyZXNzLCBcclxuICAgIHJlc2V0UHJvZ3Jlc3NcclxuICBdKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxQcm9ncmVzc0NvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHRWYWx1ZX0+XHJcbiAgICAgIHtjaGlsZHJlbn1cclxuICAgIDwvUHJvZ3Jlc3NDb250ZXh0LlByb3ZpZGVyPlxyXG4gICk7XHJcbn07XHJcblxyXG4vLyBIb29rIHBvdXIgdXRpbGlzZXIgbGUgY29udGV4dGVcclxuZXhwb3J0IGNvbnN0IHVzZVByb2dyZXNzID0gKCkgPT4ge1xyXG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KFByb2dyZXNzQ29udGV4dCk7XHJcbiAgaWYgKCFjb250ZXh0KSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZVByb2dyZXNzIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBQcm9ncmVzc1Byb3ZpZGVyJyk7XHJcbiAgfVxyXG4gIHJldHVybiBjb250ZXh0O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgUHJvZ3Jlc3NDb250ZXh0OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBLElBQUFBLE1BQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLGFBQUEsR0FBQUMsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFHLFVBQUEsR0FBQUgsT0FBQTtBQUFrRCxJQUFBSSxXQUFBLEdBQUFKLE9BQUE7QUFHM0MsSUFBTUssZUFBZSxHQUFBQyxPQUFBLENBQUFELGVBQUEsR0FBRyxJQUFBRSxvQkFBYSxFQUFDLENBQUM7QUFHOUMsSUFBTUMscUJBQXFCLEdBQUcsU0FBeEJBLHFCQUFxQkEsQ0FBQTtFQUFBLE9BQVU7SUFFbkNDLE1BQU0sRUFBRTtNQUNOLEdBQUcsRUFBRTtRQUFFQyxTQUFTLEVBQUUsQ0FBQztRQUFFQyxLQUFLLEVBQUU7TUFBSSxDQUFDO01BQ2pDLEdBQUcsRUFBRTtRQUFFRCxTQUFTLEVBQUUsQ0FBQztRQUFFQyxLQUFLLEVBQUU7TUFBSSxDQUFDO01BQ2pDLEdBQUcsRUFBRTtRQUFFRCxTQUFTLEVBQUUsQ0FBQztRQUFFQyxLQUFLLEVBQUU7TUFBSSxDQUFDO01BQ2pDLEdBQUcsRUFBRTtRQUFFRCxTQUFTLEVBQUUsQ0FBQztRQUFFQyxLQUFLLEVBQUU7TUFBSSxDQUFDO01BQ2pDLEdBQUcsRUFBRTtRQUFFRCxTQUFTLEVBQUUsQ0FBQztRQUFFQyxLQUFLLEVBQUU7TUFBSSxDQUFDO01BQ2pDLEdBQUcsRUFBRTtRQUFFRCxTQUFTLEVBQUUsQ0FBQztRQUFFQyxLQUFLLEVBQUU7TUFBSSxDQUFDO01BQ2pDLE9BQU8sRUFBRTtRQUFFRCxTQUFTLEVBQUUsQ0FBQztRQUFFQyxLQUFLLEVBQUU7TUFBSTtJQUN0QyxDQUFDO0lBR0RDLFNBQVMsRUFBRTtNQUNUQyxVQUFVLEVBQUU7UUFDVixHQUFHLEVBQUU7VUFBRUgsU0FBUyxFQUFFLENBQUM7VUFBRUMsS0FBSyxFQUFFO1FBQUksQ0FBQztRQUNqQyxHQUFHLEVBQUU7VUFBRUQsU0FBUyxFQUFFLENBQUM7VUFBRUMsS0FBSyxFQUFFO1FBQUksQ0FBQztRQUNqQyxHQUFHLEVBQUU7VUFBRUQsU0FBUyxFQUFFLENBQUM7VUFBRUMsS0FBSyxFQUFFO1FBQUksQ0FBQztRQUNqQyxHQUFHLEVBQUU7VUFBRUQsU0FBUyxFQUFFLENBQUM7VUFBRUMsS0FBSyxFQUFFO1FBQUksQ0FBQztRQUNqQyxHQUFHLEVBQUU7VUFBRUQsU0FBUyxFQUFFLENBQUM7VUFBRUMsS0FBSyxFQUFFO1FBQUksQ0FBQztRQUNqQyxHQUFHLEVBQUU7VUFBRUQsU0FBUyxFQUFFLENBQUM7VUFBRUMsS0FBSyxFQUFFO1FBQUksQ0FBQztRQUNqQyxPQUFPLEVBQUU7VUFBRUQsU0FBUyxFQUFFLENBQUM7VUFBRUMsS0FBSyxFQUFFO1FBQUk7TUFDdEMsQ0FBQztNQUNERyxPQUFPLEVBQUU7UUFDUCxHQUFHLEVBQUU7VUFBRUosU0FBUyxFQUFFLENBQUM7VUFBRUMsS0FBSyxFQUFFO1FBQUksQ0FBQztRQUNqQyxHQUFHLEVBQUU7VUFBRUQsU0FBUyxFQUFFLENBQUM7VUFBRUMsS0FBSyxFQUFFO1FBQUksQ0FBQztRQUNqQyxHQUFHLEVBQUU7VUFBRUQsU0FBUyxFQUFFLENBQUM7VUFBRUMsS0FBSyxFQUFFO1FBQUksQ0FBQztRQUNqQyxHQUFHLEVBQUU7VUFBRUQsU0FBUyxFQUFFLENBQUM7VUFBRUMsS0FBSyxFQUFFO1FBQUksQ0FBQztRQUNqQyxHQUFHLEVBQUU7VUFBRUQsU0FBUyxFQUFFLENBQUM7VUFBRUMsS0FBSyxFQUFFO1FBQUksQ0FBQztRQUNqQyxHQUFHLEVBQUU7VUFBRUQsU0FBUyxFQUFFLENBQUM7VUFBRUMsS0FBSyxFQUFFO1FBQUksQ0FBQztRQUNqQyxPQUFPLEVBQUU7VUFBRUQsU0FBUyxFQUFFLENBQUM7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