11b4ec514de15711c92166ee0f5f16c7
_getJestObj().mock('expo-router', function () {
  return {
    useFocusEffect: jest.fn(function (callback) {
      return callback();
    }),
    router: {
      push: jest.fn(),
      back: jest.fn()
    },
    Stack: function Stack(_ref) {
      var children = _ref.children;
      return (0, _jsxRuntime.jsx)(_jsxRuntime.Fragment, {
        children: children
      });
    },
    useLocalSearchParams: function useLocalSearchParams() {
      return {
        level: '1'
      };
    },
    useNavigation: function useNavigation() {
      return {
        navigate: jest.fn(),
        goBack: jest.fn(),
        canGoBack: jest.fn(function () {
          return true;
        }),
        addListener: jest.fn(),
        isFocused: jest.fn(function () {
          return true;
        })
      };
    }
  };
});
_getJestObj().mock('../../src/hooks/useRealTimeProgress', function () {
  return function () {
    return {
      getLevelProgress: function getLevelProgress(level) {
        var _mockProgressData$lev;
        return ((_mockProgressData$lev = mockProgressData[level]) == null ? void 0 : _mockProgressData$lev.levelProgress) || 0;
      },
      getExerciseProgress: function getExerciseProgress(exercise, level) {
        var _mockProgressData$lev2;
        return ((_mockProgressData$lev2 = mockProgressData[level]) == null ? void 0 : _mockProgressData$lev2[exercise]) || 0;
      },
      hasProgress: function hasProgress(exercise, level) {
        var _mockProgressData$lev3;
        return (((_mockProgressData$lev3 = mockProgressData[level]) == null ? void 0 : _mockProgressData$lev3[exercise]) || 0) > 0;
      },
      refresh: jest.fn()
    };
  };
});
_getJestObj().mock('../../src/contexts/ProgressContext', function () {
  return Object.assign({}, jest.requireActual('../../src/contexts/ProgressContext'), {
    useProgress: function useProgress() {
      return {
        updateProgress: mockUpdateProgress,
        progress: {
          overall: 0,
          levels: mockProgressData
        },
        isLoading: false
      };
    }
  });
});
_getJestObj().mock('../../src/screens/exercises/vocabulary/hooks/useVocabulary', function () {
  return mockUseVocabulary;
});
_getJestObj().mock('../../src/screens/Dashboard/hooks/useDashboardState', function () {
  return {
    useDashboardState: jest.fn(function () {
      return {
        showLevelProgress: false,
        setShowLevelProgress: jest.fn(),
        openLevelProgressModal: jest.fn(),
        closeLevelProgressModal: jest.fn(),
        refreshing: false,
        activeTab: "home",
        setActiveTab: jest.fn(),
        onRefresh: jest.fn().mockResolvedValue()
      };
    })
  };
});
_getJestObj().mock('../../src/hooks/useLastActivity', function () {
  return function () {
    return {
      lastActivity: null,
      isLoading: false,
      saveActivity: jest.fn(),
      clearActivity: jest.fn(),
      reload: jest.fn()
    };
  };
});
_getJestObj().mock('../../src/hooks/useActivityMetrics', function () {
  return function () {
    return {
      currentStreak: 5,
      wordsToday: 0,
      timeToday: 0,
      isLoading: false
    };
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _expoRouter = require("expo-router");
var _Dashboard = _interopRequireDefault(require("../../src/screens/Dashboard"));
var _LevelSelection = _interopRequireDefault(require("../../src/screens/LevelSelection"));
var _ExerciseSelection = _interopRequireDefault(require("../../src/screens/ExerciseSelection"));
var _vocabulary = _interopRequireDefault(require("../../src/screens/exercises/vocabulary"));
var _ThemeContext = require("../../src/contexts/ThemeContext");
var _CurrentLevelContext = require("../../src/contexts/CurrentLevelContext");
var _ProgressContext = require("../../src/contexts/ProgressContext");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockUpdateProgress = jest.fn();
var mockProgressData = {};
var mockUseVocabulary = jest.fn();
var TestWrapper = function TestWrapper(_ref2) {
  var children = _ref2.children;
  return (0, _jsxRuntime.jsx)(_ThemeContext.ThemeProvider, {
    children: (0, _jsxRuntime.jsx)(_CurrentLevelContext.CurrentLevelProvider, {
      children: (0, _jsxRuntime.jsx)(_ProgressContext.ProgressProvider, {
        children: children
      })
    })
  });
};
var debugScreen = function debugScreen(result, screenName) {
  console.log(`=== Debug ${screenName} ===`);
  try {
    console.log('Available text elements:', result.getAllByText(/./));
  } catch (e) {
    console.log('No text elements found');
  }
  try {
    console.log('Available test IDs:', result.getAllByTestId(/./));
  } catch (e) {
    console.log('No test IDs found');
  }
  console.log('========================');
};
describe('Parcours utilisateur complet - Navigation et progression', function () {
  beforeEach(function () {
    jest.clearAllMocks();
    mockProgressData = {};
    mockUseVocabulary.mockReturnValue({
      loaded: true,
      currentWord: {
        word: 'Hello',
        translation: 'Bonjour',
        example: 'Hello, how are you?'
      },
      wordIndex: 0,
      display: {
        wordCounter: '1 / 15',
        categories: ['Basics']
      },
      isLastWordInExercise: false,
      handleNext: jest.fn().mockReturnValue({
        completed: false
      }),
      saveData: jest.fn().mockResolvedValue(undefined),
      toggleTranslation: jest.fn()
    });
  });
  afterEach(function () {
    (0, _reactNative.cleanup)();
  });
  describe('Test de composants individuels', function () {
    test('ExerciseSelection se charge correctement', (0, _asyncToGenerator2.default)(function* () {
      var result = (0, _reactNative.render)((0, _jsxRuntime.jsx)(TestWrapper, {
        children: (0, _jsxRuntime.jsx)(_ExerciseSelection.default, {})
      }));
      debugScreen(result, 'ExerciseSelection');
      yield (0, _reactNative.waitFor)(function () {
        try {
          expect(result.getByText('Choisissez votre exercice')).toBeTruthy();
        } catch (e) {
          try {
            expect(result.getByText(/choisissez/i)).toBeTruthy();
          } catch (e2) {
            try {
              expect(result.getByText(/exercice/i)).toBeTruthy();
            } catch (e3) {
              expect(result.getByTestId('exercises-scroll')).toBeTruthy();
            }
          }
        }
      }, {
        timeout: 5000
      });
      result.unmount();
    }));
    test('Dashboard se charge correctement', (0, _asyncToGenerator2.default)(function* () {
      var result = (0, _reactNative.render)((0, _jsxRuntime.jsx)(TestWrapper, {
        children: (0, _jsxRuntime.jsx)(_Dashboard.default, {})
      }));
      yield (0, _reactNative.waitFor)(function () {
        expect(result.getByText('‚ö° Actions rapides')).toBeTruthy();
        expect(result.getByText('üèÜ Progression g√©n√©rale')).toBeTruthy();
      });
      result.unmount();
    }));
  });
  describe('Sc√©nario 1: Parcours complet Dashboard ‚Üí Level ‚Üí Exercise ‚Üí Vocabulary', function () {
    test('Navigation compl√®te entre tous les √©crans avec progression', (0, _asyncToGenerator2.default)(function* () {
      var dashboardResult = (0, _reactNative.render)((0, _jsxRuntime.jsx)(TestWrapper, {
        children: (0, _jsxRuntime.jsx)(_Dashboard.default, {})
      }));
      expect(dashboardResult.getByText('‚ö° Actions rapides')).toBeTruthy();
      expect(dashboardResult.getByText('üèÜ Progression g√©n√©rale')).toBeTruthy();
      var startButton = dashboardResult.getByTestId('level-selection-button');
      _reactNative.fireEvent.press(startButton);
      dashboardResult.unmount();
      var levelSelectionResult = (0, _reactNative.render)((0, _jsxRuntime.jsx)(TestWrapper, {
        children: (0, _jsxRuntime.jsx)(_LevelSelection.default, {})
      }));
      yield (0, _reactNative.waitFor)(function () {
        expect(levelSelectionResult.getByText('Niveaux')).toBeTruthy();
        expect(levelSelectionResult.getByTestId('level-1')).toBeTruthy();
      });
      var level1Card = levelSelectionResult.getByTestId('level-1');
      expect((0, _reactNative.within)(level1Card).getByText('0%')).toBeTruthy();
      _reactNative.fireEvent.press(level1Card);
      levelSelectionResult.unmount();
      var exerciseSelectionResult = (0, _reactNative.render)((0, _jsxRuntime.jsx)(TestWrapper, {
        children: (0, _jsxRuntime.jsx)(_ExerciseSelection.default, {
          route: {
            params: {
              level: '1'
            }
          }
        })
      }));
      debugScreen(exerciseSelectionResult, 'ExerciseSelection');
      yield (0, _reactNative.waitFor)(function () {
        try {
          expect(exerciseSelectionResult.getByText('Choisissez votre exercice')).toBeTruthy();
        } catch (e) {
          expect(exerciseSelectionResult.getByTestId('exercises-scroll')).toBeTruthy();
        }
        expect(exerciseSelectionResult.getByTestId('vocabulary-button')).toBeTruthy();
      }, {
        timeout: 10000
      });
      var vocabularyButton = exerciseSelectionResult.getByTestId('vocabulary-button');
      _reactNative.fireEvent.press(vocabularyButton);
      exerciseSelectionResult.unmount();
      var vocabularyResult = (0, _reactNative.render)((0, _jsxRuntime.jsx)(TestWrapper, {
        children: (0, _jsxRuntime.jsx)(_vocabulary.default, {
          route: {
            params: {
              level: '1',
              mode: 'classic'
            }
          }
        })
      }));
      yield (0, _reactNative.waitFor)(function () {
        expect(vocabularyResult.getByText('Hello')).toBeTruthy();
        expect(vocabularyResult.getByText('1 / 15')).toBeTruthy();
      });
      var nextButton = vocabularyResult.getByText('Suivant');
      _reactNative.fireEvent.press(nextButton);
      expect(mockUpdateProgress).toHaveBeenCalledWith('1', 'vocabulary', expect.any(Number));
      vocabularyResult.unmount();
    }));
  });
  describe('Tests de navigation √©tape par √©tape', function () {
    test('Dashboard vers LevelSelection', (0, _asyncToGenerator2.default)(function* () {
      var dashboardResult = (0, _reactNative.render)((0, _jsxRuntime.jsx)(TestWrapper, {
        children: (0, _jsxRuntime.jsx)(_Dashboard.default, {})
      }));
      expect(dashboardResult.getByTestId('level-selection-button')).toBeTruthy();
      _reactNative.fireEvent.press(dashboardResult.getByTestId('level-selection-button'));
      dashboardResult.unmount();
      var levelResult = (0, _reactNative.render)((0, _jsxRuntime.jsx)(TestWrapper, {
        children: (0, _jsxRuntime.jsx)(_LevelSelection.default, {})
      }));
      yield (0, _reactNative.waitFor)(function () {
        expect(levelResult.getByText('Niveaux')).toBeTruthy();
      });
      levelResult.unmount();
    }));
    test('LevelSelection vers ExerciseSelection', (0, _asyncToGenerator2.default)(function* () {
      var levelResult = (0, _reactNative.render)((0, _jsxRuntime.jsx)(TestWrapper, {
        children: (0, _jsxRuntime.jsx)(_LevelSelection.default, {})
      }));
      yield (0, _reactNative.waitFor)(function () {
        expect(levelResult.getByTestId('level-1')).toBeTruthy();
      });
      _reactNative.fireEvent.press(levelResult.getByTestId('level-1'));
      levelResult.unmount();
      var exerciseResult = (0, _reactNative.render)((0, _jsxRuntime.jsx)(TestWrapper, {
        children: (0, _jsxRuntime.jsx)(_ExerciseSelection.default, {
          route: {
            params: {
              level: '1'
            }
          }
        })
      }));
      yield (0, _reactNative.waitFor)(function () {
        expect(exerciseResult.getByTestId('exercises-scroll')).toBeTruthy();
      });
      exerciseResult.unmount();
    }));
  });
  describe('Sc√©nario 2: Gestion des erreurs et cas limites', function () {
    test('Gestion de la navigation avec donn√©es manquantes', (0, _asyncToGenerator2.default)(function* () {
      mockProgressData['1'] = {
        levelProgress: null,
        vocabulary: undefined
      };
      var result = (0, _reactNative.render)((0, _jsxRuntime.jsx)(TestWrapper, {
        children: (0, _jsxRuntime.jsx)(_LevelSelection.default, {})
      }));
      yield (0, _reactNative.waitFor)(function () {
        var level1Card = result.getByTestId('level-1');
        expect((0, _reactNative.within)(level1Card).getByText('0%')).toBeTruthy();
      });
      result.unmount();
    }));
    test('Navigation avec exercice en cours', (0, _asyncToGenerator2.default)(function* () {
      mockProgressData['1'] = {
        levelProgress: 45,
        vocabulary: 45
      };
      var result = (0, _reactNative.render)((0, _jsxRuntime.jsx)(TestWrapper, {
        children: (0, _jsxRuntime.jsx)(_LevelSelection.default, {})
      }));
      yield (0, _reactNative.waitFor)(function () {
        var level1Card = result.getByTestId('level-1');
        expect((0, _reactNative.within)(level1Card).getByTestId('level-1-button')).toBeTruthy();
        expect((0, _reactNative.within)(level1Card).getByText('Continuer')).toBeTruthy();
      });
      result.unmount();
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ1c2VGb2N1c0VmZmVjdCIsImplc3QiLCJmbiIsImNhbGxiYWNrIiwicm91dGVyIiwicHVzaCIsImJhY2siLCJTdGFjayIsIl9yZWYiLCJjaGlsZHJlbiIsIl9qc3hSdW50aW1lIiwianN4IiwiRnJhZ21lbnQiLCJ1c2VMb2NhbFNlYXJjaFBhcmFtcyIsImxldmVsIiwidXNlTmF2aWdhdGlvbiIsIm5hdmlnYXRlIiwiZ29CYWNrIiwiY2FuR29CYWNrIiwiYWRkTGlzdGVuZXIiLCJpc0ZvY3VzZWQiLCJnZXRMZXZlbFByb2dyZXNzIiwiX21vY2tQcm9ncmVzc0RhdGEkbGV2IiwibW9ja1Byb2dyZXNzRGF0YSIsImxldmVsUHJvZ3Jlc3MiLCJnZXRFeGVyY2lzZVByb2dyZXNzIiwiZXhlcmNpc2UiLCJfbW9ja1Byb2dyZXNzRGF0YSRsZXYyIiwiaGFzUHJvZ3Jlc3MiLCJfbW9ja1Byb2dyZXNzRGF0YSRsZXYzIiwicmVmcmVzaCIsIk9iamVjdCIsImFzc2lnbiIsInJlcXVpcmVBY3R1YWwiLCJ1c2VQcm9ncmVzcyIsInVwZGF0ZVByb2dyZXNzIiwibW9ja1VwZGF0ZVByb2dyZXNzIiwicHJvZ3Jlc3MiLCJvdmVyYWxsIiwibGV2ZWxzIiwiaXNMb2FkaW5nIiwibW9ja1VzZVZvY2FidWxhcnkiLCJ1c2VEYXNoYm9hcmRTdGF0ZSIsInNob3dMZXZlbFByb2dyZXNzIiwic2V0U2hvd0xldmVsUHJvZ3Jlc3MiLCJvcGVuTGV2ZWxQcm9ncmVzc01vZGFsIiwiY2xvc2VMZXZlbFByb2dyZXNzTW9kYWwiLCJyZWZyZXNoaW5nIiwiYWN0aXZlVGFiIiwic2V0QWN0aXZlVGFiIiwib25SZWZyZXNoIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJsYXN0QWN0aXZpdHkiLCJzYXZlQWN0aXZpdHkiLCJjbGVhckFjdGl2aXR5IiwicmVsb2FkIiwiY3VycmVudFN0cmVhayIsIndvcmRzVG9kYXkiLCJ0aW1lVG9kYXkiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWFjdCIsIl9yZWFjdE5hdGl2ZSIsIl9leHBvUm91dGVyIiwiX0Rhc2hib2FyZCIsIl9MZXZlbFNlbGVjdGlvbiIsIl9FeGVyY2lzZVNlbGVjdGlvbiIsIl92b2NhYnVsYXJ5IiwiX1RoZW1lQ29udGV4dCIsIl9DdXJyZW50TGV2ZWxDb250ZXh0IiwiX1Byb2dyZXNzQ29udGV4dCIsIl9yZXF1aXJlIiwiVGVzdFdyYXBwZXIiLCJfcmVmMiIsIlRoZW1lUHJvdmlkZXIiLCJDdXJyZW50TGV2ZWxQcm92aWRlciIsIlByb2dyZXNzUHJvdmlkZXIiLCJkZWJ1Z1NjcmVlbiIsInJlc3VsdCIsInNjcmVlbk5hbWUiLCJjb25zb2xlIiwibG9nIiwiZ2V0QWxsQnlUZXh0IiwiZSIsImdldEFsbEJ5VGVzdElkIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1vY2tSZXR1cm5WYWx1ZSIsImxvYWRlZCIsImN1cnJlbnRXb3JkIiwid29yZCIsInRyYW5zbGF0aW9uIiwiZXhhbXBsZSIsIndvcmRJbmRleCIsImRpc3BsYXkiLCJ3b3JkQ291bnRlciIsImNhdGVnb3JpZXMiLCJpc0xhc3RXb3JkSW5FeGVyY2lzZSIsImhhbmRsZU5leHQiLCJjb21wbGV0ZWQiLCJzYXZlRGF0YSIsInVuZGVmaW5lZCIsInRvZ2dsZVRyYW5zbGF0aW9uIiwiYWZ0ZXJFYWNoIiwiY2xlYW51cCIsInRlc3QiLCJkZWZhdWx0IiwicmVuZGVyIiwid2FpdEZvciIsImV4cGVjdCIsImdldEJ5VGV4dCIsInRvQmVUcnV0aHkiLCJlMiIsImUzIiwiZ2V0QnlUZXN0SWQiLCJ0aW1lb3V0IiwidW5tb3VudCIsImRhc2hib2FyZFJlc3VsdCIsInN0YXJ0QnV0dG9uIiwiZmlyZUV2ZW50IiwicHJlc3MiLCJsZXZlbFNlbGVjdGlvblJlc3VsdCIsImxldmVsMUNhcmQiLCJ3aXRoaW4iLCJleGVyY2lzZVNlbGVjdGlvblJlc3VsdCIsInJvdXRlIiwicGFyYW1zIiwidm9jYWJ1bGFyeUJ1dHRvbiIsInZvY2FidWxhcnlSZXN1bHQiLCJtb2RlIiwibmV4dEJ1dHRvbiIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiYW55IiwiTnVtYmVyIiwibGV2ZWxSZXN1bHQiLCJleGVyY2lzZVJlc3VsdCIsInZvY2FidWxhcnkiXSwic291cmNlcyI6WyJmdWxsLXVzZXItam91cm5leS50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIF9fdGVzdHNfXy9pbnRlZ3JhdGlvbi9mdWxsLXVzZXItam91cm5leS50ZXN0LmpzXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyLCBmaXJlRXZlbnQsIHdhaXRGb3IsIHdpdGhpbiwgY2xlYW51cCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtbmF0aXZlJztcbmltcG9ydCB7IHJvdXRlciB9IGZyb20gJ2V4cG8tcm91dGVyJztcblxuLy8gw4ljcmFuc1xuaW1wb3J0IERhc2hib2FyZCBmcm9tICcuLi8uLi9zcmMvc2NyZWVucy9EYXNoYm9hcmQnO1xuaW1wb3J0IExldmVsU2VsZWN0aW9uIGZyb20gJy4uLy4uL3NyYy9zY3JlZW5zL0xldmVsU2VsZWN0aW9uJztcbmltcG9ydCBFeGVyY2lzZVNlbGVjdGlvbiBmcm9tICcuLi8uLi9zcmMvc2NyZWVucy9FeGVyY2lzZVNlbGVjdGlvbic7XG5pbXBvcnQgVm9jYWJ1bGFyeUV4ZXJjaXNlIGZyb20gJy4uLy4uL3NyYy9zY3JlZW5zL2V4ZXJjaXNlcy92b2NhYnVsYXJ5JztcbmltcG9ydCB7IFRoZW1lUHJvdmlkZXIgfSBmcm9tICcuLi8uLi9zcmMvY29udGV4dHMvVGhlbWVDb250ZXh0JztcbmltcG9ydCB7IEN1cnJlbnRMZXZlbFByb3ZpZGVyIH0gZnJvbSAnLi4vLi4vc3JjL2NvbnRleHRzL0N1cnJlbnRMZXZlbENvbnRleHQnO1xuaW1wb3J0IHsgUHJvZ3Jlc3NQcm92aWRlciB9IGZyb20gJy4uLy4uL3NyYy9jb250ZXh0cy9Qcm9ncmVzc0NvbnRleHQnO1xuXG4vLyBNb2Nrc1xuamVzdC5tb2NrKCdleHBvLXJvdXRlcicsICgpID0+ICh7XG4gIHVzZUZvY3VzRWZmZWN0OiBqZXN0LmZuKGNhbGxiYWNrID0+IGNhbGxiYWNrKCkpLFxuICByb3V0ZXI6IHtcbiAgICBwdXNoOiBqZXN0LmZuKCksXG4gICAgYmFjazogamVzdC5mbigpLFxuICB9LFxuICBTdGFjazogKHsgY2hpbGRyZW4gfSkgPT4gPD57Y2hpbGRyZW59PC8+LFxuICB1c2VMb2NhbFNlYXJjaFBhcmFtczogKCkgPT4gKHsgbGV2ZWw6ICcxJyB9KSwgLy8gQWpvdXQgZHUgbml2ZWF1IHBhciBkw6lmYXV0XG4gIHVzZU5hdmlnYXRpb246ICgpID0+ICh7XG4gICAgbmF2aWdhdGU6IGplc3QuZm4oKSxcbiAgICBnb0JhY2s6IGplc3QuZm4oKSxcbiAgICBjYW5Hb0JhY2s6IGplc3QuZm4oKCkgPT4gdHJ1ZSksXG4gICAgYWRkTGlzdGVuZXI6IGplc3QuZm4oKSxcbiAgICBpc0ZvY3VzZWQ6IGplc3QuZm4oKCkgPT4gdHJ1ZSksXG4gIH0pLFxufSkpO1xuXG4vLyBNb2NrIGRlcyBob29rcyBkZSBkb25uw6llcyBldCBkZSBjb250ZXh0ZVxuY29uc3QgbW9ja1VwZGF0ZVByb2dyZXNzID0gamVzdC5mbigpO1xubGV0IG1vY2tQcm9ncmVzc0RhdGEgPSB7fTtcblxuamVzdC5tb2NrKCcuLi8uLi9zcmMvaG9va3MvdXNlUmVhbFRpbWVQcm9ncmVzcycsICgpID0+ICgpID0+ICh7XG4gIGdldExldmVsUHJvZ3Jlc3M6IChsZXZlbCkgPT4gbW9ja1Byb2dyZXNzRGF0YVtsZXZlbF0/LmxldmVsUHJvZ3Jlc3MgfHwgMCxcbiAgZ2V0RXhlcmNpc2VQcm9ncmVzczogKGV4ZXJjaXNlLCBsZXZlbCkgPT4gbW9ja1Byb2dyZXNzRGF0YVtsZXZlbF0/LltleGVyY2lzZV0gfHwgMCxcbiAgaGFzUHJvZ3Jlc3M6IChleGVyY2lzZSwgbGV2ZWwpID0+IChtb2NrUHJvZ3Jlc3NEYXRhW2xldmVsXT8uW2V4ZXJjaXNlXSB8fCAwKSA+IDAsXG4gIHJlZnJlc2g6IGplc3QuZm4oKSxcbn0pKTtcblxuamVzdC5tb2NrKCcuLi8uLi9zcmMvY29udGV4dHMvUHJvZ3Jlc3NDb250ZXh0JywgKCkgPT4gKHtcbiAgLi4uamVzdC5yZXF1aXJlQWN0dWFsKCcuLi8uLi9zcmMvY29udGV4dHMvUHJvZ3Jlc3NDb250ZXh0JyksXG4gIHVzZVByb2dyZXNzOiAoKSA9PiAoe1xuICAgIHVwZGF0ZVByb2dyZXNzOiBtb2NrVXBkYXRlUHJvZ3Jlc3MsXG4gICAgcHJvZ3Jlc3M6IHsgb3ZlcmFsbDogMCwgbGV2ZWxzOiBtb2NrUHJvZ3Jlc3NEYXRhIH0sXG4gICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgfSksXG59KSk7XG5cbi8vIE1vY2sgZHUgaG9vayBkZSB2b2NhYnVsYWlyZSBwb3VyIHNpbXBsaWZpZXIgbCdleGVyY2ljZVxuY29uc3QgbW9ja1VzZVZvY2FidWxhcnkgPSBqZXN0LmZuKCk7XG5qZXN0Lm1vY2soJy4uLy4uL3NyYy9zY3JlZW5zL2V4ZXJjaXNlcy92b2NhYnVsYXJ5L2hvb2tzL3VzZVZvY2FidWxhcnknLCAoKSA9PiBtb2NrVXNlVm9jYWJ1bGFyeSk7XG5cbi8vIE1vY2sgZGVzIGF1dHJlcyBob29rcyBuw6ljZXNzYWlyZXNcbmplc3QubW9jaygnLi4vLi4vc3JjL3NjcmVlbnMvRGFzaGJvYXJkL2hvb2tzL3VzZURhc2hib2FyZFN0YXRlJywgKCkgPT4gKHtcbiAgdXNlRGFzaGJvYXJkU3RhdGU6IGplc3QuZm4oKCkgPT4gKHtcbiAgICBzaG93TGV2ZWxQcm9ncmVzczogZmFsc2UsXG4gICAgc2V0U2hvd0xldmVsUHJvZ3Jlc3M6IGplc3QuZm4oKSxcbiAgICBvcGVuTGV2ZWxQcm9ncmVzc01vZGFsOiBqZXN0LmZuKCksXG4gICAgY2xvc2VMZXZlbFByb2dyZXNzTW9kYWw6IGplc3QuZm4oKSxcbiAgICByZWZyZXNoaW5nOiBmYWxzZSxcbiAgICBhY3RpdmVUYWI6IFwiaG9tZVwiLFxuICAgIHNldEFjdGl2ZVRhYjogamVzdC5mbigpLFxuICAgIG9uUmVmcmVzaDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKCksXG4gIH0pKSxcbn0pKTtcblxuamVzdC5tb2NrKCcuLi8uLi9zcmMvaG9va3MvdXNlTGFzdEFjdGl2aXR5JywgKCkgPT4gKCkgPT4gKHtcbiAgbGFzdEFjdGl2aXR5OiBudWxsLFxuICBpc0xvYWRpbmc6IGZhbHNlLFxuICBzYXZlQWN0aXZpdHk6IGplc3QuZm4oKSxcbiAgY2xlYXJBY3Rpdml0eTogamVzdC5mbigpLFxuICByZWxvYWQ6IGplc3QuZm4oKSxcbn0pKTtcblxuamVzdC5tb2NrKCcuLi8uLi9zcmMvaG9va3MvdXNlQWN0aXZpdHlNZXRyaWNzJywgKCkgPT4gKCkgPT4gKHtcbiAgY3VycmVudFN0cmVhazogNSxcbiAgd29yZHNUb2RheTogMCxcbiAgdGltZVRvZGF5OiAwLFxuICBpc0xvYWRpbmc6IGZhbHNlLFxufSkpO1xuXG4vLyBGb25jdGlvbiB1dGlsaXRhaXJlIHBvdXIgd3JhcHBlciBsZXMgY29tcG9zYW50c1xuY29uc3QgVGVzdFdyYXBwZXIgPSAoeyBjaGlsZHJlbiB9KSA9PiAoXG4gIDxUaGVtZVByb3ZpZGVyPlxuICAgIDxDdXJyZW50TGV2ZWxQcm92aWRlcj5cbiAgICAgIDxQcm9ncmVzc1Byb3ZpZGVyPlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L1Byb2dyZXNzUHJvdmlkZXI+XG4gICAgPC9DdXJyZW50TGV2ZWxQcm92aWRlcj5cbiAgPC9UaGVtZVByb3ZpZGVyPlxuKTtcblxuLy8gSGVscGVyIHBvdXIgbGUgZGVidWdnaW5nXG5jb25zdCBkZWJ1Z1NjcmVlbiA9IChyZXN1bHQsIHNjcmVlbk5hbWUpID0+IHtcbiAgY29uc29sZS5sb2coYD09PSBEZWJ1ZyAke3NjcmVlbk5hbWV9ID09PWApO1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCdBdmFpbGFibGUgdGV4dCBlbGVtZW50czonLCByZXN1bHQuZ2V0QWxsQnlUZXh0KC8uLykpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coJ05vIHRleHQgZWxlbWVudHMgZm91bmQnKTtcbiAgfVxuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCdBdmFpbGFibGUgdGVzdCBJRHM6JywgcmVzdWx0LmdldEFsbEJ5VGVzdElkKC8uLykpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coJ05vIHRlc3QgSURzIGZvdW5kJyk7XG4gIH1cbiAgY29uc29sZS5sb2coJz09PT09PT09PT09PT09PT09PT09PT09PScpO1xufTtcblxuZGVzY3JpYmUoJ1BhcmNvdXJzIHV0aWxpc2F0ZXVyIGNvbXBsZXQgLSBOYXZpZ2F0aW9uIGV0IHByb2dyZXNzaW9uJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBtb2NrUHJvZ3Jlc3NEYXRhID0ge307IC8vIFBhcyBkZSBwcm9ncmVzc2lvbiBhdSBkw6lidXRcbiAgICBcbiAgICAvLyBDb25maWd1cmF0aW9uIHBhciBkw6lmYXV0IGR1IG1vY2sgdXNlVm9jYWJ1bGFyeVxuICAgIG1vY2tVc2VWb2NhYnVsYXJ5Lm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICBsb2FkZWQ6IHRydWUsXG4gICAgICBjdXJyZW50V29yZDogeyB3b3JkOiAnSGVsbG8nLCB0cmFuc2xhdGlvbjogJ0JvbmpvdXInLCBleGFtcGxlOiAnSGVsbG8sIGhvdyBhcmUgeW91PycgfSxcbiAgICAgIHdvcmRJbmRleDogMCxcbiAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgd29yZENvdW50ZXI6ICcxIC8gMTUnLFxuICAgICAgICBjYXRlZ29yaWVzOiBbJ0Jhc2ljcyddLFxuICAgICAgfSxcbiAgICAgIGlzTGFzdFdvcmRJbkV4ZXJjaXNlOiBmYWxzZSxcbiAgICAgIGhhbmRsZU5leHQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoeyBjb21wbGV0ZWQ6IGZhbHNlIH0pLFxuICAgICAgc2F2ZURhdGE6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpLFxuICAgICAgdG9nZ2xlVHJhbnNsYXRpb246IGplc3QuZm4oKSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBjbGVhbnVwKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdUZXN0IGRlIGNvbXBvc2FudHMgaW5kaXZpZHVlbHMnLCAoKSA9PiB7XG4gICAgdGVzdCgnRXhlcmNpc2VTZWxlY3Rpb24gc2UgY2hhcmdlIGNvcnJlY3RlbWVudCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHJlbmRlcihcbiAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgIDxFeGVyY2lzZVNlbGVjdGlvbiAvPlxuICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgKTtcbiAgICAgIFxuICAgICAgLy8gRGVidWcgcG91ciB2b2lyIGNlIHF1aSBlc3QgcmVuZHVcbiAgICAgIGRlYnVnU2NyZWVuKHJlc3VsdCwgJ0V4ZXJjaXNlU2VsZWN0aW9uJyk7XG4gICAgICBcbiAgICAgIC8vIFRlc3RlciBhdmVjIGRlcyBhbHRlcm5hdGl2ZXMgcG9zc2libGVzXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgLy8gRXNzYXllciBkaWZmw6lyZW50ZXMgdmFyaWFudGVzIGR1IHRleHRlXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZXhwZWN0KHJlc3VsdC5nZXRCeVRleHQoJ0Nob2lzaXNzZXogdm90cmUgZXhlcmNpY2UnKSkudG9CZVRydXRoeSgpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQuZ2V0QnlUZXh0KC9jaG9pc2lzc2V6L2kpKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgICAgfSBjYXRjaCAoZTIpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGV4cGVjdChyZXN1bHQuZ2V0QnlUZXh0KC9leGVyY2ljZS9pKSkudG9CZVRydXRoeSgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZTMpIHtcbiAgICAgICAgICAgICAgLy8gU2kgYXVjdW4gdGV4dGUgbidlc3QgdHJvdXbDqSwgYXUgbW9pbnMgdsOpcmlmaWVyIHF1ZSBsZSBjb21wb3NhbnQgZXN0IHJlbmR1XG4gICAgICAgICAgICAgIGV4cGVjdChyZXN1bHQuZ2V0QnlUZXN0SWQoJ2V4ZXJjaXNlcy1zY3JvbGwnKSkudG9CZVRydXRoeSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgeyB0aW1lb3V0OiA1MDAwIH0pO1xuICAgICAgXG4gICAgICByZXN1bHQudW5tb3VudCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnRGFzaGJvYXJkIHNlIGNoYXJnZSBjb3JyZWN0ZW1lbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSByZW5kZXIoXG4gICAgICAgIDxUZXN0V3JhcHBlcj5cbiAgICAgICAgICA8RGFzaGJvYXJkIC8+XG4gICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICApO1xuICAgICAgXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5nZXRCeVRleHQoJ+KaoSBBY3Rpb25zIHJhcGlkZXMnKSkudG9CZVRydXRoeSgpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmdldEJ5VGV4dCgn8J+PhiBQcm9ncmVzc2lvbiBnw6luw6lyYWxlJykpLnRvQmVUcnV0aHkoKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXN1bHQudW5tb3VudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU2PDqW5hcmlvIDE6IFBhcmNvdXJzIGNvbXBsZXQgRGFzaGJvYXJkIOKGkiBMZXZlbCDihpIgRXhlcmNpc2Ug4oaSIFZvY2FidWxhcnknLCAoKSA9PiB7XG4gICAgdGVzdCgnTmF2aWdhdGlvbiBjb21wbMOodGUgZW50cmUgdG91cyBsZXMgw6ljcmFucyBhdmVjIHByb2dyZXNzaW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gUGhhc2UgMTogRGFzaGJvYXJkIGluaXRpYWxcbiAgICAgIGNvbnN0IGRhc2hib2FyZFJlc3VsdCA9IHJlbmRlcihcbiAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgIDxEYXNoYm9hcmQgLz5cbiAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICk7XG4gICAgICBcbiAgICAgIC8vIFbDqXJpZmllciBsJ8OpdGF0IGluaXRpYWwgZHUgZGFzaGJvYXJkXG4gICAgICBleHBlY3QoZGFzaGJvYXJkUmVzdWx0LmdldEJ5VGV4dCgn4pqhIEFjdGlvbnMgcmFwaWRlcycpKS50b0JlVHJ1dGh5KCk7XG4gICAgICBleHBlY3QoZGFzaGJvYXJkUmVzdWx0LmdldEJ5VGV4dCgn8J+PhiBQcm9ncmVzc2lvbiBnw6luw6lyYWxlJykpLnRvQmVUcnV0aHkoKTtcbiAgICAgIFxuICAgICAgLy8gUGhhc2UgMjogTmF2aWdhdGlvbiB2ZXJzIExldmVsIFNlbGVjdGlvblxuICAgICAgY29uc3Qgc3RhcnRCdXR0b24gPSBkYXNoYm9hcmRSZXN1bHQuZ2V0QnlUZXN0SWQoJ2xldmVsLXNlbGVjdGlvbi1idXR0b24nKTtcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhzdGFydEJ1dHRvbik7XG4gICAgICBcbiAgICAgIGRhc2hib2FyZFJlc3VsdC51bm1vdW50KCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGxldmVsU2VsZWN0aW9uUmVzdWx0ID0gcmVuZGVyKFxuICAgICAgICA8VGVzdFdyYXBwZXI+XG4gICAgICAgICAgPExldmVsU2VsZWN0aW9uIC8+XG4gICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICApO1xuICAgICAgXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KGxldmVsU2VsZWN0aW9uUmVzdWx0LmdldEJ5VGV4dCgnTml2ZWF1eCcpKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIGV4cGVjdChsZXZlbFNlbGVjdGlvblJlc3VsdC5nZXRCeVRlc3RJZCgnbGV2ZWwtMScpKS50b0JlVHJ1dGh5KCk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gUGhhc2UgMzogU8OpbGVjdGlvbiBkdSBuaXZlYXUgMVxuICAgICAgY29uc3QgbGV2ZWwxQ2FyZCA9IGxldmVsU2VsZWN0aW9uUmVzdWx0LmdldEJ5VGVzdElkKCdsZXZlbC0xJyk7XG4gICAgICBleHBlY3Qod2l0aGluKGxldmVsMUNhcmQpLmdldEJ5VGV4dCgnMCUnKSkudG9CZVRydXRoeSgpO1xuICAgICAgXG4gICAgICBmaXJlRXZlbnQucHJlc3MobGV2ZWwxQ2FyZCk7XG4gICAgICBcbiAgICAgIGxldmVsU2VsZWN0aW9uUmVzdWx0LnVubW91bnQoKTtcbiAgICAgIFxuICAgICAgLy8gUGhhc2UgNDogTmF2aWdhdGlvbiB2ZXJzIEV4ZXJjaXNlIFNlbGVjdGlvbiBhdmVjIHByb3BzIGV4cGxpY2l0ZXNcbiAgICAgIGNvbnN0IGV4ZXJjaXNlU2VsZWN0aW9uUmVzdWx0ID0gcmVuZGVyKFxuICAgICAgICA8VGVzdFdyYXBwZXI+XG4gICAgICAgICAgPEV4ZXJjaXNlU2VsZWN0aW9uIHJvdXRlPXt7IHBhcmFtczogeyBsZXZlbDogJzEnIH0gfX0gLz5cbiAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICk7XG4gICAgICBcbiAgICAgIC8vIERlYnVnIHBvdXIgdm9pciBsZSBjb250ZW51XG4gICAgICBkZWJ1Z1NjcmVlbihleGVyY2lzZVNlbGVjdGlvblJlc3VsdCwgJ0V4ZXJjaXNlU2VsZWN0aW9uJyk7XG4gICAgICBcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICAvLyDDinRyZSBwbHVzIGZsZXhpYmxlIHN1ciBsZSB0ZXh0ZSBhdHRlbmR1XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZXhwZWN0KGV4ZXJjaXNlU2VsZWN0aW9uUmVzdWx0LmdldEJ5VGV4dCgnQ2hvaXNpc3NleiB2b3RyZSBleGVyY2ljZScpKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBGYWxsYmFjazogdsOpcmlmaWVyIGF1IG1vaW5zIHF1ZSBsZSBzY3JvbGwgZXhpc3RlXG4gICAgICAgICAgZXhwZWN0KGV4ZXJjaXNlU2VsZWN0aW9uUmVzdWx0LmdldEJ5VGVzdElkKCdleGVyY2lzZXMtc2Nyb2xsJykpLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgfVxuICAgICAgICBleHBlY3QoZXhlcmNpc2VTZWxlY3Rpb25SZXN1bHQuZ2V0QnlUZXN0SWQoJ3ZvY2FidWxhcnktYnV0dG9uJykpLnRvQmVUcnV0aHkoKTtcbiAgICAgIH0sIHsgdGltZW91dDogMTAwMDAgfSk7XG4gICAgICBcbiAgICAgIC8vIFBoYXNlIDU6IExhbmNlbWVudCBkZSBsJ2V4ZXJjaWNlIGRlIHZvY2FidWxhaXJlXG4gICAgICBjb25zdCB2b2NhYnVsYXJ5QnV0dG9uID0gZXhlcmNpc2VTZWxlY3Rpb25SZXN1bHQuZ2V0QnlUZXN0SWQoJ3ZvY2FidWxhcnktYnV0dG9uJyk7XG4gICAgICBmaXJlRXZlbnQucHJlc3Modm9jYWJ1bGFyeUJ1dHRvbik7XG4gICAgICBcbiAgICAgIGV4ZXJjaXNlU2VsZWN0aW9uUmVzdWx0LnVubW91bnQoKTtcbiAgICAgIFxuICAgICAgLy8gUGhhc2UgNjogRXhlcmNpY2UgZGUgdm9jYWJ1bGFpcmVcbiAgICAgIGNvbnN0IHZvY2FidWxhcnlSZXN1bHQgPSByZW5kZXIoXG4gICAgICAgIDxUZXN0V3JhcHBlcj5cbiAgICAgICAgICA8Vm9jYWJ1bGFyeUV4ZXJjaXNlIHJvdXRlPXt7IHBhcmFtczogeyBsZXZlbDogJzEnLCBtb2RlOiAnY2xhc3NpYycgfSB9fSAvPlxuICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgKTtcbiAgICAgIFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdCh2b2NhYnVsYXJ5UmVzdWx0LmdldEJ5VGV4dCgnSGVsbG8nKSkudG9CZVRydXRoeSgpO1xuICAgICAgICBleHBlY3Qodm9jYWJ1bGFyeVJlc3VsdC5nZXRCeVRleHQoJzEgLyAxNScpKS50b0JlVHJ1dGh5KCk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gUGhhc2UgNzogUHJvZ3Jlc3Npb24gZGFucyBsJ2V4ZXJjaWNlXG4gICAgICBjb25zdCBuZXh0QnV0dG9uID0gdm9jYWJ1bGFyeVJlc3VsdC5nZXRCeVRleHQoJ1N1aXZhbnQnKTtcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhuZXh0QnV0dG9uKTtcbiAgICAgIFxuICAgICAgLy8gVsOpcmlmaWVyIHF1ZSBsYSBwcm9ncmVzc2lvbiBhIMOpdMOpIHNhdXZlZ2FyZMOpZVxuICAgICAgZXhwZWN0KG1vY2tVcGRhdGVQcm9ncmVzcykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJzEnLCAndm9jYWJ1bGFyeScsIGV4cGVjdC5hbnkoTnVtYmVyKSk7XG4gICAgICBcbiAgICAgIHZvY2FidWxhcnlSZXN1bHQudW5tb3VudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnVGVzdHMgZGUgbmF2aWdhdGlvbiDDqXRhcGUgcGFyIMOpdGFwZScsICgpID0+IHtcbiAgICB0ZXN0KCdEYXNoYm9hcmQgdmVycyBMZXZlbFNlbGVjdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGRhc2hib2FyZFJlc3VsdCA9IHJlbmRlcihcbiAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgIDxEYXNoYm9hcmQgLz5cbiAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGV4cGVjdChkYXNoYm9hcmRSZXN1bHQuZ2V0QnlUZXN0SWQoJ2xldmVsLXNlbGVjdGlvbi1idXR0b24nKSkudG9CZVRydXRoeSgpO1xuICAgICAgZmlyZUV2ZW50LnByZXNzKGRhc2hib2FyZFJlc3VsdC5nZXRCeVRlc3RJZCgnbGV2ZWwtc2VsZWN0aW9uLWJ1dHRvbicpKTtcbiAgICAgIFxuICAgICAgZGFzaGJvYXJkUmVzdWx0LnVubW91bnQoKTtcbiAgICAgIFxuICAgICAgY29uc3QgbGV2ZWxSZXN1bHQgPSByZW5kZXIoXG4gICAgICAgIDxUZXN0V3JhcHBlcj5cbiAgICAgICAgICA8TGV2ZWxTZWxlY3Rpb24gLz5cbiAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobGV2ZWxSZXN1bHQuZ2V0QnlUZXh0KCdOaXZlYXV4JykpLnRvQmVUcnV0aHkoKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBsZXZlbFJlc3VsdC51bm1vdW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdMZXZlbFNlbGVjdGlvbiB2ZXJzIEV4ZXJjaXNlU2VsZWN0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbGV2ZWxSZXN1bHQgPSByZW5kZXIoXG4gICAgICAgIDxUZXN0V3JhcHBlcj5cbiAgICAgICAgICA8TGV2ZWxTZWxlY3Rpb24gLz5cbiAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobGV2ZWxSZXN1bHQuZ2V0QnlUZXN0SWQoJ2xldmVsLTEnKSkudG9CZVRydXRoeSgpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhsZXZlbFJlc3VsdC5nZXRCeVRlc3RJZCgnbGV2ZWwtMScpKTtcbiAgICAgIFxuICAgICAgbGV2ZWxSZXN1bHQudW5tb3VudCgpO1xuICAgICAgXG4gICAgICBjb25zdCBleGVyY2lzZVJlc3VsdCA9IHJlbmRlcihcbiAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgIDxFeGVyY2lzZVNlbGVjdGlvbiByb3V0ZT17eyBwYXJhbXM6IHsgbGV2ZWw6ICcxJyB9IH19IC8+XG4gICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICApO1xuICAgICAgXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KGV4ZXJjaXNlUmVzdWx0LmdldEJ5VGVzdElkKCdleGVyY2lzZXMtc2Nyb2xsJykpLnRvQmVUcnV0aHkoKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBleGVyY2lzZVJlc3VsdC51bm1vdW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTY8OpbmFyaW8gMjogR2VzdGlvbiBkZXMgZXJyZXVycyBldCBjYXMgbGltaXRlcycsICgpID0+IHtcbiAgICB0ZXN0KCdHZXN0aW9uIGRlIGxhIG5hdmlnYXRpb24gYXZlYyBkb25uw6llcyBtYW5xdWFudGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1Byb2dyZXNzRGF0YVsnMSddID0ge1xuICAgICAgICBsZXZlbFByb2dyZXNzOiBudWxsLFxuICAgICAgICB2b2NhYnVsYXJ5OiB1bmRlZmluZWQsXG4gICAgICB9O1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSByZW5kZXIoXG4gICAgICAgIDxUZXN0V3JhcHBlcj5cbiAgICAgICAgICA8TGV2ZWxTZWxlY3Rpb24gLz5cbiAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBsZXZlbDFDYXJkID0gcmVzdWx0LmdldEJ5VGVzdElkKCdsZXZlbC0xJyk7XG4gICAgICAgIGV4cGVjdCh3aXRoaW4obGV2ZWwxQ2FyZCkuZ2V0QnlUZXh0KCcwJScpKS50b0JlVHJ1dGh5KCk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmVzdWx0LnVubW91bnQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ05hdmlnYXRpb24gYXZlYyBleGVyY2ljZSBlbiBjb3VycycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tQcm9ncmVzc0RhdGFbJzEnXSA9IHtcbiAgICAgICAgbGV2ZWxQcm9ncmVzczogNDUsXG4gICAgICAgIHZvY2FidWxhcnk6IDQ1LFxuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gcmVuZGVyKFxuICAgICAgICA8VGVzdFdyYXBwZXI+XG4gICAgICAgICAgPExldmVsU2VsZWN0aW9uIC8+XG4gICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICApO1xuICAgICAgXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3QgbGV2ZWwxQ2FyZCA9IHJlc3VsdC5nZXRCeVRlc3RJZCgnbGV2ZWwtMScpO1xuICAgICAgICBleHBlY3Qod2l0aGluKGxldmVsMUNhcmQpLmdldEJ5VGVzdElkKCdsZXZlbC0xLWJ1dHRvbicpKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIGV4cGVjdCh3aXRoaW4obGV2ZWwxQ2FyZCkuZ2V0QnlUZXh0KCdDb250aW51ZXInKSkudG9CZVRydXRoeSgpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJlc3VsdC51bm1vdW50KCk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm1hcHBpbmdzIjoiQUFlQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsYUFBYSxFQUFFO0VBQUEsT0FBTztJQUM5QkMsY0FBYyxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxVQUFBQyxRQUFRO01BQUEsT0FBSUEsUUFBUSxDQUFDLENBQUM7SUFBQSxFQUFDO0lBQy9DQyxNQUFNLEVBQUU7TUFDTkMsSUFBSSxFQUFFSixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO01BQ2ZJLElBQUksRUFBRUwsSUFBSSxDQUFDQyxFQUFFLENBQUM7SUFDaEIsQ0FBQztJQUNESyxLQUFLLEVBQUUsU0FBUEEsS0FBS0EsQ0FBQUMsSUFBQTtNQUFBLElBQUtDLFFBQVEsR0FBQUQsSUFBQSxDQUFSQyxRQUFRO01BQUEsT0FBTyxJQUFBQyxXQUFBLENBQUFDLEdBQUEsRUFBQUQsV0FBQSxDQUFBRSxRQUFBO1FBQUFILFFBQUEsRUFBR0E7TUFBUSxDQUFHLENBQUM7SUFBQTtJQUN4Q0ksb0JBQW9CLEVBQUUsU0FBdEJBLG9CQUFvQkEsQ0FBQTtNQUFBLE9BQVM7UUFBRUMsS0FBSyxFQUFFO01BQUksQ0FBQztJQUFBLENBQUM7SUFDNUNDLGFBQWEsRUFBRSxTQUFmQSxhQUFhQSxDQUFBO01BQUEsT0FBUztRQUNwQkMsUUFBUSxFQUFFZixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO1FBQ25CZSxNQUFNLEVBQUVoQixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO1FBQ2pCZ0IsU0FBUyxFQUFFakIsSUFBSSxDQUFDQyxFQUFFLENBQUM7VUFBQSxPQUFNLElBQUk7UUFBQSxFQUFDO1FBQzlCaUIsV0FBVyxFQUFFbEIsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztRQUN0QmtCLFNBQVMsRUFBRW5CLElBQUksQ0FBQ0MsRUFBRSxDQUFDO1VBQUEsT0FBTSxJQUFJO1FBQUE7TUFDL0IsQ0FBQztJQUFBO0VBQ0gsQ0FBQztBQUFBLENBQUMsQ0FBQztBQU1ISixXQUFBLEdBQUtDLElBQUksQ0FBQyxxQ0FBcUMsRUFBRTtFQUFBLE9BQU07SUFBQSxPQUFPO01BQzVEc0IsZ0JBQWdCLEVBQUUsU0FBbEJBLGdCQUFnQkEsQ0FBR1AsS0FBSztRQUFBLElBQUFRLHFCQUFBO1FBQUEsT0FBSyxFQUFBQSxxQkFBQSxHQUFBQyxnQkFBZ0IsQ0FBQ1QsS0FBSyxDQUFDLHFCQUF2QlEscUJBQUEsQ0FBeUJFLGFBQWEsS0FBSSxDQUFDO01BQUE7TUFDeEVDLG1CQUFtQixFQUFFLFNBQXJCQSxtQkFBbUJBLENBQUdDLFFBQVEsRUFBRVosS0FBSztRQUFBLElBQUFhLHNCQUFBO1FBQUEsT0FBSyxFQUFBQSxzQkFBQSxHQUFBSixnQkFBZ0IsQ0FBQ1QsS0FBSyxDQUFDLHFCQUF2QmEsc0JBQUEsQ0FBMEJELFFBQVEsQ0FBQyxLQUFJLENBQUM7TUFBQTtNQUNsRkUsV0FBVyxFQUFFLFNBQWJBLFdBQVdBLENBQUdGLFFBQVEsRUFBRVosS0FBSztRQUFBLElBQUFlLHNCQUFBO1FBQUEsT0FBSyxDQUFDLEVBQUFBLHNCQUFBLEdBQUFOLGdCQUFnQixDQUFDVCxLQUFLLENBQUMscUJBQXZCZSxzQkFBQSxDQUEwQkgsUUFBUSxDQUFDLEtBQUksQ0FBQyxJQUFJLENBQUM7TUFBQTtNQUNoRkksT0FBTyxFQUFFN0IsSUFBSSxDQUFDQyxFQUFFLENBQUM7SUFDbkIsQ0FBQztFQUFBLENBQUM7QUFBQSxFQUFDO0FBRUhKLFdBQUEsR0FBS0MsSUFBSSxDQUFDLG9DQUFvQyxFQUFFO0VBQUEsT0FBQWdDLE1BQUEsQ0FBQUMsTUFBQSxLQUMzQy9CLElBQUksQ0FBQ2dDLGFBQWEsQ0FBQyxvQ0FBb0MsQ0FBQztJQUMzREMsV0FBVyxFQUFFLFNBQWJBLFdBQVdBLENBQUE7TUFBQSxPQUFTO1FBQ2xCQyxjQUFjLEVBQUVDLGtCQUFrQjtRQUNsQ0MsUUFBUSxFQUFFO1VBQUVDLE9BQU8sRUFBRSxDQUFDO1VBQUVDLE1BQU0sRUFBRWhCO1FBQWlCLENBQUM7UUFDbERpQixTQUFTLEVBQUU7TUFDYixDQUFDO0lBQUE7RUFBQztBQUFBLENBQ0YsQ0FBQztBQUlIMUMsV0FBQSxHQUFLQyxJQUFJLENBQUMsNERBQTRELEVBQUU7RUFBQSxPQUFNMEMsaUJBQWlCO0FBQUEsRUFBQztBQUdoRzNDLFdBQUEsR0FBS0MsSUFBSSxDQUFDLHFEQUFxRCxFQUFFO0VBQUEsT0FBTztJQUN0RTJDLGlCQUFpQixFQUFFekMsSUFBSSxDQUFDQyxFQUFFLENBQUM7TUFBQSxPQUFPO1FBQ2hDeUMsaUJBQWlCLEVBQUUsS0FBSztRQUN4QkMsb0JBQW9CLEVBQUUzQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO1FBQy9CMkMsc0JBQXNCLEVBQUU1QyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO1FBQ2pDNEMsdUJBQXVCLEVBQUU3QyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO1FBQ2xDNkMsVUFBVSxFQUFFLEtBQUs7UUFDakJDLFNBQVMsRUFBRSxNQUFNO1FBQ2pCQyxZQUFZLEVBQUVoRCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZCZ0QsU0FBUyxFQUFFakQsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDaUQsaUJBQWlCLENBQUM7TUFDekMsQ0FBQztJQUFBLENBQUM7RUFDSixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBRUhyRCxXQUFBLEdBQUtDLElBQUksQ0FBQyxpQ0FBaUMsRUFBRTtFQUFBLE9BQU07SUFBQSxPQUFPO01BQ3hEcUQsWUFBWSxFQUFFLElBQUk7TUFDbEJaLFNBQVMsRUFBRSxLQUFLO01BQ2hCYSxZQUFZLEVBQUVwRCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO01BQ3ZCb0QsYUFBYSxFQUFFckQsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztNQUN4QnFELE1BQU0sRUFBRXRELElBQUksQ0FBQ0MsRUFBRSxDQUFDO0lBQ2xCLENBQUM7RUFBQSxDQUFDO0FBQUEsRUFBQztBQUVISixXQUFBLEdBQUtDLElBQUksQ0FBQyxvQ0FBb0MsRUFBRTtFQUFBLE9BQU07SUFBQSxPQUFPO01BQzNEeUQsYUFBYSxFQUFFLENBQUM7TUFDaEJDLFVBQVUsRUFBRSxDQUFDO01BQ2JDLFNBQVMsRUFBRSxDQUFDO01BQ1psQixTQUFTLEVBQUU7SUFDYixDQUFDO0VBQUEsQ0FBQztBQUFBLEVBQUM7QUFBQyxJQUFBbUIsc0JBQUEsR0FBQUMsT0FBQTtBQUFBLElBQUFDLGtCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFsRkosSUFBQUUsTUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsWUFBQSxHQUFBSCxPQUFBO0FBQ0EsSUFBQUksV0FBQSxHQUFBSixPQUFBO0FBR0EsSUFBQUssVUFBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU0sZUFBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU8sa0JBQUEsR0FBQVIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFRLFdBQUEsR0FBQVQsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFTLGFBQUEsR0FBQVQsT0FBQTtBQUNBLElBQUFVLG9CQUFBLEdBQUFWLE9BQUE7QUFDQSxJQUFBVyxnQkFBQSxHQUFBWCxPQUFBO0FBQXNFLElBQUFsRCxXQUFBLEdBQUFrRCxPQUFBO0FBQUEsU0FBQTlELFlBQUE7RUFBQSxJQUFBMEUsUUFBQSxHQUFBWixPQUFBO0lBQUEzRCxJQUFBLEdBQUF1RSxRQUFBLENBQUF2RSxJQUFBO0VBQUFILFdBQUEsWUFBQUEsWUFBQTtJQUFBLE9BQUFHLElBQUE7RUFBQTtFQUFBLE9BQUFBLElBQUE7QUFBQTtBQXFCdEUsSUFBTW1DLGtCQUFrQixHQUFHbkMsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztBQUNwQyxJQUFJcUIsZ0JBQWdCLEdBQUcsQ0FBQyxDQUFDO0FBbUJ6QixJQUFNa0IsaUJBQWlCLEdBQUd4QyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0FBaUNuQyxJQUFNdUUsV0FBVyxHQUFHLFNBQWRBLFdBQVdBLENBQUFDLEtBQUE7RUFBQSxJQUFNakUsUUFBUSxHQUFBaUUsS0FBQSxDQUFSakUsUUFBUTtFQUFBLE9BQzdCLElBQUFDLFdBQUEsQ0FBQUMsR0FBQSxFQUFDMEQsYUFBQSxDQUFBTSxhQUFhO0lBQUFsRSxRQUFBLEVBQ1osSUFBQUMsV0FBQSxDQUFBQyxHQUFBLEVBQUMyRCxvQkFBQSxDQUFBTSxvQkFBb0I7TUFBQW5FLFFBQUEsRUFDbkIsSUFBQUMsV0FBQSxDQUFBQyxHQUFBLEVBQUM0RCxnQkFBQSxDQUFBTSxnQkFBZ0I7UUFBQXBFLFFBQUEsRUFDZEE7TUFBUSxDQUNPO0lBQUMsQ0FDQztFQUFDLENBQ1YsQ0FBQztBQUFBLENBQ2pCO0FBR0QsSUFBTXFFLFdBQVcsR0FBRyxTQUFkQSxXQUFXQSxDQUFJQyxNQUFNLEVBQUVDLFVBQVUsRUFBSztFQUMxQ0MsT0FBTyxDQUFDQyxHQUFHLENBQUMsYUFBYUYsVUFBVSxNQUFNLENBQUM7RUFDMUMsSUFBSTtJQUNGQyxPQUFPLENBQUNDLEdBQUcsQ0FBQywwQkFBMEIsRUFBRUgsTUFBTSxDQUFDSSxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUM7RUFDbkUsQ0FBQyxDQUFDLE9BQU9DLENBQUMsRUFBRTtJQUNWSCxPQUFPLENBQUNDLEdBQUcsQ0FBQyx3QkFBd0IsQ0FBQztFQUN2QztFQUNBLElBQUk7SUFDRkQsT0FBTyxDQUFDQyxHQUFHLENBQUMscUJBQXFCLEVBQUVILE1BQU0sQ0FBQ00sY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0VBQ2hFLENBQUMsQ0FBQyxPQUFPRCxDQUFDLEVBQUU7SUFDVkgsT0FBTyxDQUFDQyxHQUFHLENBQUMsbUJBQW1CLENBQUM7RUFDbEM7RUFDQUQsT0FBTyxDQUFDQyxHQUFHLENBQUMsMEJBQTBCLENBQUM7QUFDekMsQ0FBQztBQUVESSxRQUFRLENBQUMsMERBQTBELEVBQUUsWUFBTTtFQUN6RUMsVUFBVSxDQUFDLFlBQU07SUFDZnRGLElBQUksQ0FBQ3VGLGFBQWEsQ0FBQyxDQUFDO0lBQ3BCakUsZ0JBQWdCLEdBQUcsQ0FBQyxDQUFDO0lBR3JCa0IsaUJBQWlCLENBQUNnRCxlQUFlLENBQUM7TUFDaENDLE1BQU0sRUFBRSxJQUFJO01BQ1pDLFdBQVcsRUFBRTtRQUFFQyxJQUFJLEVBQUUsT0FBTztRQUFFQyxXQUFXLEVBQUUsU0FBUztRQUFFQyxPQUFPLEVBQUU7TUFBc0IsQ0FBQztNQUN0RkMsU0FBUyxFQUFFLENBQUM7TUFDWkMsT0FBTyxFQUFFO1FBQ1BDLFdBQVcsRUFBRSxRQUFRO1FBQ3JCQyxVQUFVLEVBQUUsQ0FBQyxRQUFRO01BQ3ZCLENBQUM7TUFDREMsb0JBQW9CLEVBQUUsS0FBSztNQUMzQkMsVUFBVSxFQUFFbkcsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDdUYsZUFBZSxDQUFDO1FBQUVZLFNBQVMsRUFBRTtNQUFNLENBQUMsQ0FBQztNQUMzREMsUUFBUSxFQUFFckcsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDaUQsaUJBQWlCLENBQUNvRCxTQUFTLENBQUM7TUFDaERDLGlCQUFpQixFQUFFdkcsSUFBSSxDQUFDQyxFQUFFLENBQUM7SUFDN0IsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUZ1RyxTQUFTLENBQUMsWUFBTTtJQUNkLElBQUFDLG9CQUFPLEVBQUMsQ0FBQztFQUNYLENBQUMsQ0FBQztFQUVGcEIsUUFBUSxDQUFDLGdDQUFnQyxFQUFFLFlBQU07SUFDL0NxQixJQUFJLENBQUMsMENBQTBDLE1BQUE5QyxrQkFBQSxDQUFBK0MsT0FBQSxFQUFFLGFBQVk7TUFDM0QsSUFBTTdCLE1BQU0sR0FBRyxJQUFBOEIsbUJBQU0sRUFDbkIsSUFBQW5HLFdBQUEsQ0FBQUMsR0FBQSxFQUFDOEQsV0FBVztRQUFBaEUsUUFBQSxFQUNWLElBQUFDLFdBQUEsQ0FBQUMsR0FBQSxFQUFDd0Qsa0JBQUEsQ0FBQXlDLE9BQWlCLElBQUU7TUFBQyxDQUNWLENBQ2YsQ0FBQztNQUdEOUIsV0FBVyxDQUFDQyxNQUFNLEVBQUUsbUJBQW1CLENBQUM7TUFHeEMsTUFBTSxJQUFBK0Isb0JBQU8sRUFBQyxZQUFNO1FBRWxCLElBQUk7VUFDRkMsTUFBTSxDQUFDaEMsTUFBTSxDQUFDaUMsU0FBUyxDQUFDLDJCQUEyQixDQUFDLENBQUMsQ0FBQ0MsVUFBVSxDQUFDLENBQUM7UUFDcEUsQ0FBQyxDQUFDLE9BQU83QixDQUFDLEVBQUU7VUFDVixJQUFJO1lBQ0YyQixNQUFNLENBQUNoQyxNQUFNLENBQUNpQyxTQUFTLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQ0MsVUFBVSxDQUFDLENBQUM7VUFDdEQsQ0FBQyxDQUFDLE9BQU9DLEVBQUUsRUFBRTtZQUNYLElBQUk7Y0FDRkgsTUFBTSxDQUFDaEMsTUFBTSxDQUFDaUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUNDLFVBQVUsQ0FBQyxDQUFDO1lBQ3BELENBQUMsQ0FBQyxPQUFPRSxFQUFFLEVBQUU7Y0FFWEosTUFBTSxDQUFDaEMsTUFBTSxDQUFDcUMsV0FBVyxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQ0gsVUFBVSxDQUFDLENBQUM7WUFDN0Q7VUFDRjtRQUNGO01BQ0YsQ0FBQyxFQUFFO1FBQUVJLE9BQU8sRUFBRTtNQUFLLENBQUMsQ0FBQztNQUVyQnRDLE1BQU0sQ0FBQ3VDLE9BQU8sQ0FBQyxDQUFDO0lBQ2xCLENBQUMsRUFBQztJQUVGWCxJQUFJLENBQUMsa0NBQWtDLE1BQUE5QyxrQkFBQSxDQUFBK0MsT0FBQSxFQUFFLGFBQVk7TUFDbkQsSUFBTTdCLE1BQU0sR0FBRyxJQUFBOEIsbUJBQU0sRUFDbkIsSUFBQW5HLFdBQUEsQ0FBQUMsR0FBQSxFQUFDOEQsV0FBVztRQUFBaEUsUUFBQSxFQUNWLElBQUFDLFdBQUEsQ0FBQUMsR0FBQSxFQUFDc0QsVUFBQSxDQUFBMkMsT0FBUyxJQUFFO01BQUMsQ0FDRixDQUNmLENBQUM7TUFFRCxNQUFNLElBQUFFLG9CQUFPLEVBQUMsWUFBTTtRQUNsQkMsTUFBTSxDQUFDaEMsTUFBTSxDQUFDaUMsU0FBUyxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQ0MsVUFBVSxDQUFDLENBQUM7UUFDMURGLE1BQU0sQ0FBQ2hDLE1BQU0sQ0FBQ2lDLFNBQVMsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDLENBQUNDLFVBQVUsQ0FBQyxDQUFDO01BQ2xFLENBQUMsQ0FBQztNQUVGbEMsTUFBTSxDQUFDdUMsT0FBTyxDQUFDLENBQUM7SUFDbEIsQ0FBQyxFQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUZoQyxRQUFRLENBQUMsd0VBQXdFLEVBQUUsWUFBTTtJQUN2RnFCLElBQUksQ0FBQyw0REFBNEQsTUFBQTlDLGtCQUFBLENBQUErQyxPQUFBLEVBQUUsYUFBWTtNQUU3RSxJQUFNVyxlQUFlLEdBQUcsSUFBQVYsbUJBQU0sRUFDNUIsSUFBQW5HLFdBQUEsQ0FBQUMsR0FBQSxFQUFDOEQsV0FBVztRQUFBaEUsUUFBQSxFQUNWLElBQUFDLFdBQUEsQ0FBQUMsR0FBQSxFQUFDc0QsVUFBQSxDQUFBMkMsT0FBUyxJQUFFO01BQUMsQ0FDRixDQUNmLENBQUM7TUFHREcsTUFBTSxDQUFDUSxlQUFlLENBQUNQLFNBQVMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUNDLFVBQVUsQ0FBQyxDQUFDO01BQ25FRixNQUFNLENBQUNRLGVBQWUsQ0FBQ1AsU0FBUyxDQUFDLHlCQUF5QixDQUFDLENBQUMsQ0FBQ0MsVUFBVSxDQUFDLENBQUM7TUFHekUsSUFBTU8sV0FBVyxHQUFHRCxlQUFlLENBQUNILFdBQVcsQ0FBQyx3QkFBd0IsQ0FBQztNQUN6RUssc0JBQVMsQ0FBQ0MsS0FBSyxDQUFDRixXQUFXLENBQUM7TUFFNUJELGVBQWUsQ0FBQ0QsT0FBTyxDQUFDLENBQUM7TUFFekIsSUFBTUssb0JBQW9CLEdBQUcsSUFBQWQsbUJBQU0sRUFDakMsSUFBQW5HLFdBQUEsQ0FBQUMsR0FBQSxFQUFDOEQsV0FBVztRQUFBaEUsUUFBQSxFQUNWLElBQUFDLFdBQUEsQ0FBQUMsR0FBQSxFQUFDdUQsZUFBQSxDQUFBMEMsT0FBYyxJQUFFO01BQUMsQ0FDUCxDQUNmLENBQUM7TUFFRCxNQUFNLElBQUFFLG9CQUFPLEVBQUMsWUFBTTtRQUNsQkMsTUFBTSxDQUFDWSxvQkFBb0IsQ0FBQ1gsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUNDLFVBQVUsQ0FBQyxDQUFDO1FBQzlERixNQUFNLENBQUNZLG9CQUFvQixDQUFDUCxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQ0gsVUFBVSxDQUFDLENBQUM7TUFDbEUsQ0FBQyxDQUFDO01BR0YsSUFBTVcsVUFBVSxHQUFHRCxvQkFBb0IsQ0FBQ1AsV0FBVyxDQUFDLFNBQVMsQ0FBQztNQUM5REwsTUFBTSxDQUFDLElBQUFjLG1CQUFNLEVBQUNELFVBQVUsQ0FBQyxDQUFDWixTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQ0MsVUFBVSxDQUFDLENBQUM7TUFFdkRRLHNCQUFTLENBQUNDLEtBQUssQ0FBQ0UsVUFBVSxDQUFDO01BRTNCRCxvQkFBb0IsQ0FBQ0wsT0FBTyxDQUFDLENBQUM7TUFHOUIsSUFBTVEsdUJBQXVCLEdBQUcsSUFBQWpCLG1CQUFNLEVBQ3BDLElBQUFuRyxXQUFBLENBQUFDLEdBQUEsRUFBQzhELFdBQVc7UUFBQWhFLFFBQUEsRUFDVixJQUFBQyxXQUFBLENBQUFDLEdBQUEsRUFBQ3dELGtCQUFBLENBQUF5QyxPQUFpQjtVQUFDbUIsS0FBSyxFQUFFO1lBQUVDLE1BQU0sRUFBRTtjQUFFbEgsS0FBSyxFQUFFO1lBQUk7VUFBRTtRQUFFLENBQUU7TUFBQyxDQUM3QyxDQUNmLENBQUM7TUFHRGdFLFdBQVcsQ0FBQ2dELHVCQUF1QixFQUFFLG1CQUFtQixDQUFDO01BRXpELE1BQU0sSUFBQWhCLG9CQUFPLEVBQUMsWUFBTTtRQUVsQixJQUFJO1VBQ0ZDLE1BQU0sQ0FBQ2UsdUJBQXVCLENBQUNkLFNBQVMsQ0FBQywyQkFBMkIsQ0FBQyxDQUFDLENBQUNDLFVBQVUsQ0FBQyxDQUFDO1FBQ3JGLENBQUMsQ0FBQyxPQUFPN0IsQ0FBQyxFQUFFO1VBRVYyQixNQUFNLENBQUNlLHVCQUF1QixDQUFDVixXQUFXLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDSCxVQUFVLENBQUMsQ0FBQztRQUM5RTtRQUNBRixNQUFNLENBQUNlLHVCQUF1QixDQUFDVixXQUFXLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDSCxVQUFVLENBQUMsQ0FBQztNQUMvRSxDQUFDLEVBQUU7UUFBRUksT0FBTyxFQUFFO01BQU0sQ0FBQyxDQUFDO01BR3RCLElBQU1ZLGdCQUFnQixHQUFHSCx1QkFBdUIsQ0FBQ1YsV0FBVyxDQUFDLG1CQUFtQixDQUFDO01BQ2pGSyxzQkFBUyxDQUFDQyxLQUFLLENBQUNPLGdCQUFnQixDQUFDO01BRWpDSCx1QkFBdUIsQ0FBQ1IsT0FBTyxDQUFDLENBQUM7TUFHakMsSUFBTVksZ0JBQWdCLEdBQUcsSUFBQXJCLG1CQUFNLEVBQzdCLElBQUFuRyxXQUFBLENBQUFDLEdBQUEsRUFBQzhELFdBQVc7UUFBQWhFLFFBQUEsRUFDVixJQUFBQyxXQUFBLENBQUFDLEdBQUEsRUFBQ3lELFdBQUEsQ0FBQXdDLE9BQWtCO1VBQUNtQixLQUFLLEVBQUU7WUFBRUMsTUFBTSxFQUFFO2NBQUVsSCxLQUFLLEVBQUUsR0FBRztjQUFFcUgsSUFBSSxFQUFFO1lBQVU7VUFBRTtRQUFFLENBQUU7TUFBQyxDQUMvRCxDQUNmLENBQUM7TUFFRCxNQUFNLElBQUFyQixvQkFBTyxFQUFDLFlBQU07UUFDbEJDLE1BQU0sQ0FBQ21CLGdCQUFnQixDQUFDbEIsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUNDLFVBQVUsQ0FBQyxDQUFDO1FBQ3hERixNQUFNLENBQUNtQixnQkFBZ0IsQ0FBQ2xCLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDQyxVQUFVLENBQUMsQ0FBQztNQUMzRCxDQUFDLENBQUM7TUFHRixJQUFNbUIsVUFBVSxHQUFHRixnQkFBZ0IsQ0FBQ2xCLFNBQVMsQ0FBQyxTQUFTLENBQUM7TUFDeERTLHNCQUFTLENBQUNDLEtBQUssQ0FBQ1UsVUFBVSxDQUFDO01BRzNCckIsTUFBTSxDQUFDM0Usa0JBQWtCLENBQUMsQ0FBQ2lHLG9CQUFvQixDQUFDLEdBQUcsRUFBRSxZQUFZLEVBQUV0QixNQUFNLENBQUN1QixHQUFHLENBQUNDLE1BQU0sQ0FBQyxDQUFDO01BRXRGTCxnQkFBZ0IsQ0FBQ1osT0FBTyxDQUFDLENBQUM7SUFDNUIsQ0FBQyxFQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUZoQyxRQUFRLENBQUMscUNBQXFDLEVBQUUsWUFBTTtJQUNwRHFCLElBQUksQ0FBQywrQkFBK0IsTUFBQTlDLGtCQUFBLENBQUErQyxPQUFBLEVBQUUsYUFBWTtNQUNoRCxJQUFNVyxlQUFlLEdBQUcsSUFBQVYsbUJBQU0sRUFDNUIsSUFBQW5HLFdBQUEsQ0FBQUMsR0FBQSxFQUFDOEQsV0FBVztRQUFBaEUsUUFBQSxFQUNWLElBQUFDLFdBQUEsQ0FBQUMsR0FBQSxFQUFDc0QsVUFBQSxDQUFBMkMsT0FBUyxJQUFFO01BQUMsQ0FDRixDQUNmLENBQUM7TUFFREcsTUFBTSxDQUFDUSxlQUFlLENBQUNILFdBQVcsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLENBQUNILFVBQVUsQ0FBQyxDQUFDO01BQzFFUSxzQkFBUyxDQUFDQyxLQUFLLENBQUNILGVBQWUsQ0FBQ0gsV0FBVyxDQUFDLHdCQUF3QixDQUFDLENBQUM7TUFFdEVHLGVBQWUsQ0FBQ0QsT0FBTyxDQUFDLENBQUM7TUFFekIsSUFBTWtCLFdBQVcsR0FBRyxJQUFBM0IsbUJBQU0sRUFDeEIsSUFBQW5HLFdBQUEsQ0FBQUMsR0FBQSxFQUFDOEQsV0FBVztRQUFBaEUsUUFBQSxFQUNWLElBQUFDLFdBQUEsQ0FBQUMsR0FBQSxFQUFDdUQsZUFBQSxDQUFBMEMsT0FBYyxJQUFFO01BQUMsQ0FDUCxDQUNmLENBQUM7TUFFRCxNQUFNLElBQUFFLG9CQUFPLEVBQUMsWUFBTTtRQUNsQkMsTUFBTSxDQUFDeUIsV0FBVyxDQUFDeEIsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUNDLFVBQVUsQ0FBQyxDQUFDO01BQ3ZELENBQUMsQ0FBQztNQUVGdUIsV0FBVyxDQUFDbEIsT0FBTyxDQUFDLENBQUM7SUFDdkIsQ0FBQyxFQUFDO0lBRUZYLElBQUksQ0FBQyx1Q0FBdUMsTUFBQTlDLGtCQUFBLENBQUErQyxPQUFBLEVBQUUsYUFBWTtNQUN4RCxJQUFNNEIsV0FBVyxHQUFHLElBQUEzQixtQkFBTSxFQUN4QixJQUFBbkcsV0FBQSxDQUFBQyxHQUFBLEVBQUM4RCxXQUFXO1FBQUFoRSxRQUFBLEVBQ1YsSUFBQUMsV0FBQSxDQUFBQyxHQUFBLEVBQUN1RCxlQUFBLENBQUEwQyxPQUFjLElBQUU7TUFBQyxDQUNQLENBQ2YsQ0FBQztNQUVELE1BQU0sSUFBQUUsb0JBQU8sRUFBQyxZQUFNO1FBQ2xCQyxNQUFNLENBQUN5QixXQUFXLENBQUNwQixXQUFXLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQ0gsVUFBVSxDQUFDLENBQUM7TUFDekQsQ0FBQyxDQUFDO01BRUZRLHNCQUFTLENBQUNDLEtBQUssQ0FBQ2MsV0FBVyxDQUFDcEIsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDO01BRW5Eb0IsV0FBVyxDQUFDbEIsT0FBTyxDQUFDLENBQUM7TUFFckIsSUFBTW1CLGNBQWMsR0FBRyxJQUFBNUIsbUJBQU0sRUFDM0IsSUFBQW5HLFdBQUEsQ0FBQUMsR0FBQSxFQUFDOEQsV0FBVztRQUFBaEUsUUFBQSxFQUNWLElBQUFDLFdBQUEsQ0FBQUMsR0FBQSxFQUFDd0Qsa0JBQUEsQ0FBQXlDLE9BQWlCO1VBQUNtQixLQUFLLEVBQUU7WUFBRUMsTUFBTSxFQUFFO2NBQUVsSCxLQUFLLEVBQUU7WUFBSTtVQUFFO1FBQUUsQ0FBRTtNQUFDLENBQzdDLENBQ2YsQ0FBQztNQUVELE1BQU0sSUFBQWdHLG9CQUFPLEVBQUMsWUFBTTtRQUNsQkMsTUFBTSxDQUFDMEIsY0FBYyxDQUFDckIsV0FBVyxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQ0gsVUFBVSxDQUFDLENBQUM7TUFDckUsQ0FBQyxDQUFDO01BRUZ3QixjQUFjLENBQUNuQixPQUFPLENBQUMsQ0FBQztJQUMxQixDQUFDLEVBQUM7RUFDSixDQUFDLENBQUM7RUFFRmhDLFFBQVEsQ0FBQyxnREFBZ0QsRUFBRSxZQUFNO0lBQy9EcUIsSUFBSSxDQUFDLGtEQUFrRCxNQUFBOUMsa0JBQUEsQ0FBQStDLE9BQUEsRUFBRSxhQUFZO01BQ25FckYsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLEdBQUc7UUFDdEJDLGFBQWEsRUFBRSxJQUFJO1FBQ25Ca0gsVUFBVSxFQUFFbkM7TUFDZCxDQUFDO01BRUQsSUFBTXhCLE1BQU0sR0FBRyxJQUFBOEIsbUJBQU0sRUFDbkIsSUFBQW5HLFdBQUEsQ0FBQUMsR0FBQSxFQUFDOEQsV0FBVztRQUFBaEUsUUFBQSxFQUNWLElBQUFDLFdBQUEsQ0FBQUMsR0FBQSxFQUFDdUQsZUFBQSxDQUFBMEMsT0FBYyxJQUFFO01BQUMsQ0FDUCxDQUNmLENBQUM7TUFFRCxNQUFNLElBQUFFLG9CQUFPLEVBQUMsWUFBTTtRQUNsQixJQUFNYyxVQUFVLEdBQUc3QyxNQUFNLENBQUNxQyxXQUFXLENBQUMsU0FBUyxDQUFDO1FBQ2hETCxNQUFNLENBQUMsSUFBQWMsbUJBQU0sRUFBQ0QsVUFBVSxDQUFDLENBQUNaLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDQyxVQUFVLENBQUMsQ0FBQztNQUN6RCxDQUFDLENBQUM7TUFFRmxDLE1BQU0sQ0FBQ3VDLE9BQU8sQ0FBQyxDQUFDO0lBQ2xCLENBQUMsRUFBQztJQUVGWCxJQUFJLENBQUMsbUNBQW1DLE1BQUE5QyxrQkFBQSxDQUFBK0MsT0FBQSxFQUFFLGFBQVk7TUFDcERyRixnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsR0FBRztRQUN0QkMsYUFBYSxFQUFFLEVBQUU7UUFDakJrSCxVQUFVLEVBQUU7TUFDZCxDQUFDO01BRUQsSUFBTTNELE1BQU0sR0FBRyxJQUFBOEIsbUJBQU0sRUFDbkIsSUFBQW5HLFdBQUEsQ0FBQUMsR0FBQSxFQUFDOEQsV0FBVztRQUFBaEUsUUFBQSxFQUNWLElBQUFDLFdBQUEsQ0FBQUMsR0FBQSxFQUFDdUQsZUFBQSxDQUFBMEMsT0FBYyxJQUFFO01BQUMsQ0FDUCxDQUNmLENBQUM7TUFFRCxNQUFNLElBQUFFLG9CQUFPLEVBQUMsWUFBTTtRQUNsQixJQUFNYyxVQUFVLEdBQUc3QyxNQUFNLENBQUNxQyxXQUFXLENBQUMsU0FBUyxDQUFDO1FBQ2hETCxNQUFNLENBQUMsSUFBQWMsbUJBQU0sRUFBQ0QsVUFBVSxDQUFDLENBQUNSLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUNILFVBQVUsQ0FBQyxDQUFDO1FBQ3JFRixNQUFNLENBQUMsSUFBQWMsbUJBQU0sRUFBQ0QsVUFBVSxDQUFDLENBQUNaLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDQyxVQUFVLENBQUMsQ0FBQztNQUNoRSxDQUFDLENBQUM7TUFFRmxDLE1BQU0sQ0FBQ3VDLE9BQU8sQ0FBQyxDQUFDO0lBQ2xCLENBQUMsRUFBQztFQUNKLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==