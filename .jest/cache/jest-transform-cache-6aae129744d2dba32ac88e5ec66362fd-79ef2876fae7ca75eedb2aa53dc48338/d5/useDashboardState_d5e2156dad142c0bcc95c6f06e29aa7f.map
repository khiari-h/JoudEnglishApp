{"version":3,"names":["_react","require","useDashboardState","exports","loadLastActivities","_useState","useState","_useState2","_slicedToArray2","default","showLevelProgress","setShowLevelProgress","_useState3","_useState4","refreshing","setRefreshing","_useState5","_useState6","activeTab","setActiveTab","onRefresh","useCallback","_asyncToGenerator2","error","console","warn","openLevelProgressModal","closeLevelProgressModal"],"sources":["useDashboardState.js"],"sourcesContent":["// src/screens/Dashboard/hooks/useDashboardState.js - VERSION CORRIGÉE\n\nimport { useState, useCallback } from \"react\";\n\nexport const useDashboardState = (loadLastActivities) => {\n  const [showLevelProgress, setShowLevelProgress] = useState(false);\n  const [refreshing, setRefreshing] = useState(false);\n  const [activeTab, setActiveTab] = useState(\"home\");\n\n  // Gérer le pull-to-refresh optimisé\n  const onRefresh = useCallback(async () => {\n    setRefreshing(true);\n    try {\n      await loadLastActivities();\n    } catch (error) {\n      // ✅ Gestion d'erreur appropriée\n      console.warn('Error refreshing dashboard activities:', error);\n      // Fallback: continuer même si le refresh échoue\n    } finally {\n      setRefreshing(false);\n    }\n  }, [loadLastActivities]);\n\n  // Gestionnaires pour la modal de progression\n  const openLevelProgressModal = useCallback(() => {\n    setShowLevelProgress(true);\n  }, []);\n\n  const closeLevelProgressModal = useCallback(() => {\n    setShowLevelProgress(false);\n  }, []);\n\n  return {\n    showLevelProgress,\n    setShowLevelProgress,\n    openLevelProgressModal,\n    closeLevelProgressModal,\n    refreshing,\n    activeTab,\n    setActiveTab,\n    onRefresh,\n  };\n};\n\n"],"mappings":";;;;;;;AAEA,IAAAA,MAAA,GAAAC,OAAA;AAEO,IAAMC,iBAAiB,GAAAC,OAAA,CAAAD,iBAAA,GAAG,SAApBA,iBAAiBA,CAAIE,kBAAkB,EAAK;EACvD,IAAAC,SAAA,GAAkD,IAAAC,eAAQ,EAAC,KAAK,CAAC;IAAAC,UAAA,OAAAC,eAAA,CAAAC,OAAA,EAAAJ,SAAA;IAA1DK,iBAAiB,GAAAH,UAAA;IAAEI,oBAAoB,GAAAJ,UAAA;EAC9C,IAAAK,UAAA,GAAoC,IAAAN,eAAQ,EAAC,KAAK,CAAC;IAAAO,UAAA,OAAAL,eAAA,CAAAC,OAAA,EAAAG,UAAA;IAA5CE,UAAU,GAAAD,UAAA;IAAEE,aAAa,GAAAF,UAAA;EAChC,IAAAG,UAAA,GAAkC,IAAAV,eAAQ,EAAC,MAAM,CAAC;IAAAW,UAAA,OAAAT,eAAA,CAAAC,OAAA,EAAAO,UAAA;IAA3CE,SAAS,GAAAD,UAAA;IAAEE,YAAY,GAAAF,UAAA;EAG9B,IAAMG,SAAS,GAAG,IAAAC,kBAAW,MAAAC,kBAAA,CAAAb,OAAA,EAAC,aAAY;IACxCM,aAAa,CAAC,IAAI,CAAC;IACnB,IAAI;MACF,MAAMX,kBAAkB,CAAC,CAAC;IAC5B,CAAC,CAAC,OAAOmB,KAAK,EAAE;MAEdC,OAAO,CAACC,IAAI,CAAC,wCAAwC,EAAEF,KAAK,CAAC;IAE/D,CAAC,SAAS;MACRR,aAAa,CAAC,KAAK,CAAC;IACtB;EACF,CAAC,GAAE,CAACX,kBAAkB,CAAC,CAAC;EAGxB,IAAMsB,sBAAsB,GAAG,IAAAL,kBAAW,EAAC,YAAM;IAC/CV,oBAAoB,CAAC,IAAI,CAAC;EAC5B,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMgB,uBAAuB,GAAG,IAAAN,kBAAW,EAAC,YAAM;IAChDV,oBAAoB,CAAC,KAAK,CAAC;EAC7B,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IACLD,iBAAiB,EAAjBA,iBAAiB;IACjBC,oBAAoB,EAApBA,oBAAoB;IACpBe,sBAAsB,EAAtBA,sBAAsB;IACtBC,uBAAuB,EAAvBA,uBAAuB;IACvBb,UAAU,EAAVA,UAAU;IACVI,SAAS,EAATA,SAAS;IACTC,YAAY,EAAZA,YAAY;IACZC,SAAS,EAATA;EACF,CAAC;AACH,CAAC","ignoreList":[]}