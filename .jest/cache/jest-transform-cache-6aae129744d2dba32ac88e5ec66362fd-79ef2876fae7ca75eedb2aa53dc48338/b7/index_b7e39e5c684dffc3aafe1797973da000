70124355eaee051fb161b013a03832d1
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = _interopRequireWildcard(require("react"));
var _reactNative = require("react-native");
var _vectorIcons = require("@expo/vector-icons");
var _propTypes = _interopRequireDefault(require("prop-types"));
var _ThemeContext = require("../../../../../contexts/ThemeContext");
var _style = _interopRequireDefault(require("./style"));
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
var PopupHeader = function PopupHeader(_ref) {
  var colors = _ref.colors,
    totalWordsLearned = _ref.totalWordsLearned,
    localStyles = _ref.localStyles;
  return (0, _jsxRuntime.jsxs)(_reactNative.View, {
    style: localStyles.header,
    children: [(0, _jsxRuntime.jsx)(_reactNative.Text, {
      style: localStyles.celebration,
      children: "\uD83C\uDFC6"
    }), (0, _jsxRuntime.jsx)(_reactNative.Text, {
      style: [localStyles.mainTitle, {
        color: colors.text
      }],
      children: "Pr\xEAt pour une r\xE9vision ?"
    }), (0, _jsxRuntime.jsxs)(_reactNative.Text, {
      style: [localStyles.wordsCounter, {
        color: colors.textSecondary
      }],
      children: ["Vous avez appris ", totalWordsLearned, " mots !"]
    })]
  });
};
var OPACITY_LEVELS = {
  normal: '20',
  primary: '30',
  primaryBorder: '40'
};
var UniformChoice = _react.default.memo(function (_ref2) {
  var choice = _ref2.choice,
    onPress = _ref2.onPress,
    localStyles = _ref2.localStyles,
    _ref2$isPrimary = _ref2.isPrimary,
    isPrimary = _ref2$isPrimary === void 0 ? false : _ref2$isPrimary;
  var primarySubtitleStyle = _react.default.useMemo(function () {
    return {
      color: '#047857',
      fontWeight: '600'
    };
  }, []);
  return (0, _jsxRuntime.jsxs)(_reactNative.TouchableOpacity, {
    style: [localStyles.choiceButton, isPrimary && localStyles.primaryChoiceModifier],
    onPress: onPress,
    activeOpacity: 0.7,
    children: [(0, _jsxRuntime.jsx)(_reactNative.View, {
      style: [localStyles.choiceIconContainer, {
        backgroundColor: choice.color + OPACITY_LEVELS.normal
      }, isPrimary && {
        backgroundColor: choice.color + OPACITY_LEVELS.primary,
        borderWidth: 1,
        borderColor: choice.color + OPACITY_LEVELS.primaryBorder
      }],
      children: (0, _jsxRuntime.jsx)(_vectorIcons.Ionicons, {
        name: choice.iconName,
        size: isPrimary ? 22 : 20,
        color: choice.color
      })
    }), (0, _jsxRuntime.jsxs)(_reactNative.View, {
      style: localStyles.choiceTextContainer,
      children: [(0, _jsxRuntime.jsxs)(_reactNative.Text, {
        style: [localStyles.choiceLabel, isPrimary && localStyles.primaryChoiceLabel],
        children: [choice.label, isPrimary && ' ⚡']
      }), choice.subtitle && (0, _jsxRuntime.jsx)(_reactNative.Text, {
        style: [localStyles.choiceSubtitle, isPrimary && primarySubtitleStyle],
        children: choice.subtitle
      })]
    })]
  });
});
var RevisionPopup = function RevisionPopup(_ref3) {
  var _ref3$visible = _ref3.visible,
    visible = _ref3$visible === void 0 ? false : _ref3$visible,
    _ref3$totalWordsLearn = _ref3.totalWordsLearned,
    totalWordsLearned = _ref3$totalWordsLearn === void 0 ? 50 : _ref3$totalWordsLearn,
    _ref3$questionsCount = _ref3.questionsCount,
    questionsCount = _ref3$questionsCount === void 0 ? 10 : _ref3$questionsCount,
    onChoice = _ref3.onChoice,
    onDismiss = _ref3.onDismiss;
  var themeContext = (0, _react.useContext)(_ThemeContext.ThemeContext);
  var colors = (themeContext == null ? void 0 : themeContext.colors) || {
    surface: "#FFFFFF",
    text: "#1F2937",
    textSecondary: "#6B7280",
    primary: "#10B981",
    accent: "#3B82F6",
    warning: "#F59E0B"
  };
  var scaleAnim = (0, _react.useRef)(new _reactNative.Animated.Value(0.95)).current;
  var opacityAnim = (0, _react.useRef)(new _reactNative.Animated.Value(0)).current;
  var animateIn = (0, _react.useCallback)(function () {
    _reactNative.Animated.parallel([_reactNative.Animated.spring(scaleAnim, {
      toValue: 1,
      friction: 7,
      tension: 40,
      useNativeDriver: true
    }), _reactNative.Animated.timing(opacityAnim, {
      toValue: 1,
      duration: 200,
      useNativeDriver: true
    })]).start();
  }, [scaleAnim, opacityAnim]);
  var animateOut = (0, _react.useCallback)(function () {
    scaleAnim.setValue(0.95);
    opacityAnim.setValue(0);
  }, [scaleAnim, opacityAnim]);
  (0, _react.useEffect)(function () {
    if (visible) {
      animateIn();
    }
  }, [visible, animateIn]);
  (0, _react.useEffect)(function () {
    if (!visible) {
      animateOut();
    }
  }, [visible, animateOut]);
  var allChoices = [{
    id: 'now',
    iconName: 'flash-outline',
    label: `Réviser (${questionsCount} questions)`,
    subtitle: 'Testez vos connaissances maintenant',
    color: colors.primary,
    isPrimary: true
  }, {
    id: 'later_50',
    iconName: 'time-outline',
    label: 'Plus tard (50 mots)',
    subtitle: `Prochaine révision à ${totalWordsLearned + 50} mots`,
    color: colors.accent
  }, {
    id: 'later_100',
    iconName: 'hourglass-outline',
    label: 'Plus tard (100 mots)',
    subtitle: `Prochaine révision à ${totalWordsLearned + 100} mots`,
    color: colors.warning
  }, {
    id: 'disable',
    iconName: 'close-circle-outline',
    label: 'Désactiver',
    subtitle: 'Vous pourrez réactiver via les paramètres',
    color: '#6B7280'
  }];
  var handleChoicePress = (0, _react.useCallback)(function (id) {
    return function () {
      if (onChoice) onChoice(id);
    };
  }, [onChoice]);
  var animatedContainerStyle = {
    opacity: opacityAnim,
    transform: [{
      scale: scaleAnim
    }]
  };
  return (0, _jsxRuntime.jsx)(_reactNative.Modal, {
    transparent: true,
    visible: visible,
    animationType: "fade",
    onRequestClose: onDismiss,
    children: (0, _jsxRuntime.jsx)(_reactNative.View, {
      style: _style.default.overlay,
      children: (0, _jsxRuntime.jsxs)(_reactNative.Animated.View, {
        style: [_style.default.popupContainer, animatedContainerStyle],
        children: [(0, _jsxRuntime.jsx)(PopupHeader, {
          colors: colors,
          totalWordsLearned: totalWordsLearned,
          localStyles: _style.default
        }), (0, _jsxRuntime.jsx)(_reactNative.View, {
          style: _style.default.body,
          children: (0, _jsxRuntime.jsx)(_reactNative.View, {
            style: _style.default.choicesContainer,
            children: allChoices.map(function (choice) {
              return (0, _jsxRuntime.jsx)(UniformChoice, {
                choice: choice,
                onPress: handleChoicePress(choice.id),
                localStyles: _style.default,
                isPrimary: choice.isPrimary
              }, choice.id);
            })
          })
        })]
      })
    })
  });
};
PopupHeader.propTypes = {
  colors: _propTypes.default.object.isRequired,
  totalWordsLearned: _propTypes.default.number.isRequired,
  localStyles: _propTypes.default.object.isRequired
};
UniformChoice.propTypes = {
  choice: _propTypes.default.shape({
    id: _propTypes.default.string.isRequired,
    iconName: _propTypes.default.string.isRequired,
    label: _propTypes.default.string.isRequired,
    subtitle: _propTypes.default.string,
    color: _propTypes.default.string.isRequired,
    isPrimary: _propTypes.default.bool
  }).isRequired,
  onPress: _propTypes.default.func.isRequired,
  localStyles: _propTypes.default.object.isRequired,
  isPrimary: _propTypes.default.bool
};
RevisionPopup.propTypes = {
  visible: _propTypes.default.bool,
  totalWordsLearned: _propTypes.default.number,
  questionsCount: _propTypes.default.number,
  onChoice: _propTypes.default.func,
  onDismiss: _propTypes.default.func
};
var _default = exports.default = RevisionPopup;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfcmVhY3ROYXRpdmUiLCJfdmVjdG9ySWNvbnMiLCJfcHJvcFR5cGVzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9UaGVtZUNvbnRleHQiLCJfc3R5bGUiLCJfanN4UnVudGltZSIsImUiLCJ0IiwiV2Vha01hcCIsInIiLCJuIiwiX19lc01vZHVsZSIsIm8iLCJpIiwiZiIsIl9fcHJvdG9fXyIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJzZXQiLCJfdCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiUG9wdXBIZWFkZXIiLCJfcmVmIiwiY29sb3JzIiwidG90YWxXb3Jkc0xlYXJuZWQiLCJsb2NhbFN0eWxlcyIsImpzeHMiLCJWaWV3Iiwic3R5bGUiLCJoZWFkZXIiLCJjaGlsZHJlbiIsImpzeCIsIlRleHQiLCJjZWxlYnJhdGlvbiIsIm1haW5UaXRsZSIsImNvbG9yIiwidGV4dCIsIndvcmRzQ291bnRlciIsInRleHRTZWNvbmRhcnkiLCJPUEFDSVRZX0xFVkVMUyIsIm5vcm1hbCIsInByaW1hcnkiLCJwcmltYXJ5Qm9yZGVyIiwiVW5pZm9ybUNob2ljZSIsIlJlYWN0IiwibWVtbyIsIl9yZWYyIiwiY2hvaWNlIiwib25QcmVzcyIsIl9yZWYyJGlzUHJpbWFyeSIsImlzUHJpbWFyeSIsInByaW1hcnlTdWJ0aXRsZVN0eWxlIiwidXNlTWVtbyIsImZvbnRXZWlnaHQiLCJUb3VjaGFibGVPcGFjaXR5IiwiY2hvaWNlQnV0dG9uIiwicHJpbWFyeUNob2ljZU1vZGlmaWVyIiwiYWN0aXZlT3BhY2l0eSIsImNob2ljZUljb25Db250YWluZXIiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXJXaWR0aCIsImJvcmRlckNvbG9yIiwiSW9uaWNvbnMiLCJuYW1lIiwiaWNvbk5hbWUiLCJzaXplIiwiY2hvaWNlVGV4dENvbnRhaW5lciIsImNob2ljZUxhYmVsIiwicHJpbWFyeUNob2ljZUxhYmVsIiwibGFiZWwiLCJzdWJ0aXRsZSIsImNob2ljZVN1YnRpdGxlIiwiUmV2aXNpb25Qb3B1cCIsIl9yZWYzIiwiX3JlZjMkdmlzaWJsZSIsInZpc2libGUiLCJfcmVmMyR0b3RhbFdvcmRzTGVhcm4iLCJfcmVmMyRxdWVzdGlvbnNDb3VudCIsInF1ZXN0aW9uc0NvdW50Iiwib25DaG9pY2UiLCJvbkRpc21pc3MiLCJ0aGVtZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwiVGhlbWVDb250ZXh0Iiwic3VyZmFjZSIsImFjY2VudCIsIndhcm5pbmciLCJzY2FsZUFuaW0iLCJ1c2VSZWYiLCJBbmltYXRlZCIsIlZhbHVlIiwiY3VycmVudCIsIm9wYWNpdHlBbmltIiwiYW5pbWF0ZUluIiwidXNlQ2FsbGJhY2siLCJwYXJhbGxlbCIsInNwcmluZyIsInRvVmFsdWUiLCJmcmljdGlvbiIsInRlbnNpb24iLCJ1c2VOYXRpdmVEcml2ZXIiLCJ0aW1pbmciLCJkdXJhdGlvbiIsInN0YXJ0IiwiYW5pbWF0ZU91dCIsInNldFZhbHVlIiwidXNlRWZmZWN0IiwiYWxsQ2hvaWNlcyIsImlkIiwiaGFuZGxlQ2hvaWNlUHJlc3MiLCJhbmltYXRlZENvbnRhaW5lclN0eWxlIiwib3BhY2l0eSIsInRyYW5zZm9ybSIsInNjYWxlIiwiTW9kYWwiLCJ0cmFuc3BhcmVudCIsImFuaW1hdGlvblR5cGUiLCJvblJlcXVlc3RDbG9zZSIsInN0eWxlcyIsIm92ZXJsYXkiLCJwb3B1cENvbnRhaW5lciIsImJvZHkiLCJjaG9pY2VzQ29udGFpbmVyIiwibWFwIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwib2JqZWN0IiwiaXNSZXF1aXJlZCIsIm51bWJlciIsInNoYXBlIiwic3RyaW5nIiwiYm9vbCIsImZ1bmMiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBWaWV3LCBUZXh0LCBUb3VjaGFibGVPcGFjaXR5LCBNb2RhbCwgQW5pbWF0ZWQgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xyXG5pbXBvcnQgeyBJb25pY29ucyB9IGZyb20gJ0BleHBvL3ZlY3Rvci1pY29ucyc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCB7IFRoZW1lQ29udGV4dCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2NvbnRleHRzL1RoZW1lQ29udGV4dCc7XHJcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9zdHlsZSc7XHJcblxyXG4vLyBTb3VzLWNvbXBvc2FudCBQb3B1cEhlYWRlclxyXG5jb25zdCBQb3B1cEhlYWRlciA9ICh7IGNvbG9ycywgdG90YWxXb3Jkc0xlYXJuZWQsIGxvY2FsU3R5bGVzIH0pID0+IChcclxuICA8VmlldyBzdHlsZT17bG9jYWxTdHlsZXMuaGVhZGVyfT5cclxuICAgIDxUZXh0IHN0eWxlPXtsb2NhbFN0eWxlcy5jZWxlYnJhdGlvbn0+8J+PhjwvVGV4dD5cclxuICAgIDxUZXh0IHN0eWxlPXtbbG9jYWxTdHlsZXMubWFpblRpdGxlLCB7IGNvbG9yOiBjb2xvcnMudGV4dCB9XX0+UHLDqnQgcG91ciB1bmUgcsOpdmlzaW9uID88L1RleHQ+XHJcbiAgICA8VGV4dCBzdHlsZT17W2xvY2FsU3R5bGVzLndvcmRzQ291bnRlciwgeyBjb2xvcjogY29sb3JzLnRleHRTZWNvbmRhcnkgfV19PlxyXG4gICAgICBWb3VzIGF2ZXogYXBwcmlzIHt0b3RhbFdvcmRzTGVhcm5lZH0gbW90cyAhXHJcbiAgICA8L1RleHQ+XHJcbiAgPC9WaWV3PlxyXG4pO1xyXG5cclxuLy8gQ29tcG9zYW50IGNob2l4IHVuaWZvcm1lXHJcbmNvbnN0IE9QQUNJVFlfTEVWRUxTID0ge1xyXG4gIG5vcm1hbDogJzIwJyxcclxuICBwcmltYXJ5OiAnMzAnLFxyXG4gIHByaW1hcnlCb3JkZXI6ICc0MCcsXHJcbn07XHJcblxyXG5jb25zdCBVbmlmb3JtQ2hvaWNlID0gUmVhY3QubWVtbygoeyBjaG9pY2UsIG9uUHJlc3MsIGxvY2FsU3R5bGVzLCBpc1ByaW1hcnkgPSBmYWxzZSB9KSA9PiB7XHJcbiAgY29uc3QgcHJpbWFyeVN1YnRpdGxlU3R5bGUgPSBSZWFjdC51c2VNZW1vKCgpID0+ICh7XHJcbiAgICBjb2xvcjogJyMwNDc4NTcnLFxyXG4gICAgZm9udFdlaWdodDogJzYwMCdcclxuICB9KSwgW10pO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPFRvdWNoYWJsZU9wYWNpdHlcclxuICAgICAgc3R5bGU9e1tcclxuICAgICAgICBsb2NhbFN0eWxlcy5jaG9pY2VCdXR0b24sXHJcbiAgICAgICAgaXNQcmltYXJ5ICYmIGxvY2FsU3R5bGVzLnByaW1hcnlDaG9pY2VNb2RpZmllcixcclxuICAgICAgXX1cclxuICAgICAgb25QcmVzcz17b25QcmVzc31cclxuICAgICAgYWN0aXZlT3BhY2l0eT17MC43fVxyXG4gICAgPlxyXG4gICAgICA8VmlldyBzdHlsZT17W1xyXG4gICAgICAgIGxvY2FsU3R5bGVzLmNob2ljZUljb25Db250YWluZXIsXHJcbiAgICAgICAgeyBiYWNrZ3JvdW5kQ29sb3I6IGNob2ljZS5jb2xvciArIE9QQUNJVFlfTEVWRUxTLm5vcm1hbCB9LFxyXG4gICAgICAgIGlzUHJpbWFyeSAmJiB7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNob2ljZS5jb2xvciArIE9QQUNJVFlfTEVWRUxTLnByaW1hcnksXHJcbiAgICAgICAgICBib3JkZXJXaWR0aDogMSxcclxuICAgICAgICAgIGJvcmRlckNvbG9yOiBjaG9pY2UuY29sb3IgKyBPUEFDSVRZX0xFVkVMUy5wcmltYXJ5Qm9yZGVyLFxyXG4gICAgICAgIH1cclxuICAgICAgXX0+XHJcbiAgICAgICAgPElvbmljb25zXHJcbiAgICAgICAgICBuYW1lPXtjaG9pY2UuaWNvbk5hbWV9XHJcbiAgICAgICAgICBzaXplPXtpc1ByaW1hcnkgPyAyMiA6IDIwfVxyXG4gICAgICAgICAgY29sb3I9e2Nob2ljZS5jb2xvcn1cclxuICAgICAgICAvPlxyXG4gICAgICA8L1ZpZXc+XHJcbiAgICAgIDxWaWV3IHN0eWxlPXtsb2NhbFN0eWxlcy5jaG9pY2VUZXh0Q29udGFpbmVyfT5cclxuICAgICAgICA8VGV4dCBzdHlsZT17W1xyXG4gICAgICAgICAgbG9jYWxTdHlsZXMuY2hvaWNlTGFiZWwsXHJcbiAgICAgICAgICBpc1ByaW1hcnkgJiYgbG9jYWxTdHlsZXMucHJpbWFyeUNob2ljZUxhYmVsXHJcbiAgICAgICAgXX0+XHJcbiAgICAgICAgICB7Y2hvaWNlLmxhYmVsfVxyXG4gICAgICAgICAge2lzUHJpbWFyeSAmJiAnIOKaoSd9XHJcbiAgICAgICAgPC9UZXh0PlxyXG4gICAgICAgIHtjaG9pY2Uuc3VidGl0bGUgJiYgKFxyXG4gICAgICAgICAgPFRleHQgc3R5bGU9e1tcclxuICAgICAgICAgICAgbG9jYWxTdHlsZXMuY2hvaWNlU3VidGl0bGUsXHJcbiAgICAgICAgICAgIGlzUHJpbWFyeSAmJiBwcmltYXJ5U3VidGl0bGVTdHlsZVxyXG4gICAgICAgICAgXX0+XHJcbiAgICAgICAgICAgIHtjaG9pY2Uuc3VidGl0bGV9XHJcbiAgICAgICAgICA8L1RleHQ+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9WaWV3PlxyXG4gICAgPC9Ub3VjaGFibGVPcGFjaXR5PlxyXG4gICk7XHJcbn0pO1xyXG5cclxuY29uc3QgUmV2aXNpb25Qb3B1cCA9ICh7XHJcbiAgdmlzaWJsZSA9IGZhbHNlLFxyXG4gIHRvdGFsV29yZHNMZWFybmVkID0gNTAsXHJcbiAgcXVlc3Rpb25zQ291bnQgPSAxMCxcclxuICBvbkNob2ljZSxcclxuICBvbkRpc21pc3MsXHJcbn0pID0+IHtcclxuICBjb25zdCB0aGVtZUNvbnRleHQgPSB1c2VDb250ZXh0KFRoZW1lQ29udGV4dCk7XHJcbiAgY29uc3QgY29sb3JzID0gdGhlbWVDb250ZXh0Py5jb2xvcnMgfHwge1xyXG4gICAgc3VyZmFjZTogXCIjRkZGRkZGXCIsXHJcbiAgICB0ZXh0OiBcIiMxRjI5MzdcIixcclxuICAgIHRleHRTZWNvbmRhcnk6IFwiIzZCNzI4MFwiLFxyXG4gICAgcHJpbWFyeTogXCIjMTBCOTgxXCIsXHJcbiAgICBhY2NlbnQ6IFwiIzNCODJGNlwiLFxyXG4gICAgd2FybmluZzogXCIjRjU5RTBCXCIsXHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc2NhbGVBbmltID0gdXNlUmVmKG5ldyBBbmltYXRlZC5WYWx1ZSgwLjk1KSkuY3VycmVudDtcclxuICBjb25zdCBvcGFjaXR5QW5pbSA9IHVzZVJlZihuZXcgQW5pbWF0ZWQuVmFsdWUoMCkpLmN1cnJlbnQ7XHJcblxyXG4gIC8vIE3DqXRob2RlIHBvdXIgYW5pbWVyIGwnZW50csOpZSBkdSBwb3B1cFxyXG4gIGNvbnN0IGFuaW1hdGVJbiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIEFuaW1hdGVkLnBhcmFsbGVsKFtcclxuICAgICAgQW5pbWF0ZWQuc3ByaW5nKHNjYWxlQW5pbSwge1xyXG4gICAgICAgIHRvVmFsdWU6IDEsXHJcbiAgICAgICAgZnJpY3Rpb246IDcsXHJcbiAgICAgICAgdGVuc2lvbjogNDAsXHJcbiAgICAgICAgdXNlTmF0aXZlRHJpdmVyOiB0cnVlLFxyXG4gICAgICB9KSxcclxuICAgICAgQW5pbWF0ZWQudGltaW5nKG9wYWNpdHlBbmltLCB7XHJcbiAgICAgICAgdG9WYWx1ZTogMSxcclxuICAgICAgICBkdXJhdGlvbjogMjAwLFxyXG4gICAgICAgIHVzZU5hdGl2ZURyaXZlcjogdHJ1ZSxcclxuICAgICAgfSksXHJcbiAgICBdKS5zdGFydCgpO1xyXG4gIH0sIFtzY2FsZUFuaW0sIG9wYWNpdHlBbmltXSk7XHJcblxyXG4gIC8vIE3DqXRob2RlIHBvdXIgYW5pbWVyIGxhIHNvcnRpZSBkdSBwb3B1cFxyXG4gIGNvbnN0IGFuaW1hdGVPdXQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBzY2FsZUFuaW0uc2V0VmFsdWUoMC45NSk7XHJcbiAgICBvcGFjaXR5QW5pbS5zZXRWYWx1ZSgwKTtcclxuICB9LCBbc2NhbGVBbmltLCBvcGFjaXR5QW5pbV0pO1xyXG5cclxuICAvLyBFZmZldCBwb3VyIGwnYW5pbWF0aW9uIGQnZW50csOpZVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAodmlzaWJsZSkge1xyXG4gICAgICBhbmltYXRlSW4oKTtcclxuICAgIH1cclxuICB9LCBbdmlzaWJsZSwgYW5pbWF0ZUluXSk7XHJcblxyXG4gIC8vIEVmZmV0IHBvdXIgbCdhbmltYXRpb24gZGUgc29ydGllXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghdmlzaWJsZSkge1xyXG4gICAgICBhbmltYXRlT3V0KCk7XHJcbiAgICB9XHJcbiAgfSwgW3Zpc2libGUsIGFuaW1hdGVPdXRdKTtcclxuXHJcbiAgLy8gTGlzdGUgZGVzIGNob2l4IGhvcnMgZHUgdXNlRWZmZWN0ICFcclxuICBjb25zdCBhbGxDaG9pY2VzID0gW1xyXG4gICAge1xyXG4gICAgICBpZDogJ25vdycsXHJcbiAgICAgIGljb25OYW1lOiAnZmxhc2gtb3V0bGluZScsXHJcbiAgICAgIGxhYmVsOiBgUsOpdmlzZXIgKCR7cXVlc3Rpb25zQ291bnR9IHF1ZXN0aW9ucylgLFxyXG4gICAgICBzdWJ0aXRsZTogJ1Rlc3RleiB2b3MgY29ubmFpc3NhbmNlcyBtYWludGVuYW50JyxcclxuICAgICAgY29sb3I6IGNvbG9ycy5wcmltYXJ5LFxyXG4gICAgICBpc1ByaW1hcnk6IHRydWUsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBpZDogJ2xhdGVyXzUwJyxcclxuICAgICAgaWNvbk5hbWU6ICd0aW1lLW91dGxpbmUnLFxyXG4gICAgICBsYWJlbDogJ1BsdXMgdGFyZCAoNTAgbW90cyknLFxyXG4gICAgICBzdWJ0aXRsZTogYFByb2NoYWluZSByw6l2aXNpb24gw6AgJHt0b3RhbFdvcmRzTGVhcm5lZCArIDUwfSBtb3RzYCxcclxuICAgICAgY29sb3I6IGNvbG9ycy5hY2NlbnQsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBpZDogJ2xhdGVyXzEwMCcsXHJcbiAgICAgIGljb25OYW1lOiAnaG91cmdsYXNzLW91dGxpbmUnLFxyXG4gICAgICBsYWJlbDogJ1BsdXMgdGFyZCAoMTAwIG1vdHMpJyxcclxuICAgICAgc3VidGl0bGU6IGBQcm9jaGFpbmUgcsOpdmlzaW9uIMOgICR7dG90YWxXb3Jkc0xlYXJuZWQgKyAxMDB9IG1vdHNgLFxyXG4gICAgICBjb2xvcjogY29sb3JzLndhcm5pbmcsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBpZDogJ2Rpc2FibGUnLFxyXG4gICAgICBpY29uTmFtZTogJ2Nsb3NlLWNpcmNsZS1vdXRsaW5lJyxcclxuICAgICAgbGFiZWw6ICdEw6lzYWN0aXZlcicsXHJcbiAgICAgIHN1YnRpdGxlOiAnVm91cyBwb3VycmV6IHLDqWFjdGl2ZXIgdmlhIGxlcyBwYXJhbcOodHJlcycsXHJcbiAgICAgIGNvbG9yOiAnIzZCNzI4MCcsXHJcbiAgICB9LFxyXG4gIF07XHJcblxyXG4gIC8vIENhbGxiYWNrIHBvdXIgZ8OpcmVyIGxhIHPDqWxlY3Rpb25cclxuICBjb25zdCBoYW5kbGVDaG9pY2VQcmVzcyA9IHVzZUNhbGxiYWNrKChpZCkgPT4gKCkgPT4ge1xyXG4gICAgaWYgKG9uQ2hvaWNlKSBvbkNob2ljZShpZCk7XHJcbiAgfSwgW29uQ2hvaWNlXSk7XHJcblxyXG4gIGNvbnN0IGFuaW1hdGVkQ29udGFpbmVyU3R5bGUgPSB7XHJcbiAgICBvcGFjaXR5OiBvcGFjaXR5QW5pbSxcclxuICAgIHRyYW5zZm9ybTogW3sgc2NhbGU6IHNjYWxlQW5pbSB9XSxcclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPE1vZGFsXHJcbiAgICAgIHRyYW5zcGFyZW50XHJcbiAgICAgIHZpc2libGU9e3Zpc2libGV9XHJcbiAgICAgIGFuaW1hdGlvblR5cGU9XCJmYWRlXCJcclxuICAgICAgb25SZXF1ZXN0Q2xvc2U9e29uRGlzbWlzc31cclxuICAgID5cclxuICAgICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5vdmVybGF5fT5cclxuICAgICAgICA8QW5pbWF0ZWQuVmlldyBzdHlsZT17W3N0eWxlcy5wb3B1cENvbnRhaW5lciwgYW5pbWF0ZWRDb250YWluZXJTdHlsZV19PlxyXG4gICAgICAgICAgPFBvcHVwSGVhZGVyXHJcbiAgICAgICAgICAgIGNvbG9ycz17Y29sb3JzfVxyXG4gICAgICAgICAgICB0b3RhbFdvcmRzTGVhcm5lZD17dG90YWxXb3Jkc0xlYXJuZWR9XHJcbiAgICAgICAgICAgIGxvY2FsU3R5bGVzPXtzdHlsZXN9XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5ib2R5fT5cclxuICAgICAgICAgICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5jaG9pY2VzQ29udGFpbmVyfT5cclxuICAgICAgICAgICAgICB7YWxsQ2hvaWNlcy5tYXAoKGNob2ljZSkgPT4gKFxyXG4gICAgICAgICAgICAgICAgPFVuaWZvcm1DaG9pY2VcclxuICAgICAgICAgICAgICAgICAga2V5PXtjaG9pY2UuaWR9XHJcbiAgICAgICAgICAgICAgICAgIGNob2ljZT17Y2hvaWNlfVxyXG4gICAgICAgICAgICAgICAgICBvblByZXNzPXtoYW5kbGVDaG9pY2VQcmVzcyhjaG9pY2UuaWQpfVxyXG4gICAgICAgICAgICAgICAgICBsb2NhbFN0eWxlcz17c3R5bGVzfVxyXG4gICAgICAgICAgICAgICAgICBpc1ByaW1hcnk9e2Nob2ljZS5pc1ByaW1hcnl9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICA8L1ZpZXc+XHJcbiAgICAgICAgICA8L1ZpZXc+XHJcbiAgICAgICAgPC9BbmltYXRlZC5WaWV3PlxyXG4gICAgICA8L1ZpZXc+XHJcbiAgICA8L01vZGFsPlxyXG4gICk7XHJcbn07XHJcblxyXG4vLyBQcm9wVHlwZXMgcG91ciBQb3B1cEhlYWRlclxyXG5Qb3B1cEhlYWRlci5wcm9wVHlwZXMgPSB7XHJcbiAgY29sb3JzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXHJcbiAgdG90YWxXb3Jkc0xlYXJuZWQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcclxuICBsb2NhbFN0eWxlczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxyXG59O1xyXG5cclxuLy8gUHJvcFR5cGVzIHBvdXIgVW5pZm9ybUNob2ljZVxyXG5Vbmlmb3JtQ2hvaWNlLnByb3BUeXBlcyA9IHtcclxuICBjaG9pY2U6IFByb3BUeXBlcy5zaGFwZSh7XHJcbiAgICBpZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxyXG4gICAgaWNvbk5hbWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICAgIGxhYmVsOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgICBzdWJ0aXRsZTogUHJvcFR5cGVzLnN0cmluZyxcclxuICAgIGNvbG9yOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgICBpc1ByaW1hcnk6IFByb3BUeXBlcy5ib29sLFxyXG4gIH0pLmlzUmVxdWlyZWQsXHJcbiAgb25QcmVzczogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcclxuICBsb2NhbFN0eWxlczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxyXG4gIGlzUHJpbWFyeTogUHJvcFR5cGVzLmJvb2wsXHJcbn07XHJcblxyXG4vLyBQcm9wVHlwZXMgcG91ciBsZSBjb21wb3NhbnQgcHJpbmNpcGFsIFJldmlzaW9uUG9wdXBcclxuUmV2aXNpb25Qb3B1cC5wcm9wVHlwZXMgPSB7XHJcbiAgdmlzaWJsZTogUHJvcFR5cGVzLmJvb2wsXHJcbiAgdG90YWxXb3Jkc0xlYXJuZWQ6IFByb3BUeXBlcy5udW1iZXIsXHJcbiAgcXVlc3Rpb25zQ291bnQ6IFByb3BUeXBlcy5udW1iZXIsXHJcbiAgb25DaG9pY2U6IFByb3BUeXBlcy5mdW5jLFxyXG4gIG9uRGlzbWlzczogUHJvcFR5cGVzLmZ1bmMsXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBSZXZpc2lvblBvcHVwO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsWUFBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsWUFBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsVUFBQSxHQUFBQyxzQkFBQSxDQUFBSixPQUFBO0FBQ0EsSUFBQUssYUFBQSxHQUFBTCxPQUFBO0FBQ0EsSUFBQU0sTUFBQSxHQUFBRixzQkFBQSxDQUFBSixPQUFBO0FBQTZCLElBQUFPLFdBQUEsR0FBQVAsT0FBQTtBQUFBLFNBQUFELHdCQUFBUyxDQUFBLEVBQUFDLENBQUEsNkJBQUFDLE9BQUEsTUFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBWCx1QkFBQSxZQUFBQSx3QkFBQVMsQ0FBQSxFQUFBQyxDQUFBLFNBQUFBLENBQUEsSUFBQUQsQ0FBQSxJQUFBQSxDQUFBLENBQUFLLFVBQUEsU0FBQUwsQ0FBQSxNQUFBTSxDQUFBLEVBQUFDLENBQUEsRUFBQUMsQ0FBQSxLQUFBQyxTQUFBLFFBQUFDLE9BQUEsRUFBQVYsQ0FBQSxpQkFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxTQUFBUSxDQUFBLE1BQUFGLENBQUEsR0FBQUwsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsUUFBQUcsQ0FBQSxDQUFBSyxHQUFBLENBQUFYLENBQUEsVUFBQU0sQ0FBQSxDQUFBTSxHQUFBLENBQUFaLENBQUEsR0FBQU0sQ0FBQSxDQUFBTyxHQUFBLENBQUFiLENBQUEsRUFBQVEsQ0FBQSxjQUFBTSxFQUFBLElBQUFkLENBQUEsZ0JBQUFjLEVBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFo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