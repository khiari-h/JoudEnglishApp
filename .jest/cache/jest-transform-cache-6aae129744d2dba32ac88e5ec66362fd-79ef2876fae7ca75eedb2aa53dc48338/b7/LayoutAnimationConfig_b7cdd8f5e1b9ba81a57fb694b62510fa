b8a8aa1fbe356fe6f1721e1979d3fdda
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SkipEnteringContext = exports.LayoutAnimationConfig = void 0;
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _react = _interopRequireWildcard(require("react"));
var _core = require("../core.js");
var _findNodeHandle = require("../platformFunctions/findNodeHandle");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
var SkipEnteringContext = exports.SkipEnteringContext = (0, _react.createContext)(null);
function SkipEntering(props) {
  var skipValueRef = (0, _react.useRef)(props.shouldSkip);
  (0, _react.useEffect)(function () {
    skipValueRef.current = false;
  }, [skipValueRef]);
  return _react.default.createElement(SkipEnteringContext.Provider, {
    value: skipValueRef
  }, props.children);
}
var LayoutAnimationConfig = exports.LayoutAnimationConfig = function (_Component) {
  function LayoutAnimationConfig() {
    (0, _classCallCheck2.default)(this, LayoutAnimationConfig);
    return _callSuper(this, LayoutAnimationConfig, arguments);
  }
  (0, _inherits2.default)(LayoutAnimationConfig, _Component);
  return (0, _createClass2.default)(LayoutAnimationConfig, [{
    key: "getMaybeWrappedChildren",
    value: function getMaybeWrappedChildren() {
      return _react.Children.count(this.props.children) > 1 && this.props.skipExiting ? _react.Children.map(this.props.children, function (child) {
        return _react.default.createElement(LayoutAnimationConfig, {
          skipExiting: true
        }, child);
      }) : this.props.children;
    }
  }, {
    key: "setShouldAnimateExiting",
    value: function setShouldAnimateExiting() {
      if (_react.Children.count(this.props.children) === 1) {
        var tag = (0, _findNodeHandle.findNodeHandle)(this);
        if (tag) {
          (0, _core.setShouldAnimateExitingForTag)(tag, !this.props.skipExiting);
        }
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this.props.skipExiting !== undefined) {
        this.setShouldAnimateExiting();
      }
    }
  }, {
    key: "render",
    value: function render() {
      var children = this.getMaybeWrappedChildren();
      if (this.props.skipEntering === undefined) {
        return children;
      }
      return _react.default.createElement(SkipEntering, {
        shouldSkip: this.props.skipEntering
      }, children);
    }
  }]);
}(_react.Component);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiU2tpcEVudGVyaW5nQ29udGV4dCIsIkxheW91dEFuaW1hdGlvbkNvbmZpZyIsIl9jbGFzc0NhbGxDaGVjazIiLCJfY3JlYXRlQ2xhc3MyIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwiX2dldFByb3RvdHlwZU9mMiIsIl9pbmhlcml0czIiLCJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9jb3JlIiwiX2ZpbmROb2RlSGFuZGxlIiwiZSIsInQiLCJXZWFrTWFwIiwiciIsIm4iLCJfX2VzTW9kdWxlIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiZGVmYXVsdCIsImhhcyIsImdldCIsInNldCIsIl90IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX2NhbGxTdXBlciIsIl9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJSZWZsZWN0IiwiY29uc3RydWN0IiwiY29uc3RydWN0b3IiLCJhcHBseSIsIkJvb2xlYW4iLCJwcm90b3R5cGUiLCJ2YWx1ZU9mIiwiY3JlYXRlQ29udGV4dCIsIlNraXBFbnRlcmluZyIsInByb3BzIiwic2tpcFZhbHVlUmVmIiwidXNlUmVmIiwic2hvdWxkU2tpcCIsInVzZUVmZmVjdCIsImN1cnJlbnQiLCJSZWFjdCIsImNyZWF0ZUVsZW1lbnQiLCJQcm92aWRlciIsImNoaWxkcmVuIiwiX0NvbXBvbmVudCIsImFyZ3VtZW50cyIsImtleSIsImdldE1heWJlV3JhcHBlZENoaWxkcmVuIiwiQ2hpbGRyZW4iLCJjb3VudCIsInNraXBFeGl0aW5nIiwibWFwIiwiY2hpbGQiLCJzZXRTaG91bGRBbmltYXRlRXhpdGluZyIsInRhZyIsImZpbmROb2RlSGFuZGxlIiwic2V0U2hvdWxkQW5pbWF0ZUV4aXRpbmdGb3JUYWciLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInVuZGVmaW5lZCIsInJlbmRlciIsInNraXBFbnRlcmluZyIsIkNvbXBvbmVudCJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnQvTGF5b3V0QW5pbWF0aW9uQ29uZmlnLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6W251bGxdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFBQSxJQUFBQSxzQkFBQSxHQUFBQyxPQUFBO0FBQUFDLE1BQUEsQ0FBQUMsY0FBQSxDQUFBQyxPQUFBO0VBQUFDLEtBQUE7QUFBQTtBQUFBRCxPQUFBLENBQUFFLG1CQUFBLEdBQUFGLE9BQUEsQ0FBQUcscUJBQUE7QUFBQSxJQUFBQyxnQkFBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQVEsYUFBQSxHQUFBVCxzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQVMsMkJBQUEsR0FBQVYsc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFVLGdCQUFBLEdBQUFYLHNCQUFBLENBQUFDLE9BQUE7QUFBQSxJQUFBVyxVQUFBLEdBQUFaLHNCQUFBLENBQUFDLE9BQUE7QUFDWixJQUFBWSxNQUFBLEdBQUFDLHVCQUFBLENBQUFiLE9BQUE7QUFRQSxJQUFBYyxLQUFBLEdBQUFkLE9BQUE7QUFDQSxJQUFBZSxlQUFBLEdBQUFmLE9BQUE7QUFBb0UsU0FBQWEsd0JBQUFHLENBQUEsRUFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxNQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFMLHVCQUFBLFlBQUFBLHdCQUFBRyxDQUFBLEVBQUFDLENBQUEsU0FBQUEsQ0FBQSxJQUFBRCxDQUFBLElBQUFBLENBQUEsQ0FBQUssVUFBQSxTQUFBTCxDQUFBLE1BQUFNLENBQUEsRUFBQUMsQ0FBQSxFQUFBQyxDQUFBLEtBQUFDLFNBQUEsUUFBQUMsT0FBQSxFQUFBVixDQUFBLGlCQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFNBQUFRLENBQUEsTUFBQUYs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