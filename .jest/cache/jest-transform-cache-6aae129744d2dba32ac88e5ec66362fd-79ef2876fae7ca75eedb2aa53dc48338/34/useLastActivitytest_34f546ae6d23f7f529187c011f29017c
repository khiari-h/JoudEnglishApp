54a9a71d5937eed3d382d263ddfb1a43
_getJestObj().mock('../../src/utils/eventBus', function () {
  return Object.assign({}, jest.requireActual('../../src/utils/eventBus'), {
    emit: jest.fn()
  });
});
_getJestObj().mock('@react-native-async-storage/async-storage');
_getJestObj().mock('../../src/utils/constants', function () {
  return {
    STORAGE_KEYS: {
      LAST_ACTIVITY: 'last_activity'
    }
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _reactNative = require("@testing-library/react-native");
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _useLastActivity = _interopRequireDefault(require("../../src/hooks/useLastActivity"));
var _eventBus = _interopRequireDefault(require("../../src/utils/eventBus"));
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('useLastActivity', function () {
  var FIXED_NOW_TIMESTAMP = 1640995200000;
  var errorSpy;
  var warnSpy;
  beforeEach(function () {
    jest.clearAllMocks();
    jest.spyOn(Date, 'now').mockReturnValue(FIXED_NOW_TIMESTAMP);
    errorSpy = jest.spyOn(console, 'error').mockImplementation(function () {});
    warnSpy = jest.spyOn(console, 'warn').mockImplementation(function () {});
  });
  afterEach(function () {
    jest.restoreAllMocks();
  });
  it('devrait initialiser avec null si aucune donnée n\'est trouvée', (0, _asyncToGenerator2.default)(function* () {
    _asyncStorage.default.getItem.mockResolvedValue(null);
    var _renderHook = (0, _reactNative.renderHook)(function () {
        return (0, _useLastActivity.default)();
      }),
      result = _renderHook.result;
    yield (0, _reactNative.waitFor)(function () {
      return expect(result.current.isLoading).toBe(false);
    });
    expect(result.current.lastActivity).toBeNull();
    expect(_asyncStorage.default.getItem).toHaveBeenCalledWith('last_activity');
  }));
  it('devrait charger une activit existante', (0, _asyncToGenerator2.default)(function* () {
    var mockActivity = {
      type: 'vocabulary',
      timestamp: FIXED_NOW_TIMESTAMP - 300000
    };
    _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify(mockActivity));
    var _renderHook2 = (0, _reactNative.renderHook)(function () {
        return (0, _useLastActivity.default)();
      }),
      result = _renderHook2.result;
    yield (0, _reactNative.waitFor)(function () {
      expect(result.current.isLoading).toBe(false);
      expect(result.current.lastActivity).toBeDefined();
      expect(result.current.lastActivity.type).toBe('vocabulary');
      expect(result.current.lastActivity.timeElapsed).toBe('Il y a 5 min');
    });
  }));
  it('devrait réinitialiser l\'activité en cas d\'erreur de chargement', (0, _asyncToGenerator2.default)(function* () {
    _asyncStorage.default.getItem.mockRejectedValue(new Error('Erreur de lecture'));
    var _renderHook3 = (0, _reactNative.renderHook)(function () {
        return (0, _useLastActivity.default)();
      }),
      result = _renderHook3.result;
    yield (0, _reactNative.waitFor)(function () {
      return expect(result.current.isLoading).toBe(false);
    });
    expect(result.current.lastActivity).toBeNull();
    expect(errorSpy).toHaveBeenCalledWith('Erreur chargement dernière activité:', expect.any(Error));
  }));
  it('devrait afficher "À l\'instant" si l\'activité a lieu maintenant', (0, _asyncToGenerator2.default)(function* () {
    var mockActivity = {
      type: 'vocabulary',
      timestamp: FIXED_NOW_TIMESTAMP
    };
    _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify(mockActivity));
    var _renderHook4 = (0, _reactNative.renderHook)(function () {
        return (0, _useLastActivity.default)();
      }),
      result = _renderHook4.result;
    yield (0, _reactNative.waitFor)(function () {
      return expect(result.current.isLoading).toBe(false);
    });
    expect(result.current.lastActivity.timeElapsed).toBe("À l'instant");
  }));
  it('devrait afficher le temps en heures', (0, _asyncToGenerator2.default)(function* () {
    var mockActivity = {
      type: 'vocabulary',
      timestamp: FIXED_NOW_TIMESTAMP - 90 * 60 * 1000
    };
    _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify(mockActivity));
    var _renderHook5 = (0, _reactNative.renderHook)(function () {
        return (0, _useLastActivity.default)();
      }),
      result = _renderHook5.result;
    yield (0, _reactNative.waitFor)(function () {
      return expect(result.current.isLoading).toBe(false);
    });
    expect(result.current.lastActivity.timeElapsed).toBe('Il y a 1h');
  }));
  it('devrait afficher le temps en jours', (0, _asyncToGenerator2.default)(function* () {
    var mockActivity = {
      type: 'vocabulary',
      timestamp: FIXED_NOW_TIMESTAMP - 1500 * 60 * 1000
    };
    _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify(mockActivity));
    var _renderHook6 = (0, _reactNative.renderHook)(function () {
        return (0, _useLastActivity.default)();
      }),
      result = _renderHook6.result;
    yield (0, _reactNative.waitFor)(function () {
      return expect(result.current.isLoading).toBe(false);
    });
    expect(result.current.lastActivity.timeElapsed).toBe('Il y a 1j');
  }));
  it('devrait sauvegarder une nouvelle activité et mettre à jour l\'état local', (0, _asyncToGenerator2.default)(function* () {
    _asyncStorage.default.getItem.mockResolvedValue(null);
    var _renderHook7 = (0, _reactNative.renderHook)(function () {
        return (0, _useLastActivity.default)();
      }),
      result = _renderHook7.result;
    yield (0, _reactNative.waitFor)(function () {
      return expect(result.current.isLoading).toBe(false);
    });
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      yield result.current.saveActivity({
        type: 'grammar',
        score: 85
      });
    }));
    expect(_asyncStorage.default.setItem).toHaveBeenCalledWith('last_activity', JSON.stringify({
      type: 'grammar',
      score: 85,
      timestamp: FIXED_NOW_TIMESTAMP
    }));
    expect(result.current.lastActivity.timeElapsed).toBe("À l'instant");
    expect(_eventBus.default.emit).toHaveBeenCalledWith('progress-updated', expect.any(Object));
  }));
  it('devrait gérer les erreurs de sauvegarde sans planter', (0, _asyncToGenerator2.default)(function* () {
    _asyncStorage.default.setItem.mockRejectedValue(new Error('Erreur de sauvegarde'));
    var _renderHook8 = (0, _reactNative.renderHook)(function () {
        return (0, _useLastActivity.default)();
      }),
      result = _renderHook8.result;
    yield (0, _reactNative.waitFor)(function () {
      return expect(result.current.isLoading).toBe(false);
    });
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      yield result.current.saveActivity({
        type: 'test'
      });
    }));
    expect(errorSpy).toHaveBeenCalledWith('Erreur sauvegarde activité:', expect.any(Error));
  }));
  it('devrait gérer les erreurs de bus d\'événements sans planter', (0, _asyncToGenerator2.default)(function* () {
    _asyncStorage.default.getItem.mockResolvedValue(null);
    _asyncStorage.default.setItem.mockResolvedValue();
    var _renderHook9 = (0, _reactNative.renderHook)(function () {
        return (0, _useLastActivity.default)();
      }),
      result = _renderHook9.result;
    yield (0, _reactNative.waitFor)(function () {
      return expect(result.current.isLoading).toBe(false);
    });
    _eventBus.default.emit.mockImplementationOnce(function () {
      throw new Error('Erreur bus');
    });
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      yield result.current.saveActivity({
        type: 'test'
      });
    }));
    expect(warnSpy).toHaveBeenCalledWith('Event bus error (non-critical):', expect.any(Error));
    expect(result.current.lastActivity.type).toBe('test');
  }));
  it('devrait supprimer une activité', (0, _asyncToGenerator2.default)(function* () {
    _asyncStorage.default.getItem.mockResolvedValueOnce(JSON.stringify({
      type: 'existing',
      timestamp: 123
    }));
    _asyncStorage.default.removeItem.mockResolvedValue();
    var _renderHook0 = (0, _reactNative.renderHook)(function () {
        return (0, _useLastActivity.default)();
      }),
      result = _renderHook0.result;
    yield (0, _reactNative.waitFor)(function () {
      return expect(result.current.isLoading).toBe(false);
    });
    expect(result.current.lastActivity).not.toBeNull();
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      yield result.current.clearActivity();
    }));
    expect(_asyncStorage.default.removeItem).toHaveBeenCalledWith('last_activity');
    expect(result.current.lastActivity).toBeNull();
  }));
  it('devrait gérer les erreurs de suppression sans planter', (0, _asyncToGenerator2.default)(function* () {
    _asyncStorage.default.getItem.mockResolvedValueOnce(JSON.stringify({
      type: 'existing',
      timestamp: 123
    }));
    _asyncStorage.default.removeItem.mockRejectedValue(new Error('Erreur de suppression'));
    var _renderHook1 = (0, _reactNative.renderHook)(function () {
        return (0, _useLastActivity.default)();
      }),
      result = _renderHook1.result;
    yield (0, _reactNative.waitFor)(function () {
      return expect(result.current.isLoading).toBe(false);
    });
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      yield result.current.clearActivity();
    }));
    expect(errorSpy).toHaveBeenCalledWith('Erreur suppression activité:', expect.any(Error));
    expect(result.current.lastActivity).not.toBeNull();
  }));
  it('devrait avoir toutes les fonctions nécessaires', function () {
    _asyncStorage.default.getItem.mockResolvedValue(null);
    var _renderHook10 = (0, _reactNative.renderHook)(function () {
        return (0, _useLastActivity.default)();
      }),
      result = _renderHook10.result;
    expect(typeof result.current.saveActivity).toBe('function');
    expect(typeof result.current.clearActivity).toBe('function');
    expect(typeof result.current.reload).toBe('function');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJPYmplY3QiLCJhc3NpZ24iLCJqZXN0IiwicmVxdWlyZUFjdHVhbCIsImVtaXQiLCJmbiIsIlNUT1JBR0VfS0VZUyIsIkxBU1RfQUNUSVZJVFkiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWFjdE5hdGl2ZSIsIl9hc3luY1N0b3JhZ2UiLCJfdXNlTGFzdEFjdGl2aXR5IiwiX2V2ZW50QnVzIiwiX3JlcXVpcmUiLCJkZXNjcmliZSIsIkZJWEVEX05PV19USU1FU1RBTVAiLCJlcnJvclNweSIsIndhcm5TcHkiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsInNweU9uIiwiRGF0ZSIsIm1vY2tSZXR1cm5WYWx1ZSIsImNvbnNvbGUiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJhZnRlckVhY2giLCJyZXN0b3JlQWxsTW9ja3MiLCJpdCIsImRlZmF1bHQiLCJBc3luY1N0b3JhZ2UiLCJnZXRJdGVtIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJfcmVuZGVySG9vayIsInJlbmRlckhvb2siLCJ1c2VMYXN0QWN0aXZpdHkiLCJyZXN1bHQiLCJ3YWl0Rm9yIiwiZXhwZWN0IiwiY3VycmVudCIsImlzTG9hZGluZyIsInRvQmUiLCJsYXN0QWN0aXZpdHkiLCJ0b0JlTnVsbCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwibW9ja0FjdGl2aXR5IiwidHlwZSIsInRpbWVzdGFtcCIsIkpTT04iLCJzdHJpbmdpZnkiLCJfcmVuZGVySG9vazIiLCJ0b0JlRGVmaW5lZCIsInRpbWVFbGFwc2VkIiwibW9ja1JlamVjdGVkVmFsdWUiLCJFcnJvciIsIl9yZW5kZXJIb29rMyIsImFueSIsIl9yZW5kZXJIb29rNCIsIl9yZW5kZXJIb29rNSIsIl9yZW5kZXJIb29rNiIsIl9yZW5kZXJIb29rNyIsImFjdCIsInNhdmVBY3Rpdml0eSIsInNjb3JlIiwic2V0SXRlbSIsImV2ZW50QnVzIiwiX3JlbmRlckhvb2s4IiwiX3JlbmRlckhvb2s5IiwibW9ja0ltcGxlbWVudGF0aW9uT25jZSIsIm1vY2tSZXNvbHZlZFZhbHVlT25jZSIsInJlbW92ZUl0ZW0iLCJfcmVuZGVySG9vazAiLCJub3QiLCJjbGVhckFjdGl2aXR5IiwiX3JlbmRlckhvb2sxIiwiX3JlbmRlckhvb2sxMCIsInJlbG9hZCJdLCJzb3VyY2VzIjpbInVzZUxhc3RBY3Rpdml0eS50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIF9fdGVzdHNfXy9ob29rcy91c2VMYXN0QWN0aXZpdHkudGVzdC5qc1xuXG5pbXBvcnQgeyByZW5kZXJIb29rLCBhY3QsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgQXN5bmNTdG9yYWdlIGZyb20gJ0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS9hc3luYy1zdG9yYWdlJztcblxuamVzdC5tb2NrKCcuLi8uLi9zcmMvdXRpbHMvZXZlbnRCdXMnLCAoKSA9PiAoe1xuICAuLi5qZXN0LnJlcXVpcmVBY3R1YWwoJy4uLy4uL3NyYy91dGlscy9ldmVudEJ1cycpLFxuICBlbWl0OiBqZXN0LmZuKCksXG59KSk7XG5cbmplc3QubW9jaygnQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlL2FzeW5jLXN0b3JhZ2UnKTtcbmplc3QubW9jaygnLi4vLi4vc3JjL3V0aWxzL2NvbnN0YW50cycsICgpID0+ICh7XG4gIFNUT1JBR0VfS0VZUzoge1xuICAgIExBU1RfQUNUSVZJVFk6ICdsYXN0X2FjdGl2aXR5J1xuICB9XG59KSk7XG5cbmltcG9ydCB1c2VMYXN0QWN0aXZpdHkgZnJvbSAnLi4vLi4vc3JjL2hvb2tzL3VzZUxhc3RBY3Rpdml0eSc7XG5pbXBvcnQgZXZlbnRCdXMgZnJvbSAnLi4vLi4vc3JjL3V0aWxzL2V2ZW50QnVzJztcblxuLy8gLS0tXG5cbmRlc2NyaWJlKCd1c2VMYXN0QWN0aXZpdHknLCAoKSA9PiB7XG4gIGNvbnN0IEZJWEVEX05PV19USU1FU1RBTVAgPSAxNjQwOTk1MjAwMDAwO1xuICBcbiAgbGV0IGVycm9yU3B5O1xuICBsZXQgd2FyblNweTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBqZXN0LnNweU9uKERhdGUsICdub3cnKS5tb2NrUmV0dXJuVmFsdWUoRklYRURfTk9XX1RJTUVTVEFNUCk7XG4gICAgXG4gICAgZXJyb3JTcHkgPSBqZXN0LnNweU9uKGNvbnNvbGUsICdlcnJvcicpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7fSk7XG4gICAgd2FyblNweSA9IGplc3Quc3B5T24oY29uc29sZSwgJ3dhcm4nKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge30pO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QucmVzdG9yZUFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIC8vID09PT09PT09PT09PT09PT09PT0gVEVTVFMgREUgQ0hBUkdFTUVOVCA9PT09PT09PT09PT09PT09PT09XG5cbiAgaXQoJ2RldnJhaXQgaW5pdGlhbGlzZXIgYXZlYyBudWxsIHNpIGF1Y3VuZSBkb25uw6llIG5cXCdlc3QgdHJvdXbDqWUnLCBhc3luYyAoKSA9PiB7XG4gICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1Jlc29sdmVkVmFsdWUobnVsbCk7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGFzdEFjdGl2aXR5KCkpO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNMb2FkaW5nKS50b0JlKGZhbHNlKSk7XG5cbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubGFzdEFjdGl2aXR5KS50b0JlTnVsbCgpO1xuICAgIGV4cGVjdChBc3luY1N0b3JhZ2UuZ2V0SXRlbSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2xhc3RfYWN0aXZpdHknKTtcbiAgfSk7XG5cbiAgaXQoJ2RldnJhaXQgY2hhcmdlciB1bmUgYWN0aXZpdCBleGlzdGFudGUnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbW9ja0FjdGl2aXR5ID0geyB0eXBlOiAndm9jYWJ1bGFyeScsIHRpbWVzdGFtcDogRklYRURfTk9XX1RJTUVTVEFNUCAtIDMwMDAwMCB9O1xuICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tSZXNvbHZlZFZhbHVlKEpTT04uc3RyaW5naWZ5KG1vY2tBY3Rpdml0eSkpO1xuXG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGFzdEFjdGl2aXR5KCkpO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNMb2FkaW5nKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sYXN0QWN0aXZpdHkpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubGFzdEFjdGl2aXR5LnR5cGUpLnRvQmUoJ3ZvY2FidWxhcnknKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sYXN0QWN0aXZpdHkudGltZUVsYXBzZWQpLnRvQmUoJ0lsIHkgYSA1IG1pbicpO1xuICAgIH0pO1xuICB9KTtcblxuICBpdCgnZGV2cmFpdCByw6lpbml0aWFsaXNlciBsXFwnYWN0aXZpdMOpIGVuIGNhcyBkXFwnZXJyZXVyIGRlIGNoYXJnZW1lbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdFcnJldXIgZGUgbGVjdHVyZScpKTtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMYXN0QWN0aXZpdHkoKSk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IGV4cGVjdChyZXN1bHQuY3VycmVudC5pc0xvYWRpbmcpLnRvQmUoZmFsc2UpKTtcblxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sYXN0QWN0aXZpdHkpLnRvQmVOdWxsKCk7XG4gICAgZXhwZWN0KGVycm9yU3B5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICdFcnJldXIgY2hhcmdlbWVudCBkZXJuacOocmUgYWN0aXZpdMOpOicsXG4gICAgICBleHBlY3QuYW55KEVycm9yKVxuICAgICk7XG4gIH0pO1xuXG4gIC8vID09PT09PT09PT09PT09PT09PT0gVEVTVFMgREUgTE9HSVFVRSBERSBURU1QUyDDiUNPVUzDiSA9PT09PT09PT09PT09PT09PT09XG5cbiAgaXQoJ2RldnJhaXQgYWZmaWNoZXIgXCLDgCBsXFwnaW5zdGFudFwiIHNpIGxcXCdhY3Rpdml0w6kgYSBsaWV1IG1haW50ZW5hbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbW9ja0FjdGl2aXR5ID0geyB0eXBlOiAndm9jYWJ1bGFyeScsIHRpbWVzdGFtcDogRklYRURfTk9XX1RJTUVTVEFNUCB9O1xuICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tSZXNvbHZlZFZhbHVlKEpTT04uc3RyaW5naWZ5KG1vY2tBY3Rpdml0eSkpO1xuXG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGFzdEFjdGl2aXR5KCkpO1xuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4gZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzTG9hZGluZykudG9CZShmYWxzZSkpO1xuXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmxhc3RBY3Rpdml0eS50aW1lRWxhcHNlZCkudG9CZShcIsOAIGwnaW5zdGFudFwiKTtcbiAgfSk7XG5cbiAgaXQoJ2RldnJhaXQgYWZmaWNoZXIgbGUgdGVtcHMgZW4gaGV1cmVzJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tBY3Rpdml0eSA9IHsgdHlwZTogJ3ZvY2FidWxhcnknLCB0aW1lc3RhbXA6IEZJWEVEX05PV19USU1FU1RBTVAgLSAoOTAgKiA2MCAqIDEwMDApIH07XG4gICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1Jlc29sdmVkVmFsdWUoSlNPTi5zdHJpbmdpZnkobW9ja0FjdGl2aXR5KSk7XG5cbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMYXN0QWN0aXZpdHkoKSk7XG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNMb2FkaW5nKS50b0JlKGZhbHNlKSk7XG5cbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubGFzdEFjdGl2aXR5LnRpbWVFbGFwc2VkKS50b0JlKCdJbCB5IGEgMWgnKTtcbiAgfSk7XG5cbiAgaXQoJ2RldnJhaXQgYWZmaWNoZXIgbGUgdGVtcHMgZW4gam91cnMnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbW9ja0FjdGl2aXR5ID0geyB0eXBlOiAndm9jYWJ1bGFyeScsIHRpbWVzdGFtcDogRklYRURfTk9XX1RJTUVTVEFNUCAtICgxNTAwICogNjAgKiAxMDAwKSB9O1xuICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tSZXNvbHZlZFZhbHVlKEpTT04uc3RyaW5naWZ5KG1vY2tBY3Rpdml0eSkpO1xuXG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGFzdEFjdGl2aXR5KCkpO1xuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4gZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzTG9hZGluZykudG9CZShmYWxzZSkpO1xuXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmxhc3RBY3Rpdml0eS50aW1lRWxhcHNlZCkudG9CZSgnSWwgeSBhIDFqJyk7XG4gIH0pO1xuXG4gIC8vID09PT09PT09PT09PT09PT09PT0gVEVTVFMgREUgU0FVVkVHQVJERSBFVCBTVVBQUkVTU0lPTiA9PT09PT09PT09PT09PT09PT09XG5cbiAgaXQoJ2RldnJhaXQgc2F1dmVnYXJkZXIgdW5lIG5vdXZlbGxlIGFjdGl2aXTDqSBldCBtZXR0cmUgw6Agam91ciBsXFwnw6l0YXQgbG9jYWwnLCBhc3luYyAoKSA9PiB7XG4gICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1Jlc29sdmVkVmFsdWUobnVsbCk7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGFzdEFjdGl2aXR5KCkpO1xuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4gZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzTG9hZGluZykudG9CZShmYWxzZSkpO1xuXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LnNhdmVBY3Rpdml0eSh7IHR5cGU6ICdncmFtbWFyJywgc2NvcmU6IDg1IH0pO1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KEFzeW5jU3RvcmFnZS5zZXRJdGVtKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICdsYXN0X2FjdGl2aXR5JyxcbiAgICAgIEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ2dyYW1tYXInLCBzY29yZTogODUsIHRpbWVzdGFtcDogRklYRURfTk9XX1RJTUVTVEFNUCB9KVxuICAgICk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmxhc3RBY3Rpdml0eS50aW1lRWxhcHNlZCkudG9CZShcIsOAIGwnaW5zdGFudFwiKTtcbiAgICBleHBlY3QoZXZlbnRCdXMuZW1pdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3Byb2dyZXNzLXVwZGF0ZWQnLCBleHBlY3QuYW55KE9iamVjdCkpO1xuICB9KTtcblxuICBpdCgnZGV2cmFpdCBnw6lyZXIgbGVzIGVycmV1cnMgZGUgc2F1dmVnYXJkZSBzYW5zIHBsYW50ZXInLCBhc3luYyAoKSA9PiB7XG4gICAgQXN5bmNTdG9yYWdlLnNldEl0ZW0ubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdFcnJldXIgZGUgc2F1dmVnYXJkZScpKTtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMYXN0QWN0aXZpdHkoKSk7XG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNMb2FkaW5nKS50b0JlKGZhbHNlKSk7XG5cbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuc2F2ZUFjdGl2aXR5KHsgdHlwZTogJ3Rlc3QnIH0pO1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KGVycm9yU3B5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnRXJyZXVyIHNhdXZlZ2FyZGUgYWN0aXZpdMOpOicsIGV4cGVjdC5hbnkoRXJyb3IpKTtcbiAgfSk7XG5cbml0KCdkZXZyYWl0IGfDqXJlciBsZXMgZXJyZXVycyBkZSBidXMgZFxcJ8OpdsOpbmVtZW50cyBzYW5zIHBsYW50ZXInLCBhc3luYyAoKSA9PiB7XG4gIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tSZXNvbHZlZFZhbHVlKG51bGwpO1xuICBBc3luY1N0b3JhZ2Uuc2V0SXRlbS5tb2NrUmVzb2x2ZWRWYWx1ZSgpOyAvLyA8LS0gSW1wb3J0YW50IDogcGFzIGQnZXJyZXVyIGljaVxuICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMYXN0QWN0aXZpdHkoKSk7XG4gIGF3YWl0IHdhaXRGb3IoKCkgPT4gZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzTG9hZGluZykudG9CZShmYWxzZSkpO1xuXG4gIC8vIE1vY2sgbCdlcnJldXIgdW5pcXVlbWVudCBzdXIgZXZlbnRCdXMuZW1pdFxuICBldmVudEJ1cy5lbWl0Lm1vY2tJbXBsZW1lbnRhdGlvbk9uY2UoKCkgPT4geyB0aHJvdyBuZXcgRXJyb3IoJ0VycmV1ciBidXMnKTsgfSk7XG5cbiAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCByZXN1bHQuY3VycmVudC5zYXZlQWN0aXZpdHkoeyB0eXBlOiAndGVzdCcgfSk7XG4gIH0pO1xuXG4gIGV4cGVjdCh3YXJuU3B5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnRXZlbnQgYnVzIGVycm9yIChub24tY3JpdGljYWwpOicsIGV4cGVjdC5hbnkoRXJyb3IpKTtcbiAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmxhc3RBY3Rpdml0eS50eXBlKS50b0JlKCd0ZXN0Jyk7XG59KTtcblxuXG4gIGl0KCdkZXZyYWl0IHN1cHByaW1lciB1bmUgYWN0aXZpdMOpJywgYXN5bmMgKCkgPT4ge1xuICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tSZXNvbHZlZFZhbHVlT25jZShKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdleGlzdGluZycsIHRpbWVzdGFtcDogMTIzIH0pKTtcbiAgICBBc3luY1N0b3JhZ2UucmVtb3ZlSXRlbS5tb2NrUmVzb2x2ZWRWYWx1ZSgpO1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUxhc3RBY3Rpdml0eSgpKTtcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IGV4cGVjdChyZXN1bHQuY3VycmVudC5pc0xvYWRpbmcpLnRvQmUoZmFsc2UpKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubGFzdEFjdGl2aXR5KS5ub3QudG9CZU51bGwoKTtcblxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5jbGVhckFjdGl2aXR5KCk7XG4gICAgfSk7XG5cbiAgICBleHBlY3QoQXN5bmNTdG9yYWdlLnJlbW92ZUl0ZW0pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdsYXN0X2FjdGl2aXR5Jyk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmxhc3RBY3Rpdml0eSkudG9CZU51bGwoKTtcbiAgfSk7XG5cbiAgaXQoJ2RldnJhaXQgZ8OpcmVyIGxlcyBlcnJldXJzIGRlIHN1cHByZXNzaW9uIHNhbnMgcGxhbnRlcicsIGFzeW5jICgpID0+IHtcbiAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnZXhpc3RpbmcnLCB0aW1lc3RhbXA6IDEyMyB9KSk7XG4gICAgQXN5bmNTdG9yYWdlLnJlbW92ZUl0ZW0ubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdFcnJldXIgZGUgc3VwcHJlc3Npb24nKSk7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGFzdEFjdGl2aXR5KCkpO1xuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4gZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzTG9hZGluZykudG9CZShmYWxzZSkpO1xuXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmNsZWFyQWN0aXZpdHkoKTtcbiAgICB9KTtcblxuICAgIGV4cGVjdChlcnJvclNweSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ0VycmV1ciBzdXBwcmVzc2lvbiBhY3Rpdml0w6k6JywgZXhwZWN0LmFueShFcnJvcikpO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sYXN0QWN0aXZpdHkpLm5vdC50b0JlTnVsbCgpO1xuICB9KTtcblxuICAvLyA9PT09PT09PT09PT09PT09PT09IEFVVFJFUyBURVNUUyA9PT09PT09PT09PT09PT09PT09XG5cbiAgaXQoJ2RldnJhaXQgYXZvaXIgdG91dGVzIGxlcyBmb25jdGlvbnMgbsOpY2Vzc2FpcmVzJywgKCkgPT4ge1xuICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tSZXNvbHZlZFZhbHVlKG51bGwpO1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUxhc3RBY3Rpdml0eSgpKTtcblxuICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LmN1cnJlbnQuc2F2ZUFjdGl2aXR5KS50b0JlKCdmdW5jdGlvbicpO1xuICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LmN1cnJlbnQuY2xlYXJBY3Rpdml0eSkudG9CZSgnZnVuY3Rpb24nKTtcbiAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5jdXJyZW50LnJlbG9hZCkudG9CZSgnZnVuY3Rp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