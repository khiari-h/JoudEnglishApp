4683f140410dd29e178a4a6f01ee8902
'use strict';

var _styleAnimation = require("../animation/styleAnimation");
var _mutables = require("../mutables");
var _animationBuilder = require("./animationBuilder");
var _threads = require("../threads");
var TAG_OFFSET = 1e9;
var _worklet_10675557011176_init_data = {
  code: "function startObservingProgress_animationsManagerTs1(tag,sharedValue,animationType){const{LayoutAnimationType,TAG_OFFSET}=this.__closure;const isSharedTransition=animationType===LayoutAnimationType.SHARED_ELEMENT_TRANSITION;sharedValue.addListener(tag+TAG_OFFSET,function(){global._notifyAboutProgress(tag,sharedValue.value,isSharedTransition);});}",
  location: "C:\\Users\\khi_h\\Desktop\\Projets\\JoudEnglishApp\\node_modules\\react-native-reanimated\\src\\layoutReanimation\\animationsManager.ts",
  sourceMap: "{\"version\":3,\"names\":[\"startObservingProgress_animationsManagerTs1\",\"tag\",\"sharedValue\",\"animationType\",\"LayoutAnimationType\",\"TAG_OFFSET\",\"__closure\",\"isSharedTransition\",\"SHARED_ELEMENT_TRANSITION\",\"addListener\",\"global\",\"_notifyAboutProgress\",\"value\"],\"sources\":[\"C:/Users/khi_h/Desktop/Projets/JoudEnglishApp/node_modules/react-native-reanimated/src/layoutReanimation/animationsManager.ts\"],\"mappings\":\"AAcA,SAAAA,2CAGEA,CAAAC,GAAA,CAAAC,WACM,CAAAC,aAAA,QAAAC,mBAAA,CAAAC,UAAA,OAAAC,SAAA,CAEN,KAAM,CAAAC,kBAAkB,CACtBJ,aAAa,GAAKC,mBAAmB,CAACI,yBAAyB,CACjEN,WAAW,CAACO,WAAW,CAACR,GAAG,CAAGI,UAAU,CAAE,UAAM,CAC9CK,MAAM,CAACC,oBAAoB,CAACV,GAAG,CAAEC,WAAW,CAACU,KAAK,CAAEL,kBAAkB,CAAC,CACzE,CAAC,CAAC,CACJ\",\"ignoreList\":[]}",
  version: "3.16.7"
};
var startObservingProgress = function () {
  var _e = [new global.Error(), -3, -27];
  var startObservingProgress = function startObservingProgress(tag, sharedValue, animationType) {
    var isSharedTransition = animationType === _animationBuilder.LayoutAnimationType.SHARED_ELEMENT_TRANSITION;
    sharedValue.addListener(tag + TAG_OFFSET, function () {
      global._notifyAboutProgress(tag, sharedValue.value, isSharedTransition);
    });
  };
  startObservingProgress.__closure = {
    LayoutAnimationType: _animationBuilder.LayoutAnimationType,
    TAG_OFFSET: TAG_OFFSET
  };
  startObservingProgress.__workletHash = 10675557011176;
  startObservingProgress.__initData = _worklet_10675557011176_init_data;
  startObservingProgress.__stackDetails = _e;
  return startObservingProgress;
}();
var _worklet_16958055875360_init_data = {
  code: "function stopObservingProgress_animationsManagerTs2(tag,sharedValue,removeView=false){const{TAG_OFFSET}=this.__closure;sharedValue.removeListener(tag+TAG_OFFSET);global._notifyAboutEnd(tag,removeView);}",
  location: "C:\\Users\\khi_h\\Desktop\\Projets\\JoudEnglishApp\\node_modules\\react-native-reanimated\\src\\layoutReanimation\\animationsManager.ts",
  sourceMap: "{\"version\":3,\"names\":[\"stopObservingProgress_animationsManagerTs2\",\"tag\",\"sharedValue\",\"removeView\",\"TAG_OFFSET\",\"__closure\",\"removeListener\",\"global\",\"_notifyAboutEnd\"],\"sources\":[\"C:/Users/khi_h/Desktop/Projets/JoudEnglishApp/node_modules/react-native-reanimated/src/layoutReanimation/animationsManager.ts\"],\"mappings\":\"AA2BA,SAAAA,0CAGEA,CAAAC,GAAA,CAAAC,WACD,CAAOC,UAAA,cAAAC,UAAA,OAAAC,SAAA,CAENH,WAAW,CAACI,cAAc,CAACL,GAAG,CAAGG,UAAU,CAAC,CAC5CG,MAAM,CAACC,eAAe,CAACP,GAAG,CAAEE,UAAU,CAAC,CACzC\",\"ignoreList\":[]}",
  version: "3.16.7"
};
var stopObservingProgress = function () {
  var _e = [new global.Error(), -2, -27];
  var stopObservingProgress = function stopObservingProgress(tag, sharedValue) {
    var removeView = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
    sharedValue.removeListener(tag + TAG_OFFSET);
    global._notifyAboutEnd(tag, removeView);
  };
  stopObservingProgress.__closure = {
    TAG_OFFSET: TAG_OFFSET
  };
  stopObservingProgress.__workletHash = 16958055875360;
  stopObservingProgress.__initData = _worklet_16958055875360_init_data;
  stopObservingProgress.__stackDetails = _e;
  return stopObservingProgress;
}();
var _worklet_5423312481392_init_data = {
  code: "function createLayoutAnimationManager_animationsManagerTs3(){const{LayoutAnimationType,makeMutableUI,stopObservingProgress,withStyleAnimation,startObservingProgress}=this.__closure;const currentAnimationForTag=new Map();const mutableValuesForTag=new Map();return{start:function(tag,type,yogaValues,config){if(type===LayoutAnimationType.SHARED_ELEMENT_TRANSITION_PROGRESS){global.ProgressTransitionRegister.onTransitionStart(tag,yogaValues);return;}const style=config(yogaValues);let currentAnimation=style.animations;const previousAnimation=currentAnimationForTag.get(tag);if(previousAnimation){currentAnimation={...previousAnimation,...style.animations};}currentAnimationForTag.set(tag,currentAnimation);let value=mutableValuesForTag.get(tag);if(value===undefined){value=makeMutableUI(style.initialValues);mutableValuesForTag.set(tag,value);}else{stopObservingProgress(tag,value);value._value=style.initialValues;}const animation=withStyleAnimation(currentAnimation);animation.callback=function(finished){if(finished){currentAnimationForTag.delete(tag);mutableValuesForTag.delete(tag);const shouldRemoveView=type===LayoutAnimationType.EXITING;stopObservingProgress(tag,value,shouldRemoveView);}style.callback&&style.callback(finished===undefined?false:finished);};startObservingProgress(tag,value,type);value.value=animation;},stop:function(tag){const value=mutableValuesForTag.get(tag);if(!value){return;}stopObservingProgress(tag,value);}};}",
  location: "C:\\Users\\khi_h\\Desktop\\Projets\\JoudEnglishApp\\node_modules\\react-native-reanimated\\src\\layoutReanimation\\animationsManager.ts",
  sourceMap: "{\"version\":3,\"names\":[\"createLayoutAnimationManager_animationsManagerTs3\",\"LayoutAnimationType\",\"makeMutableUI\",\"stopObservingProgress\",\"withStyleAnimation\",\"startObservingProgress\",\"__closure\",\"currentAnimationForTag\",\"Map\",\"mutableValuesForTag\",\"start\",\"tag\",\"type\",\"yogaValues\",\"config\",\"SHARED_ELEMENT_TRANSITION_PROGRESS\",\"global\",\"ProgressTransitionRegister\",\"onTransitionStart\",\"style\",\"currentAnimation\",\"animations\",\"previousAnimation\",\"get\",\"set\",\"value\",\"undefined\",\"initialValues\",\"_value\",\"animation\",\"callback\",\"finished\",\"delete\",\"shouldRemoveView\",\"EXITING\",\"stop\"],\"sources\":[\"C:/Users/khi_h/Desktop/Projets/JoudEnglishApp/node_modules/react-native-reanimated/src/layoutReanimation/animationsManager.ts\"],\"mappings\":\"AAqCA,SAAAA,iDAGEA,CAAA,QAAAC,mBAAA,CAAAC,aAAA,CAAAC,qBAAA,CAAAC,kBAAA,CAAAC,sBAAA,OAAAC,SAAA,CAEA,KAAM,CAAAC,sBAAsB,CAAG,GAAI,CAAAC,GAAG,CAAC,CAAC,CACxC,KAAM,CAAAC,mBAAmB,CAAG,GAAI,CAAAD,GAAG,CAAC,CAAC,CAErC,MAAO,CACLE,KAAK,SAAAA,CACHC,GAAW,CACXC,IAAyB,CAKzBC,UAAqD,CACrDC,MAEoB,CACpB,CACA,GAAIF,IAAI,GAAKX,mBAAmB,CAACc,kCAAkC,CAAE,CACnEC,MAAM,CAACC,0BAA0B,CAACC,iBAAiB,CAACP,GAAG,CAAEE,UAAU,CAAC,CACpE,OACF,CAEA,KAAM,CAAAM,KAAK,CAAGL,MAAM,CAACD,UAAU,CAAC,CAChC,GAAI,CAAAO,gBAAgB,CAAGD,KAAK,CAACE,UAAU,CAIvC,KAAM,CAAAC,iBAAiB,CAAGf,sBAAsB,CAACgB,GAAG,CAACZ,GAAG,CAAC,CACzD,GAAIW,iBAAiB,CAAE,CACrBF,gBAAgB,CAAG,CAAE,GAAGE,iBAAiB,CAAE,GAAGH,KAAK,CAACE,UAAW,CAAC,CAClE,CACAd,sBAAsB,CAACiB,GAAG,CAACb,GAAG,CAAES,gBAAgB,CAAC,CAEjD,GAAI,CAAAK,KAAK,CAAGhB,mBAAmB,CAACc,GAAG,CAACZ,GAAG,CAAC,CACxC,GAAIc,KAAK,GAAKC,SAAS,CAAE,CACvBD,KAAK,CAAGvB,aAAa,CAACiB,KAAK,CAACQ,aAAa,CAAC,CAC1ClB,mBAAmB,CAACe,GAAG,CAACb,GAAG,CAAEc,KAAK,CAAC,CACrC,CAAC,IAAM,CACLtB,qBAAqB,CAACQ,GAAG,CAAEc,KAAK,CAAC,CACjCA,KAAK,CAACG,MAAM,CAAGT,KAAK,CAACQ,aAAa,CACpC,CAGA,KAAM,CAAAE,SAAS,CAAGzB,kBAAkB,CAACgB,gBAAgB,CAAC,CAEtDS,SAAS,CAACC,QAAQ,CAAG,SAACC,QAAkB,CAAK,CAC3C,GAAIA,QAAQ,CAAE,CACZxB,sBAAsB,CAACyB,MAAM,CAACrB,GAAG,CAAC,CAClCF,mBAAmB,CAACuB,MAAM,CAACrB,GAAG,CAAC,CAC/B,KAAM,CAAAsB,gBAAgB,CAAGrB,IAAI,GAAKX,mBAAmB,CAACiC,OAAO,CAC7D/B,qBAAqB,CAACQ,GAAG,CAAEc,KAAK,CAAEQ,gBAAgB,CAAC,CACrD,CACAd,KAAK,CAACW,QAAQ,EACZX,KAAK,CAACW,QAAQ,CAACC,QAAQ,GAAKL,SAAS,CAAG,KAAK,CAAGK,QAAQ,CAAC,CAC7D,CAAC,CAED1B,sBAAsB,CAACM,GAAG,CAAEc,KAAK,CAAEb,IAAI,CAAC,CACxCa,KAAK,CAACA,KAAK,CAAGI,SAAS,CACzB,CAAC,CACDM,IAAI,SAAAA,CAACxB,GAAW,CAAE,CAChB,KAAM,CAAAc,KAAK,CAAGhB,mBAAmB,CAACc,GAAG,CAACZ,GAAG,CAAC,CAC1C,GAAI,CAACc,KAAK,CAAE,CACV,OACF,CACAtB,qBAAqB,CAACQ,GAAG,CAAEc,KAAK,CAAC,CACnC,CACF,CAAC,CACH\",\"ignoreList\":[]}",
  version: "3.16.7"
};
var createLayoutAnimationManager = function () {
  var _e = [new global.Error(), -6, -27];
  var createLayoutAnimationManager = function createLayoutAnimationManager() {
    var currentAnimationForTag = new Map();
    var mutableValuesForTag = new Map();
    return {
      start: function start(tag, type, yogaValues, config) {
        if (type === _animationBuilder.LayoutAnimationType.SHARED_ELEMENT_TRANSITION_PROGRESS) {
          global.ProgressTransitionRegister.onTransitionStart(tag, yogaValues);
          return;
        }
        var style = config(yogaValues);
        var currentAnimation = style.animations;
        var previousAnimation = currentAnimationForTag.get(tag);
        if (previousAnimation) {
          currentAnimation = Object.assign({}, previousAnimation, style.animations);
        }
        currentAnimationForTag.set(tag, currentAnimation);
        var value = mutableValuesForTag.get(tag);
        if (value === undefined) {
          value = (0, _mutables.makeMutableUI)(style.initialValues);
          mutableValuesForTag.set(tag, value);
        } else {
          stopObservingProgress(tag, value);
          value._value = style.initialValues;
        }
        var animation = (0, _styleAnimation.withStyleAnimation)(currentAnimation);
        animation.callback = function (finished) {
          if (finished) {
            currentAnimationForTag.delete(tag);
            mutableValuesForTag.delete(tag);
            var shouldRemoveView = type === _animationBuilder.LayoutAnimationType.EXITING;
            stopObservingProgress(tag, value, shouldRemoveView);
          }
          style.callback && style.callback(finished === undefined ? false : finished);
        };
        startObservingProgress(tag, value, type);
        value.value = animation;
      },
      stop: function stop(tag) {
        var value = mutableValuesForTag.get(tag);
        if (!value) {
          return;
        }
        stopObservingProgress(tag, value);
      }
    };
  };
  createLayoutAnimationManager.__closure = {
    LayoutAnimationType: _animationBuilder.LayoutAnimationType,
    makeMutableUI: _mutables.makeMutableUI,
    stopObservingProgress: stopObservingProgress,
    withStyleAnimation: _styleAnimation.withStyleAnimation,
    startObservingProgress: startObservingProgress
  };
  createLayoutAnimationManager.__workletHash = 5423312481392;
  createLayoutAnimationManager.__initData = _worklet_5423312481392_init_data;
  createLayoutAnimationManager.__stackDetails = _e;
  return createLayoutAnimationManager;
}();
var _worklet_6336697456501_init_data = {
  code: "function animationsManagerTs4(){const{createLayoutAnimationManager}=this.__closure;global.LayoutAnimationsManager=createLayoutAnimationManager();}",
  location: "C:\\Users\\khi_h\\Desktop\\Projets\\JoudEnglishApp\\node_modules\\react-native-reanimated\\src\\layoutReanimation\\animationsManager.ts",
  sourceMap: "{\"version\":3,\"names\":[\"animationsManagerTs4\",\"createLayoutAnimationManager\",\"__closure\",\"global\",\"LayoutAnimationsManager\"],\"sources\":[\"C:/Users/khi_h/Desktop/Projets/JoudEnglishApp/node_modules/react-native-reanimated/src/layoutReanimation/animationsManager.ts\"],\"mappings\":\"AA8GmB,SAAAA,oBAAMA,CAAA,QAAAC,4BAAA,OAAAC,SAAA,CAEvBC,MAAM,CAACC,uBAAuB,CAAGH,4BAA4B,CAAC,CAAC,CACjE\",\"ignoreList\":[]}",
  version: "3.16.7"
};
(0, _threads.runOnUIImmediately)(function () {
  var _e = [new global.Error(), -2, -27];
  var animationsManagerTs4 = function animationsManagerTs4() {
    global.LayoutAnimationsManager = createLayoutAnimationManager();
  };
  animationsManagerTs4.__closure = {
    createLayoutAnimationManager: createLayoutAnimationManager
  };
  animationsManagerTs4.__workletHash = 6336697456501;
  animationsManagerTs4.__initData = _worklet_6336697456501_init_data;
  animationsManagerTs4.__stackDetails = _e;
  return animationsManagerTs4;
}())();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfc3R5bGVBbmltYXRpb24iLCJyZXF1aXJlIiwiX211dGFibGVzIiwiX2FuaW1hdGlvbkJ1aWxkZXIiLCJfdGhyZWFkcyIsIlRBR19PRkZTRVQiLCJfd29ya2xldF8xMDY3NTU1NzAxMTE3Nl9pbml0X2RhdGEiLCJjb2RlIiwibG9jYXRpb24iLCJzb3VyY2VNYXAiLCJ2ZXJzaW9uIiwic3RhcnRPYnNlcnZpbmdQcm9ncmVzcyIsIl9lIiwiZ2xvYmFsIiwiRXJyb3IiLCJ0YWciLCJzaGFyZWRWYWx1ZSIsImFuaW1hdGlvblR5cGUiLCJpc1NoYXJlZFRyYW5zaXRpb24iLCJMYXlvdXRBbmltYXRpb25UeXBlIiwiU0hBUkVEX0VMRU1FTlRfVFJBTlNJVElPTiIsImFkZExpc3RlbmVyIiwiX25vdGlmeUFib3V0UHJvZ3Jlc3MiLCJ2YWx1ZSIsIl9fY2xvc3VyZSIsIl9fd29ya2xldEhhc2giLCJfX2luaXREYXRhIiwiX19zdGFja0RldGFpbHMiLCJfd29ya2xldF8xNjk1ODA1NTg3NTM2MF9pbml0X2RhdGEiLCJzdG9wT2JzZXJ2aW5nUHJvZ3Jlc3MiLCJyZW1vdmVWaWV3IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwicmVtb3ZlTGlzdGVuZXIiLCJfbm90aWZ5QWJvdXRFbmQiLCJfd29ya2xldF81NDIzMzEyNDgxMzkyX2luaXRfZGF0YSIsImNyZWF0ZUxheW91dEFuaW1hdGlvbk1hbmFnZXIiLCJjdXJyZW50QW5pbWF0aW9uRm9yVGFnIiwiTWFwIiwibXV0YWJsZVZhbHVlc0ZvclRhZyIsInN0YXJ0IiwidHlwZSIsInlvZ2FWYWx1ZXMiLCJjb25maWciLCJTSEFSRURfRUxFTUVOVF9UUkFOU0lUSU9OX1BST0dSRVNTIiwiUHJvZ3Jlc3NUcmFuc2l0aW9uUmVnaXN0ZXIiLCJvblRyYW5zaXRpb25TdGFydCIsInN0eWxlIiwiY3VycmVudEFuaW1hdGlvbiIsImFuaW1hdGlvbnMiLCJwcmV2aW91c0FuaW1hdGlvbiIsImdldCIsIk9iamVjdCIsImFzc2lnbiIsInNldCIsIm1ha2VNdXRhYmxlVUkiLCJpbml0aWFsVmFsdWVzIiwiX3ZhbHVlIiwiYW5pbWF0aW9uIiwid2l0aFN0eWxlQW5pbWF0aW9uIiwiY2FsbGJhY2siLCJmaW5pc2hlZCIsImRlbGV0ZSIsInNob3VsZFJlbW92ZVZpZXciLCJFWElUSU5HIiwic3RvcCIsIl93b3JrbGV0XzYzMzY2OTc0NTY1MDFfaW5pdF9kYXRhIiwicnVuT25VSUltbWVkaWF0ZWx5IiwiYW5pbWF0aW9uc01hbmFnZXJUczQiLCJMYXlvdXRBbmltYXRpb25zTWFuYWdlciJdLCJzb3VyY2VzIjpbImFuaW1hdGlvbnNNYW5hZ2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IHdpdGhTdHlsZUFuaW1hdGlvbiB9IGZyb20gJy4uL2FuaW1hdGlvbi9zdHlsZUFuaW1hdGlvbic7XG5pbXBvcnQgdHlwZSB7IFNoYXJlZFZhbHVlIH0gZnJvbSAnLi4vY29tbW9uVHlwZXMnO1xuaW1wb3J0IHsgbWFrZU11dGFibGVVSSB9IGZyb20gJy4uL211dGFibGVzJztcbmltcG9ydCB7IExheW91dEFuaW1hdGlvblR5cGUgfSBmcm9tICcuL2FuaW1hdGlvbkJ1aWxkZXInO1xuaW1wb3J0IHsgcnVuT25VSUltbWVkaWF0ZWx5IH0gZnJvbSAnLi4vdGhyZWFkcyc7XG5pbXBvcnQgdHlwZSB7XG4gIFNoYXJlZFRyYW5zaXRpb25BbmltYXRpb25zVmFsdWVzLFxuICBMYXlvdXRBbmltYXRpb24sXG4gIExheW91dEFuaW1hdGlvblN0YXJ0RnVuY3Rpb24sXG59IGZyb20gJy4vYW5pbWF0aW9uQnVpbGRlci9jb21tb25UeXBlcyc7XG5cbmNvbnN0IFRBR19PRkZTRVQgPSAxZTk7XG5cbmZ1bmN0aW9uIHN0YXJ0T2JzZXJ2aW5nUHJvZ3Jlc3MoXG4gIHRhZzogbnVtYmVyLFxuICBzaGFyZWRWYWx1ZTogU2hhcmVkVmFsdWU8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+LFxuICBhbmltYXRpb25UeXBlOiBMYXlvdXRBbmltYXRpb25UeXBlXG4pOiB2b2lkIHtcbiAgJ3dvcmtsZXQnO1xuICBjb25zdCBpc1NoYXJlZFRyYW5zaXRpb24gPVxuICAgIGFuaW1hdGlvblR5cGUgPT09IExheW91dEFuaW1hdGlvblR5cGUuU0hBUkVEX0VMRU1FTlRfVFJBTlNJVElPTjtcbiAgc2hhcmVkVmFsdWUuYWRkTGlzdGVuZXIodGFnICsgVEFHX09GRlNFVCwgKCkgPT4ge1xuICAgIGdsb2JhbC5fbm90aWZ5QWJvdXRQcm9ncmVzcyh0YWcsIHNoYXJlZFZhbHVlLnZhbHVlLCBpc1NoYXJlZFRyYW5zaXRpb24pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gc3RvcE9ic2VydmluZ1Byb2dyZXNzKFxuICB0YWc6IG51bWJlcixcbiAgc2hhcmVkVmFsdWU6IFNoYXJlZFZhbHVlPG51bWJlcj4sXG4gIHJlbW92ZVZpZXcgPSBmYWxzZVxuKTogdm9pZCB7XG4gICd3b3JrbGV0JztcbiAgc2hhcmVkVmFsdWUucmVtb3ZlTGlzdGVuZXIodGFnICsgVEFHX09GRlNFVCk7XG4gIGdsb2JhbC5fbm90aWZ5QWJvdXRFbmQodGFnLCByZW1vdmVWaWV3KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGF5b3V0QW5pbWF0aW9uTWFuYWdlcigpOiB7XG4gIHN0YXJ0OiBMYXlvdXRBbmltYXRpb25TdGFydEZ1bmN0aW9uO1xuICBzdG9wOiAodGFnOiBudW1iZXIpID0+IHZvaWQ7XG59IHtcbiAgJ3dvcmtsZXQnO1xuICBjb25zdCBjdXJyZW50QW5pbWF0aW9uRm9yVGFnID0gbmV3IE1hcCgpO1xuICBjb25zdCBtdXRhYmxlVmFsdWVzRm9yVGFnID0gbmV3IE1hcCgpO1xuXG4gIHJldHVybiB7XG4gICAgc3RhcnQoXG4gICAgICB0YWc6IG51bWJlcixcbiAgICAgIHR5cGU6IExheW91dEFuaW1hdGlvblR5cGUsXG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZUxheW91dEFuaW1hdGlvbk1hbmFnZXIgY3JlYXRlcyBhbiBhbmltYXRpb24gbWFuYWdlciBmb3IgYm90aFxuICAgICAgICogTGF5b3V0IGFuaW1hdGlvbnMgYW5kIFNoYXJlZCBUcmFuc2l0aW9uIEVsZW1lbnRzIGFuaW1hdGlvbnMuXG4gICAgICAgKi9cbiAgICAgIHlvZ2FWYWx1ZXM6IFBhcnRpYWw8U2hhcmVkVHJhbnNpdGlvbkFuaW1hdGlvbnNWYWx1ZXM+LFxuICAgICAgY29uZmlnOiAoXG4gICAgICAgIGFyZzogUGFydGlhbDxTaGFyZWRUcmFuc2l0aW9uQW5pbWF0aW9uc1ZhbHVlcz5cbiAgICAgICkgPT4gTGF5b3V0QW5pbWF0aW9uXG4gICAgKSB7XG4gICAgICBpZiAodHlwZSA9PT0gTGF5b3V0QW5pbWF0aW9uVHlwZS5TSEFSRURfRUxFTUVOVF9UUkFOU0lUSU9OX1BST0dSRVNTKSB7XG4gICAgICAgIGdsb2JhbC5Qcm9ncmVzc1RyYW5zaXRpb25SZWdpc3Rlci5vblRyYW5zaXRpb25TdGFydCh0YWcsIHlvZ2FWYWx1ZXMpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHN0eWxlID0gY29uZmlnKHlvZ2FWYWx1ZXMpO1xuICAgICAgbGV0IGN1cnJlbnRBbmltYXRpb24gPSBzdHlsZS5hbmltYXRpb25zO1xuXG4gICAgICAvLyBXaGVuIGxheW91dCBhbmltYXRpb24gaXMgcmVxdWVzdGVkLCBidXQgYSBwcmV2aW91cyBvbmUgaXMgc3RpbGwgcnVubmluZywgd2UgbWVyZ2VcbiAgICAgIC8vIG5ldyBsYXlvdXQgYW5pbWF0aW9uIHRhcmdldHMgaW50byB0aGUgb25nb2luZyBhbmltYXRpb25cbiAgICAgIGNvbnN0IHByZXZpb3VzQW5pbWF0aW9uID0gY3VycmVudEFuaW1hdGlvbkZvclRhZy5nZXQodGFnKTtcbiAgICAgIGlmIChwcmV2aW91c0FuaW1hdGlvbikge1xuICAgICAgICBjdXJyZW50QW5pbWF0aW9uID0geyAuLi5wcmV2aW91c0FuaW1hdGlvbiwgLi4uc3R5bGUuYW5pbWF0aW9ucyB9O1xuICAgICAgfVxuICAgICAgY3VycmVudEFuaW1hdGlvbkZvclRhZy5zZXQodGFnLCBjdXJyZW50QW5pbWF0aW9uKTtcblxuICAgICAgbGV0IHZhbHVlID0gbXV0YWJsZVZhbHVlc0ZvclRhZy5nZXQodGFnKTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlID0gbWFrZU11dGFibGVVSShzdHlsZS5pbml0aWFsVmFsdWVzKTtcbiAgICAgICAgbXV0YWJsZVZhbHVlc0ZvclRhZy5zZXQodGFnLCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdG9wT2JzZXJ2aW5nUHJvZ3Jlc3ModGFnLCB2YWx1ZSk7XG4gICAgICAgIHZhbHVlLl92YWx1ZSA9IHN0eWxlLmluaXRpYWxWYWx1ZXM7XG4gICAgICB9XG5cbiAgICAgIC8vIEB0cy1pZ25vcmUgVGhlIGxpbmUgYmVsb3cgc3RhcnRlZCBmYWlsaW5nIGJlY2F1c2UgSSBhZGRlZCB0eXBlcyB0byB0aGUgbWV0aG9kIOKAkyBkb24ndCBoYXZlIHRpbWUgdG8gZml4IGl0IHJpZ2h0IG5vd1xuICAgICAgY29uc3QgYW5pbWF0aW9uID0gd2l0aFN0eWxlQW5pbWF0aW9uKGN1cnJlbnRBbmltYXRpb24pO1xuXG4gICAgICBhbmltYXRpb24uY2FsbGJhY2sgPSAoZmluaXNoZWQ/OiBib29sZWFuKSA9PiB7XG4gICAgICAgIGlmIChmaW5pc2hlZCkge1xuICAgICAgICAgIGN1cnJlbnRBbmltYXRpb25Gb3JUYWcuZGVsZXRlKHRhZyk7XG4gICAgICAgICAgbXV0YWJsZVZhbHVlc0ZvclRhZy5kZWxldGUodGFnKTtcbiAgICAgICAgICBjb25zdCBzaG91bGRSZW1vdmVWaWV3ID0gdHlwZSA9PT0gTGF5b3V0QW5pbWF0aW9uVHlwZS5FWElUSU5HO1xuICAgICAgICAgIHN0b3BPYnNlcnZpbmdQcm9ncmVzcyh0YWcsIHZhbHVlLCBzaG91bGRSZW1vdmVWaWV3KTtcbiAgICAgICAgfVxuICAgICAgICBzdHlsZS5jYWxsYmFjayAmJlxuICAgICAgICAgIHN0eWxlLmNhbGxiYWNrKGZpbmlzaGVkID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGZpbmlzaGVkKTtcbiAgICAgIH07XG5cbiAgICAgIHN0YXJ0T2JzZXJ2aW5nUHJvZ3Jlc3ModGFnLCB2YWx1ZSwgdHlwZSk7XG4gICAgICB2YWx1ZS52YWx1ZSA9IGFuaW1hdGlvbjtcbiAgICB9LFxuICAgIHN0b3AodGFnOiBudW1iZXIpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gbXV0YWJsZVZhbHVlc0ZvclRhZy5nZXQodGFnKTtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc3RvcE9ic2VydmluZ1Byb2dyZXNzKHRhZywgdmFsdWUpO1xuICAgIH0sXG4gIH07XG59XG5cbnJ1bk9uVUlJbW1lZGlhdGVseSgoKSA9PiB7XG4gICd3b3JrbGV0JztcbiAgZ2xvYmFsLkxheW91dEFuaW1hdGlvbnNNYW5hZ2VyID0gY3JlYXRlTGF5b3V0QW5pbWF0aW9uTWFuYWdlcigpO1xufSkoKTtcblxuZXhwb3J0IHR5cGUgTGF5b3V0QW5pbWF0aW9uc01hbmFnZXIgPSBSZXR1cm5UeXBlPFxuICB0eXBlb2YgY3JlYXRlTGF5b3V0QW5pbWF0aW9uTWFuYWdlclxuPjtcbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFDWixJQUFBQSxlQUFBLEdBQUFDLE9BQUE7QUFFQSxJQUFBQyxTQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxpQkFBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsUUFBQSxHQUFBSCxPQUFBO0FBT0EsSUFBTUksVUFBVSxHQUFHLEdBQUc7QUFBQyxJQUFBQyxpQ0FBQTtFQUFBQyxJQUFBO0VBQUFDLFFBQUE7RUFBQUMsU0FBQTtFQUFBQyxPQUFBO0FBQUE7QUFBQSxJQUFBQyxzQkFBQSxHQUV2QjtFQUFBLElBQUFDLEVBQUEsUUFBQUMsTUFBQSxDQUFBQyxLQUFBO0VBQUEsSUFBQUgsc0JBQUEsWUFBQUEsdUJBQ0VJLEdBQVcsRUFDWEMsV0FBaUQsRUFDakRDLGFBQWtDLEVBQzVCO0lBRU4sSUFBTUMsa0JBQWtCLEdBQ3RCRCxhQUFhLEtBQUtFLHFDQUFtQixDQUFDQyx5QkFBeUI7SUFDakVKLFdBQVcsQ0FBQ0ssV0FBVyxDQUFDTixHQUFHLEdBQUdWLFVBQVUsRUFBRSxZQUFNO01BQzlDUSxNQUFNLENBQUNTLG9CQUFvQixDQUFDUCxHQUFHLEVBQUVDLFdBQVcsQ0FBQ08sS0FBSyxFQUFFTCxrQkFBa0IsQ0FBQztJQUN6RSxDQUFDLENBQUM7RUFDSixDQUFDO0VBQUFQLHNCQUFBLENBQUFhLFNBQUE7SUFBQUwsbUJBQUEsRUFSZ0JBLHFDQUFtQjtJQUFBZCxVQUFBLEVBS0pBO0VBQVU7RUFBQU0sc0JBQUEsQ0FBQWMsYUFBQTtFQUFBZCxzQkFBQSxDQUFBZSxVQUFBLEdBQUFwQixpQ0FBQTtFQUFBSyxzQkFBQSxDQUFBZ0IsY0FBQSxHQUFBZixFQUFBO0VBQUEsT0FBQUQsc0JBQUE7QUFBQSxDQVIxQztBQUFBLElBQUFpQixpQ0FBQTtFQUFBckIsSUFBQTtFQUFBQyxRQUFBO0VBQUFDLFNBQUE7RUFBQUMsT0FBQTtBQUFBO0FBQUEsSUFBQW1CLHFCQUFBLEdBYUE7RUFBQSxJQUFBakIsRUFBQSxRQUFBQyxNQUFBLENBQUFDLEtBQUE7RUFBQSxJQUFBZSxxQkFBQSxZQUFBQSxzQkFDRWQsR0FBVyxFQUNYQyxXQUFnQyxFQUUxQjtJQUFBLElBRE5jLFVBQVUsR0FBQUMsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsS0FBSztJQUdsQmYsV0FBVyxDQUFDa0IsY0FBYyxDQUFDbkIsR0FBRyxHQUFHVixVQUFVLENBQUM7SUFDNUNRLE1BQU0sQ0FBQ3NCLGVBQWUsQ0FBQ3BCLEdBQUcsRUFBRWUsVUFBVSxDQUFDO0VBQ3pDLENBQUM7RUFBQUQscUJBQUEsQ0FBQUwsU0FBQTtJQUFBbkIsVUFBQSxFQUZrQ0E7RUFBVTtFQUFBd0IscUJBQUEsQ0FBQUosYUFBQTtFQUFBSSxxQkFBQSxDQUFBSCxVQUFBLEdBQUFFLGlDQUFBO0VBQUFDLHFCQUFBLENBQUFGLGNBQUEsR0FBQWYsRUFBQTtFQUFBLE9BQUFpQixxQkFBQTtBQUFBLENBTjdDO0FBQUEsSUFBQU8sZ0NBQUE7RUFBQTdCLElBQUE7RUFBQUMsUUFBQTtFQUFBQyxTQUFBO0VBQUFDLE9BQUE7QUFBQTtBQUFBLElBQUEyQiw0QkFBQSxHQVVBO0VBQUEsSUFBQXpCLEVBQUEsUUFBQUMsTUFBQSxDQUFBQyxLQUFBO0VBQUEsSUFBQXVCLDRCQUFBLFlBQUFBLDZCQUFBLEVBR0U7SUFFQSxJQUFNQyxzQkFBc0IsR0FBRyxJQUFJQyxHQUFHLENBQUMsQ0FBQztJQUN4QyxJQUFNQyxtQkFBbUIsR0FBRyxJQUFJRCxHQUFHLENBQUMsQ0FBQztJQUVyQyxPQUFPO01BQ0xFLEtBQUssV0FBTEEsS0FBS0EsQ0FDSDFCLEdBQVcsRUFDWDJCLElBQXlCLEVBS3pCQyxVQUFxRCxFQUNyREMsTUFFb0IsRUFDcEI7UUFDQSxJQUFJRixJQUFJLEtBQUt2QixxQ0FBbUIsQ0FBQzBCLGtDQUFrQyxFQUFFO1VBQ25FaEMsTUFBTSxDQUFDaUMsMEJBQTBCLENBQUNDLGlCQUFpQixDQUFDaEMsR0FBRyxFQUFFNEIsVUFBVSxDQUFDO1VBQ3BFO1FBQ0Y7UUFFQSxJQUFNSyxLQUFLLEdBQUdKLE1BQU0sQ0FBQ0QsVUFBVSxDQUFDO1FBQ2hDLElBQUlNLGdCQUFnQixHQUFHRCxLQUFLLENBQUNFLFVBQVU7UUFJdkMsSUFBTUMsaUJBQWlCLEdBQUdiLHNCQUFzQixDQUFDYyxHQUFHLENBQUNyQyxHQUFHLENBQUM7UUFDekQsSUFBSW9DLGlCQUFpQixFQUFFO1VBQ3JCRixnQkFBZ0IsR0FBQUksTUFBQSxDQUFBQyxNQUFBLEtBQVFILGlCQUFpQixFQUFLSCxLQUFLLENBQUNFLFVBQVUsQ0FBRTtRQUNsRTtRQUNBWixzQkFBc0IsQ0FBQ2lCLEdBQUcsQ0FBQ3hDLEdBQUcsRUFBRWtDLGdCQUFnQixDQUFDO1FBRWpELElBQUkxQixLQUFLLEdBQUdpQixtQkFBbUIsQ0FBQ1ksR0FBRyxDQUFDckMsR0FBRyxDQUFDO1FBQ3hDLElBQUlRLEtBQUssS0FBS1UsU0FBUyxFQUFFO1VBQ3ZCVixLQUFLLEdBQUcsSUFBQWlDLHVCQUFhLEVBQUNSLEtBQUssQ0FBQ1MsYUFBYSxDQUFDO1VBQzFDakIsbUJBQW1CLENBQUNlLEdBQUcsQ0FBQ3hDLEdBQUcsRUFBRVEsS0FBSyxDQUFDO1FBQ3JDLENBQUMsTUFBTTtVQUNMTSxxQkFBcUIsQ0FBQ2QsR0FBRyxFQUFFUSxLQUFLLENBQUM7VUFDakNBLEtBQUssQ0FBQ21DLE1BQU0sR0FBR1YsS0FBSyxDQUFDUyxhQUFhO1FBQ3BDO1FBR0EsSUFBTUUsU0FBUyxHQUFHLElBQUFDLGtDQUFrQixFQUFDWCxnQkFBZ0IsQ0FBQztRQUV0RFUsU0FBUyxDQUFDRSxRQUFRLEdBQUcsVUFBQ0MsUUFBa0IsRUFBSztVQUMzQyxJQUFJQSxRQUFRLEVBQUU7WUFDWnhCLHNCQUFzQixDQUFDeUIsTUFBTSxDQUFDaEQsR0FBRyxDQUFDO1lBQ2xDeUIsbUJBQW1CLENBQUN1QixNQUFNLENBQUNoRCxHQUFHLENBQUM7WUFDL0IsSUFBTWlELGdCQUFnQixHQUFHdEIsSUFBSSxLQUFLdkIscUNBQW1CLENBQUM4QyxPQUFPO1lBQzdEcEMscUJBQXFCLENBQUNkLEdBQUcsRUFBRVEsS0FBSyxFQUFFeUMsZ0JBQWdCLENBQUM7VUFDckQ7VUFDQWhCLEtBQUssQ0FBQ2EsUUFBUSxJQUNaYixLQUFLLENBQUNhLFFBQVEsQ0FBQ0MsUUFBUSxLQUFLN0IsU0FBUyxHQUFHLEtBQUssR0FBRzZCLFFBQVEsQ0FBQztRQUM3RCxDQUFDO1FBRURuRCxzQkFBc0IsQ0FBQ0ksR0FBRyxFQUFFUSxLQUFLLEVBQUVtQixJQUFJLENBQUM7UUFDeENuQixLQUFLLENBQUNBLEtBQUssR0FBR29DLFNBQVM7TUFDekIsQ0FBQztNQUNETyxJQUFJLFdBQUpBLElBQUlBLENBQUNuRCxHQUFXLEVBQUU7UUFDaEIsSUFBTVEsS0FBSyxHQUFHaUIsbUJBQW1CLENBQUNZLEdBQUcsQ0FBQ3JDLEdBQUcsQ0FBQztRQUMxQyxJQUFJLENBQUNRLEtBQUssRUFBRTtVQUNWO1FBQ0Y7UUFDQU0scUJBQXFCLENBQUNkLEdBQUcsRUFBRVEsS0FBSyxDQUFDO01BQ25DO0lBQ0YsQ0FBQztFQUNILENBQUM7RUFBQWMsNEJBQUEsQ0FBQWIsU0FBQTtJQUFBTCxtQkFBQSxFQTVEV0EscUNBQW1CO0lBQUFxQyxhQUFBLEVBNEJmQSx1QkFBYTtJQUFBM0IscUJBQUEsRUFHckJBLHFCQUFxQjtJQUFBK0Isa0JBQUEsRUFLTEEsa0NBQWtCO0lBQUFqRCxzQkFBQSxFQWFwQ0E7RUFBc0I7RUFBQTBCLDRCQUFBLENBQUFaLGFBQUE7RUFBQVksNEJBQUEsQ0FBQVgsVUFBQSxHQUFBVSxnQ0FBQTtFQUFBQyw0QkFBQSxDQUFBVixjQUFBLEdBQUFmLEVBQUE7RUFBQSxPQUFBeUIsNEJBQUE7QUFBQSxDQTVENUI7QUFBQSxJQUFBOEIsZ0NBQUE7RUFBQTVELElBQUE7RUFBQUMsUUFBQTtFQUFBQyxTQUFBO0VBQUFDLE9BQUE7QUFBQTtBQXlFQSxJQUFBMEQsMkJBQWtCLEVBQUM7RUFBQSxJQUFBeEQsRUFBQSxRQUFBQyxNQUFBLENBQUFDLEtBQUE7RUFBQSxJQUFBdUQsb0JBQUEsWUFBQUEscUJBQUEsRUFBTTtJQUV2QnhELE1BQU0sQ0FBQ3lELHVCQUF1QixHQUFHakMsNEJBQTRCLENBQUMsQ0FBQztFQUNqRSxDQUFDO0VBQUFnQyxvQkFBQSxDQUFBN0MsU0FBQTtJQUFBYSw0QkFBQSxFQURrQ0E7RUFBNEI7RUFBQWdDLG9CQUFBLENBQUE1QyxhQUFBO0VBQUE0QyxvQkFBQSxDQUFBM0MsVUFBQSxHQUFBeUMsZ0NBQUE7RUFBQUUsb0JBQUEsQ0FBQTFDLGNBQUEsR0FBQWYsRUFBQTtFQUFBLE9BQUF5RCxvQkFBQTtBQUFBLENBRjVDLEVBR2xCLENBQUMsQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119