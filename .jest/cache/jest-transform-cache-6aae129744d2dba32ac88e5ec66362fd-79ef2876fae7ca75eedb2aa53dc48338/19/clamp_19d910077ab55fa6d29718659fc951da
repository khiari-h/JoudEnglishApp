740479a659d4ff547ee069ffb1582586
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.withClamp = void 0;
var _util = require("./util");
var _logger = require("../logger");
var _worklet_374384363074_init_data = {
  code: "function clampTs1(config,_animationToClamp){const{defineAnimation,recognizePrefixSuffix,logger,getReduceMotionForAnimation}=this.__closure;return defineAnimation(_animationToClamp,function(){'worklet';const animationToClamp=typeof _animationToClamp==='function'?_animationToClamp():_animationToClamp;const strippedMin=config.min===undefined?undefined:recognizePrefixSuffix(config.min).strippedValue;const strippedMax=config.max===undefined?undefined:recognizePrefixSuffix(config.max).strippedValue;function clampOnFrame(animation,now){const finished=animationToClamp.onFrame(animationToClamp,now);if(animationToClamp.current===undefined){logger.warn(\"Error inside 'withClamp' animation, the inner animation has invalid current value\");return true;}else{const{prefix:prefix,strippedValue:strippedValue,suffix:suffix}=recognizePrefixSuffix(animationToClamp.current);let newValue;if(strippedMax!==undefined&&strippedMax<strippedValue){newValue=strippedMax;}else if(strippedMin!==undefined&&strippedMin>strippedValue){newValue=strippedMin;}else{newValue=strippedValue;}animation.current=typeof animationToClamp.current==='number'?newValue:\"\"+(prefix===undefined?'':prefix)+newValue+(suffix===undefined?'':suffix);}return finished;}function onStart(animation,value,now,previousAnimation){animation.current=value;animation.previousAnimation=animationToClamp;const animationBeforeClamped=previousAnimation===null||previousAnimation===void 0?void 0:previousAnimation.previousAnimation;if(config.max!==undefined&&config.min!==undefined&&config.max<config.min){logger.warn('Wrong config was provided to withClamp. Min value is bigger than max');}animationToClamp.onStart(animationToClamp,(animationBeforeClamped===null||animationBeforeClamped===void 0?void 0:animationBeforeClamped.current)||value,now,animationBeforeClamped);}const callback=function(finished){if(animationToClamp.callback){animationToClamp.callback(finished);}};return{isHigherOrder:true,onFrame:clampOnFrame,onStart:onStart,current:animationToClamp.current,callback:callback,previousAnimation:null,reduceMotion:getReduceMotionForAnimation(config.reduceMotion)};});}",
  location: "C:\\Users\\khi_h\\Desktop\\Projets\\JoudEnglishApp\\node_modules\\react-native-reanimated\\src\\animation\\clamp.ts",
  sourceMap: "{\"version\":3,\"names\":[\"clampTs1\",\"config\",\"_animationToClamp\",\"defineAnimation\",\"recognizePrefixSuffix\",\"logger\",\"getReduceMotionForAnimation\",\"__closure\",\"animationToClamp\",\"strippedMin\",\"min\",\"undefined\",\"strippedValue\",\"strippedMax\",\"max\",\"clampOnFrame\",\"animation\",\"now\",\"finished\",\"onFrame\",\"current\",\"warn\",\"prefix\",\"suffix\",\"newValue\",\"onStart\",\"value\",\"previousAnimation\",\"animationBeforeClamped\",\"callback\",\"isHigherOrder\",\"reduceMotion\"],\"sources\":[\"C:/Users/khi_h/Desktop/Projets/JoudEnglishApp/node_modules/react-native-reanimated/src/animation/clamp.ts\"],\"mappings\":\"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\",\"ignoreList\":[]}",
  version: "3.16.7"
};
var _worklet_6147952660606_init_data = {
  code: "function clampTs2(){const{_animationToClamp,config,recognizePrefixSuffix,logger,getReduceMotionForAnimation}=this.__closure;const animationToClamp=typeof _animationToClamp==='function'?_animationToClamp():_animationToClamp;const strippedMin=config.min===undefined?undefined:recognizePrefixSuffix(config.min).strippedValue;const strippedMax=config.max===undefined?undefined:recognizePrefixSuffix(config.max).strippedValue;function clampOnFrame(animation,now){const finished=animationToClamp.onFrame(animationToClamp,now);if(animationToClamp.current===undefined){logger.warn(\"Error inside 'withClamp' animation, the inner animation has invalid current value\");return true;}else{const{prefix:prefix,strippedValue:strippedValue,suffix:suffix}=recognizePrefixSuffix(animationToClamp.current);let newValue;if(strippedMax!==undefined&&strippedMax<strippedValue){newValue=strippedMax;}else if(strippedMin!==undefined&&strippedMin>strippedValue){newValue=strippedMin;}else{newValue=strippedValue;}animation.current=typeof animationToClamp.current==='number'?newValue:\"\"+(prefix===undefined?'':prefix)+newValue+(suffix===undefined?'':suffix);}return finished;}function onStart(animation,value,now,previousAnimation){animation.current=value;animation.previousAnimation=animationToClamp;const animationBeforeClamped=previousAnimation===null||previousAnimation===void 0?void 0:previousAnimation.previousAnimation;if(config.max!==undefined&&config.min!==undefined&&config.max<config.min){logger.warn('Wrong config was provided to withClamp. Min value is bigger than max');}animationToClamp.onStart(animationToClamp,(animationBeforeClamped===null||animationBeforeClamped===void 0?void 0:animationBeforeClamped.current)||value,now,animationBeforeClamped);}const callback=function(finished){if(animationToClamp.callback){animationToClamp.callback(finished);}};return{isHigherOrder:true,onFrame:clampOnFrame,onStart:onStart,current:animationToClamp.current,callback:callback,previousAnimation:null,reduceMotion:getReduceMotionForAnimation(config.reduceMotion)};}",
  location: "C:\\Users\\khi_h\\Desktop\\Projets\\JoudEnglishApp\\node_modules\\react-native-reanimated\\src\\animation\\clamp.ts",
  sourceMap: "{\"version\":3,\"names\":[\"clampTs2\",\"_animationToClamp\",\"config\",\"recognizePrefixSuffix\",\"logger\",\"getReduceMotionForAnimation\",\"__closure\",\"animationToClamp\",\"strippedMin\",\"min\",\"undefined\",\"strippedValue\",\"strippedMax\",\"max\",\"clampOnFrame\",\"animation\",\"now\",\"finished\",\"onFrame\",\"current\",\"warn\",\"prefix\",\"suffix\",\"newValue\",\"onStart\",\"value\",\"previousAnimation\",\"animationBeforeClamped\",\"callback\",\"isHigherOrder\",\"reduceMotion\"],\"sources\":[\"C:/Users/khi_h/Desktop/Projets/JoudEnglishApp/node_modules/react-native-reanimated/src/animation/clamp.ts\"],\"mappings\":\"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\",\"ignoreList\":[]}",
  version: "3.16.7"
};
var withClamp = exports.withClamp = function () {
  var _e = [new global.Error(), -5, -27];
  var clampTs1 = function clampTs1(config, _animationToClamp) {
    return (0, _util.defineAnimation)(_animationToClamp, function () {
      var _e = [new global.Error(), -6, -27];
      var clampTs2 = function clampTs2() {
        var animationToClamp = typeof _animationToClamp === 'function' ? _animationToClamp() : _animationToClamp;
        var strippedMin = config.min === undefined ? undefined : (0, _util.recognizePrefixSuffix)(config.min).strippedValue;
        var strippedMax = config.max === undefined ? undefined : (0, _util.recognizePrefixSuffix)(config.max).strippedValue;
        function clampOnFrame(animation, now) {
          var finished = animationToClamp.onFrame(animationToClamp, now);
          if (animationToClamp.current === undefined) {
            _logger.logger.warn("Error inside 'withClamp' animation, the inner animation has invalid current value");
            return true;
          } else {
            var _recognizePrefixSuffi = (0, _util.recognizePrefixSuffix)(animationToClamp.current),
              prefix = _recognizePrefixSuffi.prefix,
              strippedValue = _recognizePrefixSuffi.strippedValue,
              suffix = _recognizePrefixSuffi.suffix;
            var newValue;
            if (strippedMax !== undefined && strippedMax < strippedValue) {
              newValue = strippedMax;
            } else if (strippedMin !== undefined && strippedMin > strippedValue) {
              newValue = strippedMin;
            } else {
              newValue = strippedValue;
            }
            animation.current = typeof animationToClamp.current === 'number' ? newValue : `${prefix === undefined ? '' : prefix}${newValue}${suffix === undefined ? '' : suffix}`;
          }
          return finished;
        }
        function onStart(animation, value, now, previousAnimation) {
          animation.current = value;
          animation.previousAnimation = animationToClamp;
          var animationBeforeClamped = previousAnimation == null ? void 0 : previousAnimation.previousAnimation;
          if (config.max !== undefined && config.min !== undefined && config.max < config.min) {
            _logger.logger.warn('Wrong config was provided to withClamp. Min value is bigger than max');
          }
          animationToClamp.onStart(animationToClamp, (animationBeforeClamped == null ? void 0 : animationBeforeClamped.current) || value, now, animationBeforeClamped);
        }
        var callback = function callback(finished) {
          if (animationToClamp.callback) {
            animationToClamp.callback(finished);
          }
        };
        return {
          isHigherOrder: true,
          onFrame: clampOnFrame,
          onStart: onStart,
          current: animationToClamp.current,
          callback: callback,
          previousAnimation: null,
          reduceMotion: (0, _util.getReduceMotionForAnimation)(config.reduceMotion)
        };
      };
      clampTs2.__closure = {
        _animationToClamp: _animationToClamp,
        config: config,
        recognizePrefixSuffix: _util.recognizePrefixSuffix,
        logger: _logger.logger,
        getReduceMotionForAnimation: _util.getReduceMotionForAnimation
      };
      clampTs2.__workletHash = 6147952660606;
      clampTs2.__initData = _worklet_6147952660606_init_data;
      clampTs2.__stackDetails = _e;
      return clampTs2;
    }());
  };
  clampTs1.__closure = {
    defineAnimation: _util.defineAnimation,
    recognizePrefixSuffix: _util.recognizePrefixSuffix,
    logger: _logger.logger,
    getReduceMotionForAnimation: _util.getReduceMotionForAnimation
  };
  clampTs1.__workletHash = 374384363074;
  clampTs1.__initData = _worklet_374384363074_init_data;
  clampTs1.__stackDetails = _e;
  return clampTs1;
}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIndpdGhDbGFtcCIsIl91dGlsIiwicmVxdWlyZSIsIl9sb2dnZXIiLCJfd29ya2xldF8zNzQzODQzNjMwNzRfaW5pdF9kYXRhIiwiY29kZSIsImxvY2F0aW9uIiwic291cmNlTWFwIiwidmVyc2lvbiIsIl93b3JrbGV0XzYxNDc5NTI2NjA2MDZfaW5pdF9kYXRhIiwiX2UiLCJnbG9iYWwiLCJFcnJvciIsImNsYW1wVHMxIiwiY29uZmlnIiwiX2FuaW1hdGlvblRvQ2xhbXAiLCJkZWZpbmVBbmltYXRpb24iLCJjbGFtcFRzMiIsImFuaW1hdGlvblRvQ2xhbXAiLCJzdHJpcHBlZE1pbiIsIm1pbiIsInVuZGVmaW5lZCIsInJlY29nbml6ZVByZWZpeFN1ZmZpeCIsInN0cmlwcGVkVmFsdWUiLCJzdHJpcHBlZE1heCIsIm1heCIsImNsYW1wT25GcmFtZSIsImFuaW1hdGlvbiIsIm5vdyIsImZpbmlzaGVkIiwib25GcmFtZSIsImN1cnJlbnQiLCJsb2dnZXIiLCJ3YXJuIiwiX3JlY29nbml6ZVByZWZpeFN1ZmZpIiwicHJlZml4Iiwic3VmZml4IiwibmV3VmFsdWUiLCJvblN0YXJ0IiwicHJldmlvdXNBbmltYXRpb24iLCJhbmltYXRpb25CZWZvcmVDbGFtcGVkIiwiY2FsbGJhY2siLCJpc0hpZ2hlck9yZGVyIiwicmVkdWNlTW90aW9uIiwiZ2V0UmVkdWNlTW90aW9uRm9yQW5pbWF0aW9uIiwiX19jbG9zdXJlIiwiX193b3JrbGV0SGFzaCIsIl9faW5pdERhdGEiLCJfX3N0YWNrRGV0YWlscyJdLCJzb3VyY2VzIjpbImNsYW1wLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmltcG9ydCB7XG4gIGRlZmluZUFuaW1hdGlvbixcbiAgZ2V0UmVkdWNlTW90aW9uRm9yQW5pbWF0aW9uLFxuICByZWNvZ25pemVQcmVmaXhTdWZmaXgsXG59IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgdHlwZSB7XG4gIEFuaW1hdGlvbixcbiAgVGltZXN0YW1wLFxuICBBbmltYXRhYmxlVmFsdWUsXG4gIEFuaW1hdGlvbk9iamVjdCxcbiAgUmVkdWNlTW90aW9uLFxufSBmcm9tICcuLi9jb21tb25UeXBlcyc7XG5pbXBvcnQgdHlwZSB7IENsYW1wQW5pbWF0aW9uIH0gZnJvbSAnLi9jb21tb25UeXBlcyc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuXG50eXBlIHdpdGhDbGFtcFR5cGUgPSA8VCBleHRlbmRzIG51bWJlciB8IHN0cmluZz4oXG4gIGNvbmZpZzoge1xuICAgIG1pbj86IFQ7XG4gICAgbWF4PzogVDtcbiAgfSxcbiAgY2xhbXBlZEFuaW1hdGlvbjogVFxuKSA9PiBUO1xuXG5leHBvcnQgY29uc3Qgd2l0aENsYW1wID0gZnVuY3Rpb24gPFQgZXh0ZW5kcyBudW1iZXIgfCBzdHJpbmc+KFxuICBjb25maWc6IHsgbWluPzogVDsgbWF4PzogVDsgcmVkdWNlTW90aW9uPzogUmVkdWNlTW90aW9uIH0sXG4gIF9hbmltYXRpb25Ub0NsYW1wOiBBbmltYXRpb25PYmplY3Q8VD4gfCAoKCkgPT4gQW5pbWF0aW9uT2JqZWN0PFQ+KVxuKTogQW5pbWF0aW9uPENsYW1wQW5pbWF0aW9uPiB7XG4gICd3b3JrbGV0JztcbiAgcmV0dXJuIGRlZmluZUFuaW1hdGlvbjxDbGFtcEFuaW1hdGlvbiwgQW5pbWF0aW9uT2JqZWN0PFQ+PihcbiAgICBfYW5pbWF0aW9uVG9DbGFtcCxcbiAgICAoKTogQ2xhbXBBbmltYXRpb24gPT4ge1xuICAgICAgJ3dvcmtsZXQnO1xuICAgICAgY29uc3QgYW5pbWF0aW9uVG9DbGFtcCA9XG4gICAgICAgIHR5cGVvZiBfYW5pbWF0aW9uVG9DbGFtcCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgID8gX2FuaW1hdGlvblRvQ2xhbXAoKVxuICAgICAgICAgIDogX2FuaW1hdGlvblRvQ2xhbXA7XG5cbiAgICAgIGNvbnN0IHN0cmlwcGVkTWluID1cbiAgICAgICAgY29uZmlnLm1pbiA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICA6IHJlY29nbml6ZVByZWZpeFN1ZmZpeChjb25maWcubWluKS5zdHJpcHBlZFZhbHVlO1xuXG4gICAgICBjb25zdCBzdHJpcHBlZE1heCA9XG4gICAgICAgIGNvbmZpZy5tYXggPT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgOiByZWNvZ25pemVQcmVmaXhTdWZmaXgoY29uZmlnLm1heCkuc3RyaXBwZWRWYWx1ZTtcblxuICAgICAgZnVuY3Rpb24gY2xhbXBPbkZyYW1lKFxuICAgICAgICBhbmltYXRpb246IENsYW1wQW5pbWF0aW9uLFxuICAgICAgICBub3c6IFRpbWVzdGFtcFxuICAgICAgKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGZpbmlzaGVkID0gYW5pbWF0aW9uVG9DbGFtcC5vbkZyYW1lKGFuaW1hdGlvblRvQ2xhbXAsIG5vdyk7XG5cbiAgICAgICAgaWYgKGFuaW1hdGlvblRvQ2xhbXAuY3VycmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbG9nZ2VyLndhcm4oXG4gICAgICAgICAgICBcIkVycm9yIGluc2lkZSAnd2l0aENsYW1wJyBhbmltYXRpb24sIHRoZSBpbm5lciBhbmltYXRpb24gaGFzIGludmFsaWQgY3VycmVudCB2YWx1ZVwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCB7IHByZWZpeCwgc3RyaXBwZWRWYWx1ZSwgc3VmZml4IH0gPSByZWNvZ25pemVQcmVmaXhTdWZmaXgoXG4gICAgICAgICAgICBhbmltYXRpb25Ub0NsYW1wLmN1cnJlbnRcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgbGV0IG5ld1ZhbHVlO1xuXG4gICAgICAgICAgaWYgKHN0cmlwcGVkTWF4ICE9PSB1bmRlZmluZWQgJiYgc3RyaXBwZWRNYXggPCBzdHJpcHBlZFZhbHVlKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IHN0cmlwcGVkTWF4O1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RyaXBwZWRNaW4gIT09IHVuZGVmaW5lZCAmJiBzdHJpcHBlZE1pbiA+IHN0cmlwcGVkVmFsdWUpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gc3RyaXBwZWRNaW47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gc3RyaXBwZWRWYWx1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhbmltYXRpb24uY3VycmVudCA9XG4gICAgICAgICAgICB0eXBlb2YgYW5pbWF0aW9uVG9DbGFtcC5jdXJyZW50ID09PSAnbnVtYmVyJ1xuICAgICAgICAgICAgICA/IG5ld1ZhbHVlXG4gICAgICAgICAgICAgIDogYCR7cHJlZml4ID09PSB1bmRlZmluZWQgPyAnJyA6IHByZWZpeH0ke25ld1ZhbHVlfSR7XG4gICAgICAgICAgICAgICAgICBzdWZmaXggPT09IHVuZGVmaW5lZCA/ICcnIDogc3VmZml4XG4gICAgICAgICAgICAgICAgfWA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmluaXNoZWQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9uU3RhcnQoXG4gICAgICAgIGFuaW1hdGlvbjogQW5pbWF0aW9uPGFueT4sXG4gICAgICAgIHZhbHVlOiBBbmltYXRhYmxlVmFsdWUsXG4gICAgICAgIG5vdzogVGltZXN0YW1wLFxuICAgICAgICBwcmV2aW91c0FuaW1hdGlvbjogQW5pbWF0aW9uPGFueT4gfCBudWxsXG4gICAgICApOiB2b2lkIHtcbiAgICAgICAgYW5pbWF0aW9uLmN1cnJlbnQgPSB2YWx1ZTtcbiAgICAgICAgYW5pbWF0aW9uLnByZXZpb3VzQW5pbWF0aW9uID0gYW5pbWF0aW9uVG9DbGFtcDtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uQmVmb3JlQ2xhbXBlZCA9IHByZXZpb3VzQW5pbWF0aW9uPy5wcmV2aW91c0FuaW1hdGlvbjtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNvbmZpZy5tYXggIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgIGNvbmZpZy5taW4gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgIGNvbmZpZy5tYXggPCBjb25maWcubWluXG4gICAgICAgICkge1xuICAgICAgICAgIGxvZ2dlci53YXJuKFxuICAgICAgICAgICAgJ1dyb25nIGNvbmZpZyB3YXMgcHJvdmlkZWQgdG8gd2l0aENsYW1wLiBNaW4gdmFsdWUgaXMgYmlnZ2VyIHRoYW4gbWF4J1xuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBhbmltYXRpb25Ub0NsYW1wLm9uU3RhcnQoXG4gICAgICAgICAgYW5pbWF0aW9uVG9DbGFtcCxcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBQcm92aWRlIHRoZSBjdXJyZW50IHZhbHVlIG9mIHRoZSBwcmV2aW91cyBhbmltYXRpb24gb2YgdGhlIGNsYW1wZWRcbiAgICAgICAgICAgKiBhbmltYXRpb24gc28gd2UgY2FuIGFuaW1hdGUgZnJvbSB0aGUgb3JpZ2luYWwgXCJ1bi10cnVuY2F0ZWRcIiB2YWx1ZVxuICAgICAgICAgICAqL1xuICAgICAgICAgIGFuaW1hdGlvbkJlZm9yZUNsYW1wZWQ/LmN1cnJlbnQgfHwgdmFsdWUsXG4gICAgICAgICAgbm93LFxuICAgICAgICAgIGFuaW1hdGlvbkJlZm9yZUNsYW1wZWRcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY2FsbGJhY2sgPSAoZmluaXNoZWQ/OiBib29sZWFuKTogdm9pZCA9PiB7XG4gICAgICAgIGlmIChhbmltYXRpb25Ub0NsYW1wLmNhbGxiYWNrKSB7XG4gICAgICAgICAgYW5pbWF0aW9uVG9DbGFtcC5jYWxsYmFjayhmaW5pc2hlZCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzSGlnaGVyT3JkZXI6IHRydWUsXG4gICAgICAgIG9uRnJhbWU6IGNsYW1wT25GcmFtZSxcbiAgICAgICAgb25TdGFydCxcbiAgICAgICAgY3VycmVudDogYW5pbWF0aW9uVG9DbGFtcC5jdXJyZW50ISxcbiAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgIHByZXZpb3VzQW5pbWF0aW9uOiBudWxsLFxuICAgICAgICByZWR1Y2VNb3Rpb246IGdldFJlZHVjZU1vdGlvbkZvckFuaW1hdGlvbihjb25maWcucmVkdWNlTW90aW9uKSxcbiAgICAgIH07XG4gICAgfVxuICApO1xufSBhcyB3aXRoQ2xhbXBUeXBlO1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUFDQSxNQUFBLENBQUFDLGNBQUEsQ0FBQUMsT0FBQTtFQUFBQyxLQUFBO0FBQUE7QUFBQUQsT0FBQSxDQUFBRSxTQUFBO0FBQ2IsSUFBQUMsS0FBQSxHQUFBQyxPQUFBO0FBYUEsSUFBQUMsT0FBQSxHQUFBRCxPQUFBO0FBQW1DLElBQUFFLCtCQUFBO0VBQUFDLElBQUE7RUFBQUMsUUFBQTtFQUFBQyxTQUFBO0VBQUFDLE9BQUE7QUFBQTtBQUFBLElBQUFDLGdDQUFBO0VBQUFKLElBQUE7RUFBQUMsUUFBQTtFQUFBQyxTQUFBO0VBQUFDLE9BQUE7QUFBQTtBQVU1QixJQUFNUixTQUFTLEdBQUFGLE9BQUEsQ0FBQUUsU0FBQSxHQUFHO0VBQUEsSUFBQVUsRUFBQSxRQUFBQyxNQUFBLENBQUFDLEtBQUE7RUFBQSxJQUFBQyxRQUFBLFlBQUFBLFNBQ3ZCQyxNQUF5RCxFQUN6REMsaUJBQWtFLEVBQ3ZDO0lBRTNCLE9BQU8sSUFBQUMscUJBQWUsRUFDcEJELGlCQUFpQixFQUNqQjtNQUFBLElBQUFMLEVBQUEsUUFBQUMsTUFBQSxDQUFBQyxLQUFBO01BQUEsSUFBQUssUUFBQSxZQUFBQSxTQUFBLEVBQXNCO1FBRXBCLElBQU1DLGdCQUFnQixHQUNwQixPQUFPSCxpQkFBaUIsS0FBSyxVQUFVLEdBQ25DQSxpQkFBaUIsQ0FBQyxDQUFDLEdBQ25CQSxpQkFBaUI7UUFFdkIsSUFBTUksV0FBVyxHQUNm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