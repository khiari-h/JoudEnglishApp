061bfafdb31018153051049190187b26
_getJestObj().mock('react-native/Libraries/Components/ScrollView/ScrollView', function () {
  var React = require('react');
  var ScrollView = jest.requireActual('react-native/Libraries/Components/ScrollView/ScrollView');
  var scrollToSpy = jest.fn();
  return Object.assign({}, ScrollView, {
    default: React.forwardRef(function (props, ref) {
      React.useImperativeHandle(ref, function () {
        return {
          scrollTo: scrollToSpy
        };
      });
      return (0, _jsxRuntime.jsx)(ScrollView, Object.assign({}, props));
    }),
    scrollToSpy: scrollToSpy
  });
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _reactNative2 = require("react-native");
require("@testing-library/jest-native");
var _CategorySelector = _interopRequireDefault(require("../../../src/components/exercise-common/CategorySelector"));
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
jest.useFakeTimers();
jest.spyOn(_reactNative2.Animated, 'timing').mockImplementation(function (value, config) {
  return {
    start: function start(callback) {
      setTimeout(function () {
        if (callback) {
          callback({
            finished: true
          });
        }
      }, config.duration || 300);
    },
    stop: jest.fn()
  };
});
describe('CategorySelector Component', function () {
  var mockCategories = [{
    id: '1',
    name: 'Fruits'
  }, {
    id: '2',
    name: 'Vegetables'
  }, {
    id: '3',
    name: 'Dairy Products'
  }, {
    id: '4',
    name: 'Meat & Fish'
  }, {
    id: '5',
    name: 'Beverages'
  }];
  var defaultProps = {
    categories: mockCategories,
    selectedCategory: '1',
    onSelectCategory: jest.fn()
  };
  var renderCategorySelector = function renderCategorySelector() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    return (0, _reactNative.render)((0, _jsxRuntime.jsx)(_CategorySelector.default, Object.assign({}, defaultProps, props)));
  };
  beforeEach(function () {
    jest.clearAllMocks();
    jest.useFakeTimers();
  });
  afterEach(function () {
    jest.useRealTimers();
  });
  describe('Rendering', function () {
    it('should render without crashing', function () {
      expect(renderCategorySelector()).toBeTruthy();
    });
    it('should render all categories correctly', function () {
      var _renderCategorySelect = renderCategorySelector(),
        getByText = _renderCategorySelect.getByText;
      mockCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
    it('should render categories in the correct order', function () {
      var _renderCategorySelect2 = renderCategorySelector(),
        getAllByRole = _renderCategorySelect2.getAllByRole;
      var categoryNames = getAllByRole('button').map(function (element) {
        return element.props.accessibilityLabel;
      });
      expect(categoryNames).toEqual(mockCategories.map(function (cat) {
        return cat.name;
      }));
    });
    it('should handle empty categories array gracefully', function () {
      var _renderCategorySelect3 = renderCategorySelector({
          categories: []
        }),
        queryByText = _renderCategorySelect3.queryByText;
      mockCategories.forEach(function (category) {
        expect(queryByText(category.name)).toBeNull();
      });
    });
    it('should highlight the selected category visually', function () {
      var _renderCategorySelect4 = renderCategorySelector({
          selectedCategory: '2'
        }),
        getByRole = _renderCategorySelect4.getByRole;
      var selectedPill = getByRole('button', {
        name: 'Vegetables'
      });
      expect(selectedPill).toHaveAccessibilityState({
        selected: true
      });
    });
  });
  describe('User Interactions', function () {
    it('should call onSelectCategory when a different category is pressed', function () {
      var mockOnSelect = jest.fn();
      var _renderCategorySelect5 = renderCategorySelector({
          selectedCategory: '1',
          onSelectCategory: mockOnSelect
        }),
        getByText = _renderCategorySelect5.getByText;
      _reactNative.fireEvent.press(getByText('Vegetables'));
      expect(mockOnSelect).toHaveBeenCalledTimes(1);
      expect(mockOnSelect).toHaveBeenCalledWith('2');
    });
    it('should not call onSelectCategory when the same category is pressed', function () {
      var mockOnSelect = jest.fn();
      var _renderCategorySelect6 = renderCategorySelector({
          selectedCategory: '1',
          onSelectCategory: mockOnSelect
        }),
        getByText = _renderCategorySelect6.getByText;
      _reactNative.fireEvent.press(getByText('Fruits'));
      expect(mockOnSelect).not.toHaveBeenCalled();
    });
    it('should call onSelectCategory with correct category id for each category', function () {
      var mockOnSelect = jest.fn();
      var _renderCategorySelect7 = renderCategorySelector({
          selectedCategory: '1',
          onSelectCategory: mockOnSelect
        }),
        getByText = _renderCategorySelect7.getByText;
      var categoriesToTest = mockCategories.filter(function (cat) {
        return cat.id !== '1';
      });
      categoriesToTest.forEach(function (category) {
        _reactNative.fireEvent.press(getByText(category.name));
        expect(mockOnSelect).toHaveBeenCalledWith(category.id);
      });
      expect(mockOnSelect).toHaveBeenCalledTimes(categoriesToTest.length);
    });
  });
  describe('Animations', function () {
    it('should trigger press animations correctly', function () {
      var _renderCategorySelect8 = renderCategorySelector(),
        getByText = _renderCategorySelect8.getByText;
      var categoryPill = getByText('Vegetables');
      (0, _reactNative.act)(function () {
        (0, _reactNative.fireEvent)(categoryPill, 'pressIn');
        (0, _reactNative.fireEvent)(categoryPill, 'pressOut');
      });
      expect(categoryPill).toBeTruthy();
    });
    it('should handle rapid press interactions without crashing', function () {
      var mockOnSelect = jest.fn();
      var _renderCategorySelect9 = renderCategorySelector({
          onSelectCategory: mockOnSelect
        }),
        getByText = _renderCategorySelect9.getByText;
      var categoryPill = getByText('Vegetables');
      (0, _reactNative.act)(function () {
        (0, _reactNative.fireEvent)(categoryPill, 'pressIn');
        (0, _reactNative.fireEvent)(categoryPill, 'pressOut');
        _reactNative.fireEvent.press(categoryPill);
        (0, _reactNative.fireEvent)(categoryPill, 'pressIn');
        (0, _reactNative.fireEvent)(categoryPill, 'pressOut');
      });
      expect(mockOnSelect).toHaveBeenCalledWith('2');
      expect(categoryPill).toBeTruthy();
    });
    it('should not trigger new animation if one is already in progress', function () {
      var mockOnSelect = jest.fn();
      var _renderCategorySelect0 = renderCategorySelector({
          selectedCategory: '1',
          onSelectCategory: mockOnSelect
        }),
        getByText = _renderCategorySelect0.getByText;
      _reactNative.fireEvent.press(getByText('Vegetables'));
      expect(mockOnSelect).toHaveBeenCalledTimes(1);
      jest.advanceTimersByTime(100);
      _reactNative.fireEvent.press(getByText('Dairy Products'));
      expect(mockOnSelect).toHaveBeenCalledTimes(1);
      jest.runAllTimers();
      _reactNative.fireEvent.press(getByText('Dairy Products'));
      expect(mockOnSelect).toHaveBeenCalledTimes(2);
    });
  });
  describe('Scrolling Behavior', function () {
    it('should scroll to selected category on mount', (0, _asyncToGenerator2.default)(function* () {
      var _renderCategorySelect1 = renderCategorySelector({
          selectedCategory: '4'
        }),
        getByText = _renderCategorySelect1.getByText;
      expect(getByText('Meat & Fish')).toBeTruthy();
      yield (0, _reactNative.waitFor)(function () {
        expect(_reactNative2.ScrollView.scrollToSpy).toHaveBeenCalled();
      });
    }));
    it('should handle scrolling when selectedCategory changes', (0, _asyncToGenerator2.default)(function* () {
      var _renderCategorySelect10 = renderCategorySelector({
          selectedCategory: '1'
        }),
        rerender = _renderCategorySelect10.rerender;
      rerender((0, _jsxRuntime.jsx)(_CategorySelector.default, Object.assign({}, defaultProps, {
        selectedCategory: "5"
      })));
      yield (0, _reactNative.waitFor)(function () {
        expect(_reactNative2.ScrollView.scrollToSpy).toHaveBeenCalledTimes(1);
      });
    }));
  });
  describe('Edge Cases', function () {
    it('should handle undefined selectedCategory gracefully', function () {
      var _renderCategorySelect11 = renderCategorySelector({
          selectedCategory: undefined
        }),
        getByText = _renderCategorySelect11.getByText;
      mockCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
    it('should handle null selectedCategory gracefully', function () {
      var _renderCategorySelect12 = renderCategorySelector({
          selectedCategory: null
        }),
        getByText = _renderCategorySelect12.getByText;
      mockCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
    it('should handle non-existent selectedCategory id', function () {
      var _renderCategorySelect13 = renderCategorySelector({
          selectedCategory: 'non-existent'
        }),
        getByText = _renderCategorySelect13.getByText;
      mockCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
    it('should handle missing onSelectCategory prop gracefully', function () {
      var _renderCategorySelect14 = renderCategorySelector({
          onSelectCategory: undefined
        }),
        getByText = _renderCategorySelect14.getByText;
      expect(function () {
        _reactNative.fireEvent.press(getByText('Vegetables'));
      }).not.toThrow();
    });
    it('should handle categories with special characters in names', function () {
      var specialCategories = [{
        id: '1',
        name: 'Café & Thé'
      }, {
        id: '2',
        name: 'Fruits & Légumes'
      }, {
        id: '3',
        name: 'Viande/Poisson'
      }];
      var _renderCategorySelect15 = renderCategorySelector({
          categories: specialCategories
        }),
        getByText = _renderCategorySelect15.getByText;
      specialCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
    it('should handle very long category names', function () {
      var longNameCategories = [{
        id: '1',
        name: 'This is a very long category name that might cause layout issues'
      }, {
        id: '2',
        name: 'Short'
      }];
      var _renderCategorySelect16 = renderCategorySelector({
          categories: longNameCategories
        }),
        getByText = _renderCategorySelect16.getByText;
      longNameCategories.forEach(function (category) {
        expect(getByText(category.name)).toBeTruthy();
      });
    });
  });
  describe('Performance', function () {
    it('should not re-render unnecessarily when props do not change', function () {
      var renderSpy = jest.fn();
      var TestWrapper = function TestWrapper(props) {
        renderSpy();
        return (0, _jsxRuntime.jsx)(_CategorySelector.default, Object.assign({}, props));
      };
      var stableProps = defaultProps;
      var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(TestWrapper, Object.assign({}, stableProps))),
        rerender = _render.rerender;
      renderSpy.mockClear();
      rerender((0, _jsxRuntime.jsx)(TestWrapper, Object.assign({}, stableProps)));
      expect(renderSpy).toHaveBeenCalledTimes(0);
    });
    it('should handle large number of categories efficiently', function () {
      var manyCategories = Array.from({
        length: 100
      }, function (_, i) {
        return {
          id: `${i + 1}`,
          name: `Category ${i + 1}`
        };
      });
      var startTime = Date.now();
      var _renderCategorySelect17 = renderCategorySelector({
          categories: manyCategories
        }),
        queryAllByText = _renderCategorySelect17.queryAllByText;
      var endTime = Date.now();
      expect(endTime - startTime).toBeLessThan(1000);
      var categoryElements = queryAllByText(/^Category/);
      expect(categoryElements).toHaveLength(100);
    });
  });
  describe('Accessibility', function () {
    it('should have proper accessibility labels', function () {
      var _renderCategorySelect18 = renderCategorySelector(),
        getByLabelText = _renderCategorySelect18.getByLabelText;
      mockCategories.forEach(function (category) {
        var element = getByLabelText(category.name);
        expect(element).toBeTruthy();
      });
    });
    it('should support screen reader navigation', function () {
      var _renderCategorySelect19 = renderCategorySelector(),
        getAllByRole = _renderCategorySelect19.getAllByRole;
      var buttons = getAllByRole('button');
      expect(buttons).toHaveLength(mockCategories.length);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJSZWFjdCIsInJlcXVpcmUiLCJTY3JvbGxWaWV3IiwiamVzdCIsInJlcXVpcmVBY3R1YWwiLCJzY3JvbGxUb1NweSIsImZuIiwiT2JqZWN0IiwiYXNzaWduIiwiZGVmYXVsdCIsImZvcndhcmRSZWYiLCJwcm9wcyIsInJlZiIsInVzZUltcGVyYXRpdmVIYW5kbGUiLCJzY3JvbGxUbyIsIl9qc3hSdW50aW1lIiwianN4IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWFjdCIsIl9yZWFjdE5hdGl2ZSIsIl9yZWFjdE5hdGl2ZTIiLCJfQ2F0ZWdvcnlTZWxlY3RvciIsIl9yZXF1aXJlIiwidXNlRmFrZVRpbWVycyIsInNweU9uIiwiQW5pbWF0ZWQiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJ2YWx1ZSIsImNvbmZpZyIsInN0YXJ0IiwiY2FsbGJhY2siLCJzZXRUaW1lb3V0IiwiZmluaXNoZWQiLCJkdXJhdGlvbiIsInN0b3AiLCJkZXNjcmliZSIsIm1vY2tDYXRlZ29yaWVzIiwiaWQiLCJuYW1lIiwiZGVmYXVsdFByb3BzIiwiY2F0ZWdvcmllcyIsInNlbGVjdGVkQ2F0ZWdvcnkiLCJvblNlbGVjdENhdGVnb3J5IiwicmVuZGVyQ2F0ZWdvcnlTZWxlY3RvciIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInJlbmRlciIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiYWZ0ZXJFYWNoIiwidXNlUmVhbFRpbWVycyIsIml0IiwiZXhwZWN0IiwidG9CZVRydXRoeSIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdCIsImdldEJ5VGV4dCIsImZvckVhY2giLCJjYXRlZ29yeSIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDIiLCJnZXRBbGxCeVJvbGUiLCJjYXRlZ29yeU5hbWVzIiwibWFwIiwiZWxlbWVudCIsImFjY2Vzc2liaWxpdHlMYWJlbCIsInRvRXF1YWwiLCJjYXQiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3QzIiwicXVlcnlCeVRleHQiLCJ0b0JlTnVsbCIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDQiLCJnZXRCeVJvbGUiLCJzZWxlY3RlZFBpbGwiLCJ0b0hhdmVBY2Nlc3NpYmlsaXR5U3RhdGUiLCJzZWxlY3RlZCIsIm1vY2tPblNlbGVjdCIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDUiLCJmaXJlRXZlbnQiLCJwcmVzcyIsInRvSGF2ZUJlZW5DYWxsZWRUaW1lcyIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0NiIsIm5vdCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3Q3IiwiY2F0ZWdvcmllc1RvVGVzdCIsImZpbHRlciIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDgiLCJjYXRlZ29yeVBpbGwiLCJhY3QiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3Q5IiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0MCIsImFkdmFuY2VUaW1lcnNCeVRpbWUiLCJydW5BbGxUaW1lcnMiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3QxIiwid2FpdEZvciIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDEwIiwicmVyZW5kZXIiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3QxMSIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDEyIiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0MTMiLCJfcmVuZGVyQ2F0ZWdvcnlTZWxlY3QxNCIsInRvVGhyb3ciLCJzcGVjaWFsQ2F0ZWdvcmllcyIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDE1IiwibG9uZ05hbWVDYXRlZ29yaWVzIiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0MTYiLCJyZW5kZXJTcHkiLCJUZXN0V3JhcHBlciIsInN0YWJsZVByb3BzIiwiX3JlbmRlciIsIm1vY2tDbGVhciIsIm1hbnlDYXRlZ29yaWVzIiwiQXJyYXkiLCJmcm9tIiwiXyIsImkiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0MTciLCJxdWVyeUFsbEJ5VGV4dCIsImVuZFRpbWUiLCJ0b0JlTGVzc1RoYW4iLCJjYXRlZ29yeUVsZW1lbnRzIiwidG9IYXZlTGVuZ3RoIiwiX3JlbmRlckNhdGVnb3J5U2VsZWN0MTgiLCJnZXRCeUxhYmVsVGV4dCIsIl9yZW5kZXJDYXRlZ29yeVNlbGVjdDE5IiwiYnV0dG9ucyJdLCJzb3VyY2VzIjpbIkNhdGVnb3J5U2VsZWN0b3IudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBfX3Rlc3RzX18vY29tcG9uZW50cy9leGVyY2lzZS1jb21tb24vQ2F0ZWdvcnlTZWxlY3Rvci50ZXN0LmpzXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyLCBmaXJlRXZlbnQsIGFjdCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtbmF0aXZlJztcbmltcG9ydCB7IEFuaW1hdGVkLCBTY3JvbGxWaWV3IH0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCAnQHRlc3RpbmctbGlicmFyeS9qZXN0LW5hdGl2ZSc7XG5pbXBvcnQgQ2F0ZWdvcnlTZWxlY3RvciBmcm9tICcuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9leGVyY2lzZS1jb21tb24vQ2F0ZWdvcnlTZWxlY3Rvcic7XG5cbi8vIC0tLSBEw6lmaW5pdGlvbiBkZXMgTW9ja3MgcG91ciByw6lzb3VkcmUgbGVzIHByb2Jsw6htZXMgZGUgcmVuZHUvYW5pbWF0aW9uIC0tLVxuXG4vLyBBY3RpdmV6IGxlcyBmYXV4IHRpbWVycyBwb3VyIGNvbnRyw7RsZXIgbGUgdGVtcHMgZGFucyBsZXMgdGVzdHMgZCdhbmltYXRpb25cbmplc3QudXNlRmFrZVRpbWVycygpO1xuXG4vLyBNb2NrZXIgQW5pbWF0ZWQudGltaW5nIHBvdXIgc2ltdWxlciB1biBkw6lsYWlcbmplc3Quc3B5T24oQW5pbWF0ZWQsICd0aW1pbmcnKS5tb2NrSW1wbGVtZW50YXRpb24oKHZhbHVlLCBjb25maWcpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBzdGFydDogKGNhbGxiYWNrKSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgY2FsbGJhY2soeyBmaW5pc2hlZDogdHJ1ZSB9KTtcbiAgICAgICAgfVxuICAgICAgfSwgY29uZmlnLmR1cmF0aW9uIHx8IDMwMCk7XG4gICAgfSxcbiAgICBzdG9wOiBqZXN0LmZuKCksXG4gIH07XG59KTtcblxuLy8gTW9ja2VyIFNjcm9sbFZpZXcgcG91ciBnw6lyZXIgbGEgcmVmIGV0IGxhIGZvbmN0aW9uIHNjcm9sbFRvXG5qZXN0Lm1vY2soJ3JlYWN0LW5hdGl2ZS9MaWJyYXJpZXMvQ29tcG9uZW50cy9TY3JvbGxWaWV3L1Njcm9sbFZpZXcnLCAoKSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgU2Nyb2xsVmlldyA9IGplc3QucmVxdWlyZUFjdHVhbCgncmVhY3QtbmF0aXZlL0xpYnJhcmllcy9Db21wb25lbnRzL1Njcm9sbFZpZXcvU2Nyb2xsVmlldycpO1xuICAvLyBEw6lmaW5pc3NleiBsZSBcInNweVwiIMOgIGwnaW50w6lyaWV1ciBkdSBtb2NrIHBvdXIgw6l2aXRlciBsZSBSZWZlcmVuY2VFcnJvclxuICBjb25zdCBzY3JvbGxUb1NweSA9IGplc3QuZm4oKTtcbiAgcmV0dXJuIHtcbiAgICAuLi5TY3JvbGxWaWV3LFxuICAgIGRlZmF1bHQ6IFJlYWN0LmZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IHtcbiAgICAgIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiAoe1xuICAgICAgICBzY3JvbGxUbzogc2Nyb2xsVG9TcHksXG4gICAgICB9KSk7XG4gICAgICByZXR1cm4gPFNjcm9sbFZpZXcgey4uLnByb3BzfSAvPjtcbiAgICB9KSxcbiAgICBzY3JvbGxUb1NweSwgLy8gRXhwb3NleiBsZSBzcHkgcG91ciBxdWUgbGVzIHRlc3RzIHB1aXNzZW50IHkgYWNjw6lkZXIgdmlhIFNjcm9sbFZpZXcuc2Nyb2xsVG9TcHlcbiAgfTtcbn0pO1xuXG5kZXNjcmliZSgnQ2F0ZWdvcnlTZWxlY3RvciBDb21wb25lbnQnLCAoKSA9PiB7XG4gIGNvbnN0IG1vY2tDYXRlZ29yaWVzID0gW1xuICAgIHsgaWQ6ICcxJywgbmFtZTogJ0ZydWl0cycgfSxcbiAgICB7IGlkOiAnMicsIG5hbWU6ICdWZWdldGFibGVzJyB9LFxuICAgIHsgaWQ6ICczJywgbmFtZTogJ0RhaXJ5IFByb2R1Y3RzJyB9LFxuICAgIHsgaWQ6ICc0JywgbmFtZTogJ01lYXQgJiBGaXNoJyB9LFxuICAgIHsgaWQ6ICc1JywgbmFtZTogJ0JldmVyYWdlcycgfSxcbiAgXTtcblxuICBjb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gICAgY2F0ZWdvcmllczogbW9ja0NhdGVnb3JpZXMsXG4gICAgc2VsZWN0ZWRDYXRlZ29yeTogJzEnLFxuICAgIG9uU2VsZWN0Q2F0ZWdvcnk6IGplc3QuZm4oKSxcbiAgfTtcblxuICBjb25zdCByZW5kZXJDYXRlZ29yeVNlbGVjdG9yID0gKHByb3BzID0ge30pID0+IHtcbiAgICByZXR1cm4gcmVuZGVyKDxDYXRlZ29yeVNlbGVjdG9yIHsuLi5kZWZhdWx0UHJvcHN9IHsuLi5wcm9wc30gLz4pO1xuICB9O1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIGplc3QudXNlRmFrZVRpbWVycygpO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QudXNlUmVhbFRpbWVycygpO1xuICB9KTtcblxuICAvLyAtLS0gUkVOREVSSU5HIC0tLVxuICBkZXNjcmliZSgnUmVuZGVyaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmVuZGVyIHdpdGhvdXQgY3Jhc2hpbmcnLCAoKSA9PiB7XG4gICAgICBleHBlY3QocmVuZGVyQ2F0ZWdvcnlTZWxlY3RvcigpKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgYWxsIGNhdGVnb3JpZXMgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoKTtcbiAgICAgIG1vY2tDYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgICBleHBlY3QoZ2V0QnlUZXh0KGNhdGVnb3J5Lm5hbWUpKS50b0JlVHJ1dGh5KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIHJlbmRlciBjYXRlZ29yaWVzIGluIHRoZSBjb3JyZWN0IG9yZGVyJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRBbGxCeVJvbGUgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoKTtcbiAgICAgIGNvbnN0IGNhdGVnb3J5TmFtZXMgPSBnZXRBbGxCeVJvbGUoJ2J1dHRvbicpLm1hcChlbGVtZW50ID0+IGVsZW1lbnQucHJvcHMuYWNjZXNzaWJpbGl0eUxhYmVsKTtcbiAgICAgIGV4cGVjdChjYXRlZ29yeU5hbWVzKS50b0VxdWFsKG1vY2tDYXRlZ29yaWVzLm1hcChjYXQgPT4gY2F0Lm5hbWUpKTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSBjYXRlZ29yaWVzIGFycmF5IGdyYWNlZnVsbHknLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHF1ZXJ5QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHsgY2F0ZWdvcmllczogW10gfSk7XG4gICAgICBtb2NrQ2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgZXhwZWN0KHF1ZXJ5QnlUZXh0KGNhdGVnb3J5Lm5hbWUpKS50b0JlTnVsbCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBoaWdobGlnaHQgdGhlIHNlbGVjdGVkIGNhdGVnb3J5IHZpc3VhbGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRCeVJvbGUgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoeyBzZWxlY3RlZENhdGVnb3J5OiAnMicgfSk7XG4gICAgICBjb25zdCBzZWxlY3RlZFBpbGwgPSBnZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogJ1ZlZ2V0YWJsZXMnIH0pO1xuICAgICAgZXhwZWN0KHNlbGVjdGVkUGlsbCkudG9IYXZlQWNjZXNzaWJpbGl0eVN0YXRlKHsgc2VsZWN0ZWQ6IHRydWUgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIC0tLSBVU0VSIElOVEVSQUNUSU9OUyAtLS1cbiAgZGVzY3JpYmUoJ1VzZXIgSW50ZXJhY3Rpb25zJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY2FsbCBvblNlbGVjdENhdGVnb3J5IHdoZW4gYSBkaWZmZXJlbnQgY2F0ZWdvcnkgaXMgcHJlc3NlZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tPblNlbGVjdCA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHtcbiAgICAgICAgc2VsZWN0ZWRDYXRlZ29yeTogJzEnLFxuICAgICAgICBvblNlbGVjdENhdGVnb3J5OiBtb2NrT25TZWxlY3RcbiAgICAgIH0pO1xuICAgICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGV4dCgnVmVnZXRhYmxlcycpKTtcbiAgICAgIGV4cGVjdChtb2NrT25TZWxlY3QpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICAgIGV4cGVjdChtb2NrT25TZWxlY3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcyJyk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBub3QgY2FsbCBvblNlbGVjdENhdGVnb3J5IHdoZW4gdGhlIHNhbWUgY2F0ZWdvcnkgaXMgcHJlc3NlZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tPblNlbGVjdCA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHtcbiAgICAgICAgc2VsZWN0ZWRDYXRlZ29yeTogJzEnLFxuICAgICAgICBvblNlbGVjdENhdGVnb3J5OiBtb2NrT25TZWxlY3RcbiAgICAgIH0pO1xuICAgICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGV4dCgnRnJ1aXRzJykpO1xuICAgICAgZXhwZWN0KG1vY2tPblNlbGVjdCkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIGNhbGwgb25TZWxlY3RDYXRlZ29yeSB3aXRoIGNvcnJlY3QgY2F0ZWdvcnkgaWQgZm9yIGVhY2ggY2F0ZWdvcnknLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrT25TZWxlY3QgPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7XG4gICAgICAgIHNlbGVjdGVkQ2F0ZWdvcnk6ICcxJyxcbiAgICAgICAgb25TZWxlY3RDYXRlZ29yeTogbW9ja09uU2VsZWN0XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGNhdGVnb3JpZXNUb1Rlc3QgPSBtb2NrQ2F0ZWdvcmllcy5maWx0ZXIoY2F0ID0+IGNhdC5pZCAhPT0gJzEnKTtcbiAgICAgIGNhdGVnb3JpZXNUb1Rlc3QuZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRleHQoY2F0ZWdvcnkubmFtZSkpO1xuICAgICAgICBleHBlY3QobW9ja09uU2VsZWN0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChjYXRlZ29yeS5pZCk7XG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChtb2NrT25TZWxlY3QpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcyhjYXRlZ29yaWVzVG9UZXN0Lmxlbmd0aCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIC0tLSBBTklNQVRJT05TIC0tLVxuICBkZXNjcmliZSgnQW5pbWF0aW9ucycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHRyaWdnZXIgcHJlc3MgYW5pbWF0aW9ucyBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3RvcigpO1xuICAgICAgY29uc3QgY2F0ZWdvcnlQaWxsID0gZ2V0QnlUZXh0KCdWZWdldGFibGVzJyk7XG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICBmaXJlRXZlbnQoY2F0ZWdvcnlQaWxsLCAncHJlc3NJbicpO1xuICAgICAgICBmaXJlRXZlbnQoY2F0ZWdvcnlQaWxsLCAncHJlc3NPdXQnKTtcbiAgICAgIH0pO1xuICAgICAgZXhwZWN0KGNhdGVnb3J5UGlsbCkudG9CZVRydXRoeSgpO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIHJhcGlkIHByZXNzIGludGVyYWN0aW9ucyB3aXRob3V0IGNyYXNoaW5nJywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja09uU2VsZWN0ID0gamVzdC5mbigpO1xuICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoeyBvblNlbGVjdENhdGVnb3J5OiBtb2NrT25TZWxlY3QgfSk7XG4gICAgICBjb25zdCBjYXRlZ29yeVBpbGwgPSBnZXRCeVRleHQoJ1ZlZ2V0YWJsZXMnKTtcbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIGZpcmVFdmVudChjYXRlZ29yeVBpbGwsICdwcmVzc0luJyk7XG4gICAgICAgIGZpcmVFdmVudChjYXRlZ29yeVBpbGwsICdwcmVzc091dCcpO1xuICAgICAgICBmaXJlRXZlbnQucHJlc3MoY2F0ZWdvcnlQaWxsKTtcbiAgICAgICAgZmlyZUV2ZW50KGNhdGVnb3J5UGlsbCwgJ3ByZXNzSW4nKTtcbiAgICAgICAgZmlyZUV2ZW50KGNhdGVnb3J5UGlsbCwgJ3ByZXNzT3V0Jyk7XG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChtb2NrT25TZWxlY3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcyJyk7XG4gICAgICBleHBlY3QoY2F0ZWdvcnlQaWxsKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBub3QgdHJpZ2dlciBuZXcgYW5pbWF0aW9uIGlmIG9uZSBpcyBhbHJlYWR5IGluIHByb2dyZXNzJywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja09uU2VsZWN0ID0gamVzdC5mbigpO1xuICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoeyBzZWxlY3RlZENhdGVnb3J5OiAnMScsIG9uU2VsZWN0Q2F0ZWdvcnk6IG1vY2tPblNlbGVjdCB9KTtcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRleHQoJ1ZlZ2V0YWJsZXMnKSk7XG4gICAgICBleHBlY3QobW9ja09uU2VsZWN0KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMTAwKTtcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRleHQoJ0RhaXJ5IFByb2R1Y3RzJykpO1xuICAgICAgZXhwZWN0KG1vY2tPblNlbGVjdCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAgICAgamVzdC5ydW5BbGxUaW1lcnMoKTtcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRleHQoJ0RhaXJ5IFByb2R1Y3RzJykpO1xuICAgICAgZXhwZWN0KG1vY2tPblNlbGVjdCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDIpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyAtLS0gU0NST0xMSU5HIEJFSEFWSU9SIC0tLVxuICBkZXNjcmliZSgnU2Nyb2xsaW5nIEJlaGF2aW9yJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgc2Nyb2xsIHRvIHNlbGVjdGVkIGNhdGVnb3J5IG9uIG1vdW50JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoeyBzZWxlY3RlZENhdGVnb3J5OiAnNCcgfSk7XG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCdNZWF0ICYgRmlzaCcpKS50b0JlVHJ1dGh5KCk7XG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgLy8gTGUgbW9jayBkZSBTY3JvbGxWaWV3IGV4cG9zZSBtYWludGVuYW50IGxlIHNweVxuICAgICAgICBleHBlY3QoU2Nyb2xsVmlldy5zY3JvbGxUb1NweSkudG9IYXZlQmVlbkNhbGxlZCgpOyBcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIHNjcm9sbGluZyB3aGVuIHNlbGVjdGVkQ2F0ZWdvcnkgY2hhbmdlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVyZW5kZXIgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoeyBzZWxlY3RlZENhdGVnb3J5OiAnMScgfSk7XG4gICAgICByZXJlbmRlcihcbiAgICAgICAgPENhdGVnb3J5U2VsZWN0b3IgXG4gICAgICAgICAgey4uLmRlZmF1bHRQcm9wc30gXG4gICAgICAgICAgc2VsZWN0ZWRDYXRlZ29yeT1cIjVcIiBcbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgLy8gTGUgbW9jayBkZSBTY3JvbGxWaWV3IGV4cG9zZSBtYWludGVuYW50IGxlIHNweVxuICAgICAgICBleHBlY3QoU2Nyb2xsVmlldy5zY3JvbGxUb1NweSkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIC0tLSBFREdFIENBU0VTIC0tLVxuICBkZXNjcmliZSgnRWRnZSBDYXNlcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB1bmRlZmluZWQgc2VsZWN0ZWRDYXRlZ29yeSBncmFjZWZ1bGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoeyBzZWxlY3RlZENhdGVnb3J5OiB1bmRlZmluZWQgfSk7XG4gICAgICBtb2NrQ2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgZXhwZWN0KGdldEJ5VGV4dChjYXRlZ29yeS5uYW1lKSkudG9CZVRydXRoeSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbnVsbCBzZWxlY3RlZENhdGVnb3J5IGdyYWNlZnVsbHknLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7IHNlbGVjdGVkQ2F0ZWdvcnk6IG51bGwgfSk7XG4gICAgICBtb2NrQ2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgZXhwZWN0KGdldEJ5VGV4dChjYXRlZ29yeS5uYW1lKSkudG9CZVRydXRoeSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbm9uLWV4aXN0ZW50IHNlbGVjdGVkQ2F0ZWdvcnkgaWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7IHNlbGVjdGVkQ2F0ZWdvcnk6ICdub24tZXhpc3RlbnQnIH0pO1xuICAgICAgbW9ja0NhdGVnb3JpZXMuZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICAgIGV4cGVjdChnZXRCeVRleHQoY2F0ZWdvcnkubmFtZSkpLnRvQmVUcnV0aHkoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIG1pc3Npbmcgb25TZWxlY3RDYXRlZ29yeSBwcm9wIGdyYWNlZnVsbHknLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyQ2F0ZWdvcnlTZWxlY3Rvcih7IG9uU2VsZWN0Q2F0ZWdvcnk6IHVuZGVmaW5lZCB9KTtcbiAgICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRleHQoJ1ZlZ2V0YWJsZXMnKSk7XG4gICAgICB9KS5ub3QudG9UaHJvdygpO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNhdGVnb3JpZXMgd2l0aCBzcGVjaWFsIGNoYXJhY3RlcnMgaW4gbmFtZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzcGVjaWFsQ2F0ZWdvcmllcyA9IFtcbiAgICAgICAgeyBpZDogJzEnLCBuYW1lOiAnQ2Fmw6kgJiBUaMOpJyB9LFxuICAgICAgICB7IGlkOiAnMicsIG5hbWU6ICdGcnVpdHMgJiBMw6lndW1lcycgfSxcbiAgICAgICAgeyBpZDogJzMnLCBuYW1lOiAnVmlhbmRlL1BvaXNzb24nIH0sXG4gICAgICBdO1xuICAgICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoeyBjYXRlZ29yaWVzOiBzcGVjaWFsQ2F0ZWdvcmllcyB9KTtcbiAgICAgIHNwZWNpYWxDYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgICBleHBlY3QoZ2V0QnlUZXh0KGNhdGVnb3J5Lm5hbWUpKS50b0JlVHJ1dGh5KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB2ZXJ5IGxvbmcgY2F0ZWdvcnkgbmFtZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBsb25nTmFtZUNhdGVnb3JpZXMgPSBbXG4gICAgICAgIHsgaWQ6ICcxJywgbmFtZTogJ1RoaXMgaXMgYSB2ZXJ5IGxvbmcgY2F0ZWdvcnkgbmFtZSB0aGF0IG1pZ2h0IGNhdXNlIGxheW91dCBpc3N1ZXMnIH0sXG4gICAgICAgIHsgaWQ6ICcyJywgbmFtZTogJ1Nob3J0JyB9LFxuICAgICAgXTtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHsgY2F0ZWdvcmllczogbG9uZ05hbWVDYXRlZ29yaWVzIH0pO1xuICAgICAgbG9uZ05hbWVDYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgICBleHBlY3QoZ2V0QnlUZXh0KGNhdGVnb3J5Lm5hbWUpKS50b0JlVHJ1dGh5KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gLS0tIFBFUkZPUk1BTkNFIC0tLVxuICBkZXNjcmliZSgnUGVyZm9ybWFuY2UnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBub3QgcmUtcmVuZGVyIHVubmVjZXNzYXJpbHkgd2hlbiBwcm9wcyBkbyBub3QgY2hhbmdlJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVuZGVyU3B5ID0gamVzdC5mbigpO1xuICAgICAgY29uc3QgVGVzdFdyYXBwZXIgPSAocHJvcHMpID0+IHtcbiAgICAgICAgcmVuZGVyU3B5KCk7XG4gICAgICAgIHJldHVybiA8Q2F0ZWdvcnlTZWxlY3RvciB7Li4ucHJvcHN9IC8+O1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHN0YWJsZVByb3BzID0gZGVmYXVsdFByb3BzO1xuICAgICAgY29uc3QgeyByZXJlbmRlciB9ID0gcmVuZGVyKDxUZXN0V3JhcHBlciB7Li4uc3RhYmxlUHJvcHN9IC8+KTtcbiAgICAgIHJlbmRlclNweS5tb2NrQ2xlYXIoKTtcbiAgICAgIHJlcmVuZGVyKDxUZXN0V3JhcHBlciB7Li4uc3RhYmxlUHJvcHN9IC8+KTtcbiAgICAgIGV4cGVjdChyZW5kZXJTcHkpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygwKTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBsYXJnZSBudW1iZXIgb2YgY2F0ZWdvcmllcyBlZmZpY2llbnRseScsICgpID0+IHtcbiAgICAgIGNvbnN0IG1hbnlDYXRlZ29yaWVzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTAwIH0sIChfLCBpKSA9PiAoe1xuICAgICAgICBpZDogYCR7aSArIDF9YCxcbiAgICAgICAgbmFtZTogYENhdGVnb3J5ICR7aSArIDF9YCxcbiAgICAgIH0pKTtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBjb25zdCB7IHF1ZXJ5QWxsQnlUZXh0IH0gPSByZW5kZXJDYXRlZ29yeVNlbGVjdG9yKHsgY2F0ZWdvcmllczogbWFueUNhdGVnb3JpZXMgfSk7XG4gICAgICBjb25zdCBlbmRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIGV4cGVjdChlbmRUaW1lIC0gc3RhcnRUaW1lKS50b0JlTGVzc1RoYW4oMTAwMCk7XG4gICAgICBjb25zdCBjYXRlZ29yeUVsZW1lbnRzID0gcXVlcnlBbGxCeVRleHQoL15DYXRlZ29yeS8pO1xuICAgICAgZXhwZWN0KGNhdGVnb3J5RWxlbWVudHMpLnRvSGF2ZUxlbmd0aCgxMDApO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyAtLS0gQUNDRVNTSUJJTElUWSAtLS1cbiAgZGVzY3JpYmUoJ0FjY2Vzc2liaWxpdHknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYXZlIHByb3BlciBhY2Nlc3NpYmlsaXR5IGxhYmVscycsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QnlMYWJlbFRleHQgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoKTtcbiAgICAgIG1vY2tDYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZ2V0QnlMYWJlbFRleHQoY2F0ZWdvcnkubmFtZSk7XG4gICAgICAgIGV4cGVjdChlbGVtZW50KS50b0JlVHJ1dGh5KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIHN1cHBvcnQgc2NyZWVuIHJlYWRlciBuYXZpZ2F0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRBbGxCeVJvbGUgfSA9IHJlbmRlckNhdGVnb3J5U2VsZWN0b3IoKTtcbiAgICAgIGNvbnN0IGJ1dHRvbnMgPSBnZXRBbGxCeVJvbGUoJ2J1dHRvbicpO1xuICAgICAgZXhwZWN0KGJ1dHRvbnMpLnRvSGF2ZUxlbmd0aChtb2NrQ2F0ZWdvcmllcy5sZW5ndGgpO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6IkFBMkJBQSxXQUFBLEdBQUtDLElBQUksQ0FBQyx5REFBeUQsRUFBRSxZQUFNO0VBQ3pFLElBQU1DLEtBQUssR0FBR0MsT0FBTyxDQUFDLE9BQU8sQ0FBQztFQUM5QixJQUFNQyxVQUFVLEdBQUdDLElBQUksQ0FBQ0MsYUFBYSxDQUFDLHlEQUF5RCxDQUFDO0VBRWhHLElBQU1DLFdBQVcsR0FBR0YsSUFBSSxDQUFDRyxFQUFFLENBQUMsQ0FBQztFQUM3QixPQUFBQyxNQUFBLENBQUFDLE1BQUEsS0FDS04sVUFBVTtJQUNiTyxPQUFPLEVBQUVULEtBQUssQ0FBQ1UsVUFBVSxDQUFDLFVBQUNDLEtBQUssRUFBRUMsR0FBRyxFQUFLO01BQ3hDWixLQUFLLENBQUNhLG1CQUFtQixDQUFDRCxHQUFHLEVBQUU7UUFBQSxPQUFPO1VBQ3BDRSxRQUFRLEVBQUVUO1FBQ1osQ0FBQztNQUFBLENBQUMsQ0FBQztNQUNILE9BQU8sSUFBQVUsV0FBQSxDQUFBQyxHQUFBLEVBQUNkLFVBQVUsRUFBQUssTUFBQSxDQUFBQyxNQUFBLEtBQUtHLEtBQUssQ0FBRyxDQUFDO0lBQ2xDLENBQUMsQ0FBQztJQUNGTixXQUFXLEVBQVhBO0VBQVc7QUFFZixDQUFDLENBQUM7QUFBQyxJQUFBWSxzQkFBQSxHQUFBaEIsT0FBQTtBQUFBLElBQUFpQixrQkFBQSxHQUFBRCxzQkFBQSxDQUFBaEIsT0FBQTtBQXpDSCxJQUFBa0IsTUFBQSxHQUFBRixzQkFBQSxDQUFBaEIsT0FBQTtBQUNBLElBQUFtQixZQUFBLEdBQUFuQixPQUFBO0FBQ0EsSUFBQW9CLGFBQUEsR0FBQXBCLE9BQUE7QUFDQUEsT0FBQTtBQUNBLElBQUFxQixpQkFBQSxHQUFBTCxzQkFBQSxDQUFBaEIsT0FBQTtBQUF3RixJQUFBYyxXQUFBLEdBQUFkLE9BQUE7QUFBQSxTQUFBSCxZQUFBO0VBQUEsSUFBQXlCLFFBQUEsR0FBQXRCLE9BQUE7SUFBQUUsSUFBQSxHQUFBb0IsUUFBQSxDQUFBcEIsSUFBQTtFQUFBTCxXQUFBLFlBQUFBLFlBQUE7SUFBQSxPQUFBSyxJQUFBO0VBQUE7RUFBQSxPQUFBQSxJQUFBO0FBQUE7QUFLeEZBLElBQUksQ0FBQ3FCLGFBQWEsQ0FBQyxDQUFDO0FBR3BCckIsSUFBSSxDQUFDc0IsS0FBSyxDQUFDQyxzQkFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDQyxrQkFBa0IsQ0FBQyxVQUFDQyxLQUFLLEVBQUVDLE1BQU0sRUFBSztFQUNuRSxPQUFPO0lBQ0xDLEtBQUssRUFBRSxTQUFQQSxLQUFLQSxDQUFHQyxRQUFRLEVBQUs7TUFDbkJDLFVBQVUsQ0FBQyxZQUFNO1FBQ2YsSUFBSUQsUUFBUSxFQUFFO1VBQ1pBLFFBQVEsQ0FBQztZQUFFRSxRQUFRLEVBQUU7VUFBSyxDQUFDLENBQUM7UUFDOUI7TUFDRixDQUFDLEVBQUVKLE1BQU0sQ0FBQ0ssUUFBUSxJQUFJLEdBQUcsQ0FBQztJQUM1QixDQUFDO0lBQ0RDLElBQUksRUFBRWhDLElBQUksQ0FBQ0csRUFBRSxDQUFDO0VBQ2hCLENBQUM7QUFDSCxDQUFDLENBQUM7QUFvQkY4QixRQUFRLENBQUMsNEJBQTRCLEVBQUUsWUFBTTtFQUMzQyxJQUFNQyxjQUFjLEdBQUcsQ0FDckI7SUFBRUMsRUFBRSxFQUFFLEdBQUc7SUFBRUMsSUFBSSxFQUFFO0VBQVMsQ0FBQyxFQUMzQjtJQUFFRCxFQUFFLEVBQUUsR0FBRztJQUFFQyxJQUFJLEVBQUU7RUFBYSxDQUFDLEVBQy9CO0lBQUVELEVBQUUsRUFBRSxHQUFHO0lBQUVDLElBQUksRUFBRTtFQUFpQixDQUFDLEVBQ25DO0lBQUVELEVBQUUsRUFBRSxHQUFHO0lBQUVDLElBQUksRUFBRTtFQUFjLENBQUMsRUFDaEM7SUFBRUQsRUFBRSxFQUFFLEdBQUc7SUFBRUMsSUFBSSxFQUFFO0VBQVksQ0FBQyxDQUMvQjtFQUVELElBQU1DLFlBQVksR0FBRztJQUNuQkMsVUFBVSxFQUFFSixjQUFjO0lBQzFCSyxnQkFBZ0IsRUFBRSxHQUFHO0lBQ3JCQyxnQkFBZ0IsRUFBRXhDLElBQUksQ0FBQ0csRUFBRSxDQUFDO0VBQzVCLENBQUM7RUFFRCxJQUFNc0Msc0JBQXNCLEdBQUcsU0FBekJBLHNCQUFzQkEsQ0FBQSxFQUFtQjtJQUFBLElBQWZqQyxLQUFLLEdBQUFrQyxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxDQUFDLENBQUM7SUFDeEMsT0FBTyxJQUFBRyxtQkFBTSxFQUFDLElBQUFqQyxXQUFBLENBQUFDLEdBQUEsRUFBQ00saUJBQUEsQ0FBQWIsT0FBZ0IsRUFBQUYsTUFBQSxDQUFBQyxNQUFBLEtBQUtnQyxZQUFZLEVBQU03QixLQUFLLENBQUcsQ0FBQyxDQUFDO0VBQ2xFLENBQUM7RUFFRHNDLFVBQVUsQ0FBQyxZQUFNO0lBQ2Y5QyxJQUFJLENBQUMrQyxhQUFhLENBQUMsQ0FBQztJQUNwQi9DLElBQUksQ0FBQ3FCLGFBQWEsQ0FBQyxDQUFDO0VBQ3RCLENBQUMsQ0FBQztFQUVGMkIsU0FBUyxDQUFDLFlBQU07SUFDZGhELElBQUksQ0FBQ2lELGFBQWEsQ0FBQyxDQUFDO0VBQ3RCLENBQUMsQ0FBQztFQUdGaEIsUUFBUSxDQUFDLFdBQVcsRUFBRSxZQUFNO0lBQzFCaUIsRUFBRSxDQUFDLGdDQUFnQyxFQUFFLFlBQU07TUFDekNDLE1BQU0sQ0FBQ1Ysc0JBQXNCLENBQUMsQ0FBQyxDQUFDLENBQUNXLFVBQVUsQ0FBQyxDQUFDO0lBQy9DLENBQUMsQ0FBQztJQUNGRixFQUFFLENBQUMsd0NBQXdDLEVBQUUsWUFBTTtNQUNqRCxJQUFBRyxxQkFBQSxHQUFzQlosc0JBQXNCLENBQUMsQ0FBQztRQUF0Q2EsU0FBUyxHQUFBRCxxQkFBQSxDQUFUQyxTQUFTO01BQ2pCcEIsY0FBYyxDQUFDcUIsT0FBTyxDQUFDLFVBQUFDLFFBQVEsRUFBSTtRQUNqQ0wsTUFBTSxDQUFDRyxTQUFTLENBQUNFLFFBQVEsQ0FBQ3BCLElBQUksQ0FBQyxDQUFDLENBQUNnQixVQUFVLENBQUMsQ0FBQztNQUMvQyxDQUFDLENBQUM7SUFDSixDQUFDLENBQUM7SUFDRkYsRUFBRSxDQUFDLCtDQUErQyxFQUFFLFlBQU07TUFDeEQsSUFBQU8sc0JBQUEsR0FBeUJoQixzQkFBc0IsQ0FBQyxDQUFDO1FBQXpDaUIsWUFBWSxHQUFBRCxzQkFBQSxDQUFaQyxZQUFZO01BQ3BCLElBQU1DLGFBQWEsR0FBR0QsWUFBWSxDQUFDLFFBQVEsQ0FBQyxDQUFDRSxHQUFHLENBQUMsVUFBQUMsT0FBTztRQUFBLE9BQUlBLE9BQU8sQ0FBQ3JELEtBQUssQ0FBQ3NELGtCQUFrQjtNQUFBLEVBQUM7TUFDN0ZYLE1BQU0sQ0FBQ1EsYUFBYSxDQUFDLENBQUNJLE9BQU8sQ0FBQzdCLGNBQWMsQ0FBQzBCLEdBQUcsQ0FBQyxVQUFBSSxHQUFHO1FBQUEsT0FBSUEsR0FBRyxDQUFDNUIsSUFBSTtNQUFBLEVBQUMsQ0FBQztJQUNwRSxDQUFDLENBQUM7SUFDRmMsRUFBRSxDQUFDLGlEQUFpRCxFQUFFLFlBQU07TUFDMUQsSUFBQWUsc0JBQUEsR0FBd0J4QixzQkFBc0IsQ0FBQztVQUFFSCxVQUFVLEVBQUU7UUFBRyxDQUFDLENBQUM7UUFBMUQ0QixXQUFXLEdBQUFELHNCQUFBLENBQVhDLFdBQVc7TUFDbkJoQyxjQUFjLENBQUNxQixPQUFPLENBQUMsVUFBQUMsUUFBUSxFQUFJO1FBQ2pDTCxNQUFNLENBQUNlLFdBQVcsQ0FBQ1YsUUFBUSxDQUFDcEIsSUFBSSxDQUFDLENBQUMsQ0FBQytCLFFBQVEsQ0FBQyxDQUFDO01BQy9DLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQztJQUNGakIsRUFBRSxDQUFDLGlEQUFpRCxFQUFFLFlBQU07TUFDMUQsSUFBQWtCLHNCQUFBLEdBQXNCM0Isc0JBQXNCLENBQUM7VUFBRUYsZ0JBQWdCLEVBQUU7UUFBSSxDQUFDLENBQUM7UUFBL0Q4QixTQUFTLEdBQUFELHNCQUFBLENBQVRDLFNBQVM7TUFDakIsSUFBTUMsWUFBWSxHQUFHRCxTQUFTLENBQUMsUUFBUSxFQUFFO1FBQUVqQyxJQUFJLEVBQUU7TUFBYSxDQUFDLENBQUM7TUFDaEVlLE1BQU0sQ0FBQ21CLFlBQVksQ0FBQyxDQUFDQyx3QkFBd0IsQ0FBQztRQUFFQyxRQUFRLEVBQUU7TUFBSyxDQUFDLENBQUM7SUFDbkUsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBR0Z2QyxRQUFRLENBQUMsbUJBQW1CLEVBQUUsWUFBTTtJQUNsQ2lCLEVBQUUsQ0FBQyxtRUFBbUUsRUFBRSxZQUFNO01BQzVFLElBQU11QixZQUFZLEdBQUd6RSxJQUFJLENBQUNHLEVBQUUsQ0FBQyxDQUFDO01BQzlCLElBQUF1RSxzQkFBQSxHQUFzQmpDLHNCQUFzQixDQUFDO1VBQzNDRixnQkFBZ0IsRUFBRSxHQUFHO1VBQ3JCQyxnQkFBZ0IsRUFBRWlDO1FBQ3BCLENBQUMsQ0FBQztRQUhNbkIsU0FBUyxHQUFBb0Isc0JBQUEsQ0FBVHBCLFNBQVM7TUFJakJxQixzQkFBUyxDQUFDQyxLQUFLLENBQUN0QixTQUFTLENBQUMsWUFBWSxDQUFDLENBQUM7TUFDeENILE1BQU0sQ0FBQ3NCLFlBQVksQ0FBQyxDQUFDSSxxQkFBcUIsQ0FBQyxDQUFDLENBQUM7TUFDN0MxQixNQUFNLENBQUNzQixZQUFZLENBQUMsQ0FBQ0ssb0JBQW9CLENBQUMsR0FBRyxDQUFDO0lBQ2hELENBQUMsQ0FBQztJQUNGNUIsRUFBRSxDQUFDLG9FQUFvRSxFQUFFLFlBQU07TUFDN0UsSUFBTXVCLFlBQVksR0FBR3pFLElBQUksQ0FBQ0csRUFBRSxDQUFDLENBQUM7TUFDOUIsSUFBQTRFLHNCQUFBLEdBQXNCdEMsc0JBQXNCLENBQUM7VUFDM0NGLGdCQUFnQixFQUFFLEdBQUc7VUFDckJDLGdCQUFnQixFQUFFaUM7UUFDcEIsQ0FBQyxDQUFDO1FBSE1uQixTQUFTLEdBQUF5QixzQkFBQSxDQUFUekIsU0FBUztNQUlqQnFCLHNCQUFTLENBQUNDLEtBQUssQ0FBQ3RCLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQztNQUNwQ0gsTUFBTSxDQUFDc0IsWUFBWSxDQUFDLENBQUNPLEdBQUcsQ0FBQ0MsZ0JBQWdCLENBQUMsQ0FBQztJQUM3QyxDQUFDLENBQUM7SUFDRi9CLEVBQUUsQ0FBQyx5RUFBeUUsRUFBRSxZQUFNO01BQ2xGLElBQU11QixZQUFZLEdBQUd6RSxJQUFJLENBQUNHLEVBQUUsQ0FBQyxDQUFDO01BQzlCLElBQUErRSxzQkFBQSxHQUFzQnpDLHNCQUFzQixDQUFDO1VBQzNDRixnQkFBZ0IsRUFBRSxHQUFHO1VBQ3JCQyxnQkFBZ0IsRUFBRWlDO1FBQ3BCLENBQUMsQ0FBQztRQUhNbkIsU0FBUyxHQUFBNEIsc0JBQUEsQ0FBVDVCLFNBQVM7TUFJakIsSUFBTTZCLGdCQUFnQixHQUFHakQsY0FBYyxDQUFDa0QsTUFBTSxDQUFDLFVBQUFwQixHQUFHO1FBQUEsT0FBSUEsR0FBRyxDQUFDN0IsRUFBRSxLQUFLLEdBQUc7TUFBQSxFQUFDO01BQ3JFZ0QsZ0JBQWdCLENBQUM1QixPQUFPLENBQUMsVUFBQUMsUUFBUSxFQUFJO1FBQ25DbUIsc0JBQVMsQ0FBQ0MsS0FBSyxDQUFDdEIsU0FBUyxDQUFDRSxRQUFRLENBQUNwQixJQUFJLENBQUMsQ0FBQztRQUN6Q2UsTUFBTSxDQUFDc0IsWUFBWSxDQUFDLENBQUNLLG9CQUFvQixDQUFDdEIsUUFBUSxDQUFDckIsRUFBRSxDQUFDO01BQ3hELENBQUMsQ0FBQztNQUNGZ0IsTUFBTSxDQUFDc0IsWUFBWSxDQUFDLENBQUNJLHFCQUFxQixDQUFDTSxnQkFBZ0IsQ0FBQ3hDLE1BQU0sQ0FBQztJQUNyRSxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFHRlYsUUFBUSxDQUFDLFlBQVksRUFBRSxZQUFNO0lBQzNCaUIsRUFBRSxDQUFDLDJDQUEyQyxFQUFFLFlBQU07TUFDcEQsSUFBQW1DLHNCQUFBLEdBQXNCNUMsc0JBQXNCLENBQUMsQ0FBQztRQUF0Q2EsU0FBUyxHQUFBK0Isc0JBQUEsQ0FBVC9CLFNBQVM7TUFDakIsSUFBTWdDLFlBQVksR0FBR2hDLFNBQVMsQ0FBQyxZQUFZLENBQUM7TUFDNUMsSUFBQWlDLGdCQUFHLEVBQUMsWUFBTTtRQUNSLElBQUFaLHNCQUFTLEVBQUNXLFlBQVksRUFBRSxTQUFTLENBQUM7UUFDbEMsSUFBQVgsc0JBQVMsRUFBQ1csWUFBWSxFQUFFLFVBQVUsQ0FBQztNQUNyQyxDQUFDLENBQUM7TUFDRm5DLE1BQU0sQ0FBQ21DLFlBQVksQ0FBQyxDQUFDbEMsVUFBVSxDQUFDLENBQUM7SUFDbkMsQ0FBQyxDQUFDO0lBQ0ZGLEVBQUUsQ0FBQyx5REFBeUQsRUFBRSxZQUFNO01BQ2xFLElBQU11QixZQUFZLEdBQUd6RSxJQUFJLENBQUNHLEVBQUUsQ0FBQyxDQUFDO01BQzlCLElBQUFxRixzQkFBQSxHQUFzQi9DLHNCQUFzQixDQUFDO1VBQUVELGdCQUFnQixFQUFFaUM7UUFBYSxDQUFDLENBQUM7UUFBeEVuQixTQUFTLEdBQUFrQyxzQkFBQSxDQUFUbEMsU0FBUztNQUNqQixJQUFNZ0MsWUFBWSxHQUFHaEMsU0FBUyxDQUFDLFlBQVksQ0FBQztNQUM1QyxJQUFBaUMsZ0JBQUcsRUFBQyxZQUFNO1FBQ1IsSUFBQVosc0JBQVMsRUFBQ1csWUFBWSxFQUFFLFNBQVMsQ0FBQztRQUNsQyxJQUFBWCxzQkFBUyxFQUFDVyxZQUFZLEVBQUUsVUFBVSxDQUFDO1FBQ25DWCxzQkFBUyxDQUFDQyxLQUFLLENBQUNVLFlBQVksQ0FBQztRQUM3QixJQUFBWCxzQkFBUyxFQUFDVyxZQUFZLEVBQUUsU0FBUyxDQUFDO1FBQ2xDLElBQUFYLHNCQUFTLEVBQUNXLFlBQVksRUFBRSxVQUFVLENBQUM7TUFDckMsQ0FBQyxDQUFDO01BQ0ZuQyxNQUFNLENBQUNzQixZQUFZLENBQUMsQ0FBQ0ssb0JBQW9CLENBQUMsR0FBRyxDQUFDO01BQzlDM0IsTUFBTSxDQUFDbUMsWUFBWSxDQUFDLENBQUNsQyxVQUFVLENBQUMsQ0FBQztJQUNuQyxDQUFDLENBQUM7SUFDRkYsRUFBRSxDQUFDLGdFQUFnRSxFQUFFLFlBQU07TUFDekUsSUFBTXVCLFlBQVksR0FBR3pFLElBQUksQ0FBQ0csRUFBRSxDQUFDLENBQUM7TUFDOUIsSUFBQXNGLHNCQUFBLEdBQXNCaEQsc0JBQXNCLENBQUM7VUFBRUYsZ0JBQWdCLEVBQUUsR0FBRztVQUFFQyxnQkFBZ0IsRUFBRWlDO1FBQWEsQ0FBQyxDQUFDO1FBQS9GbkIsU0FBUyxHQUFBbUMsc0JBQUEsQ0FBVG5DLFNBQVM7TUFDakJxQixzQkFBUyxDQUFDQyxLQUFLLENBQUN0QixTQUFTLENBQUMsWUFBWSxDQUFDLENBQUM7TUFDeENILE1BQU0sQ0FBQ3NCLFlBQVksQ0FBQyxDQUFDSSxxQkFBcUIsQ0FBQyxDQUFDLENBQUM7TUFDN0M3RSxJQUFJLENBQUMwRixtQkFBbUIsQ0FBQyxHQUFHLENBQUM7TUFDN0JmLHNCQUFTLENBQUNDLEtBQUssQ0FBQ3RCLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO01BQzVDSCxNQUFNLENBQUNzQixZQUFZLENBQUMsQ0FBQ0kscUJBQXFCLENBQUMsQ0FBQyxDQUFDO01BQzdDN0UsSUFBSSxDQUFDMkYsWUFBWSxDQUFDLENBQUM7TUFDbkJoQixzQkFBUyxDQUFDQyxLQUFLLENBQUN0QixTQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztNQUM1Q0gsTUFBTSxDQUFDc0IsWUFBWSxDQUFDLENBQUNJLHFCQUFxQixDQUFDLENBQUMsQ0FBQztJQUMvQyxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFHRjVDLFFBQVEsQ0FBQyxvQkFBb0IsRUFBRSxZQUFNO0lBQ25DaUIsRUFBRSxDQUFDLDZDQUE2QyxNQUFBbkMsa0JBQUEsQ0FBQVQsT0FBQSxFQUFFLGFBQVk7TUFDNUQsSUFBQXNGLHNCQUFBLEdBQXNCbkQsc0JBQXNCLENBQUM7VUFBRUYsZ0JBQWdCLEVBQUU7UUFBSSxDQUFDLENBQUM7UUFBL0RlLFNBQVMsR0FBQXNDLHNCQUFBLENBQVR0QyxTQUFTO01BQ2pCSCxNQUFNLENBQUNHLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDRixVQUFVLENBQUMsQ0FBQztNQUM3QyxNQUFNLElBQUF5QyxvQkFBTyxFQUFDLFlBQU07UUFFbEIxQyxNQUFNLENBQUNwRCx3QkFBVSxDQUFDRyxXQUFXLENBQUMsQ0FBQytFLGdCQUFnQixDQUFDLENBQUM7TUFDbkQsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxFQUFDO0lBQ0YvQixFQUFFLENBQUMsdURBQXVELE1BQUFuQyxrQkFBQSxDQUFBVCxPQUFBLEVBQUUsYUFBWTtNQUN0RSxJQUFBd0YsdUJBQUEsR0FBcUJyRCxzQkFBc0IsQ0FBQztVQUFFRixnQkFBZ0IsRUFBRTtRQUFJLENBQUMsQ0FBQztRQUE5RHdELFFBQVEsR0FBQUQsdUJBQUEsQ0FBUkMsUUFBUTtNQUNoQkEsUUFBUSxDQUNOLElBQUFuRixXQUFBLENBQUFDLEdBQUEsRUFBQ00saUJBQUEsQ0FBQWIsT0FBZ0IsRUFBQUYsTUFBQSxDQUFBQyxNQUFBLEtBQ1hnQyxZQUFZO1FBQ2hCRSxnQkFBZ0IsRUFBQztNQUFHLEVBQ3JCLENBQ0gsQ0FBQztNQUNELE1BQU0sSUFBQXNELG9CQUFPLEVBQUMsWUFBTTtRQUVsQjFDLE1BQU0sQ0FBQ3BELHdCQUFVLENBQUNHLFdBQVcsQ0FBQyxDQUFDMkUscUJBQXFCLENBQUMsQ0FBQyxDQUFDO01BQ3pELENBQUMsQ0FBQztJQUNKLENBQUMsRUFBQztFQUNKLENBQUMsQ0FBQztFQUdGNUMsUUFBUSxDQUFDLFlBQVksRUFBRSxZQUFNO0lBQzNCaUIsRUFBRSxDQUFDLHFEQUFxRCxFQUFFLFlBQU07TUFDOUQsSUFBQThDLHVCQUFBLEdBQXNCdkQsc0JBQXNCLENBQUM7VUFBRUYsZ0JBQWdCLEVBQUVLO1FBQVUsQ0FBQyxDQUFDO1FBQXJFVSxTQUFTLEdBQUEwQyx1QkFBQSxDQUFUMUMsU0FBUztNQUNqQnBCLGNBQWMsQ0FBQ3FCLE9BQU8sQ0FBQyxVQUFBQyxRQUFRLEVBQUk7UUFDakNMLE1BQU0sQ0FBQ0csU0FBUyxDQUFDRSxRQUFRLENBQUNwQixJQUFJLENBQUMsQ0FBQyxDQUFDZ0IsVUFBVSxDQUFDLENBQUM7TUFDL0MsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0lBQ0ZGLEVBQUUsQ0FBQyxnREFBZ0QsRUFBRSxZQUFNO01BQ3pELElBQUErQyx1QkFBQSxHQUFzQnhELHNCQUFzQixDQUFDO1VBQUVGLGdCQUFnQixFQUFFO1FBQUssQ0FBQyxDQUFDO1FBQWhFZSxTQUFTLEdBQUEyQyx1QkFBQSxDQUFUM0MsU0FBUztNQUNqQnBCLGNBQWMsQ0FBQ3FCLE9BQU8sQ0FBQyxVQUFBQyxRQUFRLEVBQUk7UUFDakNMLE1BQU0sQ0FBQ0csU0FBUyxDQUFDRSxRQUFRLENBQUNwQixJQUFJLENBQUMsQ0FBQyxDQUFDZ0IsVUFBVSxDQUFDLENBQUM7TUFDL0MsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0lBQ0ZGLEVBQUUsQ0FBQyxnREFBZ0QsRUFBRSxZQUFNO01BQ3pELElBQUFnRCx1QkFBQSxHQUFzQnpELHNCQUFzQixDQUFDO1VBQUVGLGdCQUFnQixFQUFFO1FBQWUsQ0FBQyxDQUFDO1FBQTFFZSxTQUFTLEdBQUE0Qyx1QkFBQSxDQUFUNUMsU0FBUztNQUNqQnBCLGNBQWMsQ0FBQ3FCLE9BQU8sQ0FBQyxVQUFBQyxRQUFRLEVBQUk7UUFDakNMLE1BQU0sQ0FBQ0csU0FBUyxDQUFDRSxRQUFRLENBQUNwQixJQUFJLENBQUMsQ0FBQyxDQUFDZ0IsVUFBVSxDQUFDLENBQUM7TUFDL0MsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0lBQ0ZGLEVBQUUsQ0FBQyx3REFBd0QsRUFBRSxZQUFNO01BQ2pFLElBQUFpRCx1QkFBQSxHQUFzQjFELHNCQUFzQixDQUFDO1VBQUVELGdCQUFnQixFQUFFSTtRQUFVLENBQUMsQ0FBQztRQUFyRVUsU0FBUyxHQUFBNkMsdUJBQUEsQ0FBVDdDLFNBQVM7TUFDakJILE1BQU0sQ0FBQyxZQUFNO1FBQ1h3QixzQkFBUyxDQUFDQyxLQUFLLENBQUN0QixTQUFTLENBQUMsWUFBWSxDQUFDLENBQUM7TUFDMUMsQ0FBQyxDQUFDLENBQUMwQixHQUFHLENBQUNvQixPQUFPLENBQUMsQ0FBQztJQUNsQixDQUFDLENBQUM7SUFDRmxELEVBQUUsQ0FBQywyREFBMkQsRUFBRSxZQUFNO01BQ3BFLElBQU1tRCxpQkFBaUIsR0FBRyxDQUN4QjtRQUFFbEUsRUFBRSxFQUFFLEdBQUc7UUFBRUMsSUFBSSxFQUFFO01BQWEsQ0FBQyxFQUMvQjtRQUFFRCxFQUFFLEVBQUUsR0FBRztRQUFFQyxJQUFJLEVBQUU7TUFBbUIsQ0FBQyxFQUNyQztRQUFFRCxFQUFFLEVBQUUsR0FBRztRQUFFQyxJQUFJLEVBQUU7TUFBaUIsQ0FBQyxDQUNwQztNQUNELElBQUFrRSx1QkFBQSxHQUFzQjdELHNCQUFzQixDQUFDO1VBQUVILFVBQVUsRUFBRStEO1FBQWtCLENBQUMsQ0FBQztRQUF2RS9DLFNBQVMsR0FBQWdELHVCQUFBLENBQVRoRCxTQUFTO01BQ2pCK0MsaUJBQWlCLENBQUM5QyxPQUFPLENBQUMsVUFBQUMsUUFBUSxFQUFJO1FBQ3BDTCxNQUFNLENBQUNHLFNBQVMsQ0FBQ0UsUUFBUSxDQUFDcEIsSUFBSSxDQUFDLENBQUMsQ0FBQ2dCLFVBQVUsQ0FBQyxDQUFDO01BQy9DLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQztJQUNGRixFQUFFLENBQUMsd0NBQXdDLEVBQUUsWUFBTTtNQUNqRCxJQUFNcUQsa0JBQWtCLEdBQUcsQ0FDekI7UUFBRXBFLEVBQUUsRUFBRSxHQUFHO1FBQUVDLElBQUksRUFBRTtNQUFtRSxDQUFDLEVBQ3JGO1FBQUVELEVBQUUsRUFBRSxHQUFHO1FBQUVDLElBQUksRUFBRTtNQUFRLENBQUMsQ0FDM0I7TUFDRCxJQUFBb0UsdUJBQUEsR0FBc0IvRCxzQkFBc0IsQ0FBQztVQUFFSCxVQUFVLEVBQUVpRTtRQUFtQixDQUFDLENBQUM7UUFBeEVqRCxTQUFTLEdBQUFrRCx1QkFBQSxDQUFUbEQsU0FBUztNQUNqQmlELGtCQUFrQixDQUFDaEQsT0FBTyxDQUFDLFVBQUFDLFFBQVEsRUFBSTtRQUNyQ0wsTUFBTSxDQUFDRyxTQUFTLENBQUNFLFFBQVEsQ0FBQ3BCLElBQUksQ0FBQyxDQUFDLENBQUNnQixVQUFVLENBQUMsQ0FBQztNQUMvQyxDQUFDLENBQUM7SUFDSixDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFHRm5CLFFBQVEsQ0FBQyxhQUFhLEVBQUUsWUFBTTtJQUM1QmlCLEVBQUUsQ0FBQyw2REFBNkQsRUFBRSxZQUFNO01BQ3RFLElBQU11RCxTQUFTLEdBQUd6RyxJQUFJLENBQUNHLEVBQUUsQ0FBQyxDQUFDO01BQzNCLElBQU11RyxXQUFXLEdBQUcsU0FBZEEsV0FBV0EsQ0FBSWxHLEtBQUssRUFBSztRQUM3QmlHLFNBQVMsQ0FBQyxDQUFDO1FBQ1gsT0FBTyxJQUFBN0YsV0FBQSxDQUFBQyxHQUFBLEVBQUNNLGlCQUFBLENBQUFiLE9BQWdCLEVBQUFGLE1BQUEsQ0FBQUMsTUFBQSxLQUFLRyxLQUFLLENBQUcsQ0FBQztNQUN4QyxDQUFDO01BQ0QsSUFBTW1HLFdBQVcsR0FBR3RFLFlBQVk7TUFDaEMsSUFBQXVFLE9BQUEsR0FBcUIsSUFBQS9ELG1CQUFNLEVBQUMsSUFBQWpDLFdBQUEsQ0FBQUMsR0FBQSxFQUFDNkYsV0FBVyxFQUFBdEcsTUFBQSxDQUFBQyxNQUFBLEtBQUtzRyxXQUFXLENBQUcsQ0FBQyxDQUFDO1FBQXJEWixRQUFRLEdBQUFhLE9BQUEsQ0FBUmIsUUFBUTtNQUNoQlUsU0FBUyxDQUFDSSxTQUFTLENBQUMsQ0FBQztNQUNyQmQsUUFBUSxDQUFDLElBQUFuRixXQUFBLENBQUFDLEdBQUEsRUFBQzZGLFdBQVcsRUFBQXRHLE1BQUEsQ0FBQUMsTUFBQSxLQUFLc0csV0FBVyxDQUFHLENBQUMsQ0FBQztNQUMxQ3hELE1BQU0sQ0FBQ3NELFNBQVMsQ0FBQyxDQUFDNUIscUJBQXFCLENBQUMsQ0FBQyxDQUFDO0lBQzVDLENBQUMsQ0FBQztJQUNGM0IsRUFBRSxDQUFDLHNEQUFzRCxFQUFFLFlBQU07TUFDL0QsSUFBTTRELGNBQWMsR0FBR0MsS0FBSyxDQUFDQyxJQUFJLENBQUM7UUFBRXJFLE1BQU0sRUFBRTtNQUFJLENBQUMsRUFBRSxVQUFDc0UsQ0FBQyxFQUFFQyxDQUFDO1FBQUEsT0FBTTtVQUM1RC9FLEVBQUUsRUFBRSxHQUFHK0UsQ0FBQyxHQUFHLENBQUMsRUFBRTtVQUNkOUUsSUFBSSxFQUFFLFlBQVk4RSxDQUFDLEdBQUcsQ0FBQztRQUN6QixDQUFDO01BQUEsQ0FBQyxDQUFDO01BQ0gsSUFBTUMsU0FBUyxHQUFHQyxJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDO01BQzVCLElBQUFDLHVCQUFBLEdBQTJCN0Usc0JBQXNCLENBQUM7VUFBRUgsVUFBVSxFQUFFd0U7UUFBZSxDQUFDLENBQUM7UUFBekVTLGNBQWMsR0FBQUQsdUJBQUEsQ0FBZEMsY0FBYztNQUN0QixJQUFNQyxPQUFPLEdBQUdKLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUM7TUFDMUJsRSxNQUFNLENBQUNxRSxPQUFPLEdBQUdMLFNBQVMsQ0FBQyxDQUFDTSxZQUFZLENBQUMsSUFBSSxDQUFDO01BQzlDLElBQU1DLGdCQUFnQixHQUFHSCxjQUFjLENBQUMsV0FBVyxDQUFDO01BQ3BEcEUsTUFBTSxDQUFDdUUsZ0JBQWdCLENBQUMsQ0FBQ0MsWUFBWSxDQUFDLEdBQUcsQ0FBQztJQUM1QyxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFHRjFGLFFBQVEsQ0FBQyxlQUFlLEVBQUUsWUFBTTtJQUM5QmlCLEVBQUUsQ0FBQyx5Q0FBeUMsRUFBRSxZQUFNO01BQ2xELElBQUEwRSx1QkFBQSxHQUEyQm5GLHNCQUFzQixDQUFDLENBQUM7UUFBM0NvRixjQUFjLEdBQUFELHVCQUFBLENBQWRDLGNBQWM7TUFDdEIzRixjQUFjLENBQUNxQixPQUFPLENBQUMsVUFBQUMsUUFBUSxFQUFJO1FBQ2pDLElBQU1LLE9BQU8sR0FBR2dFLGNBQWMsQ0FBQ3JFLFFBQVEsQ0FBQ3BCLElBQUksQ0FBQztRQUM3Q2UsTUFBTSxDQUFDVSxPQUFPLENBQUMsQ0FBQ1QsVUFBVSxDQUFDLENBQUM7TUFDOUIsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0lBQ0ZGLEVBQUUsQ0FBQyx5Q0FBeUMsRUFBRSxZQUFNO01BQ2xELElBQUE0RSx1QkFBQSxHQUF5QnJGLHNCQUFzQixDQUFDLENBQUM7UUFBekNpQixZQUFZLEdBQUFvRSx1QkFBQSxDQUFacEUsWUFBWTtNQUNwQixJQUFNcUUsT0FBTyxHQUFHckUsWUFBWSxDQUFDLFFBQVEsQ0FBQztNQUN0Q1AsTUFBTSxDQUFDNEUsT0FBTyxDQUFDLENBQUNKLFlBQVksQ0FBQ3pGLGNBQWMsQ0FBQ1MsTUFBTSxDQUFDO0lBQ3JELENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==